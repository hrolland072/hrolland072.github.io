(()=>{var VH=Object.defineProperty,KH=Object.defineProperties;var $H=Object.getOwnPropertyDescriptors;var ld=Object.getOwnPropertySymbols;var SE=Object.prototype.hasOwnProperty,TE=Object.prototype.propertyIsEnumerable;var OE=(Lo,Bo,wt)=>Bo in Lo?VH(Lo,Bo,{enumerable:!0,configurable:!0,writable:!0,value:wt}):Lo[Bo]=wt,ar=(Lo,Bo)=>{for(var wt in Bo||(Bo={}))SE.call(Bo,wt)&&OE(Lo,wt,Bo[wt]);if(ld)for(var wt of ld(Bo))TE.call(Bo,wt)&&OE(Lo,wt,Bo[wt]);return Lo},ko=(Lo,Bo)=>KH(Lo,$H(Bo));var gi=(Lo,Bo)=>{var wt={};for(var ia in Lo)SE.call(Lo,ia)&&Bo.indexOf(ia)<0&&(wt[ia]=Lo[ia]);if(Lo!=null&&ld)for(var ia of ld(Lo))Bo.indexOf(ia)<0&&TE.call(Lo,ia)&&(wt[ia]=Lo[ia]);return wt};var zH=(Lo,Bo)=>()=>(Bo||Lo((Bo={exports:{}}).exports,Bo),Bo.exports);var yu=(Lo,Bo,wt)=>new Promise((ia,z)=>{var l=f=>{try{o(wt.next(f))}catch(u){z(u)}},e=f=>{try{o(wt.throw(f))}catch(u){z(u)}},o=f=>f.done?ia(f.value):Promise.resolve(f.value).then(l,e);o((wt=wt.apply(Lo,Bo)).next())});var ZH=zH(Kh=>{(function(){try{var Lo=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},Bo=new Error().stack;Bo&&(Lo._sentryDebugIds=Lo._sentryDebugIds||{},Lo._sentryDebugIds[Bo]="d25954f9-ee01-4db9-b3c7-779e76284732",Lo._sentryDebugIdIdentifier="sentry-dbid-d25954f9-ee01-4db9-b3c7-779e76284732")}catch(wt){}})();var GH=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};GH.SENTRY_RELEASE={id:"substack@3b1224c"};(()=>{var Lo={28599:z=>{"use strict";const{AbortController:l,AbortSignal:e}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;z.exports=l,z.exports.AbortSignal=e,z.exports.default=l},21924:(z,l,e)=>{"use strict";var o=e(40210),f=e(55559),u=f(o("String.prototype.indexOf"));z.exports=function(_,g){var E=o(_,!!g);return typeof E=="function"&&u(_,".prototype.")>-1?f(E):E}},55559:(z,l,e)=>{"use strict";var o=e(58612),f=e(40210),u=f("%Function.prototype.apply%"),c=f("%Function.prototype.call%"),_=f("%Reflect.apply%",!0)||o.call(c,u),g=f("%Object.getOwnPropertyDescriptor%",!0),E=f("%Object.defineProperty%",!0),v=f("%Math.max%");if(E)try{E({},"a",{value:1})}catch(T){E=null}z.exports=function(w){var S=_(o,c,arguments);if(g&&E){var O=g(S,"length");O.configurable&&E(S,"length",{value:1+v(0,w.length-(arguments.length-1))})}return S};var y=function(){return _(o,u,arguments)};E?E(z.exports,"apply",{value:y}):z.exports.apply=y},94184:(z,l)=>{var e,o;/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){"use strict";var f={}.hasOwnProperty;function u(){for(var c=[],_=0;_<arguments.length;_++){var g=arguments[_];if(g){var E=typeof g;if(E==="string"||E==="number")c.push(g);else if(Array.isArray(g)){if(g.length){var v=u.apply(null,g);v&&c.push(v)}}else if(E==="object")if(g.toString===Object.prototype.toString)for(var y in g)f.call(g,y)&&g[y]&&c.push(y);else c.push(g.toString())}}return c.join(" ")}z.exports?(u.default=u,z.exports=u):(e=[],o=function(){return u}.apply(l,e),o!==void 0&&(z.exports=o))})()},98767:z=>{z.exports=l;function l(o){if(o)return e(o)}function e(o){for(var f in l.prototype)o[f]=l.prototype[f];return o}l.prototype.on=l.prototype.addEventListener=function(o,f){return this._callbacks=this._callbacks||{},(this._callbacks["$"+o]=this._callbacks["$"+o]||[]).push(f),this},l.prototype.once=function(o,f){function u(){this.off(o,u),f.apply(this,arguments)}return u.fn=f,this.on(o,u),this},l.prototype.off=l.prototype.removeListener=l.prototype.removeAllListeners=l.prototype.removeEventListener=function(o,f){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var u=this._callbacks["$"+o];if(!u)return this;if(arguments.length==1)return delete this._callbacks["$"+o],this;for(var c,_=0;_<u.length;_++)if(c=u[_],c===f||c.fn===f){u.splice(_,1);break}return u.length===0&&delete this._callbacks["$"+o],this},l.prototype.emit=function(o){this._callbacks=this._callbacks||{};for(var f=new Array(arguments.length-1),u=this._callbacks["$"+o],c=1;c<arguments.length;c++)f[c-1]=arguments[c];if(u){u=u.slice(0);for(var c=0,_=u.length;c<_;++c)u[c].apply(this,f)}return this},l.prototype.listeners=function(o){return this._callbacks=this._callbacks||{},this._callbacks["$"+o]||[]},l.prototype.hasListeners=function(o){return!!this.listeners(o).length}},27484:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";var l="millisecond",e="second",o="minute",f="hour",u="day",c="week",_="month",g="quarter",E="year",v="date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,T=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,w={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},S=function(I,N,F){var B=String(I);return!B||B.length>=N?I:""+Array(N+1-B.length).join(F)+I},O={s:S,z:function(I){var N=-I.utcOffset(),F=Math.abs(N),B=Math.floor(F/60),V=F%60;return(N<=0?"+":"-")+S(B,2,"0")+":"+S(V,2,"0")},m:function I(N,F){if(N.date()<F.date())return-I(F,N);var B=12*(F.year()-N.year())+(F.month()-N.month()),V=N.clone().add(B,_),Z=F-V<0,Y=N.clone().add(B+(Z?-1:1),_);return+(-(B+(F-V)/(Z?V-Y:Y-V))||0)},a:function(I){return I<0?Math.ceil(I)||0:Math.floor(I)},p:function(I){return{M:_,y:E,w:c,d:u,D:v,h:f,m:o,s:e,ms:l,Q:g}[I]||String(I||"").toLowerCase().replace(/s$/,"")},u:function(I){return I===void 0}},p="en",d={};d[p]=w;var a=function(I){return I instanceof A},P=function(I,N,F){var B;if(!I)return p;if(typeof I=="string")d[I]&&(B=I),N&&(d[I]=N,B=I);else{var V=I.name;d[V]=I,B=V}return!F&&B&&(p=B),B||!F&&p},C=function(I,N){if(a(I))return I.clone();var F=typeof N=="object"?N:{};return F.date=I,F.args=arguments,new A(F)},D=O;D.l=P,D.i=a,D.w=function(I,N){return C(I,{locale:N.$L,utc:N.$u,x:N.$x,$offset:N.$offset})};var A=function(){function I(F){this.$L=P(F.locale,null,!0),this.parse(F)}var N=I.prototype;return N.parse=function(F){this.$d=function(B){var V=B.date,Z=B.utc;if(V===null)return new Date(NaN);if(D.u(V))return new Date;if(V instanceof Date)return new Date(V);if(typeof V=="string"&&!/Z$/i.test(V)){var Y=V.match(y);if(Y){var ne=Y[2]-1||0,G=(Y[7]||"0").substring(0,3);return Z?new Date(Date.UTC(Y[1],ne,Y[3]||1,Y[4]||0,Y[5]||0,Y[6]||0,G)):new Date(Y[1],ne,Y[3]||1,Y[4]||0,Y[5]||0,Y[6]||0,G)}}return new Date(V)}(F),this.$x=F.x||{},this.init()},N.init=function(){var F=this.$d;this.$y=F.getFullYear(),this.$M=F.getMonth(),this.$D=F.getDate(),this.$W=F.getDay(),this.$H=F.getHours(),this.$m=F.getMinutes(),this.$s=F.getSeconds(),this.$ms=F.getMilliseconds()},N.$utils=function(){return D},N.isValid=function(){return this.$d.toString()!=="Invalid Date"},N.isSame=function(F,B){var V=C(F);return this.startOf(B)<=V&&V<=this.endOf(B)},N.isAfter=function(F,B){return C(F)<this.startOf(B)},N.isBefore=function(F,B){return this.endOf(B)<C(F)},N.$g=function(F,B,V){return D.u(F)?this[B]:this.set(V,F)},N.unix=function(){return Math.floor(this.valueOf()/1e3)},N.valueOf=function(){return this.$d.getTime()},N.startOf=function(F,B){var V=this,Z=!!D.u(B)||B,Y=D.p(F),ne=function(te,se){var ee=D.w(V.$u?Date.UTC(V.$y,se,te):new Date(V.$y,se,te),V);return Z?ee:ee.endOf(u)},G=function(te,se){return D.w(V.toDate()[te].apply(V.toDate("s"),(Z?[0,0,0,0]:[23,59,59,999]).slice(se)),V)},L=this.$W,W=this.$M,ie=this.$D,ue="set"+(this.$u?"UTC":"");switch(Y){case E:return Z?ne(1,0):ne(31,11);case _:return Z?ne(1,W):ne(0,W+1);case c:var le=this.$locale().weekStart||0,J=(L<le?L+7:L)-le;return ne(Z?ie-J:ie+(6-J),W);case u:case v:return G(ue+"Hours",0);case f:return G(ue+"Minutes",1);case o:return G(ue+"Seconds",2);case e:return G(ue+"Milliseconds",3);default:return this.clone()}},N.endOf=function(F){return this.startOf(F,!1)},N.$set=function(F,B){var V,Z=D.p(F),Y="set"+(this.$u?"UTC":""),ne=(V={},V[u]=Y+"Date",V[v]=Y+"Date",V[_]=Y+"Month",V[E]=Y+"FullYear",V[f]=Y+"Hours",V[o]=Y+"Minutes",V[e]=Y+"Seconds",V[l]=Y+"Milliseconds",V)[Z],G=Z===u?this.$D+(B-this.$W):B;if(Z===_||Z===E){var L=this.clone().set(v,1);L.$d[ne](G),L.init(),this.$d=L.set(v,Math.min(this.$D,L.daysInMonth())).$d}else ne&&this.$d[ne](G);return this.init(),this},N.set=function(F,B){return this.clone().$set(F,B)},N.get=function(F){return this[D.p(F)]()},N.add=function(F,B){var V,Z=this;F=Number(F);var Y=D.p(B),ne=function(W){var ie=C(Z);return D.w(ie.date(ie.date()+Math.round(W*F)),Z)};if(Y===_)return this.set(_,this.$M+F);if(Y===E)return this.set(E,this.$y+F);if(Y===u)return ne(1);if(Y===c)return ne(7);var G=(V={},V[o]=6e4,V[f]=36e5,V[e]=1e3,V)[Y]||1,L=this.$d.getTime()+F*G;return D.w(L,this)},N.subtract=function(F,B){return this.add(-1*F,B)},N.format=function(F){var B=this;if(!this.isValid())return"Invalid Date";var V=F||"YYYY-MM-DDTHH:mm:ssZ",Z=D.z(this),Y=this.$locale(),ne=this.$H,G=this.$m,L=this.$M,W=Y.weekdays,ie=Y.months,ue=function(se,ee,ae,ce){return se&&(se[ee]||se(B,V))||ae[ee].substr(0,ce)},le=function(se){return D.s(ne%12||12,se,"0")},J=Y.meridiem||function(se,ee,ae){var ce=se<12?"AM":"PM";return ae?ce.toLowerCase():ce},te={YY:String(this.$y).slice(-2),YYYY:this.$y,M:L+1,MM:D.s(L+1,2,"0"),MMM:ue(Y.monthsShort,L,ie,3),MMMM:ue(ie,L),D:this.$D,DD:D.s(this.$D,2,"0"),d:String(this.$W),dd:ue(Y.weekdaysMin,this.$W,W,2),ddd:ue(Y.weekdaysShort,this.$W,W,3),dddd:W[this.$W],H:String(ne),HH:D.s(ne,2,"0"),h:le(1),hh:le(2),a:J(ne,G,!0),A:J(ne,G,!1),m:String(G),mm:D.s(G,2,"0"),s:String(this.$s),ss:D.s(this.$s,2,"0"),SSS:D.s(this.$ms,3,"0"),Z};return V.replace(T,function(se,ee){return ee||te[se]||Z.replace(":","")})},N.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},N.diff=function(F,B,V){var Z,Y=D.p(B),ne=C(F),G=6e4*(ne.utcOffset()-this.utcOffset()),L=this-ne,W=D.m(this,ne);return W=(Z={},Z[E]=W/12,Z[_]=W,Z[g]=W/3,Z[c]=(L-G)/6048e5,Z[u]=(L-G)/864e5,Z[f]=L/36e5,Z[o]=L/6e4,Z[e]=L/1e3,Z)[Y]||L,V?W:D.a(W)},N.daysInMonth=function(){return this.endOf(_).$D},N.$locale=function(){return d[this.$L]},N.locale=function(F,B){if(!F)return this.$L;var V=this.clone(),Z=P(F,B,!0);return Z&&(V.$L=Z),V},N.clone=function(){return D.w(this.$d,this)},N.toDate=function(){return new Date(this.valueOf())},N.toJSON=function(){return this.isValid()?this.toISOString():null},N.toISOString=function(){return this.$d.toISOString()},N.toString=function(){return this.$d.toUTCString()},I}(),x=A.prototype;return C.prototype=x,[["$ms",l],["$s",e],["$m",o],["$H",f],["$W",u],["$M",_],["$y",E],["$D",v]].forEach(function(I){x[I[1]]=function(N){return this.$g(N,I[0],I[1])}}),C.extend=function(I,N){return I.$i||(I(N,A,C),I.$i=!0),C},C.locale=P,C.isDayjs=a,C.unix=function(I){return C(1e3*I)},C.en=d[p],C.Ls=d,C.p={},C})},28734:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";return function(l,e,o){var f=e.prototype,u=f.format;o.en.ordinal=function(c){var _=["th","st","nd","rd"],g=c%100;return"["+c+(_[(g-20)%10]||_[g]||_[0])+"]"},f.format=function(c){var _=this,g=this.$locale(),E=this.$utils(),v=(c||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(y){switch(y){case"Q":return Math.ceil((_.$M+1)/3);case"Do":return g.ordinal(_.$D);case"gggg":return _.weekYear();case"GGGG":return _.isoWeekYear();case"wo":return g.ordinal(_.week(),"W");case"w":case"ww":return E.s(_.week(),y==="w"?1:2,"0");case"W":case"WW":return E.s(_.isoWeek(),y==="W"?1:2,"0");case"k":case"kk":return E.s(String(_.$H===0?24:_.$H),y==="k"?1:2,"0");case"X":return Math.floor(_.$d.getTime()/1e3);case"x":return _.$d.getTime();case"z":return"["+_.offsetName()+"]";case"zzz":return"["+_.offsetName("long")+"]";default:return y}});return u.bind(this)(v)}}})},90850:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";return function(l,e,o){var f=e.prototype,u=f.parse;f.parse=function(c){c.date=function(_){var g=_.date,E=_.utc;return Array.isArray(g)?E?g.length?new Date(Date.UTC.apply(null,g)):new Date:g.length===1?o(String(g[0])).toDate():new(Function.prototype.bind.apply(Date,[null].concat(g))):g}.bind(this)(c),u.bind(this)(c)}}})},94712:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";return function(l,e,o){var f="h:mm A",u={lastDay:"[Yesterday at] "+f,sameDay:"[Today at] "+f,nextDay:"[Tomorrow at] "+f,nextWeek:"dddd [at] "+f,lastWeek:"[Last] dddd [at] "+f,sameElse:"MM/DD/YYYY"};e.prototype.calendar=function(c,_){var g=_||this.$locale().calendar||u,E=o(c||void 0).startOf("d"),v=this.diff(E,"d",!0),y=v<-6?"sameElse":v<-1?"lastWeek":v<0?"lastDay":v<1?"sameDay":v<2?"nextDay":v<7?"nextWeek":"sameElse",T=g[y]||u[y];return typeof T=="function"?T.call(this,o()):this.format(T)}}})},10285:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";var l={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=function(S,O){return S.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,d,a){var P=a&&a.toUpperCase();return d||O[a]||l[a]||O[P].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(C,D,A){return D||A.slice(1)})})},o=/(\[[^[]*\])|([-:/.()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,f=/\d\d/,u=/\d\d?/,c=/\d*[^\s\d-_:/()]+/,_={},g=function(S){return function(O){this[S]=+O}},E=[/[+-]\d\d:?(\d\d)?/,function(S){(this.zone||(this.zone={})).offset=function(O){if(!O)return 0;var p=O.match(/([+-]|\d\d)/g),d=60*p[1]+(+p[2]||0);return d===0?0:p[0]==="+"?-d:d}(S)}],v=function(S){var O=_[S];return O&&(O.indexOf?O:O.s.concat(O.f))},y=function(S,O){var p,d=_.meridiem;if(d){for(var a=1;a<=24;a+=1)if(S.indexOf(d(a,0,O))>-1){p=a>12;break}}else p=S===(O?"pm":"PM");return p},T={A:[c,function(S){this.afternoon=y(S,!1)}],a:[c,function(S){this.afternoon=y(S,!0)}],S:[/\d/,function(S){this.milliseconds=100*+S}],SS:[f,function(S){this.milliseconds=10*+S}],SSS:[/\d{3}/,function(S){this.milliseconds=+S}],s:[u,g("seconds")],ss:[u,g("seconds")],m:[u,g("minutes")],mm:[u,g("minutes")],H:[u,g("hours")],h:[u,g("hours")],HH:[u,g("hours")],hh:[u,g("hours")],D:[u,g("day")],DD:[f,g("day")],Do:[c,function(S){var O=_.ordinal,p=S.match(/\d+/);if(this.day=p[0],O)for(var d=1;d<=31;d+=1)O(d).replace(/\[|\]/g,"")===S&&(this.day=d)}],M:[u,g("month")],MM:[f,g("month")],MMM:[c,function(S){var O=v("months"),p=(v("monthsShort")||O.map(function(d){return d.substr(0,3)})).indexOf(S)+1;if(p<1)throw new Error;this.month=p%12||p}],MMMM:[c,function(S){var O=v("months").indexOf(S)+1;if(O<1)throw new Error;this.month=O%12||O}],Y:[/[+-]?\d+/,g("year")],YY:[f,function(S){S=+S,this.year=S+(S>68?1900:2e3)}],YYYY:[/\d{4}/,g("year")],Z:E,ZZ:E},w=function(S,O,p){try{var d=function(W){for(var ie=(W=e(W,_&&_.formats)).match(o),ue=ie.length,le=0;le<ue;le+=1){var J=ie[le],te=T[J],se=te&&te[0],ee=te&&te[1];ie[le]=ee?{regex:se,parser:ee}:J.replace(/^\[|\]$/g,"")}return function(ae){for(var ce={},fe=0,Ee=0;fe<ue;fe+=1){var de=ie[fe];if(typeof de=="string")Ee+=de.length;else{var _e=de.regex,ve=de.parser,De=ae.substr(Ee),Oe=_e.exec(De)[0];ve.call(ce,Oe),ae=ae.replace(Oe,"")}}return function(ye){var ze=ye.afternoon;if(ze!==void 0){var Be=ye.hours;ze?Be<12&&(ye.hours+=12):Be===12&&(ye.hours=0),delete ye.afternoon}}(ce),ce}}(O)(S),a=d.year,P=d.month,C=d.day,D=d.hours,A=d.minutes,x=d.seconds,I=d.milliseconds,N=d.zone,F=new Date,B=C||(a||P?1:F.getDate()),V=a||F.getFullYear(),Z=0;a&&!P||(Z=P>0?P-1:F.getMonth());var Y=D||0,ne=A||0,G=x||0,L=I||0;return N?new Date(Date.UTC(V,Z,B,Y,ne,G,L+60*N.offset*1e3)):p?new Date(Date.UTC(V,Z,B,Y,ne,G,L)):new Date(V,Z,B,Y,ne,G,L)}catch(W){return new Date("")}};return function(S,O,p){p.p.customParseFormat=!0;var d=O.prototype,a=d.parse;d.parse=function(P){var C=P.date,D=P.utc,A=P.args;this.$u=D;var x=A[1];if(typeof x=="string"){var I=A[2]===!0,N=A[3]===!0,F=I||N,B=A[2];N&&(B=A[2]),_=this.$locale(),!I&&B&&(_=p.Ls[B]),this.$d=w(C,x,D),this.init(),B&&B!==!0&&(this.$L=this.locale(B).$L),F&&C!==this.format(x)&&(this.$d=new Date("")),_={}}else if(x instanceof Array)for(var V=x.length,Z=1;Z<=V;Z+=1){A[1]=x[Z-1];var Y=p.apply(this,A);if(Y.isValid()){this.$d=Y.$d,this.$L=Y.$L,this.init();break}Z===V&&(this.$d=new Date(""))}else a.call(this,P)}}})},92997:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";return function(l,e){e.prototype.dayOfYear=function(o){var f=Math.round((this.startOf("day")-this.startOf("year"))/864e5)+1;return o==null?f:this.add(o-f,"day")}}})},1646:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";var l,e,o=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,u={years:31536e6,months:2592e6,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1,weeks:6048e5},c=function(w){return w instanceof T},_=function(w,S,O){return new T(w,O,S.$l)},g=function(w){return e.p(w)+"s"},E=function(w){return w<0},v=function(w){return E(w)?Math.ceil(w):Math.floor(w)},y=function(w,S){return w?E(w)?{negative:!0,format:""+function(O){return Math.abs(O)}(w)+S}:{negative:!1,format:""+w+S}:{negative:!1,format:""}},T=function(){function w(O,p,d){var a=this;if(this.$d={},this.$l=d,p)return _(O*u[g(p)],this);if(typeof O=="number")return this.$ms=O,this.parseFromMilliseconds(),this;if(typeof O=="object")return Object.keys(O).forEach(function(C){a.$d[g(C)]=O[C]}),this.calMilliseconds(),this;if(typeof O=="string"){var P=O.match(f);if(P)return this.$d.years=P[2],this.$d.months=P[3],this.$d.weeks=P[4],this.$d.days=P[5],this.$d.hours=P[6],this.$d.minutes=P[7],this.$d.seconds=P[8],this.calMilliseconds(),this}return this}var S=w.prototype;return S.calMilliseconds=function(){var O=this;this.$ms=Object.keys(this.$d).reduce(function(p,d){return p+(O.$d[d]||0)*u[d]},0)},S.parseFromMilliseconds=function(){var O=this.$ms;this.$d.years=v(O/31536e6),O%=31536e6,this.$d.months=v(O/2592e6),O%=2592e6,this.$d.days=v(O/864e5),O%=864e5,this.$d.hours=v(O/36e5),O%=36e5,this.$d.minutes=v(O/6e4),O%=6e4,this.$d.seconds=v(O/1e3),O%=1e3,this.$d.milliseconds=O},S.toISOString=function(){var O=y(this.$d.years,"Y"),p=y(this.$d.months,"M"),d=+this.$d.days||0;this.$d.weeks&&(d+=7*this.$d.weeks);var a=y(d,"D"),P=y(this.$d.hours,"H"),C=y(this.$d.minutes,"M"),D=this.$d.seconds||0;this.$d.milliseconds&&(D+=this.$d.milliseconds/1e3);var A=y(D,"S"),x=O.negative||p.negative||a.negative||P.negative||C.negative||A.negative,I=P.format||C.format||A.format?"T":"",N=(x?"-":"")+"P"+O.format+p.format+a.format+I+P.format+C.format+A.format;return N==="P"||N==="-P"?"P0D":N},S.toJSON=function(){return this.toISOString()},S.format=function(O){var p=O||"YYYY-MM-DDTHH:mm:ss",d={Y:this.$d.years,YY:e.s(this.$d.years,2,"0"),YYYY:e.s(this.$d.years,4,"0"),M:this.$d.months,MM:e.s(this.$d.months,2,"0"),D:this.$d.days,DD:e.s(this.$d.days,2,"0"),H:this.$d.hours,HH:e.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:e.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:e.s(this.$d.seconds,2,"0"),SSS:e.s(this.$d.milliseconds,3,"0")};return p.replace(o,function(a,P){return P||String(d[a])})},S.as=function(O){return this.$ms/u[g(O)]},S.get=function(O){var p=this.$ms,d=g(O);return d==="milliseconds"?p%=1e3:p=d==="weeks"?v(p/u[d]):this.$d[d],p===0?0:p},S.add=function(O,p,d){var a;return a=p?O*u[g(p)]:c(O)?O.$ms:_(O,this).$ms,_(this.$ms+a*(d?-1:1),this)},S.subtract=function(O,p){return this.add(O,p,!0)},S.locale=function(O){var p=this.clone();return p.$l=O,p},S.clone=function(){return _(this.$ms,this)},S.humanize=function(O){return l().add(this.$ms,"ms").locale(this.$l).fromNow(!O)},S.milliseconds=function(){return this.get("milliseconds")},S.asMilliseconds=function(){return this.as("milliseconds")},S.seconds=function(){return this.get("seconds")},S.asSeconds=function(){return this.as("seconds")},S.minutes=function(){return this.get("minutes")},S.asMinutes=function(){return this.as("minutes")},S.hours=function(){return this.get("hours")},S.asHours=function(){return this.as("hours")},S.days=function(){return this.get("days")},S.asDays=function(){return this.as("days")},S.weeks=function(){return this.get("weeks")},S.asWeeks=function(){return this.as("weeks")},S.months=function(){return this.get("months")},S.asMonths=function(){return this.as("months")},S.years=function(){return this.get("years")},S.asYears=function(){return this.as("years")},w}();return function(w,S,O){l=O,e=O().$utils(),O.duration=function(a,P){var C=O.locale();return _(a,{$l:C},P)},O.isDuration=c;var p=S.prototype.add,d=S.prototype.subtract;S.prototype.add=function(a,P){return c(a)&&(a=a.asMilliseconds()),p.bind(this)(a,P)},S.prototype.subtract=function(a,P){return c(a)&&(a=a.asMilliseconds()),d.bind(this)(a,P)}}})},66607:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";return function(l,e,o){e.prototype.isBetween=function(f,u,c,_){var g=o(f),E=o(u),v=(_=_||"()")[0]==="(",y=_[1]===")";return(v?this.isAfter(g,c):!this.isBefore(g,c))&&(y?this.isBefore(E,c):!this.isAfter(E,c))||(v?this.isBefore(g,c):!this.isAfter(g,c))&&(y?this.isAfter(E,c):!this.isBefore(E,c))}}})},10423:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";return function(l,e){e.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})},79212:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";return function(l,e){e.prototype.isSameOrAfter=function(o,f){return this.isSame(o,f)||this.isAfter(o,f)}}})},37412:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";return function(l,e){e.prototype.isSameOrBefore=function(o,f){return this.isSame(o,f)||this.isBefore(o,f)}}})},96671:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";var l="month",e="quarter";return function(o,f){var u=f.prototype;u.quarter=function(g){return this.$utils().u(g)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(g-1))};var c=u.add;u.add=function(g,E){return g=Number(g),this.$utils().p(E)===e?this.add(3*g,l):c.bind(this)(g,E)};var _=u.startOf;u.startOf=function(g,E){var v=this.$utils(),y=!!v.u(E)||E;if(v.p(g)===e){var T=this.quarter()-1;return y?this.month(3*T).startOf(l).startOf("day"):this.month(3*T+2).endOf(l).endOf("day")}return _.bind(this)(g,E)}}})},84110:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";return function(l,e,o){l=l||{};var f=e.prototype,u={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function c(g,E,v,y){return f.fromToBase(g,E,v,y)}o.en.relativeTime=u,f.fromToBase=function(g,E,v,y,T){for(var w,S,O,p=v.$locale().relativeTime||u,d=l.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],a=d.length,P=0;P<a;P+=1){var C=d[P];C.d&&(w=y?o(g).diff(v,C.d,!0):v.diff(g,C.d,!0));var D=(l.rounding||Math.round)(Math.abs(w));if(O=w>0,D<=C.r||!C.r){D<=1&&P>0&&(C=d[P-1]);var A=p[C.l];T&&(D=T(""+D)),S=typeof A=="string"?A.replace("%d",D):A(D,E,C.l,O);break}}if(E)return S;var x=O?p.future:p.past;return typeof x=="function"?x(S):x.replace("%s",S)},f.to=function(g,E){return c(g,E,this,!0)},f.from=function(g,E){return c(g,E,this)};var _=function(g){return g.$u?o.utc():o()};f.toNow=function(g){return this.to(_(this),g)},f.fromNow=function(g){return this.from(_(this),g)}}})},29387:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";var l={year:0,month:1,day:2,hour:3,minute:4,second:5},e={};return function(o,f,u){var c,_=u().utcOffset(),g=function(T,w,S){S===void 0&&(S={});var O=new Date(T);return function(p,d){d===void 0&&(d={});var a=d.timeZoneName||"short",P=p+"|"+a,C=e[P];return C||(C=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:p,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:a}),e[P]=C),C}(w,S).formatToParts(O)},E=function(T,w){for(var S=g(T,w),O=[],p=0;p<S.length;p+=1){var d=S[p],a=d.type,P=d.value,C=l[a];C>=0&&(O[C]=parseInt(P,10))}var D=O[3],A=D===24?0:D,x=O[0]+"-"+O[1]+"-"+O[2]+" "+A+":"+O[4]+":"+O[5]+":000",I=+T;return(u.utc(x).valueOf()-(I-=I%1e3))/6e4},v=f.prototype;v.tz=function(T,w){T===void 0&&(T=c);var S=this.utcOffset(),O=this.toDate().toLocaleString("en-US",{timeZone:T}),p=Math.round((this.toDate()-new Date(O))/1e3/60),d=u(O).$set("millisecond",this.$ms).utcOffset(_-p,!0);if(w){var a=d.utcOffset();d=d.add(S-a,"minute")}return d.$x.$timezone=T,d},v.offsetName=function(T){var w=this.$x.$timezone||u.tz.guess(),S=g(this.valueOf(),w,{timeZoneName:T}).find(function(O){return O.type.toLowerCase()==="timezonename"});return S&&S.value};var y=v.startOf;v.startOf=function(T,w){if(!this.$x||!this.$x.$timezone)return y.call(this,T,w);var S=u(this.format("YYYY-MM-DD HH:mm:ss:SSS"));return y.call(S,T,w).tz(this.$x.$timezone,!0)},u.tz=function(T,w,S){var O=S&&w,p=S||w||c,d=E(+u(),p);if(typeof T!="string")return u(T).tz(p);var a=function(A,x,I){var N=A-60*x*1e3,F=E(N,I);if(x===F)return[N,x];var B=E(N-=60*(F-x)*1e3,I);return F===B?[N,F]:[A-60*Math.min(F,B)*1e3,Math.max(F,B)]}(u.utc(T,O).valueOf(),d,p),P=a[0],C=a[1],D=u(P).utcOffset(C);return D.$x.$timezone=p,D},u.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},u.tz.setDefault=function(T){c=T}}})},70178:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";return function(l,e,o){var f=e.prototype;o.utc=function(y){return new e({date:y,utc:!0,args:arguments})},f.utc=function(y){var T=o(this.toDate(),{locale:this.$L,utc:!0});return y?T.add(this.utcOffset(),"minute"):T},f.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var u=f.parse;f.parse=function(y){y.utc&&(this.$u=!0),this.$utils().u(y.$offset)||(this.$offset=y.$offset),u.call(this,y)};var c=f.init;f.init=function(){if(this.$u){var y=this.$d;this.$y=y.getUTCFullYear(),this.$M=y.getUTCMonth(),this.$D=y.getUTCDate(),this.$W=y.getUTCDay(),this.$H=y.getUTCHours(),this.$m=y.getUTCMinutes(),this.$s=y.getUTCSeconds(),this.$ms=y.getUTCMilliseconds()}else c.call(this)};var _=f.utcOffset;f.utcOffset=function(y,T){var w=this.$utils().u;if(w(y))return this.$u?0:w(this.$offset)?_.call(this):this.$offset;var S=Math.abs(y)<=16?60*y:y,O=this;if(T)return O.$offset=S,O.$u=y===0,O;if(y!==0){var p=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(O=this.local().add(S+p,"minute")).$offset=S,O.$x.$localOffset=p}else O=this.utc();return O};var g=f.format;f.format=function(y){var T=y||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return g.call(this,T)},f.valueOf=function(){var y=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||new Date().getTimezoneOffset());return this.$d.valueOf()-6e4*y},f.isUTC=function(){return!!this.$u},f.toISOString=function(){return this.toDate().toISOString()},f.toString=function(){return this.toDate().toUTCString()};var E=f.toDate;f.toDate=function(y){return y==="s"&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():E.call(this)};var v=f.diff;f.diff=function(y,T,w){if(y&&this.$u===y.$u)return v.call(this,y,T,w);var S=this.local(),O=o(y).local();return v.call(S,O,T,w)}}})},55183:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";var l="week",e="year";return function(o,f,u){var c=f.prototype;c.week=function(_){if(_===void 0&&(_=null),_!==null)return this.add(7*(_-this.week()),"day");var g=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var E=u(this).startOf(e).add(1,e).date(g),v=u(this).endOf(l);if(E.isBefore(v))return 1}var y=u(this).startOf(e).date(g).startOf(l).subtract(1,"millisecond"),T=this.diff(y,l,!0);return T<0?u(this).startOf("week").week():Math.ceil(T)},c.weeks=function(_){return _===void 0&&(_=null),this.week(_)}}})},6833:function(z){(function(l,e){z.exports=e()})(this,function(){"use strict";return function(l,e){e.prototype.weekday=function(o){var f=this.$locale().weekStart||0,u=this.$W,c=(u<f?u+7:u)-f;return this.$utils().u(o)?c:this.subtract(c,"day").add(o,"day")}}})},10251:(z,l,e)=>{var o=Array.prototype.slice,f=e(41705),u=e(45539),c=z.exports=function(v,y,T){return T||(T={}),v===y?!0:v instanceof Date&&y instanceof Date?v.getTime()===y.getTime():!v||!y||typeof v!="object"&&typeof y!="object"?T.strict?v===y:v==y:E(v,y,T)};function _(v){return v==null}function g(v){return!(!v||typeof v!="object"||typeof v.length!="number"||typeof v.copy!="function"||typeof v.slice!="function"||v.length>0&&typeof v[0]!="number")}function E(v,y,T){var w,S;if(_(v)||_(y)||v.prototype!==y.prototype)return!1;if(u(v))return u(y)?(v=o.call(v),y=o.call(y),c(v,y,T)):!1;if(g(v)){if(!g(y)||v.length!==y.length)return!1;for(w=0;w<v.length;w++)if(v[w]!==y[w])return!1;return!0}try{var O=f(v),p=f(y)}catch(d){return!1}if(O.length!=p.length)return!1;for(O.sort(),p.sort(),w=O.length-1;w>=0;w--)if(O[w]!=p[w])return!1;for(w=O.length-1;w>=0;w--)if(S=O[w],!c(v[S],y[S],T))return!1;return typeof v==typeof y}},45539:(z,l)=>{var e=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";l=z.exports=e?o:f,l.supported=o;function o(u){return Object.prototype.toString.call(u)=="[object Arguments]"}l.unsupported=f;function f(u){return u&&typeof u=="object"&&typeof u.length=="number"&&Object.prototype.hasOwnProperty.call(u,"callee")&&!Object.prototype.propertyIsEnumerable.call(u,"callee")||!1}},41705:(z,l)=>{l=z.exports=typeof Object.keys=="function"?Object.keys:e,l.shim=e;function e(o){var f=[];for(var u in o)f.push(u);return f}},9996:z=>{"use strict";var l=function(P){return e(P)&&!o(P)};function e(a){return!!a&&typeof a=="object"}function o(a){var P=Object.prototype.toString.call(a);return P==="[object RegExp]"||P==="[object Date]"||c(a)}var f=typeof Symbol=="function"&&Symbol.for,u=f?Symbol.for("react.element"):60103;function c(a){return a.$$typeof===u}function _(a){return Array.isArray(a)?[]:{}}function g(a,P){return P.clone!==!1&&P.isMergeableObject(a)?p(_(a),a,P):a}function E(a,P,C){return a.concat(P).map(function(D){return g(D,C)})}function v(a,P){if(!P.customMerge)return p;var C=P.customMerge(a);return typeof C=="function"?C:p}function y(a){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(a).filter(function(P){return a.propertyIsEnumerable(P)}):[]}function T(a){return Object.keys(a).concat(y(a))}function w(a,P){try{return P in a}catch(C){return!1}}function S(a,P){return w(a,P)&&!(Object.hasOwnProperty.call(a,P)&&Object.propertyIsEnumerable.call(a,P))}function O(a,P,C){var D={};return C.isMergeableObject(a)&&T(a).forEach(function(A){D[A]=g(a[A],C)}),T(P).forEach(function(A){S(a,A)||(w(a,A)&&C.isMergeableObject(P[A])?D[A]=v(A,C)(a[A],P[A],C):D[A]=g(P[A],C))}),D}function p(a,P,C){C=C||{},C.arrayMerge=C.arrayMerge||E,C.isMergeableObject=C.isMergeableObject||l,C.cloneUnlessOtherwiseSpecified=g;var D=Array.isArray(P),A=Array.isArray(a),x=D===A;return x?D?C.arrayMerge(a,P,C):O(a,P,C):g(P,C)}p.all=function(P,C){if(!Array.isArray(P))throw new Error("first argument should be an array");return P.reduce(function(D,A){return p(D,A,C)},{})};var d=p;z.exports=d},65987:z=>{"use strict";var l={single_source_shortest_paths:function(e,o,f){var u={},c={};c[o]=0;var _=l.PriorityQueue.make();_.push(o,0);for(var g,E,v,y,T,w,S,O,p;!_.empty();){g=_.pop(),E=g.value,y=g.cost,T=e[E]||{};for(v in T)T.hasOwnProperty(v)&&(w=T[v],S=y+w,O=c[v],p=typeof c[v]=="undefined",(p||O>S)&&(c[v]=S,_.push(v,S),u[v]=E))}if(typeof f!="undefined"&&typeof c[f]=="undefined"){var d=["Could not find a path from ",o," to ",f,"."].join("");throw new Error(d)}return u},extract_shortest_path_from_predecessor_list:function(e,o){for(var f=[],u=o,c;u;)f.push(u),c=e[u],u=e[u];return f.reverse(),f},find_path:function(e,o,f){var u=l.single_source_shortest_paths(e,o,f);return l.extract_shortest_path_from_predecessor_list(u,f)},PriorityQueue:{make:function(e){var o=l.PriorityQueue,f={},u;e=e||{};for(u in o)o.hasOwnProperty(u)&&(f[u]=o[u]);return f.queue=[],f.sorter=e.sorter||o.default_sorter,f},default_sorter:function(e,o){return e.cost-o.cost},push:function(e,o){var f={value:e,cost:o};this.queue.push(f),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};z.exports=l},17837:(z,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.attributeNames=l.elementNames=void 0,l.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),l.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])},97220:function(z,l,e){"use strict";var o=this&&this.__assign||function(){return o=Object.assign||function(A){for(var x,I=1,N=arguments.length;I<N;I++){x=arguments[I];for(var F in x)Object.prototype.hasOwnProperty.call(x,F)&&(A[F]=x[F])}return A},o.apply(this,arguments)},f=this&&this.__createBinding||(Object.create?function(A,x,I,N){N===void 0&&(N=I),Object.defineProperty(A,N,{enumerable:!0,get:function(){return x[I]}})}:function(A,x,I,N){N===void 0&&(N=I),A[N]=x[I]}),u=this&&this.__setModuleDefault||(Object.create?function(A,x){Object.defineProperty(A,"default",{enumerable:!0,value:x})}:function(A,x){A.default=x}),c=this&&this.__importStar||function(A){if(A&&A.__esModule)return A;var x={};if(A!=null)for(var I in A)I!=="default"&&Object.prototype.hasOwnProperty.call(A,I)&&f(x,A,I);return u(x,A),x};Object.defineProperty(l,"__esModule",{value:!0});var _=c(e(99960)),g=e(45863),E=e(17837),v=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);function y(A,x){if(A)return Object.keys(A).map(function(I){var N,F,B=(N=A[I])!==null&&N!==void 0?N:"";return x.xmlMode==="foreign"&&(I=(F=E.attributeNames.get(I))!==null&&F!==void 0?F:I),!x.emptyAttrs&&!x.xmlMode&&B===""?I:I+'="'+(x.decodeEntities!==!1?g.encodeXML(B):B.replace(/"/g,"&quot;"))+'"'}).join(" ")}var T=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function w(A,x){x===void 0&&(x={});for(var I=("length"in A)?A:[A],N="",F=0;F<I.length;F++)N+=S(I[F],x);return N}l.default=w;function S(A,x){switch(A.type){case _.Root:return w(A.children,x);case _.Directive:case _.Doctype:return a(A);case _.Comment:return D(A);case _.CDATA:return C(A);case _.Script:case _.Style:case _.Tag:return d(A,x);case _.Text:return P(A,x)}}var O=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),p=new Set(["svg","math"]);function d(A,x){var I;x.xmlMode==="foreign"&&(A.name=(I=E.elementNames.get(A.name))!==null&&I!==void 0?I:A.name,A.parent&&O.has(A.parent.name)&&(x=o(o({},x),{xmlMode:!1}))),!x.xmlMode&&p.has(A.name)&&(x=o(o({},x),{xmlMode:"foreign"}));var N="<"+A.name,F=y(A.attribs,x);return F&&(N+=" "+F),A.children.length===0&&(x.xmlMode?x.selfClosingTags!==!1:x.selfClosingTags&&T.has(A.name))?(x.xmlMode||(N+=" "),N+="/>"):(N+=">",A.children.length>0&&(N+=w(A.children,x)),(x.xmlMode||!T.has(A.name))&&(N+="</"+A.name+">")),N}function a(A){return"<"+A.data+">"}function P(A,x){var I=A.data||"";return x.decodeEntities!==!1&&!(!x.xmlMode&&A.parent&&v.has(A.parent.name))&&(I=g.encodeXML(I)),I}function C(A){return"<![CDATA["+A.children[0].data+"]]>"}function D(A){return"<!--"+A.data+"-->"}},99960:(z,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.Doctype=l.CDATA=l.Tag=l.Style=l.Script=l.Comment=l.Directive=l.Text=l.Root=l.isTag=l.ElementType=void 0;var e;(function(f){f.Root="root",f.Text="text",f.Directive="directive",f.Comment="comment",f.Script="script",f.Style="style",f.Tag="tag",f.CDATA="cdata",f.Doctype="doctype"})(e=l.ElementType||(l.ElementType={}));function o(f){return f.type===e.Tag||f.type===e.Script||f.type===e.Style}l.isTag=o,l.Root=e.Root,l.Text=e.Text,l.Directive=e.Directive,l.Comment=e.Comment,l.Script=e.Script,l.Style=e.Style,l.Tag=e.Tag,l.CDATA=e.CDATA,l.Doctype=e.Doctype},47915:function(z,l,e){"use strict";var o=this&&this.__createBinding||(Object.create?function(E,v,y,T){T===void 0&&(T=y),Object.defineProperty(E,T,{enumerable:!0,get:function(){return v[y]}})}:function(E,v,y,T){T===void 0&&(T=y),E[T]=v[y]}),f=this&&this.__exportStar||function(E,v){for(var y in E)y!=="default"&&!Object.prototype.hasOwnProperty.call(v,y)&&o(v,E,y)};Object.defineProperty(l,"__esModule",{value:!0}),l.DomHandler=void 0;var u=e(97790);f(e(97790),l);var c=/\s+/g,_={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1},g=function(){function E(v,y,T){this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=null,typeof y=="function"&&(T=y,y=_),typeof v=="object"&&(y=v,v=void 0),this._callback=v!=null?v:null,this._options=y!=null?y:_,this._elementCB=T!=null?T:null}return E.prototype.onparserinit=function(v){this._parser=v},E.prototype.onreset=function(){var v;this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=(v=this._parser)!==null&&v!==void 0?v:null},E.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this.handleCallback(null))},E.prototype.onerror=function(v){this.handleCallback(v)},E.prototype.onclosetag=function(){this._lastNode=null;var v=this._tagStack.pop();!v||!this._parser||(this._options.withEndIndices&&(v.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(v))},E.prototype.onopentag=function(v,y){var T=new u.Element(v,y);this.addNode(T),this._tagStack.push(T)},E.prototype.ontext=function(v){var y=this._options.normalizeWhitespace,T=this._lastNode;if(T&&T.type==="text")y?T.data=(T.data+v).replace(c," "):T.data+=v;else{y&&(v=v.replace(c," "));var w=new u.Text(v);this.addNode(w),this._lastNode=w}},E.prototype.oncomment=function(v){if(this._lastNode&&this._lastNode.type==="comment"){this._lastNode.data+=v;return}var y=new u.Comment(v);this.addNode(y),this._lastNode=y},E.prototype.oncommentend=function(){this._lastNode=null},E.prototype.oncdatastart=function(){var v=new u.Text(""),y=new u.NodeWithChildren("cdata",[v]);this.addNode(y),v.parent=y,this._lastNode=v},E.prototype.oncdataend=function(){this._lastNode=null},E.prototype.onprocessinginstruction=function(v,y){var T=new u.ProcessingInstruction(v,y);this.addNode(T)},E.prototype.handleCallback=function(v){if(typeof this._callback=="function")this._callback(v,this.dom);else if(v)throw v},E.prototype.addNode=function(v){var y=this._tagStack[this._tagStack.length-1],T=y?y.children:this.dom,w=T[T.length-1];this._parser&&(this._options.withStartIndices&&(v.startIndex=this._parser.startIndex),this._options.withEndIndices&&(v.endIndex=this._parser.endIndex)),T.push(v),w&&(v.prev=w,w.next=v),y&&(v.parent=y),this._lastNode=null},E.prototype.addDataNode=function(v){this.addNode(v),this._lastNode=v},E}();l.DomHandler=g,l.default=g},97790:function(z,l){"use strict";var e=this&&this.__extends||function(){var S=function(O,p){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var P in a)Object.prototype.hasOwnProperty.call(a,P)&&(d[P]=a[P])},S(O,p)};return function(O,p){S(O,p);function d(){this.constructor=O}O.prototype=p===null?Object.create(p):(d.prototype=p.prototype,new d)}}(),o=this&&this.__assign||function(){return o=Object.assign||function(S){for(var O,p=1,d=arguments.length;p<d;p++){O=arguments[p];for(var a in O)Object.prototype.hasOwnProperty.call(O,a)&&(S[a]=O[a])}return S},o.apply(this,arguments)};Object.defineProperty(l,"__esModule",{value:!0}),l.cloneNode=l.Element=l.NodeWithChildren=l.ProcessingInstruction=l.Comment=l.Text=l.DataNode=l.Node=void 0;var f=new Map([["tag",1],["script",1],["style",1],["directive",1],["text",3],["cdata",4],["comment",8]]),u=function(){function S(O){this.type=O,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(S.prototype,"nodeType",{get:function(){var O;return(O=f.get(this.type))!==null&&O!==void 0?O:1},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"parentNode",{get:function(){return this.parent},set:function(O){this.parent=O},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"previousSibling",{get:function(){return this.prev},set:function(O){this.prev=O},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"nextSibling",{get:function(){return this.next},set:function(O){this.next=O},enumerable:!1,configurable:!0}),S.prototype.cloneNode=function(O){return O===void 0&&(O=!1),T(this,O)},S}();l.Node=u;var c=function(S){e(O,S);function O(p,d){var a=S.call(this,p)||this;return a.data=d,a}return Object.defineProperty(O.prototype,"nodeValue",{get:function(){return this.data},set:function(p){this.data=p},enumerable:!1,configurable:!0}),O}(u);l.DataNode=c;var _=function(S){e(O,S);function O(p){return S.call(this,"text",p)||this}return O}(c);l.Text=_;var g=function(S){e(O,S);function O(p){return S.call(this,"comment",p)||this}return O}(c);l.Comment=g;var E=function(S){e(O,S);function O(p,d){var a=S.call(this,"directive",d)||this;return a.name=p,a}return O}(c);l.ProcessingInstruction=E;var v=function(S){e(O,S);function O(p,d){var a=S.call(this,p)||this;return a.children=d,a}return Object.defineProperty(O.prototype,"firstChild",{get:function(){var p;return(p=this.children[0])!==null&&p!==void 0?p:null},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"childNodes",{get:function(){return this.children},set:function(p){this.children=p},enumerable:!1,configurable:!0}),O}(u);l.NodeWithChildren=v;var y=function(S){e(O,S);function O(p,d,a){a===void 0&&(a=[]);var P=S.call(this,p==="script"?"script":p==="style"?"style":"tag",a)||this;return P.name=p,P.attribs=d,P.attribs=d,P}return Object.defineProperty(O.prototype,"tagName",{get:function(){return this.name},set:function(p){this.name=p},enumerable:!1,configurable:!0}),Object.defineProperty(O.prototype,"attributes",{get:function(){var p=this;return Object.keys(this.attribs).map(function(d){return{name:d,value:p.attribs[d]}})},enumerable:!1,configurable:!0}),O}(v);l.Element=y;function T(S,O){switch(O===void 0&&(O=!1),S.type){case"text":return new _(S.data);case"directive":{var p=S;return new E(p.name,p.data)}case"comment":return new g(S.data);case"tag":case"script":case"style":{var d=S,a=O?w(d.children):[],P=new y(d.name,o({},d.attribs),a);return a.forEach(function(A){return A.parent=P}),P}case"cdata":{var C=S,a=O?w(C.children):[],D=new v("cdata",a);return a.forEach(function(x){return x.parent=D}),D}case"doctype":throw new Error("Not implemented yet: ElementType.Doctype case")}}l.cloneNode=T;function w(S){for(var O=S.map(function(d){return T(d,!0)}),p=1;p<O.length;p++)O[p].prev=O[p-1],O[p-1].next=O[p];return O}},16996:(z,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.getFeed=void 0;var o=e(43346),f=e(23905);function u(O){var p=y(S,O);return p?p.name==="feed"?c(p):_(p):null}l.getFeed=u;function c(O){var p,d=O.children,a={type:"atom",items:(0,f.getElementsByTagName)("entry",d).map(function(D){var A,x=D.children,I={media:v(x)};w(I,"id","id",x),w(I,"title","title",x);var N=(A=y("link",x))===null||A===void 0?void 0:A.attribs.href;N&&(I.link=N);var F=T("summary",x)||T("content",x);F&&(I.description=F);var B=T("updated",x);return B&&(I.pubDate=new Date(B)),I})};w(a,"id","id",d),w(a,"title","title",d);var P=(p=y("link",d))===null||p===void 0?void 0:p.attribs.href;P&&(a.link=P),w(a,"description","subtitle",d);var C=T("updated",d);return C&&(a.updated=new Date(C)),w(a,"author","email",d,!0),a}function _(O){var p,d,a=(d=(p=y("channel",O.children))===null||p===void 0?void 0:p.children)!==null&&d!==void 0?d:[],P={type:O.name.substr(0,3),id:"",items:(0,f.getElementsByTagName)("item",O.children).map(function(D){var A=D.children,x={media:v(A)};w(x,"id","guid",A),w(x,"title","title",A),w(x,"link","link",A),w(x,"description","description",A);var I=T("pubDate",A);return I&&(x.pubDate=new Date(I)),x})};w(P,"title","title",a),w(P,"link","link",a),w(P,"description","description",a);var C=T("lastBuildDate",a);return C&&(P.updated=new Date(C)),w(P,"author","managingEditor",a,!0),P}var g=["url","type","lang"],E=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function v(O){return(0,f.getElementsByTagName)("media:content",O).map(function(p){for(var d=p.attribs,a={medium:d.medium,isDefault:!!d.isDefault},P=0,C=g;P<C.length;P++){var D=C[P];d[D]&&(a[D]=d[D])}for(var A=0,x=E;A<x.length;A++){var D=x[A];d[D]&&(a[D]=parseInt(d[D],10))}return d.expression&&(a.expression=d.expression),a})}function y(O,p){return(0,f.getElementsByTagName)(O,p,!0,1)[0]}function T(O,p,d){return d===void 0&&(d=!1),(0,o.textContent)((0,f.getElementsByTagName)(O,p,d,1)).trim()}function w(O,p,d,a,P){P===void 0&&(P=!1);var C=T(d,a,P);C&&(O[p]=C)}function S(O){return O==="rss"||O==="feed"||O==="rdf:RDF"}},74975:(z,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.uniqueSort=l.compareDocumentPosition=l.removeSubsets=void 0;var o=e(63317);function f(_){for(var g=_.length;--g>=0;){var E=_[g];if(g>0&&_.lastIndexOf(E,g-1)>=0){_.splice(g,1);continue}for(var v=E.parent;v;v=v.parent)if(_.includes(v)){_.splice(g,1);break}}return _}l.removeSubsets=f;function u(_,g){var E=[],v=[];if(_===g)return 0;for(var y=(0,o.hasChildren)(_)?_:_.parent;y;)E.unshift(y),y=y.parent;for(y=(0,o.hasChildren)(g)?g:g.parent;y;)v.unshift(y),y=y.parent;for(var T=Math.min(E.length,v.length),w=0;w<T&&E[w]===v[w];)w++;if(w===0)return 1;var S=E[w-1],O=S.children,p=E[w],d=v[w];return O.indexOf(p)>O.indexOf(d)?S===g?20:4:S===_?10:2}l.compareDocumentPosition=u;function c(_){return _=_.filter(function(g,E,v){return!v.includes(g,E+1)}),_.sort(function(g,E){var v=u(g,E);return v&2?-1:v&4?1:0}),_}l.uniqueSort=c},89432:function(z,l,e){"use strict";var o=this&&this.__createBinding||(Object.create?function(c,_,g,E){E===void 0&&(E=g),Object.defineProperty(c,E,{enumerable:!0,get:function(){return _[g]}})}:function(c,_,g,E){E===void 0&&(E=g),c[E]=_[g]}),f=this&&this.__exportStar||function(c,_){for(var g in c)g!=="default"&&!Object.prototype.hasOwnProperty.call(_,g)&&o(_,c,g)};Object.defineProperty(l,"__esModule",{value:!0}),l.hasChildren=l.isDocument=l.isComment=l.isText=l.isCDATA=l.isTag=void 0,f(e(43346),l),f(e(85010),l),f(e(26765),l),f(e(98043),l),f(e(23905),l),f(e(74975),l),f(e(16996),l);var u=e(63317);Object.defineProperty(l,"isTag",{enumerable:!0,get:function(){return u.isTag}}),Object.defineProperty(l,"isCDATA",{enumerable:!0,get:function(){return u.isCDATA}}),Object.defineProperty(l,"isText",{enumerable:!0,get:function(){return u.isText}}),Object.defineProperty(l,"isComment",{enumerable:!0,get:function(){return u.isComment}}),Object.defineProperty(l,"isDocument",{enumerable:!0,get:function(){return u.isDocument}}),Object.defineProperty(l,"hasChildren",{enumerable:!0,get:function(){return u.hasChildren}})},23905:(z,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.getElementsByTagType=l.getElementsByTagName=l.getElementById=l.getElements=l.testElement=void 0;var o=e(63317),f=e(98043),u={tag_name:function(S){return typeof S=="function"?function(O){return(0,o.isTag)(O)&&S(O.name)}:S==="*"?o.isTag:function(O){return(0,o.isTag)(O)&&O.name===S}},tag_type:function(S){return typeof S=="function"?function(O){return S(O.type)}:function(O){return O.type===S}},tag_contains:function(S){return typeof S=="function"?function(O){return(0,o.isText)(O)&&S(O.data)}:function(O){return(0,o.isText)(O)&&O.data===S}}};function c(S,O){return typeof O=="function"?function(p){return(0,o.isTag)(p)&&O(p.attribs[S])}:function(p){return(0,o.isTag)(p)&&p.attribs[S]===O}}function _(S,O){return function(p){return S(p)||O(p)}}function g(S){var O=Object.keys(S).map(function(p){var d=S[p];return Object.prototype.hasOwnProperty.call(u,p)?u[p](d):c(p,d)});return O.length===0?null:O.reduce(_)}function E(S,O){var p=g(S);return p?p(O):!0}l.testElement=E;function v(S,O,p,d){d===void 0&&(d=1/0);var a=g(S);return a?(0,f.filter)(a,O,p,d):[]}l.getElements=v;function y(S,O,p){return p===void 0&&(p=!0),Array.isArray(O)||(O=[O]),(0,f.findOne)(c("id",S),O,p)}l.getElementById=y;function T(S,O,p,d){return p===void 0&&(p=!0),d===void 0&&(d=1/0),(0,f.filter)(u.tag_name(S),O,p,d)}l.getElementsByTagName=T;function w(S,O,p,d){return p===void 0&&(p=!0),d===void 0&&(d=1/0),(0,f.filter)(u.tag_type(S),O,p,d)}l.getElementsByTagType=w},26765:(z,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.prepend=l.prependChild=l.append=l.appendChild=l.replaceElement=l.removeElement=void 0;function e(g){if(g.prev&&(g.prev.next=g.next),g.next&&(g.next.prev=g.prev),g.parent){var E=g.parent.children;E.splice(E.lastIndexOf(g),1)}}l.removeElement=e;function o(g,E){var v=E.prev=g.prev;v&&(v.next=E);var y=E.next=g.next;y&&(y.prev=E);var T=E.parent=g.parent;if(T){var w=T.children;w[w.lastIndexOf(g)]=E}}l.replaceElement=o;function f(g,E){if(e(E),E.next=null,E.parent=g,g.children.push(E)>1){var v=g.children[g.children.length-2];v.next=E,E.prev=v}else E.prev=null}l.appendChild=f;function u(g,E){e(E);var v=g.parent,y=g.next;if(E.next=y,E.prev=g,g.next=E,E.parent=v,y){if(y.prev=E,v){var T=v.children;T.splice(T.lastIndexOf(y),0,E)}}else v&&v.children.push(E)}l.append=u;function c(g,E){if(e(E),E.parent=g,E.prev=null,g.children.unshift(E)!==1){var v=g.children[1];v.prev=E,E.next=v}else E.next=null}l.prependChild=c;function _(g,E){e(E);var v=g.parent;if(v){var y=v.children;y.splice(y.indexOf(g),0,E)}g.prev&&(g.prev.next=E),E.parent=v,E.prev=g.prev,E.next=g,g.prev=E}l.prepend=_},98043:(z,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.findAll=l.existsOne=l.findOne=l.findOneChild=l.find=l.filter=void 0;var o=e(63317);function f(v,y,T,w){return T===void 0&&(T=!0),w===void 0&&(w=1/0),Array.isArray(y)||(y=[y]),u(v,y,T,w)}l.filter=f;function u(v,y,T,w){for(var S=[],O=0,p=y;O<p.length;O++){var d=p[O];if(v(d)&&(S.push(d),--w<=0))break;if(T&&(0,o.hasChildren)(d)&&d.children.length>0){var a=u(v,d.children,T,w);if(S.push.apply(S,a),w-=a.length,w<=0)break}}return S}l.find=u;function c(v,y){return y.find(v)}l.findOneChild=c;function _(v,y,T){T===void 0&&(T=!0);for(var w=null,S=0;S<y.length&&!w;S++){var O=y[S];if((0,o.isTag)(O))v(O)?w=O:T&&O.children.length>0&&(w=_(v,O.children));else continue}return w}l.findOne=_;function g(v,y){return y.some(function(T){return(0,o.isTag)(T)&&(v(T)||T.children.length>0&&g(v,T.children))})}l.existsOne=g;function E(v,y){for(var T,w=[],S=y.filter(o.isTag),O;O=S.shift();){var p=(T=O.children)===null||T===void 0?void 0:T.filter(o.isTag);p&&p.length>0&&S.unshift.apply(S,p),v(O)&&w.push(O)}return w}l.findAll=E},43346:function(z,l,e){"use strict";var o=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(l,"__esModule",{value:!0}),l.innerText=l.textContent=l.getText=l.getInnerHTML=l.getOuterHTML=void 0;var f=e(63317),u=o(e(97220)),c=e(99960);function _(T,w){return(0,u.default)(T,w)}l.getOuterHTML=_;function g(T,w){return(0,f.hasChildren)(T)?T.children.map(function(S){return _(S,w)}).join(""):""}l.getInnerHTML=g;function E(T){return Array.isArray(T)?T.map(E).join(""):(0,f.isTag)(T)?T.name==="br"?`
`:E(T.children):(0,f.isCDATA)(T)?E(T.children):(0,f.isText)(T)?T.data:""}l.getText=E;function v(T){return Array.isArray(T)?T.map(v).join(""):(0,f.hasChildren)(T)&&!(0,f.isComment)(T)?v(T.children):(0,f.isText)(T)?T.data:""}l.textContent=v;function y(T){return Array.isArray(T)?T.map(y).join(""):(0,f.hasChildren)(T)&&(T.type===c.ElementType.Tag||(0,f.isCDATA)(T))?y(T.children):(0,f.isText)(T)?T.data:""}l.innerText=y},85010:(z,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.prevElementSibling=l.nextElementSibling=l.getName=l.hasAttrib=l.getAttributeValue=l.getSiblings=l.getParent=l.getChildren=void 0;var o=e(63317),f=[];function u(w){var S;return(S=w.children)!==null&&S!==void 0?S:f}l.getChildren=u;function c(w){return w.parent||null}l.getParent=c;function _(w){var S,O,p=c(w);if(p!=null)return u(p);for(var d=[w],a=w.prev,P=w.next;a!=null;)d.unshift(a),S=a,a=S.prev;for(;P!=null;)d.push(P),O=P,P=O.next;return d}l.getSiblings=_;function g(w,S){var O;return(O=w.attribs)===null||O===void 0?void 0:O[S]}l.getAttributeValue=g;function E(w,S){return w.attribs!=null&&Object.prototype.hasOwnProperty.call(w.attribs,S)&&w.attribs[S]!=null}l.hasAttrib=E;function v(w){return w.name}l.getName=v;function y(w){for(var S,O=w.next;O!==null&&!(0,o.isTag)(O);)S=O,O=S.next;return O}l.nextElementSibling=y;function T(w){for(var S,O=w.prev;O!==null&&!(0,o.isTag)(O);)S=O,O=S.prev;return O}l.prevElementSibling=T},63317:function(z,l,e){"use strict";var o=this&&this.__createBinding||(Object.create?function(v,y,T,w){w===void 0&&(w=T);var S=Object.getOwnPropertyDescriptor(y,T);(!S||("get"in S?!y.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return y[T]}}),Object.defineProperty(v,w,S)}:function(v,y,T,w){w===void 0&&(w=T),v[w]=y[T]}),f=this&&this.__exportStar||function(v,y){for(var T in v)T!=="default"&&!Object.prototype.hasOwnProperty.call(y,T)&&o(y,v,T)};Object.defineProperty(l,"__esModule",{value:!0}),l.DomHandler=void 0;var u=e(99960),c=e(50943);f(e(50943),l);var _=/\s+/g,g={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},E=function(){function v(y,T,w){this.dom=[],this.root=new c.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof T=="function"&&(w=T,T=g),typeof y=="object"&&(T=y,y=void 0),this.callback=y!=null?y:null,this.options=T!=null?T:g,this.elementCB=w!=null?w:null}return v.prototype.onparserinit=function(y){this.parser=y},v.prototype.onreset=function(){this.dom=[],this.root=new c.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},v.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},v.prototype.onerror=function(y){this.handleCallback(y)},v.prototype.onclosetag=function(){this.lastNode=null;var y=this.tagStack.pop();this.options.withEndIndices&&(y.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(y)},v.prototype.onopentag=function(y,T){var w=this.options.xmlMode?u.ElementType.Tag:void 0,S=new c.Element(y,T,void 0,w);this.addNode(S),this.tagStack.push(S)},v.prototype.ontext=function(y){var T=this.options.normalizeWhitespace,w=this.lastNode;if(w&&w.type===u.ElementType.Text)T?w.data=(w.data+y).replace(_," "):w.data+=y,this.options.withEndIndices&&(w.endIndex=this.parser.endIndex);else{T&&(y=y.replace(_," "));var S=new c.Text(y);this.addNode(S),this.lastNode=S}},v.prototype.oncomment=function(y){if(this.lastNode&&this.lastNode.type===u.ElementType.Comment){this.lastNode.data+=y;return}var T=new c.Comment(y);this.addNode(T),this.lastNode=T},v.prototype.oncommentend=function(){this.lastNode=null},v.prototype.oncdatastart=function(){var y=new c.Text(""),T=new c.NodeWithChildren(u.ElementType.CDATA,[y]);this.addNode(T),y.parent=T,this.lastNode=y},v.prototype.oncdataend=function(){this.lastNode=null},v.prototype.onprocessinginstruction=function(y,T){var w=new c.ProcessingInstruction(y,T);this.addNode(w)},v.prototype.handleCallback=function(y){if(typeof this.callback=="function")this.callback(y,this.dom);else if(y)throw y},v.prototype.addNode=function(y){var T=this.tagStack[this.tagStack.length-1],w=T.children[T.children.length-1];this.options.withStartIndices&&(y.startIndex=this.parser.startIndex),this.options.withEndIndices&&(y.endIndex=this.parser.endIndex),T.children.push(y),w&&(y.prev=w,w.next=y),y.parent=T,this.lastNode=null},v}();l.DomHandler=E,l.default=E},50943:function(z,l,e){"use strict";var o=this&&this.__extends||function(){var I=function(N,F){return I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,V){B.__proto__=V}||function(B,V){for(var Z in V)Object.prototype.hasOwnProperty.call(V,Z)&&(B[Z]=V[Z])},I(N,F)};return function(N,F){if(typeof F!="function"&&F!==null)throw new TypeError("Class extends value "+String(F)+" is not a constructor or null");I(N,F);function B(){this.constructor=N}N.prototype=F===null?Object.create(F):(B.prototype=F.prototype,new B)}}(),f=this&&this.__assign||function(){return f=Object.assign||function(I){for(var N,F=1,B=arguments.length;F<B;F++){N=arguments[F];for(var V in N)Object.prototype.hasOwnProperty.call(N,V)&&(I[V]=N[V])}return I},f.apply(this,arguments)};Object.defineProperty(l,"__esModule",{value:!0}),l.cloneNode=l.hasChildren=l.isDocument=l.isDirective=l.isComment=l.isText=l.isCDATA=l.isTag=l.Element=l.Document=l.NodeWithChildren=l.ProcessingInstruction=l.Comment=l.Text=l.DataNode=l.Node=void 0;var u=e(99960),c=new Map([[u.ElementType.Tag,1],[u.ElementType.Script,1],[u.ElementType.Style,1],[u.ElementType.Directive,1],[u.ElementType.Text,3],[u.ElementType.CDATA,4],[u.ElementType.Comment,8],[u.ElementType.Root,9]]),_=function(){function I(N){this.type=N,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(I.prototype,"nodeType",{get:function(){var N;return(N=c.get(this.type))!==null&&N!==void 0?N:1},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"parentNode",{get:function(){return this.parent},set:function(N){this.parent=N},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"previousSibling",{get:function(){return this.prev},set:function(N){this.prev=N},enumerable:!1,configurable:!0}),Object.defineProperty(I.prototype,"nextSibling",{get:function(){return this.next},set:function(N){this.next=N},enumerable:!1,configurable:!0}),I.prototype.cloneNode=function(N){return N===void 0&&(N=!1),A(this,N)},I}();l.Node=_;var g=function(I){o(N,I);function N(F,B){var V=I.call(this,F)||this;return V.data=B,V}return Object.defineProperty(N.prototype,"nodeValue",{get:function(){return this.data},set:function(F){this.data=F},enumerable:!1,configurable:!0}),N}(_);l.DataNode=g;var E=function(I){o(N,I);function N(F){return I.call(this,u.ElementType.Text,F)||this}return N}(g);l.Text=E;var v=function(I){o(N,I);function N(F){return I.call(this,u.ElementType.Comment,F)||this}return N}(g);l.Comment=v;var y=function(I){o(N,I);function N(F,B){var V=I.call(this,u.ElementType.Directive,B)||this;return V.name=F,V}return N}(g);l.ProcessingInstruction=y;var T=function(I){o(N,I);function N(F,B){var V=I.call(this,F)||this;return V.children=B,V}return Object.defineProperty(N.prototype,"firstChild",{get:function(){var F;return(F=this.children[0])!==null&&F!==void 0?F:null},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"childNodes",{get:function(){return this.children},set:function(F){this.children=F},enumerable:!1,configurable:!0}),N}(_);l.NodeWithChildren=T;var w=function(I){o(N,I);function N(F){return I.call(this,u.ElementType.Root,F)||this}return N}(T);l.Document=w;var S=function(I){o(N,I);function N(F,B,V,Z){V===void 0&&(V=[]),Z===void 0&&(Z=F==="script"?u.ElementType.Script:F==="style"?u.ElementType.Style:u.ElementType.Tag);var Y=I.call(this,Z,V)||this;return Y.name=F,Y.attribs=B,Y}return Object.defineProperty(N.prototype,"tagName",{get:function(){return this.name},set:function(F){this.name=F},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"attributes",{get:function(){var F=this;return Object.keys(this.attribs).map(function(B){var V,Z;return{name:B,value:F.attribs[B],namespace:(V=F["x-attribsNamespace"])===null||V===void 0?void 0:V[B],prefix:(Z=F["x-attribsPrefix"])===null||Z===void 0?void 0:Z[B]}})},enumerable:!1,configurable:!0}),N}(T);l.Element=S;function O(I){return(0,u.isTag)(I)}l.isTag=O;function p(I){return I.type===u.ElementType.CDATA}l.isCDATA=p;function d(I){return I.type===u.ElementType.Text}l.isText=d;function a(I){return I.type===u.ElementType.Comment}l.isComment=a;function P(I){return I.type===u.ElementType.Directive}l.isDirective=P;function C(I){return I.type===u.ElementType.Root}l.isDocument=C;function D(I){return Object.prototype.hasOwnProperty.call(I,"children")}l.hasChildren=D;function A(I,N){N===void 0&&(N=!1);var F;if(d(I))F=new E(I.data);else if(a(I))F=new v(I.data);else if(O(I)){var B=N?x(I.children):[],V=new S(I.name,f({},I.attribs),B);B.forEach(function(G){return G.parent=V}),I.namespace!=null&&(V.namespace=I.namespace),I["x-attribsNamespace"]&&(V["x-attribsNamespace"]=f({},I["x-attribsNamespace"])),I["x-attribsPrefix"]&&(V["x-attribsPrefix"]=f({},I["x-attribsPrefix"])),F=V}else if(p(I)){var B=N?x(I.children):[],Z=new T(u.ElementType.CDATA,B);B.forEach(function(L){return L.parent=Z}),F=Z}else if(C(I)){var B=N?x(I.children):[],Y=new w(B);B.forEach(function(L){return L.parent=Y}),I["x-mode"]&&(Y["x-mode"]=I["x-mode"]),F=Y}else if(P(I)){var ne=new y(I.name,I.data);I["x-name"]!=null&&(ne["x-name"]=I["x-name"],ne["x-publicId"]=I["x-publicId"],ne["x-systemId"]=I["x-systemId"]),F=ne}else throw new Error("Not implemented yet: ".concat(I.type));return F.startIndex=I.startIndex,F.endIndex=I.endIndex,I.sourceCodeLocation!=null&&(F.sourceCodeLocation=I.sourceCodeLocation),F}l.cloneNode=A;function x(I){for(var N=I.map(function(B){return A(B,!0)}),F=1;F<N.length;F++)N[F].prev=N[F-1],N[F-1].next=N[F];return N}},62378:z=>{"use strict";z.exports=function(e){for(var o=[],f=e.length,u=0;u<f;u++){var c=e.charCodeAt(u);if(c>=55296&&c<=56319&&f>u+1){var _=e.charCodeAt(u+1);_>=56320&&_<=57343&&(c=(c-55296)*1024+_-56320+65536,u+=1)}if(c<128){o.push(c);continue}if(c<2048){o.push(c>>6|192),o.push(c&63|128);continue}if(c<55296||c>=57344&&c<65536){o.push(c>>12|224),o.push(c>>6&63|128),o.push(c&63|128);continue}if(c>=65536&&c<=1114111){o.push(c>>18|240),o.push(c>>12&63|128),o.push(c>>6&63|128),o.push(c&63|128);continue}o.push(239,191,189)}return new Uint8Array(o).buffer}},44076:function(z,l,e){"use strict";var o=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(l,"__esModule",{value:!0}),l.decodeHTML=l.decodeHTMLStrict=l.decodeXML=void 0;var f=o(e(59323)),u=o(e(29591)),c=o(e(2586)),_=o(e(26)),g=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;l.decodeXML=E(c.default),l.decodeHTMLStrict=E(f.default);function E(T){var w=y(T);return function(S){return String(S).replace(g,w)}}var v=function(T,w){return T<w?1:-1};l.decodeHTML=function(){for(var T=Object.keys(u.default).sort(v),w=Object.keys(f.default).sort(v),S=0,O=0;S<w.length;S++)T[O]===w[S]?(w[S]+=";?",O++):w[S]+=";";var p=new RegExp("&(?:"+w.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),d=y(f.default);function a(P){return P.substr(-1)!==";"&&(P+=";"),d(P)}return function(P){return String(P).replace(p,a)}}();function y(T){return function(S){if(S.charAt(1)==="#"){var O=S.charAt(2);return O==="X"||O==="x"?_.default(parseInt(S.substr(3),16)):_.default(parseInt(S.substr(2),10))}return T[S.slice(1,-1)]||S}}},26:function(z,l,e){"use strict";var o=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(l,"__esModule",{value:!0});var f=o(e(33600)),u=String.fromCodePoint||function(_){var g="";return _>65535&&(_-=65536,g+=String.fromCharCode(_>>>10&1023|55296),_=56320|_&1023),g+=String.fromCharCode(_),g};function c(_){return _>=55296&&_<=57343||_>1114111?"\uFFFD":(_ in f.default&&(_=f.default[_]),u(_))}l.default=c},87322:function(z,l,e){"use strict";var o=this&&this.__importDefault||function(C){return C&&C.__esModule?C:{default:C}};Object.defineProperty(l,"__esModule",{value:!0}),l.escapeUTF8=l.escape=l.encodeNonAsciiHTML=l.encodeHTML=l.encodeXML=void 0;var f=o(e(2586)),u=v(f.default),c=y(u);l.encodeXML=P(u);var _=o(e(59323)),g=v(_.default),E=y(g);l.encodeHTML=O(g,E),l.encodeNonAsciiHTML=P(g);function v(C){return Object.keys(C).sort().reduce(function(D,A){return D[C[A]]="&"+A+";",D},{})}function y(C){for(var D=[],A=[],x=0,I=Object.keys(C);x<I.length;x++){var N=I[x];N.length===1?D.push("\\"+N):A.push(N)}D.sort();for(var F=0;F<D.length-1;F++){for(var B=F;B<D.length-1&&D[B].charCodeAt(1)+1===D[B+1].charCodeAt(1);)B+=1;var V=1+B-F;V<3||D.splice(F,V,D[F]+"-"+D[B])}return A.unshift("["+D.join("")+"]"),new RegExp(A.join("|"),"g")}var T=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,w=String.prototype.codePointAt!=null?function(C){return C.codePointAt(0)}:function(C){return(C.charCodeAt(0)-55296)*1024+C.charCodeAt(1)-56320+65536};function S(C){return"&#x"+(C.length>1?w(C):C.charCodeAt(0)).toString(16).toUpperCase()+";"}function O(C,D){return function(A){return A.replace(D,function(x){return C[x]}).replace(T,S)}}var p=new RegExp(c.source+"|"+T.source,"g");function d(C){return C.replace(p,S)}l.escape=d;function a(C){return C.replace(c,S)}l.escapeUTF8=a;function P(C){return function(D){return D.replace(p,function(A){return C[A]||S(A)})}}},45863:(z,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.decodeXMLStrict=l.decodeHTML5Strict=l.decodeHTML4Strict=l.decodeHTML5=l.decodeHTML4=l.decodeHTMLStrict=l.decodeHTML=l.decodeXML=l.encodeHTML5=l.encodeHTML4=l.escapeUTF8=l.escape=l.encodeNonAsciiHTML=l.encodeHTML=l.encodeXML=l.encode=l.decodeStrict=l.decode=void 0;var o=e(44076),f=e(87322);function u(v,y){return(!y||y<=0?o.decodeXML:o.decodeHTML)(v)}l.decode=u;function c(v,y){return(!y||y<=0?o.decodeXML:o.decodeHTMLStrict)(v)}l.decodeStrict=c;function _(v,y){return(!y||y<=0?f.encodeXML:f.encodeHTML)(v)}l.encode=_;var g=e(87322);Object.defineProperty(l,"encodeXML",{enumerable:!0,get:function(){return g.encodeXML}}),Object.defineProperty(l,"encodeHTML",{enumerable:!0,get:function(){return g.encodeHTML}}),Object.defineProperty(l,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return g.encodeNonAsciiHTML}}),Object.defineProperty(l,"escape",{enumerable:!0,get:function(){return g.escape}}),Object.defineProperty(l,"escapeUTF8",{enumerable:!0,get:function(){return g.escapeUTF8}}),Object.defineProperty(l,"encodeHTML4",{enumerable:!0,get:function(){return g.encodeHTML}}),Object.defineProperty(l,"encodeHTML5",{enumerable:!0,get:function(){return g.encodeHTML}});var E=e(44076);Object.defineProperty(l,"decodeXML",{enumerable:!0,get:function(){return E.decodeXML}}),Object.defineProperty(l,"decodeHTML",{enumerable:!0,get:function(){return E.decodeHTML}}),Object.defineProperty(l,"decodeHTMLStrict",{enumerable:!0,get:function(){return E.decodeHTMLStrict}}),Object.defineProperty(l,"decodeHTML4",{enumerable:!0,get:function(){return E.decodeHTML}}),Object.defineProperty(l,"decodeHTML5",{enumerable:!0,get:function(){return E.decodeHTML}}),Object.defineProperty(l,"decodeHTML4Strict",{enumerable:!0,get:function(){return E.decodeHTMLStrict}}),Object.defineProperty(l,"decodeHTML5Strict",{enumerable:!0,get:function(){return E.decodeHTMLStrict}}),Object.defineProperty(l,"decodeXMLStrict",{enumerable:!0,get:function(){return E.decodeXML}})},14531:(z,l,e)=>{"use strict";e.d(l,{A:()=>o});const o={postAuthor:"custom-css-email-post-author",avatar:"custom-css-email-avatar",digestPostEmbed:"custom-css-email-digest-post-embed"}},82626:(z,l,e)=>{"use strict";e.d(l,{Substitutions:()=>o});const o={PLAY_ON_SUBSTACK:"%%play_on_substack_url%%",PLAY_ON_SUBSTACK_UFI:"%%play_on_substack_ufi_url%%",POST_URL:"%%post_url%%",POST_TITLE_URL:"%%post_title_url%%",NAME:"%%name%%",FIRST_NAME:"%%first_name%%",FIRST_NAME_NO_SPACE:"%%first_name_no_space%%",UNSUBSCRIBE_URL:"%%unsubscribe_url%%",ONE_CLICK_UNSUBSCRIBE_URL:"%%one_click_unsubscribe_url%%",CHECKOUT_URL:"%%checkout_url%%",FOUNDING_CHECKOUT_URL:"%%founding_checkout_url%%",ACCOUNT_URL:"%%account_url%%",ARCHIVE_URL:"%%archive_url%%",PUBLICATION_NAME:"%%publication_name%%",PUBLICATION_HERO_TEXT:"%%publication_hero_text%%",AUTHOR_NAME:"%%author_name%%",AUTHOR_FIRST_NAME:"%%author_first_name%%",AUTHOR_BIO:"%%author_bio%%",AUTHOR_PHOTO_URL:"%%author_photo_url%%",SHARE_URL:"%%share_url%%",SHARE_PUB_URL:"%%share_pub_url%%",PODCAST_SETUP_URL:"%%podcast_setup_url%%",PERSONAL_PODCAST_SETUP_URL:"%%personal_podcast_setup_url%%",ALL_PODCASTS_SETUP_URL:"%%all_podcasts_setup_url%%",HOME_LINK:"%%home_link%%",THREAD_URL:"%%thread_url%%",CHAT_URL:"%%chat_url%%",MEETINGS_URL:"%%meetings_url%%",DASHBOARD_URL:"%%dashboard_url%%",CONTINUE_URL:"%%continue_url%%",LEADERBOARD_URL:"%%leaderboard_url%%",PAID_SUBSCRIPTION_BENEFITS_1:"%%paid_subscription_benefits_1%%",PAID_SUBSCRIPTION_BENEFITS_2:"%%paid_subscription_benefits_2%%",PAID_SUBSCRIPTION_BENEFITS_3:"%%paid_subscription_benefits_3%%",PAID_OR_FOUNDING_TIER_NAME:"%%paid_or_founding_tier_name%%",PUBLICATION_URL:"%%publication_url%%",MAGIC_UNLINK_URL:"%%magic_unlink_url%%",TWITTER_SCREEN_NAME:"%%twitter_screen_name%%",REFERRAL_URL:"%%referral_url%%",PRINTED_REFERRAL_URL:"%%printed_referral_url%%",COMMENTS_URL:"%%comments_url%%",HALF_MAGIC_COMMENTS_URL:"%%half_magic_comments_url%%",MAGIC_AMP_COMMENTS_URL:"%%magic_amp_comments_url%%",POST_APP_LINK_URL:"%%post_app_link_url%%",POST_APP_LINK_PLAY_URL:"%%post_app_link_play_url%%",SUBSCRIPTION_TYPE:"%%subscription_type%%",SUBSCRIPTION_DAYS_LEFT:"%%subscription_days_left%%",SUBSCRIPTION_DAYS_LEFT_LABEL:"%%subscription_days_left_label%%",SUBSCRIPTION_EXPIRY_DATE:"%%subscription_expiry_date%%",REACTION_URL:"%%reaction_url%%",HALF_POST_URL:"%%half_post_url%%",RELATED_PUB_URL:"%%related_pub_url%%",RELATED_PUB_DOMAIN:"%%related_pub_domain%%",REPLY_TO_AUTHOR:"%%reply_to_author%%",REPLY_TO_AUTHOR_PLUS:"%%reply_to_author_plus%%",REPLY_TO_FORUM:"%%reply_to_forum%%",REPLY_TO_FORUM_PLUS:"%%reply_to_forum_plus%%",SAVE_POST_URL:"%%save_post_url%%",RESTACK_URL:"%%restack_url%%",RESTACK_COMMENT_URL:"%%restack_comment_url%%",POST_UNSUBSCRIBE_URL:"%%post_unsubscribe_url%%",COMMENT_URL:"%%comment_url%%",COMMENTER_FROM_NAME:"%%commenter_from_name%%",COMMENTER_NAME:"%%commenter_name%%",COMMENT_REPLY_URL:"%%comment_reply_url%%",PARENT_COMMENT_URL:"%%parent_comment_url%%",REACTOR_FROM_NAMES:"%%reactor_from_names%%",REACTOR_NAMES:"%%reactor_names%%",RENEWAL_URL:"%%renewal_url%%",NUM_REFERRALS_REQUIRED:"%%num_referrals_required%%",REWARD_DESCRIPTION:"%%reward_description%%",FILE_DOWNLOAD_TOKEN:"%%file_download_token%%",COUPON_URL:"%%coupon_url%%",START_WRITING_URL:"%%start_writing_url%%",PREACT_COMPAT_HTML_COMMENT_OPEN:"<x_preact_compatible_html_comment_x>",PREACT_COMPAT_HTML_COMMENT_CLOSE:"</x_preact_compatible_html_comment_x>",USER_ID:"%%user_id%%",USER_ID_B36:"%%user_id_b36%%",USER_ID_JWT:"%%user_id_jwt%%",FIRST_NOTE_EMBED:"%%first_note_embed%%"}},91004:(z,l,e)=>{"use strict";e.d(l,{B8:()=>D,BZ:()=>P,O1:()=>A,Po:()=>C,Ui:()=>d,Vn:()=>p,WZ:()=>a,Wn:()=>T,b6:()=>O,lc:()=>w,sn:()=>S});var o=e(4605),f=e(3258),u=e(58884),c=e(39419),_=e.n(c),g=e(15045),E=e(70444),v=e(83322);function y(x,I,N){const{shareUrl:F,post:B,pub:V,utm_campaign:Z}=N;(0,f.j)(f.FP.SHARE_LINK_CLICKED,{name:x,post_id:B?B.id:null,source:Z});const Y=I(F);Y&&typeof Y=="string"&&(Y.startsWith("http")?window.open(Y,"_blank"):document.location.href=Y),(0,u.ex)(`${V==null?void 0:V.subdomain} shared`,!0)}function T(x){const{pub:I,post:N,sharingSelfPub:F,shareName:B}=x,V=(I==null?void 0:I.twitter_screen_name)||I&&v.twitterScreenNames[I.subdomain];let Z=B;I&&F?Z="I just started a Substack! You can subscribe to it here":(I&&!N&&(Z=`Subscribe to ${Z}`),V&&(!N||I&&(!N.publishedBylines.length||N.publishedBylines.some(Y=>Y.id===I.author_id)))&&(Z+=`, by @${V}`)),y("twitter",Y=>(0,g.pathWithQuery)("https://twitter.com/share",{url:Y,text:Z}),x)}function w(x){y("linkedin",I=>(0,g.pathWithQuery)("https://www.linkedin.com/sharing/share-offsite/",{url:I}),x)}function S(x){y("reddit",I=>(0,g.pathWithQuery)("https://www.reddit.com/submit/",{url:I,title:x.shareName}),x)}function O(x){y("hackernews",I=>(0,g.pathWithQuery)("https://news.ycombinator.com/submitlink",{url:I,title:x.shareName}),x)}function p(x){y("pinterest",I=>(0,g.pathWithQuery)("https://www.pinterest.com/pin/create/button",{u:I,description:x.shareName}),x)}function d(x){y("copy",I=>((0,c.copyToClipboard)(I),!1),x),(0,o.ZP)("Link copied to clipboard")}function a(x){y("email",I=>(0,g.pathWithQuery)("mailto:",{subject:x.shareName,body:I}),x)}function P(x){y("notes",I=>(0,g.pathWithQuery)((0,E.TK)({message:I})),x)}function C(x){y("facebook",I=>(0,g.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:I}),x)}function D(x={}){const{post:I,pub:N,profile:F}=x;return I?I.title:N?N.name:F?`${F.name} on Substack`:document.title}function A(x,I={}){const{pub:N,post:F,profile:B,user:V,utm_campaign:Z,medium:Y,referral_token:ne,useCustomDomainOverOpen:G}=I,L={r:V!=null&&V.id?V.id.toString(36):ne,utm_campaign:Z||(F?"post":B?"profile":N?"pub":"unknown"),utm_medium:Y||"web",utm_source:x};if(N!=null&&N.subdomain&&(F!=null&&F.slug)){const W=G&&N.custom_domain?N.custom_domain:null;return(0,g.getPostAppLinkUrl)(N.subdomain,F.slug,{params:L},W)}return(0,g.pathWithQuery)(`${F?(0,g.getPostUrl)(N,F):N?`${N.base_url}/`:typeof window!="undefined"?window.location.href.split("?")[0]:""}`,L)}},36487:(z,l,e)=>{"use strict";e.d(l,{u:()=>f});var o=e(83322);function f(u){let c;try{c=new URL(u)}catch(E){return console.error("Failed to parse URL",u,E),u}c.hostname=c.hostname.replace(/^www\./,""),c.pathname=c.pathname.replace(/\/+$/,""),c.hash="";const _=[];c.hostname.includes("youtube")&&_.push("v"),c.searchParams.forEach((E,v)=>{_.includes(v)||c.searchParams.delete(v)});const g=c.toString().replace(/^\w+:\/\//,"").replace(/\/+$/,"");return g?(0,o.truncateText)(g,40):u}},55687:(z,l,e)=>{"use strict";e.d(l,{u:()=>f});const o=Intl.NumberFormat(void 0,{maximumSignificantDigits:4});function f(u){return o.format(u)}},80076:(z,l,e)=>{"use strict";e.d(l,{d:()=>o});function o(f){return Array.from(f.items).filter(u=>u.kind==="file"&&u.type.startsWith("image/")).length>0}},62952:(z,l,e)=>{"use strict";e.d(l,{h:()=>u});var o=e(30396),f=e(80076);function u({onAddFiles:c}){const _=(0,o.sO)(),g=(0,o.sO)(),[E,v]=(0,o.eJ)(!1),y=O=>{O instanceof DragEvent&&!O.defaultPrevented&&O.dataTransfer&&(0,f.d)(O.dataTransfer)&&(O.preventDefault(),c(Array.from(O.dataTransfer.files)),v(!1))},T=O=>{const{current:p}=_,{target:d}=O;!E&&p&&d&&d instanceof HTMLDivElement&&(p===d||p.contains(d))&&O.dataTransfer&&(0,f.d)(O.dataTransfer)&&(O.preventDefault(),g.current=d,v(!0))},w=O=>{g.current&&O.preventDefault()},S=O=>{const{current:p}=g;p&&O.relatedTarget!==p&&!p.contains(O.relatedTarget)&&(g.current=void 0,v(!1))};return{isDragging:E,props:{onDragEnter:T,onDragOver:w,onDragLeave:S,onDragEnd:S,onDrop:y,ref:_}}}},4070:(z,l,e)=>{"use strict";e.d(l,{Z:()=>V});var o=e(30396);function f(ne){var G,L;let W=0;if(ne)if(ne.content&&ne.content.length>0)for(const ie of ne.content)W+=f(ie);else W+=(L=(G=ne.text)==null?void 0:G.length)!=null?L:0;return W}var u=e(83322),c=Object.defineProperty,_=Object.defineProperties,g=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,T=(ne,G,L)=>G in ne?c(ne,G,{enumerable:!0,configurable:!0,writable:!0,value:L}):ne[G]=L,w=(ne,G)=>{for(var L in G||(G={}))v.call(G,L)&&T(ne,L,G[L]);if(E)for(var L of E(G))y.call(G,L)&&T(ne,L,G[L]);return ne},S=(ne,G)=>_(ne,g(G));function O(ne,{limit:G=420}={}){var L,W,ie,ue;let le=null,J=0,te=!1;if(ne)if(G<=0)te=!0;else if(ne.content&&ne.content.length>0){le=S(w({},ne),{content:[]});for(const se of ne.content){const ee=O(se,{limit:G-J});if(ee.doc){if((L=le.content)==null||L.push(ee.doc),J+=ee.length,ee.isTruncated){te=!0;break}}else{te=!0;break}}}else le=S(w({},ne),{text:(W=(0,u.truncateText)(ne.text,G))!=null?W:void 0}),J+=(ue=(ie=le.text)==null?void 0:ie.length)!=null?ue:0,ne.text!==le.text&&(te=!0);return{doc:le,length:J,isTruncated:te}}var p=e(36487),d=Object.defineProperty,a=Object.defineProperties,P=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,D=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,x=(ne,G,L)=>G in ne?d(ne,G,{enumerable:!0,configurable:!0,writable:!0,value:L}):ne[G]=L,I=(ne,G)=>{for(var L in G||(G={}))D.call(G,L)&&x(ne,L,G[L]);if(C)for(var L of C(G))A.call(G,L)&&x(ne,L,G[L]);return ne},N=(ne,G)=>a(ne,P(G));const F=420,B=380;function V(ne,{limit:G=F,triggerLimit:L=B}={}){return(0,o.Ye)(()=>{var W;const ie=(W=ne==null?void 0:ne.body_json)!=null?W:ne!=null&&ne.body?Z(ne.body):null,ue=Y(ie);if(f(ue)<=L)return{bodyJson:ue,truncatedBodyJson:ue,isTruncated:!1};const le=O(ue,{limit:G});return{bodyJson:ue,truncatedBodyJson:le.doc,isTruncated:le.isTruncated}},[ne==null?void 0:ne.body,ne==null?void 0:ne.body_json])}function Z(ne){return{type:"doc",attrs:{schemaVersion:"v1"},content:ne.split(`

`).map(G=>({type:"paragraph",content:[{type:"text",text:G}]}))}}function Y(ne){var G,L;let W=null;if(ne)if(W=N(I({},ne),{content:void 0,text:void 0}),ne!=null&&ne.content){W.content=[];for(const ie of ne.content){const ue=Y(ie);ue&&W.content.push(ue)}}else{const ie=(G=ne.marks)==null?void 0:G.find(ue=>ue.type==="link");(L=ie==null?void 0:ie.attrs)!=null&&L.href?W.text=(0,p.u)(ie.attrs.href):W.text=ne.text}return W}},95582:(z,l,e)=>{"use strict";e.d(l,{L:()=>u});var o=e(30396),f=(c,_,g)=>new Promise((E,v)=>{var y=S=>{try{w(g.next(S))}catch(O){v(O)}},T=S=>{try{w(g.throw(S))}catch(O){v(O)}},w=S=>S.done?E(S.value):Promise.resolve(S.value).then(y,T);w((g=g.apply(c,_)).next())});function u(c,_){const[g,E]=(0,o._Y)(c,_),v=(0,o.sO)(g);v.current=g;const y=(0,o.Ye)(()=>T=>f(this,null,function*(){if(typeof T=="function")return yield T(y,()=>v.current);E(T)}),[]);return[g,y]}},92298:(z,l,e)=>{"use strict";e.d(l,{j:()=>v,l:()=>y});var o=Object.defineProperty,f=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,_=(T,w,S)=>w in T?o(T,w,{enumerable:!0,configurable:!0,writable:!0,value:S}):T[w]=S,g=(T,w)=>{for(var S in w||(w={}))u.call(w,S)&&_(T,S,w[S]);if(f)for(var S of f(w))c.call(w,S)&&_(T,S,w[S]);return T};let E={};function v(T){E=g({},T)}function y(){return g({},E)}},8461:(z,l,e)=>{"use strict";e.d(l,{IU:()=>E});var o=e(15045),f=e(83322),u=e(86405),c=e(28876),_=e(32081);function g(w,S,{quantity:O=1,plan:p,isSubscription:d,coupon:a}){var P;const C=(w/100).toFixed(2),D=(w/O/100).toFixed(2);S=S.toUpperCase(),E();const A=getConfig(),x=getPublicationFbPixelId();x&&(new Image().src=`https://www.facebook.com/tr?id=${x}&ev=Purchase&cd[value]=${C}&cd[currency]=${S}`),x&&d&&(new Image().src=`https://www.facebook.com/tr?id=${x}&ev=Subscribe&cd[value]=${C}&cd[currency]=${S}`),recordTwitterEvent("purchase",{price:Number(D),quantity:O});const I=randomString(),N=((P=p.amount)!=null?P:0)*O;let F;a&&a.percent_off?F=Math.round(N*((a.percent_off_precise||a.percent_off)/100)):a&&a.amount_off&&(F=Math.max(0,a.amount_off));const B=p.name;sendPublisherGa4Event("purchase",{transaction_id:I,value:C,currency:S,coupon:(a==null?void 0:a.name)||(a==null?void 0:a.id),items:[{item_id:p&&p.id,item_name:p&&(B||p.nickname||p.id)||"subscription",coupon:(a==null?void 0:a.name)||(a==null?void 0:a.id),discount:F,index:0,price:D,quantity:O}]}),sendPublisherGaEvent("transaction",{ti:I,tr:C,cu:S}),sendPublisherGaEvent("item",{ti:I,in:p&&(B||p.nickname||p.id)||"subscription",ip:D,iq:O,ic:p&&p.id,cu:S});const V="7AeECMLq68wDEKuN5pYB";sendLocalGaEvent("conversion",A!=null&&A.adwordsAccountId&&(A!=null&&A.adwordsEventSendTo)?{send_to:`${A.adwordsAccountId}/${V}`}:{});const Z=y();if(Z){const{id:Y,label:ne}=Z;new Image().src=`//www.googleadservices.com/pagead/conversion/${Y}/?value=${C}&currency_code=${S}&label=${ne}&guid=ON&script=0`}if(typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.conversions&&window.PARSELY.conversions.trackSubscription&&window.PARSELY.conversions.trackSubscription(`${p&&(B||p.nickname||p.id)||""} Subscription`),T()==="bankless"){const Y=p?`paid_${p.interval}ly`:"paid";window.history.replaceState({},document.title,updateQuery({plan:Y})),page()}}function E(){const w=(0,c.iE)();if(w.properties.is_free_subscribed)return;w.properties.is_free_subscribed=!0,(0,c.Hx)("sign_up"),(0,c.XY)("event",{ec:"Signup",ea:"Signup Success"});const S="Yo9oCMOM1MYDEKuN5pYB";(0,c.NA)("conversion",w!=null&&w.adwordsAccountId&&(w!=null&&w.adwordsEventSendTo)?{send_to:`${w.adwordsAccountId}/${S}`}:{});const O=(0,c.xL)();O&&(new Image().src=`https://www.facebook.com/tr?id=${O}&ev=CompleteRegistration`),(0,u.g)("signup"),typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.conversions&&window.PARSELY.conversions.trackNewsletterSignup&&window.PARSELY.conversions.trackNewsletterSignup("Newsletter Sign Up"),T()==="bankless"&&(window.history.replaceState({},document.title,(0,o.updateQuery)({plan:"free"})),(0,_.Md)())}function v(w={}){sendLocalGaEvent("Publication Created",w)}function y(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.google_conversion_info}function T(){var w,S;const O=typeof window!="undefined"&&((w=window._preloads)==null?void 0:w.pub);return((S=O==null?void 0:O.parent_publication)==null?void 0:S.subdomain)||(O==null?void 0:O.subdomain)}},3258:(z,l,e)=>{"use strict";e.d(l,{A:()=>u.A,FP:()=>u.FP,IU:()=>o.IU,K8:()=>u.K8,XY:()=>f.XY,j:()=>u.j,jA:()=>u.jA,jJ:()=>u.jJ,uF:()=>c.S,x6:()=>u.x6,xG:()=>u.xG});var o=e(8461),f=e(28876),u=e(32081),c=e(31256)},31256:(z,l,e)=>{"use strict";e.d(l,{S:()=>g});var o=e(39419),f=e.n(o),u=e(28876),c=e(32081);let _=null;function g(){var E;typeof window!="undefined"&&((E=window==null?void 0:window.navigator)!=null&&E.sendBeacon)&&(window.navigator.sendBeacon=window.navigator.sendBeacon.bind(window.navigator)),(0,u.LH)(),(0,u.dl)(),(0,u.jP)(),(0,c.Md)(),(0,o.windowReady)(()=>{const v=_;_=null,v&&v.length>0&&(0,c.At)(v)})}},31032:(z,l,e)=>{"use strict";e.d(l,{W:()=>f});var o=e(83322);const f=(0,o.randomString)()},28876:(z,l,e)=>{"use strict";e.d(l,{Hx:()=>T,LH:()=>O,NA:()=>w,XY:()=>S,dl:()=>v,iE:()=>y,jP:()=>p,xL:()=>a});var o=e(15045),f=e(39776),u=e(39419),c=e.n(u),_=e(31032);function g(P,{toHead:C=!1}={}){(0,u.windowReady)(()=>{const D=document.createElement("script");if(D.async=!0,D.src=P,C)document.head.appendChild(D);else{const A=document.getElementsByTagName("script")[0];A.parentNode&&A.parentNode.insertBefore(D,A)}})}function E(){return typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.google_analytics_4_token}function v(){var P,C,D;if(typeof window=="undefined")return;const A=(C=(P=window==null?void 0:window._preloads)==null?void 0:P.pub)==null?void 0:C.google_tag_manager_token;if(!A)return;const x=E();if(A===x)return;window.dataLayer=window.dataLayer||[],(0,f.default)("exempt_from_gtm_filter")?window.dataLayer.push({"gtm.allowlist":["customPixels","customScripts","google","html","nonGooglePixels","nonGoogleScripts","nonGoogleIframes","sandboxedScripts"]}):window.dataLayer.push({"gtm.allowlist":["google"],"gtm.blocklist":["customPixels","customScripts","html","nonGooglePixels","nonGoogleScripts","nonGoogleIframes","sandboxedScripts"]}),window.dataLayer.push({"gtm.start":new Date().getTime(),event:"gtm.js"});const I=y();(D=I.user)!=null&&D.id&&window.dataLayer.push({userId:I.user.id.toString()}),g(`https://www.googletagmanager.com/gtm.js?id=${A}`,{toHead:!0})}function y(){let P;return typeof window!="undefined"&&(P=window._analyticsConfig),P||(P={}),P.properties||(P.properties={}),P.properties.browserSessionId=_.W,P}function T(P,C={}){var D;if(typeof window=="undefined"||!(window!=null&&window.publisherGA4gtag))return;const A=y();(D=A.user)!=null&&D.id&&(C.user_id=A.user.id.toString()),A.anonymousId&&(C.client_id=A.anonymousId),window.publisherGA4gtag("event",P,C)}function w(P,C){typeof window=="undefined"||!(window!=null&&window.gtag)||window.gtag("event",P,C)}function S(P,C={}){var D;const A=y(),x=d();if(!x)return;const I=(0,o.parseQuery)(window.location.href);C=Object.assign({v:1,t:P,tid:x,cid:A.anonymousId,dl:document.location.origin+document.location.pathname+document.location.search,dt:document.title||"",dr:document.referrer||"",cn:I.utm_campaign,cs:I.utm_source,cm:I.utm_medium,ck:I.utm_term,cc:I.utm_content,ci:I.utm_id},C),(D=A.user)!=null&&D.id&&(C.uid=A.user.id.toString()),new Image().src=`https://www.google-analytics.com/collect?${(0,o.serializeQuery)(C)}`}function O(){var P;if(typeof window=="undefined")return;const C=E();if(!C)return;window.GA4DataLayer=window.GA4DataLayer||[],window.publisherGA4gtag=function(){var A;(A=window.GA4DataLayer)==null||A.push(arguments)},window.publisherGA4gtag("js",new Date),window.publisherGA4gtag("config",C);const D=y();(P=D.user)!=null&&P.id&&window.publisherGA4gtag("config",C,{user_id:D.user.id.toString()}),D.anonymousId&&window.publisherGA4gtag("set","client_id",D.anonymousId),g(`https://www.googletagmanager.com/gtm.js?id=${C}&l=GA4DataLayer`,{toHead:!0})}function p(){var P;if(typeof window=="undefined")return;const C=y();!C.localGaPixelId&&!C.adwordsAccountId||(window.localGaDataLayer=window.localGaDataLayer||[],window.gtag=function(){var D;(D=window==null?void 0:window.localGaDataLayer)==null||D.push(arguments)},window.gtag("js",new Date),C.localGaPixelId&&window.gtag("config",C.localGaPixelId),C.adwordsAccountId&&window.gtag("config",C.adwordsAccountId),(P=C.user)!=null&&P.id&&window.gtag("userId",C.user.id.toString()),g(`https://www.googletagmanager.com/gtag/js?id=${C.localGaPixelId}&l=localGaDataLayer`))}function d(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.ga_pixel_id}function a(){return typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.fb_pixel_id}},32081:(z,l,e)=>{"use strict";e.d(l,{A:()=>F,At:()=>ue,FP:()=>D,K8:()=>G,Md:()=>W,j:()=>B,jA:()=>L,jJ:()=>Z,x6:()=>V,xG:()=>ne});var o=e(85928),f=e.n(o),u=e(44043),c=e(15045),_=e(63830),g=e(86405),E=e(39419),v=e.n(E),y=e(92298),T=e(31032),w=e(28876),S=Object.defineProperty,O=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,a=(J,te,se)=>te in J?S(J,te,{enumerable:!0,configurable:!0,writable:!0,value:se}):J[te]=se,P=(J,te)=>{for(var se in te||(te={}))p.call(te,se)&&a(J,se,te[se]);if(O)for(var se of O(te))d.call(te,se)&&a(J,se,te[se]);return J},C;const D=u.F,A=10,x=typeof window!="undefined"&&window!=window.top&&(0,_.l)(E.uuidV4);let I="browser";typeof window!="undefined"&&(navigator.standalone||(C=window.matchMedia)!=null&&C.call(window,"(display-mode: standalone)").matches)&&(I="standalone");const N=null;function F(){return x}function B(J,te={}){var se;if(["development","test"].includes((se="production")!=null?se:"")&&!J)throw new Error("`undefined` event passed to FRONTEND track call");ie(J,Object.assign({},te))}function V(J,te,se={}){B(D.PUBLICATION_VISITED,P({visited_publication_id:J.id,visited_publication_subdomain:J.subdomain,source:te},se))}function Z({post:J,hasPaywall:te,surface:se,markRead:ee}){B(D.POST_SEEN,{post_id:J.id,post_audience:J.audience,post_type:J.type,has_paywall:te,post_age_minutes:J.post_date&&f()().diff(J.post_date,"minute"),surface:se}),ee&&Y(J.id)}function Y(J){return fetch(`/api/v1/posts/${J}/seen`,{method:"POST"})}function ne({post:J,hasPaywall:te,surface:se}){B(D.POST_BOTTOM_SEEN,{post_id:J.id,post_audience:J.audience,post_type:J.type,has_paywall:te,surface:se})}function G({post:J}){J!=null&&J.id&&(B(D.POST_PAGE_PINGBACK,{seconds:0,post_id:J.id}),setTimeout(()=>{B(D.POST_PAGE_PINGBACK,{seconds:10,post_id:J.id})},1e4))}function L({previous:J,url:te}){J&&(te.includes("_no_an=true")||W())}function W(J={}){var te,se;if(document.location.pathname.startsWith("/embed")&&typeof window!="undefined"&&((se=(te=window==null?void 0:window._preloads)==null?void 0:te.pub)!=null&&se.embed_tracking_disabled))return;ie(D.PAGES,Object.assign(le(),J));const ee=(0,w.xL)();ee&&(new Image().src=`https://www.facebook.com/tr?id=${ee}&ev=PageView`),(0,g.g)("pageview"),(0,w.XY)("pageview"),typeof window!="undefined"&&window.PARSELY&&window.PARSELY.loaded&&window.PARSELY.beacon&&window.PARSELY.beacon.trackPageView&&window.PARSELY.beacon.trackPageView({url:document.location.origin+document.location.pathname+document.location.search,urlref:document.referrer||"",js:1})}function ie(J,te={}){var se,ee;if(typeof window=="undefined")return;const ae={event:J,properties:Object.assign({browserSessionId:T.W,iframeVisitId:x},te),context:{client_type:"web",displayMode:I,page:{referrer:document.referrer,title:document.title,url:document.location.href},campaign:(0,y.l)()}},ce=(0,E.base64encode)(JSON.stringify(ae));N&&N.length<A?N.push(ce):new Image().src=(0,c.pathWithQuery)("/api/v1/firehose",{_:new Date().getTime(),d:ce}),(ee=(se=window==null?void 0:window._preloads)==null?void 0:se.user)!=null&&ee.is_global_admin&&console.log(`EVENT: ${J}`,te)}function ue(J){typeof window!="undefined"&&(new Image().src=(0,c.pathWithQuery)("/api/v1/firehose/batch",{_:new Date().getTime(),d:J.join(",")}))}function le(){const J={};if(typeof window!="undefined"){const te=window._preloads&&window._preloads.post,se=window.location&&/^\/p\/([^\/]+)/.exec(window.location.pathname);se&&te&&se[1]===te.slug&&(J.post_id=te.id,J.post_audience=te.audience,J.post_type=te.type)}return J}},66141:(z,l,e)=>{"use strict";e.d(l,{Z:()=>T});var o=e(15103),f=e(48583),u=e(95495),c=e(3258),_=e(85928),g=e.n(_),E=e(58884);const v=()=>{},y=(0,u.xu)(S=>(0,o.cn)({key:S,value:!1}));function T(S,O=null,p=v){const[d,a]=(0,f.KO)(y(S));if(!S)return[!0,v];const P=()=>{p(),(0,c.j)(c.FP.DASHBOARD_ACTION_BOX_DISMISSED,{key:S});const D=new Date;(0,E.ex)(S,D.toString()),a({key:S,value:!0})};return[d.value||w(S,O),P]}function w(S,O){let p;const d=typeof window=="undefined"?new Date().toString():(0,E.mM)(S);return d&&O?p=g()(d).add(O,"second").isAfterNow():p=!!d,p}},63030:(z,l,e)=>{"use strict";e.r(l),e.d(l,{getNewPubPodcastSettings:()=>a,getNewSectionPodcastSettings:()=>p,getPodcastEpisodeImageUrl:()=>P,getPubPodcastSettings:()=>d,getSectionPodcastSettings:()=>O});var o=e(15045),f=e(83322),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(C,D,A)=>D in C?u(C,D,{enumerable:!0,configurable:!0,writable:!0,value:A}):C[D]=A,T=(C,D)=>{for(var A in D||(D={}))E.call(D,A)&&y(C,A,D[A]);if(g)for(var A of g(D))v.call(D,A)&&y(C,A,D[A]);return C},w=(C,D)=>c(C,_(D));const S=C=>{if(!C)return[];const D=[];for(const A of C){if(D.length===2)break;const x=A.toLowerCase();for(const[I,N]of Object.entries(f.PODCAST_CATEGORIES)){if(D.length===2)break;if(I.toLowerCase()===x||I.toLowerCase().split(" & ").includes(x)){D.push({category:I});break}for(const F of N){if(D.length===2)break;if(F.toLowerCase()===x||F.toLowerCase().split(" & ").includes(x)){D.push({category:I,subcategory:F});break}}}}return D},O=({pub:C,section:D})=>{var A,x,I,N,F,B,V,Z;const Y=D==null?void 0:D.podcastSettings,ne=(x=(A=Y==null?void 0:Y.podcast_title)!=null?A:D==null?void 0:D.name)!=null?x:null,G=(N=(I=Y==null?void 0:Y.podcast_description)!=null?I:D==null?void 0:D.description)!=null?N:null,L=(F=Y==null?void 0:Y.itunes_podcast_primary_category)!=null?F:null,W=(B=Y==null?void 0:Y.itunes_podcast_primary_subcategory)!=null?B:null,ie=(V=Y==null?void 0:Y.itunes_podcast_secondary_category)!=null?V:null,ue=(Z=Y==null?void 0:Y.itunes_podcast_secondary_subcategory)!=null?Z:null,le=(Y==null?void 0:Y.itunes_explicit)||!1,J=(Y==null?void 0:Y.podcast_art_url)||(0,o.getDefaultPodcastArtUrlCDN)(),te=(Y==null?void 0:Y.paid_podcast_episode_art_url)||null,se=(Y==null?void 0:Y.podcast_byline)||C.podcast_byline||C.author_name||"",ee=(Y==null?void 0:Y.language)||C.podcast_language||"",ae=!!Y&&!!Y.podcast_feed_url,ce=ae?Y.podcast_feed_url:(0,o.getPodcastRssUrl)({pub:w(T({},C),{section:D})});return{title:ne,description:G,primaryCategory:L,primarySubcategory:W,secondaryCategory:ie,secondarySubcategory:ue,isExplicit:le,artUrl:J,byline:se,language:ee,isRedirected:ae,podcastRssUrl:ce,paidEpisodeArtUrl:te}},p=({pub:C,section:D})=>{var A,x;const I=(A=D==null?void 0:D.name)!=null?A:null,N=(x=D==null?void 0:D.description)!=null?x:null,F=null,B=null,V=null,Z=null,Y=!1,ne=(0,o.getDefaultPodcastArtUrlCDN)(),G=C.podcast_byline||C.author_name||"",L=C.podcast_language||"";return{title:I,description:N,primaryCategory:F,primarySubcategory:B,secondaryCategory:V,secondarySubcategory:Z,isExplicit:Y,artUrl:ne,byline:G,language:L,isRedirected:!1,podcastRssUrl:null,paidEpisodeArtUrl:null}},d=({pub:C})=>{var D,A;const x=C.podcast_title||C.name,I=C.podcast_description||C.hero_text,N=C.itunes_podcast_primary_category,F=C.itunes_podcast_primary_subcategory,B=C.itunes_podcast_secondary_category,V=C.itunes_podcast_secondary_subcategory,Z=(D=C.itunes_explicit)!=null?D:!1,Y=C.podcast_art_url||(0,o.getDefaultPodcastArtUrlCDN)(),ne=C.podcast_byline||C.author_name,G=C.podcast_language||"",L=!!C.show_pub_podcast_tab,W=!!C.podcast_feed_url,ie=T({},C);delete ie.section;const ue=W?C.podcast_feed_url:(0,o.getPodcastRssUrl)({pub:ie});return{title:x,description:I,primaryCategory:N,primarySubcategory:F,secondaryCategory:B,secondarySubcategory:V,isExplicit:Z,artUrl:Y,byline:ne,language:G,isRedirected:W,podcastRssUrl:ue,showPodcastTab:L,paidEpisodeArtUrl:(A=C.paid_podcast_episode_art_url)!=null?A:null}},a=({pub:C,publication:D})=>{var A,x,I;const[N,F]=S(D.tags.map(({canonical_name:J})=>J)),B=`${C.name} Podcast`,V=C.hero_text,Z=N==null?void 0:N.category,Y=(A=N==null?void 0:N.subcategory)!=null?A:null,ne=F==null?void 0:F.category,G=(x=F==null?void 0:F.subcategory)!=null?x:null,L=C.explicit||!1,W=(0,o.getDefaultPodcastArtUrlCDN)(),ie=C.author_name;return{title:B,description:V,primaryCategory:Z,primarySubcategory:Y,secondaryCategory:ne,secondarySubcategory:G,isExplicit:L,artUrl:W,byline:ie,language:"",isRedirected:null,podcastRssUrl:null,showPodcastTab:!0,paidEpisodeArtUrl:(I=C.paid_podcast_episode_art_url)!=null?I:null}};function P(C,D){return(D==null?void 0:D.cover_image)||(D==null?void 0:D.podcast_art_url)||(C==null?void 0:C.podcast_art_url)}},69229:(z,l,e)=>{"use strict";e.d(l,{b:()=>c});var o=e(85928),f=e.n(o);function u(_){var g;return`${[_.is_primary,((g=_.publication)==null?void 0:g.author_id)===_.user_id,_.role==="admin",_.role==="contributor"].map(v=>v?"0":"1").join("")}-${f()(_.created_at).valueOf()}`}function c(_){return _.slice(0).sort((g,E)=>u(g)>u(E)?1:-1)}},16527:(z,l,e)=>{"use strict";e.d(l,{Q:()=>f});var o=e(20042);function f(u,c,{native:_=!1,newTab:g=!1}={}){u.defaultPrevented||(u.preventDefault(),_?g||u.metaKey||u.ctrlKey?Object.assign(document.createElement("a"),{target:"_blank",rel:"noopener",href:c}).click():window.location.assign(c):(0,o.route)(c))}},86405:(z,l,e)=>{"use strict";e.d(l,{g:()=>E});var o=e(20501);const f=()=>typeof window!="undefined"&&window._preloads&&window._preloads.pub&&window._preloads.pub.twitter_pixel_id||null,u=()=>typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.twitter_pixel_signup_event_id||null,c=()=>typeof window!="undefined"&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.twitter_pixel_subscribe_event_id||null,_=(v,y=null)=>{const T=f();if(!T)return;const w={p_id:"Twitter",p_user_id:0,txn_id:T,events:JSON.stringify([[v,y]]),tw_sale_amount:(y==null?void 0:y.value)||0,tw_order_quantity:(y==null?void 0:y.num_items)||0,tw_iframe_status:0,tw_document_href:document.location.href};g(w)},g=v=>{new Image().src=`https://t.co/i/adsct?${(0,o.serializeQuery)(v)}`,new Image().src=`https://analytics.twitter.com/i/adsct?${(0,o.serializeQuery)(v)}`},E=(v,{quantity:y,price:T}={})=>{if(v==="purchase"){const w=c();w&&typeof window.twq=="function"&&window.twq("event",w),_("purchase",{num_items:y,value:T})}else if(v==="signup"){const w=u();w&&typeof window.twq=="function"&&window.twq("event",w),_("signup")}else _("pageview")}},8479:(z,l,e)=>{"use strict";e.d(l,{NL:()=>Y,Q1:()=>B,Wf:()=>I,do:()=>x,ib:()=>Z,kp:()=>G,rd:()=>ne,x8:()=>N});var o=e(30396),f=e(28599),u=e.n(f),c=e(73955),_=e.n(c),g=e(80569),E=e.n(g),v=e(39419),y=e.n(v),T=Object.defineProperty,w=Object.defineProperties,S=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,a=(ie,ue,le)=>ue in ie?T(ie,ue,{enumerable:!0,configurable:!0,writable:!0,value:le}):ie[ue]=le,P=(ie,ue)=>{for(var le in ue||(ue={}))p.call(ue,le)&&a(ie,le,ue[le]);if(O)for(var le of O(ue))d.call(ue,le)&&a(ie,le,ue[le]);return ie},C=(ie,ue)=>w(ie,S(ue)),D=(ie,ue)=>{var le={};for(var J in ie)p.call(ie,J)&&ue.indexOf(J)<0&&(le[J]=ie[J]);if(ie!=null&&O)for(var J of O(ie))ue.indexOf(J)<0&&d.call(ie,J)&&(le[J]=ie[J]);return le},A=(ie,ue,le)=>new Promise((J,te)=>{var se=ce=>{try{ae(le.next(ce))}catch(fe){te(fe)}},ee=ce=>{try{ae(le.throw(ce))}catch(fe){te(fe)}},ae=ce=>ce.done?J(ce.value):Promise.resolve(ce.value).then(se,ee);ae((le=le.apply(ie,ue)).next())});const x={result:null,isLoading:!1,hasLoadedOnce:!1,error:null,promise:null,refetch:()=>Promise.resolve(null),clearError:()=>{},setResult:()=>{}};function I(ie,ue,{auto:le,initialResult:J}={}){const[te,se]=(0,o.eJ)({result:J||null,isLoading:!!le,hasLoadedOnce:!1,error:null,promise:null}),ee=()=>{se(C(P({},te),{error:null}))},ae=(fe={})=>{var Ee=fe,{abortController:de=new(u())}=Ee,_e=D(Ee,["abortController"]);const ve=ie(C(P({},_e),{signal:de.signal})).then(De=>{if(!de.signal.aborted)return se({isLoading:!1,hasLoadedOnce:!0,error:null,result:De,promise:null}),De},De=>{if(!de.signal.aborted)return console.error("There was an error fetching resource",De),se(Oe=>C(P({},Oe),{isLoading:!1,error:De,result:null,promise:null})),De});return se(De=>C(P({},De),{isLoading:!0,error:null,promise:ve})),ve},ce=fe=>{se(Ee=>C(P({},Ee),{error:null,result:fe,isLoading:!1,promise:null}))};return(0,o.d4)(()=>{if(le){const fe=new(u());return ae({abortController:fe}),()=>{fe.abort()}}},ue||[]),C(P({},te),{refetch:ae,setResult:ce,clearError:ee})}function N(ie,ue){switch(ue.type){case"page_reset":return[{isLoading:!0,error:null,result:null}];case"page_start":{const le=ie.slice(),{page:J,id:te}=ue.payload;return le[J]={result:null,id:te,isLoading:!0,error:null},le}case"page_load":{const{id:le,result:J}=ue.payload;return ie.map(te=>te.id===le?C(P({},te),{isLoading:!1,result:J,error:null}):te)}case"page_error":{const{id:le,error:J}=ue.payload;return ie.map(te=>te.id===le?C(P({},te),{isLoading:!1,result:null,error:J}):te)}}return ie}function F(ie,ue,{auto:le,initialResult:J,pages:te,dispatch:se}={}){var ee;const[ae,ce]=(0,o._Y)(N,[{result:J||null,isLoading:!!le,error:null}]),fe=te!=null?te:ae,Ee=se!=null?se:ce,de=(ye={})=>{var ze=ye,{abortController:Be=new(u()),page:We=fe.length}=ze,Ke=D(ze,["abortController","page"]);const Xe=fe[We-1],ct=_()();return Ee({type:"page_start",payload:{page:We,id:ct}}),ie({options:Ke,signal:Be.signal,page:We,lastPage:Xe}).then(Se=>{if(!Be.signal.aborted)return Ee({type:"page_load",payload:{page:We,id:ct,result:Se}}),Se},Se=>{if(!Be.signal.aborted)return Ee({type:"page_error",payload:{page:We,id:ct,error:Se}}),Se})},_e=ye=>(Ee({type:"page_reset"}),de(C(P({},ye),{page:0})));(0,o.d4)(()=>{if(le){const ye=new(u());return _e({abortController:ye}),()=>{ye.abort()}}},ue||[]);let ve=!1;const De=()=>A(this,null,function*(){if(!ve){const ye=fe[fe.length-1];if(!ye.isLoading&&!ye.error)return ve=!0,yield de()}}),Oe=fe[fe.length-1];return{pages:fe,page:fe.length,lastPage:Oe,fetchMore:De,canFetchMore:Oe&&!Oe.isLoading&&!Oe.error,fetchFirstPage:_e,hasLoadedOnce:!!((ee=fe[0])!=null&&ee.result)}}function B(ie){var ue=ie,{auto:le,initialResult:J,deps:te}=ue,se=D(ue,["auto","initialResult","deps"]);return I(ee=>A(this,null,function*(){var ae=ee,{signal:ce}=ae,fe=D(ae,["signal"]);const{pathname:Ee="",query:de,body:_e,method:ve="get"}=P(P({},se),fe),De=E()(ve.toUpperCase(),Ee);de&&De.query(de),_e&&De.send(_e),ce.addEventListener("abort",()=>{De.abort()});const Oe=yield De;if(ce.aborted)return;const ye=Oe.error;if(ye)throw ye;return Oe.body}),te||[],{auto:le,initialResult:J})}const V=new Map;function Z(ie){var ue=ie,{pathname:le,auto:J,initialResult:te,deps:se,cacheTtl:ee}=ue,ae=D(ue,["pathname","auto","initialResult","deps","cacheTtl"]);const ce=I(Ee=>{var de=Ee,{pathname:_e}=de,ve=D(de,["pathname"]);if(!le)throw new Error("useFetch requires a pathname");if(ee){const Oe=V.get(le);if(Oe){const{ts:ye,ttl:ze,promise:Be}=Oe;if(ye+ze>Date.now())return Be}}const De=ne(_e!=null?_e:le,P(P({},ae),ve));return ee&&V.set(le,{ts:Date.now(),ttl:ee,promise:De}),De},se||[],{auto:J,initialResult:te}),fe=Ee=>{le&&ee&&V.set(le,{ts:Date.now(),ttl:ee,promise:Promise.resolve(Ee)}),ce.setResult(Ee)};return C(P({},ce),{setResult:fe})}function Y(ie){var ue=ie,{pathname:le,auto:J,initialResult:te,deps:se,getPageInit:ee,pages:ae,dispatch:ce}=ue,fe=D(ue,["pathname","auto","initialResult","deps","getPageInit","pages","dispatch"]);return F(({page:Ee,lastPage:de,options:_e})=>{if(!le)throw new Error("useFetch requires a pathname");const ve=ee({init:P(P({},fe),_e),page:Ee,lastPage:de});return ne(le,ve)},se||[],{auto:J,initialResult:te,pages:ae,dispatch:ce})}function ne(ie){return A(this,arguments,function*(ue,le={}){var J;const se=P({cache:"no-cache"},le),{query:ee,json:ae}=se,ce=D(se,["query","json"]);let fe=ue;if(ee){let de;ee instanceof URLSearchParams?de=ee:de=new URLSearchParams(Object.entries(ee).reduce((ve,[De,Oe])=>(Oe!==void 0&&(Array.isArray(Oe)?Oe.forEach(ye=>{ye!==void 0&&ve.push([De,ye])}):ve.push([De,Oe])),ve),[]));const _e=de.toString();_e&&(ue.indexOf("?")!==-1?fe+=`&${_e}`:fe+=`?${_e}`)}ae&&(ce.body=JSON.stringify(ae),ce.headers instanceof Headers||(ce.headers=new Headers(ce.headers)),ce.headers.set("Content-Type","application/json"));const Ee=yield fetch(fe,ce);if(!Ee.ok){let de;try{de=yield Ee.json()}catch(_e){de={}}throw new G(Ee,de)}return["DELETE","HEAD"].includes((J=ce==null?void 0:ce.method)!=null?J:"")?{}:Ee.json()})}class G extends Error{constructor(ue,le){super(),this.response=ue,this.body=le}getMessage(ue){return(0,v.getNetworkErrorMessageFromResponse)(this.body,ue)}}function L(ie,ue="Something went wrong."){return ie instanceof G?ie.getMessage():ue}function W(ie,ue,le){const[J,te]=useState(null);return useCallback((...se)=>{clearTimeout(J),te(null),te(setTimeout(()=>ie(...se),ue))},[J,...le])}},11533:(z,l,e)=>{"use strict";e.d(l,{j:()=>u});var o=e(30396),f=e(20042);function u(_,g){(0,o.d4)(()=>{const E=v=>{_(v)};return f.subscribers.push(E),()=>{f.subscribers.splice(f.subscribers.indexOf(E)>>>0,1)}},g)}function c({path:_}={}){const[g,E]=useState({}),v=useRef(null);u(w=>{v.current=w,E({})},[]);const y=v.current||getCurrentUrl(),T=y.replace(/\?.+$/,"");return v.current=null,[{url:y,path:T,matches:_&&exec(T,_,{})||null},route]}},26686:(z,l,e)=>{"use strict";e.d(l,{_:()=>E});var o=e(83757),f=e(8479),u=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(v,y)=>{var T={};for(var w in v)c.call(v,w)&&y.indexOf(w)<0&&(T[w]=v[w]);if(v!=null&&u)for(var w of u(v))y.indexOf(w)<0&&_.call(v,w)&&(T[w]=v[w]);return T};function E(v,y={},T){var w=y,{deps:S,auto:O=!0}=w,p=g(w,["deps","auto"]);return(0,o.ZP)(O?S?[...S,v]:v:null,()=>(0,f.rd)(v,p),T)}},6742:(z,l,e)=>{"use strict";e.d(l,{UM:()=>_,th:()=>g});var o=e(30396),f=e(39419),u=e.n(f);function c(E,v,{root:y,threshold:T=0,rootMargin:w,disabled:S=!1}={}){(0,o.d4)(()=>{if(typeof IntersectionObserver=="undefined"||!E.current||S)return;const O=new IntersectionObserver(d=>{v(d.some(a=>a.isIntersecting))},{root:y,threshold:T,rootMargin:w});O.observe(E.current);function p(){O.disconnect()}return p},[E,v,y,T,w,S])}function _(E,v,{root:y,threshold:T=0,rootMargin:w,disabled:S=!1}={}){const O=(0,o.sO)(!1),p=(0,o.I4)(d=>{d&&!O.current&&(O.current=!0,v())},[v,O]);c(E,p,{root:y,threshold:T,rootMargin:w,disabled:S||O.current})}function g(E){const[v,y]=(0,o.eJ)(!1);return(0,o.d4)(()=>{const T=()=>{const w=(0,f.isWindowVisible)();y(w),E==null||E(w)};return(0,f.onWindowVisibilityChange)(T),()=>{(0,f.offWindowVisibilityChange)(T)}},[E]),v}},36868:(z,l,e)=>{"use strict";e.d(l,{P:()=>o});const o=(f,u)=>u.payments_state==="enabled"?f.is_subscribed:f.is_free_subscribed},62246:(z,l,e)=>{"use strict";e.d(l,{fe:()=>f.f,mz:()=>u.m,r6:()=>o.r,u_:()=>f.u,xB:()=>o.x});var o=e(28079),f=e(53940),u=e(29354)},21958:(z,l,e)=>{"use strict";e.d(l,{L:()=>p});var o=e(6400),f=e(98661),u=e(94184),c=e.n(u),_=Object.defineProperty,g=Object.defineProperties,E=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,w=(d,a,P)=>a in d?_(d,a,{enumerable:!0,configurable:!0,writable:!0,value:P}):d[a]=P,S=(d,a)=>{for(var P in a||(a={}))y.call(a,P)&&w(d,P,a[P]);if(v)for(var P of v(a))T.call(a,P)&&w(d,P,a[P]);return d},O=(d,a)=>g(d,E(a));function p(d,a="div",P){return(0,f.forwardRef)((C,D)=>(0,o.createElement)(a,O(S(S({},P),C),{ref:D,className:c()(d,C==null?void 0:C.className)})))}},13045:(z,l,e)=>{"use strict";e.d(l,{HZ:()=>f.H,xu:()=>_.xu,zx:()=>u.zx,hE:()=>c.h,XZ:()=>C.X,ji:()=>A,iz:()=>E.i,hs:()=>v.hs,tu:()=>v.tu,gq:()=>v.gq,hU:()=>u.hU,Tz:()=>g.Tz,v2:()=>S.v2,sN:()=>S.sN,u_:()=>w.u_,xB:()=>w.xB,gu:()=>B.g,xv:()=>d.xv,oi:()=>ne.o,gx:()=>L.g,FN:()=>P.FN,u:()=>a.u,pm:()=>P.pm,dd:()=>P.dd});var o=e(11059),f=e(83787),u=e(84040),c=e(91041),_=e(84606),g=e(15187),E=e(48960),v=e(51126),y=e(94016),T=e(56288),w=e(62246),S=e(76235),O=e(92106),p=e(65414),d=e(43887),a=e(92630),P=e(75425),C=e(53570),D=e(6400);const A=({contentBelow:ie,details:ue,disabled:le,label:J,name:te,paddingBottom:se,paddingTop:ee,testid:ae,track:ce,value:fe,onChange:Ee})=>(0,D.h)(v.gq,{as:"label",gap:8,paddingBottom:se,paddingTop:ee},(0,D.h)(C.X,{as:"div",checked:fe,name:te!=null?te:ae,"data-track-input":ce,disabled:le,size:"small",onChange:Ee}),(0,D.h)(v.tu,{flex:"grow"},(0,D.h)(d.xv.B4,{as:"span",color:le?"secondary":"primary"},J),ue&&(0,D.h)(d.xv.Detail,null,ue),ie));var x=e(72657),I=e(69045);const N={container:"frontend-pencraft-form-FieldGroup-module__container--GuL2k"},F=({children:ie,label:ue})=>h(FlexColumn,null,ue&&h(Text.Meta,{color:"primary",paddingBottom:4,paddingLeft:4},ue),h(FlexColumn,{className:css.container,padding:16,radius:12,gap:16},ie));var B=e(2019),V=e(96427);const Z=({details:ie,helpText:ue,label:le,name:J,options:te,paddingBottom:se,paddingTop:ee,value:ae,onChange:ce})=>h(Field,{label:le,details:ie,helpText:ue,paddingTop:ee,paddingBottom:se,wrapWithLabel:!0},h(Select,{name:J,value:ae,onChange:ce},te.map(fe=>h("option",{value:fe.value},fe.label))));var Y=e(30396),ne=e(34394);const G=({details:ie,disabled:ue,helpText:le,label:J,paddingBottom:te,paddingTop:se,value:ee,onChange:ae})=>{const ce=useCallback(fe=>{ae(fe.target.value)},[ae]);return h(Field,{label:J,details:ie,helpText:le,paddingTop:se,paddingBottom:te,wrapWithLabel:!0},h(TextInput,{disabled:ue,value:ee,onChange:ce}))};var L=e(27885);const W=({details:ie,disabled:ue,helpText:le,label:J,paddingBottom:te,paddingTop:se,value:ee,onChange:ae})=>{const ce=useCallback(fe=>{ae(fe.target.value)},[ae]);return h(Field,{details:ie,helpText:le,label:J,paddingBottom:te,paddingTop:se,wrapWithLabel:!0},h(Textarea,{disabled:ue,value:ee,onChange:ce}))}},50292:(z,l,e)=>{"use strict";e.d(l,{SJ:()=>_});var o=e(6400),f=e(30396);const u=(0,o.createContext)({setChildOptions:()=>{},addRssFeed:()=>{},onboardingModalRef:{current:null},isLoading:!1,subscriptions:[],publicationUsers:[],onPageScroll:()=>{},setPinTitle:()=>{},setDrawer:()=>null,checkFocus:()=>!1,requireLogin:null});function c(g,{shouldShowGetAppPill:E=!0,style:v,alwaysPinTitle:y,backAction:T,onRefresh:w}={}){const S=_();return useLayoutEffect(()=>{S.setChildOptions({title:g,style:v,alwaysPinTitle:y,backAction:T,shouldShowGetAppPill:E,onRefresh:w})},[S,g,v,T,E,w]),useLayoutEffect(()=>{S.setPinTitle(!1)},[]),S}function _(){return(0,f.qp)(u)}},19696:(z,l,e)=>{"use strict";e.d(l,{L:()=>o.L});var o=e(21958)},41474:(z,l,e)=>{"use strict";e.d(l,{CD:()=>a,Kr:()=>x,MJ:()=>d,rw:()=>S,zi:()=>w});var o=e(3258),f=Object.defineProperty,u=Object.defineProperties,c=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,v=(I,N,F)=>N in I?f(I,N,{enumerable:!0,configurable:!0,writable:!0,value:F}):I[N]=F,y=(I,N)=>{for(var F in N||(N={}))g.call(N,F)&&v(I,F,N[F]);if(_)for(var F of _(N))E.call(N,F)&&v(I,F,N[F]);return I},T=(I,N)=>u(I,c(N));function w(I,N,{extraEventProps:F={},tabId:B}={}){p("seen",I,N,{extraEventProps:F,tabId:B})}function S(I,N,F,{extraEventProps:B={},tabId:V}={}){p("clicked",I,N,{extraEventProps:T(y({clicked_element:F},B),{tabId:V})})}function O(I,N){var F,B,V,Z;return{item_entity_key:"entity_key"in I?I.entity_key:"",item_type:I.type,item_context_type:"context"in I?I.context.type:"",item_context_timestamp:new Date("context"in I?I.context.timestamp:new Date).toISOString(),item_context_user_id:"context"in I?(F=I.context.users[0])==null?void 0:F.id:void 0,item_publication_id:"publication"in I?(B=I.publication)==null?void 0:B.id:void 0,item_post_id:(V=I.post)==null?void 0:V.id,item_comment_id:(Z=I.comment)==null?void 0:Z.id,item_can_reply:"canReply"in I?I.canReply:!0,tab_id:N!=null?N:void 0}}function p(I,N,F,{extraEventProps:B={},tabId:V}={}){const Z=O(N,V!=null?V:null);(0,o.j)(I==="seen"?o.FP.FEED_ITEM_SEEN:o.FP.FEED_ITEM_CLICKED,y(y({surface:F,tabId:V},Z),B))}function d(I,N,{extraEventProps:F={}}={}){P("seen",I,N,{extraEventProps:F})}function a(I,N,F,{extraEventProps:B={}}={}){P("clicked",I,N,{extraEventProps:y({clicked_element:F},B)})}function P(I,N,F,{extraEventProps:B={}}={}){var V,Z,Y,ne;(0,o.j)(I==="seen"?o.FP.FEED_USER_SUGGESTION_SEEN:o.FP.FEED_USER_SUGGESTION_CLICKED,y({suggested_user_id:N.user.id,suggested_publication_id:(Z=(V=N.publication)==null?void 0:V.id)!=null?Z:null,suggestion_source:(Y=N.source)!=null?Y:null,suggestion_id:(ne=N.id)!=null?ne:null,surface:F},B))}function C(I,{utm_source:N}={}){track(EVENTS.FEED_SCREEN_VIEWED,{utm_source:N,tab_id:I})}function D(I,{utm_source:N}={}){const F=O(I,null);track(EVENTS.FEED_PERMALINK_SCREEN_VIEWED,y({utm_source:N},F))}function A(I){const N=O(I,null);track(EVENTS.FEED_HIDDEN_REPLIES_VIEWED,y({},N))}function x(I,N,{tabId:F,noteId:B}={}){(0,o.j)(o.FP.FEED_HIDDEN_ATTACHMENT_SHOWN,{attachmentId:I,reason:N,tabId:F,noteId:B})}},91870:(z,l,e)=>{"use strict";e.d(l,{I0:()=>D,RR:()=>C,d6:()=>I,ev:()=>x,kc:()=>N});var o=e(6400),f=e(30396),u=e(70444),c=e(20501),_=e(95582),g=e(8479),E=e(39419),v=e.n(E),y=Object.defineProperty,T=Object.defineProperties,w=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(L,W,ie)=>W in L?y(L,W,{enumerable:!0,configurable:!0,writable:!0,value:ie}):L[W]=ie,a=(L,W)=>{for(var ie in W||(W={}))O.call(W,ie)&&d(L,ie,W[ie]);if(S)for(var ie of S(W))p.call(W,ie)&&d(L,ie,W[ie]);return L},P=(L,W)=>T(L,w(W));const C=(0,o.createContext)({dispatch:()=>{}});function D(){return(0,f.qp)(C).dispatch}const A={isSigningIn:!1,signInNoExit:!1,pages:[],posts:new Map,publications:new Map,comments:new Map,unhiddenReplyCommentIds:new Set},x=(0,o.createContext)(A);function I({initialItem:L}={}){return(0,_.L)(F,()=>L?V(A,L):A)}function N(){return(0,f.qp)(x)}function F(L,W){var ie,ue,le,J;switch(W.type){case"sign_in":return P(a({},L),{lastDispatchType:W.type,isSigningIn:W.payload.isSigningIn,signInNoExit:(ie=W.payload.signInNoExit)!=null?ie:!1});case"page_load":{const{result:te}=W.payload;return P(a({},B(L,te.items)),{lastDispatchType:W.type,pages:(0,g.x8)(L.pages,W)})}case"post_load":{const{post:te,publication:se}=W.payload,ee=new Map(L.posts);ee.set(te.id,a(a({},ee.get(te.id)),te));const ae=new Map(L.publications);return ae.set(se.id,a(a({},ae.get(se.id)),se)),P(a({},L),{posts:ee})}case"post_like":{const{postId:te,isLiked:se}=W.payload,ee=L.posts.get(te);return Z(L,W.type,te,Y(ee,se))}case"post_restack":{const{postId:te,isRestacked:se}=W.payload,ee=L.posts.get(te);return ee?Z(L,W.type,te,ne(ee,se)):L}case"post_delete":{const{publication:te,post:se}=W.payload,ee=new Map(L.posts);ee.delete(se.id);const ae=new Map([...L.comments].filter(([ce,fe])=>fe.post_id!==se.id));return[(0,c.getFeedPostUrl)(se.id,{noBase:!0}),(0,c.getFeedShortPostUrl)(te,se,{noBase:!0})].includes(window.location.pathname)&&(0,E.redirect)(u.Ds,{replace:!0}),P(a({},L),{lastDispatchType:W.type,posts:ee,comments:ae,pages:L.pages.map(ce=>P(a({},ce),{result:ce.result?P(a({},ce.result),{items:ce.result.items.filter(fe=>{var Ee;return((Ee=fe.post)==null?void 0:Ee.id)!==se.id})}):ce.result}))})}case"post_save":{const{postId:te,isSaved:se}=W.payload;return L.posts.get(te)?Z(L,W.type,te,{is_saved:se}):L}case"comment_like":{const{commentId:te,isLiked:se}=W.payload,ee=L.comments.get(te);return P(a({},L),{lastDispatchType:W.type,comments:G(L.comments,te,P(a({},ee),{reaction:se?"\u2764":void 0,reactions:P(a({},ee.reactions),{"\u2764":(((ue=ee.reactions)==null?void 0:ue["\u2764"])||0)+(se?1:-1)}),reaction_count:(ee.reaction_count||0)+(se?1:-1)}))})}case"comment_restack":{const{commentId:te,isRestacked:se}=W.payload,ee=L.comments.get(te);return P(a({},L),{lastDispatchType:W.type,comments:ee?G(L.comments,te,P(a({},ee),{restacked:se,restacks:(ee.restacks||0)+(se?1:-1)})):L.comments})}case"comment_delete":{const{comment:te}=W.payload,se=new Map(L.posts),ee=new Map([...L.comments].filter(([fe,Ee])=>Ee.id!==te.id&&!new RegExp(`(^|.)${te.id}(.|$)`).test(Ee.ancestor_path))),ae=se.get(te.post_id),ce=te.ancestor_path&&ee.get(Number(te.ancestor_path.split(".").pop()));return ce?ee.set(ce.id,P(a({},ce),{children_count:(ce.children_count||1)-1,children:(ce.children||[]).filter(fe=>fe.id!==te.id)})):ae&&se.set(ae.id,P(a({},ae),{child_comment_count:(ae.child_comment_count||1)-1})),[(0,c.getFeedCommentUrl)(te,{noBase:!0})].includes(window.location.pathname)&&(0,E.redirect)(u.Ds,{replace:!0}),P(a({},L),{lastDispatchType:W.type,posts:se,comments:ee,pages:L.pages.map(fe=>P(a({},fe),{result:fe.result?P(a({},fe.result),{items:fe.result.items.filter(Ee=>{var de;return((de=Ee.comment)==null?void 0:de.id)!==te.id&&!(Ee.parentComments||[]).filter(Boolean).map(_e=>_e.id).includes(te.id)})}):fe.result}))})}case"new_post":return P(a({},L),{lastDispatchType:W.type,publications:new Map([...L.publications].concat([[W.payload.publication.id,W.payload.publication]])),posts:new Map([...L.posts].concat([[W.payload.post.id,W.payload.post]])),pages:[{error:null,isLoading:!1,result:{items:[{type:"post",entity_key:(0,u.vy)(W.payload.post.id),publication:W.payload.publication,post:W.payload.post,context:W.payload.context||{}}]}},...L.pages]});case"new_comment":{const{comment:te}=W.payload,se=new Map(L.posts),ee=se.get(te.post_id);ee&&se.set(ee.id,P(a({},ee),{child_comment_count:(ee.child_comment_count||0)+1}));const ae=new Map(L.comments);ae.set(te.id,te);const ce=(((le=te.ancestor_path)==null?void 0:le.split("."))||[]).map(Number).filter(Boolean).map(_e=>ae.get(_e)||null),fe=(J=ce[ce.length-1])!=null?J:null;fe&&ae.set(fe.id,P(a({},fe),{children_count:(fe.children_count||0)+1,children:[te].concat(fe.children||[])}));const de=[{error:null,isLoading:!1,result:{items:[{type:"comment",entity_key:(0,u.It)(te.id),comment:te,parentComments:ce,publication:null,post:null,canReply:!0,context:{type:"comment",timestamp:new Date().toISOString(),users:[],fallbackReason:"",fallbackUrl:null}}]}},...L.pages];return P(a({},L),{lastDispatchType:W.type,posts:se,comments:ae,pages:de})}case"edit_comment":{const{comment:te}=W.payload,se=new Map(L.comments);return se.set(te.id,te),P(a({},L),{lastDispatchType:W.type,comments:se})}case"comments_load":{const{comments:te}=W.payload,se=[],ee=te.slice();for(;ee.length>0;){const ae=ee.pop();se.push(ae),ee.push(...ae.children||[])}return P(a({},L),{lastDispatchType:W.type,comments:new Map([...L.comments].concat(se.map(ae=>[ae.id,ae])))})}case"item_load":{const{item:te}=W.payload;return P(a({},V(L,te)),{lastDispatchType:W.type})}case"items_load":{const{items:te}=W.payload;return P(a({},B(L,te)),{lastDispatchType:W.type})}case"new_feed_items":{const te=[...L.pages];if(W.payload.insertLocation){const se={error:null,isLoading:!1,result:{items:W.payload.feedItems}};W.payload.insertLocation==="prepend"?te.unshift(se):W.payload.insertLocation==="append"&&te.push(se)}return P(a({},B(L,W.payload.feedItems)),{lastDispatchType:W.type,pages:te})}case"reply_unhidden":{const{comment_id:te}=W.payload,se=L.comments.get(te),ee=new Map(L.comments);return ee.set(te,P(a({},se),{hide_reply:!1})),P(a({},L),{lastDispatchType:W.type,comments:ee,unhiddenReplyCommentIds:new Set([...L.unhiddenReplyCommentIds,te])})}}return P(a({},L),{lastDispatchType:W.type,pages:(0,g.x8)(L.pages,W)})}function B(L,W){const ie=new Map(L.publications),ue=new Map(L.posts),le=new Map(L.comments);for(const J of W){if("publication"in J&&J.publication&&ie.set(J.publication.id,J.publication),"post"in J){const{post:te}=J;te&&ue.set(te.id,te)}if("comment"in J){const{comment:te}=J;if(te&&(le.set(te.id,te),te.attachments))for(const se of te.attachments)se.type==="post"&&(ue.set(se.post.id,se.post),ie.set(se.publication.id,se.publication))}if("parentComments"in J)for(const te of J.parentComments)te&&le.set(te.id,te)}return P(a({},L),{publications:ie,posts:ue,comments:le})}function V(L,W){var ie;return P(a({},L),{posts:W.post?G(L.posts,W.post.id,W.post):L.posts,publications:W.publication?G(L.publications,W.publication.id,W.publication):L.publications,comments:new Map([...L.comments].concat([W.comment,...(ie=W.parentComments)!=null?ie:[]].filter(Boolean).map(ue=>[ue.id,ue])))})}function Z(L,W,ie,ue){const le=new Map(L.posts),J=le.get(ie);return J&&le.set(J.id,a(a({},J),ue)),P(a({},L),{lastDispatchType:W,posts:le})}function Y(L,W){var ie;const ue=W!=null?W:!L.reaction,le="\u2764";return{reaction:ue,reactions:{[le]:(((ie=L.reactions)==null?void 0:ie[le])||0)+(W?1:-1)}}}function ne(L,W){return{restacked:W,restacks:(L.restacks||0)+(W?1:-1)}}function G(L,W,ie){const ue=new Map(L);return ue.set(W,ie),ue}},73413:(z,l,e)=>{"use strict";e.d(l,{L:()=>f});var o=e(30123);const f=document.location.origin===o.tE},4948:(z,l,e)=>{"use strict";e.d(l,{M:()=>f});var o=e(30396);function f(u,c,{shouldCheck:_,threshold:g=200,bodyRef:E}){const v=(0,o.sO)(),y=E!=null?E:v,T=()=>{const w=y.current;if(w){const{bottom:S}=w.getBoundingClientRect();S<window.innerHeight+g&&u()}};return(0,o.d4)(()=>{if(_)return window.addEventListener("scroll",T,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",T,{capture:!0})}},c),{bodyRef:y,check:T}}},44396:(z,l,e)=>{"use strict";e.d(l,{XA:()=>g});var o=e(30396),f=e(1852),u=e.n(f),c=e(39419),_=e.n(c);function g(){return(0,f.useMediaQuery)({maxWidth:650})}function E(){return useMediaQuery({maxWidth:1400})}function v(){const[y,T]=useState(!1);return useLayoutEffect(()=>{T(isIOs())},[]),y}},72307:(z,l,e)=>{"use strict";e.d(l,{Th:()=>d,Y0:()=>P,_V:()=>D,e:()=>p,lV:()=>O});var o=e(6400),f=e(30396),u=e(8479),c=Object.defineProperty,_=Object.defineProperties,g=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,T=(A,x,I)=>x in A?c(A,x,{enumerable:!0,configurable:!0,writable:!0,value:I}):A[x]=I,w=(A,x)=>{for(var I in x||(x={}))v.call(x,I)&&T(A,I,x[I]);if(E)for(var I of E(x))y.call(x,I)&&T(A,I,x[I]);return A},S=(A,x)=>_(A,g(x));function O(A){const x=(0,u.ib)({pathname:"/api/v1/subscriptions",auto:A,deps:[]});return(0,f.Ye)(()=>S(w({},x),{result:x.result?S(w({},x.result),{publicationMap:new Map(x.result.publications.map(N=>[N.id,N])),subscriptionMap:new Map(x.result.subscriptions.map(N=>[N.publication_id,N])),publicationUserMap:new Map(x.result.publicationUsers.map(N=>[N.publication_id,N]))}):null}),[x])}const p=(0,o.createContext)(u.do);function d(){return(0,f.qp)(p)}function a(A){var x;const{subscriptionMap:I,publicationUserMap:N,publicationsWithPledges:F}=(x=d().result)!=null?x:{subscriptionMap:new Map,publicationUserMap:new Map,publicationsWithPledges:[]},B=I.get(A),V=N.get(A);return{subscription:B,publicationUser:V,is_pledged:!!(F!=null&&F.includes(A))}}function P(A){const{subscription:x,publicationUser:I,is_pledged:N}=a(A),F=(x==null?void 0:x.membership_state)==="free_signup",B=(x==null?void 0:x.membership_state)==="subscribed",V=!!(x!=null&&x.is_founding),Z=!!(I&&["contributor","admin"].includes(I.role));return{subscription:x,publicationUser:I,isFreeSubscribed:F,isPaid:B,isAuthor:Z,isFounding:V,isPledged:N}}function C(){var A,x,I;const{publicationUsers:N,publicationMap:F}=(A=d().result)!=null?A:{publicationMap:new Map,publicationUsers:[]},B=(I=(x=N.find(V=>V.is_primary))!=null?x:N.find(V=>V.role==="admin"))!=null?I:N.find(V=>V.role==="contributor");return B&&F.get(B.publication_id)}function D(A){var x,I;const{publicationUsers:N}=(x=d().result)!=null?x:{publicationUsers:[]};return(I=N.find(F=>F.publication_id===A))!=null?I:null}},82622:(z,l,e)=>{"use strict";e.d(l,{COMMENT_STATUS:()=>T,Hz:()=>E,Ng:()=>S,Sh:()=>v,Zu:()=>c,_N:()=>O,hO:()=>y,us:()=>g});var o=e(85200),f=e(46131);const u=1e4,c=9999;var _=(a=>(a.everyone="everyone",a.free_subscriber="free_subscriber",a.paid_subscriber="paid_subscriber",a))(_||{}),g=(a=>(a.comments_disabled="comments_disabled",a.free_subscription_required="free_subscription_required",a.paid_subscription_required="paid_subscription_required",a))(g||{});const E=({likesEnabled:a=!0}={})=>{const P=[];return P.push({key:"most_recent_first",text:"New First",description:"Newest first (good for live events)"}),a&&P.push({key:"best_first",text:"Top First",description:"Top ranked first"}),P.push({key:"oldest_first",text:"Chronological",description:"Chronological order (oldest first)"}),P},v=a=>E().find(P=>P.key===a).text,y=function(a,P){if(Symbol.iterator in Object(a)){for(const C of a)if(P(C)===!1||y(C.children||[],P)===!1)return!1}},T={review_required:"review_required",edit_review_required:"edit_review_required",published:"published",flagged:"flagged",deleted:"deleted",moderator_approved:"moderator_approved",moderator_removed:"moderator_removed",new_commenter_approval_required:"new_commenter_approval_required"},w=new Set([T.review_required,T.edit_review_required,T.published,T.moderator_approved,T.new_commenter_approval_required]),S=a=>a.deleted?!1:w.has(a.status);function O(a,P){const{attachments:C}=a;if(C&&C.length>0){for(const D of C)if(D.type==="post"){for(const A of D.post.publishedBylines)if(A.id===P)return!0;if((0,o.wN)(D.publication,P))return!0}else if(D.type==="comment"){if(D.comment.user_id===P)return!0}else if(D.type==="publication"&&(0,o.wN)(D.publication,P))return!0}return p(a).has(P)}function p(a){var P,C,D;const A=[];if(a.body_json)for(const x of(0,f.Z)(a.body_json))x.type==="substack_mention"&&(((P=x.attrs)==null?void 0:P.mentionType)==="user"||!((C=x.attrs)!=null&&C.mentionType))&&A.push((D=x.attrs)==null?void 0:D.id);return new Set(A)}function d(a){var P,C;const D=[];if(a.body_json)for(const A of traverse(a.body_json))A.type==="substack_mention"&&((P=A.attrs)==null?void 0:P.mentionType)==="pub"&&D.push((C=A.attrs)==null?void 0:C.id);return new Set(D)}},44043:(z,l,e)=>{"use strict";e.d(l,{F:()=>o});const o={ABOUT_PAGE_END_CTA_RENDERED:"About Page End Cta Rendered",ABOUT_PAGE_END_CTA_SEEN:"About Page End Cta Seen",ABOUT_PAGE_VISITED:"About Page Visited",ACCOUNT_CARD_PRESUBSCRIBE_CLICKED:"Account Card Presubscribe Clicked",ACCOUNT_CARD_READS_LINK_CLICKED:"Account Card Reads Link Clicked",ACCOUNT_CARD_SHOWN:"Account Card Shown",ACCOUNT_CARD_SUBSCRIBE_CLICKED:"Account Card Subscribe Clicked",ACCOUNT_CARD_UNPRESUBSCRIBE_CLICKED:"Account Card Unpresubscribe Clicked",ACCOUNT_CARD_VIEW_PROFILE_LINK_CLICKED:"Account Card View Profile Link Clicked",ACCOUNT_CARD_WRITES_LINK_CLICKED:"Account Card Writes Link Clicked",ACTIVITY_ITEM_TAPPED:"Activity Item Tapped",ACTIVITY_ITEM_VIEWED:"Activity Item Viewed",ACTIVITY_SCREEN_VIEWED:"Activity Screen Viewed",ADD_EPISODE_AUDIO_CLICKED:"Add Episode Audio Clicked",ADD_TO_PODCAST_CLICKED:"Add To Podcast Clicked",ADD_TO_PODCAST_SCREEN_SHOWN:"Add To Podcast Screen Shown",ADD_TO_PODCAST_SKIPPED:"Add To Podcast Skipped",ADD_WATERMARK_CLICKED:"Add Watermark Clicked",APPLE_PAY_ATTEMPED:"Apple Pay Attemped",APPLE_PAY_FAILED:"Apple Pay Failed",APPLE_PAY_SETUP_FINISHED:"Apple Pay Setup Finished",APPLE_PAY_SETUP_STARTED:"Apple Pay Setup Started",APPLE_PAY_SUCCEEDED:"Apple Pay Succeeded",APP_BANNER_DISMISSED:"App Banner Dismissed",APP_BANNER_TAPPED:"App Banner Tapped",APP_BANNER_VIEWED:"App Banner Viewed",APP_PROMO_WIZARD_CLICKED:"App Promo Wizard Clicked",APP_PROMO_WIZARD_DISMISSED:"App Promo Wizard Dismissed",APP_PROMO_WIZARD_SEEN:"App Promo Wizard Seen",ARCHIVE_PAGE_POST_CLICKED:"Archive Page Post Clicked",AUDIO_BUFFERING_COMPLETED:"Audio Buffering Completed",AUDIO_BUFFERING_STARTED:"Audio Buffering Started",AUDIO_DRAWER_DONE_CLICKED:"Audio Drawer Done Clicked",AUDIO_MODAL_BROWSE_FILES_CLICKED:"Audio Modal Browse Files Clicked",AUDIO_MODAL_CANCEL_CLICKED:"Audio Modal Cancel Clicked",AUDIO_MODAL_DROPPED_FILE:"Audio Modal Dropped File",AUDIO_MODAL_INSERT_CLICKED:"Audio Modal Insert Clicked",AUDIO_MODAL_PLAYPAUSE_CLICKED:"Audio Modal Playpause Clicked",AUDIO_MODAL_START_OVER_CLICKED:"Audio Modal Start Over Clicked",AUDIO_PLAYBACK_COMPLETE:"Audio Playback Complete",AUDIO_PLAYBACK_CONTINUED:"Audio Playback Continued",AUDIO_PLAYBACK_STARTED:"Audio Playback Started",AUDIO_PRESS_RECORD_CLICKED:"Audio Press Record Clicked",AUDIO_UPLOAD_COMPLETED:"Audio Upload Completed",AUTOSAVE_CONFLICT_DISPLAYED:"Autosave Conflict Displayed",BESTSELLER_INFO_SHOWN:"Bestseller Info Shown",BILLING_FORM_ERROR:"Billing Form Error",BILLING_FORM_INPUT_FILLED:"Billing Form Input Filled",BILLING_FORM_MISSING_PAYMENT:"Billing Form Missing Payment",BILLING_FORM_SUBMIT_PRESSED:"Billing Form Submit Pressed",BILLING_UPDATE_PAGE_SEEN:"Billing Update Page Seen",BOOST_LEARN_MORE_CLICKED:"Boost Learn More Clicked",BOOST_MODAL_DONE_CLICKED:"Boost Modal Done Clicked",BOOST_MODAL_SEEN:"Boost Modal Seen",BOOST_MODAL_TURN_ON_CLICKED:"Boost Modal Turn On Clicked",BUNDLE_PUBLICATION_TOGGLED:"Bundle Publication Toggled",BUNDLE_SCREEN_SHOWN:"Bundle Screen Shown",BUNDLE_SUBSCRIBED:"Bundle Subscribed",BUNDLE_SUBSCRIBE_FAILED:"Bundle Subscribe Failed",BUNDLE_SUBSCRIBE_INITIATED:"Bundle Subscribe Initiated",CARD_EXPIRED_WARNING_DISMISSED:"Card Expired Warning Dismissed",CHAT_APP_UPSELL_SUBSCRIBE_SCREEN_SHOWN:"Chat App Upsell Subscribe Screen Shown",CHAT_CHECKLIST_GET_APP_CLICKED:"Chat Checklist Get App Clicked",CHAT_CHECKLIST_SEE_EXAMPLES_CLICKED:"Chat Checklist See Examples Clicked",CHAT_CHECKLIST_USE_TEMPLATE_CLICKED:"Chat Checklist Use Template Clicked",CHAT_ENABLE_DASHBOARD_CTA_CLICKED:"Chat Enable Dashboard Cta Clicked",CHAT_ENABLE_DASHBOARD_CTA_DISMISSED:"Chat Enable Dashboard Cta Dismissed",CHAT_ENABLE_DASHBOARD_CTA_SHOWN:"Chat Enable Dashboard Cta Shown",CHAT_INVITE_DRAFT_POST_CTA_CLICKED:"Chat Invite Draft Post Cta Clicked",CHAT_INVITE_DRAFT_POST_CTA_DISMISSED:"Chat Invite Draft Post Cta Dismissed",CHAT_INVITE_DRAFT_POST_CTA_SHOWN:"Chat Invite Draft Post Cta Shown",CHAT_READER_PARTICIPATION_CHANGED:"Chat Reader Participation Changed",CHAT_START_CHAT_THREAD_CLICKED:"Chat Start Chat Thread Clicked",CLICKED_CATEGORY:"Clicked Category",CLICKED_GO_TO_SUBSCRIPTION_ON_PROFILE_PAGE:"Clicked Go To Subscription On Profile Page",CLICKED_PAUSE_BUTTON:"Clicked Pause Button",CLICKED_PLAY_BUTTON:"Clicked Play Button",CLICKED_SUBSCRIBE_ON_PROFILE_PAGE:"Clicked Subscribe On Profile Page",COHORT_PAGE_CLICKED:"Cohort Page Clicked",COLLAPSED_POSTS_SHOWN:"Collapsed Posts Shown",COMMENTS_SORTED:"Comments Sorted",COMMENTS_VIEWED:"Comments Viewed",COMMENT_EXPAND_TOGGLE_CLICKED:"Comment Expand Toggle Clicked",COMMENT_PAYWALL_SHOWN:"Comment Paywall Shown",CONFLICT_TOAST_DISMISSED:"Conflict Toast Dismissed",CONNECT_FACEBOOK_SCREEN_COMPLETED:"Connect Facebook Screen Completed",CONNECT_FACEBOOK_SCREEN_VIEWED:"Connect Facebook Screen Viewed",COVER_PAGE_AUTHOR_CLICKED:"Cover Page Author Clicked",COVER_PAGE_BECOME_PAYING_CLICKED:"Cover Page Become Paying Clicked",COVER_PAGE_EMAIL_SUBMITTED:"Cover Page Email Submitted",COVER_PAGE_LEARN_MORE_CLICKED:"Cover Page Learn More Clicked",COVER_PAGE_MAYBE_LATER_CLICKED:"Cover Page Maybe Later Clicked",COVER_PAGE_SHOWN:"Cover Page Shown",CROSS_POST_MODAL_CLOSED:"Cross Post Modal Closed",CROSS_POST_MODAL_CONTINUED:"Cross Post Modal Continued",CROSS_POST_MODAL_CONTINUE_CLICKED:"Cross Post Modal Continue Clicked",CROSS_POST_MODAL_CONTINUE_FAILED:"Cross Post Modal Continue Failed",CROSS_POST_MODAL_SUBMITTED:"Cross Post Modal Submitted",CROSS_POST_MODAL_SUBMIT_CLICKED:"Cross Post Modal Submit Clicked",CROSS_POST_MODAL_SUBMIT_FAILED:"Cross Post Modal Submit Failed",CROSS_POST_MODAL_TYPING_STARTED:"Cross Post Modal Typing Started",CUSTOMER_SUPPORT_MODE_FORM_ERROR:"Customer Support Mode Form Error",CUSTOMER_SUPPORT_MODE_FORM_INPUT_FILLED:"Customer Support Mode Form Input Filled",CUSTOMER_SUPPORT_MODE_FORM_MISSING_PAYMENT:"Customer Support Mode Form Missing Payment",CUSTOMER_SUPPORT_MODE_FORM_SUBMIT_PRESSED:"Customer Support Mode Form Submit Pressed",CUSTOM_DOMAIN_CONFIG_ERROR:"Custom Domain Config Error",CUSTOM_DOMAIN_CONFIG_INPUT_FILLED:"Custom Domain Config Input Filled",CUSTOM_DOMAIN_CONFIG_MISSING_PAYMENT:"Custom Domain Config Missing Payment",CUSTOM_DOMAIN_CONFIG_SUBMIT_PRESSED:"Custom Domain Config Submit Pressed",CUSTOM_DOMAIN_INQUIRY:"Custom Domain Inquiry",CUSTOM_DOMAIN_LOGIN_REDIRECT_ATTEMPTED:"Custom Domain Login Redirect Attempted",CUSTOM_DOMAIN_PAYMENT_ERROR:"Custom Domain Payment Error",CUSTOM_DOMAIN_PAYMENT_INPUT_FILLED:"Custom Domain Payment Input Filled",CUSTOM_DOMAIN_PAYMENT_MISSING_PAYMENT:"Custom Domain Payment Missing Payment",CUSTOM_DOMAIN_PAYMENT_SUBMIT_PRESSED:"Custom Domain Payment Submit Pressed",DASHBOARD_ACTION_BOX_DISMISSED:"Dashboard Action Box Dismissed",DASHBOARD_ACTION_BOX_SHOWN:"Dashboard Action Box Shown",DASHBOARD_ACTION_CTA_CLICKED:"Dashboard Action Cta Clicked",DEFAULT_PUBLICATION_CREATION_FAILED:"Default Publication Creation Failed",DONATE_SUBSCRIBE_FORM_ERROR:"Donate Subscribe Form Error",DONATE_SUBSCRIBE_FORM_INPUT_FILLED:"Donate Subscribe Form Input Filled",DONATE_SUBSCRIBE_FORM_MISSING_PAYMENT:"Donate Subscribe Form Missing Payment",DONATE_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Donate Subscribe Form Submit Pressed",DONATE_SUBSCRIBE_SCREEN_SHOWN:"Donate Subscribe Screen Shown",EARNING_CALCULATOR_INFO_CLICKED:"Earning Calculator Info Clicked",EARNING_CALCULATOR_UPDATED:"Earning Calculator Updated",EDITOR_MENU_ICON_CLICKED:"Editor Menu Icon Clicked",EDIT_POST_DROPDOWN_MENU_OPENED:"Edit Post Dropdown Menu Opened",EMAIL_LINK_INTERSTITIAL_CLICKED:"Email Link Interstitial Clicked",EMAIL_TYPO_SUGGESTION_ACCEPTED:"Email Typo Suggestion Accepted",EMAIL_TYPO_SUGGESTION_REJECTED:"Email Typo Suggestion Rejected",EMAIL_TYPO_SUGGESTION_SHOWN:"Email Typo Suggestion Shown",EMBED_URL_ATTEMPTED:"Embed Url Attempted",EMBED_URL_FAILED:"Embed Url Failed",EMBED_URL_SUCCEEDED:"Embed Url Succeeded",END_OF_POST_RECOMMEND_CTA_CLICKED:"End Of Post Recommend Cta Clicked",FACEBOOK_FOLLOW_SUGGESTIONS_SCREEN_COMPLETED:"Facebook Follow Suggestions Screen Completed",FACEBOOK_FOLLOW_SUGGESTIONS_SCREEN_VIEWED:"Facebook Follow Suggestions Screen Viewed",FACEBOOK_PROFILE_VISIBLE_TOGGLED:"Facebook Profile Visible Toggled",FACEBOOK_PUB_SUGGESTIONS_SCREEN_COMPLETED:"Facebook Pub Suggestions Screen Completed",FACEBOOK_PUB_SUGGESTIONS_SCREEN_VIEWED:"Facebook Pub Suggestions Screen Viewed",FACEBOOK_SUGGESTIONS_SCREEN_COMPLETED:"Facebook Suggestions Screen Completed",FACEBOOK_SUGGESTIONS_SCREEN_VIEWED:"Facebook Suggestions Screen Viewed",FEATURE_ANNOUNCEMENT_BANNER_CLICKED:"Feature Announcement Banner Clicked",FEATURE_ANNOUNCEMENT_BANNER_SHOWN:"Feature Announcement Banner Shown",FEED_DASHBOARD_CTA_CLICKED:"Feed Dashboard Cta Clicked",FEED_DASHBOARD_CTA_DISMISSED:"Feed Dashboard Cta Dismissed",FEED_FIRST_NOTE_DASHBOARD_CTA_CLICKED:"Feed First Note Dashboard Cta Clicked",FEED_FIRST_NOTE_DASHBOARD_CTA_DISMISSED:"Feed First Note Dashboard Cta Dismissed",FEED_FIRST_NOTE_DASHBOARD_CTA_SHOWN:"Feed First Note Dashboard Cta Shown",FEED_HIDDEN_ATTACHMENT_SHOWN:"Feed Hidden Attachment Shown",FEED_HIDDEN_REPLIES_VIEWED:"Feed Hidden Replies Viewed",FEED_ITEM_CLICKED:"Feed Item Clicked",FEED_ITEM_SEEN:"Feed Item Seen",FEED_ITEM_SHARE_LINK_CLICKED:"Feed Item Share Link Clicked",FEED_ONE_CLICK_SUBSCRIBE:"Feed One Click Subscribe",FEED_PERMALINK_SCREEN_VIEWED:"Feed Permalink Screen Viewed",FEED_PROFILE_SCREEN_VIEWED:"Feed Profile Screen Viewed",FEED_PUBLICATION_SCREEN_VIEWED:"Feed Publication Screen Viewed",FEED_SCREEN_VIEWED:"Feed Screen Viewed",FEED_USER_SUGGESTION_CLICKED:"Feed User Suggestion Clicked",FEED_USER_SUGGESTION_SEEN:"Feed User Suggestion Seen",FILES_REJECTED:"Files Rejected",FINISH_MAGIC_LOGIN_MODAL_SHOWN:"Finish Magic Login Modal Shown",FIRST_MONTH_UPSELL_MODAL_DONE_CLICKED:"First Month Upsell Modal Done Clicked",FIRST_MONTH_UPSELL_MODAL_EDIT_EMAIL_CLICKED:"First Month Upsell Modal Edit Email Clicked",FIRST_MONTH_UPSELL_MODAL_SEEN:"First Month Upsell Modal Seen",FOUNDING_PRICE_CONFIRMATION_DISMISSED:"Founding Price Confirmation Dismissed",FOUNDING_PRICE_CONFIRMATION_REQUIRED:"Founding Price Confirmation Required",FOUNDING_PRICE_CONFIRMATION_SUBMITTED:"Founding Price Confirmation Submitted",FRAME_MESSAGE_HANDLED:"Frame Message Handled",FRAME_MESSAGE_SENT:"Frame Message Sent",FREE_SIGNUP_FAILED:"Free Signup Failed",FULL_EMAIL_FORM_SHOWN:"Full Email Form Shown",GIFT_SUBSCRIBE_FORM_ERROR:"Gift Subscribe Form Error",GIFT_SUBSCRIBE_FORM_INPUT_FILLED:"Gift Subscribe Form Input Filled",GIFT_SUBSCRIBE_FORM_MISSING_PAYMENT:"Gift Subscribe Form Missing Payment",GIFT_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Gift Subscribe Form Submit Pressed",GIFT_SUBSCRIBE_SCREEN_SHOWN:"Gift Subscribe Screen Shown",GO_PAID_CTA_CLICKED:"Go Paid Cta Clicked",GO_PAID_CTA_DISMISSED:"Go Paid Cta Dismissed",GO_PAID_CTA_SHOWN:"Go Paid Cta Shown",GROUP_SUBSCRIBE_FORM_ERROR:"Group Subscribe Form Error",GROUP_SUBSCRIBE_FORM_INPUT_FILLED:"Group Subscribe Form Input Filled",GROUP_SUBSCRIBE_FORM_MISSING_PAYMENT:"Group Subscribe Form Missing Payment",GROUP_SUBSCRIBE_FORM_SUBMIT_PRESSED:"Group Subscribe Form Submit Pressed",GROUP_SUBSCRIBE_MODAL_CANCEL_CLICKED:"Group Subscribe Modal Cancel Clicked",GROUP_SUBSCRIBE_MODAL_CONFIRM_CLICKED:"Group Subscribe Modal Confirm Clicked",GROUP_SUBSCRIBE_SCREEN_SHOWN:"Group Subscribe Screen Shown",HEADER_ANCHOR_WIDGET_CLICKED:"Header Anchor Widget Clicked",HEADER_SEARCHED:"Header Searched",HOLIDAY_GIFT_CTA_CLICKED:"Holiday Gift Cta Clicked",HOLIDAY_GIFT_CTA_DISMISSED:"Holiday Gift Cta Dismissed",HOLIDAY_GIFT_CTA_SHOWN:"Holiday Gift Cta Shown",HOMEPAGE_DASHBOARD_LINK_CLICKED:"Homepage Dashboard Link Clicked",HOMEPAGE_GET_STARTED_CLICKED:"Homepage Get Started Clicked",HOMEPAGE_GOING_PAID_LINK_CLICKED:"Homepage Going Paid Link Clicked",HOMEPAGE_GROW_LINK_CLICKED:"Homepage Grow Link Clicked",HOMEPAGE_LINK_CLICKED:"Homepage Link Clicked",HOMEPAGE_PUBLICATION_LINK_CLICKED:"Homepage Publication Link Clicked",HOMEPAGE_READER_LINK_CLICKED:"Homepage Reader Link Clicked",IMPORT_PUBLICATION_BYPASSED:"Import Publication Bypassed",IMPORT_PUBLICATION_CANCELLED:"Import Publication Cancelled",IMPORT_PUBLICATION_COMPLETE:"Import Publication Complete",IMPORT_PUBLICATION_CONFIRMED:"Import Publication Confirmed",IMPORT_PUBLICATION_ERROR_SKIPPED:"Import Publication Error Skipped",IMPORT_PUBLICATION_LOADED:"Import Publication Loaded",INBOX_POST_CLICKED:"Inbox Post Clicked",INTRODUCING_RECOMMENDATION_DIGESTS_MODAL_LEARN_MORE_CLICKED:"Introducing Recommendation Digests Modal Learn More Clicked",INTRODUCING_RECOMMENDATION_DIGESTS_MODAL_SHOWN:"Introducing Recommendation Digests Modal Shown",INVITE_FRIENDS_MODAL_SHOWN:"Invite Friends Modal Shown",LATEST_POST_CLICKED:"Latest Post Clicked",LATEX_BLOCK_ADDED:"Latex Block Added",LAUNCH_CHECKLIST_ITEM_CLICKED:"Launch Checklist Item Clicked",LAUNCH_CHECKLIST_SEEN:"Launch Checklist Seen",LIKE_ACTIVITY_TOGGLED:"Like Activity Toggled",LIKE_NUX_SHOWN:"Like Nux Shown",LIKE_UPSELL_FREE_SUBSCRIBED:"Like Upsell Free Subscribed",LIKE_UPSELL_MODAL_SEEN:"Like Upsell Modal Seen",LIKE_UPSELL_PLAN_SELECTED:"Like Upsell Plan Selected",LIKE_UPSELL_PLEDGE_CLICKED:"Like Upsell Pledge Clicked",LIKE_UPSELL_SHARE_CLICKED:"Like Upsell Share Clicked",LISTEN_TO_THIS_POST_MODAL_DISMISSED:"Listen To This Post Modal Dismissed",LISTEN_TO_THIS_POST_MODAL_GET_THE_APP_CLICKED:"Listen To This Post Modal Get The App Clicked",LISTEN_TO_THIS_POST_MODAL_SHOWN:"Listen To This Post Modal Shown",LOCAL_CURRENCY_MODAL_SEEN:"Local Currency Modal Seen",LOCAL_CURRENCY_MODAL_TURN_OFF_CLICKED:"Local Currency Modal Turn Off Clicked",MANAGE_RECOMMENDATIONS_BUTTON_CLICKED:"Manage Recommendations Button Clicked",MANAGE_RECOMMENDATIONS_LEARN_MORE_CLICKED:"Manage Recommendations Learn More Clicked",MANAGE_RECOMMENDATIONS_MODAL_CLOSED:"Manage Recommendations Modal Closed",MANAGE_RECOMMENDATIONS_MODAL_OPENED:"Manage Recommendations Modal Opened",MANAGE_RECOMMENDATIONS_STEP_CHANGED:"Manage Recommendations Step Changed",MEDIA_UPLOAD_COMPLETED:"Media Upload Completed",MEDIA_UPLOAD_CREATED:"Media Upload Created",MEDIA_UPLOAD_FAILED:"Media Upload Failed",MEDIA_UPLOAD_STARTED:"Media Upload Started",MEETING_MISSING_PAYMENT:"Meeting Missing Payment",MEETING_ORDER_PAGE_VIEWED:"Meeting Order Page Viewed",MEETING_PAGE_VIEWED:"Meeting Page Viewed",MEETING_POST_TEMPLATE_CREATED:"Meeting Post Template Created",MEETING_SUBMIT_PRESSED:"Meeting Submit Pressed",NATIVE_SHARE_FAILED:"Native Share Failed",NATIVE_SHARE_SUCCESS:"Native Share Success",NAV_BAR_CTA_CLICKED:"Nav Bar Cta Clicked",NAV_BAR_HOME_LINK_CLICKED:"Nav Bar Home Link Clicked",NEW_GUEST_POST_CLICKED:"New Guest Post Clicked",NEW_SUBSCRIPTION_ON_PROFILE_DISPLAYED:"New Subscription On Profile Displayed",NEXT_POST_LINK_CLICKED:"Next Post Link Clicked",NOTES_BAN_PAGE_VIEWED:"Notes Ban Page Viewed",NOTES_TAB_ANNOUNCEMENT_CLICKED:"Notes Tab Announcement Clicked",NOTES_TAB_ANNOUNCEMENT_DISMISSED:"Notes Tab Announcement Dismissed",NOTIFICATIONS_ALERT_SHOWN:"Notifications Alert Shown",NOTIFICATIONS_DROPDOWN_VIEWED:"Notifications Dropdown Viewed",NOTIFICATIONS_UNREAD_SHOWN:"Notifications Unread Shown",OPENNODE_ACCOUNT_SIGNUP_CLICKED:"Opennode Account Signup Clicked",OPENNODE_GENERATE_API_KEY_CLICKED:"Opennode Generate Api Key Clicked",OTHER_SUBSCRIPTION_OPTIONS_CLICKED:"Other Subscription Options Clicked",OTHER_SUBSCRIPTION_OPTION_SELECTED:"Other Subscription Option Selected",PAGES:"Pages",PAYMENT_CONFIRMATION_FAILED:"Payment Confirmation Failed",PAYMENT_CONFIRMATION_STARTED:"Payment Confirmation Started",PAYMENT_CONFIRMATION_SUCCEEDED:"Payment Confirmation Succeeded",PAYMENT_PLEDGE_LAUNCH_MODAL_SEEN:"Payment Pledge Launch Modal Seen",PAYMENT_PLEDGE_LAUNCH_MODAL_TURN_OFF_CLICKED:"Payment Pledge Launch Modal Turn Off Clicked",PAYMENT_PLEDGE_MISSING_PAYMENT:"Payment Pledge Missing Payment",PAYMENT_PLEDGE_NOTE_SCREEN_FAILED:"Payment Pledge Note Screen Failed",PAYMENT_PLEDGE_NOTE_SCREEN_SEEN:"Payment Pledge Note Screen Seen",PAYMENT_PLEDGE_NOTE_SCREEN_SUBMITTED:"Payment Pledge Note Screen Submitted",PAYMENT_PLEDGE_PRICE_WARNING_SEEN:"Payment Pledge Price Warning Seen",PAYMENT_PLEDGE_SCREEN_FAILED:"Payment Pledge Screen Failed",PAYMENT_PLEDGE_SCREEN_SEEN:"Payment Pledge Screen Seen",PAYMENT_PLEDGE_SCREEN_SKIPPED:"Payment Pledge Screen Skipped",PAYMENT_PLEDGE_SCREEN_SUBMITTED:"Payment Pledge Screen Submitted",PAYMENT_SETUP_BUTTON_CLICKED:"Payment Setup Button Clicked",PAYMENT_SUGGESTION_MODAL_ERROR:"Payment Suggestion Modal Error",PAYMENT_SUGGESTION_MODAL_SEEN:"Payment Suggestion Modal Seen",PAYMENT_SUGGESTION_MODAL_STRIPE_ERROR:"Payment Suggestion Modal Stripe Error",PAYMENT_SUGGESTION_MODAL_SUBMITTED:"Payment Suggestion Modal Submitted",PAYWALL_FREE_SIGNUP_FAILED:"Paywall Free Signup Failed",PAYWALL_FREE_TRIAL_CTA_CLICKED:"Paywall Free Trial Cta Clicked",PAYWALL_FREE_TRIAL_CTA_DISMISSED:"Paywall Free Trial Cta Dismissed",PAYWALL_FREE_TRIAL_CTA_SHOWN:"Paywall Free Trial Cta Shown",PAYWALL_PROMPT_ACCEPTED:"Paywall Prompt Accepted",PAYWALL_PROMPT_REJECTED:"Paywall Prompt Rejected",PLAN_PURCHASE_BOX_ERROR:"Plan Purchase Box Error",PLAN_PURCHASE_BOX_SEEN:"Plan Purchase Box Seen",PLAN_PURCHASE_BOX_STRIPE_ERROR:"Plan Purchase Box Stripe Error",PLAN_PURCHASE_BOX_SUBMITTED:"Plan Purchase Box Submitted",PODCAST_APP_LINK_CLICK:"Podcast App Link Click",PODCAST_EDITING_COMPLETE:"Podcast Editing Complete",PODCAST_EDITING_ERROR:"Podcast Editing Error",PODCAST_EDITING_INITIATED:"Podcast Editing Initiated",PODCAST_EMAIL_LINK_CLICKED:"Podcast Email Link Clicked",PODCAST_EPISODE_NOTES_SAVE_CLICKED:"Podcast Episode Notes Save Clicked",PODCAST_FEED_URL_COPIED:"Podcast Feed Url Copied",PODCAST_LISTEN_ON_CLICKED:"Podcast Listen On Clicked",PODCAST_PREVIEW_MENU_ADD_PREVIEW_CLICKED:"Podcast Preview Menu Add Preview Clicked",PODCAST_PREVIEW_MENU_CLICKED:"Podcast Preview Menu Clicked",PODCAST_PREVIEW_MENU_REMOVE_CLICKED:"Podcast Preview Menu Remove Clicked",PODCAST_PREVIEW_MENU_REMOVE_PREVIEW_CLICKED:"Podcast Preview Menu Remove Preview Clicked",PODCAST_SETUP_COMPLETE:"Podcast Setup Complete",PODCAST_SETUP_ERROR:"Podcast Setup Error",PODCAST_SETUP_INITIATED:"Podcast Setup Initiated",POLL_SIGNUP_DIALOG_CLOSED:"Poll Signup Dialog Closed",POLL_SIGNUP_DIALOG_PRESENTED:"Poll Signup Dialog Presented",POLL_SIGNUP_DIALOG_SUBMITTED:"Poll Signup Dialog Submitted",POSTS_PAGE_FILTERED:"Posts Page Filtered",POSTS_PAGE_SORTED:"Posts Page Sorted",POST_ARCHIVED:"Post Archived",POST_BOTTOM_SEEN:"Post Bottom Seen",POST_COMMENTS_FOOTER_SEEN:"Post Comments Footer Seen",POST_COMPOSER_CREATION_SHARED:"Post Composer Creation Shared",POST_COMPOSER_CREATION_SHARE_SHEET_VIEWED:"Post Composer Creation Share Sheet Viewed",POST_COMPOSER_DRAFT_LOADED:"Post Composer Draft Loaded",POST_COMPOSER_PUBLISH_CONFIRMATION_VIEWED:"Post Composer Publish Confirmation Viewed",POST_COMPOSER_PUB_PICKER_PUB_SELECTED:"Post Composer Pub Picker Pub Selected",POST_COMPOSER_PUB_PICKER_VIEWED:"Post Composer Pub Picker Viewed",POST_COMPOSER_SETTINGS_VIEWED:"Post Composer Settings Viewed",POST_COMPOSER_VIEWED:"Post Composer Viewed",POST_EDITOR_ADD_GUEST_CLICKED:"Post Editor Add Guest Clicked",POST_END_CTA_CLICKED:"Post End Cta Clicked",POST_END_CTA_RENDERED:"Post End Cta Rendered",POST_END_CTA_SEEN:"Post End Cta Seen",POST_INFO_VIEWED:"Post Info Viewed",POST_LINK_CLICKED:"Post Link Clicked",POST_PAGE_PINGBACK:"Post Page Pingback",POST_PAYWALL_SHOWN:"Post Paywall Shown",POST_PREVIEW_OPTION:"Post Preview Option",POST_PUBLISHED_SETTINGS:"Post Published Settings",POST_REACTIONS_MODAL_VIEWED:"Post Reactions Modal Viewed",POST_RECOMMENDATIONS_SHOWN:"Post Recommendations Shown",POST_SAVED:"Post Saved",POST_SEARCH_RESULT_CLICKED:"Post Search Result Clicked",POST_SEEN:"Post Seen",POST_SHARE_BUTTON_CLICKED:"Post Share Button Clicked",POST_TEXT_SELECTED:"Post Text Selected",POST_VIEWER_CLOSED:"Post Viewer Closed",POST_VIEWER_NAVIGATED:"Post Viewer Navigated",POST_VIEWER_VIEWED:"Post Viewer Viewed",PREFER_APPLE_PAY_CLICKED:"Prefer Apple Pay Clicked",PREFER_CREDIT_CARD_CLICKED:"Prefer Credit Card Clicked",PREPUBLISH_PROMPT_DISPLAYED:"Prepublish Prompt Displayed",PREVIEW_BUTTON_CLICKED:"Preview Button Clicked",PREVIOUS_POST_LINK_CLICKED:"Previous Post Link Clicked",PROCESSING_EPISODE_AUDIO_CLICKED:"Processing Episode Audio Clicked",PROCESSING_VOICEOVER_AUDIO_CLICKED:"Processing Voiceover Audio Clicked",PROFILE_EDITED:"Profile Edited",PROFILE_FILLED_OUT:"Profile Filled Out",PROFILE_SHARE_LINK_CLICKED:"Profile Share Link Clicked",PROFILE_STARTED:"Profile Started",PROFILE_UPDATER_SHOWN:"Profile Updater Shown",PROFILE_VISIBILITY_SET:"Profile Visibility Set",PROFILE_VISITED:"Profile Visited",PUBLICATION_FOOTER_SEEN:"Publication Footer Seen",PUBLICATION_HOVER_CARD_SHOWN:"Publication Hover Card Shown",PUBLICATION_RECOMMENDATIONS_SHOWN:"Publication Recommendations Shown",PUBLICATION_RECOMMENDATION_LINK_CLICKED:"Publication Recommendation Link Clicked",PUBLICATION_SETTING_TEXT_INPUT_ERRORED:"Publication Setting Text Input Errored",PUBLICATION_THREADS_SCREEN_VIEWED:"Publication Threads Screen Viewed",PUBLICATION_VISITED:"Publication Visited",PUBLISHER_DASHBOARD_POST_BUTTON_CLICKED:"Publisher Dashboard Post Button Clicked",PUBLISHER_DASHBOARD_SEEN:"Publisher Dashboard Seen",PUBLISHER_DASHBOARD_VISIT_SITE_CLICKED:"Publisher Dashboard Visit Site Clicked",PUBLISH_DISABLED_APPEALED:"Publish Disabled Appealed",REACTION_REJECTED:"Reaction Rejected",READER_INBOX_TAB_CHANGED:"Reader Inbox Tab Changed",READER_ONBOARDING_APP_UPSELL_SHOWN:"Reader Onboarding App Upsell Shown",READER_ONBOARDING_BULK_SUBSCRIBED:"Reader Onboarding Bulk Subscribed",READER_ONBOARDING_BULK_SUBSCRIBE_SELECTED_IN_UI:"Reader Onboarding Bulk Subscribe Selected In Ui",READER_ONBOARDING_BULK_SUBSCRIBE_SKIPPED:"Reader Onboarding Bulk Subscribe Skipped",READER_ONBOARDING_CATEGORIES_FINALIZED:"Reader Onboarding Categories Finalized",READER_ONBOARDING_CATEGORY_REQUESTED:"Reader Onboarding Category Requested",READER_ONBOARDING_CREATE_PUBLICATION_STEP_ERROR:"Reader Onboarding Create Publication Step Error",READER_ONBOARDING_CREATE_PUBLICATION_STEP_STARTED:"Reader Onboarding Create Publication Step Started",READER_ONBOARDING_CREATE_PUBLICATION_SUCCESS_STEP_SKIPPED:"Reader Onboarding Create Publication Success Step Skipped",READER_ONBOARDING_CREATE_PUBLICATION_SUCCESS_STEP_STARTED:"Reader Onboarding Create Publication Success Step Started",READER_ONBOARDING_EDIT_SUB_VISIBILITY_SKIPPED:"Reader Onboarding Edit Sub Visibility Skipped",READER_ONBOARDING_ERROR:"Reader Onboarding Error",READER_ONBOARDING_MODAL_CLOSED:"Reader Onboarding Modal Closed",READER_ONBOARDING_MODAL_OPENED:"Reader Onboarding Modal Opened",READER_ONBOARDING_NO_TWITTER_PUBS_RECOMMENDED:"Reader Onboarding No Twitter Pubs Recommended",READER_ONBOARDING_PROFILE_SETUP_SKIPPED:"Reader Onboarding Profile Setup Skipped",READER_ONBOARDING_PROFILE_SETUP_STARTED:"Reader Onboarding Profile Setup Started",READER_ONBOARDING_PUB_LANDING_LET_ME_READ_CLICKED:"Reader Onboarding Pub Landing Let Me Read Clicked",READER_ONBOARDING_PUB_LANDING_SIGNUP_SUCCEEDED:"Reader Onboarding Pub Landing Signup Succeeded",READER_ONBOARDING_PUB_LANDING_SUBSCRIBE_CLICKED:"Reader Onboarding Pub Landing Subscribe Clicked",READER_ONBOARDING_PUB_RECOMMENDED:"Reader Onboarding Pub Recommended",READER_ONBOARDING_PUB_SIGNUP_FAILED:"Reader Onboarding Pub Signup Failed",READER_ONBOARDING_PUB_SIGNUP_SUCCEEDED:"Reader Onboarding Pub Signup Succeeded",READER_ONBOARDING_SIGNUP_FAILED:"Reader Onboarding Signup Failed",READER_ONBOARDING_SIGNUP_SUCCEEDED:"Reader Onboarding Signup Succeeded",READER_ONBOARDING_SKIP_CATEGORIES_CLICKED:"Reader Onboarding Skip Categories Clicked",READER_ONBOARDING_SKIP_SUBSCRIBE_CLICKED:"Reader Onboarding Skip Subscribe Clicked",READER_ONBOARDING_SKIP_TWITTER_CLICKED:"Reader Onboarding Skip Twitter Clicked",READER_ONBOARDING_START_READING_CLICKED:"Reader Onboarding Start Reading Clicked",READER_ONBOARDING_START_WRITING_STEP_SKIPPED:"Reader Onboarding Start Writing Step Skipped",READER_ONBOARDING_START_WRITING_STEP_STARTED:"Reader Onboarding Start Writing Step Started",READER_ONBOARDING_STEP_CHANGED:"Reader Onboarding Step Changed",READER_ONBOARDING_TWITTER_LINK_CLICKED:"Reader Onboarding Twitter Link Clicked",READER_REFERRALS_MODAL_LEARN_MORE_CLICKED:"Reader Referrals Modal Learn More Clicked",READER_REFERRALS_MODAL_LEARN_MORE_SEEN:"Reader Referrals Modal Learn More Seen",READER_REFERRALS_MODAL_OPT_IN_CLICKED:"Reader Referrals Modal Opt In Clicked",READER_REFERRALS_MODAL_OPT_OUT_CLICKED:"Reader Referrals Modal Opt Out Clicked",RECOMMENDATIONS_CTA_CLICKED:"Recommendations Cta Clicked",RECOMMENDATIONS_CTA_DISMISSED:"Recommendations Cta Dismissed",RECOMMENDATIONS_CTA_SHOWN:"Recommendations Cta Shown",RECOMMENDATIONS_INVITE_WRITER_CLICKED:"Recommendations Invite Writer Clicked",RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED:"Recommendation Subscribe Button Clicked",RECOMMENDATION_UNSUBSCRIBE_BUTTON_CLICKED:"Recommendation Unsubscribe Button Clicked",RECOMMENDED_POST_CLICKED:"Recommended Post Clicked",RECOMMENDED_PUBLICATIONS_MAYBE_LATER_CLICKED:"Recommended Publications Maybe Later Clicked",RECOMMENDED_PUBLICATION_CLICKED:"Recommended Publication Clicked",RECOMMENDED_PUBLICATION_TOGGLED:"Recommended Publication Toggled",RECOMMEND_FROM_WRITER_ONBOARDING_CLICKED:"Recommend From Writer Onboarding Clicked",RECOMMEND_FROM_WRITER_ONBOARDING_SKIPPED:"Recommend From Writer Onboarding Skipped",RECORD_EPISODE_AUDIO_CLICKED:"Record Episode Audio Clicked",REFERRALS_ENABLE_DASHBOARD_CTA_CLICKED:"Referrals Enable Dashboard Cta Clicked",REFERRALS_ENABLE_DASHBOARD_CTA_DISMISSED:"Referrals Enable Dashboard Cta Dismissed",REFERRALS_ENABLE_DASHBOARD_CTA_SHOWN:"Referrals Enable Dashboard Cta Shown",REMOVE_WATERMARK_CLICKED:"Remove Watermark Clicked",REPLY_ACTIVITY_SCREEN_VIEWED:"Reply Activity Screen Viewed",RESTACK_POST_CLICKED:"Restack Post Clicked",RESTACK_POST_SUBMITTED:"Restack Post Submitted",SAVED_CARD_PAYWALL_FAILED:"Saved Card Paywall Failed",SAVED_CARD_PAYWALL_SEEN:"Saved Card Paywall Seen",SAVED_CARD_PAYWALL_SUBMITTED:"Saved Card Paywall Submitted",SAVED_POST_CLICKED:"Saved Post Clicked",SAVE_WATERMARK_CLICKED:"Save Watermark Clicked",SCORE_BASED_UPSELL_MODAL_DONE_CLICKED:"Score Based Upsell Modal Done Clicked",SCORE_BASED_UPSELL_MODAL_EDIT_EMAIL_CLICKED:"Score Based Upsell Modal Edit Email Clicked",SCORE_BASED_UPSELL_MODAL_SEEN:"Score Based Upsell Modal Seen",SECRET_LINK_COPIED:"Secret Link Copied",SECTION_EDITING_ERROR:"Section Editing Error",SECTION_EMAIL_STATE_SCREEN_SHOWN:"Section Email State Screen Shown",SECTION_SETUP_ERROR:"Section Setup Error",SECURITY_QUESTIONS_VIEWED:"Security Questions Viewed",SEEKED_AUDIO:"Seeked Audio",SELECTED_PLAN_CHANGED:"Selected Plan Changed",SEND_AS_EMAIL_PROMPT_ACCEPTED:"Send As Email Prompt Accepted",SEND_AS_EMAIL_PROMPT_REJECTED:"Send As Email Prompt Rejected",SETTINGS_PAGE_CONFIRM_EMAIL_BANNER_SHOWN:"Settings Page Confirm Email Banner Shown",SETTINGS_PAGE_CONFIRM_EMAIL_BUTTON_TAPPED:"Settings Page Confirm Email Button Tapped",SETUP_TWITTER_CTA_CONNECT_CLICKED:"Setup Twitter Cta Connect Clicked",SETUP_TWITTER_CTA_DISMISSED:"Setup Twitter Cta Dismissed",SETUP_TWITTER_CTA_SETDISCOVERABLE_CLICKED:"Setup Twitter Cta Setdiscoverable Clicked",SET_NEW_RATES_CLICKED:"Set New Rates Clicked",SHARE_DIALOG_MORE_OPTION_CLICKED:"Share Dialog More Option Clicked",SHARE_DIALOG_OPENED:"Share Dialog Opened",SHARE_LINK_CLICKED:"Share Link Clicked",STAGED_RELEASE_SCHEDULED:"Staged Release Scheduled",STATS_PAGE_VIEWED:"Stats Page Viewed",STATS_PLACEHOLDER_SEEN:"Stats Placeholder Seen",STREAKS_MODAL_SEEN:"Streaks Modal Seen",STREAKS_MODAL_TURN_ON_CLICKED:"Streaks Modal Turn On Clicked",SUBDOMAIN_CHANGED:"Subdomain Changed",SUBSCRIBER_BADGE_INFO_SHOWN:"Subscriber Badge Info Shown",SUBSCRIBER_COUNT_ANNOUNCEMENT_DISMISSED:"Subscriber Count Announcement Dismissed",SUBSCRIBER_COUNT_ANNOUNCEMENT_SETTINGS_CLICKED:"Subscriber Count Announcement Settings Clicked",SUBSCRIBER_COUNT_ANNOUNCEMENT_SHOWN:"Subscriber Count Announcement Shown",SUBSCRIBER_REFERRALS_SETUP_ERROR:"Subscriber Referrals Setup Error",SUBSCRIBER_REFERRALS_SETUP_MODAL_NOT_NOW:"Subscriber Referrals Setup Modal Not Now",SUBSCRIBER_REFERRALS_SETUP_MODAL_SHOWN:"Subscriber Referrals Setup Modal Shown",SUBSCRIBER_REFERRALS_SETUP_MODAL_SUBMITTED:"Subscriber Referrals Setup Modal Submitted",SUBSCRIBE_BUTTON_FLOATING_IN_POST_CLICKED:"Subscribe Button Floating In Post Clicked",SUBSCRIBE_BUTTON_IN_READER_ONBOARDING_CLICKED:"Subscribe Button In Reader Onboarding Clicked",SUBSCRIBE_BUTTON_IN_SEARCH_RESULTS_CLICKED:"Subscribe Button In Search Results Clicked",SUBSCRIBE_CONFIRM_PAYMENT_SCREEN_SHOWN:"Subscribe Confirm Payment Screen Shown",SUBSCRIBE_CTA_PROMPT_ACCEPTED:"Subscribe Cta Prompt Accepted",SUBSCRIBE_CTA_PROMPT_REJECTED:"Subscribe Cta Prompt Rejected",SUBSCRIBE_EMAIL_FULL_SCREEN_SHOWN:"Subscribe Email Full Screen Shown",SUBSCRIBE_EMAIL_SCREEN_SHOWN:"Subscribe Email Screen Shown",SUBSCRIBE_FLOW_START_WRITING_SEEN:"Subscribe Flow Start Writing Seen",SUBSCRIBE_FOOTER_SEEN:"Subscribe Footer Seen",SUBSCRIBE_FORM_ERROR:"Subscribe Form Error",SUBSCRIBE_FORM_INPUT_FILLED:"Subscribe Form Input Filled",SUBSCRIBE_FORM_MISSING_PAYMENT:"Subscribe Form Missing Payment",SUBSCRIBE_FORM_SUBMIT_PRESSED:"Subscribe Form Submit Pressed",SUBSCRIBE_INVITE_SCREEN_SHOWN:"Subscribe Invite Screen Shown",SUBSCRIBE_LATER_SCREEN_SHOWN:"Subscribe Later Screen Shown",SUBSCRIBE_MODAL_IN_POST_CLOSED:"Subscribe Modal In Post Closed",SUBSCRIBE_MODAL_IN_POST_OPENED_AUTOMATICALLY:"Subscribe Modal In Post Opened Automatically",SUBSCRIBE_NOTE_SCREEN_FAILED:"Subscribe Note Screen Failed",SUBSCRIBE_NOTE_SCREEN_SEEN:"Subscribe Note Screen Seen",SUBSCRIBE_NOTE_SCREEN_SUBMITTED:"Subscribe Note Screen Submitted",SUBSCRIBE_PAGE_BULK_SUBSCRIBED:"Subscribe Page Bulk Subscribed",SUBSCRIBE_PROMPT_DISMISSED:"Subscribe Prompt Dismissed",SUBSCRIBE_PROMPT_EXPANDED:"Subscribe Prompt Expanded",SUBSCRIBE_PROMPT_SHOWN:"Subscribe Prompt Shown",SUBSCRIBE_PROMPT_SIGN_IN_CLICKED:"Subscribe Prompt Sign In Clicked",SUBSCRIBE_PROMPT_SUBMITTED:"Subscribe Prompt Submitted",SUBSCRIBE_SCREEN_SHOWN:"Subscribe Screen Shown",SUBSCRIBE_SCREEN_SUBMIT_ERROR:"Subscribe Screen Submit Error",SUBSCRIBE_SCREEN_TYPE_SELECTED:"Subscribe Screen Type Selected",SUBSCRIBE_THANK_YOU_SCREEN_SHOWN:"Subscribe Thank You Screen Shown",SUBSCRIBE_TWEET_SCREEN_SHOWN:"Subscribe Tweet Screen Shown",SUGGESTED_PUBS_SCREEN_SHOWN:"Suggested Pubs Screen Shown",SUGGESTED_PUBS_UPSELL_SCREEN_FREE_SUBSCRIPTION_ERROR:"Suggested Pubs Upsell Screen Free Subscription Error",SUGGESTED_PUBS_UPSELL_SCREEN_SHOWN:"Suggested Pubs Upsell Screen Shown",SUGGESTED_RECOMMEND_SUBSCRIBING_PUB_SCREEN_SHOWN:"Suggested Recommend Subscribing Pub Screen Shown",SUGGESTED_SUBDOMAIN_SELECTED:"Suggested Subdomain Selected",TEST_DRAFT_EMAIL_ERROR:"Test Draft Email Error",TEST_DRAFT_EMAIL_INPUT_FILLED:"Test Draft Email Input Filled",TEST_DRAFT_EMAIL_MISSING_PAYMENT:"Test Draft Email Missing Payment",TEST_DRAFT_EMAIL_SUBMIT_PRESSED:"Test Draft Email Submit Pressed",THREADS_COMPOSER_SCREEN_VIEWED:"Threads Composer Screen Viewed",THREADS_INBOX_SCREEN_VIEWED:"Threads Inbox Screen Viewed",THREAD_PAYWALL_SCREEN_VIEWED:"Thread Paywall Screen Viewed",THREAD_PERMALINK_VIEWED:"Thread Permalink Viewed",THREAD_REPLY_PERMALINK_VIEWED:"Thread Reply Permalink Viewed",THREAD_SUBSCRIBE_WALL_VIEWED:"Thread Subscribe Wall Viewed",TICKER_DID_YOU_MEAN_CLICKED:"Ticker Did You Mean Clicked",TOP_POSTS_FOOTER_SEEN:"Top Posts Footer Seen",TWITTER_AUTO_SHARE_OPTION_TOGGLED:"Twitter Auto Share Option Toggled",TWITTER_PROFILE_VISIBLE_TOGGLED:"Twitter Profile Visible Toggled",UNSUBSCRIBE_BUTTON_IN_READER_ONBOARDING_CLICKED:"Unsubscribe Button In Reader Onboarding Clicked",UNSUBSCRIBE_BUTTON_IN_SEARCH_RESULTS_CLICKED:"Unsubscribe Button In Search Results Clicked",UPDATE_EXPIRED_CARD_LINK_CLICKED:"Update Expired Card Link Clicked",UPGRADE_PLAN_MODAL_DISMISSED:"Upgrade Plan Modal Dismissed",UPGRADE_PLAN_MODAL_OPENED:"Upgrade Plan Modal Opened",UPGRADE_PLAN_MODAL_PLAN_CHANGED:"Upgrade Plan Modal Plan Changed",UPGRADE_PLAN_MODAL_SUBMITTED:"Upgrade Plan Modal Submitted",UPLOAD_AUDIO_CLICKED:"Upload Audio Clicked",UPLOAD_EPISODE_AUDIO_CLICKED:"Upload Episode Audio Clicked",UPLOAD_VIDEO_CLICKED:"Upload Video Clicked",USER_HEAD_CLICKED:"User Head Clicked",USER_LINK_CLICKED:"User Link Clicked",USER_MENU_ACCOUNT_SETTINGS_CLICKED:"User Menu Account Settings Clicked",USER_MENU_ACTIVITY_CLICKED:"User Menu Activity Clicked",USER_MENU_DASHBOARD_CLICKED:"User Menu Dashboard Clicked",USER_MENU_DISCOVER_CLICKED:"User Menu Discover Clicked",USER_MENU_DISMISSED:"User Menu Dismissed",USER_MENU_MANAGE_SUBSCRIPTION_CLICKED:"User Menu Manage Subscription Clicked",USER_MENU_OPENED:"User Menu Opened",USER_MENU_PROFILE_CLICKED:"User Menu Profile Clicked",USER_MENU_READER_CLICKED:"User Menu Reader Clicked",USER_MENU_SAVED_CLICKED:"User Menu Saved Clicked",VIDEO_BUFFERING_COMPLETED:"Video Buffering Completed",VIDEO_BUFFERING_STARTED:"Video Buffering Started",VIDEO_MODAL_BROWSE_FILES_CLICKED:"Video Modal Browse Files Clicked",VIDEO_MODAL_CANCEL_CLICKED:"Video Modal Cancel Clicked",VIDEO_MODAL_DROPPED_FILE:"Video Modal Dropped File",VIDEO_MODAL_INSERT_CLICKED:"Video Modal Insert Clicked",VIDEO_PAUSE_BUTTON_CLICKED:"Video Pause Button Clicked",VIDEO_PLAYBACK_COMPLETED:"Video Playback Completed",VIDEO_PLAYBACK_CONTINUED:"Video Playback Continued",VIDEO_RECORDED:"Video Recorded",VIDEO_RECORDER_HIDDEN:"Video Recorder Hidden",VIDEO_RECORDER_SHOWN:"Video Recorder Shown",VIDEO_RECORDER_STARTED:"Video Recorder Started",VIDEO_RECORDER_STARTING:"Video Recorder Starting",VIDEO_RECORDER_STOPPED:"Video Recorder Stopped",VIDEO_RECORDER_STOPPING:"Video Recorder Stopping",VIEWED_MORE_CATEGORY:"Viewed More Category",VIRAL_GIFT_ALL_EMAILS_FILLED:"Viral Gift All Emails Filled",VIRAL_GIFT_FORM_SUBMITTED:"Viral Gift Form Submitted",VIRAL_GIFT_LINK_COPIED:"Viral Gift Link Copied",VIRAL_GIFT_LINK_INPUT_CLICKED:"Viral Gift Link Input Clicked",VIRAL_GIFT_PAGE_VIEWED:"Viral Gift Page Viewed",VIRAL_GIFT_SHARE_ON_TWITTER_CLICKED:"Viral Gift Share On Twitter Clicked",VIRTUAL_FREE_SIGNUP_FAILED:"Virtual Free Signup Failed",WRITER_DASHBOARD_POSTS_SEARCHED:"Writer Dashboard Posts Searched",WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED:"Writer Media Assets Image Downloaded",WRITER_MEDIA_ASSETS_PAGE_VISITED:"Writer Media Assets Page Visited",WRITER_REFERRAL_ACTION_BOX_DISMISSED:"Writer Referral Action Box Dismissed",WRITER_REFERRAL_ACTION_BOX_SHOWN:"Writer Referral Action Box Shown",WRITER_REFERRAL_CODE_COPIED:"Writer Referral Code Copied",WRITER_REFERRAL_PROFILE_LINK_CLICKED:"Writer Referral Profile Link Clicked",WRITER_SIGNUP_ADD_SUBS_SKIP:"Writer Signup Add Subs Skip",WRITER_SIGNUP_ADD_SUBS_SUCCESS:"Writer Signup Add Subs Success",WRITER_SIGNUP_CONNECT_ACCOUNTS_SKIP:"Writer Signup Connect Accounts Skip",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_ERROR:"Writer Signup Create Publication Form Error",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_INPUT_FILLED:"Writer Signup Create Publication Form Input Filled",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_MISSING_PAYMENT:"Writer Signup Create Publication Form Missing Payment",WRITER_SIGNUP_CREATE_PUBLICATION_FORM_SUBMIT_PRESSED:"Writer Signup Create Publication Form Submit Pressed",WRITER_SIGNUP_EMAIL_INPUTS_FORM_ERROR:"Writer Signup Email Inputs Form Error",WRITER_SIGNUP_EMAIL_INPUTS_FORM_INPUT_FILLED:"Writer Signup Email Inputs Form Input Filled",WRITER_SIGNUP_EMAIL_INPUTS_FORM_MISSING_PAYMENT:"Writer Signup Email Inputs Form Missing Payment",WRITER_SIGNUP_EMAIL_INPUTS_FORM_SUBMIT_PRESSED:"Writer Signup Email Inputs Form Submit Pressed",WRITER_SIGNUP_GOOGLE_CLICKED:"Writer Signup Google Clicked",WRITER_SIGNUP_IMPORT_SKIP:"Writer Signup Import Skip",WRITER_SIGNUP_IMPORT_SUCCESS:"Writer Signup Import Success",WRITER_SIGNUP_LOG_IN_CLICKED:"Writer Signup Log In Clicked",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_ERROR:"Writer Signup Publisher Agreement Form Error",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_INPUT_FILLED:"Writer Signup Publisher Agreement Form Input Filled",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_MISSING_PAYMENT:"Writer Signup Publisher Agreement Form Missing Payment",WRITER_SIGNUP_PUBLISHER_AGREEMENT_FORM_SUBMIT_PRESSED:"Writer Signup Publisher Agreement Form Submit Pressed",WRITER_SIGNUP_SECOND_TWITTER_SKIP:"Writer Signup Second Twitter Skip",WRITER_SIGNUP_SETUP_PROFILE_FORM_ERROR:"Writer Signup Setup Profile Form Error",WRITER_SIGNUP_SETUP_PROFILE_FORM_INPUT_FILLED:"Writer Signup Setup Profile Form Input Filled",WRITER_SIGNUP_SETUP_PROFILE_FORM_MISSING_PAYMENT:"Writer Signup Setup Profile Form Missing Payment",WRITER_SIGNUP_SETUP_PROFILE_FORM_SUBMIT_PRESSED:"Writer Signup Setup Profile Form Submit Pressed",WRITER_SIGNUP_SUBSCRIBE_TO_OTHERS_SKIPPED:"Writer Signup Subscribe To Others Skipped",WRITER_SIGNUP_SWITCH_ACCOUNTS_CLICKED:"Writer Signup Switch Accounts Clicked",WRITER_SIGNUP_TWITTER_CLICKED:"Writer Signup Twitter Clicked",WRITING_BRANDPAGE_VISITED:"Writing Brandpage Visited",WRITING_HOMEPAGE_VISITED:"Writing Homepage Visited",ZENDESK_CLASSIC_WIDGET_INTERACTED:"Zendesk Classic Widget Interacted"},f={APPLICATION_BACKGROUNDED:"Application Backgrounded",APPLICATION_INSTALLED:"Application Installed",APPLICATION_OPENED:"Application Opened",APPLICATION_UPDATED:"Application Updated",APP_ICON_CHANGED:"App Icon Changed",APP_SIGN_IN_COMPLETE:"App Sign In Complete",ARCHIVE_SCREEN_VIEWED:"Archive Screen Viewed",AUDIO_UNAVAILABLE_MODAL_SHOWN:"Audio Unavailable Modal Shown",CHAT_MENTION_INSERTED:"Chat Mention Inserted",CHAT_MENTION_SEARCH_CANCELLED:"Chat Mention Search Cancelled",CHAT_MENTION_SEARCH_STARTED:"Chat Mention Search Started",COMING_SOON_SCREEN_VIEWED:"Coming Soon Screen Viewed",COMMENTS_THREAD_VIEWED:"Comments Thread Viewed",CONNECT_TWITTER_SCREEN_COMPLETED:"Connect Twitter Screen Completed",CONNECT_TWITTER_SCREEN_VIEWED:"Connect Twitter Screen Viewed",DISCOVERY_SCREEN_VIEWED:"Discovery Screen Viewed",DISCOVER_CATEGORY_SCREEN_VIEWED:"Discover Category Screen Viewed",DISPLAY_SETTINGS_UPDATED:"Display Settings Updated",DISPLAY_SETTINGS_VIEWED:"Display Settings Viewed",EMAIL_INSTRUCTIONS_SCREEN_VIEWED:"Email Instructions Screen Viewed",ENTER_PASSWORD_SCREEN_VIEWED:"Enter Password Screen Viewed",ENTRY_FLOW_COMPLETED:"Entry Flow Completed",ENTRY_FLOW_STARTED:"Entry Flow Started",FEED_COMPOSER_SCREEN_VIEWED:"Feed Composer Screen Viewed",INBOX_AUDIO_ENTRY_TAPPED:"Inbox Audio Entry Tapped",INBOX_SCREEN_VIEWED:"Inbox Screen Viewed",IOS_APP_BANNER_VIEWED:"Ios App Banner Viewed",IOS_EXTERNAL_LINK_CLICKED:"Ios External Link Clicked",IOS_EXTERNAL_LINK_OPENED:"Ios External Link Opened",IOS_EXTERNAL_LINK_SEEN:"Ios External Link Seen",LIBRARY_SCREEN_VIEWED:"Library Screen Viewed",MANAGE_SUBSCRIPTION_EXPLANATION_SHOWN:"Manage Subscription Explanation Shown",MENTION_INSERTED:"Mention Inserted",MENTION_SEARCH_CANCELLED:"Mention Search Cancelled",MENTION_SEARCH_STARTED:"Mention Search Started",MFA_CHALLENGE_SCREEN_VIEWED:"Mfa Challenge Screen Viewed",MOBILE_NEW_FEATURE_MODAL_SHOWN:"Mobile New Feature Modal Shown",NOTIFICATIONS_UPSELL_MODAL_SHOWN:"Notifications Upsell Modal Shown",ONBOARDING_NOTIFICATIONS_SCREEN_COMPLETED:"Onboarding Notifications Screen Completed",ONBOARDING_NOTIFICATIONS_SCREEN_VIEWED:"Onboarding Notifications Screen Viewed",ONBOARDING_NOTIFICATIONS_SKIP_REPROMPT_VIEWED:"Onboarding Notifications Skip Reprompt Viewed",ONBOARDING_SUGGESTIONS_SCREEN_COMPLETED:"Onboarding Suggestions Screen Completed",ONBOARDING_SUGGESTIONS_SCREEN_VIEWED:"Onboarding Suggestions Screen Viewed",PLAYER_ACTIVATED:"Player Activated",PLAYER_DISMISSED:"Player Dismissed",PLAYER_OPENED:"Player Opened",PLAYER_QUEUE_ITEM_REMOVED:"Player Queue Item Removed",PLAYER_QUEUE_ITEM_SELECTED:"Player Queue Item Selected",PLAYER_QUEUE_OPENED:"Player Queue Opened",PLAYER_QUEUE_REORDERED:"Player Queue Reordered",PLAYER_SPEED_CHANGED:"Player Speed Changed",PODCASTS_SCREEN_VIEWED:"Podcasts Screen Viewed",POSTS_BULK_ARCHIVED:"Posts Bulk Archived",POST_AUDIO_ENTRY_TAPPED:"Post Audio Entry Tapped",POST_AUDIO_QUEUED:"Post Audio Queued",PROFILE_CREATION_SCREEN_VIEWED:"Profile Creation Screen Viewed",PROFILE_VISIBILITY_SCREEN_VIEWED:"Profile Visibility Screen Viewed",PUSH_AUTHORIZATION_STATUS_CHANGED:"Push Authorization Status Changed",PUSH_NOTIFICATIONS_ENABLED:"Push Notifications Enabled",PUSH_NOTIFICATION_DELIVERED:"Push Notification Delivered",PUSH_NOTIFICATION_PERMISSION_TRIGGERED:"Push Notification Permission Triggered",PUSH_NOTIFICATION_TAPPED:"Push Notification Tapped",PUSH_SETTINGS_SCREEN_VIEWED:"Push Settings Screen Viewed",SAVED_POSTS_VIEWED:"Saved Posts Viewed",SUBSTACK_PUB_SCREEN_COMPLETED:"Substack Pub Screen Completed",SUBSTACK_PUB_SCREEN_VIEWED:"Substack Pub Screen Viewed",THREADS_INTRO_SCREEN_VIEWED:"Threads Intro Screen Viewed",TWITTER_SUGGESTIONS_SCREEN_COMPLETED:"Twitter Suggestions Screen Completed",TWITTER_SUGGESTIONS_SCREEN_VIEWED:"Twitter Suggestions Screen Viewed",UNSUPPORTED_EMBED_SEEN:"Unsupported Embed Seen",WELCOME_SCREEN_VIEWED:"Welcome Screen Viewed"}},61782:(z,l,e)=>{"use strict";e.d(l,{L:()=>o});const o=1653592864},48971:(z,l,e)=>{"use strict";e.r(l),e.d(l,{DEFAULT_MINIMUM_RATES:()=>u,MAX_MONTHLY_RATE:()=>c,MAX_YEARLY_RATE:()=>_,MINIMUM_CURRENCY_SPECIFIC_RATES:()=>f,currencyFormattedPledgePriceString:()=>E,validatePledgePrices:()=>g});var o=e(83322);const f={gbp:{month:3.5,year:20,founding:20},inr:{month:50,year:300,founding:300}},u={month:5,year:50,founding:50},c=100,_=1e3,g=v=>{const{value:y,interval:T,is_founding:w,currency:S}=v,O=(f[S.toLowerCase()]||u)[w?"founding":T],p=T==="month"?c:_;return y<O?`${(0,o.toTitleCase)(T)}ly plan price must be at least ${E(O,S)}`:y>p?`${(0,o.toTitleCase)(T)}ly${v.is_founding?" founding":""} plan price must be less than ${E(p,S)}`:null},E=(v,y)=>(0,o.centsToPriceString)(v*((0,o.isZeroDecimalCurrency)(y)?1:100),y)},6385:(z,l,e)=>{"use strict";e.r(l),e.d(l,{getAllAudiences:()=>S,getAudiencesForPublicListing:()=>O,getCommentAuthor:()=>ne,getCoverImageUrl:()=>G,getFoundingAudiences:()=>d,getPaidAudiences:()=>p,getPostAuthor:()=>Y,isFoundingAudience:()=>P,isPaidAudience:()=>a,previewSubHasFullAccessToPost:()=>Z,pubRoleHasFullAccessToPost:()=>B,pubRolesHaveFullAccessToPost:()=>V,subHasFullAccessToPost:()=>I,subHasFullAccessToPostAudience:()=>N,userHasFullAccessToPost:()=>A});var o=Object.defineProperty,f=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,_=(L,W,ie)=>W in L?o(L,W,{enumerable:!0,configurable:!0,writable:!0,value:ie}):L[W]=ie,g=(L,W)=>{for(var ie in W||(W={}))u.call(W,ie)&&_(L,ie,W[ie]);if(f)for(var ie of f(W))c.call(W,ie)&&_(L,ie,W[ie]);return L},E=(L,W)=>{var ie={};for(var ue in L)u.call(L,ue)&&W.indexOf(ue)<0&&(ie[ue]=L[ue]);if(L!=null&&f)for(var ue of f(L))W.indexOf(ue)<0&&c.call(L,ue)&&(ie[ue]=L[ue]);return ie};const v=["founding","only_paid","everyone","only_free"],y=["founding","only_paid","everyone"],T=["founding","only_paid"],w=["founding"];function S(){return[...v]}function O(){return[...y]}function p(){return[...T]}function d(){return[...w]}function a(L){return p().includes(L)}function P(L){return d().includes(L)}function C(L,W,ie){if(!W&&!ie||(L==null?void 0:L.subscription_publication_id)===W||(L==null?void 0:L.subscription_publication_id)===ie){if(L!=null&&L.is_founding||L!=null&&L.is_contributor)return"founding";if(L!=null&&L.is_subscribed)return"paid"}return"free"}function D(L){switch(L){case"founding":return["founding"];case"only_paid":return["paid","founding"];case"only_free":return["free"];case"everyone":return["free","paid","founding"];default:throw new Error(`Unknown audience: ${L}`)}}function A(L,W,ie){if(!W)return!1;if(!W.audience)throw new Error("Post has no audience");const ue=C(L,W.publication_id,ie==null?void 0:ie.parent_publication_id);return D(W.audience).includes(ue)}function x(L,W){if(!W||(L==null?void 0:L.publication_id)===W){if((L==null?void 0:L.membership_state)==="subscribed"&&(L!=null&&L.is_founding))return"founding";if((L==null?void 0:L.membership_state)==="subscribed")return"paid"}return"free"}function I(L,W){if(!W)return!1;if(!W.audience)throw new Error("Post has no audience");const ie=x(L,W.publication_id);return D(W.audience).includes(ie)}function N(L,W){const ie=x(L);return D(W).includes(ie)}function F(L){return(L==null?void 0:L.role)==="admin"||(L==null?void 0:L.role)==="contributor"||(L==null?void 0:L.membership_state)==="subscribed"&&(L!=null&&L.is_founding)?"founding":(L==null?void 0:L.membership_state)==="subscribed"?"paid":"free"}function B(L,W){if(!W)return!1;if(!W.audience)throw new Error("Post has no audience");const ie=F(L);return D(W.audience).includes(ie)}function V(L,W){return!!(W&&(B(L==null?void 0:L[W.publication_id],W)||W.parent_publication_id&&B(L==null?void 0:L[W.parent_publication_id],W)))}function Z(L,W){if(!W)return!1;if(!W.audience)throw new Error("Post has no audience");const ie=L;return D(W.audience).includes(ie)}function Y(L,W){var ie;const ue=(ie=W==null?void 0:W.publishedBylines)==null?void 0:ie[0];if(ue)return ue;const le=L.contributors.find(te=>te.owner);if(le){const te=le,{user_id:se}=te,ee=E(te,["user_id"]);return g({id:se},ee)}const J=L.contributors.find(te=>["admin","contributor"].includes(te.role));if(J){const te=J,{user_id:se}=te,ee=E(te,["user_id"]);return g({id:se},ee)}return{id:L.author_id,name:L.author_name,photo_url:L.author_photo_url,bio:L.author_bio}}function ne(L){var W,ie,ue,le,J,te,se,ee,ae,ce,fe,Ee,de,_e,ve;return{id:(ue=(ie=(W=L.user)==null?void 0:W.id)!=null?ie:L.user_id)!=null?ue:-1,name:(te=(J=(le=L.user)==null?void 0:le.name)!=null?J:L.name)!=null?te:"",handle:(ee=(se=L.user)==null?void 0:se.handle)!=null?ee:L.handle,photo_url:(ce=(ae=L.user)==null?void 0:ae.photo_url)!=null?ce:L.photo_url,bestseller_tier:(de=(Ee=(fe=L.user)==null?void 0:fe.bestseller_tier)!=null?Ee:L.user_bestseller_tier)!=null?de:null,primary_publication:(ve=(_e=L.user)==null?void 0:_e.primary_publication)!=null?ve:L.user_primary_publication}}function G(L){return!L.cover_image||/12634ced-0eb6-4238-a94a-70ab242c5ad8/.test(L.cover_image)||/fa15c776-f514-42fe-8ee0-4c94148a0a8a/.test(L.cover_image)||/8826edac-0d50-4ba0-b861-f3ed9336878b/.test(L.cover_image)||/49be2356-6491-4a6f-84a5-15e99d23b6d1/.test(L.cover_image)?null:L.cover_image}},85200:(z,l,e)=>{"use strict";e.d(l,{FV:()=>y,Im:()=>g,ab:()=>E,wN:()=>v});var o=e(39693),f=e.n(o),u=e(15045),c=e(83322);const _=function(T){const w=T.trim();return(0,c.endsWithPunctuation)(w)?w:`${w}.`},g=function(T,w=3){if(!(T!=null&&T.length)||!T[0].owner)return null;const S=T[0].name;if(T.length===1)return{owner:S,others:null};let O=T.slice(1);if(O.length>w&&(O=O.filter(p=>p.role==="admin")),O.length&&O.length<=w){const p=O.map(d=>d.name);return{owner:S,others:(0,c.oxfordComma)(p).toString()}}return{owner:S,others:null}},E=function(T,w,S,O,p,d){const a=T?_(T):"";let P;w&&!w.others?O.toLowerCase().includes(w.owner.toLowerCase())?P="":P=` by ${w.owner},`:P="";let C;return S&&d?C=" a Substack publication.":S?C=` a Substack publication with ${S}.`:p?C=` a Substack publication. ${p}.`:C=" a Substack publication.",_(`${d&&S?`${S}. `:""}${a} Click to read ${O},${P}${C}`)};function v(T,w){if(T){if(T.author_id===w)return!0;for(const S of T.contributors)if(S.user_id===w)return!0}return!1}const y=T=>{const w=T.podcast_enabled?{title:T.podcast_title,podcast_art_url:T.podcast_art_url,url:(0,u.getPodcastLandingUrl)({pub:T,section:null})}:null,S=T.sections.filter(O=>O.is_podcast).map(O=>{var p;return{title:O.name,podcast_art_url:(p=O.podcastSettings)==null?void 0:p.podcast_art_url,url:(0,u.getPodcastLandingUrl)({pub:T,section:O})}});return f()([w,...S])}},91613:(z,l,e)=>{"use strict";e.d(l,{x:()=>f});var o=e(6385);const f=(u,c,_,g,E)=>!(!E&&!(u!=null&&u.has_publication)||g.invite_only||(0,o.isPaidAudience)(_.audience)||!c.enable_restacking)},82771:(z,l,e)=>{"use strict";e.d(l,{Rg:()=>a,hd:()=>d});var o=e(85928),f=e.n(o),u=e(6385),c=e(15045),_=e(83322),g=Object.defineProperty,E=Object.defineProperties,v=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,S=(C,D,A)=>D in C?g(C,D,{enumerable:!0,configurable:!0,writable:!0,value:A}):C[D]=A,O=(C,D)=>{for(var A in D||(D={}))T.call(D,A)&&S(C,A,D[A]);if(y)for(var A of y(D))w.call(D,A)&&S(C,A,D[A]);return C},p=(C,D)=>E(C,v(D));function d(C,{name:D,url:A,description:x,potentialAction:I}={}){return I===void 0&&(I={"@type":"SearchAction",name:`Search ${C.name}`,target:`${C.base_url}${(0,c.getBaseArchiveUrl)(C)}?utm_source=google&sort=search&search={search_term_string}`,"query-input":"required name=search_term_string"}),{"@context":"https://schema.org","@type":"WebSite",name:D||C.name,publisher:O(O({"@type":"Organization",name:C.name,url:C.base_url},C.logo_url?{logo:{"@type":"ImageObject",url:C.logo_url}}:{}),C.twitter_screen_name?{sameAs:[`https://twitter.com/${C.twitter_screen_name}`]}:{}),url:A||C.base_url,mainEntityOfPage:{"@type":"WebPage",url:A||C.base_url},description:x||C.hero_text,potentialAction:I}}function a(C,D){var A,x,I,N;const F=(0,_.getBylineUsers)(D),B=O(O(p(O({"@type":"Organization",name:(C.parent_publication||C).name,url:(0,c.getBaseUrl)(C.parent_publication||C),description:(C.parent_publication||C).hero_text},C.rankingDetailFreeIncludedOrderOfMagnitude&&{interactionStatistic:{"@type":"InteractionCounter",name:"Subscribers",interactionType:"https://schema.org/SubscribeAction",userInteractionCount:C.rankingDetailFreeIncludedOrderOfMagnitude}}),{identifier:`pub:${(C.parent_publication||C).id}`}),(C.parent_publication||C).logo_url&&{logo:{"@type":"ImageObject",url:(C.parent_publication||C).logo_url,contentUrl:(0,c.imginary)((A=(C.parent_publication||C).logo_url)!=null?A:""),thumbnailUrl:(0,c.imginary)((x=(C.parent_publication||C).logo_url)!=null?x:"",128,{height:128})},image:{"@type":"ImageObject",url:(C.parent_publication||C).logo_url,contentUrl:(0,c.imginary)((I=(C.parent_publication||C).logo_url)!=null?I:""),thumbnailUrl:(0,c.imginary)((N=(C.parent_publication||C).logo_url)!=null?N:"",128,{height:128})}}),(C.parent_publication||C).twitter_screen_name&&{sameAs:[`https://twitter.com/${(C.parent_publication||C).twitter_screen_name}`]});return p(O({"@context":"https://schema.org","@type":"NewsArticle",url:(0,c.getPostUrl)(C,D),mainEntityOfPage:(0,c.getPostUrl)(C,D),headline:D.search_engine_title||D.social_title||D.title,description:D.search_engine_description||D.description,image:D.cover_image?[{"@type":"ImageObject",url:D.cover_image}]:[],datePublished:f()(D.post_date).format("YYYY-MM-DDTHH:mm:ssZ"),dateModified:f()(D.post_date).format("YYYY-MM-DDTHH:mm:ssZ"),isAccessibleForFree:!(0,u.isPaidAudience)(D.audience)},D.post_paywall_content_for_google&&{hasPart:[{"@type":"WebPageElement",isAccessibleForFree:!0,cssSelector:".available-content"},{"@type":"WebPageElement",isAccessibleForFree:!1,cssSelector:".paywall-content"}]}),{author:F.length>0?F.map(V=>O(O({"@type":"Person",name:V.name,url:(0,c.getReaderProfileUrl)(V),description:V.bio,identifier:`user:${V.id}`},V.twitter_screen_name&&{sameAs:[`https://twitter.com/${V.twitter_screen_name}`]}),V.photo_url&&{image:{"@type":"ImageObject",contentUrl:(0,c.imginary)(V.photo_url),thumbnailUrl:(0,c.imginary)(V.photo_url,128,{height:128})}})):B,publisher:B})}function P(C){return O({"@context":"https://schema.org","@type":"Person",image:(C==null?void 0:C.photo_url)&&imginary(C.photo_url),name:`${C==null?void 0:C.name}`,url:C&&getReaderProfileUrl(C),jobTitle:C==null?void 0:C.bio,description:C==null?void 0:C.bio},C!=null&&C.twitter_screen_name?{sameAs:[`https://twitter.com/${C.twitter_screen_name}`]}:{})}},86418:(z,l,e)=>{"use strict";e.d(l,{P:()=>u});const o=new Set(["subscribed","free_signup"]);function f(c){return o.has(c)}function u(c,_){if(!c)return!1;if(!_)return!0;const g=["unsubscribed","free_signup","subscribed"];return g.indexOf(c)>=g.indexOf(_)}},21125:(z,l,e)=>{"use strict";e.d(l,{gg:()=>u});var o=e(25235);function f(_){return _&&c(_)[0]||null}function u(_){return _&&c(_).pop()||null}function c(_){return(0,o.find)(_).filter(g=>g.type==="url"&&g.href.startsWith("http"))}},46131:(z,l,e)=>{"use strict";e.d(l,{Z:()=>o});function*o(f){if(yield f,f.content)for(const u of f.content)yield*o(u)}},81470:(z,l,e)=>{"use strict";e.d(l,{Uo:()=>o});var o=(c=>(c.Feed="feed",c.FeedSidebar="feed-sidebar",c.Suggestions="suggestions",c.Permalink="permalink",c.Profile="profile",c.Post="post",c.PostEmbed="post-embed",c.Publication="publication",c.RestacksList="restacks-list",c))(o||{}),f=(c=>(c.ForYou="for-you",c.Subscribed="subscribed",c.Subscribers="subscribers",c.Writers="writers-v2",c.Everyone="everyone",c.FirstNote="first-note",c.Substack="substack",c.ForYouBeta="for-you-beta",c.ForYouNoNotes="for-you-no-notes",c))(f||{});const u={["for-you"]:"Home",subscribed:"Subscribed",subscribers:"My subscribers",["writers-v2"]:"[Bestsellers]",everyone:"[Everyone]",["first-note"]:"[First notes]",substack:"Substack",["for-you-beta"]:"[Home/beta]",["for-you-no-notes"]:"[Noteless]"}},20501:(z,l,e)=>{"use strict";e.r(l),e.d(l,{CDN_URL:()=>f.L4,CHAT_EXAMPLES_URL:()=>Qe,CHAT_FAQ_URL:()=>Se,FEED_PATH:()=>u.Ds,FEED_PATH_NAME:()=>u.qB,OLD_FEED_PATH:()=>u.Z3,_getUrl:()=>f.JD,extractDimensionsFromImageUrl:()=>Ke,feedPathRegex:()=>u.Qe,fixOldFeedPath:()=>u.sm,getActivityRepliesDeepLinkUrl:()=>u.AP,getAddPodcastToSectionUrl:()=>Et,getAppLinkTabUrl:()=>fe,getBaseAppLinkUrl:()=>se,getBaseUrl:()=>f.SV,getBillingDetailsUrl:()=>x,getBillingHistoryUrl:()=>I,getCancelOrUncancelUrl:()=>_t,getChangeEmailUrl:()=>B,getChatAppLinkUrl:()=>ce,getCommentDeepLinkUrl:()=>u.z5,getCommentEntityKey:()=>u.It,getCommentFallbackUrl:()=>u.NZ,getCommunityCommentAppLinkUrl:()=>ve,getCommunityPostAppLinkUrl:()=>_e,getCommunityPostEntityKey:()=>u.AO,getConnectFacebookUrl:()=>pe,getConnectTwitterUrl:()=>Q,getCreateCollabPostUrl:()=>sr,getCreateNotesUrl:()=>u.TK,getCustomPublicationThemeDisablePreviewUrl:()=>ct,getCustomPublicationThemePreviewUrl:()=>Xe,getDashboardHomeUrl:()=>W,getDonateSubscriptionUrl:()=>D,getEditPostUrlById:()=>c.getEditPostUrlById,getEditProfileUrl:()=>_.getEditProfileUrl,getEditPubPodcastUrl:()=>en,getEditSectionPodcastUrl:()=>vt,getEmailTestUrl:()=>N,getFeedCommentAppLinkUrl:()=>De,getFeedCommentUrl:()=>u.Sg,getFeedPeopleYouMayKnowUrl:()=>u.kM,getFeedPostRestacksUrl:()=>u.Oi,getFeedPostUrl:()=>u.rc,getFeedShortPostUrl:()=>u.mx,getFeedUrl:()=>u.E2,getGiftsUrl:()=>F,getGroupManagementUrl:()=>G,getHcProfileViolationFormUrl:()=>st,getHostname:()=>f.Fo,getImginariedFavicons:()=>me,getImportPodcastToSectionUrl:()=>jt,getInboxAppLinkUrl:()=>ee,getLeaderboardUrl:()=>Mn,getLikelyLoggedInParam:()=>c.getLikelyLoggedInParam,getLinkToVideo:()=>c.getLinkToVideo,getLinkableElementIdForVideo:()=>c.getLinkableElementIdForVideo,getManageGroupSubscriptionUrl:()=>Z,getManageSubscriptionUrl:()=>V,getMeetingAdminUrl:()=>te,getMeetingOrderUrl:()=>le,getMeetingsUrl:()=>J,getMentionsUrl:()=>Fe,getNavigationBarItemUrl:()=>tt,getNoteCommentPreviewUrl:()=>u.IY,getNoteEntityKey:()=>u.D2,getNoteRestacksUrl:()=>u.Ed,getNoteUrl:()=>u.gt,getOfferSubscribeUrl:()=>A,getPodcastArchiveUrl:()=>ze,getPodcastRssUrlFromIds:()=>tr,getPostDashboardUrl:()=>L,getPostDeepLinkUrl:()=>u.sH,getPostDetailsPageUrl:()=>nn,getPostEntityKey:()=>u.vy,getPostManagementUrl:()=>ie,getPostTagUrl:()=>lt,getPostUrl:()=>c.getPostUrl,getPostUrlBySlug:()=>c.getPostUrlBySlug,getPresubscribeUrl:()=>P,getProfileConnectionsUrl:()=>_.getProfileConnectionsUrl,getProfileHandleUrl:()=>_.getProfileHandleUrl,getProfileSetupUrl:()=>_.getProfileSetupUrl,getProfileSubdomain:()=>_.getProfileSubdomain,getProfileUrlById:()=>_.getProfileUrlById,getPubAccountSettingsUrl:()=>c.getPubAccountSettingsUrl,getPubConnectTwitterUrl:()=>H,getPublicationAppLinkUrl:()=>Ee,getPublicationChatAppLinkUrl:()=>de,getPublishBaseUrl:()=>Y,getPublishSettingsUrl:()=>ne,getReaderPostUrl:()=>we,getReaderProfileUrl:()=>_.getReaderProfileUrl,getSectionUrl:()=>Ae,getSharePublicationUrl:()=>d,getStreakGraphicUrl:()=>Tt,getStripeInvoiceUrl:()=>ot,getStripePlanUrl:()=>He,getSubdomainOrCustomDomain:()=>Ye,getSubscribeUrl:()=>a,getSubscriberDashboardUrl:()=>ue,getSubstackUrl:()=>f.ZJ,getSubstackUrlWithDomain:()=>f.y,getThreadCommentsLandingPageUrl:()=>ye,getThreadsLandingPageUrl:()=>Oe,getUserAppLinkUrl:()=>ae,getWebChatUrl:()=>C,imginary:()=>Be,isFeedPath:()=>u.Z2,isHostedBySubstack:()=>je,isHostedByUnsplash:()=>ke,isOldFeedPath:()=>u.p8,isOpenSubstackPostUrl:()=>Je,matchCommentPath:()=>u.Th,matchFeedSubpath:()=>u.Iw,matchNoteId:()=>u.WF,matchNotePath:()=>u.Po,matchOldCommentPath:()=>u.Qd,matchPostPath:()=>u.nY,parsePostUrl:()=>Ne,parseUrl:()=>ge,pathWithQuery:()=>f.n1,serializeQuery:()=>f.Y$,shareSamePub:()=>dt,stripeBaseUrl:()=>Re,substackBaseUrl:()=>f.tE,substackDomain:()=>f.T9,substackUrl:()=>f.pv,unimginary:()=>We});var o=e(72985),f=e(30123),u=e(70444),c=e(36250),_=e(2731),g=Object.defineProperty,E=Object.defineProperties,v=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,S=(Rt,Mt,$t)=>Mt in Rt?g(Rt,Mt,{enumerable:!0,configurable:!0,writable:!0,value:$t}):Rt[Mt]=$t,O=(Rt,Mt)=>{for(var $t in Mt||(Mt={}))T.call(Mt,$t)&&S(Rt,$t,Mt[$t]);if(y)for(var $t of y(Mt))w.call(Mt,$t)&&S(Rt,$t,Mt[$t]);return Rt},p=(Rt,Mt)=>E(Rt,v(Mt));const d=(Rt,Mt={})=>{const $t=O({utm_source:"substack",utm_medium:"email",utm_content:"share",action:"share"},Mt),vn=(0,f.SV)(Rt);return(0,f.n1)(vn,O(O({},$t),Mt))};function a(Rt,{root:Mt,user:$t,addBase:vn,params:An={}}={}){return Mt?/[&?]$/.test(Mt)||(Mt.includes("?")||Mt.endsWith("%%")?Mt+="&":Mt+="?"):Mt=vn?`${(0,f.SV)(Rt)}/subscribe?`:"/subscribe?",$t!=null&&$t.email&&(An.autoSubmit=!0,An.email=$t==null?void 0:$t.email),Mt+(0,f.Y$)(An)}function P(Rt){return`/api/v1/presubscribe/${Rt.id}`}function C({pubId:Rt,postId:Mt,commentId:$t,params:vn}){return(0,f.n1)(`${(0,f.ZJ)()}/chat${Rt?`/${Rt}`:""}${Mt?`/post/${Mt}`:""}${$t?`/reply/${$t}`:""}`,vn)}function D(Rt,{root:Mt,addBase:$t,params:vn={}}={}){return Mt?/[&?]$/.test(Mt)||(Mt.includes("?")||Mt.endsWith("%%")?Mt+="&":Mt+="?"):Mt=$t?`${(0,f.SV)(Rt)}/donate?`:"/donate?",Mt+(0,f.Y$)(vn)}function A(Rt,{root:Mt,user:$t,addBase:vn,offerCode:An,params:dr={}}){return Mt?/[&?]$/.test(Mt)||(Mt.includes("?")||Mt.endsWith("%%")?Mt+="&":Mt+="?"):Mt=vn?`${(0,f.SV)(Rt)}/subscribe/offer/${An}?`:`/subscribe/offer/${An}?`,$t!=null&&$t.email&&(dr.autoSubmit=!0,dr.email=$t==null?void 0:$t.email),Mt+(0,f.Y$)(dr)}function x(Rt,{utm_source:Mt}={}){return(0,f.n1)(`${(0,f.SV)(Rt)}/account/billing?details`,{utm_source:Mt})}function I(Rt,{utm_source:Mt}={}){return(0,f.n1)(`${(0,f.SV)(Rt)}/account/receipts`,{utm_source:Mt})}function N(Rt,{utm_source:Mt}={}){return(0,f.n1)(`${(0,f.SV)(Rt)}/account/email-test`,{utm_source:Mt})}function F({pub:Rt}){return`${(0,f.SV)(Rt)}/account/gifts`}function B({utm_source:Rt}={}){return(0,f.n1)(`${(0,f.ZJ)()}/account/email`,{utm_source:Rt})}function V(Rt){return`${(0,f.SV)(Rt)}/account`}const Z=Rt=>`${(0,f.SV)(Rt)}/account/group`;function Y(Rt,{addBase:Mt,baseUrlOptions:$t}={}){return`${Mt?(0,f.SV)(Rt,$t):""}/publish`}function ne(Rt,{addBase:Mt=!1,baseUrlOptions:$t={},section:vn="",params:An}={}){let dr=(0,f.n1)(`${Y(Rt,{addBase:Mt,baseUrlOptions:$t})}/settings`,An);return vn&&(dr+=`#${vn}`),dr}function G(Rt,{addBase:Mt=!1,baseUrlOptions:$t={},params:vn}={}){return(0,f.n1)(`${Y(Rt,{addBase:Mt,baseUrlOptions:$t})}/groups`,vn)}function L(Rt,{addBase:Mt,params:$t}={}){const An=`${Mt?(0,f.SV)(Rt):""}/publish`;return $t?(0,f.n1)(An,$t):An}function W(Rt,{addBase:Mt,params:$t}={}){const An=`${Mt?(0,f.SV)(Rt):""}/publish/home`;return $t?(0,f.n1)(An,$t):An}function ie(Rt,Mt="published",{addBase:$t,params:vn}={}){const dr=`${$t?(0,f.SV)(Rt):""}/publish/posts/${Mt}`;return vn?(0,f.n1)(dr,vn):dr}function ue(Rt,{addBase:Mt,params:$t}={}){const An=`${Mt?(0,f.SV)(Rt):""}/publish/subscribers`;return $t?(0,f.n1)(An,$t):An}function le(Rt,Mt,{addBase:$t,params:vn,referrer:An}={}){const Pr=`${$t?(0,f.SV)(Rt):""}/meetings/book/${Mt}`,br=p(O({},vn),{referrer:An});return vn||An?(0,f.n1)(Pr,br):Pr}function J(Rt,{addBase:Mt,params:$t,referrer:vn}={}){const dr=`${Mt?(0,f.SV)(Rt):""}/meetings`,Pr=p(O({},$t),{referrer:vn});return $t||vn?(0,f.n1)(dr,Pr):dr}function te(Rt,{addBase:Mt,params:$t,filter:vn}={}){const dr=`${Mt?(0,f.SV)(Rt):""}/publish/meetings/${vn!=null?vn:"upcoming"}`;return $t?(0,f.n1)(dr,$t):dr}function se(){return(0,f.JD)(`open.${f.T9}`)}function ee({utm_source:Rt,utm_campaign:Mt,redirect:$t}){return(0,f.n1)(`${se()}/inbox`,{utm_source:Rt,utm_campaign:Mt,redirect:$t})}function ae({user_id:Rt,user_name:Mt,utm_source:$t,utm_campaign:vn,redirect:An}){let dr=`${se()}/users/${Rt}`;const Pr=(0,o.cleanSlug)(Mt,{hashIfEmpty:!0});return Pr&&(dr+=`-${Pr}`),(0,f.n1)(dr,{utm_source:$t,utm_campaign:vn,redirect:An})}function ce({utm_source:Rt,utm_campaign:Mt}){return(0,f.n1)(`${se()}/chat`,{utm_source:Rt,utm_campaign:Mt})}function fe({tab:Rt,utm_source:Mt,utm_campaign:$t,redirect:vn}){return(0,f.n1)(`${se()}/${Rt}`,{utm_source:Mt,utm_campaign:$t,redirect:vn})}function Ee({subdomain:Rt,utm_source:Mt,utm_campaign:$t,redirect:vn}){return(0,f.n1)(`${se()}/pub/${Rt}`,{utm_source:Mt,utm_campaign:$t,redirect:vn})}function de({pubKey:Rt,utm_source:Mt,utm_campaign:$t,redirect:vn,modal:An}){return(0,f.n1)(`${se()}/pub/${Rt}/chat`,{utm_source:Mt,utm_campaign:$t,redirect:vn,modal:An})}function _e({postId:Rt,utm_source:Mt,utm_campaign:$t,redirect:vn,modal:An}){return(0,f.n1)(`${se()}/chat/posts/${Rt}`,{utm_source:Mt,utm_campaign:$t,redirect:vn,modal:An})}function ve({commentId:Rt,targetReplyId:Mt,utm_source:$t,utm_campaign:vn,redirect:An,modal:dr}){return(0,f.n1)(`${se()}/chat/replies/${Rt}`,{target_reply_id:Mt,utm_source:$t,utm_campaign:vn,redirect:An,modal:dr})}function De(Rt,{urlParams:Mt}={}){return(0,u.Sg)(Rt,{baseUrl:se(),urlParams:Mt})}function Oe({pub:Rt,postId:Mt,modal:$t,query:vn}){return(0,f.n1)(`${(0,f.SV)(Rt)}/chat${Mt?`/posts/${Mt}`:""}`,O({modal:$t},vn))}function ye({pub:Rt,commentId:Mt,targetReplyId:$t,modal:vn,query:An}){return(0,f.n1)(`${(0,f.SV)(Rt)}/chat${Mt?`/replies/${Mt}`:""}`,O({modal:vn,target_reply_id:$t},An))}function ze({pub:Rt,params:Mt,section:$t}){return $t?(0,f.n1)(`${(0,f.SV)(Rt)}/listen/${$t.slug}/archive`,Mt):(0,f.n1)(`${(0,f.SV)(Rt)}/podcast/archive`,Mt)}function Be(Rt,Mt,{quality:$t="auto:good",format:vn="auto",crop:An="limit",lossy:dr=!1,gravity:Pr=null,height:br=null,aspect:Or=null,version:Lr=null,smartCrop:Wr=!1,portraitCrop:Zr=!1,skipDomainValidation:yo=!1,leadingSegments:ho=[],trailingSegments:$r=[]}={}){var co;if(!Rt)return Rt;Rt.startsWith("/")&&!Rt.startsWith("//")&&(Rt=(0,f.ZJ)()+Rt),Rt=We(Rt);try{if(new URL(Rt).hostname.endsWith(".localhost"))return Rt}catch(oo){}if(typeof window!="undefined"&&((co=window==null?void 0:window.location)!=null&&co.hostname)&&["subwit.com","herokuapp.com"].reduce((oo,Xr)=>oo||window.location.hostname.endsWith(Xr),!1)&&(Rt=Rt.replace("//substack.com",`//${window.location.hostname}`)),Rt.startsWith("https://substackcdn.com")||Rt.startsWith(f.L4))return Rt;if(Rt.startsWith("https://d3b3sm9t19x0yd.cloudfront.net"))return Rt.replace(/^https:\/\/d3b3sm9t19x0yd\.cloudfront\.net/,f.L4);if(Rt.startsWith("https://res.cloudinary.com"))return Rt.replace(/^https:\/\/res\.cloudinary\.com\/[^/]+/,f.L4);if(!yo&&!Rt.match(/^https?:\/\/(bucketeer[^/]*\.s3\.amazonaws\.com|(.*\.)?substack\.com|substack-post-media\.s3\.amazonaws\.com|substack-post-media-staging\.s3\.amazonaws\.com|substack-video\.s3\.amazonaws\.com|substack-video-staging\.s3\.amazonaws\.com|substack-staging-pr-\d+\.herokuapp\.com|.*\.ngrok\.io|.*\.subwit\.com|www\.shatnerchatner\.com|cyberrisk\.news|proofofwork\.news|www\.trapital\.co|www\.truehoop\.com|www\.creditwritedowns\.com|sinocism\.com|nb\.sinocism\.com|popular\.info|robertcottrell\.com|pbs\.twimg\.com|www\.theupside\.us|www\.exponentialview\.co|storage\.opensea\.io).*/))return Rt;if(Wr&&Mt&&br){const oo=Ke(Rt);if(oo){const Xr=Mt/br,po=oo.width/oo.height;(Xr<1&&po>=1||Xr>=1&&po<1||Xr===1&&po>=1||Xr===1&&po<=1)&&Math.abs(Xr-po)>=.5&&(An="fill",Pr=Pr!=null?Pr:"auto")}}if(Wr&&(An="fill",Pr=Pr!=null?Pr:"auto"),Or&&Mt&&br==null){const[oo,Xr]=Or.split(":").map(Number);br=Math.round(Mt*Xr/oo)}const io=[Mt&&`w_${Mt}`,br&&`h_${br}`,An&&(Mt||br)&&`c_${An}`,vn&&`f_${vn}`,$t&&`q_${$t}`,`fl_${dr?"lossy":"progressive:steep"}`,Pr&&`g_${Pr}`].filter(Boolean).join(","),Tr=[Mt&&`w_${Mt}`,vn&&`f_${vn}`,$t&&`q_${$t}`,`fl_${dr?"lossy":"progressive:steep"}`].filter(Boolean).join(","),Hr=[An&&(Mt||br)&&`c_${An}`,Pr&&`g_${Pr}`,Or?`ar_${Or}`:"ar_1"].filter(Boolean).join(","),Po=Zr?[Tr,"/if_ar_lt_1.0/",Hr,"/if_end"].join(""):[io].filter(Boolean).join(",");return`${f.L4}/image/fetch/${ho.concat([Po]).concat($r).join("/")}/${encodeURIComponent(Rt+(Lr?`${Rt.indexOf("?")!==-1?"&":"?"}version=${Lr}`:""))}`}function We(Rt){if(!Rt)return Rt;const Mt=[/^https:\/\/substackcdn\.com\/image\/fetch\/[^/]+\/(.+)$/i,/^https:\/\/substackcdn\.net\/image\/fetch\/[^/]+\/(.+)$/i,/^https:\/\/cdn\.substack\.com\/image\/fetch\/[^/]+\/(.+)$/i,/^https:\/\/cdn\.substack\.info\/image\/fetch\/[^/]+\/(.+)$/i,/^https:\/\/d3b3sm9t19x0yd\.cloudfront\.net\/image\/fetch\/[^/]+\/(.+)$/i,/^https:\/\/res\.cloudinary\.com\/hhsslviub\/image\/fetch\/[^/]+\/(.+)$/i];for(const $t of Mt){const vn=$t.exec(Rt);if(vn)return decodeURIComponent(vn[1])}return Rt}function Ke(Rt){const Mt=Rt.match(/(\d+)x(\d+)\.\w+$/);return Mt?{width:+Mt[1],height:+Mt[2]}:null}function Xe(Rt,Mt){return`${(0,f.SV)(Rt)}/api/v1/custom-publication-theme/${Mt.id}/preview`}function ct(Rt){return`${(0,f.SV)(Rt)}/api/v1/custom-publication-theme/disable-preview`}const Se="https://substack.link/chat-faq",Qe="https://substack.link/chat-examples";function ge(Rt){const Mt=Rt.trim();if(/\s/.test(Mt))return null;try{const $t=new URL(Mt);return["http:","https:"].includes($t.protocol)?$t:null}catch($t){return null}}const Fe=(Rt,Mt,$t,vn)=>{switch(Rt){case"user":default:return ae({user_id:Mt,user_name:$t,utm_source:"mentions"});case"pub":return vn?(0,f.n1)(vn,{utm_source:"mentions"}):""}};function Ne(Rt){var Mt;const $t=ge(Rt);if(!$t)return null;const vn=(Mt=$t.pathname.match(/^\/p\/([^\/]+)$/))==null?void 0:Mt[1];if(!vn)return null;let An,dr;return $t.hostname.endsWith(`.${f.pv.hostname}`)?An=$t.hostname.split(".")[0]:dr=$t.hostname,{slug:vn,subdomain:An,customDomain:dr}}function lt(Rt,Mt,{addBase:$t=!1,query:vn={}}={}){return(0,f.n1)(`${$t?(0,f.SV)(Rt):""}/t/${Mt.slug}`,vn)}const Et=({section:Rt})=>`/publish/settings/new_podcast/${Rt.id}`,jt=({section:Rt})=>Rt?`/publish/import/podcast/${Rt.id}`:"",en=({pub:Rt,addBase:Mt})=>`${Mt?(0,f.SV)(Rt):""}/publish/settings/podcast/edit`,vt=({pub:Rt,section:Mt,addBase:$t,referrer:vn})=>Mt?`${$t?(0,f.SV)(Rt):""}/publish/settings/podcast/${Mt.id}${vn?`?referrer=${vn}`:""}`:(console.error("section is missing when passed to getEditSectionPodcastUrl"),""),Re="https://dashboard.stripe.com",He=(Rt,Mt)=>`${Re}/${Rt.stripe_user_id}/prices/${Mt}`,ot=(Rt,Mt)=>`${Re}/${Rt.stripe_user_id}/invoices/${Mt}`;function me(Rt){const Mt=Rt.html.map($t=>{var vn;const An=(vn=$t.match(/href="([^"]+)"/))==null?void 0:vn[1];return An?$t.replace(An,Be(An)):$t});return p(O({},Rt),{html:Mt})}function ke(Rt){return Rt?Rt.startsWith("https://images.unsplash.com/"):!1}function je(Rt){if(Rt){if(Rt.startsWith(f.L4)||Rt.startsWith("https://res.cloudinary.com")||Rt.startsWith("https://bucketeer"))return!0;const{getPostMediaBucketName:Mt}=e(83322),$t=`https://${Mt()}.s3.amazonaws.com`;if(Rt.startsWith($t))return!0}return!1}function Je(Rt){if(!Rt)return!1;const{hostname:Mt,pathname:$t}=new URL(Rt);return Mt.startsWith("open.substack.com")?$t.startsWith("/pub/")&&$t.includes("/p/"):!1}function tt(Rt,Mt,{addBase:$t}={}){var vn,An;return Mt.section?Ae(Rt,{addBase:$t,section:Mt.section}):Mt.post?(0,c.getPostUrl)(Rt,Mt.post,{noBase:!$t}):Mt.postTag?lt(Rt,Mt.postTag,{addBase:$t}):$t&&/^\/[^/]/.test((vn=Mt.link_url)!=null?vn:"")?`${(0,f.SV)(Rt)}${Mt.link_url}`:(An=Mt.link_url)!=null?An:""}function Ae(Rt,{addBase:Mt,section:$t}={}){if($t=$t||(Rt==null?void 0:Rt.section),!$t)throw new Error("Section not found");return`${Mt?(0,f.SV)(Rt):""}/s/${$t.slug||$t.id}`}const H=(Rt,{addBase:Mt,params:$t}={})=>{const vn=Mt&&Rt?Kh.getBaseUrl(Rt):"";return Q(O({base:vn},$t))},Q=Rt=>{var Mt;const $t=`${(Mt=Rt==null?void 0:Rt.base)!=null?Mt:""}/api/v1/twitter/authorize`;return Rt?(0,f.n1)($t,Rt):$t},pe=Rt=>{var Mt;const $t=`${(Mt=Rt==null?void 0:Rt.base)!=null?Mt:""}/api/v1/fb/auth`;return Rt?(0,f.n1)($t,Rt):$t};function we(Rt,Mt){return(0,f.n1)(`${(0,f.SV)()}/inbox/post/${Rt}`,Mt)}function Le(Rt){const Mt=/^https?:\/\/open\.substack\.com(?:\.localhost:5000)?\/pub\/([^\/]+)/,$t=/^https?:\/\/([^\.]+)\.substack\.com/;let vn=Rt.match(Mt);return!vn&&(vn=Rt.match($t),!vn)?null:vn[1]}function Ye(Rt){Rt=(Rt||"").toLowerCase();const Mt=Rt.match(/^\s*(\w+)\s*$/);if(Mt)return Mt[1];const $t=Rt.match(/\w+(\.\w+)+/);if($t){let vn=$t[0];return vn.includes("substack")&&(vn=vn.split(".")[0]),vn}}function dt({url:Rt,currentSubdomain:Mt,currentCustomDomain:$t}){return Je(Rt)?Mt===Le(Rt):$t?$t===Ye(Rt):Mt===Le(Rt)}function st(Rt){return`${(0,f.ZJ)()}/profile/${Rt}/hc-violation-form`}const _t=(Rt,{addBase:Mt,params:$t}={})=>{const vn=Mt?(0,f.SV)(Rt):"";return(0,f.n1)(`${vn}/account/cancel`,$t)},Tt=(Rt,Mt,$t)=>`${(0,f.SV)(Rt)}/api/v1/streak.jpg?n=${Mt}&pct=${$t}`,nn=(Rt,Mt,{addBase:$t,referrer:vn,params:An}={})=>{const Pr=`${$t?(0,f.SV)(Rt):""}/publish/posts/detail/${Mt}`,br=p(O({},An),{referrer:vn});return An||vn?(0,f.n1)(Pr,br):Pr},Mn=(Rt,Mt,{addBase:$t,params:vn}={})=>{if(!(Rt!=null&&Rt.id))return"";const An=$t?(0,f.SV)(Rt):"";return(0,f.n1)(`${An}/leaderboard?`,O(O({},vn),(Mt==null?void 0:Mt.id)&&{referrer_token:Mt.id.toString(36)}))};function tr({pubId:Rt,sectionId:Mt,token:$t}){if(Mt){let An=`${(0,f.SV)({subdomain:"api"})}/feed/podcast/${Rt}/s/`;return $t?An+=`${Mt}/private/${$t}.rss`:An+=`${Mt}.rss`,An}let vn=`${(0,f.SV)({subdomain:"api"})}/feed/podcast/${Rt}`;return $t?vn+=`/private/${$t}.rss`:vn+=".rss",vn}const sr=(Rt,{params:Mt}={})=>(0,f.n1)("/publish/collab",Mt)},30123:(z,l,e)=>{"use strict";e.d(l,{Fo:()=>v,JD:()=>_,L4:()=>c,Q2:()=>p,SV:()=>w,T9:()=>f,Y$:()=>y,ZJ:()=>S,n1:()=>T,pv:()=>E,tE:()=>g,y:()=>O});var o=e(8221);const f=o.S?`${o.S}.substack.info`:"substack.com",u=null,c="https://substackcdn.com";function _(d){let a="https://",P="";return a+d+P}const g=_(f),E=new URL(g);function v(d,{forceSubdomain:a=!1}={}){if(d&&d.custom_domain&&!d.custom_domain_optional&&!a)return d.custom_domain;let P=f;return d&&d.subdomain!=="www"&&(P=`${d.subdomain}.${P}`),P}function y(d){return Object.keys(d).filter(a=>typeof d[a]!="undefined"&&d[a]!==null).map(a=>`${encodeURIComponent(a)}=${encodeURIComponent(d[a])}`).join("&")}function T(d,a){if(!d)return"";if(!a)return d;const P=y(a),C=P?d.indexOf("?")===-1?"?":"&":"";return`${d}${C}${P}`}function w(d,{forceSubdomain:a=!1}={}){if(d!=null&&d.rss_website_url)try{return new URL(d.rss_website_url).origin}catch(C){return d.rss_website_url}else if(d!=null&&d.base_url)return d.base_url;const P=v(d,{forceSubdomain:a});return _(P)}function S(){return w()}function O(d){return _(d)}function p(d,{noBase:a,urlParams:P}={}){const C=a?"":w();return T(`${C}${d}`,P)}},70444:(z,l,e)=>{"use strict";e.d(l,{AO:()=>de,AP:()=>ve,D2:()=>ce,Ds:()=>w,E2:()=>W,Ed:()=>ae,IY:()=>ye,It:()=>fe,Iw:()=>I,NZ:()=>te,Oi:()=>ee,Po:()=>G,Qd:()=>ne,Qe:()=>x,Sg:()=>le,TK:()=>Oe,Th:()=>Z,WF:()=>L,Z2:()=>p,Z3:()=>S,gt:()=>J,kM:()=>ie,mx:()=>ue,nY:()=>V,p8:()=>F,qB:()=>T,rc:()=>se,sH:()=>De,sm:()=>B,vy:()=>Ee,z5:()=>_e});var o=e(6385),f=e(30123),u=e(2731),c=Object.defineProperty,_=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,v=(ze,Be,We)=>Be in ze?c(ze,Be,{enumerable:!0,configurable:!0,writable:!0,value:We}):ze[Be]=We,y=(ze,Be)=>{for(var We in Be||(Be={}))g.call(Be,We)&&v(ze,We,Be[We]);if(_)for(var We of _(Be))E.call(Be,We)&&v(ze,We,Be[We]);return ze};const T="notes",w=`/${T}`,S="/feed",O=`${w}/`;function p(ze){return ze===w||ze.startsWith(O)}const d=/^([cp])-(\d+)$/,a=/^\/note\/([cp])-(\d+)$/,P=/^\/profile\/(\d+)-([^\/]+)\/note\/c-(\d+)$/,C=/^\/profile\/(\d+)-([^\/]+)\/note\/p-(\d+)$/,D=/^\/@[^\/]+\/note\/c-(\d+)$/,A=/^\/@[^\/]+\/note\/p-(\d+)$/,x=new RegExp(`${w}/(short|post)/p-(\\d+)`);function I(ze){const Be=Z(ze);if(Be)return Be;const We=V(ze);if(We)return We;const Ke=G(ze);return Ke||null}const N=new RegExp(`^${S}(/?)`);function F(ze){return!!ze.match(N)}function B(ze){return ze.replace(N,`${w}$1`)}function V(ze){const Be=ze.match(C);if(Be)return{type:"post",id:Number(Be[3]),author:{id:Number(Be[1]),name:Be[2]}};const We=ze.match(A);if(We)return{type:"post",id:Number(We[1])};const Ke=ze.match(x);return Ke?{type:Ke[1]==="short"?"post":"postViewer",id:Number(Ke[2])}:null}function Z(ze){const Be=ze.match(P);if(Be)return{type:"comment",id:Number(Be[3]),author:{id:Number(Be[1]),name:Be[2]}};const We=ze.match(D);return We?{type:"comment",id:Number(We[1])}:null}const Y=new RegExp(`^${S}/comment/(d+)$`);function ne(ze){return ze.match(Y)}function G(ze){const Be=ze.match(a);return Be?{type:Be[1]==="c"?"comment":"post",id:Number(Be[2])}:null}function L(ze){const Be=ze.match(d);return Be?{type:Be[1]==="c"?"comment":"post",id:Number(Be[2])}:null}function W({baseUrl:ze,urlParams:Be}={}){let We=w;const Ke=ze!=null?ze:(0,f.ZJ)();return(typeof window=="undefined"||!window.location.href.startsWith(Ke))&&(We=Ke+We),(0,f.n1)(We,Be)}function ie({baseUrl:ze,urlParams:Be}={}){const We=W({baseUrl:ze});return(0,f.n1)(`${We}/suggestions`,Be)}function ue(ze,Be,{noBase:We,urlParams:Ke}={}){var Xe,ct;const Se=(Xe=Be.publishedBylines)!=null&&Xe[0]?(ct=Be.publishedBylines)==null?void 0:ct[0]:ze?(0,o.getPostAuthor)(ze,Be):{id:0,name:"someone"};return(0,f.n1)(`${(0,u.getReaderProfileUrl)(Se,{noBase:We,extraParams:Ke})}/note/${Ee(Be.id)}`,Ke)}function le(ze,{noBase:Be,baseUrl:We,urlParams:Ke,noHandle:Xe}={}){return ze.user_id?(0,f.n1)(`${(0,u.getReaderProfileUrl)((0,o.getCommentAuthor)(ze),{baseUrl:We,noBase:Be,noHandle:Xe})}/note/${fe(ze.id)}`,Ke):W({baseUrl:We})}function J(ze,{noBase:Be,baseUrl:We,urlParams:Ke}={}){const Xe=Be?"":We!=null?We:(0,f.ZJ)();return(0,f.n1)(`${Xe}/note/${ze}`,Ke)}function te(ze,{noBase:Be,urlParams:We}={}){const Ke=Be?"":(0,f.SV)();return(0,f.n1)(`${Ke}/note/${fe(ze)}`,We)}function se(ze,{noBase:Be,urlParams:We}={}){const Ke=Be?"":(0,f.SV)();return(0,f.n1)(`${Ke}${w}/post/${Ee(ze)}`,We)}function ee(ze,Be){return(0,f.Q2)(`/note/${Ee(ze)}/restacks`,Be)}function ae(ze,Be,We){return(0,f.Q2)(`/note/${ze}/restacks${Be==="notes"?"/notes":""}`,We)}function ce(ze,Be){return`${Be==="comment"?"c":"p"}-${ze}`}function fe(ze){return`c-${ze}`}function Ee(ze){return`p-${ze}`}function de(ze){return`cp-${ze}`}function _e(ze){return`substack://notes/${fe(ze)}`}function ve(ze){return`substack://activity/notes/${fe(ze)}/replies`}function De(ze){return`substack://notes/${Ee(ze)}`}function Oe(ze){return(0,f.n1)(W(),y({action:"compose"},ze))}function ye(ze,{noBase:Be}={}){return`${Be?"":(0,f.SV)()}/note/${fe(ze)}/preview.jpg`}},36250:(z,l,e)=>{"use strict";e.r(l),e.d(l,{getCommentUrl:()=>P,getEditPostUrlById:()=>p,getLikelyLoggedInParam:()=>d,getLinkToVideo:()=>O,getLinkableElementIdForVideo:()=>S,getPostCommentsUrl:()=>w,getPostUrl:()=>y,getPostUrlBySlug:()=>T,getPubAccountSettingsUrl:()=>a});var o=e(30123),f=e(70444),u=Object.defineProperty,c=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(C,D,A)=>D in C?u(C,D,{enumerable:!0,configurable:!0,writable:!0,value:A}):C[D]=A,v=(C,D)=>{for(var A in D||(D={}))_.call(D,A)&&E(C,A,D[A]);if(c)for(var A of c(D))g.call(D,A)&&E(C,A,D[A]);return C};function y(C,D,{noBase:A,edit:x,email:I,comments:N,commentId:F,commentInput:B,highlightComment:V,replyToComment:Z,commentContextId:Y,uuid:ne,urlParams:G,signedIn:L=!1,feedViewer:W=!1}={}){if(C&&(C=[C].concat(C.child_publications||[]).find(le=>le.id===(D==null?void 0:D.publication_id))||C),(C==null?void 0:C.type)==="rss"&&D)return D.canonical_url||C.rss_website_url;const ie=D?ne?D.uuid:D.slug:null;if((x||!ie)&&C&&(D!=null&&D.id))return`${A?"":(0,o.SV)(C)}${p(C,D.id,G)}`;if((D==null?void 0:D.type)==="restack"&&(D!=null&&D.id))return`${A?"":(0,o.SV)(C)}/cp/${D.id}`;if(W||!C||!D||!ie){const le=A?"":(0,o.SV)();return F?(0,f.NZ)(F,{noBase:A,urlParams:G}):D?(0,f.rc)(D.id,{noBase:A,urlParams:G}):(0,o.n1)(`${le}${f.Ds}`,G)}const ue=d(L,C);return T(C,ie,{noBase:A,email:I,comments:N,commentId:F,commentInput:B,highlightComment:V,replyToComment:Z,commentContextId:Y,urlParams:v({lli:ue},G)})}function T(C,D,{noBase:A,email:x,comments:I,commentId:N,commentInput:F,highlightComment:B,replyToComment:V,commentContextId:Z,urlParams:Y}={}){let ne="";return A||(ne+=(0,o.SV)(C)),ne+=`/p/${D}`,I&&(!N||B)&&(ne+="/comments"),N&&!B&&!Z&&(ne+=`/comment/${N}`),x&&(ne+="/email"),Y&&(ne=(0,o.n1)(ne,Y)),N&&(B||V)?ne+=`#comment-${N}${V?"-reply":""}`:F&&(ne+="#input"),N&&Z&&(ne+=`/comment/${Z}#comment-${N}`),ne}function w(C,D,A,x){return y(C,D,v({comments:!0,commentId:A==null?void 0:A.id},x))}function S({mediaUploadId:C}){return`media-${C}`}function O({pub:C,post:D,mediaUploadId:A}){return`${y(C,D)}#${S({mediaUploadId:A})}`}function p(C,D,A){return(0,o.n1)(`/publish/post/${D}`,A)}function d(C,D){return D.custom_domain&&C?"1":void 0}function a(C,{addBase:D,params:A,signedIn:x}={}){const I=d(x,C),N=D?(0,o.SV)(C):"";return(0,o.n1)(`${N}/account`,v({lli:I},A))}function P(C,D,A,x){return D.post_id?w(A!=null?A:void 0,C!=null?C:void 0,D,x):(0,f.Sg)(D,x)}},2731:(z,l,e)=>{"use strict";e.r(l),e.d(l,{getEditProfileUrl:()=>S,getProfileConnectionsUrl:()=>p,getProfileHandleUrl:()=>T,getProfileSetupUrl:()=>d,getProfileSubdomain:()=>w,getProfileUrlById:()=>y,getReaderProfileUrl:()=>O});var o=e(72985),f=e(30123),u=Object.defineProperty,c=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(a,P,C)=>P in a?u(a,P,{enumerable:!0,configurable:!0,writable:!0,value:C}):a[P]=C,v=(a,P)=>{for(var C in P||(P={}))_.call(P,C)&&E(a,C,P[C]);if(c)for(var C of c(P))g.call(P,C)&&E(a,C,P[C]);return a};function y(a,P,{searchParams:C,noBase:D,baseUrl:A}={}){let I=`${D?"":A!=null?A:(0,f.ZJ)()}/profile/${a}`;const N=(0,o.cleanSlug)(P,{hashIfEmpty:!0});return N&&(I+=`-${N}`),(0,f.n1)(I,C)}const T=(a,{searchParams:P,noBase:C,baseUrl:D}={})=>{const x=`${C?"":D!=null?D:(0,f.ZJ)()}/@${a}`;return(0,f.n1)(x,P)};function w(a,{searchParams:P,noBase:C,baseUrl:D}={}){const x=`${C?"":D!=null?D:(0,f.ZJ)()}/@${a}`;return(0,f.n1)(x,P)}function S(){return`${(0,f.ZJ)()}/profile/edit`}function O(a,{utm_source:P,utm_content:C,noBase:D,baseUrl:A,noHandle:x,extraParams:I}={}){const N=P||C?{utm_source:P,utm_content:C}:void 0,F=v(v({},I),N),B=x?void 0:(a==null?void 0:a.handle)||(a==null?void 0:a.author_handle);return B?T(B,{noBase:D,baseUrl:A,searchParams:F}):y(a.author_id||a.user_id||a.id,a.user_profile_name||a.author_name||a.name,{noBase:D,baseUrl:A,searchParams:F})}function p(a,P,C){return(0,f.Q2)(`${O(a,{noBase:!0})}/${P!=null?P:"subscribers"}`,C)}function d(a={}){return(0,f.n1)(`${(0,f.ZJ)()}/profile/start`,a)}},96702:(z,l,e)=>{"use strict";e.r(l),e.d(l,{DEFAULT_PHOTO_URL:()=>g,getDefaultUserPhotoById:()=>_,getUserPhotoUrl:()=>u,getUserPhotoUrlWithoutDefault:()=>c});var o=e(20501),f=e(30123);function u(E,v){const y=c(E,v);return y||g}function c(E,{preferAuthorPhoto:v}={}){return v&&(E!=null&&E.author_photo_url)&&(0,o.imginary)(E.author_photo_url)?(0,o.imginary)(E.author_photo_url):E!=null&&E.photo_url&&(0,o.imginary)(E.photo_url)?(0,o.imginary)(E.photo_url):(E==null?void 0:E.id)!=null?_(E.id):null}function _(E){const v=["purple","yellow","orange","green","black"];return`${(0,f.ZJ)()}/img/avatars/${v[E%5]}.png`}const g=`${(0,f.ZJ)()}/img/avatars/logged-out.png`},76193:(z,l,e)=>{"use strict";e.r(l),e.d(l,{MOBILE_USER_AGENT_FIRST_4_PATTERN:()=>f,MOBILE_USER_AGENT_PATTERN:()=>o,getIosVersion:()=>_,isAndroid:()=>y,isAndroidUserAgent:()=>v,isIos:()=>g,isMobile:()=>u,isMobileUserAgent:()=>c});const o=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,f=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;function u(T={}){let w=typeof navigator!="undefined"?navigator.userAgent||navigator.vendor:void 0;return!w&&typeof window!="undefined"&&(w=window.opera),w?c(w,T):!1}function c(T,{checkFirst4:w}={}){return o.lastIndex=0,f.lastIndex=0,!!(o.test(T)||w&&f.test(T.substr(0,4)))}function _(){if(typeof navigator=="undefined")return null;const T=navigator.userAgent;if(!T.match(/iPad/i)&&!T.match(/iPhone/i))return null;const w=T.indexOf("OS ");return w===-1?null:parseInt(T.substr(w+3,3).replace("_","."))||null}function g(){return!!_()}const E=/Android/i;function v(T){return E.lastIndex=0,!!T&&E.test(T)}function y(){return typeof navigator=="undefined"?!1:v(navigator.userAgent)}},63830:(z,l,e)=>{"use strict";e.d(l,{l:()=>o});const o=(f,{utm_source:u}={})=>{const c={id:f(),timestamp:new Date};return u&&(c.utm_source=u),c}},83322:(z,l,e)=>{"use strict";e.r(l),e.d(l,{AUDIENCE_ADJECTIVES:()=>ct,AppError:()=>me,CENTS_PER_EMAIL:()=>ot,COMMUNITY_PICKS_CATEGORY_NAME:()=>Ne,CONTENT_MODERATION_REASONS:()=>Be,ChatError:()=>ke,DEFAULT_PREVIEW_LIMIT:()=>de,DEFAULT_PREVIEW_LIMIT_EMAIL:()=>_e,DEFAULT_PROFILE_PAGE_SUBSCRIPTIONS_LIMIT:()=>Ee,DEFAULT_THEME_COLORS:()=>vt,EU_COUNTRIES:()=>Lr,GIFT_LENGTH_MONTHS:()=>ge,GRACE_PERIOD_COUPON_TRIAL_DAYS:()=>fe,GRACE_PERIOD_DAYS:()=>ee,HOMEPAGE_TYPE_CHANGE_CUTOFF:()=>Qe,MANUAL_BILLING_DAYS_UNTIL_DUE:()=>ae,MAX_BYLINES:()=>yr,MAX_FILE_SIZE:()=>B,MAX_MEDIA_FILE_SIZE:()=>N,MAX_MEDIA_UPLOAD_CHUNK_SIZE:()=>F,MAX_PODCAST_FILE_SIZE:()=>I,MIN_MONTH_GAP_BETWEEN_PAUSES:()=>ve,MISSING_IMAGE_HEIGHT:()=>ye,MISSING_IMAGE_URL:()=>Oe,MISSING_IMAGE_WIDTH:()=>ze,MONTH_NAMES:()=>jt,NO_PLATFORM_CUSTOMER_CLONE_COUNTRIES:()=>Re,NO_REPLY_EMAIL:()=>dt,NZD_COUNTRIES:()=>Wr,OLD_PODCAST_CATEGORIES:()=>Et,PODCAST_CATEGORIES:()=>Fe,PUBLICATION_TIER_DESCRIPTIONS:()=>bn,SECURITY_QUESTIONS:()=>Xe,SPECIAL_SUBDOMAINS:()=>Ke,STRIPE_DAYS_UNTIL_DUE:()=>ce,STRIPE_TAX_ID_TYPES:()=>en,SUBSCRIPTION_WORDS:()=>zr,SUBSTACK_PUBLICATION_IDS:()=>le,SUBSTACK_PUBLICATION_ID_BETA:()=>L,SUBSTACK_PUBLICATION_ID_BLOGOLD:()=>G,SUBSTACK_PUBLICATION_ID_COMPANY:()=>Z,SUBSTACK_PUBLICATION_ID_LIBRARYOLD:()=>Y,SUBSTACK_PUBLICATION_ID_ON:()=>V,SUBSTACK_PUBLICATION_ID_PRODUCTLAB:()=>ue,SUBSTACK_PUBLICATION_ID_READ:()=>W,SUBSTACK_PUBLICATION_ID_STORIESOLD:()=>ne,SUBSTACK_PUBLICATION_ID_THREADSPILOT:()=>ie,SUBSTACK_USER_ID:()=>J,SUBSTACK_USER_IDS:()=>se,SUBSTACK_WRITERS_USER_ID:()=>te,SUPPORTED_CURRENCIES:()=>Zr,TASTEMAKER_CATEGORY_NAME:()=>lt,TERSE_AUDIENCE_ADJECTIVES:()=>Se,TRANSPARENT_IMAGE_URL:()=>De,TWEET_PLACEHOLDER_DATA_URI:()=>a,WEEK_IN_SECONDS:()=>He,anonymousName:()=>Io,areCommentsLocked:()=>Mi,assertIsDefined:()=>P,assertIsError:()=>C,balanceTextWithCharacterWidths:()=>br,baschezScoreToEmojis:()=>or,baschezToCategory:()=>Zn,canDeleteComment:()=>qo,canDeletePost:()=>rt,canEditComment:()=>ai,canPostComments:()=>si,canReplyToPost:()=>Ye,canReportComment:()=>Ze,canSeeCommenterEmails:()=>Ei,canSeeComments:()=>so,canSeeTranscription:()=>mi,centsToDollarString:()=>Po,centsToPriceString:()=>Hr,colorLightness:()=>ln,colorLuma:()=>En,commentsEnabledForPost:()=>ii,couldPostCommentsIfSubscribed:()=>Fo,coverPageFreeSubscriberCount:()=>Yr,currencySymbol:()=>io,decimalToPercent:()=>Qr,deep_equals:()=>To,defaultAudienceForPub:()=>mt,defaultCommentLevelForPub:()=>Te,defaultSendEmailForPub:()=>be,dollarFormatter:()=>oo,dollarStringToCents:()=>Xr,endsWithPunctuation:()=>Rt,escapeNewlines:()=>Yo,flat:()=>di,formatArray:()=>kn,formatBytes:()=>Dr,formatEllipsis:()=>sr,formatPercentForDisplay:()=>Mr,formatPodcastDuration:()=>Ar,formattedBytesToNumber:()=>xr,foundingMemberDescription:()=>jo,fromEnv:()=>re,getByLine:()=>je,getBylineUsers:()=>In,getCurrencyForCountry:()=>yo,getGiftValueText:()=>ri,getInitalPayment:()=>Oo,getNext5HoursAfterMidnight:()=>Kr,getOpennodePaymentUrl:()=>it,getPlanTitle:()=>K,getPostCtaPresentParticiple:()=>Ut,getPostCtaText:()=>Bt,getPostEmbedMeta:()=>Ae,getPostMediaBucketName:()=>We,getPrintedByline:()=>Yn,getPrintedPostType:()=>fn,getReadableAttribution:()=>Ot,getReaderRecommendationEmailSubject:()=>Vr,getRestackEmailSubject:()=>Qt,getScheduledAt:()=>_o,getSubscribeText:()=>tt,getSubscriptionSentenceWithCustomWords:()=>ei,getSubscriptionWord:()=>Wi,getSuperscriptNumberString:()=>Ci,getTrialEndOverride:()=>Ce,getWithIndefiniteArticle:()=>Sr,get_month_name:()=>pt,group_by:()=>pi,guessFirstName:()=>$e,guessLastName:()=>ft,handleDocumentLinkClick:()=>vr,hashString:()=>mr,hexToHSV:()=>Ft,hexToRgb:()=>zt,hidePaidPostsFor:()=>H,isNotMainEntry:()=>ur,isNotesAttribution:()=>Kt,isPaidPub:()=>ht,isPinnable:()=>Hn,isProbablyEmail:()=>un,isSearchEngineCrawlerQuick:()=>lo,isUUID:()=>pr,isValidCommentLevel:()=>Nt,isZeroDecimalCurrency:()=>$r,joinLines:()=>yt,kFormatter:()=>Fr,longestSetOfWordsBelowCost:()=>Pr,mode:()=>St,normalizeHex:()=>xt,numberToHumanFileSize:()=>at,numberToOrderOfMagnitude:()=>On,numberToOrderOfMagnitudeShortString:()=>Ir,numberToOrderOfMagnitudeString:()=>zn,numberToOrdinal:()=>Dn,numberToRoughRankingString:()=>no,numberToString:()=>Cn,objectMap:()=>bo,onlyOwnsRootComment:()=>wi,oxfordComma:()=>Ct,paymentPeriodToPlan:()=>Nn,planBasePricing:()=>Jt,pluralize:()=>Uo,possessive:()=>So,postSocialDescription:()=>Co,pubCurrency:()=>ho,pubHasPaymentsEnabled:()=>et,pubUsesZeroDecimalCurrency:()=>co,pubsWithCustomSubscriptionWords:()=>Ko,randomString:()=>Wt,resolveTwitterShareText:()=>Je,restacksEnabledForPost:()=>Jo,rgbToHex:()=>tn,roundPriceUp:()=>po,sanitizeInlineText:()=>gn,satoshiToBitcoin:()=>Tr,secondsToHHMMSS:()=>xn,secondsToLargestUnit:()=>Tn,setDateToMidnightPST:()=>Br,shouldHidePostFromArchive:()=>dn,shouldUseInlineComments:()=>Q,showCommentsOnPost:()=>ji,simpleBalanceText:()=>$t,sortSubscriptions:()=>we,spellOutNumber:()=>ci,splitArray:()=>oi,stringCost:()=>dr,stripInvalidBytes:()=>st,subscriptionTypeText:()=>Le,textLengthAlphaNumericMinimumValidator:()=>$,toMap:()=>vi,toMillis:()=>lr,toSentenceCase:()=>Xt,toTitleCase:()=>Zt,transformDocumentLink:()=>wn,truncAndFormatArray:()=>Wn,truncateBytes:()=>_t,truncateNumber:()=>Un,truncateText:()=>nn,truncateToValidBytes:()=>Tt,truncateWords:()=>Mn,twitterScreenNames:()=>d,validCommentLevels:()=>kt,validateColor:()=>rn,validateHex:()=>Xn,videoPlayerDimensions:()=>Jn});var o=e(57824),f=e.n(o),u=e(82626),c=e(82622);const _={test1:"SubstackInc",badnews:"ryangrim",dmortberg:"danielortberg",offthechain:"APompliano",on:"SubstackInc",petition:"petition",popularinformation:"JuddLegum",shane:"shanesnow",signalproblems:"A_W_Gordon",sinocism:"niubi",taibbi:"mtaibbi",thefirstand15th:"tressiemcphd",thenewsletter:"jbouie",numlock:"WaltHickey"};var g=Object.defineProperty,E=Object.defineProperties,v=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,S=(R,oe,he)=>oe in R?g(R,oe,{enumerable:!0,configurable:!0,writable:!0,value:he}):R[oe]=he,O=(R,oe)=>{for(var he in oe||(oe={}))T.call(oe,he)&&S(R,he,oe[he]);if(y)for(var he of y(oe))w.call(oe,he)&&S(R,he,oe[he]);return R},p=(R,oe)=>E(R,v(oe));const d=_,a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjQAAAC0BAMAAABxiqvBAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAnUExURd/n60dwTN/n7N/n7ODn69/n6N/n69/f6t/n6uHp7eLo7t/f3+Ho7QTAsUwAAAAMdFJOU4AATnVkIUAQN+W/CFiRL14AAALCSURBVHja7dy9TgJBFIbhAwtCYsOosBYWGDT+VGqMFjZQGKOVJBaWGivoiJWl8Q6M0cbKGHouwdLEi7JS92eGNWZcdpn3q7eYPJmdc2ZmQVT/+YPE86qk9jhQJJ6Nghwjo43/KC8o6NOXNxD0uYHGlCVooIEGGmiggQYaaKCBhkADDTQp05yvbMnueheaKE29JSIi4q1CE5Fpy1cOoQnG/5ERWYMmkLuAjHi30HxnTkKZgeY7zTCNLEOjnzQixcjjV5JidrJEcxEbXnjazEmqucwOzWJ8dNXQ0/Pp0mxnh+Y6PjpvEHy6li5NITs0Tc3wOtAopeq64ZUn+EJ1MkOzoBteKfh0w9Vl+FQ7vtAOvJWmzF52indTO0Bnu74gzVYGK2g2aOr6aV2GRtfwxZs+N2kMu4AiNPraHanejtIY+jkPGuMuABpooGGtoUJNsq+Bhm6YPRQ779TPayzdQ5UGOaNJPuWzdg91kDOa5LNha8fm1ZzRJN8o1FylUe2kpcZdmsTbS2svVDlvNIl33tbuofbzRqMp35FbspajxfsX39e42vIpvsoaQ9Ng0pho+ALUTOMHX6kjBU0gfG1upOE3CmYaftkyhoZAAw000EADDTTQQAMNNCBAAw000EADDTTQQAMNMdOciZMpjhJpfHE0nUSahqs0s9CYUoEGmn94oZxdhpcp3qZ/KxvR8tENQwMNNNBAAw000BBooIEGGmigyRvN1B9led0/0jhwAFr+I40Dx+ZFaKCBZvI0DizDFYq37eJNoIEGGmiggQYaaKCBhkADDTTQQAMNNLmnsXgA6l1OFY3VY/PqVNFYvWzxoIEGGnspsQybMkPxdqN4E2iggQYaaKCBBhpooCHQQAMNNNBAAw000EADDTTQQAMNNNBAkzOaJxBMNEMQ9NmU3gAFXfwHqd3DoJPpFUSdfJB43ofqE56LnR5mRT/HAAAAAElFTkSuQmCC";function P(R){if(R==null)throw new me(`Expected value to be defined, but received ${R}`)}function C(R){if(!(R instanceof Error))throw new me(`Expected value to be an Error, but received ${R}`)}const D="\u2026",A=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],x=["CA","AU","HK","NZ"],I=350*1024*1024,N=20*1024*1024*1024,F=50*1024*1024,B=700*1024*1024,V=1,Z=46438,Y=86696,ne=81318,G=87805,L=508885,W=737237,ie=1014268,ue=1056696,le=[V,Z,Y,ne,G,L,W,ie,ue],J=81309935,te=41856304,se=[J,te],ee=16,ae=45,ce=30,fe=0,Ee=1e3,de=356,_e=256,ve=6,De="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Oe="/img/missing-image.png",ye=455,ze=728,Be=["illegal","private_information","general","spam","hate","impersonation","plagiarism","porn"].sort();function We(){const R="substack-post-media";if(!R)throw new me("postMediaBucketName is not defined");return R}const Ke=["cdn","cloudinary","delivery","jobs","mailgun","mail","support","www","callback","api","admin","reader","sublink","random","your","dashboard","open"],Xe=["In what city or town did your parents meet?","What was your first teacher's last name?","What is your earliest memory?","What was the make and model of your first car?","What was the first concert you attended?","Where did you go on your first date?","What was your first favorite band?","What was your first computer or smartphone?","What is your least favorite color?","What was the first video game you beat?","Who was your favorite artist, musician, or celebrity when you were a teenager?"],ct={everyone:"public",only_free:"free-only",only_paid:"subscribers-only",founding:"founding-only"},Se={everyone:"public",only_free:"free-only",only_paid:"subscriber's",founding:"subscriber's"},Qe=new Date("2020-01-16"),ge=1,Fe={Arts:["Books","Design","Fashion & Beauty","Food","Performing Arts","Visual Arts"],Business:["Careers","Entrepreneurship","Investing","Management","Marketing","Non-Profit"],Comedy:["Comedy Interviews","Improv","Stand-Up"],Education:["Courses","How To","Language Learning","Self-Improvement"],Fiction:["Comedy Fiction","Drama","Science Fiction"],Government:[],History:[],"Health & Fitness":["Alternative Health","Fitness","Medicine","Mental Health","Nutrition","Sexuality"],"Kids & Family":["Education for Kids","Parenting","Pets & Animals","Stories for Kids"],Leisure:["Animation & Manga","Automotive","Aviation","Crafts","Games","Hobbies","Home & Garden","Video Games"],Music:["Music Commentary","Music History","Music Interviews"],News:["Business News","Daily News","Entertainment News","News Commentary","Politics","Sports News","Tech News"],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Religion","Spirituality"],Science:["Astronomy","Chemistry","Earth Sciences","Life Sciences","Mathematics","Natural Sciences","Nature","Physics","Social Sciences"],"Society & Culture":["Documentary","Personal Journals","Philosophy","Places & Travel","Relationships"],Sports:["Baseball","Basketball","Cricket","Fantasy Sports","Football","Golf","Hockey","Rugby","Running","Soccer","Swimming","Tennis","Volleyball","Wilderness","Wrestling"],Technology:[],"True Crime":[],"TV & Film":["After Shows","Film History","Film Interviews","Film Reviews","TV Reviews"]},Ne="writer favorites",lt="featured recommenders",Et={Arts:["Books","Design","Fashion & Beauty","Food","Literature","Performing Arts","Visual Arts"],Business:["Business News","Careers","Investing","Management & Marketing","Shopping"],Comedy:[],Education:["Educational Technology","Higher Education","K-12","Language Courses","Training"],"Games & Hobbies":["Automotive","Aviation","Hobbies","Other Games","Video Games"],"Government & Organizations":["Local","National","Non-Profit","Regional"],Health:["Alternative Health","Fitness & Nutrition","Self-Help","Sexuality"],"Kids & Family":[],Music:[],"News & Politics":[],"Religion & Spirituality":["Buddhism","Christianity","Hinduism","Islam","Judaism","Other","Spirituality"],"Science & Medicine":["Medicine","Natural Sciences","Social Sciences"],"Society & Culture":["History","Personal Journals","Philosophy","Places & Travel"],"Sports & Recreation":["Amateur","College & High School","Outdoor","Professional"],Technology:["Gadgets","Tech News","Podcasting","Software How-To"],"TV & Film":[]},jt=["January","February","March","April","May","June","July","August","September","October","November","December"],en=[{name:"eu_vat",description:"European VAT number"},{name:"au_abn",description:"Australian Business Number (AU ABN)"},{name:"au_arn",description:"Australian Taxation Office Reference Number"},{name:"br_cnpj",description:"Brazilian CNPJ number"},{name:"br_cpf",description:"Brazilian CPF number"},{name:"bg_uic",description:"Bulgaria Unified Identification Code"},{name:"ca_bn",description:"Canadian BN"},{name:"ca_gst_hst",description:"Canadian GST/HST number"},{name:"ca_pst_bc",description:"Canadian PST number (British Columbia)"},{name:"ca_pst_mb",description:"Canadian PST number (Manitoba)"},{name:"ca_pst_sk",description:"Canadian PST number (Saskatchewan)"},{name:"ca_qst",description:"Canadian QST number (Qu\xE9bec)"},{name:"cl_tin",description:"Chilean TIN"},{name:"eu_oss_vat",description:"European One Stop Shop VAT number for non-Union scheme"},{name:"ge_va",description:"Georgian VAT"},{name:"hk_br",description:"Hong Kong BR number"},{name:"hu_tin",description:"Hungary tax number (ad\xF3sz\xE1m)"},{name:"is_vat",description:"Icelandic VAT"},{name:"in_gst",description:"Indian GST number"},{name:"id_npwp",description:"Indonesian NPWP number"},{name:"il_vat",description:"Israel VAT"},{name:"jp_cn",description:"Japanese Corporate Number (*H\u014Djin Bang\u014D*)"},{name:"jp_rn",description:"Japanese Registered Foreign Businesses' Registration Number (*T\u014Droku Kokugai Jigy\u014Dsha no T\u014Droku Bang\u014D*) "},{name:"li_uid",description:"Liechtensteinian UID number"},{name:"my_frp",description:"Malaysian FRP number"},{name:"my_itn",description:"Malaysian ITN C"},{name:"my_sst",description:"Malaysian SST number"},{name:"mx_rfc",description:"Mexican RFC number"},{name:"nz_gst",description:"New Zealand GST number"},{name:"no_vat",description:"Norwegian VAT number"},{name:"ru_inn",description:"Russian INN"},{name:"ru_kpp",description:"Russian KPP"},{name:"sa_vat",description:"Saudi Arabia VAT"},{name:"sg_gst",description:"Singaporean GST"},{name:"sg_uen",description:"Singaporean UEN"},{name:"si_tin",description:"Slovenia tax number (dav\u010Dna \u0161tevilka)"},{name:"za_vat",description:"South African VAT number"},{name:"kr_brn",description:"Korean BRN"},{name:"es_cif",description:"Spanish CIF number"},{name:"ch_vat",description:"Switzerland VAT number"},{name:"tw_vat",description:"Taiwanese VAT"},{name:"th_vat",description:"Thai VAT"},{name:"ua_vat",description:"Ukrainian VAT"},{name:"ae_trn",description:"United Arab Emirates TRN"},{name:"gb_vat",description:"United Kingdom VAT number"},{name:"us_ein",description:"United States EIN"}],vt=["#EA410B","#FF0000","#FD5353","#FF6B00","#FF9900","#00C2FF","#67BDFC","#2096FF","#0068EF","#121BFA","#6B26FF","#786CFF","#9D6FFF","#B599F1","#99A2F1","#FF5CD7","#FF81CD","#EA82FF","#A33ACB","#6C0095","#009B50","#25BD65","#2EE240","#8AE1A2","#45D800","#9A6600","#BAA049","#E8B500","#D10000"],Re=["IN"],He=60*60*24*7,ot=.0064;class me extends Error{constructor(oe,{status:he=500,userVisible:Ie=!1,messageHtml:Ue=null,responseBody:nt=null}={}){super(oe),this.name=this.constructor.name,this.status=he,this.userVisible=!!nt||Ie||!1,this.messageHtml=Ue,this.response={body:nt||(this.userVisible?Ue?{errors:[{msg:oe,msgHTML:Ue}]}:{error:oe}:{error:""})},Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class ke extends Error{constructor({status:oe=500,errType:he="SERVER_ERROR",errMessage:Ie="",pub:Ue=null}){super(Ie),this.name=this.constructor.name,this.status=oe,this.response={body:{status:he,error:Ie}},Ue&&(this.response.body.publication=Ue),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}function je(R,{skipMultiContributorCheck:oe=!1}={}){var he,Ie,Ue,nt;if(R.subdomain==="popularinformation")return"Judd Legum";if(R.subdomain==="whyisthisinteresting")return"Noah & Colin";if(R.subdomain==="informant")return"Nick Martin";if(R.subdomain==="colinmeloy")return"Colin Meloy";if(R.subdomain==="petition"||R.subdomain==="russiandissent")return null;if(R.subdomain==="mattlabash")return"Matt Labash";if(R.subdomain==="wmbrown")return"Matt Hranek";if(!oe&&((he=R.contributors)==null?void 0:he.length)>1)return null;const gt=R.name||R.subdomain,It=[(Ue=(Ie=R.contributors)==null?void 0:Ie[0])==null?void 0:Ue.name,R.author_name,R.email_from_name,(nt=R==null?void 0:R.author)==null?void 0:nt.name];for(let Gt of It)if(Gt&&(Gt=Gt.split(/(,|\||\s-|-\s|\bfrom\b|\bat\b)/g)[0].trim(),Gt&&!Gt.startsWith(gt)&&!gt.startsWith(Gt)&&!Gt.endsWith(gt)&&!gt.endsWith(Gt)))return Gt;return null}function Je({pub:R,post:oe}){var he;const Ie=(R==null?void 0:R.twitter_screen_name)||R&&d[R==null?void 0:R.subdomain];let Ue=(he=oe==null?void 0:oe.title)!=null?he:R==null?void 0:R.name;return R&&!oe&&(Ue=`Subscribe to ${Ue}`),Ie&&(!oe||R&&(!oe.publishedBylines.length||oe.publishedBylines.some(nt=>nt.id===R.author_id)))&&(Ue+=`, by @${Ie}`),Ue}function tt(R,{now:oe=!1,isFreeSubscribed:he=!1,isMobile:Ie=!1,isPledged:Ue=!1,pledgesEnabled:nt=!1}={}){const{iString:gt}=I18N.i(R.language);return ei(R,()=>he&&R.plans&&Ie&&oe?gt("Upgrade now"):he&&R.plans&&Ie&&!oe?gt("Upgrade"):he&&R.plans&&!Ie&&oe?gt("Upgrade to paid now"):he&&R.plans&&!Ie&&!oe?gt("Upgrade to paid"):gt(he&&nt&&!Ue&&oe?"Pledge your support now":he&&nt&&!Ue&&!oe?"Pledge your support":oe?"Subscribe now":"Subscribe"),It=>(he&&R.plans?Xt(Ie?It.upgrade:It.upgradeToPaid):he&&nt&&!Ue?"Pledge your support":Xt(Wi(R,"subscribe")))+(oe?" now":""))}function Ae({date:R,bylines:oe,like_count:he,comment_count:Ie}){const Ue=e(85928),nt=[];return nt.push(Ue(R).fromNow()),he&&nt.push(Uo(he,"like")),Ie&&nt.push(Uo(Ie,"comment")),oe&&oe.length&&nt.push(kn(oe.map(gt=>gt.name))),nt.join(" \xB7 ")}const H=["astralcodexten"];function Q(R,oe){return R.custom_publication_theme_id?!1:!!(["astralcodexten","company","library","on","blog","stories"].includes(R==null?void 0:R.subdomain)||(oe==null?void 0:oe.type)==="video")}const pe=(R="")=>R.toUpperCase().replace(/^(THE|A|AN)\s+/,"");function we(R){return R.sort((oe,he)=>{var Ie,Ue;if(!oe)return 1;if(!he||oe.membership_state==="subscribed"&&he.membership_state!=="subscribed")return-1;if(he.membership_state==="subscribed"&&oe.membership_state!=="subscribed")return 1;const nt=pe((Ie=oe.publication)==null?void 0:Ie.name),gt=pe((Ue=he.publication)==null?void 0:Ue.name);return nt<gt?-1:nt>gt?1:0})}function Le(R){if(R.expiry&&new Date(R.expiry)>new Date)switch(R.type){case"gift":return"Gifted Subscription";case"comp":return"Comped Subscription";default:return"Paid Subscriber"}else return!R.email_disabled||R.email_settings&&Object.values(R.email_settings||{}).some(oe=>oe==="individual")?"Free Subscriber":R.digest_enabled||R.email_settings&&Object.values(R.email_settings||{}).some(oe=>oe==="digest")?"Follows in Digests":"Emails Disabled"}function Ye({post:R,user:oe}){return!!(R&&oe&&oe.has_publication&&!oe.is_admin&&!oe.is_contributor&&R.slug!=="coming-soon")}const dt="no-reply@substack.com";function st(R){if(!R||typeof R!="string")return R;try{return encodeURIComponent(R),R}catch(oe){}return R.replace(/[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g,oe=>oe.length>1?oe:"")}function _t(R,oe){const he=new TextEncoder().encode(R);return he.length>oe?new TextDecoder().decode(he.slice(0,oe)):R}function Tt(R){for(;;)try{return encodeURIComponent(R),R}catch(oe){R=R.substring(0,R.length-1)}}function nn(R,oe,{words:he=null,ellipsis:Ie=D,extension:Ue=null}={}){if(!R)return R;let nt=!1;if(he){const gt=new RegExp(`^(\\w+\\W+){${he-1}}\\w+`).exec(R);gt&&(nt=!0,R=gt[0])}return oe&&R.length>oe&&(nt=!0,R=R.substring(0,oe-Ie.length)),nt&&(R=Tt(R),R+=Ie,Ue&&(R+=Ue)),R}function Mn(R,oe,{ellipsis:he=D,quotationMarks:Ie=!1}={}){if(!R)return R;Ie&&(oe-=2);let Ue=R;if(R&&R.length>oe){const nt=R.split(/\s+/),gt=[];let It=0;for(;It<=oe;){const Gt=nt.shift();if(!Gt||It+Gt.length>oe)break;gt.push(Gt),It+=Gt.length+1}Ue=sr(gt.join(" "),he)}return Ie&&(Ue.endsWith(" ")||Ue.startsWith(" "))&&(Ue=Ue.trim()),Ie?`"${Ue}"`:Ue}const tr=/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,\-./:;<=>?@[\]^_`{|}~]+$/g;function sr(R,oe=D){return`${R.replace(tr,"")}${oe}`}function Rt(R){return/[!.?](?:\s+)?$/.test(R)}const Mt=new Set([" ","-"]);function $t(R,{maxCharsPerLine:oe=55,maxLines:he=2,preferWide:Ie=!1}={}){if(R.length<=oe)return[R];const Ue=oe*he;if(R.length>Ue){let yn=Ue;for(;yn>=0&&R.charAt(yn)!==" ";)yn--;R=sr(R.slice(0,yn))}const nt=Ie?oe:Math.floor(R.length/he);let gt=-1,It=0;const Gt=[];for(;It+nt<R.length-1;){for(It=It+nt;It<=R.length-1&&!Mt.has(R.charAt(It));)It++;const yn=R.charAt(It)==="-";Gt.push(R.slice(gt+1,yn?It+1:It)),gt=It}return It<R.length-1&&Gt.push(R.slice(gt+1)),Gt}const vn=R=>/[A-Z]/.test(R),An=R=>/[\s-]/.test(R);function dr(R,oe){let he=0;for(let Ie=0;Ie<R.length;Ie+=1){const Ue=R[Ie];vn(Ue)?he+=oe:he+=1}return he}function Pr(R,oe,he){const Ie=[];let Ue=0,nt=!1;for(let Gt=0;Gt<R.length;Gt+=1){const yn=R[Gt];if(An(yn)){nt=!0;continue}else nt&&(Ie.push(R.slice(Ue,Gt)),Ue=Gt,nt=!1)}if(Ue<R.length&&Ie.push(R.slice(Ue)),!Ie.length)return"";const gt=[Ie[0]];let It=dr(Ie[0],oe);for(const Gt of Ie.slice(1)){const yn=dr(Gt,oe);if(It+=yn,It<=he)gt.push(Gt);else break}return gt.join("")}function br(R,{maxCostPerLine:oe=55,maxLines:he=2,capitalCost:Ie=1.2}={}){const Ue=R;if(dr(R,Ie)<=oe)return[R];const gt=[];for(let It=0;It<he;It+=1){const Gt=Pr(R,Ie,oe);if(Gt)gt.push(Gt),R=R.slice(Gt.length);else break}return gt.reduce((It,Gt)=>It+Gt.length,0)<Ue.length&&(gt[gt.length-1]=sr(gt[gt.length-1].slice(0,gt[gt.length-1].length-1))),gt}const Or=["AT","BE","CY","DE","EE","ES","FI","FR","GR","HR","IE","IT","LT","LU","LV","MT","NL","PT","SI","SK"],Lr=[...Or,"BG","CZ","DK","HU","PL","RO","SE"],Wr=["NZ","CK","NU","PN","TK"],Zr=["usd","eur","gbp","cad","aud","nzd","brl","mxn","inr"];function yo(R){return R==="AU"?"aud":R==="BR"?"brl":R==="CA"?"cad":R==="LI"||R==="CH"?"chf":R==="DK"||R==="FO"||R==="GL"?"dkk":Or.includes(R)?"eur":R==="GB"?"gbp":R==="MX"?"mxn":R==="BV"||R==="NO"||R==="SJ"?"nok":Wr.includes(R)?"nzd":R==="SE"?"sek":R==="US"?"usd":null}const ho=R=>{var oe,he;return((he=(oe=R.draft_plans)==null?void 0:oe[0])==null?void 0:he.currency)||"usd"};function $r(R){return["BIF","CLP","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","UGX","VND","VUV","XAF","XOF","XPF"].includes(R.toUpperCase())}function co(R){const oe=ho(R);return $r(oe)}function io(R){return new Intl.NumberFormat("en-US",{style:"currency",currency:R,minimumFractionDigits:0,maximumFractionDigits:0}).format(0).replace(/\d/,"").trim()}const Tr=R=>R/1e8;function Hr(R,oe,{forceDecimals:he=!1}={}){let Ue=new Intl.NumberFormat("en-US",{style:"currency",currency:oe,minimumFractionDigits:he||R%100?2:0,maximumFractionDigits:oe==="btc"?8:2}).format(oe==="btc"?Tr(R):$r(oe)?R:R/100);return oe==="usd"&&typeof window!="undefined"&&window._preloads&&window._preloads.country&&x.includes(window._preloads.country)&&(Ue=`US${Ue}`),Ue}function Po(R){return new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2}).format(R/100)}const oo=new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:0});function Xr(R){if(!R)return null;if(typeof R!="string")throw new Error("Bad type for dollar string");const oe=R.replace(/[^0-9.]/g,"");return oe?Math.round(Number(oe)*100):null}function po(R){let oe=R/100;return oe=oe<50?Math.ceil(oe):Math.ceil(oe/5)*5,oe*100}function Oo(R,{quantity:oe=1,coupon:he=null,noTrial:Ie=!1,trial_end_override:Ue=null}={}){if(!Ie&&(R.trial_period_days||he&&he.trial_period_days||Ue&&Ue>Date.now()/1e3+120))return 0;let nt=R.amount*oe;return he&&he.percent_off?nt=Math.round(nt*(1-(he.percent_off_precise||he.percent_off)/100)):he&&he.amount_off&&(nt=Math.max(0,nt-he.amount_off)),nt}function ri(R,{interval:oe="month",interval_count:he=ge,multiplier:Ie=1,min:Ue=0}={}){let nt,gt,It;for(const Kn of R){if(!It)It=Kn.currency;else if(It!=Kn.currency)continue;Kn.interval=="month"?(!nt||Kn.amount<nt)&&(nt=Kn.amount):Kn.interval=="year"&&(!gt||Kn.amount<gt)&&(gt=Kn.amount)}let Gt=nt;if(!Gt&&gt&&(Gt=gt/12),!Gt)return null;let yn;switch(oe){case"month":yn=Gt;break;case"day":yn=Gt/30;break;case"year":yn=gt||Gt*12;break;default:throw new Error(`bad interval: ${oe}`)}let pn=yn*he*Ie;return pn<Ue?null:(pn=Math.floor(pn/100)*100,Hr(pn,It))}function Jt(R,{amount:oe,interval:he="",language:Ie="en"}={}){const Ue=Hr(oe!=null?oe:R.amount,R.currency);if(R.interval!=="forever"){const nt=he||R.interval,{iPlural:gt,iString:It}=I18N.i(Ie);if(R.interval_count===3){if(nt==="day")return It("%1/three days",Ue);if(nt==="month")return It("%1/three months",Ue);if(nt==="week")return It("%1/three weeks",Ue);if(nt==="year")return It("%1/three years",Ue)}if(nt==="day")return gt("%2/day","%2/%1 days",R.interval_count,Ue);if(nt==="month")return gt("%2/month","%2/%1 months",R.interval_count,Ue);if(nt==="week")return gt("%2/week","%2/%1 weeks",R.interval_count,Ue);if(nt==="year")return gt("%2/year","%2/%1 years",R.interval_count,Ue)}return Ue}function Tn(R,{secondsCutoff:oe,minutesCutoff:he,hoursCutoff:Ie,daysCutoff:Ue,weeksCutoff:nt,long:gt,noNumber:It,noWord:Gt,lessThanMinute:yn}={}){let pn,Kn,sn;return R=Math.round(R),R<(oe||60)?(pn=R,Kn=gt?"second":"sec"):R<(he||3600)?(pn=R/60,Kn=gt?"minute":"min",yn&&(sn=!0)):R<(Ie||86400)?(pn=R/60/60,Kn=gt?"hour":"hr"):R<(Ue||604800)?(pn=R/60/60/24,Kn="day"):R<(nt||31557600)?(pn=R/60/60/24/7,Kn=gt?"week":"wk"):(pn=R/60/60/24/365.25,Kn=gt?"year":"yr"),pn=Math.round(pn),[sn&&"less than",!It&&(Gt?pn:pn.toFixed(0)),!Gt&&(gt?Uo(pn,Kn,{just_word:!0}):Kn)].filter(Boolean).join(" ")}function xn(R){const oe=Math.floor(R/60/60),he=Math.floor(R/60)%60,Ie=Math.floor(R%60);return`${(oe?`${oe}:`:"")+(oe?`0${he}`.slice(-2):he)}:${`0${Ie}`.slice(-2)}`}function Xn(R){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(R)}function xt(R){return R[0]!=="#"&&(R=`#${R}`),R=R.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(oe,he,Ie,Ue)=>he+he+Ie+Ie+Ue+Ue),R}function Ft(R){R=xt(R);function oe(sn,Ur){typeof sn=="string"&&sn.indexOf(".")!=-1&&parseFloat(sn)===1&&(sn="100%");const Eo=typeof sn=="string"&&sn.indexOf("%")!=-1;return sn=Math.min(Ur,Math.max(0,parseFloat(sn))),Eo&&(sn=parseInt(sn*Ur,10)/100),Math.abs(sn-Ur)<1e-6?1:sn%Ur/parseFloat(Ur)}const he=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(R);let Ie=parseInt(he[1],16),Ue=parseInt(he[2],16),nt=parseInt(he[3],16);Ie=oe(Ie,255),Ue=oe(Ue,255),nt=oe(nt,255);const gt=Math.max(Ie,Ue,nt),It=Math.min(Ie,Ue,nt);let Gt;const yn=gt,pn=gt-It,Kn=gt===0?0:pn/gt;if(gt==It)Gt=0;else{switch(gt){case Ie:Gt=(Ue-nt)/pn+(Ue<nt?6:0);break;case Ue:Gt=(nt-Ie)/pn+2;break;case nt:Gt=(Ie-Ue)/pn+4;break}Gt/=6}return{h:Gt,s:Kn,v:yn}}function zt(R){const oe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(xt(R));return oe?{r:parseInt(oe[1],16),g:parseInt(oe[2],16),b:parseInt(oe[3],16)}:null}function tn({r:R,g:oe,b:he}){return`#${R.toString(16).padStart(2,"0")}${oe.toString(16).padStart(2,"0")}${he.toString(16).padStart(2,"0")}`}function rn(R){const oe=Ft(R);if(oe.h>.11&&oe.h<.56)if(oe.s>.25&&oe.v>.5){if(oe.s<.6&&oe.v>.8)return!0;if(oe.s>.6)return!0}else return!1;else if(oe.s>.25&&oe.v>.5)return!0;return!1}function ln(R,oe){const he=zt(R);return he?(he.r=Math.max(0,Math.min(255,Math.round(he.r*oe))),he.g=Math.max(0,Math.min(255,Math.round(he.g*oe))),he.b=Math.max(0,Math.min(255,Math.round(he.b*oe))),tn(he)):R}function En(R){let{r:oe,g:he,b:Ie}=zt(R);return oe=oe/255,he=he/255,Ie=Ie/255,oe=oe<=.03928?oe/12.92:Math.pow((oe+.055)/1.055,2.4),he=he<=.03928?he/12.92:Math.pow((he+.055)/1.055,2.4),Ie=Ie<=.03928?Ie/12.92:Math.pow((Ie+.055)/1.055,2.4),.2126*oe+.7152*he+.0722*Ie}function Wn(R,oe,{name:he=It=>It,restWord:Ie="other",noNames:Ue="people",pluralizeRest:nt=!0,showRestCount:gt=!0}={}){const It=R.map(he).filter(Boolean).slice(0,oe);if(It.length===0)It.push(Uo(R.length,Ue));else if(It.length<R.length){const Gt=R.length-It.length;It.push(`${gt?Gt:""} ${Ie}${Gt>1&&nt?"s":""}`)}return kn(It)}function kn(R){let oe="";return R.length===1?oe=R[0]:R.length===2?oe=R.join(" and "):R.length>2&&(oe=`${R.slice(0,-1).join(", ")}, and ${R.slice(-1)}`),oe}function Un(R,{minSignificantDigits:oe=1}={}){if(R<1e3)return R.toString();let he;Math.round(R/1e3)<1e3?(R/=1e3,he="k"):Math.round(R/1e6)<1e3?(R/=1e6,he="m"):Math.round(R/1e9)<1e3?(R/=1e9,he="b"):(R/=1e12,he="t");const Ie=Math.max(oe-1-Math.floor(Math.log10(R)),0);return R=Math.round(R*Math.pow(10,Ie))/Math.pow(10,Ie),`${R}${he}`}const Zn=R=>Math.max(0,Math.min(5,Math.floor(Math.log(Math.max(R,1))/Math.LN10+1e-9))-1),or=R=>"\u{1F525}".repeat(Zn(R));function yt(R,oe,he){const Ie=(R||"").trim().split(/[\s\r]*\n[\s\r]*/g).map(nt=>nt.trim()).filter(nt=>nt),Ue=[];for(;Ie.length>0;){const nt=Ie.shift(),gt=Ue[Ue.length-1];gt&&gt.length<he?Ue[Ue.length-1]+=oe+nt:Ue.push(nt)}return Ue.join(`
`)}function Wt(){return Math.random().toString(36).replace(/^0\./,"")}function Zt(R){return R.trim().split(/\s+/).filter(Boolean).map(oe=>oe[0].toUpperCase()+oe.substr(1).toLowerCase()).join(" ")}function Xt(R,oe){const he=oe?R.substr(1).toLowerCase():R.substr(1);return R[0].toUpperCase()+he}function Dn(R){const oe=["th","st","nd","rd"],he=R%100;return R+(oe[(he-20)%10]||oe[he]||oe[0])}function Cn(R,oe=0){return typeof R=="string"&&(R=Number(R.replace(/,/g,""))),new Intl.NumberFormat("en-US",{style:"decimal",minimumFractionDigits:0,maximumFractionDigits:oe}).format(R)}function On(R){return Math.pow(10,Math.floor(Math.log10(R)))||0}function zn(R){return R<100?"tens":R<1e3?"hundreds":R<1e4?"thousands":R<1e5?"tens of thousands":R<1e6?"hundreds of thousands":R<1e7?"millions":R<1e8?"tens of millions":R<1e9?"hundreds of millions":R<1e10?"billions":R<1e11?"tens of billions":R<1e12?"hundreds of billions":R<1e13?"trillions":R<1e14?"tens of trillions":R<1e15?"hundreds of trillions":"gagillions"}function Ir(R){return R<100?"10+":R<1e3?"100+":R<1e4?"1K+":R<1e5?"10K+":R<1e6?"100K+":R<1e7?"1M+":R<1e8?"10M+":R<1e9?"100M+":R<1e10?"1B+":R<1e11?"10B+":R<1e12?"100B+":R<1e13?"1T+":R<1e14?"10T+":R<1e15?"100T+":"gagillions"}function no(R){return R<=10?`#${R}`:R<=25?"Top 25":R<=50?"Top 50":R<=100?"Top 100":""}function Yr(R,oe="en"){const{iTemplate:he}=I18N.i(oe),Ie=1e6,Ue=1e5;if(R<1e3)return null;let nt=Math.floor(R/1e3)*1e3;nt>=Ie&&(nt=Math.floor(R/Ue)*Ue);const gt=Cn(nt);return he`Over ${gt} subscribers`}const Mr=R=>R<1?"< 1%":`${R}%`;function Qr(R,{rounded:oe=!1,display:he=!1,decimalPlaces:Ie=-1}={}){let Ue=parseFloat(R)*100;return Ie>=0&&(Ue=Ue.toFixed(Ie)),oe&&(Ue=Math.floor(Ue)),he?Mr(Number(Ue)):Ue}function _o(R){var oe;if((oe=R==null?void 0:R.postSchedules)!=null&&oe.length&&R.postSchedules[0].trigger_at)return new Date(R.postSchedules[0].trigger_at);if("scheduled_at"in R&&!(!R||!R.scheduled_at)&&!(R.email_sent_at&&R.should_send_email))return new Date(Math.max(new Date(R.scheduled_at).getTime(),Date.now()))}function ci(R){return R===0?"zero":R===1?"one":R===2?"two":R===3?"three":R===4?"four":R===5?"five":R===6?"six":R===7?"seven":R===8?"eight":R===9?"nine":R===10?"ten":R===11?"eleven":R===12?"twelve":Cn(R)}function Uo(R,oe,{zero_fallback:he="",just_word:Ie}={}){let Ue,nt;const gt=oe.lastIndexOf(" ")+1,It=oe.substr(gt),Gt=oe.substr(0,gt);return["person","people"].includes(It)?(Ue=`${Gt}person`,nt=`${Gt}people`):["reply","replies"].includes(It)?(Ue=`${Gt}reply`,nt=`${Gt}replies`):["entry","entries"].includes(It)?(Ue=`${Gt}entry`,nt=`${Gt}entries`):["match","matches"].includes(It)?(Ue=`${Gt}match`,nt=`${Gt}matches`):(Ue=oe,nt=`${oe}s`),Ie||(Ue=`${Cn(R)} ${Ue}`,nt=`${Cn(R)} ${nt}`),!R&&he?he:R==1?Ue:nt}function So(R){return`${R}\u2019${R[R.length-1]==="s"?"":"s"}`}function Yo(R){return R.replace(/\n/g,"\\n")}const bo=(R,oe,he)=>{const Ie={};for(const Ue in R)Ie[Ue]=oe.call(he,R[Ue],Ue,R);return Ie};function To(R,oe){if(isNaN(R))return isNaN(oe);if(R===null)return oe===null;switch(typeof R){case"undefined":case"boolean":case"number":case"string":return R===oe}const he=Object.keys(R).sort(),Ie=Object.keys(oe).sort();if(he.length!==Ie.length)return!1;for(let Ue=0;Ue<he.length;Ue+=1){const nt=he[Ue];if(nt!==Ie[Ue]||!To(R[nt],oe[nt]))return!1}return!0}const vi=(R,oe="id")=>{const he={};for(const Ie of R)typeof oe=="function"?he[oe(Ie)]=Ie:he[Ie[oe]]=Ie;return he};function oi(R,oe){const he=[],Ie=[];for(const Ue of R)oe(Ue)?he.push(Ue):Ie.push(Ue);return[he,Ie]}const di=(R,oe=1)=>{const he=[];function Ie(Ue,nt){for(const gt of Ue)Array.isArray(gt)&&nt>0?Ie(gt,nt-1):he.push(gt)}return Ie(R,oe),he},pi=(R,oe,he)=>{if(typeof oe=="string"){const Ie=oe.split(".");oe=Ue=>Ie.reduce((nt,gt)=>nt[gt],Ue)}return[].reduce.call(R,(Ie,Ue,nt)=>{const gt=oe.call(he,Ue,nt,R),It=Ie.get(gt);return It?It.push(Ue):Ie.set(gt,[Ue]),Ie},new Map)};function ii({publication:R,post:oe}){return["adhoc_email","page"].includes(oe==null?void 0:oe.type)?!1:R.community_enabled&&oe&&oe.write_comment_permissions!=="none"}function Jo({publication:R,post:oe}){return!!(R.community_enabled&&oe)}function ji({publication:R,post:oe}){return(oe==null?void 0:oe.type)==="adhoc_email"||(oe==null?void 0:oe.slug)==="coming-soon"?!1:oe&&oe.comment_count>0||ii({publication:R,post:oe})}const Ei=R=>!!(R&&R.is_contributor);function so(R,oe,{bypassContentAccessCheck:he=!1}={}){const{userHasFullAccessToPost:Ie}=e(6385);return R&&oe.publishedBylines&&oe.publishedBylines.find(Ue=>Ue.id===R.id)?!0:new Date(oe.post_date)<new Date("2018-11-08T19:00:00.000Z")?!!(R&&(R.is_subscribed||R.is_contributor)):he||Ie(R,oe)}function mi(R,oe,{bypassContentAccessCheck:he=!1}={}){const{userHasFullAccessToPost:Ie}=e(6385);return R&&oe.publishedBylines&&oe.publishedBylines.find(Ue=>Ue.id===R.id)?!0:he||Ie(R,oe)}const Mi=R=>R.type==="thread"&&R.write_comment_permissions==="none";function si(R,oe,he){const Ie=R&&"id"in R?R.id:null;if(Ie&&oe.publishedBylines&&oe.publishedBylines.find(Ue=>Ue.id===Ie))return{canReply:!0};if(R&&R.is_contributor)return{canReply:!0};switch(oe.write_comment_permissions||he.default_write_comment_permissions){case"everyone":return{canReply:!0};case"none":return{canReply:!1,repliesDisabledReason:c.us.comments_disabled};case"only_paid":{const Ue=!!(R&&R.is_subscribed);return{canReply:Ue,repliesDisabledReason:Ue?void 0:c.us.paid_subscription_required}}}return{canReply:!1}}function Fo(R,oe,he){return si(p(O({},R),{is_subscribed:!0}),oe,he).canReply}const ai=(R,oe)=>!!(oe&&R&&R.id===oe.user_id);function qo(R,oe,{pub:he,post:Ie,parentComments:Ue}){if(!R||!oe)return!1;if(R.is_contributor||R.id===oe.user_id)return!0;if(oe.publication_id&&oe.post_id){if(rt(R,he,Ie))return!0}else if(wi({user:R,comment:oe,parentComments:Ue}))return!0;return!1}function wi({user:R,comment:oe,parentComments:he}){var Ie;if(!R||!oe||oe.publication_id&&oe.post_id||R.id===oe.user_id||R.is_contributor)return!1;const Ue=Number((Ie=oe.ancestor_path)==null?void 0:Ie.split(".").filter(Boolean)[0]);if(!Ue)return!1;const nt=he==null?void 0:he.find(gt=>(gt==null?void 0:gt.id)===Ue);return R.id===(nt==null?void 0:nt.user_id)}function rt(R,oe,he){return R?!!(R.is_contributor||R.id===(oe==null?void 0:oe.author_id)||oe!=null&&oe.contributors.find(Ie=>Ie.user_id===R.id&&["admin","contributor"].includes(Ie.role))):!1}function Ze(R,oe){return!(!R||!oe||R.id===oe.user_id)}function et(R){return!!R.plans}function ht(R){return!!(R.plans||R.has_subscribers)}function mt(R,{type:oe,coupon:he}={}){return!R.plans||oe==="page"?"everyone":he?"only_free":"only_paid"}function kt(R,oe,he){if(oe==="thread")switch(R){case"only_paid":return["only_paid"];case"founding":return["only_paid"];case"everyone":return["everyone"];default:return["everyone"]}else switch(R){case"only_paid":return["only_paid","none"];case"founding":return["only_paid","none"];case"everyone":return he?["only_paid","everyone","none"]:["everyone","none"];default:return["none"]}}function Nt(R,oe,he,Ie){return R!=null&&kt(oe,he,Ie).includes(R)}function Te(R,oe,he,Ie){return Nt(he.default_write_comment_permissions,R,oe,Ie)?he.default_write_comment_permissions:kt(R,oe,Ie)[0]}function be(R,oe,he){return oe==="page"?!1:he==="only_free"?!0:!!R.default_post_publish_send_email}function Ce(R,oe,he){return oe&&oe.interval==="forever"?0:Math.max(0,...[R.trial_end_override>Date.now()/1e3?R.trial_end_override:0,oe&&oe.trial_period_days&&Math.round((Date.now()+oe.trial_period_days*24*60*60*1e3)/1e3),he&&he.trial_period_days&&Math.round((Date.now()+he.trial_period_days*24*60*60*1e3)/1e3)].filter(Ie=>Ie))}function $e(R,{prependSpace:oe=!1}={}){return R?(oe?" ":"")+R.trim().split(/\s+/g)[0]:""}function ft(R){return R?R.trim().split(/\s+/g).slice(1).slice(-1)[0]:""}const pt=R=>jt[new Date(R).getMonth()];function Ct(R,{noBreakSpace:oe}={}){const he=oe?"\xA0":" ";let Ie=[];if(R.length==1)Ie=[R[0]];else if(R.length==2)Ie=[R[0],`${he}and${he}`,R[1]];else if(R.length>=3)for(let Ue=0;Ue<R.length;Ue++)Ie.push(R[Ue]),Ue<R.length-2?Ie.push(`,${he}`):Ue===R.length-2&&Ie.push(`,${he}and${he}`);return Ie.toString=()=>Ie.join(""),Ie}function St(R){const oe=new Map;for(const he of R){let Ie=oe.get(he);Ie=(Ie||0)+1,oe.set(he,Ie)}return Array.from(oe).sort((he,Ie)=>Ie[1]-he[1])[0][0]}function Bt(R){return R.type==="thread"?"View thread":R.type==="podcast"?"Listen":"Read"}function Ut(R,{isFinalWord:oe}={}){return R==="podcast"?`listening${oe?"":" to"}`:R==="video"?"watching":"reading"}function fn(R){return R==="newsletter"?"post":R==="podcast"?"episode":R==="adhoc_email"?"email":R}function Qt(R){return`${nn(R.title||"Untitled post",115)}`}function dn(R){return R.publication_id===10475&&R.section_id===18994}function In(R,{isDraft:oe=!1}={}){return R?((oe?R.draftBylines:R.publishedBylines)||[]).filter(Ie=>Ie.name):[]}function Yn(R,oe,{isDraft:he=!1}={}){const Ie=In(oe,{isDraft:he});return Ie.length>0?kn(Ie.map(Ue=>Ue.name)):null}const pr=R=>/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(R);function lr(R){return typeof R=="string"?f()(R)||0:typeof R=="number"?R:0}function wn(R){const oe=he=>new RegExp(`^.*${he}`);if(R){if(R.includes(u.Substitutions.CHECKOUT_URL))return R.replace(oe(u.Substitutions.CHECKOUT_URL),"/subscribe?");if(R.includes(u.Substitutions.FOUNDING_CHECKOUT_URL))return R.replace(oe(u.Substitutions.FOUNDING_CHECKOUT_URL),"/subscribe?plan=founding&");if(R.includes(u.Substitutions.REFERRAL_URL))return R.replace(oe(u.Substitutions.REFERRAL_URL),"/?showWelcome=true");if(R.includes(u.Substitutions.UNSUBSCRIBE_URL))return R.replace(oe(u.Substitutions.UNSUBSCRIBE_URL),"/account?");if(R.includes(u.Substitutions.ONE_CLICK_UNSUBSCRIBE_URL))return R.replace(oe(u.Substitutions.ONE_CLICK_UNSUBSCRIBE_URL),"/account?");if(/^.*%%.*%%/.test(R))return null}else return R;return R}function vr(R){const oe=wn(R);if(oe){const he=window.open(oe,"_blank");he!=null&&he.focus&&he.focus()}}function ur(R){if(!R)return!0;const oe=document.location&&document.location.pathname||"";return["publish","account"].includes(oe.split("/")[1])}function Dr(R,oe=2){if(R===0)return"0 Bytes";const he=1024,Ie=oe<0?0:oe,Ue=Math.floor(Math.log(R)/Math.log(he));return`${parseFloat((R/Math.pow(he,Ue)).toFixed(Ie))} ${A[Ue]}`}function xr(R=""){if(!R)return 0;const[oe,he]=R.split(" "),Ie=A.indexOf(he);return Ie<0?0:Number(oe)*Math.pow(1024,Ie)}function lo(R){return/Googlebot/i.test(R||"")?"Google":/bingbot/i.test(R||"")||/BingPreview/i.test(R||"")?"Bing":/Slurp/i.test(R||"")?"Yahoo":/DuckDuckBot/i.test(R||"")?"DDG":/Baiduspider/i.test(R||"")?"Baidu":!1}function Io(R,oe,he,Ie){return R.name?R.name:(he&&he.author_id===Ie.id||oe&&oe.publishedBylines&&oe.publishedBylines.find(Ue=>Ue.id===Ie.id))&&R.email||"Someone"}function Co(R,oe){return R&&R.description||oe.hero_text||`Get ${oe.name} in your inbox`}const zr=[{pubs:["thebulwark"],subscription:"membership",donateItem:"membership",subscriber:"member",subscribe:"join",subscribeTo:"join",upgrade:"join",upgradeTo:"join",upgradeToPaid:"join",upgradeSubscriptionTo:"upgrade your membership to"},{pubs:["georgesaunders"],donateItem:"scholarship"}],Vo={subscription:"subscription",donateItem:"subscription",subscriber:"subscriber",subscribe:"subscribe",subscribeTo:"subscribe to",upgrade:"upgrade",upgradeTo:"upgrade to",upgradeToPaid:"upgrade to paid",upgradeSubscriptionTo:"upgrade your subscription to"},Ko=zr.flatMap(R=>R.pubs);function ei(R,oe,he){const Ie=zr.find(nt=>{var gt;return nt.pubs.includes(((gt=R==null?void 0:R.parent_publication)==null?void 0:gt.subdomain)||(R==null?void 0:R.subdomain))})||null,Ue=Ie?O(O({},Vo),Ie):null;return Ue?he(Ue):oe()}function Wi(R,oe){const he=zr.find(Ue=>{var nt;return Ue.pubs.includes(((nt=R==null?void 0:R.parent_publication)==null?void 0:nt.subdomain)||(R==null?void 0:R.subdomain))});let Ie=he&&he[oe];if(!Ie&&(Ie=Vo[oe],!Ie))throw new Error(`${oe} is not a valid subscription word`);return Ie}function Ci(R){const oe={0:8304,1:185,2:178,3:179,4:8308,5:8309,6:8310,7:8311,8:8312,9:8313};return String.fromCodePoint(...Array.from(`${R}`).map(he=>oe[he]))}const jo=R=>{var oe,he,Ie;return(Ie=(he=(oe=R==null?void 0:R.plans)==null?void 0:oe.find(Ue=>{var nt;return(nt=Ue.metadata)==null?void 0:nt.founding}))==null?void 0:he.metadata)==null?void 0:Ie.short_description},it=R=>`https://checkout.opennode.com/${R}`;function at(R=0){const oe=R===0?0:Math.floor(Math.log(R)/Math.log(1024));return`${+(R/Math.pow(1024,oe)).toPrecision(3)}${["B","KB","MB","GB","TB"][oe]}`}function Ot(R){if(!R)return null;const oe="Substack Network";if(Kt(R))return oe;const he={"blog.substack.com":oe,"library.substack.com":oe,"on.substack.com":oe,"post-end-cta":"Post Footer CTA","stories.substack.com":oe,"substack-app":oe,"substack-boost":oe,"substack-categories-discovery":oe,"substack-categories-discovery-search":oe,"substack-comment-links":oe,"substack-cross-posts":oe,"substack-facepiles":oe,"substack-mentions":oe,"substack-onboarding-discovery":oe,"substack-post-embeds":oe,"substack-post-reply-comment":oe,"substack-presubscribe":oe,"substack-publication-embeds":oe,"substack-reader-discovery":oe,"substack-reader-profile-discovery":oe,"substack-reader-shared":"Reader sharing","substack-your-weekly-stack":`${oe} \u2014 Your Weekly Stack`,"substack-recommendation-email":oe,"substack-referral":oe,"substack-signup-flow":oe,"substack-subscriber-referral":oe,"substack-twitter-link":oe,"substack-twitter-suggest":oe,"substack-xp-post-template":oe,"substack-xp-read-next":oe,"substack.com":oe,"t.co":"Twitter","www.substack.com":oe,external:"external form / api","googleads.g.doubleclick.net":"Google","score-upsell":"Boost upsell to engaged subscribers"}[R];return he||(/(\b|\.)facebook\./.test(R)?"Facebook":/(\b|\.)instagram\./.test(R)?"Instagram":/(\b|\.)linkedin\./.test(R)?"LinkedIn":/(\b|\.)youtube\./.test(R)?"YouTube":/(\b|\.)duckduckgo\./.test(R)?"DuckDuckGo":/(\b|\.)medium\./.test(R)?"Medium":/(\b|\.)reddit\./.test(R)?"Reddit":/(\b|\.)bing\./.test(R)?"Bing":/(\b|\.)google\./.test(R)?"Google":R!=null&&R.includes(".")?R:Zt(R.replace(/-/g," ")))}function Kt(R){return["substack-feed-item","notes_inline_suggestions","notes_sidebar_suggestions","feed-nux","feed-twitter-suggestions","notes_all_suggestions","note_permalink_upsell","notes_likes","note_inline_upsell","notes_restacks","notes_quote_attachment","notes_context","substack-notes"].includes(R)}const un=R=>/^\S+@\S+\.\S+$/.test(R),gn=R=>(R||"").replace(/\s+/g," "),bn={"-2":{short:"Deleted - Flagged as spam",long:"This publication is deleted and every page will show a flagged error"},"-1":{short:"Noindexed - In moderation queue",long:"This publication is temporarily not available to search engines because it is pending moderation, where it will be approved or deleted"},0:{short:"Noindexed - New Pub",long:'This publication is temporarily not available to search engines because the author needs to create a new post other than "coming-soon"'},1:{short:"Available",long:"This publication is available to search engines"},2:{short:"Available w/priority",long:"This publication is available to search engines and is given priority SEO treatment"}};function Nn(R){return R?R<3456e3?"monthly":R<8121600?"quarterly":R<16070400?"semiannual":R<3456e4?"annual":R>3888e3?"lifetime":"other":"free"}function Hn(R){return R&&(R.homepage_type==="newspaper"||R.homepage_type==="magaziney")}const yr=35;function Jn(R,{isStatic:oe}={}){let he,Ie;return R.width>=R.height*1.7777777777777777?(he=oe?550:960,Ie=Math.round(he*(R.height/R.width))):R.width>=R.height?(he=oe?550:728,Ie=Math.round(he*(R.height/R.width))):he=Ie=oe?550:728,{height:Ie,width:he}}function Br(R){const oe=e(85928),he=oe(R);return oe.utc([he.year(),he.month(),he.date(),8,0,0]).toDate()}function Kr({now:R}={}){const oe=e(85928),he=R?oe(R):oe();let Ie=he.utc().startOf("day").add(5,"hour");return Ie.isBefore(he)&&(Ie=Ie.utc().add(1,"day")),Ie}function Ar(R){const oe=Math.round(R/60),he=Math.floor(oe/60),Ie=oe%60;return`${he?`${he}HR `:""}${Ie}M`}function Rr(R){const oe=R.toLowerCase()[0];return["a","e","i","o","u"].includes(oe)}function wr(R){return R.toLowerCase().startsWith("uni watch")?"a":Rr(R)?"an":"a"}function Sr(R){return`${wr(R)} ${R}`}function mr(R){return R.split("").reduce((oe,he)=>(oe<<5)-oe+he.charCodeAt(0)|0,0)}function Fr(R){return Math.abs(R)>9999?`${Math.sign(R)*(Math.abs(R)/1e3).toFixed(1)}K`:(Math.sign(R)*Math.abs(R)).toString()}function Vr({recommendedPubs:R}){let oe=null;for(const he of R){for(const Ie of he.recommendations)if(Ie.hasOwnProperty("blurb")&&Ie.blurb){oe=`${Ie.name} recommended ${he.name}`;break}if(oe)break}return oe!=null?oe:"Recommendations from your Substacks"}function K(R,oe="en"){const{iString:he}=I18N.i(oe);return R.metadata.short_description?R.metadata.short_description:R.interval==="year"?he("Annual"):R.interval==="forever"?he("Founding Membership"):R.interval==="month"&&R.interval_count===3?he("Quarterly"):R.interval==="month"&&R.interval_count===6?he("Semiannually"):R.interval==="day"?he("Daily"):R.interval==="week"?he("Weekly"):he("Monthly")}const $=({minLength:R,maxLength:oe,minAlphaNumeric:he}={})=>Ie=>{if(!Ie)return"Missing input";if(R&&Ie.length<R)return`Must be at least ${R} characters long`;if(oe&&Ie.length>oe)return`Must be at most ${oe} characters long`;const Ue=new RegExp("\\P{P}|`","gu"),nt=Ie.match(Ue);if(!nt||(nt==null?void 0:nt.length)<(he!=null?he:R))return`Must contain at least ${he!=null?he:R} non-punctuation characters`;const gt=["`"];let It=0;return nt.forEach(Gt=>{gt.includes(Gt)&&(It+=1)}),nt.length-It<(he!=null?he:R)?`Must contain at least ${he!=null?he:R} non-punctuation characters`:null};function re(R,oe){const he=process.env[R],Ie=typeof he!="undefined",Ue=typeof oe!="undefined";if(Ie)return he;if(Ue)return oe;throw new Error(`Missing required env var ${R}`)}},32542:z=>{"use strict";const l={is_www:!0,id:0,name:"Substack",subdomain:"www",copyright:"Substack Inc.",mailing_address:`548 Market Street PMB 72296
San Francisco, CA 94104`,email_from:"no-reply@substack.com",email_from_name:"Substack",logo_url:"/img/substack.png?v=3"};z.exports=l},25597:(z,l,e)=>{"use strict";e.d(l,{Z:()=>g});var o=e(6400),f=e(13639),u=e(36377),c=e(11851);const g=({audience:E,className:v,size:y=16,isStatic:T,thin:w})=>E==="only_paid"?w?(0,o.h)(c.Z,{className:v,height:y,isStatic:T}):(0,o.h)(f.Z,{className:v,size:y}):E==="founding"?(0,o.h)(u.Z,{className:v,height:y,isStatic:T}):null},45809:(z,l,e)=>{"use strict";e.d(l,{M:()=>u});var o=e(6400),f=e(83322);function u({array:c,limit:_,formatter:g=T=>T,restWord:E="other",showRestCount:v=!0,pluralizeRest:y=!0}){const T=c.map(g).filter(Boolean).slice(0,_);if(T.length===0)return(0,f.pluralize)(c.length,"people");const w=c.length-T.length;return w>0&&T.push(`${v?w:""} ${E}${w>1&&y?"s":""}`),T.length===1?T[0]:T.length===2?(0,o.h)(o.Fragment,null,T[0]," and ",T[1]):(0,o.h)(o.Fragment,null,T.slice(0,-1).map(S=>(0,o.h)(o.Fragment,null,S,", "))," ","and ",T[T.length-1])}},85344:(z,l,e)=>{"use strict";e.d(l,{q:()=>T});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),_=e(51126),g=e(43887),E=e(11688),v=e(79786);const y={imageGroup:"frontend-components-ImageGroup-module__imageGroup--N55yp","size-1":"frontend-components-ImageGroup-module__size-1--EVxKh",image:"frontend-components-ImageGroup-module__image--cgeFj","size-2":"frontend-components-ImageGroup-module__size-2--kYsLh","size-4":"frontend-components-ImageGroup-module__size-4--sTBe7","size-3":"frontend-components-ImageGroup-module__size-3--LQidT","size-5":"frontend-components-ImageGroup-module__size-5--SiIKW","size-6":"frontend-components-ImageGroup-module__size-6--iu7m1",restack:"frontend-components-ImageGroup-module__restack--sb0nG",preview:"frontend-components-ImageGroup-module__preview--aPqb2",topLeft:"frontend-components-ImageGroup-module__topLeft--I8LpZ",topRight:"frontend-components-ImageGroup-module__topRight--C1nVv",bottomLeft:"frontend-components-ImageGroup-module__bottomLeft--HTMkw",bottomLeftChat:"frontend-components-ImageGroup-module__bottomLeftChat--NyOFh",bottomRight:"frontend-components-ImageGroup-module__bottomRight--ow5mf",clickable:"frontend-components-ImageGroup-module__clickable--Px1BR",imageCount:"frontend-components-ImageGroup-module__imageCount--UiE8S"};function T({className:S,assets:O,readOnly:p,isRestack:d,isPreview:a,onClick:P,aspect:C}){let D=O;O.length>6&&(D=D.slice(0,5));const[A,x]=(0,f.eJ)(null),I=(N,F)=>{N.preventDefault(),x({index:F})};return(0,o.h)(_.hs,{className:c()(y.imageGroup,y[`size-${Math.min(O.length,6)}`],d&&y.restack,a&&y.preview,S),alignSelf:"stretch",gap:4},D.map((N,F)=>(0,o.h)(w,{key:N,asset:N,index:F,total:O.length,readOnly:p,aspect:C,onClick:p?void 0:B=>{B.preventDefault(),P&&P(),I(B,F)}})),O.length>6&&(0,o.h)(w,{asset:O[6],index:5,total:6,count:O.length-D.length,readOnly:p,onClick:P,aspect:C}),!p&&(0,o.h)(E.cr,{module:"./ImageViewerModal",resolve:N=>N.ImageViewerModal,onRequest:()=>e.e(661).then(e.bind(e,55661)),showModal:!!A,modalContent:O.map(N=>({attrs:{src:N}})),onClose:()=>{x(null)},step:A?A.index:void 0,includeDownloadButton:!1}))}function w({asset:S,onClick:O,index:p,total:d,count:a,readOnly:P,aspect:C}){return(0,o.h)(_.hs,{className:c()(y.image,!P&&y.clickable,p===0&&y.topLeft,(p===0&&d===1||p===1&&d===2||p===1&&d===4||p===2&&d!==4)&&y.topRight,(p===0&&d<=3||p===2&&d===4||p===3&&d>4)&&y.bottomLeft,(p+1===d||p==2&&d===5)&&y.bottomRight),flex:"grow",radius:6,onClick:O},(0,o.h)(v.e,{src:S,maxWidth:1e3,imageProps:{aspect:C||"1:1",smartCrop:!0,portraitCrop:d===1}}),a!=null&&(0,o.h)(_.hs,{className:y.imageCount,justifyContent:"center",alignItems:"center"},(0,o.h)(g.xv.H2,{color:"bg-light"},"+",a)))}},55661:(z,l,e)=>{"use strict";e.r(l),e.d(l,{ImageViewerContents:()=>P,ImageViewerModal:()=>a});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),_=e(2564),g=e(56743),E=e(71375),v=e(71212),y=e(15045),T=e(39419),w=e(92271),S=e(51126),O=e(62246),p=e(15822);const d={chrome:"frontend-components-ImageViewerModal-module__chrome--gsoD8",inactive:"frontend-components-ImageViewerModal-module__inactive--Sgv0p",modalImageButtonContainer:"frontend-components-ImageViewerModal-module__modalImageButtonContainer--ln8Of",modalImageButton:"frontend-components-ImageViewerModal-module__modalImageButton--iFgnX",modalImageSidebar:"frontend-components-ImageViewerModal-module__modalImageSidebar--tfJya",modalBody:"frontend-components-ImageViewerModal-module__modalBody--gyZLM",imgContainer:"frontend-components-ImageViewerModal-module__imgContainer--WVmHg",img:"frontend-components-ImageViewerModal-module__img--gfPkO",isLoading:"frontend-components-ImageViewerModal-module__isLoading--bv0nq",moreOptionsMenu:"frontend-components-ImageViewerModal-module__moreOptionsMenu--lE2ip",moreOptionsMenuItem:"frontend-components-ImageViewerModal-module__moreOptionsMenuItem--T6aTx",zIndexStyling:"frontend-components-ImageViewerModal-module__zIndexStyling--CCZCY"};function a({showModal:A,modalContent:x,onClose:I,step:N,includeDownloadButton:F=!0}){(0,f.d4)(()=>{A?(document.body.style.backgroundColor="black",document.body.style.transform="background-color 0.2s"):document.body.style.removeProperty("background-color")},[A]);const B=V=>{V.stopPropagation(),I()};return(0,o.h)(O.u_,{isOpen:A,onClose:I,position:"full",opacity:"dark",onEscape:B},(0,o.h)(P,{modalContent:x,onClose:I,stepDefault:N,includeDownloadButton:F}))}function P({modalContent:A=[],onClose:x,stepDefault:I,includeDownloadButton:N}){const[F,B]=(0,f.eJ)(I),[V,Z]=(0,f.eJ)(!0),Y=(0,T.isMobileBrowser)(),ne=ae=>{ae.currentTarget===ae.target&&x()},[G,L]=(0,f.eJ)(!1);(0,f.d4)(()=>{if(!Y){let ae;const ce=Ee=>{const{key:de}=Ee;["ArrowRight","ArrowDown"].includes(de)?(ie(),Ee.stopPropagation()):["ArrowLeft","ArrowUp"].includes(de)&&(W(),Ee.stopPropagation())},fe=Ee=>{(Ee==null?void 0:Ee.type)==="keydown"&&ce(Ee),clearTimeout(ae),L(!1),ae=setTimeout(()=>{L(!0)},2e3)};return window.addEventListener("pointermove",fe,{capture:!0,passive:!0}),window.addEventListener("pointerdown",fe,{capture:!0,passive:!0}),window.addEventListener("keydown",fe,{capture:!0,passive:!0}),fe(),()=>{clearTimeout(ae),window.removeEventListener("pointermove",fe,{capture:!0}),window.removeEventListener("pointerdown",fe,{capture:!0}),window.removeEventListener("keydown",fe,{capture:!0})}}},[Y,F]);const W=()=>{F!==0&&(B(F-1),Z(!0))},ie=()=>{F!==A.length-1&&(B(F+1),Z(!0))},ue=A[F],{attrs:{src:le,alt:J,title:te}}=ue,se=Y?8:16,ee="#FFFFFF";return(0,o.h)(o.Fragment,null,(0,o.h)("div",{className:c()(d.chrome,G&&d.inactive)},F<A.length-1&&(0,o.h)(C,{buttonFunction:ie,style:{right:0,padding:se},isSidebar:!0,icon:(0,o.h)(_.Z,{size:20,strokeWidth:2,stroke:ee})}),F>0&&(0,o.h)(C,{buttonFunction:W,style:{left:0,padding:se},isSidebar:!0,icon:(0,o.h)(g.Z,{size:20,strokeWidth:2,stroke:ee})}),(0,o.h)(C,{buttonFunction:x,style:{position:"absolute",right:se,top:se},isSidebar:!1,icon:(0,o.h)(E.Z,{size:20,strokeWidth:2,stroke:ee})}),N&&(0,o.h)(C,{buttonFunction:ae=>{ae.stopPropagation(),D(te,le)},style:{position:"absolute",left:se,top:se},isSidebar:!1,icon:(0,o.h)(v.Z,{size:20,strokeWidth:2,stroke:ee})})),(0,o.h)("div",{className:d.imgContainer,onClick:ne},(0,o.h)("img",{className:c()(d.img,V&&d.isLoading),onLoad:()=>{Z(!1)},alt:J,title:te,src:(0,y.imginary)(le,void 0,{quality:"auto:good"}),key:le,onClick:ne})),V&&(0,o.h)("div",{style:{position:"absolute",top:"50%",left:"50%"}},(0,o.h)(p.S,{className:d.imgDrunkSpin})))}function C({buttonFunction:A,style:x,isSidebar:I,icon:N,tetherRef:F}){return(0,o.h)(S.hs,{className:c()(d.modalImageButtonContainer,I?d.modalImageSidebar:null),style:x,alignItems:"center",justifyContent:"center",onClick:A,ref:F},(0,o.h)(w.z,{className:d.modalImageButton,look:"circle"},N))}function D(A,x){const I=document.createElement("a");return document.body.appendChild(I),I.href=x,I.target="_blank",I.click(),document.body.removeChild(I),null}},35442:(z,l,e)=>{"use strict";e.r(l),e.d(l,{Metadata:()=>S});var o=e(6400),f=e(53836),u=e.n(f),c=e(15045),_=e(63030),g=Object.defineProperty,E=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,T=(p,d,a)=>d in p?g(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,w=(p,d)=>{for(var a in d||(d={}))v.call(d,a)&&T(p,a,d[a]);if(E)for(var a of E(d))y.call(d,a)&&T(p,a,d[a]);return p};function S({badge:p,title:d,socialTitle:a,searchDescription:P,description:C,themeColor:D,image:A,seoProps:x,isLargeImage:I=!1,imageWidth:N,imageHeight:F,isPodcast:B=!1,isVideo:V=!1,slug:Z,pub:Y,post:ne,siteName:G,publishedTime:L,meta:W=[],siteConfigs:ie={}}){const ue={meta:[...W,{property:"og:type",content:"article"}]};p&&(ue.titleTemplate=`(${p}) %s`),d&&(ue.title=d,ue.meta.push({property:"og:title",content:a||d},{name:"twitter:title",content:a||d})),(C||P)&&ue.meta.push({name:"description",content:P||C},{property:"og:description",content:C},{name:"twitter:description",content:C}),D&&ue.meta.push({name:"theme-color",content:D});const le=!!Y&&Y.invite_only,J=!!ne&&ne.audience==="everyone",te=!le&&J,se=te&&ie.twitter_player_card_enabled,ee=(Y==null?void 0:Y.subdomain)&&O.includes(Y.subdomain)&&te;if(B&&Y&&ne){const ae=(0,_.getPodcastEpisodeImageUrl)(Y,ne);ae&&(A=(0,c.imginary)(ae,1200,{height:600,smartCrop:!0,format:"jpg"}),I=!0)}if(A){let ae="summary";I&&(ae="summary_large_image"),(B&&se||V&&ee)&&(ae="player"),ue.meta.push({property:"og:image",content:A},{name:"twitter:image",content:A},{name:"twitter:card",content:ae}),N&&ue.meta.push({property:"og:image:width",content:N}),F&&ue.meta.push({property:"og:image:height",content:F})}if(x){const ae=Object.entries(x).filter(([ce,fe])=>fe).map(([ce])=>ce).join(", ");ae&&ue.meta.push({name:"robots",content:ae})}return Y!=null&&Y.explicit&&ue.meta.push({name:"rating",content:"adult"}),B&&se&&ue.meta.push({name:"twitter:player",content:`${(0,c.getBaseUrl)(Y)}/embed/podcast/${Z}?autoplay=1`},{name:"twitter:player:width",content:"1"},{name:"twitter:player:height",content:"1"},{name:"twitter:text:player_width",content:"1"},{name:"twitter:text:player_height",content:"1"}),V&&ee&&ue.meta.push({name:"twitter:player",content:`${(0,c.getBaseUrl)(Y)}/embed/video/${Z}?autoplay=1`},{name:"twitter:player:width",content:"16"},{name:"twitter:player:height",content:"9"},{name:"twitter:text:player_width",content:"16"},{name:"twitter:text:player_height",content:"9"}),G&&ue.meta.push({property:"og:site_name",content:G}),L&&ue.meta.push({property:"og:published_time",content:L}),(0,o.h)(u(),w({},ue))}const O=["pinespodcast","test1"]},74285:(z,l,e)=>{"use strict";e.d(l,{X:()=>_,h:()=>g});var o=e(6400),f=e(98661),u=e(30396);const c=(0,o.createContext)(null);function _({root:E,children:v}){const y=(0,u.sO)(E);return(0,o.h)(c.Provider,{value:y},v,!E&&(0,o.h)("div",{ref:y}))}function g({children:E}){const v=(0,u.qp)(c).current;return v?(0,f.createPortal)(E,v):null}},55489:(z,l,e)=>{"use strict";e.d(l,{s:()=>x});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),_=e(31131),g=e(28596),E=e(99869),v=e(82626),y=e(68227),T=e(17835),w=e(9e3),S=e(66839),O=e(56838),p=e(91004),d=e(3258),a=e(58884),P=e(39419),C=e(13045);const D={newMenuItemContainer:"frontend-components-PostShareDropdown-module__newMenuItemContainer--pi2D2",divider:"frontend-components-PostShareDropdown-module__divider--oId4n",offset:"frontend-components-PostShareDropdown-module__offset--ekxJ6",shareIconContainer:"frontend-components-PostShareDropdown-module__shareIconContainer--PlGwp",dropdownMenu:"frontend-components-PostShareDropdown-module__dropdownMenu--oPk6X"};var A=(F,B,V)=>new Promise((Z,Y)=>{var ne=W=>{try{L(V.next(W))}catch(ie){Y(ie)}},G=W=>{try{L(V.throw(W))}catch(ie){Y(ie)}},L=W=>W.done?Z(W.value):Promise.resolve(W.value).then(ne,G);L((V=V.apply(F,B)).next())});function x({post:F,user:B,pub:V,trigger:Z,onChange:Y,position:ne}){const G=(0,p.O1)(null,{post:F,pub:V,user:B,useCustomDomainOverOpen:!0}),L=(0,p.B8)({post:F,pub:V}),W={title:L,url:G},ie=(0,P.isMobileBrowser)()&&navigator.share&&navigator.canShare&&navigator.canShare(W),[ue,le]=(0,f.eJ)(ie),J=()=>A(this,null,function*(){var de;if((0,d.j)(d.FP.POST_SHARE_BUTTON_CLICKED,{position:ne}),ie&&ue)try{yield navigator.share(W),(0,d.j)(d.FP.NATIVE_SHARE_SUCCESS,{medium:"web",post_id:(de=F.id)!=null?de:null,utm_campaign:"default"}),(0,a.ex)(`${V.subdomain} shared`,!0);return}catch(_e){if(!(_e instanceof Error)||_e.name==="AbortError")return;le(!1),(0,d.j)(d.FP.NATIVE_SHARE_FAILED,{errorName:_e.name,errorMessage:_e.message})}}),te=()=>{(0,p.Wn)({shareUrl:G,shareName:L,pub:V,post:F,utm_campaign:ne}),Y==null||Y()},se=()=>{(0,p.Po)({shareUrl:G,pub:V,post:F,utm_campaign:ne}),Y==null||Y()},ee=()=>{(0,p.lc)({shareUrl:G,pub:V,post:F,utm_campaign:ne}),Y==null||Y()},ae=()=>{(0,p.BZ)({shareUrl:G,pub:V,post:F,utm_campaign:ne}),Y==null||Y()},ce=()=>{(0,p.WZ)({shareUrl:G,shareName:L,pub:V,post:F,utm_campaign:ne}),Y==null||Y()},fe=()=>{(0,p.Ui)({shareUrl:G,pub:V,post:F,utm_campaign:ne}),Y==null||Y()};let Ee;if(I(Z))Ee=Z;else if(N(Z)){let de;F.share_url_override?de=F.share_url_override:Z.isStatic?F?de=v.Substitutions.SHARE_URL:de=v.Substitutions.SHARE_PUB_URL:de="javascript:void(0)";const _e=Z.labelStyle==="none";Ee=(0,o.h)(O.Ng,{style:Z.style,icon:_e?(0,o.h)(_.Z,{className:"icon",height:(0,O.Su)(Z.style),strokeWidth:O.PA}):null,href:de,noLabel:Z.labelStyle==="none",className:c()(!_e&&"no-icon")},Z.labelStyle==="cta"&&"Share")}return(0,o.h)(C.v2,{trigger:Ee,onOpen:J,useMobileBottomSheet:!0,disableMenu:ue,layerOptions:{placement:ne==="pub-preview"?"bottom-start":"bottom-end",preferX:ne==="pub-preview"?"right":"left"},className:D.dropdownMenu},(0,o.h)(C.sN,{icon:(0,o.h)(w.Z,{height:24}),onClick:ae},(0,o.h)(C.gq,{justifyContent:"space-between",alignItems:"center"},"Share to Notes",(0,o.h)(C.hs,{className:D.newMenuItemContainer,paddingX:6,height:20,alignItems:"center",justifyContent:"center"},(0,o.h)(C.xv.B4,{size:11,weight:"semibold",color:"bg-light"},"NEW")))),(0,o.h)(C.sN,{icon:(0,o.h)(S.Z,{height:24}),onClick:te},"Share to Twitter"),(0,o.h)(C.sN,{icon:(0,o.h)(y.Z,{height:24}),onClick:se},"Share to Facebook"),(0,o.h)(C.sN,{icon:(0,o.h)(T.Z,{height:24}),onClick:ee},"Share to Linkedin"),(0,o.h)("div",{className:D.divider}),(0,o.h)(C.sN,{icon:(0,o.h)(C.hs,{className:D.shareIconContainer,alignItems:"center",justifyContent:"center",radius:12},(0,o.h)(g.Z,{className:D.offset,size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:ce},"Send as email"),(0,o.h)(C.sN,{icon:(0,o.h)(C.hs,{className:D.shareIconContainer,justifyContent:"center",alignItems:"center",radius:12},(0,o.h)(E.Z,{size:14,stroke:"var(--color-dark-primary)",strokeWidth:3})),onClick:fe},"Copy link"))}function I(F){return F.type!==void 0}function N(F){const B=F;return B.style!==void 0&&B.labelStyle!==void 0}},91001:(z,l,e)=>{"use strict";e.d(l,{o:()=>x});var o=e(6400),f=e(30396),u=e(20501),c=e(92643),_=e(3258),g=e(8479),E=e(84040),v=e(51126),y=e(43887),T=e(75425),w=Object.defineProperty,S=Object.defineProperties,O=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,P=(I,N,F)=>N in I?w(I,N,{enumerable:!0,configurable:!0,writable:!0,value:F}):I[N]=F,C=(I,N)=>{for(var F in N||(N={}))d.call(N,F)&&P(I,F,N[F]);if(p)for(var F of p(N))a.call(N,F)&&P(I,F,N[F]);return I},D=(I,N)=>S(I,O(N)),A=(I,N,F)=>new Promise((B,V)=>{var Z=G=>{try{ne(F.next(G))}catch(L){V(L)}},Y=G=>{try{ne(F.throw(G))}catch(L){V(L)}},ne=G=>G.done?B(G.value):Promise.resolve(G.value).then(Z,Y);ne((F=F.apply(I,N)).next())});const x=({profile:I,requireLogin:N,source:F})=>{const B=(0,T.pm)(),{refetch:V,isLoading:Z,error:Y}=(0,g.ib)({pathname:I?(0,u.getPresubscribeUrl)(I):"",auto:!1,deps:[I]}),{refetch:ne}=(0,c.Un)({subjectId:I.id,subjectName:I.name}),G=(0,f.I4)(()=>A(void 0,null,function*(){var ie;if((0,_.j)(_.FP.ACCOUNT_CARD_PRESUBSCRIBE_CLICKED,F),N){N();return}yield V({method:"POST",json:{source:(ie=F.utmSource)!=null?ie:F.type}}),B.popToast(ue=>(0,o.h)(T.FN,D(C({},ue),{text:`You're subscribed to ${I.name||"<no name>"}! You'll get an email when they create a publication`}))),ne(I.id)}),[V,ne,I,B,N,F]),L=(0,f.I4)(()=>A(void 0,null,function*(){(0,_.j)(_.FP.ACCOUNT_CARD_UNPRESUBSCRIBE_CLICKED,F),yield V({method:"DELETE"}),B.popToast(ie=>(0,o.h)(T.FN,D(C({},ie),{text:`You're unsubscribed from ${I.name||"<no name>"}! `}))),ne(I.id)}),[V,ne,B,I,F]);if(!I)return null;const W=!!I.isPresubscribed;return(0,o.h)(o.Fragment,null,!!Y&&(0,o.h)(v.gq,{justifyContent:"center"},(0,o.h)(y.xv.B4,{weight:"bold",color:"error",paddingBottom:20},"Something went wrong. Please refresh the page.")),W?(0,o.h)(E.zx,{priority:"secondary",fill:"outline",rounded:!0,disabled:Z,onClick:ie=>{L(),ie.stopPropagation()},title:I.name},"Subscribed"):(0,o.h)(E.zx,{priority:"primary",disabled:Z,rounded:!0,onClick:ie=>{G(),ie.stopPropagation()},title:I.name},"Subscribe"))}},80332:(z,l,e)=>{"use strict";e.d(l,{Ct:()=>_e,L0:()=>de,PP:()=>ct});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),_=e(71375),g=e(25380),E=e(80569),v=e.n(E),y=e(15045),T=e(20501),w=e(76193),S=e(83322),O=e(92643),p=e(63270),d=e(67963),a=e(3258),P=e(69229),C=e(13045),D=e(84040),A=e(48960),x=e(51126),I=e(94016),N=e(43887),F=e(10186),B=e(55886),V=e(68262),Z=e(44695),Y=e(45809),ne=e(91001),G=e(27797),L=Object.defineProperty,W=Object.defineProperties,ie=Object.getOwnPropertyDescriptors,ue=Object.getOwnPropertySymbols,le=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,te=(ge,Fe,Ne)=>Fe in ge?L(ge,Fe,{enumerable:!0,configurable:!0,writable:!0,value:Ne}):ge[Fe]=Ne,se=(ge,Fe)=>{for(var Ne in Fe||(Fe={}))le.call(Fe,Ne)&&te(ge,Ne,Fe[Ne]);if(ue)for(var Ne of ue(Fe))J.call(Fe,Ne)&&te(ge,Ne,Fe[Ne]);return ge},ee=(ge,Fe)=>W(ge,ie(Fe)),ae=(ge,Fe)=>{var Ne={};for(var lt in ge)le.call(ge,lt)&&Fe.indexOf(lt)<0&&(Ne[lt]=ge[lt]);if(ge!=null&&ue)for(var lt of ue(ge))Fe.indexOf(lt)<0&&J.call(ge,lt)&&(Ne[lt]=ge[lt]);return Ne},ce=(ge,Fe,Ne)=>new Promise((lt,Et)=>{var jt=Re=>{try{vt(Ne.next(Re))}catch(He){Et(He)}},en=Re=>{try{vt(Ne.throw(Re))}catch(He){Et(He)}},vt=Re=>Re.done?lt(Re.value):Promise.resolve(Re.value).then(jt,en);vt((Ne=Ne.apply(ge,Fe)).next())});const fe=3,Ee=1;function de(ge){return"id"in ge&&"name"in ge}function _e(ge){var Fe=ge,{dontStopPropagation:Ne,inline:lt,children:Et}=Fe,jt=ae(Fe,["dontStopPropagation","inline","children"]);const en=ve(jt);return(0,w.isMobile)()?(0,o.h)(o.Fragment,null,Et):(0,o.h)("div",ee(se(se({className:c()("profile-hover-card-target",G.Z.profileHoverCardTarget,lt&&G.Z.inline,jt.className&&jt.className)},en.triggerProps),en.hoverProps),{onClick:vt=>{Ne||vt.stopPropagation()}}),Et,en.layer)}function ve(ge){var Fe=ge,{subject:Ne,utmSource:lt,placement:Et}=Fe,jt=ae(Fe,["subject","utmSource","placement"]);const{loading:en,refetch:vt,viewerProfile:Re,subjectProfile:He}=(0,O.Un)({subjectId:(Ne==null?void 0:Ne.author_id)||(Ne==null?void 0:Ne.user_id)||(Ne==null?void 0:Ne.id),subjectName:Ne==null?void 0:Ne.name,delayLoading:!0}),ot=Ne&&Re&&(Ne==null?void 0:Ne.id)===Re.id,me=Ne==null?void 0:Ne.id,ke=(0,f.I4)(()=>{var Je;me&&!He&&vt(me);const tt=(((Je=He==null?void 0:He.publicationUsers)==null?void 0:Je.length)||0)>0;He&&(0,a.j)(a.FP.ACCOUNT_CARD_SHOWN,{profile_user_id:He.id,is_self:!!ot,has_publication:!!tt})},[vt,me,He,ot]),je=(0,I.o)(se({className:G.Z.profileHoverCard,onOpen:ke,loading:en&&!He,hideOnScroll:!0,layerOptions:{placement:Et!=null?Et:"right-center"},content:He?(0,o.h)(ct,{profile:He,subject:Ne,utmSource:lt,forceRefresh:()=>vt(me)}):null},jt));return(0,w.isMobile)()?{layer:null,hoverProps:null,triggerProps:null}:je}const De="account-card";function Oe(ge){let Fe=[];ge&&ge.subscriptions&&(Fe=(0,S.sortSubscriptions)(ge.subscriptions.filter(lt=>!!lt)));let Ne=null;return Fe.length>fe&&(Ne=`See all (${(0,S.numberToString)(Fe.length)})`),Fe=Fe.slice(0,fe),{subscriptions:Fe,moreSubsLabel:Ne}}function ye(ge){let Fe=[];ge&&ge.publicationUsers&&(Fe=ge.publicationUsers.filter(lt=>!!lt),Fe=Fe&&(0,P.b)(Fe));let Ne=null;return Fe.length>Ee&&(Ne=`See all (${(0,S.numberToString)(Fe.length)})`),Fe=Fe.slice(0,Ee),{publications:Fe,morePubsLabel:Ne}}function ze({pub:ge,isWrites:Fe,isFounding:Ne,isPaid:lt,utmSource:Et}){const jt=(0,y.getPubUrl)(ge,{params:{utm_source:Et||De,utm_content:Fe?"writes":"reads"},signedIn:!!(0,d.aF)()});return ge?(0,o.h)("a",{href:jt,target:"_blank",onClick:()=>{(0,a.j)(Fe?a.FP.ACCOUNT_CARD_WRITES_LINK_CLICKED:a.FP.ACCOUNT_CARD_READS_LINK_CLICKED),(0,a.x6)(ge,"hover_profile")},className:G.Z.hoverCardAvatar,rel:"noopener"},(0,o.h)(V.F,{pub:ge,size:32,badgeType:Ne?"founder":lt?"subscribed":null}),(0,o.h)(N.xv.B4,{weight:"medium",title:ge.name},ge.name)):null}function Be({pub:ge,utmSource:Fe}){const Ne=(0,y.getPubUrl)(ge,{params:{utm_source:Fe||De,utm_content:"writes"},signedIn:!!(0,d.aF)()}),lt=(0,S.getByLine)(ge);return(0,o.h)(x.tu,{as:"a",href:Ne,target:"_blank",onClick:()=>{(0,a.j)(a.FP.ACCOUNT_CARD_WRITES_LINK_CLICKED),(0,a.x6)(ge,"hover_profile")},rel:"noopener",padding:12,gap:12,className:G.Z.writesCard,radius:12},(0,o.h)(x.gq,{gap:12},(0,o.h)(V.F,{pub:ge,size:40}),(0,o.h)(x.tu,{flex:"grow",minWidth:0,justifyContent:"center"},(0,o.h)(N.xv.B4,{weight:"semibold"},ge.name),lt&&(0,o.h)(N.xv.B4,{color:"secondary"},"By ",lt))),ge.hero_text&&(0,o.h)(N.xv.B4,{color:"secondary",clamp:3},ge.hero_text))}function We({subject:ge,subscriptions:Fe,moreSubsLabel:Ne,utmSource:lt}){return(0,o.h)(x.tu,null,(0,o.h)(Z.GF,{sectionTitle:"Reads",seeAllLabel:Ne,link:Se(ge,{utmSource:lt})}),(0,o.h)(x.tu,null,Fe.map(Et=>(0,o.h)(ze,{pub:Et.publication,isPaid:Et.membership_state==="subscribed",isFounding:Et.is_founding,utmSource:lt}))))}function Ke({publication:ge,utmSource:Fe}){return ge?(0,o.h)(Be,{pub:ge,utmSource:Fe}):null}function Xe({pub:ge,isSubscribed:Fe,user:Ne,utmSource:lt,forceRefreshCard:Et}){const[jt,en]=(0,f.eJ)(!1),{popToast:vt}=(0,C.pm)(),Re=()=>ce(this,null,function*(){Ne||vt(ot=>(0,o.h)(C.FN,ee(se({},ot),{text:"Something went wrong. Please try again.",Icon:_.Z}))),en(!0);try{yield v().post("/api/v1/reader/signup/pub").send({publication_id:ge.id,email:Ne==null?void 0:Ne.email,visibility:"public",source:"subscribes-feed"}),(0,a.j)(a.FP.FEED_ONE_CLICK_SUBSCRIBE,{source:"subscribes-feed",publication_id:ge.id}),vt(ot=>(0,o.h)(C.FN,ee(se({},ot),{text:`Subscribed to ${(ge==null?void 0:ge.name)||(Ne==null?void 0:Ne.name)||"user"}`,Icon:g.Z}))),Et()}catch(ot){vt(me=>(0,o.h)(C.FN,ee(se({},me),{text:"There was an issue subscribing to this profile.",Icon:_.Z})))}en(!1)}),He=ge?(0,T.getSubscribeUrl)(ge,{user:Ne,addBase:!0,params:{utm_source:lt||De,utm_content:"subscribes",next:document.location.href}}):"";return ge&&(Fe?(0,o.h)(D.zx,{priority:"secondary",fill:"outline",href:He,rounded:!0,onClick:()=>{(0,a.j)(a.FP.ACCOUNT_CARD_SUBSCRIBE_CLICKED),(0,a.x6)(ge,"hover_profile")},title:ge.name},"Subscribed"):lt==="feed"&&Ne?(0,o.h)(D.zx,{priority:"primary",rounded:!0,onClick:()=>{Re()},title:ge.name,disabled:jt},"Subscribe"):(0,o.h)(D.zx,{priority:"primary",href:He,localNavigation:!1,rounded:!0,onClick:()=>{(0,a.j)(a.FP.ACCOUNT_CARD_SUBSCRIBE_CLICKED),(0,a.x6)(ge,"hover_profile")},title:ge.name},"Subscribe"))}function ct({profile:ge,subject:Fe,themed:Ne,className:lt,utmSource:Et,hideSubscribeButtons:jt,forceRefresh:en}){var vt,Re;const{getConfigFor:He}=(0,p.xR)(),ot=(0,d.aF)();if(!ge)return null;const{subscriptions:me,moreSubsLabel:ke}=Oe(ge),{publications:je,morePubsLabel:Je}=ye(ge),tt=Se(Fe,{utmSource:Et}),Ae=(Fe==null?void 0:Fe.name)||"",H=ge.primaryPublication&&((vt=ge.publicationUsers.find(st=>{var _t;return st.publication_id===((_t=ge==null?void 0:ge.primaryPublication)==null?void 0:_t.id)}))==null?void 0:vt.publication),Q=Fe&&Fe.id===(ot==null?void 0:ot.id),pe=Q&&ge&&!ge.profile_set_up_at,we=je.length>0&&!pe,Le=me.length>0&&!pe&&!we,Ye=ot?null:()=>{window.location.href=(0,y.getSigninUrl)({redirect:`${window.location.href}`})},dt=(Re=ge==null?void 0:ge.handle)!=null?Re:null;return(0,o.h)("div",{className:c()(G.Z.card,lt)},(0,o.h)(x.tu,{gap:16,padding:8},(0,o.h)(x.gq,{justifyContent:"space-between"},(0,o.h)("a",{href:tt},(0,o.h)(F.qE,{user:ge,size:64})),pe?(0,o.h)(D.zx,{priority:"secondary",fill:"outline",rounded:!0,href:(0,y.getProfileSetupUrl)({utm_source:Et||De})},"Set up profile"):Q?(0,o.h)(D.zx,{priority:"secondary",fill:"outline",rounded:!0,href:(0,y.getEditProfileUrl)()},"Edit profile"):jt?null:H?(0,o.h)(Xe,{pub:H,isSubscribed:ge.isSubscribed,user:ot,utmSource:Et,forceRefreshCard:en}):He("enable_presubscriptions")?(0,o.h)(ne.o,{profile:ge,requireLogin:Ye,source:{type:"card",utmSource:Et}}):null),(0,o.h)(x.tu,{gap:6},(0,o.h)(Z.Sz,{themed:Ne,title:Ae,handle:dt,blurb:ge.bio,url:tt,userId:Fe.id,bestsellerTier:ge.bestseller_tier})),we&&(0,o.h)(Ke,{publication:H,utmSource:Et}),Le&&(0,o.h)(o.Fragment,null,(0,o.h)(A.i,null),(0,o.h)(We,{subject:Fe,subscriptions:me,moreSubsLabel:ke,utmSource:Et})),ge.mutuals&&(0,o.h)(Qe,{mutuals:ge.mutuals,utmSource:Et})))}function Se(ge,{utmSource:Fe}={}){const Ne=typeof window!="undefined"&&window.location.href.startsWith((0,T.getSubstackUrl)());return(0,y.getReaderProfileUrl)(ge,{noBase:Ne,utm_source:Fe||De})}function Qe({mutuals:ge,utmSource:Fe}){const{paidSubscribers:Et,freeSubscribers:jt,recommenders:en}=ge;let vt,Re;Et.length>0?(vt="paid",Re=Et):en.length>0?(vt="recommended",Re=en):(vt="free",Re=jt);const He=Re.sort(ot=>ot.photo_url?1:-1);return He.length===0?null:(0,o.h)(x.hs,{paddingTop:16,alignItems:"center",gap:12,borderTop:"detail"},(0,o.h)(x.hs,{style:{paddingLeft:6}},He.slice(0,3).map(ot=>(0,o.h)(x.hs,{as:"a",key:ot.id,href:(0,y.getReaderProfileUrl)(ot,{utm_source:"profile-card"})},(0,o.h)(B.t,{className:G.Z.facepileFace,src:ot.photo_url||(0,y.getDefaultUserPhotoById)(ot.id),size:24})))),(0,o.h)(N.xv,{font:"text",color:"secondary",size:12},vt==="recommended"&&"Recommended by ",(0,o.h)(Y.M,{array:He,limit:3,formatter:ot=>(0,o.h)(N.hh,{href:Se(ot,{utmSource:Fe})},ot.name)}),vt==="paid"?Re.length>1?" are paid subscribers":" is a paid subscriber":vt==="free"&&(Re.length>1?" subscribe":" subscribes"),"."))}},96098:(z,l,e)=>{"use strict";e.d(l,{h:()=>u});var o=e(6400),f=e(61864);function u({children:c}){return(0,o.h)("div",{className:f.Z.pubTheme},c)}},35291:(z,l,e)=>{"use strict";e.d(l,{p:()=>_});var o=e(6400),f=e(94184),u=e.n(f),c=e(1602);const _=({name:g,label:E,info:v,checked:y,disabled:T,onChange:w,isRow:S=!0,className:O})=>{const p=(0,o.h)(o.Fragment,null,(0,o.h)("span",{className:u()("big-checkbox",{checked:y,disabled:T}),onClick:()=>!T&&(w==null?void 0:w(!y)),onKeyDown:d=>{d.key===" "&&(w==null||w(!y))},role:"checkbox","aria-checked":y,"aria-label":E||g,tabIndex:0},(0,o.h)(c.Z,{fill:"#ffffff"})));return(0,o.h)("label",{className:u()("big-checkbox-input",O,{"big-checkbox-input-row":S})},!S&&p,(0,o.h)("div",{onClick:()=>{(E||v)&&!T&&(w==null||w(!y))}},E,v&&(0,o.h)("div",{className:"info"},v)),S&&p,(0,o.h)("input",{type:"hidden",name:g,"data-testid":g,value:String(y)}))}},7922:(z,l,e)=>{"use strict";e.d(l,{Z:()=>C,k:()=>D});var o=e(6400),f=e(98661),u=e(94184),c=e.n(u),_=e(39419),g=e.n(_),E=Object.defineProperty,v=Object.defineProperties,y=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,O=(A,x,I)=>x in A?E(A,x,{enumerable:!0,configurable:!0,writable:!0,value:I}):A[x]=I,p=(A,x)=>{for(var I in x||(x={}))w.call(x,I)&&O(A,I,x[I]);if(T)for(var I of T(x))S.call(x,I)&&O(A,I,x[I]);return A},d=(A,x)=>v(A,y(x)),a=(A,x)=>{var I={};for(var N in A)w.call(A,N)&&x.indexOf(N)<0&&(I[N]=A[N]);if(A!=null&&T)for(var N of T(A))x.indexOf(N)<0&&S.call(A,N)&&(I[N]=A[N]);return I};const C=A=>{var x=A,{children:I,className:N=void 0,disabled:F=void 0,loading:B=void 0,type:V="button",href:Z=void 0,localNavigation:Y=!1,onClick:ne=void 0,forwardedRef:G=void 0,newTab:L=void 0}=x,W=a(x,["children","className","disabled","loading","type","href","localNavigation","onClick","forwardedRef","newTab"]);const ie=ue=>{if(F||B){ue&&ue.preventDefault();return}ne?ne(ue):Z?(0,_.redirect)(Z,{event:ue,local_navigation:Y,newTab:L}):V!=="submit"&&console.log("No onClick set!")};return(0,o.h)("button",d(p({tabIndex:0},W),{type:V,className:c()("button",N,{disabled:F}),disabled:F||B,onClick:ie,ref:G}),B?"Please wait...":I)},D=(0,f.forwardRef)((A,x)=>{var I=A,{onClick:N,href:F,localNavigation:B,newTab:V}=I,Z=a(I,["onClick","href","localNavigation","newTab"]);const Y=F?ne=>{N&&(N.call(ne.target,ne),ne.defaultPrevented)||(0,_.redirect)(F,{event:ne,local_navigation:B,newTab:V})}:N;return(0,o.h)("button",d(p({tabIndex:0},Z),{ref:x,onClick:Y}))})},22939:(z,l,e)=>{"use strict";e.d(l,{E:()=>f});var o=e(30396);function f(){const u=(0,o.sO)(null);return[u,()=>{var _;return(_=u.current)==null?void 0:_.toggle()}]}},43615:(z,l,e)=>{"use strict";e.d(l,{FF:()=>Be,Pn:()=>Oe,ZP:()=>ve});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),_=e(25380),g=e(71375),E=e(49770),v=e(80569),y=e.n(v),T=e(15045),w=e(83322),S=e(67963),O=e(62017),p=e(3258),d=e(8479),a=e(39419),P=e(84040),C=e(51126),D=e(62246),A=e(43887),x=e(75425),I=e(10186),N=e(33510),F=e(44695);const B=40,V=.5*B,Z=.2,Y=2;function ne(Ke){return{width:(Ke-1)*B*(1-Z)+B+2*Y,height:B+2*Y}}function G({faces:Ke}){const ct=Ke.slice(0).reverse().map(({id:ge,photo_url:Fe},Ne)=>({id:ge,photo_url:Fe||getDefaultUserPhotoById(ge),x:(Ke.length-Ne-1)*(1-Z)*B+Y})),{width:Se,height:Qe}=ne(Ke.length);return h("svg",{version:"1.1",width:Se,height:Qe,viewBox:`0 0 ${Se} ${Qe}`,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},h("defs",null,ct.map(({id:ge,photo_url:Fe,x:Ne})=>h("pattern",{id:`image-${ge}`,x:Ne,y:Y,patternUnits:"userSpaceOnUse",height:B,width:B},h("image",{height:B,width:B,preserveAspectRatio:"xMidYMid slice","data-clip-path":"url(#circularPhoto)",href:Fe})))),ct.map(({id:ge,x:Fe})=>h("circle",{cx:Fe+V,cy:V+Y,r:V,fill:`url(#image-${ge})`,stroke:"#fff","stroke-width":Y})))}var L=e(80332),W=e(79786),ie=e(30105);const ue={pointer:"frontend-components-Facepile-module__pointer--SkgIP",faces:"frontend-components-Facepile-module__faces--FVkdk","size-40":"frontend-components-Facepile-module__size-40--pH6IT","size-32":"frontend-components-Facepile-module__size-32--IajS_",face:"frontend-components-Facepile-module__face--uAQkp",first:"frontend-components-Facepile-module__first--TZamh",last:"frontend-components-Facepile-module__last--DT3p3",elevated:"frontend-components-Facepile-module__elevated--Cn7L9",avatar:"frontend-components-Facepile-module__avatar--VS2Ls",avatarOther:"frontend-components-Facepile-module__avatarOther--DCokj",avatarOtherIcon:"frontend-components-Facepile-module__avatarOtherIcon--zdppg",link:"frontend-components-Facepile-module__link--kCCMS",column:"frontend-components-Facepile-module__column--mfbca",row:"frontend-components-Facepile-module__row--CRJ4b",button:"frontend-components-Facepile-module__button--x3ldc"};var le=Object.defineProperty,J=Object.defineProperties,te=Object.getOwnPropertyDescriptors,se=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable,ce=(Ke,Xe,ct)=>Xe in Ke?le(Ke,Xe,{enumerable:!0,configurable:!0,writable:!0,value:ct}):Ke[Xe]=ct,fe=(Ke,Xe)=>{for(var ct in Xe||(Xe={}))ee.call(Xe,ct)&&ce(Ke,ct,Xe[ct]);if(se)for(var ct of se(Xe))ae.call(Xe,ct)&&ce(Ke,ct,Xe[ct]);return Ke},Ee=(Ke,Xe)=>J(Ke,te(Xe)),de=(Ke,Xe)=>{var ct={};for(var Se in Ke)ee.call(Ke,Se)&&Xe.indexOf(Se)<0&&(ct[Se]=Ke[Se]);if(Ke!=null&&se)for(var Se of se(Ke))Xe.indexOf(Se)<0&&ae.call(Ke,Se)&&(ct[Se]=Ke[Se]);return ct},_e=(Ke,Xe,ct)=>new Promise((Se,Qe)=>{var ge=lt=>{try{Ne(ct.next(lt))}catch(Et){Qe(Et)}},Fe=lt=>{try{Ne(ct.throw(lt))}catch(Et){Qe(Et)}},Ne=lt=>lt.done?Se(lt.value):Promise.resolve(lt.value).then(ge,Fe);Ne((ct=ct.apply(Ke,Xe)).next())});function ve(Ke){var Xe=Ke,{faces:ct,secondaryFaces:Se,maximum:Qe=5,pileLabel:ge,modalLabel:Fe,secondaryLabel:Ne,secondaryHref:lt,enableModal:Et,className:jt,totalCount:en,detailUtmSource:vt,onDialogOpen:Re,showFaces:He=!0,reverse:ot,showBlanks:me=!1}=Xe,ke=de(Xe,["faces","secondaryFaces","maximum","pileLabel","modalLabel","secondaryLabel","secondaryHref","enableModal","className","totalCount","detailUtmSource","onDialogOpen","showFaces","reverse","showBlanks"]);const[je,Je]=(0,f.eJ)(!1),[tt,Ae]=(0,f.eJ)(!1);let Q=ct.concat((Se==null?void 0:Se.filter(pe=>!ct.find(we=>we.id===pe.id)))||[]).filter(({photo_url:pe})=>me?!0:!!pe).slice(0,Qe);return ot||(Q=Q.slice(0).reverse()),(0,o.h)(C.hs,{alignItems:"center",gap:8,flex:"grow",className:c()("facepile",jt)},He&&(0,o.h)(De,Ee(fe({},ke),{className:jt,faces:Q,maximum:Qe,showBlanks:me})),ge&&(0,o.h)(ze,{label:ge,clickable:!!(Et&&ct.length),onClick:()=>{!Et||!(ct!=null&&ct.length)||(Je(!0),Re&&Re())}}),Ne&&(0,o.h)(A.xv.B4,{color:"pub-secondary-text",weight:"medium"},"\xB7"),Ne&&(0,o.h)(ze,{label:Ne,clickable:!!(Et&&(Se!=null&&Se.length)),href:lt,onClick:lt?void 0:()=>{!Et||!(Se!=null&&Se.length)||(Ae(!0),Re&&Re())}}),je&&(0,o.h)(Be,{isOpen:je,modalLabel:Fe,faces:ct,totalCount:en,onClose:()=>Je(!1),utmSource:vt}),tt&&Se&&(0,o.h)(Be,{isOpen:tt,modalLabel:Ne,faces:Se,totalCount:Se.length,onClose:()=>Ae(!1),utmSource:vt}))}function De({faces:Ke,loading:Xe,className:ct,clickable:Se=!0,hoverProfiles:Qe,faceUtmSource:ge,elevated:Fe,showBlanks:Ne=!1,maximum:lt=5,size:Et=40}){const jt=(0,a.isMobileBrowser)(),en=Ke.filter(({photo_url:vt})=>Ne?!0:!!vt).slice(0,lt);return(0,o.h)(C.hs,{alignItems:"center"},!Xe&&en.length>0&&(0,o.h)(C.hs,{alignItems:"center",className:c()(ue.faces,ue[`size-${Et}`],ct)},en.map(({id:vt,name:Re,photo_url:He,className:ot,tooltipTitle:me,tooltipContent:ke,noLink:je},Je)=>{const tt=(0,T.getReaderProfileUrl)({id:vt,name:Re},{utm_source:ge});return je||!Se?(0,o.h)(W.e,{className:c()("facepile-face",ue.face,ue[`size-${Et}`],ot,Je===0&&ue.first,Je===en.length-1&&ue.last,Fe&&ue.elevated),maxWidth:Et*2,src:(0,T.imginary)(He||(0,T.getDefaultUserPhotoById)(vt),64)}):(0,o.h)(L.Ct,{disabled:!Qe||jt,key:vt,subject:{id:vt,name:Re,photo_url:He},utmSource:ge},(0,o.h)(ie.L,{disabled:!me&&!ke,title:me,content:ke,className:"inverse bottom"},(0,o.h)(C.hs,{as:"a",flex:"auto",href:tt,target:"_blank",rel:"noopener"},(0,o.h)(W.e,{className:c()("facepile-face",ue.face,ue[`size-${Et}`],ot,Je===0&&ue.first,Je===en.length-1&&ue.last,Fe&&ue.elevated),maxWidth:Et*2,src:(0,T.imginary)(He||(0,T.getDefaultUserPhotoById)(vt),64)}))))})),Xe&&(0,o.h)(ye,{maximum:lt,size:Et}))}function Oe({pub:Ke,post:Xe}){var ct;const Se=(0,T.imginary)(`${(0,T.getBaseUrl)(Ke)}/p/${Xe.slug}/authors.svg`,800,{format:"png",crop:"scale"}),{height:Qe,width:ge}=ne((ct=Xe==null?void 0:Xe.publishedBylines)==null?void 0:ct.length);return(0,o.h)("img",{src:Se,width:ge,height:Qe})}function ye({maximum:Ke,size:Xe}){return(0,o.h)(C.hs,{gap:12},new Array(Ke).fill(null).map(()=>(0,o.h)(N.Vm,{type:"circle",height:Xe,width:Xe})))}function ze({label:Ke,clickable:Xe,href:ct,onClick:Se}){return(0,o.h)(A.xv.B4,null,(0,o.h)(O.hh,{className:Xe?ue.pointer:"",weight:"medium",color:"pub-secondary-text",decoration:Xe?"hover-underline":"none",onClick:Se,href:ct},Ke))}function Be(Ke){var Xe=Ke,{isOpen:ct,onClose:Se}=Xe,Qe=de(Xe,["isOpen","onClose"]);return(0,o.h)(D.u_,{isOpen:!!ct,onClose:Se,width:500},(0,o.h)(We,fe({onClose:Se},Qe)))}function We({faces:Ke,modalLabel:Xe,onClose:ct,openLinksInNewTab:Se,totalCount:Qe,utmSource:ge}){const Fe=ge||"facepile",Ne=(ke,je,Je)=>_e(this,null,function*(){try{Je?(yield y().post("/api/v1/reader/signup/pub").send({email:He==null?void 0:He.email,publication_id:Je.id,visibility:"private",source:Fe}),ge!=null&&ge.match(/^(notes)|(feed)[-_]/)&&(0,p.j)(p.FP.FEED_ONE_CLICK_SUBSCRIBE,{publication_id:Je.id,source:Fe})):yield y().post(`/api/v1/presubscribe/${ke}`).send({source:Fe}),jt([...Et!=null?Et:[],ke]),Re(tt=>(0,o.h)(x.FN,Ee(fe({},tt),{text:`Subscribed to ${(Je==null?void 0:Je.name)||je||"user"}`,Icon:_.Z})))}catch(tt){Re(Ae=>(0,o.h)(x.FN,Ee(fe({},Ae),{text:(0,a.getNetworkErrorMessage)(tt),Icon:g.Z})))}}),lt=(ke,je,Je)=>_e(this,null,function*(){var tt;try{if(Je){if((yield y().get("/api/v1/subscription/publications?only_full=true")).body.some(H=>H.id===Je.id))return(0,a.redirect)((0,T.getPubAccountSettingsUrl)(Je,{addBase:!0}),{local_navigation:!1,newTab:Se});yield y().delete("/api/v1/free").send({publication_id:Je.id,source:Fe})}else yield y().delete(`/api/v1/presubscribe/${ke}`);jt((tt=Et==null?void 0:Et.filter(Ae=>Ae!==ke))!=null?tt:null),Re(Ae=>{var H;return(0,o.h)(x.FN,Ee(fe({},Ae),{text:`Unsubscribed from ${(H=Je==null?void 0:Je.name)!=null?H:je}.`,Icon:_.Z}))})}catch(Ae){const H=(Ae==null?void 0:Ae.status)===404?`Already unsubscribed to ${(Je==null?void 0:Je.name)||je||"this user"}`:"Something went wrong. Please try again";Re(Q=>(0,o.h)(x.FN,Ee(fe({},Q),{text:H,Icon:g.Z})))}}),{result:Et,setResult:jt,isLoading:en,error:vt}=(0,d.ib)({pathname:"/api/v1/subscription/users",query:{ids:JSON.stringify(Ke.map(ke=>ke.id))},auto:!0,initialResult:Ke.filter(ke=>ke.is_subscribed).map(ke=>ke.id)}),{popToast:Re}=(0,x.pm)(),He=(0,S.aF)();(0,f.d4)(()=>{He&&vt&&alert((0,a.getNetworkErrorMessage)(vt))},[vt,He]);const ot=(Qe||0)-Ke.length,me=(0,a.isMobileBrowser)();return(0,o.h)(o.Fragment,null,(0,o.h)(C.hs,{alignItems:"center",justifyContent:"space-between",paddingX:16,paddingY:12,borderBottom:"detail",flex:"grow"},(0,o.h)(A.xv.H2,null," ",Xe),ct&&(0,o.h)(P.hU,{onClick:ct},(0,o.h)(g.Z,{height:20}))),(0,o.h)(C.tu,{overflowY:"auto",className:ue.column},(0,o.h)(C.tu,{gap:4,padding:8,flex:"grow"},Ke.map(ke=>{const{id:je,name:Je,photo_url:tt,primary_publication:Ae,writes:H,className:Q,noLink:pe}=ke,we=(0,T.getReaderProfileUrl)({id:je,name:Je},{utm_source:ge}),Le=Et==null?void 0:Et.includes(je);return(0,o.h)(C.hs,{key:je,flex:"grow"},pe?(0,o.h)(C.hs,{gap:16,padding:8,radius:12,className:ue.row,alignItems:"center",flex:"grow"},(0,o.h)(I.BG,{user:ke,pub:Ae,size:40,className:Q}),(0,o.h)(C.tu,{minWidth:0,flex:"grow"},(0,o.h)(A.xv.B4,{decoration:"hover-underline",weight:"semibold",className:(ue.link,c()({"no-name":!(Je||"").trim().length}))},Je))):(0,o.h)(C.hs,fe({as:"a",flex:"grow",gap:16,padding:8,alignItems:"center",radius:12,className:ue.row,href:we},Se?{target:"_blank"}:{}),(0,o.h)(I.BG,{user:ke,pub:Ae,size:40,className:Q}),(0,o.h)(C.tu,{minWidth:0,flex:"grow"},(0,o.h)(L.Ct,{disabled:pe||me,subject:{id:je,name:Je,photo_url:tt},utmSource:ge,className:ue.link},(0,o.h)(A.xv.B4,{decoration:"hover-underline",weight:"semibold",className:(ue.link,c()({"no-name":!(Je||"").trim().length}))},Je)),H&&Ae&&(0,o.h)(F.Sm,{disabled:me,publication_id:Ae==null?void 0:Ae.id,className:ue.link},(0,o.h)(A.xv.B4,{color:"secondary",decoration:"hover-underline",className:c()(ue.link,{"no-name":!(Je||"").trim().length})},H))),He&&He.id!==je&&(0,o.h)(P.zx,{fill:"empty",disabled:en,priority:Le?"secondary":"primary",className:ue.button,onClick:Ye=>{Ye.preventDefault(),Le?lt(je,Je,Ae):Ne(je,Je,Ae)}},Le?"Subscribed":"Subscribe")))}),ot>0&&(0,o.h)(C.hs,{gap:16,alignItems:"center",padding:8},(0,o.h)(C.hs,{className:ue.avatarOther,alignItems:"center",justifyContent:"center"},(0,o.h)(E.Z,{className:ue.avatarOtherIcon,size:20})),(0,o.h)(A.xv.B4,{color:"secondary"},"+",(0,w.pluralize)(ot,"other reader"))))))}},45634:(z,l,e)=>{"use strict";e.d(l,{Z:()=>p});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(d,a,P)=>a in d?u(d,a,{enumerable:!0,configurable:!0,writable:!0,value:P}):d[a]=P,T=(d,a)=>{for(var P in a||(a={}))E.call(a,P)&&y(d,P,a[P]);if(g)for(var P of g(a))v.call(a,P)&&y(d,P,a[P]);return d},w=(d,a)=>c(d,_(a)),S=(d,a)=>{var P={};for(var C in d)E.call(d,C)&&a.indexOf(C)<0&&(P[C]=d[C]);if(d!=null&&g)for(var C of g(d))a.indexOf(C)<0&&v.call(d,C)&&(P[C]=d[C]);return P};const p=d=>{var a=d,{name:P,children:C}=a,D=S(a,["name","children"]);return(0,o.h)(f.l,w(T({},D),{name:P,svgParams:{viewBox:"0 0 24 24",height:24,width:24,stroke:"#1C110B"}}),C)}},47819:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(45634),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.Z,w(T({},p),{name:"ActivationUsersIcon"}),(0,o.h)("path",{d:"M17 21V19C17 16.7909 15.2091 15 13 15H5C2.79086 15 1 16.7909 1 19V21","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9 11C11.2091 11 13 9.20917 13 7.00003C13 4.79089 11.2091 3.00003 9 3.00003C6.79086 3.00003 5 4.79089 5 7.00003C5 9.20917 6.79086 11 9 11Z","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M23 21V19C22.9986 17.1772 21.765 15.5858 20 15.13","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M16 3.13004C17.7699 3.58321 19.0078 5.17803 19.0078 7.00504C19.0078 8.83204 17.7699 10.4269 16 10.88","stroke-width":"1.3","stroke-linecap":"round","stroke-linejoin":"round"}))},32127:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"AuthorBadgeIcon",svgParams:{height:15,width:12,viewBox:"0 0 12 15"}}),(0,o.h)("path",{d:"M3.50002 2.58453C3.33335 3.58454 2.50001 5.58455 1 7.08456L6 14.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("circle",{cx:"6.00019",cy:"8.58503",r:"1.00001","stroke-width":"1"}),(0,o.h)("path",{d:"M3 0.5V2.58469H9.00004V0.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M8.49998 2.58453C8.66665 3.58454 9.49999 5.58455 11 7.08456L6 14.5","stroke-width":"1","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M6.00012 9.58484L6.00012 14.5849","stroke-width":"1"}))},1782:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"BannedIcon",svgParams:{height:100,width:100},additionalStaticParams:{preserveAspectRatio:"none"}}),(0,o.h)("circle",{cx:"50",cy:"50",stroke:"#000000",r:100/2-4,strokeWidth:"8"}),(0,o.h)("line",{x1:"20",y1:"20",x2:"80",y2:"80",stroke:"#000000",strokeWidth:"8"}))},99758:(z,l,e)=>{"use strict";e.d(l,{Z:()=>p});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(d,a,P)=>a in d?u(d,a,{enumerable:!0,configurable:!0,writable:!0,value:P}):d[a]=P,T=(d,a)=>{for(var P in a||(a={}))E.call(a,P)&&y(d,P,a[P]);if(g)for(var P of g(a))v.call(a,P)&&y(d,P,a[P]);return d},w=(d,a)=>c(d,_(a)),S=(d,a)=>{var P={};for(var C in d)E.call(d,C)&&a.indexOf(C)<0&&(P[C]=d[C]);if(d!=null&&g)for(var C of g(d))a.indexOf(C)<0&&v.call(d,C)&&(P[C]=d[C]);return P};const p=d=>{var a=d,{fill:P="#1C110B"}=a,C=S(a,["fill"]);return(0,o.h)(f.l,w(T({},C),{name:"CaretDownIcon",svgParams:{height:6,width:10,fill:P}}),(0,o.h)("path",{d:"M4.61589 5.53907L0.68341 0.820092C0.412024 0.494429 0.643602 0 1.06752 0H8.93248C9.3564 0 9.58798 0.494428 9.31659 0.820091L5.38411 5.53907C5.18421 5.77894 4.81579 5.77894 4.61589 5.53907Z"}),");")}},1602:(z,l,e)=>{"use strict";e.d(l,{Z:()=>p});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(d,a,P)=>a in d?u(d,a,{enumerable:!0,configurable:!0,writable:!0,value:P}):d[a]=P,T=(d,a)=>{for(var P in a||(a={}))E.call(a,P)&&y(d,P,a[P]);if(g)for(var P of g(a))v.call(a,P)&&y(d,P,a[P]);return d},w=(d,a)=>c(d,_(a)),S=(d,a)=>{var P={};for(var C in d)E.call(d,C)&&a.indexOf(C)<0&&(P[C]=d[C]);if(d!=null&&g)for(var C of g(d))a.indexOf(C)<0&&v.call(d,C)&&(P[C]=d[C]);return P};const p=d=>{var a=d,{fill:P}=a,C=S(a,["fill"]);return(0,o.h)(f.l,w(T({},C),{name:"CheckboxCheckmarkIcon",svgParams:{viewBox:"0 0 16 13",height:16,width:13,fill:P||"white"}}),(0,o.h)("path",{d:"M5.71444 12.6276L0 6.9132L1.61147 5.30173L5.71444 9.39327L14.389 0.71875L16.0004 2.34165L5.71444 12.6276Z",stroke:P||"white"}))}},26059:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"CloseIcon",svgParams:{height:20,width:20,stroke:"#666666"}}),(0,o.h)("path",{d:"M15 5L5 15","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M5 5L15 15","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))},46595:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"DotDotDotIcon",svgParams:{height:100,width:100}}),(0,o.h)("circle",{cx:"23",cy:"50",r:"9"}),(0,o.h)("circle",{cx:"50",cy:"50",r:"9"}),(0,o.h)("circle",{cx:"77",cy:"50",r:"9"}))},22702:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"DotDotDotThinIcon",svgParams:{height:18,width:18}}),(0,o.h)("path",{d:"M1.12554 8.52747C1.41102 7.46201 2.48571 6.83933 3.51336 7.11468C4.541 7.39004 5.16037 8.46664 4.87488 9.5321C4.58939 10.5976 3.5147 11.2202 2.48706 10.9449C1.45941 10.6695 0.840049 9.59292 1.12554 8.52747Z"}),(0,o.h)("path",{d:"M7.12803 8.52747C7.41352 7.46201 8.48821 6.83933 9.51585 7.11468C10.5435 7.39004 11.1629 8.46664 10.8774 9.5321C10.5919 10.5976 9.51719 11.2202 8.48955 10.9449C7.46191 10.6695 6.84254 9.59292 7.12803 8.52747Z"}),(0,o.h)("path",{d:"M13.1266 8.52747C13.4121 7.46201 14.4867 6.83933 15.5144 7.11468C16.542 7.39004 17.1614 8.46664 16.8759 9.5321C16.5904 10.5976 15.5157 11.2202 14.4881 10.9449C13.4604 10.6695 12.8411 9.59292 13.1266 8.52747Z"}))},78041:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"FacebookIcon",svgParams:{height:24,width:24}}),(0,o.h)("path",{d:"M18 2H15C13.6739 2 12.4021 2.52678 11.4645 3.46447C10.5268 4.40215 10 5.67392 10 7V10H7V14H10V22H14V14H17L18 10H14V7C14 6.73478 14.1054 6.48043 14.2929 6.29289C14.4804 6.10536 14.7348 6 15 6H18V2Z"}))},71765:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"FacebookIconCircle",svgParams:{height:24,width:24}}),(0,o.h)("circle",{cx:"12",cy:"12",r:"11.75",fill:"white",stroke:"none"}),(0,o.h)("path",{d:"M12 0C5.37098 0 0 5.37089 0 11.9975C0 17.9844 4.38331 22.9414 10.1117 23.8491L10.1164 15.473H7.04998V12.0021H10.1164C10.1164 12.0021 10.1023 10.0269 10.1164 9.14743C10.1305 8.26797 10.3045 7.42142 10.7607 6.65008C11.4615 5.4555 12.5526 4.87237 13.893 4.70775C14.9935 4.57135 16.08 4.72183 17.1664 4.87237C17.2416 4.88176 17.2792 4.89115 17.3545 4.90529C17.3545 4.90529 17.3592 5.03225 17.3545 5.11222C17.3498 5.94933 17.3545 7.86819 17.3545 7.86819C16.8324 7.8588 15.9671 7.80706 15.3933 7.89641C14.4433 8.04221 13.8977 8.64891 13.8789 9.6036C13.8601 10.3467 13.8695 12.0021 13.8695 12.0021H17.2134L16.6726 15.473H13.8742V23.8491C19.612 22.9508 24 17.9844 24 11.9975C23.9953 5.37089 18.6243 0 11.9977 0Z",fill:"#1877f2",stroke:"none"}))},36377:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"FoundingBadgeIcon",svgParams:{height:14,width:14,viewBox:"0 0 14 14"}}),(0,o.h)("circle",{cx:"4.17266",cy:"5.83001",r:"3.48929","stroke-width":"1"}),(0,o.h)("path",{d:"M8.98932 9.48406C8.98932 11.4111 7.42711 12.9733 5.50003 12.9733C3.57295 12.9733 2.01075 11.4111 2.01075 9.48406C2.01075 7.55698 3.57295 5.99478 5.50003 5.99478C7.42711 5.99478 8.98932 7.55698 8.98932 9.48406Z","stroke-width":"1"}),(0,o.h)("path",{d:"M12.3286 9.48406C12.3286 11.4111 10.7664 12.9733 8.83935 12.9733C6.91227 12.9733 5.35006 11.4111 5.35006 9.48406C5.35006 7.55698 6.91227 5.99478 8.83935 5.99478C10.7664 5.99478 12.3286 7.55698 12.3286 9.48406Z","stroke-width":"1"}),(0,o.h)("circle",{cx:"7.15874",cy:"3.83929",r:"3.48929","stroke-width":"1"}),(0,o.h)("circle",{cx:"10.1449",cy:"5.83001",r:"3.48929","stroke-width":"1"}))},51889:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"HackerNewsIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 512 512"}}),(0,o.h)("rect",{width:"512",height:"512",fill:"#f60"}),(0,o.h)("path",{fill:"#fff",d:"M124 91h51l81 162 81-164h51L276 293v136h-40V293z"}))},54813:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"ImageIcon",svgParams:{height:52.13,width:63.67}}),(0,o.h)("path",{d:"M58.55,52.13H5.13A5.13,5.13,0,0,1,0,47V5.13A5.13,5.13,0,0,1,5.13,0H58.55a5.13,5.13,0,0,1,5.13,5.13V47A5.13,5.13,0,0,1,58.55,52.13ZM5.13,4A1.13,1.13,0,0,0,4,5.13V47a1.13,1.13,0,0,0,1.13,1.13H58.55A1.13,1.13,0,0,0,59.67,47V5.13A1.13,1.13,0,0,0,58.55,4Z"}),(0,o.h)("path",{d:"M12.08,43.46H51.59A1.69,1.69,0,0,0,53,40.77l-5.45-7.4A1.69,1.69,0,0,0,45,33.15l-5.6,5.33-13-17.65a1.69,1.69,0,0,0-2.78.08l-13,19.94A1.69,1.69,0,0,0,12.08,43.46Z"}),(0,o.h)("circle",{cx:"44.13",cy:"15.12",r:"5.93"}))},24491:(z,l,e)=>{"use strict";var o=e(6400);function f({className:c}){return h("svg",{className:c,width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("g",null,h("path",{style:{backdropFilter:"blur(5px)"},d:"M24 44C35.0457 44 44 35.0457 44 24C44 12.9543 35.0457 4 24 4C12.9543 4 4 12.9543 4 24C4 35.0457 12.9543 44 24 44Z",fill:"white","fill-opacity":"0.9"}),h("path",{opacity:"0.7",d:"M20 17.8685C20 17.0698 20.8901 16.5934 21.5547 17.0365L30.7519 23.168C31.3457 23.5638 31.3457 24.4362 30.7519 24.8321L21.5547 30.9635C20.8901 31.4066 20 30.9302 20 30.1315V17.8685Z",fill:"black",stroke:"black","stroke-linecap":"round","stroke-linejoin":"round"})))}var u=null},48963:(z,l,e)=>{"use strict";var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const S=p=>h(SvgIcon,w(T({},p),{name:"TwitterIcon",svgParams:{height:24,width:24}}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.99998 3.01998C4.80189 3.01998 3.01998 4.80189 3.01998 6.99998V17C3.01998 19.1981 4.80189 20.98 6.99998 20.98H17C19.1981 20.98 20.98 19.1981 20.98 17V6.99998C20.98 4.80189 19.1981 3.01998 17 3.01998H6.99998ZM0.97998 6.99998C0.97998 3.67523 3.67523 0.97998 6.99998 0.97998H17C20.3247 0.97998 23.02 3.67523 23.02 6.99998V17C23.02 20.3247 20.3247 23.02 17 23.02H6.99998C3.67523 23.02 0.97998 20.3247 0.97998 17V6.99998Z"}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.4982 8.89054C11.8532 8.7949 11.1944 8.90507 10.6157 9.20538C10.0369 9.50569 9.56756 9.98085 9.27441 10.5633C8.98126 11.1457 8.87922 11.8057 8.98281 12.4495C9.0864 13.0933 9.39034 13.688 9.85141 14.149C10.3125 14.6101 10.9072 14.9141 11.5509 15.0176C12.1947 15.1212 12.8547 15.0192 13.4372 14.726C14.0196 14.4329 14.4948 13.9635 14.7951 13.3848C15.0954 12.806 15.2056 12.1473 15.1099 11.5023C15.0123 10.8444 14.7058 10.2353 14.2355 9.76498C13.7652 9.29468 13.1561 8.9881 12.4982 8.89054ZM9.78664 7.60766C10.7015 7.13297 11.7427 6.95883 12.7622 7.11001C13.8021 7.26422 14.7649 7.74881 15.5083 8.49219C16.2516 9.23557 16.7362 10.1983 16.8904 11.2383C17.0416 12.2578 16.8675 13.299 16.3928 14.2138C15.9181 15.1286 15.167 15.8705 14.2464 16.3339C13.3258 16.7972 12.2825 16.9585 11.265 16.7948C10.2474 16.631 9.30739 16.1506 8.57861 15.4218C7.84984 14.6931 7.36941 13.753 7.20567 12.7355C7.04193 11.7179 7.20322 10.6746 7.66659 9.75402C8.12996 8.83341 8.87181 8.08235 9.78664 7.60766Z"}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.6 6.5001C16.6 6.00304 17.0029 5.6001 17.5 5.6001H17.51C18.007 5.6001 18.41 6.00304 18.41 6.5001C18.41 6.99715 18.007 7.4001 17.51 7.4001H17.5C17.0029 7.4001 16.6 6.99715 16.6 6.5001Z"}));var O=null},64484:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"LinkedInShareIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 72 72"}}),(0,o.h)("g",{fill:"none","fill-rule":"evenodd",stroke:"none"},(0,o.h)("path",{d:"M36,72 L36,72 C55.882251,72 72,55.882251 72,36 L72,36 C72,16.117749 55.882251,-3.65231026e-15 36,0 L36,0 C16.117749,3.65231026e-15 -2.4348735e-15,16.117749 0,36 L0,36 C2.4348735e-15,55.882251 16.117749,72 36,72 Z",fill:"#007EBB"}),(0,o.h)("path",{d:"M59,57 L49.959375,57 L49.959375,41.6017895 C49.959375,37.3800228 48.3552083,35.0207581 45.0136719,35.0207581 C41.3785156,35.0207581 39.4792969,37.4759395 39.4792969,41.6017895 L39.4792969,57 L30.7666667,57 L30.7666667,27.6666667 L39.4792969,27.6666667 L39.4792969,31.6178624 C39.4792969,31.6178624 42.0989583,26.7704897 48.3236979,26.7704897 C54.5455729,26.7704897 59,30.5699366 59,38.4279486 L59,57 Z M20.372526,23.8257036 C17.4048177,23.8257036 15,21.4020172 15,18.4128518 C15,15.4236864 17.4048177,13 20.372526,13 C23.3402344,13 25.7436198,15.4236864 25.7436198,18.4128518 C25.7436198,21.4020172 23.3402344,23.8257036 20.372526,23.8257036 Z M15.8736979,57 L24.958724,57 L24.958724,27.6666667 L15.8736979,27.6666667 L15.8736979,57 Z",fill:"#FFF",stroke:"none"})))},53668:(z,l,e)=>{"use strict";var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const S=p=>h(SvgIcon,w(T({},p),{name:"LinkedinIcon",svgParams:{height:24,width:24}}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.35951 21.3538V8.96983H2.24333V21.3538H6.35951V21.3538ZM4.3014 7.27902C5.7368 7.27902 6.63021 6.32807 6.63021 5.13966C6.60346 3.9245 5.7368 2.99994 4.32863 2.99994C2.92061 2.99994 2 3.9245 2 5.13966C2 6.32807 2.89322 7.27902 4.27457 7.27902H4.30132H4.3014Z"}),h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.63708 21.3538H12.7532V14.4381C12.7532 14.0679 12.78 13.6982 12.8887 13.4336C13.1862 12.6941 13.8635 11.9282 15.0006 11.9282C16.4901 11.9282 17.0859 13.0639 17.0859 14.7286V21.3538H21.2017V14.253C21.2017 10.4492 19.171 8.67924 16.4629 8.67924C14.2423 8.67924 13.2675 9.92041 12.7259 10.7658H12.7533V8.96983H8.6372C8.69121 10.1319 8.6372 21.3538 8.6372 21.3538H8.63708Z"}));var O=null},11851:(z,l,e)=>{"use strict";e.d(l,{Z:()=>p});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(d,a,P)=>a in d?u(d,a,{enumerable:!0,configurable:!0,writable:!0,value:P}):d[a]=P,T=(d,a)=>{for(var P in a||(a={}))E.call(a,P)&&y(d,P,a[P]);if(g)for(var P of g(a))v.call(a,P)&&y(d,P,a[P]);return d},w=(d,a)=>c(d,_(a)),S=(d,a)=>{var P={};for(var C in d)E.call(d,C)&&a.indexOf(C)<0&&(P[C]=d[C]);if(d!=null&&g)for(var C of g(d))a.indexOf(C)<0&&v.call(d,C)&&(P[C]=d[C]);return P};const p=d=>{var a=d,{color:P="#262626"}=a,C=S(a,["color"]);return(0,o.h)(f.l,w(T({},C),{name:"LockThinIcon",svgParams:{height:16,width:16}}),(0,o.h)("path",{className:"lock-shackle",d:"M5 6L5 3.9C5 2.57452 6.11929 1.5 7.5 1.5C8.88071 1.5 10 2.57452 10 3.9V6",stroke:P}),(0,o.h)("path",{className:"lock-body",d:"M2 7.5C2 6.94772 2.44772 6.5 3 6.5H12C12.5523 6.5 13 6.94772 13 7.5V12.5C13 13.0523 12.5523 13.5 12 13.5H3C2.44771 13.5 2 13.0523 2 12.5V7.5Z",fill:P,stroke:P}))}},15440:(z,l,e)=>{"use strict";e.d(l,{Z:()=>p});var o=e(6400),f=e(13808),u=e(34755),c=Object.defineProperty,_=Object.defineProperties,g=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,T=(d,a,P)=>a in d?c(d,a,{enumerable:!0,configurable:!0,writable:!0,value:P}):d[a]=P,w=(d,a)=>{for(var P in a||(a={}))v.call(a,P)&&T(d,P,a[P]);if(E)for(var P of E(a))y.call(a,P)&&T(d,P,a[P]);return d},S=(d,a)=>_(d,g(a));function O(d){return(0,o.h)(u.l,S(w({},d),{name:"LucideBookmark",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,o.h)(f.Z,{height:24,stroke:d.stroke,fill:d.fill,strokeWidth:d.strokeWidth}))}const p=O},63295:(z,l,e)=>{"use strict";e.d(l,{Z:()=>p});var o=e(6400),f=e(7617),u=e(34755),c=Object.defineProperty,_=Object.defineProperties,g=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,T=(d,a,P)=>a in d?c(d,a,{enumerable:!0,configurable:!0,writable:!0,value:P}):d[a]=P,w=(d,a)=>{for(var P in a||(a={}))v.call(a,P)&&T(d,P,a[P]);if(E)for(var P of E(a))y.call(a,P)&&T(d,P,a[P]);return d},S=(d,a)=>_(d,g(a));const p=d=>(0,o.h)(u.l,S(w({},d),{name:"LucideComments",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,o.h)(f.Z,{height:24,stroke:d.stroke,fill:d.fill,strokeWidth:d.strokeWidth}))},12650:(z,l,e)=>{"use strict";e.d(l,{Z:()=>p});var o=e(6400),f=e(8618),u=e(34755),c=Object.defineProperty,_=Object.defineProperties,g=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,T=(d,a,P)=>a in d?c(d,a,{enumerable:!0,configurable:!0,writable:!0,value:P}):d[a]=P,w=(d,a)=>{for(var P in a||(a={}))v.call(a,P)&&T(d,P,a[P]);if(E)for(var P of E(a))y.call(a,P)&&T(d,P,a[P]);return d},S=(d,a)=>_(d,g(a));const p=d=>(0,o.h)(u.l,S(w({},d),{name:"LucideHeart",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,o.h)(f.Z,{height:24,stroke:d.stroke,fill:d.fill,strokeWidth:d.strokeWidth}))},19698:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"LucideMute",svgParams:{height:24,width:24,stroke:p.stroke,strokeWidth:p.strokeWidth}}),(0,o.h)("path",{d:"M9.71429 7.71429H6C5.44772 7.71429 5 8.162 5 8.71429V15.2857C5 15.838 5.44772 16.2857 6 16.2857H10.43C10.6552 16.2857 10.8739 16.3617 11.0505 16.5015L16.3795 20.7179C17.0351 21.2366 18 20.7696 18 19.9336V16M18 10V4.06636C18 3.23036 17.0351 2.76341 16.3795 3.28214L14.03 5.14107L13.4427 5.6058M3 1L23 21","stroke-linecap":"round","stroke-linejoin":"round"}))},43498:(z,l,e)=>{"use strict";e.d(l,{Z:()=>p});var o=e(6400),f=e(4675),u=e(34755),c=Object.defineProperty,_=Object.defineProperties,g=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,T=(d,a,P)=>a in d?c(d,a,{enumerable:!0,configurable:!0,writable:!0,value:P}):d[a]=P,w=(d,a)=>{for(var P in a||(a={}))v.call(a,P)&&T(d,P,a[P]);if(E)for(var P of E(a))y.call(a,P)&&T(d,P,a[P]);return d},S=(d,a)=>_(d,g(a));const p=d=>(0,o.h)(u.l,S(w({},d),{name:"LucideArrowLeftRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,o.h)(f.Z,{height:24,stroke:d.stroke,fill:d.fill,strokeWidth:d.strokeWidth}))},11628:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"LucideShare",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,o.h)("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M12.4376 15.6C4.77778 15.6 2 20.3999 2 20.3999C2 12.5999 5.88889 8.4 12.4376 8.4V3L22 11.9812L12.4376 21V15.6Z","stroke-width":p.strokeWidth,fill:p.fill,className:"lucide","stroke-linecap":"round","stroke-linejoin":"round"})))},73416:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"LucideTabNotesFilled",svgParams:{height:24,width:24}}),(0,o.h)("path",{d:"M6.785 1.92766C5.45134 1.57031 4.08049 2.36176 3.72314 3.69543L0.444815 15.9303C0.0874636 17.264 0.878901 18.6348 2.21255 18.9922L5.37495 19.8396V7.66664C5.37495 6.40099 6.40096 5.37498 7.66661 5.37498H19.4723C19.3299 5.30548 19.1788 5.24858 19.0201 5.20604L6.785 1.92766Z",fill:p.fill,stroke:"none"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M8.44161 7.4C7.86632 7.4 7.39995 7.86637 7.39995 8.44167V22.1081C7.39995 22.6834 7.86631 23.1498 8.4416 23.1498L22.1083 23.15C22.6836 23.15 23.1499 22.6836 23.1499 22.1083V8.44167C23.1499 7.86637 22.6836 7.4 22.1083 7.4H8.44161ZM10.3999 9.65C9.84766 9.65 9.39995 10.0977 9.39995 10.65C9.39995 11.2023 9.84766 11.65 10.3999 11.65H18.3999C18.9522 11.65 19.3999 11.2023 19.3999 10.65C19.3999 10.0977 18.9522 9.65 18.3999 9.65H10.3999ZM10.3999 14.15C9.84766 14.15 9.39995 14.5977 9.39995 15.15C9.39995 15.7023 9.84766 16.15 10.3999 16.15H15.3999C15.9522 16.15 16.3999 15.7023 16.3999 15.15C16.3999 14.5977 15.9522 14.15 15.3999 14.15H10.3999Z",fill:p.fill,stroke:"none"}))},31517:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"NoteForwardIcon",svgParams:{height:24,width:24,stroke:p.stroke,strokeWidth:p.strokeWidth}}),(0,o.h)("path",{d:"M21 3V8M21 8H16M21 8L18 5.29962C16.7056 4.14183 15.1038 3.38328 13.3879 3.11547C11.6719 2.84766 9.9152 3.08203 8.32951 3.79031C6.74382 4.49858 5.39691 5.65051 4.45125 7.10715C3.5056 8.5638 3.00158 10.2629 3 11.9996M3 21V16M3 16H8M3 16L6 18.7C7.29445 19.8578 8.89623 20.6163 10.6121 20.8841C12.3281 21.152 14.0848 20.9176 15.6705 20.2093C17.2562 19.501 18.6031 18.3491 19.5487 16.8925C20.4944 15.4358 20.9984 13.7367 21 12","stroke-linecap":"round","stroke-linejoin":"round"}))},1706:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"NoteForwardQuoteIcon",svgParams:{height:24,width:24,stroke:p.stroke,strokeWidth:p.strokeWidth}}),(0,o.h)("path",{d:"M13.4147 2.09993C10.4072 1.67249 7.2423 2.61548 4.92891 4.92887C1.02366 8.83411 1.02366 15.1658 4.92891 19.071C8.83415 22.9762 15.1658 22.9762 19.071 19.071C21.3844 16.7576 22.3274 13.5927 21.9 10.5852M18.5 2.62126C18.8978 2.22343 19.4374 1.99994 20 1.99994C20.5626 1.99994 21.1021 2.22343 21.5 2.62126C21.8978 3.01908 22.1213 3.55865 22.1213 4.12126C22.1213 4.68387 21.8978 5.22343 21.5 5.62126L13 14.1213L8.99998 15.1213L9.99998 11.1213L18.5 2.62126Z","stroke-linecap":"round","stroke-linejoin":"round"}))},26240:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"NoteReplyIcon",svgParams:{height:24,width:24,stroke:p.stroke,strokeWidth:p.strokeWidth}}),(0,o.h)("path",{d:"M22 11.4445C22.0038 12.911 21.6612 14.3577 21 15.6667C20.216 17.2353 19.0108 18.5546 17.5194 19.477C16.0279 20.3993 14.3091 20.8882 12.5555 20.8889C11.089 20.8927 9.64234 20.5501 8.33332 19.8889L2 22L4.11111 15.6667C3.44992 14.3577 3.10729 12.911 3.11111 11.4445C3.11179 9.69086 3.60068 7.97208 4.52302 6.48064C5.44536 4.98919 6.76472 3.78399 8.33332 3.00003C9.64234 2.33884 11.089 1.99621 12.5555 2.00003H13.1111C15.427 2.1278 17.6145 3.10532 19.2546 4.74543C20.8947 6.38553 21.8722 8.57297 22 10.8889V11.4445Z","stroke-linecap":"round","stroke-linejoin":"round"}))},29820:(z,l,e)=>{"use strict";e.d(l,{Z:()=>v});var o=e(6400),f=Object.defineProperty,u=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(y,T,w)=>T in y?f(y,T,{enumerable:!0,configurable:!0,writable:!0,value:w}):y[T]=w,E=(y,T)=>{for(var w in T||(T={}))c.call(T,w)&&g(y,w,T[w]);if(u)for(var w of u(T))_.call(T,w)&&g(y,w,T[w]);return y};function v(y){return(0,o.h)("svg",E({width:"22",height:"24",viewBox:"0 0 20 20",overflow:"visible",fill:"none",stroke:"var(--color-secondary)"},y),(0,o.h)("g",{transform:"translate(0, -2)"},(0,o.h)("path",{d:"M16.6667 16.0265C16.0821 17.2172 15.1835 18.2187 14.0715 18.9188C12.9594 19.6189 11.6779 19.9901 10.3704 19.9906C9.27691 19.9935 8.19824 19.7334 7.22222 19.2315L2.5 20.834L4.07407 16.0265C3.58108 15.0329 3.32561 13.9347 3.32846 12.8215C3.32897 11.4904 3.69349 10.1857 4.3812 9.05361C5.06891 7.92149 6.05265 7.00665 7.22222 6.41156C7.72153 6.15481 8.2477 5.96134 8.78897 5.83398","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M19.4444 6.11133H13.8893C13.2757 6.11133 12.7782 6.60879 12.7782 7.22244V11.1113C12.7782 11.725 13.2757 12.2224 13.8893 12.2224H19.4444C20.0581 12.2224 20.5555 11.725 20.5555 11.1113V7.22244C20.5555 6.60879 20.0581 6.11133 19.4444 6.11133Z"}),(0,o.h)("path",{d:"M13.8893 6.11133H19.4444M13.8893 6.11133C13.2757 6.11133 12.7782 6.60879 12.7782 7.22244V11.1113C12.7782 11.725 13.2757 12.2224 13.8893 12.2224H19.4444C20.0581 12.2224 20.5555 11.725 20.5555 11.1113V7.22244C20.5555 6.60879 20.0581 6.11133 19.4444 6.11133M13.8893 6.11133L13.8889 3.88911C13.8889 3.15239 14.1815 2.44586 14.7025 1.92492C15.2234 1.40399 15.9299 1.11133 16.6667 1.11133C17.4034 1.11133 18.1099 1.40399 18.6308 1.92492C19.1518 2.44586 19.4444 3.15239 19.4444 3.88911V6.11133","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})))}},11762:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"PinIconSmall",svgParams:{height:16,width:14}}),(0,o.h)("path",{d:"M7 1.00006L10 1.00006C10.5523 1.00006 11.0846 1.47946 10.8452 1.97714C10.6681 2.3451 10.2927 2.75194 9.5 3.17301L10 7.51891C10.7819 7.7681 11.949 8.31222 12.9204 9.21856C13.4827 9.74324 13.0402 10.561 12.2711 10.561H7"}),(0,o.h)("path",{d:"M7 1.00006L4 1.00006C3.44772 1.00006 2.91538 1.47946 3.15482 1.97714C3.33185 2.3451 3.70727 2.75194 4.5 3.17301L4 7.51891C3.2181 7.7681 2.05103 8.31222 1.07961 9.21856C0.517263 9.74324 0.959808 10.561 1.72891 10.561H7"}),(0,o.h)("path",{d:"M7 10.561L7 15","stroke-linecap":"round","stroke-linejoin":"round"}))},21302:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"PinterestIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 144 144"}}),(0,o.h)("g",null,(0,o.h)("g",null,(0,o.h)("path",{"shape-rendering":"geometricPrecision",fill:"#BD081C",style:{stroke:"none"},d:`M71.9,5.4C35.1,5.4,5.3,35.2,5.3,72c0,28.2,17.5,52.3,42.3,62c-0.6-5.3-1.1-13.3,0.2-19.1
			c1.2-5.2,7.8-33.1,7.8-33.1s-2-4-2-9.9c0-9.3,5.4-16.2,12-16.2c5.7,0,8.4,4.3,8.4,9.4c0,5.7-3.6,14.3-5.5,22.2
			c-1.6,6.6,3.3,12,9.9,12c11.8,0,20.9-12.5,20.9-30.5c0-15.9-11.5-27.1-27.8-27.1c-18.9,0-30.1,14.2-30.1,28.9
			c0,5.7,2.2,11.9,5,15.2c0.5,0.7,0.6,1.2,0.5,1.9c-0.5,2.1-1.6,6.6-1.8,7.5c-0.3,1.2-1,1.5-2.2,0.9c-8.3-3.9-13.5-16-13.5-25.8
			c0-21,15.3-40.3,44-40.3c23.1,0,41,16.5,41,38.4c0,22.9-14.5,41.4-34.5,41.4c-6.7,0-13.1-3.5-15.3-7.6c0,0-3.3,12.7-4.1,15.8
			c-1.5,5.8-5.6,13-8.3,17.5c6.2,1.9,12.8,3,19.7,3c36.8,0,66.6-29.8,66.6-66.6C138.5,35.2,108.7,5.4,71.9,5.4z`}))))},40353:(z,l,e)=>{"use strict";e.d(l,{Z:()=>d});var o=e(6400),f=e(83322),u=e(34755),c=Object.defineProperty,_=Object.defineProperties,g=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,T=(a,P,C)=>P in a?c(a,P,{enumerable:!0,configurable:!0,writable:!0,value:C}):a[P]=C,w=(a,P)=>{for(var C in P||(P={}))v.call(P,C)&&T(a,C,P[C]);if(E)for(var C of E(P))y.call(P,C)&&T(a,C,P[C]);return a},S=(a,P)=>_(a,g(P)),O=(a,P)=>{var C={};for(var D in a)v.call(a,D)&&P.indexOf(D)<0&&(C[D]=a[D]);if(a!=null&&E)for(var D of E(a))P.indexOf(D)<0&&y.call(a,D)&&(C[D]=a[D]);return C};function p(a){var P=a,{fill:C="#FF6719"}=P,D=O(P,["fill"]);const A=(0,f.colorLuma)(C)>.6?"black":"white";return(0,o.h)(u.l,S(w({},D),{name:"ChatAuthorBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"}),(0,o.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:C,stroke:"none"}),(0,o.h)("path",{d:"M9.84352 8.31607L9.64777 7.35366C9.59747 7.10633 9.78649 6.875 10.0389 6.875H15.8759C16.1745 6.875 16.3982 7.14873 16.3387 7.44138L16.1727 8.2575C16.1279 8.47753 15.9344 8.63563 15.7099 8.63563H10.2346C10.0449 8.63563 9.88134 8.50202 9.84352 8.31607Z",fill:A,stroke:"none"}),(0,o.h)("path",{d:"M8.72625 13.1254C9.81068 11.9596 10.4671 10.5266 10.6954 9.63411C10.7386 9.46553 10.8862 9.33993 11.0602 9.33993H14.9445C15.1185 9.33993 15.2661 9.46553 15.3092 9.63411C15.5376 10.5266 16.194 11.9596 17.2784 13.1254C17.3975 13.2535 17.4147 13.4481 17.3129 13.5903L13.3526 19.1241V14.2238C13.9461 14.0661 14.3842 13.5156 14.3842 12.8607C14.3842 12.0828 13.7661 11.4522 13.0035 11.4522C12.241 11.4522 11.6228 12.0828 11.6228 12.8607C11.6228 13.5149 12.06 14.0649 12.6526 14.2233L12.6526 19.125L8.6917 13.5903C8.58991 13.4481 8.60713 13.2535 8.72625 13.1254Z",fill:A,stroke:"none"}),(0,o.h)("path",{d:"M12.4845 12.8611C12.4845 12.5694 12.7163 12.3329 13.0022 12.3329C13.2882 12.3329 13.52 12.5694 13.52 12.8611C13.52 13.1528 13.2882 13.3893 13.0022 13.3893C12.7163 13.3893 12.4845 13.1528 12.4845 12.8611Z",fill:A,stroke:"none"}))}const d=p},64234:(z,l,e)=>{"use strict";e.d(l,{A:()=>c});var o=e(6400);const f="#FF6719";var u=e(34755);function c({className:g,type:E,accentColor:v}){return(0,o.h)(u.l,{name:"ReaderBadgeIcon",className:g,svgParams:{width:22,height:22,viewBox:"0 0 22 22"},fill:"none",stroke:"none",strokeWidth:1},(0,o.h)("circle",{cx:"11",cy:"11",r:"11",fill:"var(--color-bg-primary)"}),(0,o.h)("circle",{cx:"11",cy:"11",r:"9",fill:v||f}),E==="subscribed"?(0,o.h)(o.Fragment,null,(0,o.h)("ellipse",{rx:"2.72196",ry:"2.68806",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 12.926 12.9255)",stroke:"white"}),(0,o.h)("ellipse",{rx:"2.72196",ry:"2.68806",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 9.07543 9.07503)",stroke:"white"}),(0,o.h)("ellipse",{rx:"2.68806",ry:"2.72196",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 9.05152 12.9494)",stroke:"white"}),(0,o.h)("ellipse",{rx:"2.68806",ry:"2.72196",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 12.95 9.05009)",stroke:"white"})):(0,o.h)(o.Fragment,null,(0,o.h)("path",{d:"M11.9018 10.3229C11.9018 12.2029 10.3777 13.7269 8.49775 13.7269C6.61777 13.7269 5.09375 12.2029 5.09375 10.3229C5.09375 8.44296 6.61777 6.91894 8.49775 6.91894C10.3777 6.91894 11.9018 8.44296 11.9018 10.3229Z",stroke:"white"}),(0,o.h)("path",{d:"M12.8178 13.4959C12.8178 15.3759 11.2938 16.8999 9.41377 16.8999C7.5338 16.8999 6.00977 15.3759 6.00977 13.4959C6.00977 11.6159 7.5338 10.0919 9.41377 10.0919C11.2938 10.0919 12.8178 11.6159 12.8178 13.4959Z",stroke:"white"}),(0,o.h)("path",{d:"M15.9564 13.503C15.9564 15.383 14.4324 16.907 12.5524 16.907C10.6725 16.907 9.14844 15.383 9.14844 13.503C9.14844 11.623 10.6725 10.099 12.5524 10.099C14.4324 10.099 15.9564 11.623 15.9564 13.503Z",stroke:"white"}),(0,o.h)("path",{d:"M14.4047 8.49824C14.4047 10.3782 12.8807 11.9022 11.0007 11.9022C9.1207 11.9022 7.59668 10.3782 7.59668 8.49824C7.59668 6.61826 9.1207 5.09424 11.0007 5.09424C12.8807 5.09424 14.4047 6.61826 14.4047 8.49824Z",stroke:"white"}),(0,o.h)("path",{d:"M16.9066 10.3229C16.9066 12.2029 15.3826 13.7269 13.5026 13.7269C11.6227 13.7269 10.0986 12.2029 10.0986 10.3229C10.0986 8.44296 11.6227 6.91894 13.5026 6.91894C15.3826 6.91894 16.9066 8.44296 16.9066 10.3229Z",stroke:"white"})))}const _=null},7370:(z,l,e)=>{"use strict";e.d(l,{Z:()=>w});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(S,O,p)=>O in S?u(S,O,{enumerable:!0,configurable:!0,writable:!0,value:p}):S[O]=p,v=(S,O)=>{for(var p in O||(O={}))_.call(O,p)&&E(S,p,O[p]);if(c)for(var p of c(O))g.call(O,p)&&E(S,p,O[p]);return S},y=(S,O)=>{var p={};for(var d in S)_.call(S,d)&&O.indexOf(d)<0&&(p[d]=S[d]);if(S!=null&&c)for(var d of c(S))O.indexOf(d)<0&&g.call(S,d)&&(p[d]=S[d]);return p};function T(S){var O=y(S,[]);return(0,o.h)(f.l,v({name:"ReaderFoundingSubscriberBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"},O),(0,o.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:"#DDDDDD",stroke:"none"}),(0,o.h)("path",{d:"M14.0019 12.2471C14.0019 14.3359 12.3086 16.0293 10.2197 16.0293C8.13086 16.0293 6.4375 14.3359 6.4375 12.2471C6.4375 10.1582 8.13086 8.46484 10.2197 8.46484C12.3086 8.46484 14.0019 10.1582 14.0019 12.2471Z",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("path",{d:"M15.0215 15.7744C15.0215 17.8633 13.3281 19.5566 11.2393 19.5566C9.1504 19.5566 7.45704 17.8633 7.45704 15.7744C7.45704 13.6855 9.1504 11.9922 11.2393 11.9922C13.3281 11.9922 15.0215 13.6855 15.0215 15.7744Z",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("path",{d:"M18.5059 15.7822C18.5059 17.8711 16.8125 19.5644 14.7236 19.5644C12.6348 19.5644 10.9414 17.8711 10.9414 15.7822C10.9414 13.6934 12.6348 12 14.7236 12C16.8125 12 18.5059 13.6934 18.5059 15.7822Z",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("path",{d:"M16.7832 10.2197C16.7832 12.3086 15.0898 14.0019 13.001 14.0019C10.9121 14.0019 9.21875 12.3086 9.21875 10.2197C9.21875 8.13086 10.9121 6.4375 13.001 6.4375C15.0898 6.4375 16.7832 8.13086 16.7832 10.2197Z",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("path",{d:"M19.5645 12.2471C19.5645 14.3359 17.8711 16.0293 15.7822 16.0293C13.6934 16.0293 12 14.3359 12 12.2471C12 10.1582 13.6934 8.46484 15.7822 8.46484C17.8711 8.46484 19.5645 10.1582 19.5645 12.2471Z",stroke:"#333333","stroke-width":"1.25"}))}const w=T},85362:(z,l,e)=>{"use strict";e.d(l,{Z:()=>w});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(S,O,p)=>O in S?u(S,O,{enumerable:!0,configurable:!0,writable:!0,value:p}):S[O]=p,v=(S,O)=>{for(var p in O||(O={}))_.call(O,p)&&E(S,p,O[p]);if(c)for(var p of c(O))g.call(O,p)&&E(S,p,O[p]);return S},y=(S,O)=>{var p={};for(var d in S)_.call(S,d)&&O.indexOf(d)<0&&(p[d]=S[d]);if(S!=null&&c)for(var d of c(S))O.indexOf(d)<0&&g.call(S,d)&&(p[d]=S[d]);return p};function T(S){var O=y(S,[]);return(0,o.h)(f.l,v({name:"ReaderPaidSubscriberBadgeIcon",svgParams:{height:26,width:26,viewBox:"1.5 1.5 23 23",fill:"none"},fill:"none"},O),(0,o.h)("rect",{x:"1.5",y:"1.5",width:"23",height:"23",rx:"11.5",fill:"#DDDDDD",stroke:"none"}),(0,o.h)("g",{"clip-path":"url(#clip0_24306_47333)"},(0,o.h)("ellipse",{cx:"3.0244",cy:"2.98674",rx:"3.0244",ry:"2.98674",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 10.8867 15.1641)",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("ellipse",{cx:"3.0244",cy:"2.98674",rx:"3.0244",ry:"2.98674",transform:"matrix(0.707101 -0.707113 0.707101 0.707113 6.60938 10.8867)",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("ellipse",{cx:"2.98674",cy:"3.0244",rx:"2.98674",ry:"3.0244",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 15.082 15.1367)",stroke:"#333333","stroke-width":"1.25"}),(0,o.h)("ellipse",{cx:"2.98674",cy:"3.0244",rx:"2.98674",ry:"3.0244",transform:"matrix(-0.707101 -0.707113 -0.707101 0.707113 19.4141 10.8047)",stroke:"#333333","stroke-width":"1.25"})),(0,o.h)("defs",null,(0,o.h)("clipPath",{id:"clip0_24306_47333"},(0,o.h)("rect",{width:"14",height:"14",fill:"white",transform:"translate(6 6)",stroke:"none"}))))}const w=T},65665:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"RedditIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 256 256"}}),(0,o.h)("g",{style:"stroke: none; stroke-width: 0; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: none; fill-rule: nonzero; opacity: 1;",transform:"translate(1.4065934065934016 1.4065934065934016) scale(2.81 2.81)"},(0,o.h)("circle",{cx:"45",cy:"45",r:"45",style:"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,69,0); fill-rule: nonzero; opacity: 1;",transform:"  matrix(1 0 0 1 0 0) "}),(0,o.h)("path",{d:"M 75.011 45 c -0.134 -3.624 -3.177 -6.454 -6.812 -6.331 c -1.611 0.056 -3.143 0.716 -4.306 1.823 c -5.123 -3.49 -11.141 -5.403 -17.327 -5.537 l 2.919 -14.038 l 9.631 2.025 c 0.268 2.472 2.483 4.262 4.955 3.993 c 2.472 -0.268 4.262 -2.483 3.993 -4.955 s -2.483 -4.262 -4.955 -3.993 c -1.421 0.145 -2.696 0.973 -3.4 2.204 L 48.68 17.987 c -0.749 -0.168 -1.499 0.302 -1.667 1.063 c 0 0.011 0 0.011 0 0.022 l -3.322 15.615 c -6.264 0.101 -12.36 2.025 -17.55 5.537 c -2.64 -2.483 -6.801 -2.36 -9.284 0.291 c -2.483 2.64 -2.36 6.801 0.291 9.284 c 0.515 0.481 1.107 0.895 1.767 1.186 c -0.045 0.66 -0.045 1.32 0 1.98 c 0 10.078 11.745 18.277 26.23 18.277 c 14.485 0 26.23 -8.188 26.23 -18.277 c 0.045 -0.66 0.045 -1.32 0 -1.98 C 73.635 49.855 75.056 47.528 75.011 45 z M 30.011 49.508 c 0 -2.483 2.025 -4.508 4.508 -4.508 c 2.483 0 4.508 2.025 4.508 4.508 s -2.025 4.508 -4.508 4.508 C 32.025 53.993 30.011 51.991 30.011 49.508 z M 56.152 62.058 v -0.179 c -3.199 2.405 -7.114 3.635 -11.119 3.468 c -4.005 0.168 -7.919 -1.063 -11.119 -3.468 c -0.425 -0.515 -0.347 -1.286 0.168 -1.711 c 0.447 -0.369 1.085 -0.369 1.544 0 c 2.707 1.98 6.007 2.987 9.362 2.83 c 3.356 0.179 6.667 -0.783 9.407 -2.74 c 0.492 -0.481 1.297 -0.47 1.779 0.022 C 56.655 60.772 56.644 61.577 56.152 62.058 z M 55.537 54.34 c -0.078 0 -0.145 0 -0.224 0 l 0.034 -0.168 c -2.483 0 -4.508 -2.025 -4.508 -4.508 s 2.025 -4.508 4.508 -4.508 s 4.508 2.025 4.508 4.508 C 59.955 52.148 58.02 54.239 55.537 54.34 z",style:"stroke: none; stroke-width: 1; stroke-dasharray: none; stroke-linecap: butt; stroke-linejoin: miter; stroke-miterlimit: 10; fill: rgb(255,255,255); fill-rule: nonzero; opacity: 1;",transform:" matrix(1 0 0 1 0 0) ","stroke-linecap":"round"})))},26523:(z,l,e)=>{"use strict";var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(w,S,O)=>S in w?u(w,S,{enumerable:!0,configurable:!0,writable:!0,value:O}):w[S]=O,v=(w,S)=>{for(var O in S||(S={}))_.call(S,O)&&E(w,O,S[O]);if(c)for(var O of c(S))g.call(S,O)&&E(w,O,S[O]);return w};const y=w=>h(SvgIcon,v({name:"RoundedInformationIcon",svgParams:{viewBox:"0 0 21 21",height:20,width:20,stroke:"white"}},w),h("path",{d:"M10.4998 18.3337C15.1022 18.3337 18.8332 14.6027 18.8332 10.0003C18.8332 5.39795 15.1022 1.66699 10.4998 1.66699C5.89746 1.66699 2.1665 5.39795 2.1665 10.0003C2.1665 14.6027 5.89746 18.3337 10.4998 18.3337Z","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M10.5 13.3333V10","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}),h("path",{d:"M10.5 6.66699H10.5092","stroke-width":"1.66667","stroke-linecap":"round","stroke-linejoin":"round"}));var T=null},7775:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"ShareCopyLinkIcon",svgParams:{height:16,width:20}}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12.1303 0.000379039C10.9833 -0.00959082 9.87819 0.431464 9.05309 1.22855L9.04556 1.23593L7.79145 2.48303C7.50587 2.767 7.50453 3.22877 7.78844 3.51441C8.07235 3.80004 8.53401 3.80139 8.81959 3.51741L10.0698 2.27423C10.6194 1.74503 11.3546 1.45229 12.1177 1.45892C12.8824 1.46556 13.6139 1.77236 14.1546 2.31323C14.6954 2.8541 15.0021 3.58577 15.0087 4.35065C15.0154 5.11353 14.7229 5.84857 14.1943 6.39829L12.0116 8.58145L12.0115 8.58155C11.7159 8.87739 11.36 9.10617 10.9682 9.25237C10.5764 9.39857 10.1577 9.45878 9.74051 9.42889C9.32337 9.39901 8.91752 9.27975 8.55051 9.07918C8.1835 8.87862 7.8639 8.60146 7.6134 8.26649C7.3722 7.94396 6.91526 7.87807 6.5928 8.11933C6.27034 8.36059 6.20447 8.81763 6.44567 9.14016C6.82142 9.64261 7.30082 10.0584 7.85134 10.3592C8.40186 10.66 9.01062 10.8389 9.63634 10.8838C10.2621 10.9286 10.8901 10.8383 11.4779 10.619C12.0656 10.3997 12.5994 10.0565 13.0429 9.61274L15.2302 7.42494L15.2391 7.4159C16.036 6.59062 16.4769 5.48529 16.467 4.33797C16.457 3.19066 15.9969 2.09316 15.1858 1.28185C14.3746 0.470545 13.2774 0.0103489 12.1303 0.000379039ZM7.29806 5.11625C6.67234 5.07142 6.0443 5.16173 5.45654 5.38103C4.86882 5.60031 4.33502 5.94355 3.89153 6.38727L1.70423 8.57506L1.69534 8.5841C0.898438 9.40939 0.457483 10.5147 0.467451 11.662C0.477418 12.8094 0.937512 13.9069 1.74864 14.7182C2.55976 15.5295 3.65701 15.9897 4.80407 15.9996C5.95113 16.0096 7.05622 15.5685 7.88132 14.7715L7.89035 14.7626L9.13717 13.5155C9.42192 13.2307 9.42192 12.7689 9.13717 12.4841C8.85243 12.1993 8.39077 12.1993 8.10602 12.4841L6.86392 13.7265C6.31432 14.2552 5.57945 14.5477 4.81675 14.5411C4.05204 14.5344 3.32054 14.2276 2.77979 13.6868C2.23904 13.1459 1.93231 12.4142 1.92566 11.6494C1.91904 10.8865 2.21146 10.1514 2.74011 9.60172L4.92287 7.41846C5.21854 7.12262 5.57437 6.89384 5.96621 6.74763C6.35805 6.60143 6.77674 6.54123 7.19389 6.57111C7.61104 6.601 8.01688 6.72026 8.38389 6.92082C8.75091 7.12138 9.0705 7.39855 9.32101 7.73352C9.56221 8.05605 10.0191 8.12194 10.3416 7.88068C10.6641 7.63942 10.7299 7.18238 10.4887 6.85985C10.113 6.3574 9.63359 5.94165 9.08307 5.64081C8.53255 5.33997 7.92378 5.16107 7.29806 5.11625Z"}))},74957:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"ShareEmailIcon",svgParams:{height:16,width:21}}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.22192 2.20503C2.36754 1.77115 2.78269 1.45455 3.26639 1.45455H17.9332C18.4169 1.45455 18.8321 1.77118 18.9777 2.2051L10.5999 8.02107L2.22192 2.20503ZM2.16639 3.94198V13.4545C2.16639 14.0529 2.66307 14.5455 3.26639 14.5455H17.9332C18.5365 14.5455 19.0332 14.0529 19.0332 13.4545V3.94206L11.0204 9.50462C10.7679 9.67991 10.4318 9.67991 10.1793 9.50462L2.16639 3.94198ZM20.4999 2.55809V13.4545C20.4999 14.8562 19.3465 16 17.9332 16H3.26639C1.85304 16 0.699707 14.8562 0.699707 13.4545V2.54545C0.699707 1.14379 1.85304 0 3.26639 0H17.9332C19.3407 0 20.4904 1.13441 20.4998 2.52818C20.5 2.53816 20.5001 2.54813 20.4999 2.55809Z"}))},41874:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"ShareFacebookIcon",svgParams:{height:17,width:16}}),(0,o.h)("path",{d:"M10.6543 1.38723C10.3533 0.960814 9.95383 0.61341 9.48976 0.374567C9.02902 0.137956 8.51908 0.0130716 8.00115 0.0100098C7.86087 0.0101844 7.72354 0.0502687 7.60519 0.125581C7.48684 0.200893 7.39237 0.308324 7.3328 0.435326L5.00368 5.67077H3.029C2.72335 5.66964 2.42059 5.73003 2.13876 5.84833C1.85692 5.96663 1.60177 6.14043 1.38849 6.35938C1.16707 6.57502 0.991841 6.83346 0.873459 7.11897C0.755078 7.40447 0.696022 7.71108 0.699885 8.02014V13.691C0.699885 14.3087 0.945273 14.9012 1.38207 15.338C1.81886 15.7747 2.41128 16.0201 3.029 16.0201H13.348C13.8951 16.021 14.425 15.8283 14.8438 15.4762C15.2626 15.1241 15.5434 14.6352 15.6366 14.0961L16.6493 8.4252C16.7252 8.09192 16.7252 7.74582 16.6493 7.41254C16.566 7.08205 16.4104 6.7742 16.1936 6.51128C15.9746 6.25 15.7017 6.03926 15.3936 5.89355C15.0762 5.7467 14.7306 5.67068 14.3809 5.67077H10.5328L11.0391 4.37457C11.2397 3.88784 11.3162 3.35894 11.2619 2.83533C11.1853 2.30894 10.9763 1.81065 10.6543 1.38723ZM4.75052 14.5518H3.029C2.91049 14.5525 2.79303 14.5296 2.68349 14.4844C2.57394 14.4392 2.47452 14.3726 2.39102 14.2885C2.23609 14.1199 2.14945 13.8997 2.14799 13.6708V8.02014C2.14913 7.901 2.17389 7.78328 2.22082 7.67377C2.26775 7.56427 2.33592 7.46515 2.4214 7.38216C2.50369 7.29576 2.60267 7.22698 2.71233 7.17998C2.822 7.13298 2.94007 7.10874 3.05938 7.10874H4.7809L4.75052 14.5518ZM10.6746 7.05811H14.3809C14.5145 7.05821 14.6462 7.08942 14.7657 7.14925C14.8875 7.20532 14.9948 7.28845 15.0796 7.39229C15.1675 7.49052 15.2301 7.60871 15.2619 7.73659C15.2922 7.8665 15.2922 8.00162 15.2619 8.13153L14.2493 13.8024C14.2087 14.017 14.094 14.2106 13.9252 14.3492C13.7619 14.4812 13.558 14.5528 13.348 14.5518H6.19862V6.45052L8.43659 1.38723H8.52773C8.9042 1.50037 9.23304 1.73413 9.4636 2.05252C9.69416 2.37092 9.81365 2.75627 9.80368 3.14925C9.8181 3.39741 9.78015 3.64583 9.69229 3.87836L9.23659 5.04292C9.15397 5.273 9.12623 5.51921 9.15558 5.76191C9.1877 6.00427 9.27425 6.23623 9.40875 6.44039C9.5535 6.6376 9.74028 6.80017 9.95558 6.91634C10.1774 7.03206 10.4244 7.0912 10.6746 7.08849V7.05811Z"}))},68227:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"ShareFbIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,o.h)("g",{"clip-path":"url(#clip0_14802_325807)"},(0,o.h)("path",{d:"M11.9993 23.9949C12.6415 23.9949 13.272 23.9444 13.8869 23.8473L19 15L19.5 5L12.5 2L4.5 12.5L10.1117 23.8473C10.7266 23.9444 11.357 23.9949 11.9993 23.9949Z",fill:"white",stroke:"none"}),(0,o.h)("path",{d:"M11.9977 0C5.37098 0 0 5.37089 0 11.9975C0 17.9844 4.38331 22.9414 10.1117 23.8491L10.1164 15.473H7.04998V12.0021H10.1164C10.1164 12.0021 10.1023 10.0269 10.1164 9.14743C10.1305 8.26797 10.3045 7.42142 10.7607 6.65008C11.4615 5.4555 12.5526 4.87237 13.893 4.70775C14.9935 4.57135 16.08 4.72183 17.1664 4.87237C17.2416 4.88176 17.2792 4.89115 17.3545 4.90529C17.3545 4.90529 17.3592 5.03225 17.3545 5.11222C17.3498 5.94933 17.3545 7.86819 17.3545 7.86819C16.8324 7.8588 15.9671 7.80706 15.3933 7.89641C14.4433 8.04221 13.8977 8.64891 13.8789 9.6036C13.8601 10.3467 13.8695 12.0021 13.8695 12.0021H17.2134L16.6726 15.473H13.8742V23.8491C19.612 22.9508 24 17.9844 24 11.9975C23.9953 5.37089 18.6243 0 11.9977 0Z",fill:"#1778F2",stroke:"none"})),(0,o.h)("defs",null,(0,o.h)("clipPath",{id:"clip0_14802_325807"},(0,o.h)("rect",{width:"24",height:"24",fill:"white"}))))},17835:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"ShareLinkedinIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,o.h)("rect",{width:"24",height:"24",rx:"12",fill:"#2867B2",stroke:"none"}),(0,o.h)("path",{d:"M8.68323 17H6.07143V9.79229H8.68323V17ZM7.33126 8.47122C6.53313 8.47122 6 7.94196 6 7.23561C6 6.52925 6.53209 6 7.41925 6C8.21739 6 8.75052 6.52925 8.75052 7.23561C8.75052 7.94196 8.21843 8.47122 7.33126 8.47122ZM18 17H15.472V13.0605C15.472 11.9711 14.7981 11.7198 14.5455 11.7198C14.293 11.7198 13.4503 11.8877 13.4503 13.0605C13.4503 13.2283 13.4503 17 13.4503 17H10.8385V9.79229H13.4503V10.7983C13.7867 10.2114 14.4607 9.79229 15.7246 9.79229C16.9886 9.79229 18 10.7983 18 13.0605V17Z",fill:"white",stroke:"none"}))},9e3:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"ShareSubstackIconCircle",svgParams:{height:24,width:24,viewBox:"0 0 24 24",fill:"none",stroke:"none"}}),(0,o.h)("g",{"clip-path":"url(#clip0_23936_14598)"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37257 18.6274 0 12 0C5.37259 0 0 5.37257 0 12C0 18.6274 5.37259 24 12 24Z",fill:"url(#paint0_linear_23936_14598)",stroke:"none"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.90625 6.35134C6.90625 6.1573 7.06355 6 7.25759 6H16.7438C16.9379 6 17.0952 6.1573 17.0952 6.35134V7.39628H6.90625V6.35134ZM6.90625 8.79273H17.0952V10.1897H6.90625V8.79273ZM6.90625 11.5861V18.3238C6.90625 18.6083 7.22661 18.7748 7.45943 18.6114L11.7989 15.5657C11.92 15.4807 12.0814 15.4807 12.2026 15.5657L16.542 18.6114C16.7748 18.7748 17.0952 18.6083 17.0952 18.3238V11.5861H6.90625Z",fill:"white",stroke:"none"})),(0,o.h)("defs",null,(0,o.h)("linearGradient",{id:"paint0_linear_23936_14598",x1:"12",y1:"0",x2:"12",y2:"24",gradientUnits:"userSpaceOnUse"},(0,o.h)("stop",{"stop-color":"#FF6719"}),(0,o.h)("stop",{offset:"0.0001","stop-color":"#FF742D"}),(0,o.h)("stop",{offset:"0.197917","stop-color":"#FF6719"}),(0,o.h)("stop",{offset:"1","stop-color":"#FF5E19"})),(0,o.h)("clipPath",{id:"clip0_23936_14598"},(0,o.h)("rect",{width:"24",height:"24",fill:"white"}))))},66839:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"ShareTwitterIcon",svgParams:{height:24,width:24,stroke:"none"}}),(0,o.h)("g",{"clip-path":"url(#clip0_14802_325810)"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37257 18.6274 0 12 0C5.37259 0 0 5.37257 0 12C0 18.6274 5.37259 24 12 24Z",fill:"#1DA1F2",stroke:"none"}),(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.573 6.28855C19.1372 6.5863 18.1365 7.01904 17.643 7.01904V7.0199C17.0795 6.392 16.2862 6 15.4064 6C13.6975 6 12.3119 7.47805 12.3119 9.3001C12.3119 9.55323 12.3393 9.80017 12.3902 10.037C10.0722 9.9721 7.5365 8.73282 6.01036 6.61176C5.072 8.34417 5.88398 10.2709 6.94882 10.973C6.58432 11.0023 5.91334 10.9282 5.59748 10.5995C5.57632 11.7494 6.09468 13.2729 7.98468 13.8256C7.62066 14.0345 6.97636 13.9746 6.69618 13.9301C6.79448 14.9008 8.06884 16.1698 9.46234 16.1698C8.96568 16.7826 7.097 17.894 5 17.5404C6.42414 18.4647 8.084 19 9.84082 19C14.8334 19 18.7105 14.6841 18.5018 9.3598C18.501 9.35395 18.501 9.3481 18.5005 9.3417C18.501 9.328 18.5018 9.3143 18.5018 9.3001C18.5018 9.28353 18.5005 9.26793 18.5 9.2519C18.9545 8.92034 19.5644 8.33388 20 7.56195C19.7474 7.71042 18.9893 8.00763 18.284 8.08141C18.7367 7.82081 19.4073 6.96731 19.573 6.28855Z",fill:"white",stroke:"none"})),(0,o.h)("defs",null,(0,o.h)("clipPath",{id:"clip0_14802_325810"},(0,o.h)("rect",{width:"24",height:"24",fill:"white"}))))},33705:(z,l,e)=>{"use strict";e.d(l,{Z:()=>a});var o=e(6400),f=e(89018),u=e.n(f),c=e(34755),_=Object.defineProperty,g=Object.defineProperties,E=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,w=(P,C,D)=>C in P?_(P,C,{enumerable:!0,configurable:!0,writable:!0,value:D}):P[C]=D,S=(P,C)=>{for(var D in C||(C={}))y.call(C,D)&&w(P,D,C[D]);if(v)for(var D of v(C))T.call(C,D)&&w(P,D,C[D]);return P},O=(P,C)=>g(P,E(C)),p=(P,C)=>{var D={};for(var A in P)y.call(P,A)&&C.indexOf(A)<0&&(D[A]=P[A]);if(P!=null&&v)for(var A of v(P))C.indexOf(A)<0&&T.call(P,A)&&(D[A]=P[A]);return D};const a=P=>{var C=P,{color:D=f.substack_color}=C,A=p(C,["color"]);return(0,o.h)(c.l,O(S({},A),{name:"SubstackIconNoPadding",svgParams:{height:24,width:21,fill:D,stroke:"none"}}),(0,o.h)("path",{d:"M20.9991 5.40625H0V8.24275H20.9991V5.40625Z"}),(0,o.h)("path",{d:"M0 10.8125V24.0004L10.4991 18.1107L21 24.0004V10.8125H0Z"}),(0,o.h)("path",{d:"M20.9991 0H0V2.83603H20.9991V0Z"}))}},46209:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"SubstackLogoIcon",svgParams:{height:18,width:16,fill:"#ff6719",stroke:"none"}}),(0,o.h)("path",{d:"M16 4H0V6H16V4Z"}),(0,o.h)("path",{d:"M0 8V18L7.9993 13.534L16 18V8H0Z"}),(0,o.h)("path",{d:"M16 0H0V2H16V0Z"}))},1138:(z,l,e)=>{"use strict";e.d(l,{Z:()=>p});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(d,a,P)=>a in d?u(d,a,{enumerable:!0,configurable:!0,writable:!0,value:P}):d[a]=P,T=(d,a)=>{for(var P in a||(a={}))E.call(a,P)&&y(d,P,a[P]);if(g)for(var P of g(a))v.call(a,P)&&y(d,P,a[P]);return d},w=(d,a)=>c(d,_(a)),S=(d,a)=>{var P={};for(var C in d)E.call(d,C)&&a.indexOf(C)<0&&(P[C]=d[C]);if(d!=null&&g)for(var C of g(d))a.indexOf(C)<0&&v.call(d,C)&&(P[C]=d[C]);return P};const p=d=>{var a=d,{stroke:P,size:C=36}=a,D=S(a,["stroke","size"]);return(0,o.h)(f.l,w(T({},D),{name:"ThinCircleCheckmarkIcon2",svgParams:{viewBox:"0 0 36 36",height:C,width:C,fill:"none"}}),(0,o.h)("path",{d:"M34.6667 16.4666V17.9999C34.6646 21.594 33.5008 25.0911 31.3489 27.9696C29.1969 30.8482 26.1721 32.9541 22.7256 33.9731C19.279 34.9921 15.5954 34.8698 12.2241 33.6242C8.85279 32.3787 5.97441 30.0768 4.01825 27.0617C2.0621 24.0467 1.13297 20.48 1.36945 16.8938C1.60592 13.3075 2.99533 9.89381 5.33045 7.16173C7.66558 4.42964 10.8213 2.52557 14.327 1.73351C17.8326 0.941453 21.5004 1.30383 24.7833 2.7666",stroke:P||"#FB6542","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{transform:"translate(11.67, 3.34)",d:"M22.6667 1.66663L6 18.35L1 13.35",stroke:P||"#FB6542","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},96733:(z,l,e)=>{"use strict";var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const S=p=>h(SvgIcon,w(T({},p),{name:"TikTokSimpleIcon",svgParams:{height:24,width:24}}),h("path",{d:"M18.7113 6.09867C18.5721 6.02672 18.4366 5.94785 18.3053 5.86234C17.9234 5.60988 17.5733 5.31241 17.2624 4.97633C16.4847 4.08645 16.1942 3.18367 16.0872 2.5516H16.0915C16.0022 2.02695 16.0391 1.6875 16.0447 1.6875H12.5024V15.3851C12.5024 15.569 12.5024 15.7507 12.4946 15.9304C12.4946 15.9527 12.4925 15.9733 12.4912 15.9974C12.4912 16.0073 12.4912 16.0176 12.489 16.0279C12.489 16.0305 12.489 16.033 12.489 16.0356C12.4517 16.5271 12.2942 17.0019 12.0303 17.4181C11.7664 17.8344 11.4042 18.1795 10.9757 18.423C10.529 18.6771 10.0239 18.8104 9.51002 18.8097C7.85959 18.8097 6.52197 17.4639 6.52197 15.8019C6.52197 14.1398 7.85959 12.7941 9.51002 12.7941C9.82244 12.7938 10.1329 12.8429 10.43 12.9397L10.4343 9.33293C9.53252 9.21645 8.61641 9.28811 7.74373 9.54341C6.87106 9.7987 6.06076 10.2321 5.36396 10.8162C4.75341 11.3467 4.24011 11.9797 3.84717 12.6866C3.69764 12.9445 3.13346 13.9804 3.06514 15.6618C3.02217 16.6161 3.30877 17.6048 3.44541 18.0135V18.0221C3.53135 18.2627 3.86435 19.0838 4.40705 19.7761C4.84466 20.3313 5.36168 20.8191 5.94146 21.2237V21.2151L5.95006 21.2237C7.66494 22.389 9.56631 22.3125 9.56631 22.3125C9.89545 22.2992 10.998 22.3125 12.2501 21.7191C13.6389 21.0613 14.4295 20.0811 14.4295 20.0811C14.9346 19.4955 15.3362 18.8281 15.6172 18.1076C15.9377 17.265 16.0447 16.2543 16.0447 15.8504V8.58355C16.0877 8.60934 16.66 8.98789 16.66 8.98789C16.66 8.98789 17.4846 9.51641 18.7711 9.86059C19.694 10.1055 20.9376 10.1571 20.9376 10.1571V6.64051C20.5019 6.68777 19.6171 6.55027 18.7113 6.09867Z"}));var O=null},59736:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"TwitterIcon",svgParams:{height:24,width:24}}),(0,o.h)("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"}))},95950:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"TwitterShareIcon",svgParams:{height:24,width:24,stroke:"none",viewBox:"0 0 512 512"}}),(0,o.h)("rect",{width:"512",height:"512",fill:"#1da1f2"}),(0,o.h)("path",{fill:"#fff",d:"M437 152a72 72 0 01-40 12a72 72 0 0032-40a72 72 0 01-45 17a72 72 0 00-122 65a200 200 0 01-145-74a72 72 0 0022 94a72 72 0 01-32-7a72 72 0 0056 69a72 72 0 01-32 1a72 72 0 0067 50a200 200 0 01-105 29a200 200 0 00309-179a200 200 0 0035-37"}))},51736:(z,l,e)=>{"use strict";e.d(l,{Z:()=>p});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(d,a,P)=>a in d?u(d,a,{enumerable:!0,configurable:!0,writable:!0,value:P}):d[a]=P,T=(d,a)=>{for(var P in a||(a={}))E.call(a,P)&&y(d,P,a[P]);if(g)for(var P of g(a))v.call(a,P)&&y(d,P,a[P]);return d},w=(d,a)=>c(d,_(a)),S=(d,a)=>{var P={};for(var C in d)E.call(d,C)&&a.indexOf(C)<0&&(P[C]=d[C]);if(d!=null&&g)for(var C of g(d))a.indexOf(C)<0&&v.call(d,C)&&(P[C]=d[C]);return P};const p=d=>{var a=d,{fill:P="#FF6719"}=a,C=S(a,["fill"]);return(0,o.h)(f.l,w(T({},C),{fill:P,name:"UserBadgeIcon",svgParams:{viewBox:"0 0 40 40",height:40,width:40}}),(0,o.h)("path",{d:"M17.4385 1.2681C19.3988 0.456149 21.6012 0.45615 23.5615 1.2681L31.5807 4.58976C33.5409 5.40172 35.0983 6.95911 35.9102 8.91933L39.2319 16.9385C40.0439 18.8988 40.0439 21.1012 39.2319 23.0615L35.9102 31.0807C35.0983 33.0409 33.5409 34.5983 31.5807 35.4102L23.5615 38.7319C21.6012 39.5439 19.3988 39.5439 17.4385 38.7319L9.41933 35.4102C7.45911 34.5983 5.90171 33.0409 5.08976 31.0807L1.7681 23.0615C0.956149 21.1012 0.95615 18.8988 1.7681 16.9385L5.08976 8.91933C5.90172 6.95911 7.45911 5.40171 9.41933 4.58976L17.4385 1.2681Z",fill:P,stroke:"transparent"}),(0,o.h)("path",{d:"M27.1666 15L17.9999 24.1667L13.8333 20",stroke:"white",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}))}},47052:(z,l,e)=>{"use strict";e.d(l,{Z:()=>O});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const O=p=>(0,o.h)(f.l,w(T({},p),{name:"UserBadgeOutlineIcon",svgParams:{viewBox:"0 0 40 40",height:40,width:40}}),(0,o.h)("path",{d:"M17.8212 2.19198C19.5364 1.48152 21.4636 1.48152 23.1788 2.19198L31.198 5.51364C32.9132 6.2241 34.2759 7.58682 34.9864 9.30201L38.308 17.3212C39.0185 19.0364 39.0185 20.9636 38.308 22.6788L34.9864 30.698C34.2759 32.4132 32.9132 33.7759 31.198 34.4864L23.1788 37.808C21.4636 38.5185 19.5364 38.5185 17.8212 37.808L9.80201 34.4864C8.08682 33.7759 6.7241 32.4132 6.01364 30.698L2.69198 22.6788C1.98152 20.9636 1.98152 19.0364 2.69198 17.3212L6.01364 9.30201C6.7241 7.58682 8.08682 6.2241 9.80202 5.51364L17.8212 2.19198Z",stroke:"#FF6719",strokeWidth:"4",fill:"transparent"}),(0,o.h)("path",{d:"M27.1666 15L17.9999 24.1667L13.8333 20",stroke:"#FF6719",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round"}))},81243:(z,l,e)=>{"use strict";e.d(l,{Z:()=>p});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(d,a,P)=>a in d?u(d,a,{enumerable:!0,configurable:!0,writable:!0,value:P}):d[a]=P,T=(d,a)=>{for(var P in a||(a={}))E.call(a,P)&&y(d,P,a[P]);if(g)for(var P of g(a))v.call(a,P)&&y(d,P,a[P]);return d},w=(d,a)=>c(d,_(a)),S=(d,a)=>{var P={};for(var C in d)E.call(d,C)&&a.indexOf(C)<0&&(P[C]=d[C]);if(d!=null&&g)for(var C of g(d))a.indexOf(C)<0&&v.call(d,C)&&(P[C]=d[C]);return P};const p=d=>{var a=d,{strokeWidth:P=1.5}=a,C=S(a,["strokeWidth"]);return(0,o.h)(f.l,w(T({},C),{name:"UserIcon",svgParams:{width:24,height:24,viewBox:"0 0 24 24",fill:"none"}}),(0,o.h)("path",{d:"M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21","stroke-width":P,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,o.h)("path",{d:"M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z","stroke-width":P,"stroke-linecap":"round","stroke-linejoin":"round"}))}},63861:(z,l,e)=>{"use strict";var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?u(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>c(p,_(d));const S=p=>h(SvgIcon,w(T({},p),{name:"YoutubeIcon",svgParams:{height:24,width:24}}),h("path",{d:"M21.582 6.07467C21.352 5.21467 20.674 4.53667 19.814 4.30667C18.254 3.88867 12 3.88867 12 3.88867C12 3.88867 5.746 3.88867 4.186 4.30667C3.326 4.53667 2.648 5.21467 2.418 6.07467C2 7.63467 2 11.8887 2 11.8887C2 11.8887 2 16.1427 2.418 17.7027C2.648 18.5627 3.326 19.2407 4.186 19.4707C5.746 19.8887 12 19.8887 12 19.8887C12 19.8887 18.254 19.8887 19.814 19.4707C20.675 19.2407 21.352 18.5627 21.582 17.7027C22 16.1427 22 11.8887 22 11.8887C22 11.8887 22 7.63467 21.582 6.07467ZM10 15.3527V8.42467L16 11.8887L10 15.3527Z"}));var O=null},34755:(z,l,e)=>{"use strict";e.d(l,{l:()=>w});var o=e(6400),f=e(15045),u=e(89867),c=Object.defineProperty,_=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,v=(S,O,p)=>O in S?c(S,O,{enumerable:!0,configurable:!0,writable:!0,value:p}):S[O]=p,y=(S,O)=>{for(var p in O||(O={}))g.call(O,p)&&v(S,p,O[p]);if(_)for(var p of _(O))E.call(O,p)&&v(S,p,O[p]);return S},T=(S,O)=>{var p={};for(var d in S)g.call(S,d)&&O.indexOf(d)<0&&(p[d]=S[d]);if(S!=null&&_)for(var d of _(S))O.indexOf(d)<0&&E.call(S,d)&&(p[d]=S[d]);return p};const w=S=>{var O=S,{name:p,svgParams:d,isStatic:a,height:P,fill:C,stroke:D,version:A=4,strokeWidth:x=1.8,strokeLinecap:I,strokeLinejoin:N,alt:F,additionalStaticParams:B={},children:V}=O,Z=T(O,["name","svgParams","isStatic","height","fill","stroke","version","strokeWidth","strokeLinecap","strokeLinejoin","alt","additionalStaticParams","children"]);const Y=P?(d.width||1)*P/(d.height||1):d.width||1,ne=P||d.height||1;return a?(0,o.h)(u.Z,y(y({src:(0,f.imginary)((0,f.pathWithQuery)(`/icon/${p}`,{v:A||4,height:ne*2,fill:C,stroke:D,strokeWidth:x*2,strokeLinecap:I,strokeLinejoin:N}),Y*2,{format:"png",crop:"scale"}),width:Y,height:ne,style:{maxWidth:`${Y}px`},alt:F||""},B),Z)):(0,o.h)("svg",y({role:"img",style:P?{height:`${ne}px`,width:`${Y}px`}:void 0,width:Y,height:ne,viewBox:d.viewBox||`0 0 ${d.width} ${d.height}`,fill:C||d.fill||"none",strokeWidth:x||typeof x=="number"?Number(x):typeof d.strokeWidth=="number"?d.strokeWidth:1,stroke:D||d.stroke||"#000",strokeLinecap:I,strokeLinejoin:N,xmlns:"http://www.w3.org/2000/svg"},Z),(0,o.h)("g",null,(0,o.h)("title",null,F||""),V))}},11862:(z,l,e)=>{"use strict";var o=e(6400);function f({className:c}){return h("svg",{className:c,width:"24",height:"24",viewBox:"0 0 24 24"},h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.5 20.1456C2.33682 19.7895 2.25 19.3992 2.25 19V18V14V12C2.25 9.41414 3.27723 6.93419 5.10571 5.10571C6.93419 3.27723 9.41414 2.25 12 2.25C14.5859 2.25 17.0658 3.27723 18.8943 5.10571C20.7228 6.93419 21.75 9.41414 21.75 12V14V18V19C21.75 19.3992 21.6632 19.7895 21.5 20.1456V20.3889C21.4583 20.3889 21.4169 20.3875 21.3759 20.3848C21.2578 20.5874 21.1133 20.7758 20.9445 20.9445C20.4288 21.4603 19.7293 21.75 19 21.75H18C17.2707 21.75 16.5712 21.4603 16.0555 20.9445C15.5397 20.4288 15.25 19.7293 15.25 19V16C15.25 15.2707 15.5397 14.5712 16.0555 14.0555C16.5712 13.5397 17.2707 13.25 18 13.25H19.6528V12.2083C19.6528 10.1787 18.8465 8.23218 17.4113 6.797C15.9762 5.36183 14.0296 4.55556 12 4.55556C9.97036 4.55556 8.02384 5.36183 6.58867 6.797C5.15349 8.23218 4.34722 10.1787 4.34722 12.2083V13.25H6C6.72935 13.25 7.42882 13.5397 7.94454 14.0555C8.46027 14.5712 8.75 15.2707 8.75 16V19C8.75 19.7293 8.46027 20.4288 7.94454 20.9445C7.42882 21.4603 6.72935 21.75 6 21.75H5C4.27065 21.75 3.57118 21.4603 3.05546 20.9445C2.88674 20.7758 2.74221 20.5874 2.6241 20.3848C2.58309 20.3875 2.5417 20.3889 2.5 20.3889V20.1456Z"}))}var u=null},91704:(z,l,e)=>{"use strict";e.d(l,{HA:()=>S});var o=e(6400),f=e(34755),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(d,a,P)=>a in d?u(d,a,{enumerable:!0,configurable:!0,writable:!0,value:P}):d[a]=P,T=(d,a)=>{for(var P in a||(a={}))E.call(a,P)&&y(d,P,a[P]);if(g)for(var P of g(a))v.call(a,P)&&y(d,P,a[P]);return d},w=(d,a)=>c(d,_(a));function S(d){return(0,o.h)("svg",T({width:"12",height:"12",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},d),(0,o.h)("path",{d:"M5.67709 10C6.02484 10 6.28151 9.73617 6.28151 9.37872V7.91489H6.37259C7.82981 7.91489 8.69917 8.39574 9.30773 9.54894C9.48574 9.88085 9.69273 9.97021 9.93698 9.97021C10.2682 9.97021 10.5 9.64255 10.5 9.00426C10.5 5.94894 9.16283 4.10638 6.37259 4.10638H6.28151V2.64255C6.28151 2.28511 6.02484 2 5.66881 2C5.43698 2 5.27139 2.09787 5.01886 2.33617L1.73183 5.4766C1.56624 5.6383 1.5 5.82553 1.5 6C1.5 6.16596 1.57038 6.36596 1.73183 6.5234L5.01886 9.68511C5.24655 9.90213 5.43698 10 5.67709 10Z"}))}function O(d){return h(SvgIcon,w(T({},d),{name:"reader2__ReplyIcon",svgParams:{height:22,width:22,stroke:"none"}}),h("circle",{cx:"11",cy:"11",r:"11",fill:"#1DA1F2"}),h("g",{transform:"translate(5 5)"},h("path",{fill:"#ffffff",d:"M5.67709 10C6.02484 10 6.28151 9.73617 6.28151 9.37872V7.91489H6.37259C7.82981 7.91489 8.69917 8.39574 9.30773 9.54894C9.48574 9.88085 9.69273 9.97021 9.93698 9.97021C10.2682 9.97021 10.5 9.64255 10.5 9.00426C10.5 5.94894 9.16283 4.10638 6.37259 4.10638H6.28151V2.64255C6.28151 2.28511 6.02484 2 5.66881 2C5.43698 2 5.27139 2.09787 5.01886 2.33617L1.73183 5.4766C1.56624 5.6383 1.5 5.82553 1.5 6C1.5 6.16596 1.57038 6.36596 1.73183 6.5234L5.01886 9.68511C5.24655 9.90213 5.43698 10 5.67709 10Z"})))}var p=null},38199:(z,l,e)=>{"use strict";var o=e(6400);function f({className:c}){return h("svg",{className:c,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.7848 3.78723C4.2873 3.28318 4.96884 3 5.67949 3H18.3205C19.0312 3 19.7127 3.28318 20.2152 3.78723C20.7177 4.29129 21 4.97494 21 5.68778V14.4027C21 15.1155 20.7177 15.7992 20.2152 16.3032C19.7127 16.8073 19.0312 17.0905 18.3205 17.0905H7.9309L4.2475 20.7853C4.0385 20.9949 3.72419 21.0576 3.45112 20.9442C3.17805 20.8307 3 20.5634 3 20.2669V5.68778C3 4.97494 3.2823 4.29129 3.7848 3.78723Z"}))}var u=null},56790:(z,l,e)=>{"use strict";var o=e(6400);function f({className:c}){return h("svg",{className:c,width:"24",height:"24",viewBox:"0 0 24 24"},h("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.83333 5C1.26853 5 0 6.11207 0 7.48387V16.5161C0 17.8879 1.26853 19 2.83333 19H14.1667C15.7315 19 17 17.8879 17 16.5161V7.48387C17 6.11207 15.7315 5 14.1667 5H2.83333ZM18 14.7264L21.6962 17.5549C22.0546 17.8238 22.4334 18 22.8123 18C23.529 18 24 17.527 24 16.8037V7.19629C24 6.47295 23.529 6 22.8123 6C22.4334 6 22.0546 6.1762 21.6962 6.44513L18 9.25502V14.7264Z"}))}var u=null},49786:(z,l,e)=>{"use strict";e.d(l,{hF:()=>L,_q:()=>ne,xt:()=>G,G0:()=>Z,RH:()=>Y});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),_=e(36808),g=e(69427),E=e(85928),v=e.n(E),y=e(20501),T=e(83322),w=e(63270),S=e(3258),O=e(36868),p=e(39419),d=e(84040),a=e(51126),P=e(62246),C=e(43887);const D={container:"frontend-components-like_post_upsell_modal-module__container--nx2aQ",label:"frontend-components-like_post_upsell_modal-module__label--l1Xwk",input:"frontend-components-like_post_upsell_modal-module__input--QqUnn",selectedInput:"frontend-components-like_post_upsell_modal-module__selectedInput--FPxHZ"};var A=Object.defineProperty,x=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,F=(W,ie,ue)=>ie in W?A(W,ie,{enumerable:!0,configurable:!0,writable:!0,value:ue}):W[ie]=ue,B=(W,ie)=>{for(var ue in ie||(ie={}))I.call(ie,ue)&&F(W,ue,ie[ue]);if(x)for(var ue of x(ie))N.call(ie,ue)&&F(W,ue,ie[ue]);return W};const V="like_upsell_last_shown_at",Z=()=>{const W=_.get(V);if(W){const ie=v()(W),ue=v()().subtract(30,"days");if(ie.isAfter(ue))return!1}return!0},Y=W=>{_.set(V,v()().format(),B({expires:365*10},!W.custom_domain&&{domain:`.${new URL((0,y.getBaseUrl)()).hostname}`}))},ne=({pub:W})=>{var ie,ue;const le=(0,w.xR)(),[J,te]=(0,f.eJ)((ie=W==null?void 0:W.plans)==null?void 0:ie[0]),se=le.getConfigFor("disable_monthly_subscriptions");return(0,o.h)(a.tu,{gap:20},(0,o.h)(a.tu,{gap:4},(0,o.h)(C.xv.H4,{weight:"semibold"},"Support ",W.name),(0,o.h)(C.xv.B4,{color:"secondary"},"Since you liked this post, why not support ",W.name," with a subscription?")),(0,o.h)("form",{className:D.form},(0,o.h)(a.tu,{gap:12},(ue=W==null?void 0:W.plans)==null?void 0:ue.map(ee=>{if(!(ee.interval==="month"&&se))return(0,o.h)("label",{className:D.label,key:ee.id},(0,o.h)(a.gq,{gap:12,alignItems:"center"},(0,o.h)("input",{name:"plan",type:"radio",value:ee.id,onInput:()=>te(ee),checked:J&&J.id===ee.id,className:c()({[D.selectedInput]:J&&J.id===ee.id},D.input)}),(0,o.h)(a.gq,{gap:8},(0,o.h)(C.xv.B4,{as:"span",weight:"semibold",color:J&&J.id===ee.id?"primary":"secondary"},(0,T.getPlanTitle)(ee,W.language)),(0,o.h)(C.xv.B4,{as:"span",color:"secondary"},(0,T.planBasePricing)(ee)))))}))),(0,o.h)(d.zx,{onClick:()=>{(0,S.j)(S.FP.LIKE_UPSELL_PLAN_SELECTED),(0,p.redirect)((0,y.getSubscribeUrl)(W,{params:B({utm_source:"like-button-upsell"},J&&{selectedPlanId:J.id})}),{local_navigation:!1})},grow:!0,priority:"primary-theme"},"Select"))},G=({pub:W,onClose:ie,shareDialogRef:ue})=>(0,o.h)(a.tu,{gap:20},(0,o.h)(a.tu,{gap:4},(0,o.h)(C.xv.H4,{weight:"semibold"},"Share this post with a friend"),(0,o.h)(C.xv.B4,{color:"secondary"},"Since you liked this post, why not share it to help spread the word?")),(0,o.h)(d.zx,{onClick:()=>{var le;(0,S.j)(S.FP.LIKE_UPSELL_SHARE_CLICKED),(le=ue.current)==null||le.open(),ie==null||ie()},grow:!0,priority:"primary-theme"},"Share")),L=({user:W,pub:ie,post:ue})=>{const le=(0,f.sO)(),J=Z(),[te,se]=(0,f.eJ)(J),[ee,ae]=(0,f.eJ)(J);(0,f.d4)(()=>{(!J||W!=null&&W.is_contributor||W!=null&&W.is_admin)&&(0,p.removeQueryParam)("show_reaction_upsell")},[J,W]),(0,f.d4)(()=>{ee&&te&&((0,S.j)(S.FP.LIKE_UPSELL_MODAL_SEEN,{source:"email",type:(0,O.P)(W,ie)?"share":"paid"}),Y(ie))},[ee,te,ie,W]);const ce=()=>{se(!te),ae(!1),(0,p.removeQueryParam)("show_reaction_upsell")};return W&&!W.is_contributor&&!W.is_admin&&ee?(0,o.h)(o.Fragment,null,(0,o.h)(P.u_,{isOpen:te,onClose:ce},(0,o.h)(P.fe,null,(0,O.P)(W,ie)?(0,o.h)(G,{pub:ie,onClose:ce,shareDialogRef:le}):(0,o.h)(ne,{pub:ie}))),(0,o.h)(g.ZP,{ref:le,user:W,pub:ie,post:ue})):null}},65726:(z,l,e)=>{"use strict";e.d(l,{Z:()=>T});var o=e(6400),f=Object.defineProperty,u=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(w,S,O)=>S in w?f(w,S,{enumerable:!0,configurable:!0,writable:!0,value:O}):w[S]=O,E=(w,S)=>{for(var O in S||(S={}))c.call(S,O)&&g(w,O,S[O]);if(u)for(var O of u(S))_.call(S,O)&&g(w,O,S[O]);return w},v=(w,S)=>{var O={};for(var p in w)c.call(w,p)&&S.indexOf(p)<0&&(O[p]=w[p]);if(w!=null&&u)for(var p of u(w))S.indexOf(p)<0&&_.call(w,p)&&(O[p]=w[p]);return O};const T=w=>{var S=w,{children:O,href:p,onClick:d}=S,a=v(S,["children","href","onClick"]);return(0,o.h)("a",E(E({role:"button",tabIndex:0,href:p!=null?p:"javascript:void(0)"},d&&{onClick:P=>{P.stopPropagation(),d(P)}}),a),O)}},86602:(z,l,e)=>{"use strict";e.r(l),e.d(l,{chatMentionsSearch:()=>F,default:()=>A,mentionsSearch:()=>I});var o=e(6400),f=e(80569),u=e.n(f),c=e(20501),_=e(92643),g=e(44695),E=e(80332);const v={mention:"frontend-components-mention-module__mention--UisMf"};var y=Object.defineProperty,T=Object.defineProperties,w=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(B,V,Z)=>V in B?y(B,V,{enumerable:!0,configurable:!0,writable:!0,value:Z}):B[V]=Z,a=(B,V)=>{for(var Z in V||(V={}))O.call(V,Z)&&d(B,Z,V[Z]);if(S)for(var Z of S(V))p.call(V,Z)&&d(B,Z,V[Z]);return B},P=(B,V)=>T(B,w(V)),C=(B,V,Z)=>new Promise((Y,ne)=>{var G=ie=>{try{W(Z.next(ie))}catch(ue){ne(ue)}},L=ie=>{try{W(Z.throw(ie))}catch(ue){ne(ue)}},W=ie=>ie.done?Y(ie.value):Promise.resolve(ie.value).then(G,L);W((Z=Z.apply(B,V)).next())});const A=({name:B,id:V,type:Z,url:Y,photo_url:ne,uuid:G,mentionText:L,isStatic:W=!1,isEditorContext:ie=!1})=>{if(W)return(0,o.h)("span",{className:v.mention,"data-component-name":"MentionStatic"},(0,o.h)("a",{href:(0,c.getMentionsUrl)(Z,V,B,Y)},B));if(Z==="user"){const ue={id:V,name:B,photo_url:ne};return(0,o.h)(_.am,null,(0,o.h)(E.Ct,{subject:ue,utmSource:"mention"},(0,o.h)("a",{className:v.mention,href:ie?void 0:(0,c.getMentionsUrl)(Z,V,B,Y),target:"_blank",rel:"noopener","data-attrs":JSON.stringify({name:B,id:V,type:Z,url:Y,photo_url:ne,uuid:G}),onClick:le=>le.stopPropagation(),"data-component-name":"MentionUser"},L!=null?L:B)))}return Z==="pub"?(0,o.h)(g.Sm,{publication_id:V,utmSource:"mention"},(0,o.h)("a",{className:v.mention,href:Y,target:"_blank",rel:"noopener","data-attrs":JSON.stringify({name:B,id:V,type:Z,url:ie?void 0:(0,c.getMentionsUrl)(Z,V,B,Y),uuid:G}),onClick:ue=>ue.stopPropagation(),"data-component-name":"MentionPub"},L!=null?L:B)):(0,o.h)("a",{className:v.mention,target:"_blank",rel:"noopener",href:(0,c.getMentionsUrl)(Z,V,B,Y),"data-attrs":JSON.stringify({name:B,id:V,type:Z,url:Y,photo_url:ne,uuid:G}),"data-component-name":"Mention"},L!=null?L:B)},x={},I=(B,...V)=>C(void 0,[B,...V],function*(Z,{pathname:Y="/api/v1/posts/mention"}={}){if(x[Z])return x[Z];const ne=yield u().get(Y).query({query:Z}),{profiles:G,publications:L}=ne.body,W=new Map;return G&&G.length&&W.set("Writers",G.map(ie=>P(a({},ie),{type:"user"}))),L&&L.length&&W.set("Publications",L==null?void 0:L.map(ie=>P(a({},ie),{type:"pub",url:(0,c.getPublicationAppLinkUrl)({subdomain:ie.subdomain}),photo_url:ie.logo_url}))),x[Z]=W,W}),N={},F=(B,...V)=>C(void 0,[B,...V],function*(Z,{pathname:Y="/api/v1/community/mention"}={}){const ne=`${Y}-${Z}`;if(N[ne])return N[ne];const G=yield u().get(Y).query({query:Z}),{results:L}=G.body,W=new Map;return L&&W.set("Writers",L.map(ie=>P(a({},ie),{type:"user",id:ie.user_id}))),N[ne]=W,W})},56838:(z,l,e)=>{"use strict";e.d(l,{Cz:()=>Hr,Er:()=>Tr,F6:()=>Po,L9:()=>Oo,Mp:()=>ri,Ng:()=>co,PA:()=>Q,RY:()=>po,Su:()=>H,TJ:()=>dr,_2:()=>we,c1:()=>Pr,fh:()=>oo,mt:()=>dt,pD:()=>Zr,sV:()=>_t,vk:()=>vn,yT:()=>Jt,z5:()=>io});var o=e(6400),f=e(98661),u=e(30396),c=e(94184),_=e.n(c),g=e(12297),E=e.n(g),v=e(23493),y=e.n(v),T=e(80587),w=e(77951),S=e(95951),O=e(65207),p=e(13808),d=e(18794),a=e(8618),P=e(31131),C=e(67358),D=e(80569),A=e.n(D),x=e(55489),I=e(69427),N=e(82626),F=e(85928),B=e.n(F),V=e(6385),Z=e(91613),Y=e(15045),ne=e(20501),G=e(83322),L=e(2405),W=e(85065),ie=e(32076),ue=e(63270),le=e(18597),J=e(18492),te=e(3258),se=e(8479),ee=e(35225),ae=e(36868),ce=e(39419),fe=e.n(ce),Ee=e(84040),de=e(51126),_e=e(76235),ve=e(62246),De=e(43887),Oe=e(75425),ye=e(16742),ze=e(25597),Be=e(19826),We=e(47819),Ke=e(15440),Xe=e(63295),ct=e(12650),Se=e(43498),Qe=e(11628),ge=e(31517),Fe=e(11762),Ne=e(49786),lt=e(50615),Et=e(80332),jt=e(31533),en=e(49715),vt=Object.defineProperty,Re=Object.defineProperties,He=Object.getOwnPropertyDescriptors,ot=Object.getOwnPropertySymbols,me=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable,je=(xt,Ft,zt)=>Ft in xt?vt(xt,Ft,{enumerable:!0,configurable:!0,writable:!0,value:zt}):xt[Ft]=zt,Je=(xt,Ft)=>{for(var zt in Ft||(Ft={}))me.call(Ft,zt)&&je(xt,zt,Ft[zt]);if(ot)for(var zt of ot(Ft))ke.call(Ft,zt)&&je(xt,zt,Ft[zt]);return xt},tt=(xt,Ft)=>Re(xt,He(Ft)),Ae=(xt,Ft,zt)=>new Promise((tn,rn)=>{var ln=kn=>{try{Wn(zt.next(kn))}catch(Un){rn(Un)}},En=kn=>{try{Wn(zt.throw(kn))}catch(Un){rn(Un)}},Wn=kn=>kn.done?tn(kn.value):Promise.resolve(kn.value).then(ln,En);Wn((zt=zt.apply(xt,Ft)).next())});function H(xt,Ft){return xt==="button"&&Ft==="verbose"?16:xt==="button"?20:xt==="tabs"?24:xt==="compressed"?16:0}const Q=2,pe=({isFullWidth:xt,children:Ft})=>xt?(0,o.h)(de.gq,{className:"post-ufi-button-wrapper",gap:8},Ft):Ft;function we({post:xt,pub:Ft,user:zt,style:tn,justified:rn,isStatic:ln,hideReactions:En,hideComments:Wn,hideShare:kn,hideSavePost:Un,useShareLabel:Zn,allowEdit:or,editButtonIsLast:yt,onChange:Wt,addedPodcastComments:Zt,hidePinning:Xt,showEmailSent:Dn,allowSendEmail:Cn,footerHidden:On,onCommentsClick:zn,labelStyle:Ir,showPreamble:no,preambleConfig:Yr={},position:Mr,hideByDisabling:Qr,showRestackButton:_o,showRestackModal:ci,hideFeedRestackButton:Uo}){const So=(0,le.Tf)(),{showPins:Yo,showAudience:bo,showDate:To,showDatetime:vi,showAuthor:oi,showPublicationName:di,showCrossPostedPublicationName:pi}=Yr;En=En||!Ft.community_enabled||!xt.slug||xt.is_draft;const ii=E()(Object.values((xt==null?void 0:xt.reactions)||{})),Jo=Dn?!!xt.email_sent_at:null,ji=(0,L.LC)(),Ei=or&&(zt==null?void 0:zt.is_contributor)&&!ji,so=Le({post:xt,pub:Ft,user:zt,defaultOpen:_o&&ci&&Mr!=="post-footer"&&Mr!=="post-footer-full-width"}),mi=(0,o.h)($r,{style:tn,pub:Ft,post:xt,user:zt,hidePinning:Xt,emailSent:Jo!=null?Jo:void 0,allowSendEmail:Cn,footerHidden:On,canBeCrossPosted:_o}),Mi=!Uo&&Ft.community_enabled&&xt.slug&&!xt.is_draft,si=_o&&!no&&(Qr||En&&Wn&&kn&&!Ei),Fo=Ir==="counts-or-none"&&ii?"count":Ir==="labels"?"cta":"none",ai=Ir==="counts-or-none"&&xt.comment_count?"count":Ir==="labels"?"cta":"none",qo=Mr==="post-footer-full-width";return(0,o.h)("div",{className:_()("post-ufi",`style-${tn}`,{justified:rn,themed:So,"single-full-width-button":si})},(0,o.h)(pe,{isFullWidth:qo},no&&Yr&&(0,o.h)(Xr,{pub:Ft,post:xt,showPins:Yo,showAudience:bo,showDate:To,showDatetime:vi,showEmailSent:Dn,showAuthor:oi,showPublicationName:di,showCrossPostedPublicationName:pi}),Ei&&!yt&&mi,(Qr||!En)&&(0,o.h)(Tt,{post:xt,pub:Ft,user:zt,labelStyle:Qr&&En?"none":Fo,style:tn,onChange:Wt,isStatic:ln,isDisabled:Qr&&En}),(Qr||!Wn)&&(0,o.h)(Wr,{post:xt,pub:Ft,isStatic:ln,labelStyle:Qr&&Wn?"none":ai,style:tn,count:xt.comment_count+(Zt||0),onClick:zn,isDisabled:Qr&&Wn}),Mi&&zt&&(0,o.h)(Mn,{pub:Ft,post:xt,onChange:Wt,style:tn}),!kn&&(0,o.h)(x.s,{post:xt,pub:Ft,user:zt,trigger:{style:tn,labelStyle:Zn?"cta":"none",isStatic:ln},position:Mr})),(0,o.h)(pe,{isFullWidth:qo},!Un&&!_o&&zt&&(0,o.h)(Or,{post:xt,labelStyle:ai,style:tn,onChange:Wt}),Ei&&yt&&mi,_o&&!Ei&&Mr==="post-header"&&(0,o.h)(o.Fragment,null,(0,o.h)(_e.v2,{trigger:(0,o.h)(Ee.hU,{"aria-label":"View more",size:40,fill:"outline"},(0,o.h)(T.Z,{size:20}))},(0,o.h)(ho,{onClick:so.open,post:xt,pub:Ft,user:zt}),(0,o.h)(Lr,{post:xt,onChange:Wt}))),_o&&!Ei&&qo&&(0,o.h)(o.Fragment,null,!Un&&(0,o.h)(Or,{post:xt,labelStyle:"verbose",style:"button",onChange:Wt}),(0,o.h)(yo,{onClick:so.open,post:xt,pub:Ft,user:zt,style:"button"}))),so.modal)}function Le({pub:xt,user:Ft,post:zt,defaultOpen:tn=!1}){const[rn,ln]=(0,u.eJ)(tn);return(0,u.d4)(()=>{tn&&Ft&&(0,te.j)(te.FP.RESTACK_POST_CLICKED,{restacked_publication_id:xt.id,restacked_post_id:zt.id,restacking_user_id:Ft.id,is_from_email:!0})},[tn,xt,zt,Ft]),{open:()=>ln(!0),modal:(0,o.h)(en.J,{pub:xt,user:Ft,post:zt,open:rn,setOpen:ln})}}function Ye(){const Ft=typeof window=="undefined",zt=250,[tn,rn]=(0,u.eJ)(Ft?0:window.pageYOffset),[ln,En]=(0,u.eJ)(!1),Wn=100,kn=(0,u.Ye)(()=>Date.now()+1e3,[]),Un=(0,u.sO)(0);return(0,u.d4)(()=>{if(Ft)return;const Zn=y()(()=>{const or=Date.now(),yt=(or-Un.current)/1e3,Zt=(tn-window.pageYOffset)/yt;Un.current=or,!(window.pageYOffset<0)&&(or<kn?En(!1):-Zt>Wn?En(!0):Zt>Wn&&En(!1),rn(window.pageYOffset))},zt);return window.addEventListener("scroll",Zn),()=>window.removeEventListener("scroll",Zn)},[Ft,tn,rn,En,kn,Un,!1]),ln}function dt({post:xt,pub:Ft,user:zt,isStatic:tn,onChange:rn,allowEdit:ln,hidePinning:En,showEmailSent:Wn,allowSendEmail:kn,hideComments:Un,onCommentsClick:Zn,showRestackButton:or,showRestackModal:yt,setFooterShown:Wt}){const Zt=Ye(),Xt=(0,Oe.pm)();return(0,u.d4)(()=>{Xt.addOffset(64*(Zt?1:-1)),Wt&&Wt(!Zt)},[Zt,Wt]),(0,o.h)(de.hs,{alignItems:"center",padding:8,className:_()("mobile-footer-ufi",{hidden:Zt})},(0,o.h)(we,{post:xt,pub:Ft,user:zt,isStatic:tn,justified:!0,style:"tabs",onChange:rn,allowEdit:ln,editButtonIsLast:!0,hidePinning:En,showEmailSent:Wn,allowSendEmail:kn,footerHidden:Zt,labelStyle:"counts-or-none",hideComments:Un,onCommentsClick:Zn,position:"mobile-toolbar",hideByDisabling:!0,showRestackModal:yt,showRestackButton:or}))}function st({post:xt,pub:Ft,user:zt,surface:tn,onChange:rn,subscribePromptRef:ln}){const En=!!(xt!=null&&xt.reaction),Wn=(0,L.LC)(),kn=(0,se.ib)({pathname:Wn?`/api/v1/cross-post/${xt==null?void 0:xt.id}/reaction`:`/api/v1/post/${xt==null?void 0:xt.id}/reaction`,method:"POST",deps:[xt==null?void 0:xt.id]}),Un=(0,ee.S)({user:zt,noBase:!1});return{isLiked:En,toggle:()=>Ae(this,null,function*(){var Zn;if(kn.isLoading)return"error";En||!Un()&&zt&&!zt.is_admin&&!zt.is_contributor&&(ln!=null&&ln.current)&&(0,Ne.G0)()&&((0,te.j)(te.FP.LIKE_UPSELL_MODAL_SEEN,{source:"web",type:zt!=null&&zt.is_free_subscribed?(0,ae.P)(zt,Ft)?"share":"paid":"free"}),ln.current.open(),(0,Ne.RH)(Ft));const{reaction:or,reactions:yt,reactor_names:Wt}=(0,jt.fS)(zt,xt);xt.reaction=or,xt.reactions=yt,xt.reactor_names=Wt,rn==null||rn({post:xt});const Zt=yield kn.refetch(or?{method:"POST",json:{reaction:"\u2764",surface:tn}}:{method:"DELETE"}),Xt=(Zn=Zt==null?void 0:Zt.response)==null?void 0:Zn.status;if(Xt){const{reaction:Dn,reactions:Cn,reactor_names:On}=(0,jt.fS)(zt,xt);xt.reaction=Dn,xt.reactions=Cn,xt.reactor_names=On,rn==null||rn({post:xt})}return Xt===401?"unauthorized":Xt?"error":or?"liked":"unliked"})}}function _t(){const xt=br();return(zt,tn,...rn)=>Ae(this,[zt,tn,...rn],function*(ln,En,{tabId:Wn}={}){yield(0,se.rd)(`/api/v1/post/${ln}/reaction`,En?{method:"POST",json:{reaction:"\u2764",surface:"reader",tabId:Wn}}:{method:"DELETE",json:{tabId:Wn}}),xt(En)})}function Tt({post:xt,pub:Ft,user:zt,style:tn,labelStyle:rn,onChange:ln,isStatic:En,isDisabled:Wn}){const kn=E()(Object.values((xt==null?void 0:xt.reactions)||{})),Un=rn==="count"?(0,G.numberToString)(kn||0):rn==="cta"?"Like":null;return(0,o.h)($t,{post:xt,pub:Ft,user:zt,onChange:ln,isStatic:En,style:tn},({isLiked:Zn,handleLike:or})=>(0,o.h)(co,{style:tn,state:Zn?"liked":void 0,icon:(0,o.h)(ct.Z,{className:"icon",height:H(tn),strokeWidth:Q}),onClick:Wn?()=>{}:or,noLabel:rn==="none",isDisabled:Wn},Un))}function nn({style:xt,onClick:Ft}){return(0,o.h)(co,{style:xt,state:void 0,icon:(0,o.h)(w.Z,{className:"icon",height:H(xt),strokeWidth:Q}),"aria-label":"menu",onClick:Ft})}function Mn({pub:xt,post:Ft,onChange:zt,style:tn}){const{canRestack:rn,isRestacked:ln,restacks:En,menuItems:Wn,nuxModal:kn}=(0,ye.K)({pub:xt,post:Ft,onRestack:or=>{zt==null||zt({post:tt(Je({},Ft),{restacked:or,restacks:En+(or?1:-1)})})}});if(!rn)return null;const Un=!xt.community_enabled,Zn=(0,o.h)(co,{style:tn,state:ln?"restacked":void 0,icon:(0,o.h)(ge.Z,{className:"icon",height:H(tn),strokeWidth:Q}),noLabel:En===0,"aria-label":"menu",isDisabled:Un},En.toLocaleString(void 0,{maximumSignificantDigits:4}));return(0,o.h)(o.Fragment,null,kn,Un?Zn:(0,o.h)(_e.v2,{trigger:Zn},Wn))}function tr({postId:xt,isOpen:Ft,onClose:zt}){const tn=(0,ue.xR)(),[rn,ln]=(0,u.eJ)(),En=tn.getConfigFor("enable_post_summarization")==!0,Wn=(0,u.sO)(!1),kn=(0,u.I4)(()=>{Wn.current=!0,A().post(`/api/v1/posts/${xt}/summary`).then(Un=>{var Zn;(Zn=Un.body)!=null&&Zn.summary&&ln(Un.body.summary)}).finally(()=>{Wn.current=!1})},[xt]);return(0,u.d4)(()=>{Ft&&En&&!rn&&!Wn.current&&kn()},[Ft,kn,En,rn]),En?(0,o.h)(ve.u_,{isOpen:Ft,onClose:zt,width:750},(0,o.h)(ve.xB,{includeClose:!0,title:"Reader guide",onClose:zt}),(0,o.h)(de.tu,{padding:16,paddingBottom:32},rn?(0,o.h)("div",{dangerouslySetInnerHTML:{__html:rn}}):(0,o.h)(de.tu,{alignItems:"center",justifyContent:"center",style:{flex:1,minHeight:300}},(0,o.h)("div",{className:"embed-loader"})))):null}function sr({post:xt,pub:Ft,user:zt,onChange:tn,showRestackModal:rn,canBeCrossPosted:ln,onSummaryOpen:En}){const Wn="button",Un=(0,ue.xR)().getConfigFor("enable_post_summarization")==!0,Zn=Le({pub:Ft,user:zt,post:xt,defaultOpen:rn&&ln}),or=()=>{Zn.open(),(0,te.j)(te.FP.RESTACK_POST_CLICKED,{restacked_publication_id:Ft.id,restacked_post_id:xt.id,restacking_user_id:zt.id,is_from_email:!1})};return(0,o.h)(o.Fragment,null,(0,o.h)(_e.v2,{trigger:(0,o.h)(co,{style:Wn,icon:(0,o.h)(T.Z,{className:"icon edit-icon",size:H(Wn),strokeWidth:2}),noLabel:!0,"aria-label":"More"})},zt&&(0,o.h)(Lr,{post:xt,onChange:tn,showIcon:!0}),Un&&(0,o.h)(_e.sN,{icon:(0,o.h)(S.Z,{height:24,strokeWidth:2}),onClick:En},"Reader guide"),ln&&(0,o.h)(_e.sN,{icon:(0,o.h)(Se.Z,null),onClick:or},"Cross post"),zt&&(0,o.h)(_e.sN,{icon:(0,o.h)(O.Z,null),href:(0,ne.getReaderPostUrl)(xt.id)},"Substack Reader")),Zn.modal)}function Rt(xt){var Ft;const zt=E()(Object.values(((Ft=xt.post)==null?void 0:Ft.reactions)||{}));return(0,o.h)(Tt,tt(Je({},xt),{labelStyle:zt>0?"count":"none"}))}const Mt=({pub:xt,user:Ft})=>{const[zt,tn]=(0,u.eJ)(Ft==null?void 0:Ft.email),[rn,ln]=(0,u.eJ)(!1);return(0,o.h)(de.tu,{gap:20},(0,o.h)(de.tu,{gap:4},(0,o.h)(De.xv.H4,{weight:"semibold"},"Support ",xt.name),(0,o.h)(De.xv.B4,{color:"secondary"},"Since you liked this post, why not subscribe?")),(0,o.h)(de.tu,{gap:12},(0,o.h)("input",{disabled:!!(Ft!=null&&Ft.email),value:zt,onChange:En=>tn(En.currentTarget.value)}),(0,o.h)(Ee.zx,{onClick:()=>Ae(void 0,null,function*(){(0,te.j)(te.FP.LIKE_UPSELL_FREE_SUBSCRIBED,{email:zt}),ln(!0);try{const En=yield A().post("/api/v1/free").send({email:zt,source:"like-button-upsell"}),{referral_token:Wn}=En.body;(0,ce.redirect)((0,ne.getSubscribeUrl)(xt,{params:{utm_source:"like-button-upsell",just_signed_up:!0,referral_token:Wn}}),{local_navigation:!1})}catch(En){alert((0,ce.getNetworkErrorMessage)(En))}}),grow:!0,disabled:rn,priority:"primary-theme"},rn?"Please wait...":"Subscribe")))};function $t({post:xt,pub:Ft,user:zt,onChange:tn,isStatic:rn,children:ln,style:En}){const Wn=(0,u.sO)(),kn=(0,u.sO)(),{isLiked:Un,toggle:Zn}=st({post:xt,pub:Ft,user:zt,subscribePromptRef:Wn,onChange:tn}),or=(0,u.sO)(),[yt,Wt]=(0,u.eJ)(!1),Zt=(0,u.I4)(Xt=>Ae(this,null,function*(){var Dn;(Dn=Xt==null?void 0:Xt.stopPropagation)==null||Dn.call(Xt),(yield Zn())==="unauthorized"&&Wt(!0)}),[Zn]);return(0,u.d4)(()=>{!(or!=null&&or.current)||!yt||or.current.open()},[yt]),(0,o.h)("div",{className:_()("like-button-container","post-ufi-button",`style-${En}`,Un&&"state-liked")},ln({isLiked:Un,handleLike:Zt}),!rn&&yt&&(0,o.h)(jt.oq,{modalRef:or,user:zt,pub:Ft,onClose:()=>Wt(!1),react:Zn}),zt&&!zt.is_admin&&!zt.is_contributor&&(En==="button"||En==="tabs")&&(0,o.h)(Be.Fx,{ref:Wn,className:_()("subscribe-prompt-dropdown",!(zt!=null&&zt.is_free_subscribed)&&"free"),hideMenuTail:!0},zt!=null&&zt.is_free_subscribed?(0,ae.P)(zt,Ft)?(0,o.h)(Ne.xt,{pub:Ft,onClose:()=>{var Xt;return(Xt=Wn.current)==null?void 0:Xt.close()},shareDialogRef:kn}):(0,o.h)(Ne._q,{pub:Ft}):(0,o.h)(Mt,{pub:Ft,user:zt})),!rn&&(0,o.h)(I.ZP,{ref:kn,user:zt,pub:Ft,post:xt}))}function vn({post:xt,defaultSaved:Ft,isSaved:zt,trackSurface:tn}){var rn;return An({postId:xt.id,defaultSaved:(rn=Ft!=null?Ft:xt.is_saved)!=null?rn:!1,isSaved:zt,trackSurface:tn})}function An({postId:xt,defaultSaved:Ft,isSaved:zt,trackSurface:tn}){const[rn,ln]=(0,u.eJ)(Ft),En=zt!=null?zt:rn,{refetch:Wn,isLoading:kn,error:Un}=(0,se.ib)({pathname:"/api/v1/posts/saved",method:"POST",json:{post_id:xt},deps:[xt]}),Zn=(0,W.yH)(),or=Pr();return{isSaved:En,onSave:()=>(kn||(Wn({method:En?"DELETE":"POST"}).then(()=>{Zn.refetch()}),ln(!En),or(!En),(0,te.j)(te.FP.POST_SAVED,{post_id:xt,surface:tn})),!En)}}function dr(xt,Ft,zt){return Ae(this,arguments,function*(tn,rn,{surface:ln}){yield(0,se.rd)("/api/v1/posts/saved",{method:rn?"POST":"DELETE",json:{post_id:tn}}),(0,te.j)(te.FP.POST_SAVED,{post_id:tn,surface:ln,is_saved:rn})})}function Pr(){const xt=(0,Oe.pm)();return Ft=>{Ft?xt.popToast(zt=>(0,o.h)(Oe.FN,tt(Je({},zt),{text:"Post saved",Icon:p.Z,cta:"View",href:(0,Y.getSavedPostsUrl)()}))):xt.popToast(zt=>(0,o.h)(Oe.FN,tt(Je({},zt),{text:"Post unsaved",Icon:d.Z})))}}function br(){const xt=(0,Oe.pm)();return Ft=>{Ft?xt.popToast(zt=>(0,o.h)(Oe.FN,tt(Je({},zt),{text:"Post liked",Icon:a.Z}))):xt.popToast(zt=>(0,o.h)(Oe.FN,tt(Je({},zt),{text:"Post unliked",Icon:a.Z})))}}function Or({style:xt,post:Ft,isSaved:zt,labelStyle:tn,onChange:rn}){const{isSaved:ln,onSave:En}=vn({defaultSaved:zt,post:Ft,isSaved:Ft.is_saved}),Wn=()=>{const kn=En();rn({post:tt(Je({},Ft),{is_saved:kn})})};return(0,o.h)(co,{state:ln?"saved":void 0,style:xt,icon:(0,o.h)(Ke.Z,{className:"icon",height:H(xt,tn==="verbose"?"verbose":null),strokeWidth:Q}),noLabel:tn==="none",verboseLabel:tn==="verbose",onClick:Wn},tn==="cta"||tn==="verbose"?"Save":null)}function Lr({post:xt,isSaved:Ft,onChange:zt,showIcon:tn}){const{onSave:rn}=vn({defaultSaved:Ft,post:xt,isSaved:xt.is_saved}),ln=()=>{const Wn=rn();zt({post:tt(Je({},xt),{is_saved:Wn})})},En=xt.is_saved?"var(--color-accent-substack)":void 0;return(0,o.h)(_e.sN,{icon:tn?(0,o.h)(p.Z,{style:{stroke:En,fill:En}}):void 0,onClick:ln},xt.is_saved?"Unsave":"Save")}function Wr({style:xt,count:Ft,labelStyle:zt,post:tn,pub:rn,isStatic:ln,onClick:En,isDisabled:Wn}){let kn;return tn!=null&&tn.comment_url_override?kn=tn.comment_url_override:ln?kn=`${N.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`:rn&&(kn=(0,Y.getPostUrl)(rn,tn,{comments:!0})),(0,o.h)(co,{style:xt,icon:(0,o.h)(Xe.Z,{className:"icon",height:H(xt),strokeWidth:Q}),href:Wn?null:kn,onClick:Wn?()=>{}:Un=>{En?En(Un):(Un==null||Un.preventDefault(),window.location.href=kn)},noLabel:zt==="none",className:"post-ufi-comment-button",isDisabled:Wn},zt==="cta"&&"Comment",zt==="count"&&(0,G.numberToString)(Ft||0))}function Zr({post:xt,user:Ft,pub:zt,style:tn,labelStyle:rn,isStatic:ln,onChange:En,position:Wn}){const kn=(0,u.sO)(),Un=(0,u.I4)(()=>{(0,te.j)(te.FP.POST_SHARE_BUTTON_CLICKED,{position:Wn}),kn.current.open()},[]);let Zn;xt.share_url_override?Zn=xt.share_url_override:ln?xt?Zn=N.Substitutions.SHARE_URL:Zn=N.Substitutions.SHARE_PUB_URL:Zn="javascript:void(0)";const or=rn==="none";return(0,o.h)(o.Fragment,null,(0,o.h)(co,{style:tn,icon:or?(0,o.h)(P.Z,{className:"icon",height:H(tn),strokeWidth:Q}):null,onClick:Un,href:Zn,noLabel:rn==="none",className:_()(!or&&"no-icon")},rn==="cta"&&"Share"),!ln&&(0,o.h)(I.ZP,{ref:kn,user:Ft,pub:zt,post:xt,onChange:En}))}function yo({post:xt,user:Ft,pub:zt,onClick:tn,style:rn}){return(0,o.h)(o.Fragment,null,(0,o.h)(co,{style:rn,icon:(0,o.h)(Se.Z,{className:"icon",height:H(rn,"verbose"),strokeWidth:Q}),onClick:()=>{(0,te.j)(te.FP.RESTACK_POST_CLICKED,{restacked_publication_id:zt.id,restacked_post_id:xt.id,restacking_user_id:Ft.id,is_from_email:!1}),tn()},noLabel:!1,verboseLabel:!0,title:"Cross-Post"},"Cross-post"))}function ho({post:xt,user:Ft,pub:zt,onClick:tn}){const rn=()=>{(0,te.j)(te.FP.RESTACK_POST_CLICKED,{restacked_publication_id:zt.id,restacked_post_id:xt.id,restacking_user_id:Ft.id,is_from_email:!1}),tn()};return(0,o.h)(o.Fragment,null,(0,o.h)(_e.sN,{onClick:rn},"Cross-post"))}function $r({style:xt,pub:Ft,post:zt,user:tn,hidePinning:rn,emailSent:ln,allowSendEmail:En,footerHidden:Wn,showRestackModal:kn,canBeCrossPosted:Un,onSummaryOpen:Zn}){const or=(0,u.sO)();Wn&&or.current&&or.current.close();const yt=Le({post:zt,pub:Ft,user:tn,defaultOpen:kn&&Un}),Wt=()=>{yt.open(),(0,te.j)(te.FP.RESTACK_POST_CLICKED,{restacked_publication_id:Ft.id,restacked_post_id:zt.id,restacking_user_id:tn.id,is_from_email:!1})};return(0,o.h)("div",{className:_()("edit-button-container","post-ufi-button",`style-${xt}`)},(0,o.h)(co,{onClick:()=>or.current.open(),style:xt,icon:(0,o.h)(T.Z,{className:"icon edit-icon",size:H(xt),strokeWidth:2}),noLabel:!0}),(0,o.h)(lt.y,{ref:or,pub:Ft,post:zt,user:tn,className:"post-ufi-edit-menu",useDrawerOnMobile:!0,hidePinning:rn,emailSent:ln,allowSendEmail:En,handleCrossPost:Un&&Wt,onSummaryOpen:Zn}),yt.modal)}const co=(0,f.forwardRef)(({icon:xt,children:Ft,state:zt,style:tn,onClick:rn,href:ln,noLabel:En,verboseLabel:Wn,noBorder:kn,className:Un,isDisabled:Zn,iconPosition:or="left",title:yt},Wt)=>(0,o.h)("a",{role:"button",className:_()("post-ufi-button",`style-${tn}`,Un,zt?`state-${zt}`:void 0,Zn?"state-disabled":void 0,Ft&&!En?"has-label":"no-label",kn?"no-border":"with-border",Wn?"verbose-label":""),title:yt,href:ln,onClick:Zt=>{rn&&(Zt.stopPropagation(),rn(Zt))},ref:Wt},or==="left"&&xt,!En&&Ft&&(0,o.h)("div",{className:"label"},Ft),or==="right"&&xt)),io=({pub:xt,post:Ft,showAuthor:zt})=>!!(zt&&xt.bylines_enabled&&(0,G.getPrintedByline)(xt,Ft)),Tr=({pub:xt,post:Ft,showAuthor:zt,showPhoto:tn,isMobileWidth:rn})=>io({pub:xt,post:Ft,showAuthor:zt})&&!Hr({pub:xt,post:Ft,showAuthor:zt})&&!Po({pub:xt,post:Ft,showAuthor:zt,showPhoto:tn})&&!rn,Hr=({pub:xt,post:Ft,showAuthor:zt})=>io({pub:xt,post:Ft,showAuthor:zt})&&(0,G.getBylineUsers)(Ft).length>1,Po=({pub:xt,post:Ft,showAuthor:zt,showPhoto:tn})=>{var rn;return io({pub:xt,post:Ft,showAuthor:zt})&&tn&&((rn=(0,G.getBylineUsers)(Ft)[0])==null?void 0:rn.photo_url)&&xt.byline_images_enabled};function oo({post:xt,showDatetime:Ft,isStatic:zt,fromPostPage:tn,showReactions:rn}){const ln=xt.reactions?Object.values(xt.reactions).reduce((Wn,kn)=>Wn+kn,0):0,En=tn&&!zt&&rn&&ln>=70&&ln<100;return Ft&&En?B()(xt.post_date).standardDatetimeWithYear():Ft&&!En?B()(xt.post_date).standardDatetime():zt?B()(xt.post_date).standardDate():En?B()(xt.post_date).standardDate({full:En}):B()(xt.post_date).standardDateOrTime()}function Xr({pub:xt,post:Ft,showPins:zt,showAudience:tn,showDate:rn,showDatetime:ln,showEmailSent:En,showAuthor:Wn,showPublicationName:kn,showCrossPostedPublicationName:Un}){const Zn=(0,le.Tf)(),or=!!(Wn&&xt.bylines_enabled&&(0,G.getPrintedByline)(xt,Ft)),yt=!1,Wt=rn&&Ft.post_date&&!Ft.is_draft,Zt=En?!!Ft.email_sent_at:null;return(0,o.h)("div",{className:_()("ufi-preamble",{themed:Zn})},Un&&Ft.restacked_pub_name?(0,o.h)("div",{className:"ufi-preamble-label cross-posted-pub-name"},"Published on ",Ft.restacked_pub_name):null,En&&Zt&&(0,o.h)("div",{className:"email-sent",title:"This post was sent as an email"},(0,o.h)(C.Z,{className:"post-ufi-preamble-icon",size:16})),zt&&Ft.is_section_pinned&&(0,o.h)("div",{className:"pinned"},(0,o.h)(Fe.Z,{className:"post-ufi-preamble-icon"})),Ft.type==="adhoc_email"?(0,o.h)("div",{className:"audience-adhoc"},(0,o.h)(We.Z,{className:"post-ufi-preamble-icon"})):tn&&(0,V.isPaidAudience)(Ft.audience)&&(0,o.h)("div",{className:"audience-lock"},(0,o.h)(ze.Z,{audience:Ft.audience,className:"lock-icon post-ufi-preamble-icon",size:16})),Tr({pub:xt,post:Ft,showAuthor:or,isMobileWidth:yt})&&(0,o.h)("div",{className:"ufi-preamble-label author"},(0,G.getBylineUsers)(Ft).length>0?(0,G.oxfordComma)((0,G.getBylineUsers)(Ft).map(Xt=>(0,o.h)(o.Fragment,null,(0,o.h)(Et.Ct,{subject:Xt,utmSource:"byline"},(0,o.h)("a",{href:(0,Y.getProfileUrl)(Xt,xt,{base:!0}),onClick:Dn=>Dn.stopPropagation()},Xt.name))))):(0,G.getPrintedByline)(xt,Ft)),kn&&(0,o.h)("div",{className:"post-publication-name"},xt.name),Wt&&(0,o.h)("div",{className:"ufi-preamble-label post-date",title:B()(Ft.post_date).toISOString()},(0,o.h)("time",{dateTime:B()(Ft.post_date).toISOString()},oo({post:Ft,showDatetime:ln}))))}const po=({pub:xt,post:Ft,user:zt,onChange:tn})=>(0,ue.xR)().getConfigFor("like_posts_enabled")&&xt.community_enabled?(0,o.h)(Rt,{style:"button",post:Ft,pub:xt,user:zt,onChange:tn}):null,Oo=({pub:xt,post:Ft,onClick:zt})=>{const tn=(0,G.showCommentsOnPost)({publication:xt,post:Ft}),{comment_count:rn}=Ft;return tn?(0,o.h)(Wr,{post:Ft,pub:xt,labelStyle:rn>0?"count":"none",style:"button",count:rn,onClick:zt}):null};function ri({post:xt,pub:Ft,user:zt,onChange:tn,onCommentsClick:rn,showRestackModal:ln=!1,showTranscriptionButton:En,onTranscriptionClick:Wn}){const kn=(0,L.LC)(),Un=(zt==null?void 0:zt.is_contributor)&&!kn,{getSettingFor:Zn}=(0,ie.So)(),or=!xt.is_draft&&(0,Z.x)(zt,{enable_restacking:!!Zn("enable_restacking")},xt,Ft,!1),[yt,Wt]=(0,u.eJ)(!1);return(0,o.h)(de.hs,{className:"post-ufi",alignItems:"center",borderTop:"detail-themed",borderBottom:"detail-themed",justifyContent:"space-between",gap:16,flex:"grow",paddingY:16},(0,o.h)(de.hs,{gap:8},(0,o.h)(po,{post:xt,pub:Ft,user:zt,onChange:tn}),(0,o.h)(Oo,{pub:Ft,post:xt,onClick:rn}),(0,o.h)(Mn,{pub:Ft,post:xt,onChange:tn,style:"button"}),En&&(0,o.h)(nn,{style:"button",onClick:Wn})),(0,o.h)(de.hs,{gap:8},(0,o.h)(x.s,{post:xt,pub:Ft,user:zt,trigger:{style:"button",labelStyle:"cta"}}),Un?(0,o.h)($r,{style:"button",pub:Ft,post:xt,user:zt,showRestackModal:ln,canBeCrossPosted:or,onSummaryOpen:()=>Wt(!0)}):(zt||or)&&(0,o.h)(sr,{post:xt,pub:Ft,user:zt,onChange:tn,showRestackModal:ln,canBeCrossPosted:or,onSummaryOpen:()=>Wt(!0)})),(0,o.h)(tr,{postId:xt.id,isOpen:yt,onClose:()=>Wt(!1)}))}function Jt({isFooter:xt,customization:{showShare:Ft,showComments:zt,showReactions:tn,showListen:rn,showSave:ln,showRestack:En,showCommentRestack:Wn}}){const kn=xt?"email-ufi-2-bottom":"email-ufi-2-top",Un=!xt&&(En||rn||ln),Zn=xt;return!xt&&!Ft&&!zt&&!tn&&!rn&&!ln&&En?(0,o.h)(J.YF,{className:"email-ufi-2-empty",width:"100%"},(0,o.h)("tr",{height:1},(0,o.h)("td",{height:1,style:{fontSize:0,lineHeight:0}},"\xA0"))):(0,o.h)(J.YF,{className:kn,width:"100%"},En&&xt&&(0,o.h)(o.Fragment,null,(0,o.h)(Tn,null),(0,o.h)("tr",null,(0,o.h)("td",null,(0,o.h)(J.YF,{width:"100%",className:"email-ufi-2-row"},(0,o.h)("tr",null,(0,o.h)("td",{width:"95%"},Ft&&(0,o.h)(J._i,{tableClassName:"email-button-outline-wrapper-full-width",aClassName:"email-button-outline full-width",href:N.Substitutions.SHARE_URL},(0,o.h)(Qe.Z,Je({},xn)),(0,o.h)("span",{className:"email-button-text"},"Share")))),(0,o.h)(Tn,null))))),(0,o.h)(Tn,null),(0,o.h)("tr",null,(0,o.h)("td",null,(0,o.h)(J.YF,{width:"100%"},(0,o.h)("tr",null,(0,o.h)("td",null,(0,o.h)(J.zK,{gap:8,style:Un?void 0:{margin:"0 auto"}},tn?Zn?(0,o.h)(J._i,{aClassName:"email-button-outline",href:N.Substitutions.REACTION_URL},(0,o.h)(ct.Z,Je({},xn)),(0,o.h)("span",{className:"email-button-text"},"Like")):(0,o.h)(Xn,{href:N.Substitutions.REACTION_URL},(0,o.h)(ct.Z,Je({},xn))):null,zt?Zn?(0,o.h)(J._i,{aClassName:"email-button-outline",href:`${N.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`},(0,o.h)(Xe.Z,Je({},xn)),(0,o.h)("span",{className:"email-button-text"},"Comment")):(0,o.h)(Xn,{href:`${N.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`},(0,o.h)(Xe.Z,Je({},xn))):null,Wn&&(Zn?(0,o.h)(J._i,{aClassName:"email-button-outline",href:`${N.Substitutions.RESTACK_COMMENT_URL}&utm_source=substack&utm_medium=email`},(0,o.h)(ge.Z,Je({},xn)),(0,o.h)("span",{className:"email-button-text"},"Restack")):(0,o.h)(Xn,{href:`${N.Substitutions.RESTACK_COMMENT_URL}&utm_source=substack&utm_medium=email`},(0,o.h)(ge.Z,Je({},xn)))))),(0,o.h)("td",{align:"right"},(0,o.h)(J.zK,{gap:8},Ft&&!xt&&(0,o.h)(J._i,{aClassName:"email-button-outline",href:N.Substitutions.SHARE_URL},(0,o.h)("div",{className:"email-button-spacer"}),(0,o.h)("span",{className:"email-button-text"},"Share")))))))),(0,o.h)(Tn,null))}function Tn(){return(0,o.h)("tr",{height:16},(0,o.h)("td",{height:16,style:{fontSize:0,lineHeight:0}},"\xA0"))}const xn={className:"icon",height:18,strokeWidth:1,isStatic:!0,stroke:"#808080",fill:"none"};function Xn({size:xt=38,href:Ft,children:zt}){return(0,o.h)(J.YF,{width:xt},(0,o.h)("tr",null,(0,o.h)("td",{align:"center"},(0,o.h)("a",{className:"email-icon-button",href:Ft,style:{width:xt}},zt))))}},79786:(z,l,e)=>{"use strict";e.d(l,{e:()=>P});var o=e(6400),f=e(94184),u=e.n(f),c=e(15045),_=e(20501);const g={img:"frontend-components-responsive_img-module__img--Pgjj2"};var E=Object.defineProperty,v=Object.defineProperties,y=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,O=(C,D,A)=>D in C?E(C,D,{enumerable:!0,configurable:!0,writable:!0,value:A}):C[D]=A,p=(C,D)=>{for(var A in D||(D={}))w.call(D,A)&&O(C,A,D[A]);if(T)for(var A of T(D))S.call(D,A)&&O(C,A,D[A]);return C},d=(C,D)=>v(C,y(D)),a=(C,D)=>{var A={};for(var x in C)w.call(C,x)&&D.indexOf(x)<0&&(A[x]=C[x]);if(C!=null&&T)for(var x of T(C))D.indexOf(x)<0&&S.call(C,x)&&(A[x]=C[x]);return A};function P(C){var D=C,{src:A,maxWidth:x,imageProps:I={},alt:N="",className:F,imageRef:B}=D,V=a(D,["src","maxWidth","imageProps","alt","className","imageRef"]);const Z=L=>{if(I!=null&&I.height){const W=x/I.height;return{height:Math.floor(L/W),aspect:null}}return{}},Y=c.WEB_RESPONSIVE_IMAGE_WIDTHS.includes(x)?c.WEB_RESPONSIVE_IMAGE_WIDTHS:[...c.WEB_RESPONSIVE_IMAGE_WIDTHS,x];Y.sort((L,W)=>L-W);const ne=Y.map(L=>({width:L,src:(0,_.imginary)(A,L,p(p({},I),Z(L)))})).filter(L=>L.width<=x),G=Y.map(L=>({width:L,src:(0,_.imginary)(A,L,d(p(p({},I),Z(L)),{format:"webp"}))})).filter(L=>L.width<=x);return(0,o.h)("picture",null,G.length>1?(0,o.h)("source",{type:"image/webp",srcset:G.map(L=>`${L.src} ${L.width}w`).join(", "),sizes:"100vw"}):(0,o.h)("source",{type:"image/webp",srcset:(0,_.imginary)(A,x,d(p({},I),{format:"webp"}))}),(0,o.h)("img",d(p({className:u()(g.img,F),src:(0,_.imginary)(A,x,I),sizes:"100vw",alt:N,srcset:ne.length>1?ne.map(L=>`${L.src} ${L.width}w`).join(", "):void 0},V),{width:x,height:I==null?void 0:I.height,ref:B})))}},30105:(z,l,e)=>{"use strict";e.d(l,{L:()=>c});var o=e(6400),f=e(94184),u=e.n(f);const c=({children:_,title:g="",content:E="",className:v="",showFirst:y=!1,disabled:T=!1})=>T?(0,o.h)(o.Fragment,null,_):(0,o.h)("div",{className:`popover-container ${v}`},(0,o.h)("div",{className:u()("popover typography",{showfirst:y})},(0,o.h)("div",{className:"content"},g&&(0,o.h)("strong",null,g),E&&(0,o.h)("section",null,E)),(0,o.h)("div",{className:"popover-tail"})),_)},25877:(z,l,e)=>{"use strict";e.d(l,{CH:()=>Z,KG:()=>V,Yq:()=>G});var o=e(6400),f=e(30396),u=e(88812),c=e(83322),_=e(19698),g=e(8479),E=e(39419),v=e.n(E),y=e(13045),T=e(76235),w=e(67963),S=Object.defineProperty,O=Object.defineProperties,p=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,C=(L,W,ie)=>W in L?S(L,W,{enumerable:!0,configurable:!0,writable:!0,value:ie}):L[W]=ie,D=(L,W)=>{for(var ie in W||(W={}))a.call(W,ie)&&C(L,ie,W[ie]);if(d)for(var ie of d(W))P.call(W,ie)&&C(L,ie,W[ie]);return L},A=(L,W)=>O(L,p(W)),x=(L,W,ie)=>new Promise((ue,le)=>{var J=ee=>{try{se(ie.next(ee))}catch(ae){le(ae)}},te=ee=>{try{se(ie.throw(ee))}catch(ae){le(ae)}},se=ee=>ee.done?ue(ee.value):Promise.resolve(ee.value).then(J,te);se((ie=ie.apply(L,W)).next())});const I={mutes:[],blocks:[],blocked:[]},N=(0,o.createContext)({result:I,refetch:()=>null});N.displayName="UserBlockContext";function F({user:L,children:W}){var ie;const ue=useFetch({pathname:"/api/v1/blocks/ids",deps:[L],auto:!!L});return h(N.Provider,{value:{result:(ie=ue.result)!=null?ie:I,refetch:ue.refetch}},W)}function B(){return(0,f.qp)(N)}function V(L){const{result:{mutes:W,blocks:ie,blocked:ue}}=(0,f.qp)(N);return L?W.includes(L)?"muting":ie.includes(L)?"blocking":ue.includes(L)?"blocked":null:null}function Z(L,W){const ie=(0,w.aF)(),ue=!!(ie&&L&&ie.id!==L.id),le=B(),J=V(L==null?void 0:L.id),te=(0,y.pm)(),se=(0,c.guessFirstName)((L==null?void 0:L.name)||""),ee=()=>x(this,null,function*(){if(L){try{yield(0,g.rd)(`/api/v1/blocks/${L.id}`,{method:"POST",json:{type:"mute",surface:W}})}catch(de){te.popToast(_e=>(0,o.h)(y.FN,A(D({},_e),{text:(0,E.getNetworkErrorMessage)(de)})));return}le.refetch(),te.popToast(de=>(0,o.h)(y.FN,A(D({},de),{text:`${L.name||"User"} muted`,Icon:_.Z})))}}),ae=()=>x(this,null,function*(){if(L){try{yield(0,g.rd)(`/api/v1/blocks/${L.id}`,{method:"DELETE",query:{surface:W}})}catch(de){te.popToast(_e=>(0,o.h)(y.FN,A(D({},_e),{text:(0,E.getNetworkErrorMessage)(de)})));return}le.refetch(),te.popToast(de=>(0,o.h)(y.FN,A(D({},de),{text:`${L.name||"User"} unmuted`,Icon:_.Z})))}}),ce=()=>x(this,null,function*(){if(L){try{yield(0,g.rd)(`/api/v1/blocks/${L.id}`,{method:"POST",json:{type:"block",surface:W}})}catch(de){te.popToast(_e=>(0,o.h)(y.FN,A(D({},_e),{text:(0,E.getNetworkErrorMessage)(de)})));return}le.refetch(),te.popToast(de=>(0,o.h)(y.FN,A(D({},de),{text:`${L.name||"User"} blocked`,Icon:u.Z})))}}),fe=()=>x(this,null,function*(){if(L){try{yield(0,g.rd)(`/api/v1/blocks/${L.id}`,{method:"DELETE",query:{surface:W}})}catch(de){te.popToast(_e=>(0,o.h)(y.FN,A(D({},_e),{text:(0,E.getNetworkErrorMessage)(de)})));return}le.refetch(),te.popToast(de=>(0,o.h)(y.FN,A(D({},de),{text:`${L.name||"User"} unblocked`,Icon:u.Z})))}}),Ee=[];return ue&&(J!=="blocking"&&Ee.push((0,o.h)(T.sN,{icon:(0,o.h)(_.Z,null),onClick:J==="muting"?ae:ee},J==="muting"?"Unmute":"Mute")),Ee.push((0,o.h)(T.sN,{icon:(0,o.h)(u.Z,null),onClick:J==="blocking"?fe:ce},J==="blocking"?"Unblock":"Block"))),Ee}const Y=(0,o.createContext)(!1);Y.displayName="MuteFreeZone";function ne({muteFree:L=!0,children:W}){return h(Y.Provider,{value:L},W)}function G(){return(0,f.qp)(Y)}},2405:(z,l,e)=>{"use strict";e.d(l,{LC:()=>_,uL:()=>c});var o=e(6400),f=e(30396);const u=(0,o.createContext)(null);u.displayName="CrossPostContext";function c({crossPost:g=null,children:E}){return(0,o.h)(u.Provider,{value:g},E)}function _(){return(0,f.qp)(u)}},4190:(z,l,e)=>{"use strict";e.d(l,{Vt:()=>I,jc:()=>N,kx:()=>x,ng:()=>A,xu:()=>P});var o=e(6400),f=e(98661),u=e(30396),c=e(80569),_=e.n(c),g=Object.defineProperty,E=Object.defineProperties,v=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,S=(B,V,Z)=>V in B?g(B,V,{enumerable:!0,configurable:!0,writable:!0,value:Z}):B[V]=Z,O=(B,V)=>{for(var Z in V||(V={}))T.call(V,Z)&&S(B,Z,V[Z]);if(y)for(var Z of y(V))w.call(V,Z)&&S(B,Z,V[Z]);return B},p=(B,V)=>E(B,v(V)),d=(B,V,Z)=>new Promise((Y,ne)=>{var G=ie=>{try{W(Z.next(ie))}catch(ue){ne(ue)}},L=ie=>{try{W(Z.throw(ie))}catch(ue){ne(ue)}},W=ie=>ie.done?Y(ie.value):Promise.resolve(ie.value).then(G,L);W((Z=Z.apply(B,V)).next())}),a;const P={variantOverrides:{},experimentFeatures:{},experimentExposures:{}},C=typeof window!="undefined"&&window._preloads||P,D=typeof window!="undefined"?(a=window._preloads)==null?void 0:a.siteConfigs:{},A=(B,V)=>{const Z=L=>{if(!L||!B)return null;const W=B[L];return W===void 0?null:W},Y=(L,{onlyConsiderExposedValues:W}={})=>{if(!L)return null;const ie=Z(L);if(ie&&typeof ie=="string"&&ie!=="experiment")return{intendedVariant:ie,shouldLog:!1};if(V.variantOverrides&&L in V.variantOverrides)return{intendedVariant:V.variantOverrides[L],shouldLog:!1};const ue=V.experimentExposures||{};if(ue[L])return{intendedVariant:ue[L],shouldLog:!1};if(!W){const le=V.experimentFeatures||{};if(le[L])return{intendedVariant:le[L],shouldLog:!0}}return null};return{getExperimentVariant:(L,{onlyConsiderExposedValues:W}={})=>{const ie=Y(L,{onlyConsiderExposedValues:W});return ie?ie.intendedVariant:null},exposeExperiment:L=>d(void 0,null,function*(){const{intendedVariant:W,shouldLog:ie}=Y(L)||{};if(!ie)return!1;if(typeof window!="undefined"){window._preloads.experimentExposures=window._preloads.experimentExposures||{};const ue=window._preloads.experimentExposures;ue[L]=W;try{yield _().post("/api/v1/experiment_exposure").send({experiment_name:L,variant_name:W})}catch(le){delete ue[L]}}return!0})}},x=(0,o.createContext)(A(D,C));x.displayName="ExperimentsContext";function I({siteConfigs:B={},experimentInfo:V,children:Z}){const Y=V||C,ne=(0,u.Ye)(()=>A(B,Y),[B,...Object.values(Y)]);return(0,o.h)(x.Provider,{value:ne},Z)}function N(){return(0,u.qp)(x)}const F=B=>{const V=forwardRef((Z,Y)=>{const ne=N();return h(B,p(O(O({},ne),Z),{ref:Y}))});return V.displayName=`withExperimentsContext(${B.displayName||B.name||"Anonymous"})`,V}},58718:(z,l,e)=>{"use strict";e.d(l,{oh:()=>L,Sv:()=>W,Xe:()=>ne});var o=e(6400),f=e(30396),u=e(94184),c=e(82569),_=e.n(c),g=e(69518),E=e(60779),v=e(59386),y=e(39776),T=e(26686),w=e(83322),S=e(8479),O=e(39419),p=e(13045),d=e(76235),a=e(25877),P=e(67963);const C={followButton:"frontend-contexts-feedFollows-module__followButton--rTqht",on:"frontend-contexts-feedFollows-module__on--KoBsr",justFollowed:"frontend-contexts-feedFollows-module__justFollowed--_lHDs",off:"frontend-contexts-feedFollows-module__off--UyHQE"};var D=Object.defineProperty,A=Object.defineProperties,x=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,B=(ue,le,J)=>le in ue?D(ue,le,{enumerable:!0,configurable:!0,writable:!0,value:J}):ue[le]=J,V=(ue,le)=>{for(var J in le||(le={}))N.call(le,J)&&B(ue,J,le[J]);if(I)for(var J of I(le))F.call(le,J)&&B(ue,J,le[J]);return ue},Z=(ue,le)=>A(ue,x(le)),Y=(ue,le,J)=>new Promise((te,se)=>{var ee=fe=>{try{ce(J.next(fe))}catch(Ee){se(Ee)}},ae=fe=>{try{ce(J.throw(fe))}catch(Ee){se(Ee)}},ce=fe=>fe.done?te(fe.value):Promise.resolve(fe.value).then(ee,ae);ce((J=J.apply(ue,le)).next())});function ne(){return(0,T._)("/api/v1/feed/following")}function G(ue){const{data:le}=ne();return(le!=null?le:[]).includes(ue)}function L(ue,le){const{isFollowing:J,toggle:te}=W(ue,le),se=(0,P.aF)(),ee=(0,a.KG)(ue==null?void 0:ue.id),ce=(0,y.default)("enable_notes_following")&&!!(se&&ue&&se.id!==ue.id)&&!ee,fe=(0,w.guessFirstName)((ue==null?void 0:ue.name)||""),Ee=[];return ce&&Ee.push((0,o.h)(d.sN,{icon:J?(0,o.h)(v.m,{stroke:"var(--color-primary)"}):(0,o.h)(E.w,{stroke:"var(--color-primary)"}),onClick:te},J?`Unfollow ${fe}`:`Follow ${fe}`)),Ee}function W(ue,le){const J=G(ue==null?void 0:ue.id),{mutate:te,data:se}=ne(),ee=(0,p.pm)(),ae=(0,w.guessFirstName)((ue==null?void 0:ue.name)||""),ce=Ee=>Y(this,null,function*(){te((de=[])=>Ee?[...de,ue.id]:_()(de,ue.id),{revalidate:!1});try{yield(0,S.rd)(`/api/v1/feed/${ue.id}/follow`,{method:Ee?"POST":"DELETE",json:{surface:le}}),ee.popToast(de=>(0,o.h)(p.FN,Z(V({},de),{Icon:Ee?g.$:v.m,text:Ee?`Followed ${ae}`:`Unfollowed ${ae}`})))}catch(de){ee.popToast(_e=>(0,o.h)(p.FN,Z(V({},_e),{text:(0,O.getNetworkErrorMessage)(de)})));return}});return{isFollowing:J,toggle:()=>ce(!J),isLoaded:!!se}}function ie(ue,le){const{isFollowing:J,toggle:te}=W(ue,le),[se,ee]=useState(!1);return{isFollowing:J,buttonProps:{onClick:()=>{te(),J||ee(!0)},onMouseLeave:()=>ee(!1),className:classnames(css.followButton,se&&css.justFollowed)},css}}},78710:(z,l,e)=>{"use strict";e.d(l,{wj:()=>B,_7:()=>Z,M1:()=>V,fz:()=>Y});var o=e(6400),f=e(98661),u=e(30396);/*! gettext.js - Guillaume Potier - MIT Licensed */var c=function(ne){ne=ne||{},this&&(this.__version="1.1.1");var G={domain:"messages",locale:(typeof document!="undefined"?document.documentElement.getAttribute("lang"):!1)||"en",plural_func:function(de){return{nplurals:2,plural:de!=1?1:0}},ctxt_delimiter:String.fromCharCode(4)},L={isObject:function(de){var _e=typeof de;return _e==="function"||_e==="object"&&!!de},isArray:function(de){return toString.call(de)==="[object Array]"}},W={},ie=ne.locale||G.locale,ue=ne.domain||G.domain,le={},J={},te=ne.ctxt_delimiter||G.ctxt_delimiter;ne.messages&&(le[ue]={},le[ue][ie]=ne.messages),ne.plural_forms&&(J[ie]=ne.plural_forms);var se=function(de){var _e=arguments;return de.replace(/%%/g,"%% ").replace(/%(\d+)/g,function(ve,De){return _e[De]}).replace(/%% /g,"%")},ee=function(de){if(de.indexOf(te)!==-1){var _e=de.split(te);return _e[1]}return de},ae=function(de){for(var _e=[de],ve=de.lastIndexOf("-");ve>0;)de=de.slice(0,ve),_e.push(de),ve=de.lastIndexOf("-");return _e},ce=function(de){de=de.replace("_","-");var _e=de.search(/[.@]/);return _e!=-1&&(de=de.slice(0,_e)),de},fe=function(de){var _e=new RegExp("^\\s*nplurals\\s*=\\s*[0-9]+\\s*;\\s*plural\\s*=\\s*(?:\\s|[-\\?\\|&=!<>+*/%:;n0-9_()])+");if(!_e.test(de))throw new Error(se('The plural form "%1" is not valid',de));return new Function("n","var plural, nplurals; "+de+" return { nplurals: nplurals, plural: (plural === true ? 1 : (plural ? plural : 0)) };")},Ee=function(de,_e,ve){if(!ve.plural_form)return se.apply(this,[ee(de[0])].concat(Array.prototype.slice.call(arguments,3)));var De;return ve.plural_func?De=ve.plural_func(_e):(W[ie]||(W[ie]=fe(J[ie])),De=W[ie](_e)),(typeof De.plural=="undefined"||De.plural>De.nplurals||de.length<=De.plural)&&(De.plural=0),se.apply(this,[ee(de[De.plural]),_e].concat(Array.prototype.slice.call(arguments,3)))};return{strfmt:se,expand_locale:ae,__:function(){return this.gettext.apply(this,arguments)},_n:function(){return this.ngettext.apply(this,arguments)},_p:function(){return this.pgettext.apply(this,arguments)},setMessages:function(de,_e,ve,De){if(!de||!_e||!ve)throw new Error("You must provide a domain, a locale and messages");if(typeof de!="string"||typeof _e!="string"||!L.isObject(ve))throw new Error("Invalid arguments");return _e=ce(_e),De&&(J[_e]=De),le[de]||(le[de]={}),le[de][_e]=ve,this},loadJSON:function(de,_e){if(L.isObject(de)||(de=JSON.parse(de)),!de[""]||!de[""].language||!de[""]["plural-forms"])throw new Error('Wrong JSON, it must have an empty key ("") with "language" and "plural-forms" information');var ve=de[""];return delete de[""],this.setMessages(_e||G.domain,ve.language,de,ve["plural-forms"])},setLocale:function(de){return ie=ce(de),this},getLocale:function(){return ie},textdomain:function(de){return de?(ue=de,this):ue},gettext:function(de){return this.dcnpgettext.apply(this,[void 0,void 0,de,void 0,void 0].concat(Array.prototype.slice.call(arguments,1)))},ngettext:function(de,_e,ve){return this.dcnpgettext.apply(this,[void 0,void 0,de,_e,ve].concat(Array.prototype.slice.call(arguments,3)))},pgettext:function(de,_e){return this.dcnpgettext.apply(this,[void 0,de,_e,void 0,void 0].concat(Array.prototype.slice.call(arguments,2)))},dcnpgettext:function(de,_e,ve,De,Oe){if(de=de||ue,typeof ve!="string")throw new Error(this.strfmt('Msgid "%1" is not a valid translatable string',ve));var ye,ze={plural_form:!1},Be=_e?_e+te+ve:ve,We,Ke,Xe=ae(ie);for(var ct in Xe)if(Ke=Xe[ct],We=le[de]&&le[de][Ke]&&le[de][Ke][Be],De?We=We&&typeof le[de][Ke][Be]!="string":We=We&&typeof le[de][Ke][Be]=="string",We)break;return We?ye=le[de][Ke][Be]:(ye=ve,ze.plural_func=G.plural_func),De?(ze.plural_form=!0,Ee.apply(this,[We?ye:[ve,De],Oe,ze].concat(Array.prototype.slice.call(arguments,5)))):Ee.apply(this,[[ye],Oe,ze].concat(Array.prototype.slice.call(arguments,5)))}}};const _=c,g=JSON.parse(`{"":{"language":"de","content-type":"text/plain; charset=UTF-8","plural-forms":"nplurals=2; plural=(n != 1);","project-id-version":"","report-msgid-bugs-to":"","pot-creation-date":"","po-revision-date":"","last-translator":"","language-team":"","content-transfer-encoding":""},"Address line 1":"Anschrift Zeile 1","Address line 2":"Adresszeile 2","Back":"Zur\xFCck","City":"Stadt","Enter new tax id...":"Neue Steuernummer eingeben...","Founding Plan":"Gr\xFCndungsplan","Monthly Plan":"Monatlicher Plan","Quarterly Plan":"Viertelj\xE4hrlicher Plan","State/Province":"Staat/Provinz","Tax IDs":"Steuer-IDs","Yearly Plan":"Jahresplan","Zip/Postal code":"Postleitzahl/Postleitzahl","Address":"Adresse","Billing details":"Rechnungsdetails","Billing Email":"Abrechnung per E-Mail","Card on file: ":"Karte hinterlegt: ","Name / Company Name":"Name / Firmenname","Update your card information":"Aktualisieren Sie Ihre Karteninformationen","Update your payment information now to ensure that your subscription to %1 stays active":"Aktualisieren Sie jetzt Ihre Zahlungsinformationen, um sicherzustellen, dass Ihr Abonnement f\xFCr %1 aktiv bleibt","Save":"Speichern","None":"Keiner","Australian Business Number (AU ABN)":"Australische Gesch\xE4ftsnummer (AU ABN)","Australian Taxation Office Reference Number":"Referenznummer des australischen Finanzamtes","Brazilian CNPJ number":"Brasilianische CNPJ-Nummer","Brazilian CPF number":"Brasilianische CPF-Nummer","Bulgaria Unified Identification Code":"Einheitlicher Identifikationscode f\xFCr Bulgarien","Canadian BN":"Kanadischer BN","Canadian GST/HST number":"Kanadische GST/HST-Nummer","Canadian PST number (British Columbia)":"Kanadische PST-Nummer (British Columbia)","Canadian PST number (Manitoba)":"Kanadische PST-Nummer (Manitoba)","Canadian PST number (Saskatchewan)":"Kanadische PST-Nummer (Saskatchewan)","Canadian QST number (Qu\xE9bec)":"Kanadische QST-Nummer (Qu\xE9bec)","Chilean TIN":"Chilenische TIN","European One Stop Shop VAT number for non-Union scheme":"Europ\xE4ische One-Stop-Shop-Mehrwertsteuer-Identifikationsnummer f\xFCr Nicht-EU-Systeme","European VAT number":"Europ\xE4ische Umsatzsteuer-Identifikationsnummer","Georgian VAT":"Georgische Mehrwertsteuer","Hong Kong BR number":"BR-Nummer f\xFCr Hongkong","Hungary tax number (ad\xF3sz\xE1m)":"Ungarn Steuernummer (ad\xF3sz\xE1m)","Icelandic VAT":"Isl\xE4ndische Mehrwertsteuer","Indian GST number":"Indische GST-Nummer","Indonesian NPWP number":"Indonesische NPWP-Nummer","Israel VAT":"Israelische Mehrwertsteuer","Japanese Corporate Number (*H\u014Djin Bang\u014D*)":"Japanische Unternehmensnummer (*H\u014Djin Bang\u014D*)","Japanese Registered Foreign Businesses' Registration Number (*T\u014Droku Kokugai Jigy\u014Dsha no T\u014Droku Bang\u014D*) ":"Registrierungsnummer japanischer registrierter ausl\xE4ndischer Unternehmen (*T\u014Droku Kokugai Jigy\u014Dsha no T\u014Droku Bang\u014D*) ","Korean BRN":"Koreanische BRN","Liechtensteinian UID number":"Liechtensteinische UID-Nummer","Malaysian FRP number":"Malaysische FRP-Nummer","Malaysian ITN C":"Malaysisches ITN C","Malaysian SST number":"Malaysische SST-Nummer","Mexican RFC number":"Mexikanische RFC-Nummer","New Zealand GST number":"Neuseel\xE4ndische GST-Nummer","Norwegian VAT number":"Norwegische Umsatzsteuer-Identifikationsnummer","Russian INN":"Russisches INN","Russian KPP":"Russische KPP","Saudi Arabia VAT":"Saudi-Arabien Mehrwertsteuer","Singaporean GST":"Singapurische GST","Singaporean UEN":"Singapurische UEN","Slovenia tax number (dav\u010Dna \u0161tevilka)":"Slowenien Steuernummer (dav\u010Dna \u0161tevilka)","South African VAT number":"S\xFCdafrikanische Umsatzsteuer-Identifikationsnummer","Spanish CIF number":"Spanische CIF-Nummer","Switzerland VAT number":"Schweizer Umsatzsteuer-Identifikationsnummer","Taiwanese VAT":"Taiwanesische Mehrwertsteuer","Thai VAT":"Thail\xE4ndische Mehrwertsteuer","Ukrainian VAT":"Ukrainische Mehrwertsteuer","United Arab Emirates TRN":"Vereinigte Arabische Emirate TRN","United Kingdom VAT number":"Umsatzsteuer-Identifikationsnummer des Vereinigten K\xF6nigreichs","United States EIN":"Vereinigte Staaten EIN"," You have been refunded %1":" Ihnen wurde %1 erstattet","Cancel or Pause Subscription":"Abonnement k\xFCndigen oder pausieren","Cancel Subscription":"Abonnement beenden","Done":"Erledigt","If you no longer want to subscribe, you can cancel your paid subscription. You can resubscribe anytime.":"Wenn Sie kein Abonnement mehr w\xFCnschen, k\xF6nnen Sie Ihr kostenpflichtiges Abonnement k\xFCndigen. Sie k\xF6nnen sich jederzeit erneut anmelden.","Loading...":"Wird geladen...","Oops, something went wrong":"Hoppla! Etwas ist schiefgelaufen","Pause Subscription":"Abonnement pausieren","Pause your subscription":"Pausieren Sie Ihr Abonnement","Subscription has been paused in the last 3 months and cannot be paused again at this time.":"Das Abonnement wurde in den letzten 3 Monaten pausiert und kann zu diesem Zeitpunkt nicht erneut pausiert werden.","Unpause subscription":"Abonnement pausieren","You will no longer be billed for %1.":"%1 wird Ihnen nicht mehr in Rechnung gestellt.","Your subscription is currently paused until %1.":"Ihr Abonnement ist derzeit bis %1 pausiert.","If you want to take a break from your paid subscription, you can pause it for a few months. This will stop all charges and paid subscriber benefits until you resume.":"Wenn Sie eine Pause von Ihrem kostenpflichtigen Abonnement einlegen m\xF6chten, k\xF6nnen Sie es f\xFCr einige Monate pausieren. Dadurch werden alle Geb\xFChren und bezahlten Abonnentenvorteile eingestellt, bis Sie fortfahren.","You will not be billed for your subscription until %1. We\u2019ll send you a reminder email three days before that date.":"Ihr Abonnement wird Ihnen erst %1 in Rechnung gestellt. Wir senden Ihnen drei Tage vor diesem Datum eine Erinnerungs-E-Mail.","1 month":"1 Monat","3 months":"3 Monate","6 months":"6 Monate","Anything else you'd like us to know?":"M\xF6chten Sie uns sonst noch etwas mitteilen?","Cancel my subscription":"K\xFCndige mein Abonnement","Cancel paid subscription":"Bezahltes Abonnement k\xFCndigen","Cancel subscription":"Abonnement beenden","Cancel your subscription":"K\xFCndigen Sie Ihr Abonnement","Continue subscribing to %1 and get one month free so you can keep enjoying the benefits of a paid subscription.":"Abonnieren Sie %1 weiterhin und erhalten Sie einen Monat gratis, damit Sie weiterhin die Vorteile eines kostenpflichtigen Abonnements genie\xDFen k\xF6nnen.","Continue to cancel":"Weiter stornieren","Disappointed in the content":"Vom Inhalt entt\xE4uscht","Doesn't fit my budget":"Passt nicht in mein Budget","Don't like the advertisements":"Die Werbung gef\xE4llt mir nicht","Don't want to auto-renew":"Ich m\xF6chte nicht automatisch verl\xE4ngern","Get a free month":"Holen Sie sich einen Gratismonat","If you have a moment, let us know why you cancelled":"Wenn Sie einen Moment Zeit haben, teilen Sie uns mit, warum Sie storniert haben","If you have a moment, let us know why you're cancelling":"Wenn Sie einen Moment Zeit haben, teilen Sie uns mit, warum Sie stornieren","Not enough content":"Nicht gen\xFCgend Inhalt","Not enough time":"Nicht genug Zeit","Other (please explain below)":"Sonstiges (bitte unten erl\xE4utern)","Pause paid subscription":"Bezahltes Abonnement pausieren","Pause paid subscription for":"Bezahltes Abonnement pausieren f\xFCr","Pause subscription":"Abonnement pausieren","Submit feedback":"Geben Sie Feedback ab","This will stop all charges and paid subscriber benefits until you resume.":"Dadurch werden alle Geb\xFChren und bezahlten Abonnentenvorteile eingestellt, bis Sie fortfahren.","We're sorry to see you go! Your paid subscriber benefits will end immediately. You can resubscribe anytime.":"Es tut uns leid, dass Sie uns verlassen! Ihre kostenpflichtigen Abonnentenvorteile enden sofort. Sie k\xF6nnen sich jederzeit erneut anmelden.","We're sorry to see you go! Your paid subscriber benefits will still continue until %1. You can resubscribe anytime.":"Es tut uns leid, dass Sie uns verlassen! Ihre bezahlten Abonnentenvorteile bleiben noch bis %1 bestehen. Sie k\xF6nnen sich jederzeit erneut anmelden.","You will no longer be billed for %1":"%1 wird Ihnen nicht mehr in Rechnung gestellt","Your paid subscription will automatically renew after the free month.":"Ihr kostenpflichtiges Abonnement verl\xE4ngert sich nach Ablauf des Gratismonats automatisch.","Your subscription has been cancelled":"Ihr Abonnement wurde gek\xFCndigt","Get one month for free":"Erhalten Sie einen Monat gratis","Share some feedback\u2026":"Teilen Sie uns Ihr Feedback mit ...","An account under %1 already exists. Do you want to transfer your subscriptions and publications to it? You will be signed out, and will need to sign in again as %2.":"Ein Konto unter %1 existiert bereits. M\xF6chten Sie Ihre Abonnements und Publikationen darauf \xFCbertragen? Sie werden abgemeldet und m\xFCssen sich erneut als %2 anmelden.","Cancel":"Stornieren","Change Email":"\xC4ndern Sie die E-Mail","Change your email address":"\xC4ndere deine Email Adresse","This will change the email address on all of your Substack subscriptions.":"Dadurch wird die E-Mail-Adresse aller Ihrer Substack-Abonnements ge\xE4ndert.","Transfer Account":"Konto \xFCbertragen","Transfer account to %1?":"Konto auf %1 \xFCbertragen?","You may want to do this for these reasons:":"M\xF6glicherweise m\xF6chten Sie dies aus folgenden Gr\xFCnden tun:","You signed up for one or more subscriptions with the wrong email address.":"Sie haben sich mit der falschen E-Mail-Adresse f\xFCr ein oder mehrere Abonnements angemeldet.","You want to transfer your existing subscriptions to a different Substack user.":"Sie m\xF6chten Ihre bestehenden Abonnements auf einen anderen Substack-Benutzer \xFCbertragen.","This action is <C1>irreversible</C1>, so be certain you want to transfer before submitting.":"Diese Aktion ist <C1>irreversibel</C1> Stellen Sie daher vor dem Absenden sicher, dass Sie eine \xDCbertragung durchf\xFChren m\xF6chten.","Check your spam folder to see if emails have gone there. If so, make sure \\"mark as not spam\\" in your email client.":"\xDCberpr\xFCfen Sie Ihren Spam-Ordner, um zu sehen, ob E-Mails dort gelandet sind. Wenn ja, stellen Sie in Ihrem E-Mail-Client sicher, dass die E-Mail als \u201EKein Spam\u201C gekennzeichnet ist.","Choose either \\"No Spam Filtering\\" or \\"Automatically Deliver to Spam Folder\\" (NOT \\"Delete Spam messages without delivering to Inbox\\").":"W\xE4hlen Sie entweder \u201EKeine Spam-Filterung\u201C oder \u201EAutomatisch an den Spam-Ordner senden\u201C (NICHT \u201ESpam-Nachrichten l\xF6schen, ohne sie an den Posteingang zu senden\u201C).","Click Inbox in the list on the left side of the screen, then Spam Settings.":"Klicken Sie in der Liste auf der linken Seite des Bildschirms auf \u201EPosteingang\u201C und dann auf \u201ESpam-Einstellungen\u201C.","Click on Advanced Settings from the menu on the left.":"Klicken Sie im Men\xFC links auf \u201EErweiterte Einstellungen\u201C.","Click the button below to send a test email and see if email delivery is working fine":"Klicken Sie auf die Schaltfl\xE4che unten, um eine Test-E-Mail zu senden und zu pr\xFCfen, ob die E-Mail-Zustellung einwandfrei funktioniert","From your Bell Mail inbox, click on Options in the top right corner. Select More Options from the drop-down menu.":"Klicken Sie in Ihrem Bell Mail-Posteingang oben rechts auf \u201EOptionen\u201C. W\xE4hlen Sie im Dropdown-Men\xFC Weitere Optionen aus.","In Xfinity Connect, click the Gear icon on the top right of the navigation bar and click Settings.":"Klicken Sie in Xfinity Connect oben rechts in der Navigationsleiste auf das Zahnradsymbol und dann auf Einstellungen.","Login to your Cox webmail. On the blue bar at the top, click the gear icon, then Settings.":"Melden Sie sich bei Ihrem Cox-Webmail an. Klicken Sie in der blauen Leiste oben auf das Zahnradsymbol und dann auf Einstellungen.","Make sure the box \\"Save a copy of emails marked as spam\\" is checked.":"Stellen Sie sicher, dass das Kontrollk\xE4stchen \u201EKopie der als Spam markierten E-Mails speichern\u201C aktiviert ist.","Send test email to %1":"Test-E-Mail an %1 senden","Sending...":"Senden...","Test Email Delivery":"Testen Sie die E-Mail-Zustellung","Under Preventing junk email, click Safe and blocked senders, then click Safe senders.":"Klicken Sie unter \u201EJunk-E-Mail verhindern\u201C auf \u201ESichere und blockierte Absender\u201C und dann auf \u201ESichere Absender\u201C.","We've seen some folks with Comcast.net addresses have issues with Comcast silently deleting emails. Try these steps to whitelist those emails:":"Wir haben gesehen, dass einige Leute mit Comcast.net-Adressen Probleme damit haben, dass Comcast E-Mails stillschweigend l\xF6scht. Versuchen Sie diese Schritte, um diese E-Mails auf die Whitelist zu setzen:","We've seen some folks with Cox.net addresses have issues with Cox silently deleting emails. Try these steps to whitelist those emails:":"Wir haben gesehen, dass einige Leute mit Cox.net-Adressen Probleme damit haben, dass Cox E-Mails stillschweigend l\xF6scht. Versuchen Sie diese Schritte, um diese E-Mails auf die Whitelist zu setzen:","We've seen some folks with Simpatico/Bell addresses have issues with Bell silently deleting emails. Try these steps to whitelist those emails:":"Wir haben gesehen, dass einige Leute mit Simpatico/Bell-Adressen Probleme damit haben, dass Bell E-Mails stillschweigend l\xF6scht. Versuchen Sie diese Schritte, um diese E-Mails auf die Whitelist zu setzen:","What if it's not working?":"Was ist, wenn es nicht funktioniert?","<C1>Check the archive</C1> to see which posts you have been missing and contact Substack support at <C2>%1</C2>.":"<C1>\xDCberpr\xFCfen Sie das Archiv</C1> um zu sehen, welche Beitr\xE4ge Sie verpasst haben, und wenden Sie sich an den Substack-Support unter <C2>%1</C2> .","<C1>Send yourself a test email</C1> and if you see it in your spam folder, hit the thumbs up.":"<C1>Senden Sie sich selbst eine Test-E-Mail</C1> Und wenn Sie es in Ihrem Spam-Ordner sehen, klicken Sie auf \u201EDaumen hoch\u201C.","<C1>Send yourself a test email</C1> and if you see it in your spam folder, mark it as Not Spam.":"<C1>Senden Sie sich selbst eine Test-E-Mail</C1> und wenn Sie es in Ihrem Spam-Ordner sehen, markieren Sie es als Kein Spam.","Add <C1>%1</C1> to your contact list. All posts will be sent from this address.":"Hinzuf\xFCgen <C1>%1</C1> zu Ihrer Kontaktliste. Alle Beitr\xE4ge werden von dieser Adresse aus versendet.","If you are on a corporate or government email account, talk to your IT department and tell them to whitelist <C1>%1</C1>. They often have email filters that are out of your individual control and can quickly resolve the issue.":"Wenn Sie \xFCber ein Firmen- oder Regierungs-E-Mail-Konto verf\xFCgen, wenden Sie sich an Ihre IT-Abteilung und weisen Sie sie an, auf die Whitelist zu setzen <C1>%1</C1> . Sie verf\xFCgen h\xE4ufig \xFCber E-Mail-Filter, auf die Sie keinen Einfluss haben und die das Problem schnell l\xF6sen k\xF6nnen.","Log in to your Comcast email <C1>here</C1>.":"Melden Sie sich bei Ihrer Comcast-E-Mail-Adresse an <C1>Hier</C1> .","Send an email to <C1>%1</C1>. This can often cause intermediate email filters to allow incoming messages.":"Sende eine Email an <C1>%1</C1> . Dies kann h\xE4ufig dazu f\xFChren, dass zwischengeschaltete E-Mail-Filter eingehende Nachrichten zulassen.","Type <C1>%1</C1> in the Sender box, and then click Add to list.":"Typ <C1>%1</C1> im Feld Absender und klicken Sie dann auf Zur Liste hinzuf\xFCgen.","Make sure that your email address on file is correct. The email we have for you is <C1>%1</C1>. If this is incorrect you can <C2>change it here</C2>.":"Stellen Sie sicher, dass Ihre hinterlegte E-Mail-Adresse korrekt ist. Die E-Mail, die wir f\xFCr Sie haben, lautet <C1>%1</C1> . Wenn dies falsch ist, k\xF6nnen Sie dies tun <C2>\xE4ndere es hier</C2> .","Please confirm you want to pay <C1>%1</C1> per year for a %1 subscription by typing the price below.":"Bitte best\xE4tigen Sie, dass Sie bezahlen m\xF6chten <C1>%1</C1> pro Jahr f\xFCr ein %1-Abonnement, indem Sie den Preis unten eingeben.","Founding Member":"Gr\xFCndungsmitglied"," per %1":" pro %1","<unset>":"<unset>","Amount must be greater than %1":"Der Betrag muss gr\xF6\xDFer als %1 sein","Are you sure? Time paid will not be refunded":"Bist du dir sicher? Gezahlte Zeit wird nicht zur\xFCckerstattet","Change":"\xC4ndern","Change plan":"Plan \xE4ndern","Change Plan":"Plan \xE4ndern","Clear email block":"E-Mail-Block l\xF6schen","Continue":"Weitermachen","current":"aktuell","Custom plan":"Ma\xDFgeschneiderter Plan","Edit":"Bearbeiten","Failed to load":"Laden fehlgeschlagen","for %1 seats":"f\xFCr %1 Sitzpl\xE4tze","gift":"Geschenk","Set to renew":"Auf Erneuerung eingestellt","Set up profile":"Profil einrichten","Setting...":"Einstellung...","Success! You've changed your plan":"Erfolg! Sie haben Ihren Plan ge\xE4ndert","Switch to Bitcoin":"Wechseln Sie zu Bitcoin","Switching to Bitcoin will end your auto-renewing credit card payments.":"Wenn Sie zu Bitcoin wechseln, werden Ihre Kreditkartenzahlungen mit automatischer Verl\xE4ngerung beendet.","Upgrade to paid":"Upgrade auf kostenpflichtig","View profile":"Profil anzeigen","year":"Jahr","You can switch to the following plans:":"Sie k\xF6nnen zu folgenden Pl\xE4nen wechseln:","You're a free subscriber":"Sie sind ein kostenloser Abonnent","You're subscribed":"Du bist abonniert","Your %1 subscription will end":"Ihr %1-Abonnement endet","Your %1 subscription will end soon":"Ihr %1-Abonnement endet bald","Your complimentary subscription will end":"Ihr kostenloses Abonnement endet","Your complimentary subscription will end soon":"Ihr kostenloses Abonnement endet bald","Your current plan is %1.":"Ihr aktueller Plan ist %1.","Your paid subscription is paused":"Ihr kostenpflichtiges Abonnement ist pausiert","Your paid subscription is set to cancel":"Ihr kostenpflichtiges Abonnement wird gek\xFCndigt","Your pledge has been cancelled":"Ihr Beitrag wurde storniert","<C1>Click here</C1> to retry":"<C1>klicken Sie hier</C1> erneut versuchen","Email":"Email","Email block":"E-Mail-Block","Manage your subscription":"Verwalten Sie Ihr Abonnement","Must be greater than %1":"Muss gr\xF6\xDFer als %1 sein","Name":"Name","Plan":"Planen","Please note that Substack cannot process refunds or auto-renewals for Bitcoin payments. You will now be sent to <C1>OpenNode</C1> to complete your checkout.":"Bitte beachten Sie, dass Substack keine R\xFCckerstattungen oder automatischen Verl\xE4ngerungen f\xFCr Bitcoin-Zahlungen verarbeiten kann. Sie werden nun an weitergeleitet <C1>OpenNode</C1> um Ihre Kaufabwicklung abzuschlie\xDFen.","Status":"Status","Subscription":"Abonnement","There is currently a spam or bounce block on your email address. In order to get any emails at all from Substack, you must first clear this block.":"F\xFCr Ihre E-Mail-Adresse ist derzeit ein Spam- oder Bounce-Block vorhanden. Um \xFCberhaupt E-Mails von Substack zu erhalten, m\xFCssen Sie diesen Block zun\xE4chst l\xF6schen.","You are part of a group subscription":"Sie sind Teil eines Gruppenabonnements","Your subscriber benefits will end on %1":"Ihre Abonnentenvorteile enden am %1","Activating":"Aktivierend","Free subscriber":"Kostenloser Abonnent","Unfortunately, your free gift referral is no longer available. If you\u2019d like to purchase a gift subscription to %1, <C1>click here</C1>.":"Leider ist Ihre kostenlose Geschenkempfehlung nicht mehr verf\xFCgbar. Wenn Sie ein Geschenkabonnement f\xFCr %1 erwerben m\xF6chten, <C1>klicken Sie hier</C1> .","Billing period ends %1":"Der Abrechnungszeitraum endet %1","Billing period renews %1":"Der Abrechnungszeitraum verl\xE4ngert sich um %1","Gift period ends %1":"Der Geschenkzeitraum endet %1","Trial period ends %1":"Der Testzeitraum endet %1","Continue Subscription":"Abonnement fortsetzen","Give a gift %1":"Schenken Sie %1","Payment Information":"Zahlungsinformationen","Podcast feed":"Podcast-Feed","Podcast feeds":"Podcast-Feeds","Private podcast feed":"Privater Podcast-Feed","Private podcast feeds":"Private Podcast-Feeds","Send an invite":"Senden Sie eine Einladung","Set up podcast":"Podcast einrichten","Something went wrong":"Etwas ist schief gelaufen","Success! Your subscription will now renew on %1":"Erfolg! Ihr Abonnement wird nun am %1 verl\xE4ngert","Account":"Konto","Account actions":"Kontoaktionen","Billing Status":"Abrechnungsstatus","Expiry":"Ablauf","For support, <C1>click here</C1>":"Zur Unterst\xFCtzung, <C1>klicken Sie hier</C1>","Gift Subscriptions":"Geschenkabonnements","If you're having email delivery issues, <C1>click here</C1>":"Wenn Sie Probleme bei der E-Mail-Zustellung haben, <C1>klicken Sie hier</C1>","Invitations":"Einladungen","Notifications":"Benachrichtigungen","Paused by publisher. Billing will resume when unpaused.":"Vom Herausgeber pausiert. Die Abrechnung wird fortgesetzt, wenn die Pause aufgehoben wird.","Paused until %1. You can resume at any time <C1>here</C1>.":"Angehalten bis %1. Sie k\xF6nnen jederzeit fortfahren <C1>Hier</C1> .","Refer a friend to %1.":"Empfehlen Sie einen Freund an %1.","Referrals":"Empfehlungen","Think a friend would enjoy %1?":"Glaubst du, ein Freund w\xFCrde %1 genie\xDFen?","To cancel your paid subscription, <C1>click here</C1>":"Um Ihr kostenpflichtiges Abonnement zu k\xFCndigen, <C1>klicken Sie hier</C1>","To cancel your pledge, <C1>click here</C1>":"Um Ihr Versprechen zu widerrufen, <C1>klicken Sie hier</C1>","To change your password, <C1>click here</C1>":"Um Ihr Passwort zu \xE4ndern, <C1>klicken Sie hier</C1>","To logout, <C1>click here</C1>":"Um sich abzumelden, <C1>klicken Sie hier</C1>","To pause your paid subscription, <C1>click here</C1>":"Um Ihr kostenpflichtiges Abonnement zu pausieren, <C1>klicken Sie hier</C1>","Your subscription expires on %1 and will not renew.":"Ihr Abonnement l\xE4uft am %1 ab und wird nicht verl\xE4ngert.","Billing history":"Abrechnungsverlauf","Next payment date":"N\xE4chster Zahlungstermin","Payment information":"Zahlungsinformationen","Payment method":"Bezahlverfahren","See previous invoices":"Siehe fr\xFChere Rechnungen","View":"Sicht","No podcasts.":"Keine Podcasts.","<C1>Click here</C1> to set up your podcast app for everything in one feed.":"<C1>klicken Sie hier</C1> um Ihre Podcast-App f\xFCr alles in einem Feed einzurichten.","Check your email":"Check deine E-Mails","Forgot Password":"Passwort vergessen","Send Email":"E-Mail senden","Set a new password":"Legen Sie ein neues Passwort fest","Success!":"Erfolg!","Your Email":"Deine E-Mail","Your subscription is set to renew.":"Ihr Abonnement wird voraussichtlich verl\xE4ngert.","You can also <C1>try again</C1>.":"Du kannst auch <C1>versuchen Sie es erneut</C1> .","Confirm Password":"Best\xE4tige das Passwort","Invalid Password Link":"Ung\xFCltiger Passwort-Link","Must be at least 8 characters":"Muss mindestens 8 Zeichen lang sein","New Password":"Neues Kennwort","Passwords must match":"Die Passw\xF6rter m\xFCssen \xFCbereinstimmen","Reset Password":"Passwort zur\xFCcksetzen","Set Password":"Passwort festlegen","The link you've used to set your password was invalid.":"Der Link, den Sie zum Festlegen Ihres Passworts verwendet haben, war ung\xFCltig.","If you have an account with us, we've sent an email to <C1>%1</C1> with a link that you can use to set your password. If you don't see an email from us in a few minutes, check your spam.":"Wenn Sie ein Konto bei uns haben, haben wir eine E-Mail an <C1>%1</C1> mit einem Link gesendet, \xFCber den Sie Ihr Passwort festlegen k\xF6nnen. Wenn Sie innerhalb weniger Minuten keine E-Mail von uns sehen, \xFCberpr\xFCfen Sie Ihren Spam-Ordner.","Try the link that was sent to you again or request <C1>another link to set your password</C1> if it still does not work.":"Versuchen Sie es erneut mit dem Link, der Ihnen zugesandt wurde, oder fordern Sie eine Anfrage an <C1>ein weiterer Link zum Festlegen Ihres Passworts</C1> wenn es immer noch nicht funktioniert.","Unsubscribe from all":"Von allen abmelden","You've been unsubscribed":"Sie wurden abgemeldet","You've been unsubscribed from %1":"Sie wurden von %1 abgemeldet","You've been unsubscribed from chat":"Sie wurden vom Chat abgemeldet","You've been unsubscribed from podcasts":"Sie wurden von den Podcasts abgemeldet","Email settings for %1":"E-Mail-Einstellungen f\xFCr %1","<C1>Note: this does not affect your paid subscription.</C1> If you would like to cancel that, <C2>click here</C2>.":"<C1>Hinweis: Dies hat keine Auswirkungen auf Ihr kostenpflichtiges Abonnement.</C1> Wenn Sie das stornieren m\xF6chten, <C2>klicken Sie hier</C2>.","Actions":"Aktionen","Amount":"Menge","Date":"Datum","Description":"Beschreibung","View invoice":"Rechnung ansehen","View receipt":"Quittung ansehen","Click on the menu for a receipt to get a downloadable version. Receipts for charges paid with a credit card include your VAT ID and address.":"Klicken Sie auf das Men\xFC, um eine Quittung zu erhalten und eine herunterladbare Version zu erhalten. Auf Belegen f\xFCr Zahlungen, die mit einer Kreditkarte bezahlt wurden, sind Ihre Umsatzsteuer-Identifikationsnummer und Ihre Adresse aufgef\xFChrt.","Failed to load! <C1>Reload page</C1>":"Laden fehlgeschlagen! <C1>Seite neuladen</C1>","It doesn't look like you're a paid subscriber for %1. Go to your <C1>account page</C1>.":"Es sieht nicht so aus, als w\xE4ren Sie ein zahlender Abonnent von %1. Gehen Sie zu Ihrem <C1>Kontoseite</C1>.","Payment & receipt history":"Zahlungs- und Empfangsverlauf","Paid":"Bezahlt","Refunded":"Erstattet","Payment Method":"Bezahlverfahren","Period starting %1":"Zeitraum ab %1","Refunded To":"R\xFCckerstattung an"," (%1% off)":" (%1% Rabatt)","Adjusted total":"Angepasste Summe","Amount refunded":"Betrag erstattet","Amount:":"Menge:","Billing Email: ":"Abrechnung per E-Mail: ","Billing Info: ":"Rechnungsinfo: ","Charge #%1":"Geb\xFChr #%1","Date Paid:":"Zahlungsdatum:","Invoice #%1":"Rechnung #%1","Receipt #%1":"Beleg Nr. %1","Refund Receipt #%1":"R\xFCckerstattungsbeleg #%1","Refunded:":"Erstattet:","Subtotal":"Zwischensumme","To edit any of the billing information displayed on this receipt <C1>click here</C1>.":"Um die auf dieser Quittung angezeigten Rechnungsinformationen zu bearbeiten <C1>klicken Sie hier</C1> .","You can contact the owners of {pub.name} at <C1>%1@substack.com</C1> or check out our <C2>Help Center</C2> if you have any questions":"Sie k\xF6nnen die Eigent\xFCmer von {pub.name} unter kontaktieren <C1>%1@substack.com</C1> oder schauen Sie sich unsere an <C2>Hilfezentrum</C2> wenn Sie irgendwelche Fragen haben","You can save a copy of this invoice by taking a screenshot on your device <C1>, or by pressing \u201CCmd/Ctrl + P\u201D</C1>.":"Sie k\xF6nnen eine Kopie dieser Rechnung speichern, indem Sie einen Screenshot auf Ihrem Ger\xE4t erstellen <C1>, oder durch Dr\xFCcken von \u201EBefehl/Strg + P\u201C</C1> .","Your refund has been issued by %1. It may take about 5 to 10 days to appear on your statement, if it takes longer please contact your bank for assistance.":"Ihre R\xFCckerstattung wurde von %1 veranlasst. Es kann etwa 5 bis 10 Tage dauern, bis das Guthaben auf Ihrem Kontoauszug erscheint. Wenn es l\xE4nger dauert, wenden Sie sich bitte an Ihre Bank.","Total":"Gesamt","Copy":"Kopieren","Email me the link":"Schicken Sie mir den Link per E-Mail","Email sent!":"E-Mail gesendet!","Need help?":"Brauchen Sie Hilfe?","Add to podcast app":"Zur Podcast-App hinzuf\xFCgen","Check your email on your phone":"\xDCberpr\xFCfen Sie Ihre E-Mails auf Ihrem Telefon","Copy the link below and paste it in your podcast app.":"Kopieren Sie den Link unten und f\xFCgen Sie ihn in Ihre Podcast-App ein.","Open this on your phone to add to your mobile podcast app.":"\xD6ffnen Sie dies auf Ihrem Telefon, um es zu Ihrer mobilen Podcast-App hinzuzuf\xFCgen.","Or, manually add your feed URL":"Oder f\xFCgen Sie Ihre Feed-URL manuell hinzu","Please note that Spotify does not support private RSS feeds.":"Bitte beachten Sie, dass Spotify keine privaten RSS-Feeds unterst\xFCtzt.","There was a problem loading this page.":"Beim Laden dieser Seite ist ein Problem aufgetreten.","We sent a link to %1 to get setup. It only takes a few seconds.":"Wir haben einen Link an %1 gesendet, um mit der Einrichtung zu beginnen. Es dauert nur ein paar Sekunden.","An unexpected error occurred.":"Ein unerwarteter Fehler ist aufgetreten.","Copied!":"Kopiert!","No active subscription found.":"Kein aktives Abonnement gefunden.","Sent!":"Gesendet!","Give the gift of %1 to your friends":"Verschenken Sie %1 an Ihre Freunde","You have no more free gifts to send, but you can still purchase a gift subscription for a friend.":"Sie haben keine Gratisgeschenke mehr zum Versenden, k\xF6nnen aber dennoch ein Geschenkabonnement f\xFCr einen Freund abschlie\xDFen.","Each friend will receive one free month of paid subscriber benefits to %2 via email valued at %3":["Jeder Freund erh\xE4lt einen kostenlosen Monat bezahlter Abonnentenvorteile an %2 per E-Mail im Wert von %3","Jeder Freund erh\xE4lt %1 kostenlose Monate bezahlter Abonnentenvorteile an %2 per E-Mail im Wert von %3"],"Accepted!":"Akzeptiert!","Email...":"Email...","Gift a subscription":"Schenken Sie ein Abonnement","I subscribe to %1 and I think you'd really like it.":"Ich habe %1 abonniert und denke, dass es Ihnen wirklich gefallen w\xFCrde.","Jane Doe":"Jane Doe","One or more of the emails you entered is invalid":"Eine oder mehrere der von Ihnen eingegebenen E-Mail-Adressen sind ung\xFCltig","Send gifts":"Schick Geschenke","Sent to":"Gesendet an","Thanks for filling out all 3 gift subscriptions! Here are 3 more gift subscriptions to give out.":"Vielen Dank, dass Sie alle 3 Geschenkabonnements ausgef\xFCllt haben! Hier sind 3 weitere Geschenkabonnements zum Verschenken.","Give via email":"Geben Sie per E-Mail","Personal message to friends":"Pers\xF6nliche Nachricht an Freunde","Your name":"Ihren Namen","Start reading":"Anfangen zu lesen","Gift subscription accepted!":"Geschenkabonnement angenommen!","You will now get new issues in your email, and you can read all issues on <C1>the website.</C1>":"Sie erhalten nun neue Ausgaben per E-Mail und k\xF6nnen alle Ausgaben weiterlesen <C1>Die Webseite.</C1>","Gifts you've sent":"Geschenke, die Sie verschickt haben","You may <C1>end your subscription immediately</C1> but past charges will not be refunded.":"Sie k\xF6nnen <C1>Beenden Sie Ihr Abonnement sofort</C1> aber fr\xFChere Geb\xFChren werden nicht erstattet.","Subscription successfully canceled":"Abonnement erfolgreich gek\xFCndigt","Subscription successfully paused":"Das Abonnement wurde erfolgreich pausiert","New chat threads":"Neue Chat-Threads","Receive emails for new %1 in %2":"Erhalten Sie E-Mails f\xFCr neue %1 in %2","Receive emails for new episodes in %1":"Erhalten Sie E-Mails f\xFCr neue Episoden in %1","Receive emails for new podcast episodes":"Erhalten Sie E-Mails f\xFCr neue Podcast-Episoden","Receive emails for new posts":"Erhalten Sie E-Mails f\xFCr neue Beitr\xE4ge","Receive emails for new posts in %1":"Erhalten Sie E-Mails f\xFCr neue Beitr\xE4ge in %1","Receive emails for new threads in Substack Chat":"Erhalten Sie E-Mails f\xFCr neue Threads im Substack Chat","This will unsubscribe you from %1. Are you sure?":"Dadurch werden Sie von %1 abgemeldet. Bist du dir sicher?","Unsubscribe":"Abbestellen","Want to unsubscribe from %1?":"M\xF6chten Sie sich von %1 abmelden?","%1 day free trial":["%1 Tag kostenlose Testversion","%1 Tag kostenlose Testversion"],"%2 for one day":["%2 f\xFCr einen Tag","%2 f\xFCr %1 Tage"],"%2 for one day for unlimited seats":["%2 f\xFCr einen Tag f\xFCr unbegrenzte Sitzpl\xE4tze","%2 f\xFCr %1 Tage f\xFCr unbegrenzte Sitzpl\xE4tze"],"%2 for one day per person":["%2 f\xFCr einen Tag pro Person","%2 f\xFCr %1 Tage pro Person"],"%2 for one month":["%2 f\xFCr einen Monat","%2 f\xFCr %1 Monate"],"%2 for one month for unlimited seats":["%2 f\xFCr einen Monat f\xFCr unbegrenzte Sitzpl\xE4tze","%2 f\xFCr %1 Monate f\xFCr unbegrenzte Sitzpl\xE4tze"],"%2 for one month per person":["%2 f\xFCr einen Monat pro Person","%2 f\xFCr %1 Monate pro Person"],"%2 for one week":["%2 f\xFCr eine Woche","%2 f\xFCr %1 Wochen"],"%2 for one week for unlimited seats":["%2 f\xFCr eine Woche f\xFCr unbegrenzte Sitzpl\xE4tze","%2 f\xFCr %1 Wochen f\xFCr unbegrenzte Sitzpl\xE4tze"],"%2 for one week per person":["%2 f\xFCr eine Woche pro Person","%2 f\xFCr %1 Wochen pro Person"],"%2 for one year":["%2 f\xFCr ein Jahr","%2 f\xFCr %1 Jahre"],"%2 for one year for unlimited seats":["%2 f\xFCr ein Jahr f\xFCr unbegrenzte Sitzpl\xE4tze","%2 f\xFCr %1 Jahre f\xFCr unbegrenzte Sitzpl\xE4tze"],"%2 for one year per person":["%2 f\xFCr ein Jahr pro Person","%2 f\xFCr %1 Jahre pro Person"],"%2 per day":["%2 pro Tag","%2 pro %1 Tage"],"%2 per month":["%2 pro Monat","%2 pro %1 Monate"],"%2 per week":["%2 pro Woche","%2 pro %1 Wochen"],"%2 per year":["%2 pro Jahr","%2 pro %1 Jahre"],"%2/1 day":["%2/1 Tag","%2/%1 Tage"],"%2/1 month":["%2/1 Monat","%2/%1 Monate"],"%2/1 week":["%2/1 Woche","%2/%1 Wochen"],"%2/1 year":["%2/1 Jahr","%2/%1 Jahre"],"coupon invalid or expired":"Gutschein ung\xFCltig oder abgelaufen","coupon loading":"Coupon wird geladen","for first day":["f\xFCr den ersten Tag","f\xFCr die ersten %1 Tage"],"for first month":["f\xFCr den ersten Monat","f\xFCr die ersten %1 Monate"],"for first week":["f\xFCr die erste Woche","f\xFCr die ersten %1 Wochen"],"for first year":["f\xFCr das erste Jahr","f\xFCr die ersten %1 Jahre"],"You can contact the owners of %1 at <C1>%2</C1> or check out our <C2>Help Center</C2> if you have any questions":"Sie k\xF6nnen die Eigent\xFCmer von %1 unter kontaktieren <C1>%2</C1> oder schauen Sie sich unsere an <C2>Hilfezentrum</C2> wenn Sie irgendwelche Fragen haben"," in BTC":" in BTC","%1 publishes audio":"%1 ver\xF6ffentlicht Audio","%1/three days":"%1/drei Tage","%1/three months":"%1/drei Monate","%1/three weeks":"%1/drei Wochen","%1/three years":"%1/drei Jahre","%1% cheaper than subscribing monthly":"%1 % g\xFCnstiger als ein monatliches Abonnement","%2/day":["%2/Tag","%2/%1 Tage"],"%2/month":["%2 Monate","%2/%1 Monate"],"%2/week":["%2 Wochen","%2/%1 Wochen"],"%2/year":["%2 Jahre","%2/%1 Jahre"],"$0/month":"0 $/Monat","About":"Um","Annual":"J\xE4hrlich","Archive":"Archiv","Archives":"Archiv","Authors":"Autoren","By %1":"Von %1","Confirmation required: we sent an email to %1. Click the link there to finish subscribing.":"Best\xE4tigung erforderlich: Wir haben eine E-Mail an %1 gesendet. Klicken Sie dort auf den Link, um das Abonnement abzuschlie\xDFen.","Continue without paying":"Fahren Sie fort, ohne zu bezahlen","Daily":"T\xE4glich","decide later":"entscheide sp\xE4ter","Founding Membership":"Gr\xFCndungsmitgliedschaft","Free":"Frei","Hundreds of paid subscribers":"Hunderte zahlende Abonnenten","Hundreds of thousands of paid subscribers":"Hunderttausende zahlende Abonnenten","Information collection notice":"Hinweis zur Informationssammlung","Invalid coupon!":"Ung\xFCltiger Gutschein!","Launched %1":"%1 gestartet","Learn More":"Erfahren Sie mehr","Loading coupon":"Gutschein wird geladen","Login":"Anmeldung","Millions of paid subscribers":"Millionen zahlender Abonnenten","Monthly":"Monatlich","More options":"Mehr Optionen","No":"NEIN","No thanks":"Nein danke","Not you?":"Nicht du?","Occasional public posts":"Gelegentliche \xF6ffentliche Beitr\xE4ge","Over %1 subscribers":"\xDCber %1 Abonnenten","Pledge your support":"Versprechen Sie Ihre Unterst\xFCtzung","Pledge your support now":"Versichern Sie jetzt Ihre Unterst\xFCtzung","Post comments and join the community":"Ver\xF6ffentlichen Sie Kommentare und treten Sie der Community bei","Privacy":"Privatsph\xE4re","Quarterly":"Viertelj\xE4hrlich","Save %1%2/year over monthly":"Sparen Sie %1%2/Jahr gegen\xFCber dem Monat","Semiannually":"Halbj\xE4hrlich","Skip":"\xDCberspringen","Something went wrong. Please try again.":"Etwas ist schief gelaufen. Bitte versuche es erneut.","Start free trial":"Kostenlos testen","Subscribe":"Abonnieren","Subscribe now":"Abonniere jetzt","Subscribe to %1":"Abonnieren Sie %1","Subscriber-only episodes in your podcast app":"Episoden nur f\xFCr Abonnenten in Ihrer Podcast-App","Subscriber-only posts and full archive":"Beitr\xE4ge nur f\xFCr Abonnenten und vollst\xE4ndiges Archiv","Tens of thousands of paid subscribers":"Zehntausende zahlende Abonnenten","Terms":"Bedingungen","Thousands of paid subscribers":"Tausende zahlende Abonnenten","Top posts":"Top-Beitr\xE4ge","Type your email...":"Geben Sie Ihre E-Mail-Adresse ein...","Upgrade":"Aktualisierung","Upgrade now":"Jetzt upgraden","Upgrade to paid now":"Jetzt auf kostenpflichtig upgraden","Valid coupon!":"G\xFCltiger Gutschein!","We sent you a link to get setup. It only takes a few seconds.":"Wir haben Ihnen einen Link zur Einrichtung gesendet. Es dauert nur ein paar Sekunden.","Weekly":"W\xF6chentlich","Yes":"Ja","Yes, Subscribe with correction":"Ja, Abonnieren mit Korrektur","You're already on the free plan":"Sie nutzen bereits den kostenlosen Plan","%1 subscription":"%1 Abonnement","By registering you agree to Substack's <C1>Terms of Service</C1>, our <C2>Privacy Policy</C2>, and our <C3>Information Collection Notice</C3>":"Mit der Registrierung stimmen Sie den Bedingungen von Substack zu <C1>Nutzungsbedingungen</C1> , unser <C2>Datenschutz-Bestimmungen</C2> , und unser <C3>Hinweis zur Informationserfassung</C3>","By registering you agree to Substack's <C1>Terms of Service</C1>, our <C2>Privacy Policy</C2>, our <C3>Information Collection Notice</C3>, and Activision's <C4>Privacy Policy</C4>":"Mit der Registrierung stimmen Sie den Bedingungen von Substack zu <C1>Nutzungsbedingungen</C1> , unser <C2>Datenschutz-Bestimmungen</C2> , unser <C3>Hinweis zur Informationserfassung</C3> , und Activision&#39;s <C4>Datenschutz-Bestimmungen</C4>","By registering you agree to <C1>Substack's Terms of Use</C1>, <C2>our Privacy Policy</C2> , and <C3>our Information collection notice</C3>":"Mit der Registrierung erkl\xE4ren Sie sich damit einverstanden <C1>Nutzungsbedingungen von Substack</C1> , <C2>unsere Datenschutzerkl\xE4rung</C2> , Und <C3>unsere Mitteilung zur Informationssammlung</C3>","By registering you agree to <C1>Substack's Terms of Use</C1>, <C2>our Privacy Policy</C2> and <C3>our Information collection notice</C3>":"Mit der Registrierung erkl\xE4ren Sie sich damit einverstanden <C1>Nutzungsbedingungen von Substack</C1> , <C2>unsere Datenschutzerkl\xE4rung</C2> Und <C3>unsere Mitteilung zur Informationssammlung</C3>","Did you mean <C1>%1</C1>?":"Meinten Sie <C1>%1</C1> ?","This email address is not confirmed yet.<C1>Click here</C1> to resend the confirmation email.":"Diese E-Mail-Adresse ist noch nicht best\xE4tigt. <C1>klicken Sie hier</C1> um die Best\xE4tigungs-E-Mail erneut zu senden.","Want to add it to your podcast app?":"M\xF6chten Sie es zu Ihrer Podcast-App hinzuf\xFCgen?","Add VAT/tax ID":"F\xFCgen Sie die Umsatzsteuer-ID hinzu","Give a gift":"Ein Geschenk geben","Group subscription":"Gruppenabonnement","Individual subscription":"Einzelabonnement","Other subscription options":"Weitere Abonnementoptionen","Other subscription options...":"Weitere Abonnementoptionen...","Pay with Credit Card":"Mit Kreditkarte bezahlen","Select country...":"Land ausw\xE4hlen...","Select tax ID type...":"Steuer-ID-Typ ausw\xE4hlen...","Skip adding VAT/tax ID":"\xDCberspringen Sie das Hinzuf\xFCgen der Umsatzsteuer-ID","Street":"Stra\xDFe","Student discount":"Sch\xFClerrabatt","Tax ID":"Steuer ID","Use a different Credit Card":"Verwenden Sie eine andere Kreditkarte","Use Apple Pay":"Nutzen Sie Apple Pay","Use card on file":"Verwenden Sie die hinterlegte Karte","Your email address":"Ihre E-Mail-Adresse"," I agree to the <C1>Terms of Use</C1>, <C2>Privacy Policy</C2> and <C3>Information collection notice</C3>":" Ich stimme dem zu <C1>Nutzungsbedingungen</C1> , <C2>Datenschutz-Bestimmungen</C2> Und <C3>Hinweis zur Informationssammlung</C3>","Choose a plan":"W\xE4hlen Sie einen Plan","Choose a subscription plan.":"W\xE4hlen Sie ein Abonnement.","Confirm subscription":"Best\xE4tige Abonnement","Love %1? Pay an extra 10%":"Liebst du %1? Zahlen Sie zus\xE4tzlich 10 %","Pay an extra 10% to offset fees for %1":"Zahlen Sie zus\xE4tzlich 10\xA0%, um die Geb\xFChren f\xFCr %1 auszugleichen","Pay with Bitcoin":"Bezahlen Sie mit Bitcoin","Upgrade to founding":"Upgrade auf Gr\xFCndung","Pick a subscription for %1 ":"W\xE4hlen Sie ein Abonnement f\xFCr %1 ","Buy Gift":"Geschenk kaufen","Buy Gift for %1":"Kaufen Sie ein Geschenk f\xFCr %1","Gift a %1 subscription":"Verschenken Sie ein %1-Abonnement","Gift a %1 subscription to %2":"Schenken Sie %2 ein Abonnement von %1","Message to %1 (optional)":"Nachricht an %1 (optional)","Schedule for later":"Planen Sie f\xFCr sp\xE4ter","Send gift anonymously":"Geschenk anonym versenden","Recipient\u2019s email address":"E-Mail-Adresse des Empf\xE4ngers","%1 group subscription":"%1 Gruppenabonnement","Admin email address":"E-Mail-Adresse des Administrators","Number of people (min %1)":"Anzahl der Personen (min. %1)","Pay by invoice (ACH / card)":"Bezahlen per Rechnung (ACH / Karte)","Pay by invoice (card)":"Bezahlen per Rechnung (Karte)","Pay now with card":"Bezahlen Sie jetzt mit Karte","Subscribe your group to %1":"Abonnieren Sie Ihre Gruppe bei %1","How many people would you like to subscribe?":"Wie viele Personen m\xF6chten Sie abonnieren?","You'll receive an invoice an hour after checkout. You will have <C1>30 days</C1> to complete the payment otherwise the group subscription will be canceled.":"Eine Stunde nach dem Bezahlen erhalten Sie eine Rechnung. Du wirst haben <C1>30 Tage</C1> um die Zahlung abzuschlie\xDFen, andernfalls wird das Gruppenabonnement gek\xFCndigt.","People:":"Menschen:","Rate (per person):":"Preis (pro Person):","Total:":"Gesamt:","A group subscription allows you to purchase in bulk for any group, organization, or company. You will be able to modify group membership at any time.":"Mit einem Gruppenabonnement k\xF6nnen Sie in gro\xDFen Mengen f\xFCr jede Gruppe, Organisation oder jedes Unternehmen einkaufen. Sie k\xF6nnen die Gruppenmitgliedschaft jederzeit \xE4ndern.","Gift":"Geschenk","Group":"Gruppe","Individual":"Individuell","change email":"\xC4ndern Sie die E-Mail","Give another gift":"Schenken Sie ein weiteres Geschenk","Thank you!":"Danke sch\xF6n!","You\u2019re subscribed as %1":"Sie sind als %1 abonniert","Your donation matters.":"Ihre Spende ist wichtig.","Your gift of a %1 subscription to %2 was sent to %3":"Ihr geschenktes %1-Abonnement f\xFCr %2 wurde an %3 gesendet","Your gift was sent":"Ihr Geschenk wurde verschickt","Your group will be administered by %1":"Ihre Gruppe wird von %1 verwaltet","Set your email preferences:":"Legen Sie Ihre E-Mail-Einstellungen fest:","%1 Recommends":"%1 empfiehlt","day":"Tag","Enjoy %1% off when you get %2 more Substacks":"Genie\xDFen Sie %1 % Rabatt, wenn Sie %2 weitere Substacks erhalten","Get a discount on other Substacks you read":"Erhalten Sie einen Rabatt auf andere Substacks, die Sie lesen","Get full access to the other Substacks you care about for 20% off for your first year":"Erhalten Sie vollen Zugriff auf die anderen Substacks, die Ihnen wichtig sind, und erhalten Sie im ersten Jahr 20 % Rabatt","month":"Monat","No, thanks":"Nein danke","One-time offer: %1% off":"Einmaliges Angebot: %1 % Rabatt","Right now, you can get %1% off when you buy these %2 Substacks.":"Im Moment k\xF6nnen Sie %1 % Rabatt erhalten, wenn Sie diese %2 Substacks kaufen.","Select":"W\xE4hlen","Skip for now":"F\xFCr jetzt \xFCberspringen","Something went wrong. Please try again or skip for now.":"Etwas ist schief gelaufen. Bitte versuchen Sie es erneut oder \xFCberspringen Sie den Vorgang vorerst.","Subscribe to Substacks %1 of %2 is recommending.":"Substacks abonnieren %1 von %2 wird empfohlen.","Upgrade for %1/day":"Upgrade f\xFCr %1/Tag","Upgrade for %1/month":"Upgrade f\xFCr %1/Monat","Upgrade for %1/week":"Upgrade f\xFCr %1/Woche","Upgrade for %1/year":"Upgrade f\xFCr %1/Jahr","week":"Woche","%1 per day":"%1 pro Tag","%1 per month":"%1 pro Monat","%1 per week":"%1 pro Woche","%1 per year":"%1 pro Jahr","Subscribe for %1 per %2":"Abonnieren Sie f\xFCr %1 pro %2","Pick a subscription for %1 and %2 ":"W\xE4hlen Sie ein Abonnement f\xFCr %1 und %2 ","Maybe later":"Vielleicht sp\xE4ter","Share":"Aktie","Copy link":"Link kopieren","Facebook":"Facebook","Other":"Andere","Spread the word":"Verbreiten Sie es weiter","If you want to help %1 even more, <C1>share your reason for subscribing.</C1>":"Wenn Sie %1 noch mehr helfen m\xF6chten, <C1>Teilen Sie uns Ihren Grund f\xFCr Ihr Abonnement mit.</C1>","What\u2019s your email?":"Wie ist deine E-Mailadresse?","By submitting, you agree to <C1>Substack's Terms of Use</C1> , <C2>our Privacy Policy</C2>and <C3>our Information collection notice</C3>":"Mit dem Absenden erkl\xE4ren Sie sich damit einverstanden <C1>Nutzungsbedingungen von Substack</C1> , <C2>unsere Datenschutzerkl\xE4rung</C2> Und <C3>unsere Mitteilung zur Informationssammlung</C3>","Signing %1 up to receive free posts from %2...":"%1 meldet sich an, um kostenlose Beitr\xE4ge von %2 zu erhalten...","%1 is currently free to read. Tell them that you value their writing by pledging a future subscription.":"%1 ist derzeit frei lesbar. Sagen Sie ihnen, dass Sie ihr Schreiben sch\xE4tzen, indem Sie ein zuk\xFCnftiges Abonnement zusichern.","Additional newsletters":"Zus\xE4tzliche Newsletter","Book a meeting":"Buchen Sie ein Treffen","Confirm Payment":"Best\xE4tige Zahlung","Confirm your email address":"Best\xE4tigen Sie Ihre E-Mail-Adresse","Confirmation email sent to %1. Click the link there to finish subscribing.":"Best\xE4tigungs-E-Mail an %1 gesendet. Klicken Sie dort auf den Link, um das Abonnement abzuschlie\xDFen.","Continue without pledging":"Fahren Sie ohne Verpf\xE4ndung fort","Do you want to recommend %1?":"M\xF6chten Sie %1 weiterempfehlen?","I really want to support you because...":"Ich m\xF6chte Sie wirklich unterst\xFCtzen, weil...","I supported your work because...":"Ich habe Ihre Arbeit unterst\xFCtzt, weil...","If you enjoy %1, consider becoming a paid subscriber":"Wenn Ihnen %1 gef\xE4llt, sollten Sie dar\xFCber nachdenken, ein zahlender Abonnent zu werden","Learn more":"Erfahren Sie mehr","Let your readers know you like %1 by making a recommendation.":"Lassen Sie Ihre Leser wissen, dass Ihnen %1 gef\xE4llt, indem Sie eine Empfehlung aussprechen.","No additional newsletters":"Keine zus\xE4tzlichen Newsletter","No pledge":"Kein Versprechen","Please confirm your payment":"Bitte best\xE4tigen Sie Ihre Zahlung","Pledge a subscription":"Verpflichten Sie ein Abonnement","Recommend":"Empfehlen","Select all":"W\xE4hlen Sie Alle","Subscribe free to %1 publications":"Abonnieren Sie %1 Ver\xF6ffentlichungen kostenlos","Subscribe free to this publication":"Abonnieren Sie diese Publikation kostenlos","The founding price must be at least %1)}":"Der Gr\xFCndungspreis muss mindestens %1)} betragen","There was an error, please try again":"Es ist ein Fehler aufgetreten, bitte versuchen Sie es erneut","Unselect all":"Alles wiederufen","We sent an email to %1 with a confirmation link. Click the link to finish your subscription.":"Wir haben eine E-Mail mit einem Best\xE4tigungslink an %1 gesendet. Klicken Sie auf den Link, um Ihr Abonnement abzuschlie\xDFen.","You have a free subscription to %1":"Sie haben ein kostenloses Abonnement f\xFCr %1","You upgraded your %1 subscription":"Sie haben Ihr %1-Abonnement aktualisiert","You're subscribed to %1":"Sie haben %1 abonniert","You\u2019re on the free list":"Sie stehen auf der kostenlosen Liste","Your bank requires additional authentication for this payment. Click 'Confirm Payment' to confirm your payment. After you're done, return to this page and click 'Continue'.":"Ihre Bank verlangt f\xFCr diese Zahlung eine zus\xE4tzliche Authentifizierung. Klicken Sie auf \u201EZahlung best\xE4tigen\u201C, um Ihre Zahlung zu best\xE4tigen. Wenn Sie fertig sind, kehren Sie zu dieser Seite zur\xFCck und klicken Sie auf \u201EWeiter\u201C.","<C1>See the latest</C1>":"<C1>Sehen Sie sich das Neueste an</C1>","%1 schedules paid meetings on Substack.":"%1 plant bezahlte Besprechungen auf Substack.","Didn\u2019t get an email? Check your spam folder or <C1>send email again</C1>":"Keine E-Mail erhalten? \xDCberpr\xFCfen Sie Ihren Spam-Ordner bzw <C1>E-Mail erneut senden</C1>","Pledge your support for %1":"Versichern Sie Ihre Unterst\xFCtzung f\xFCr %1","Private message":"Private Nachricht","Private note":"Private Notiz","Recommended by %1":"Empfohlen von %1","Substacks recommended by %1":"Von %1 empfohlene Substacks","Want to talk in depth with %1?":"M\xF6chten Sie ausf\xFChrlich mit %1 sprechen?","The founding price must be at least %1":"Der Gr\xFCndungspreis muss mindestens %1 betragen","Share this %1":"Teilen Sie dies %1","%1 off":"%1 Rabatt","%1 off forever":"%1 Rabatt f\xFCr immer","%1 off your first bill":"%1 Rabatt auf Ihre erste Rechnung","%2 off for one month":["%2 Rabatt f\xFCr einen Monat","%2 Rabatt f\xFCr %1 Monate"],"%2 off for one year":["%2 Rabatt f\xFCr ein Jahr","%2 Rabatt f\xFCr %1 Jahre"],"After one month, you will automatically be charged %2 on a monthly basis.":["Nach einem Monat werden Ihnen automatisch monatlich %2 in Rechnung gestellt.","Nach %1 Monaten werden Ihnen automatisch %2 monatlich in Rechnung gestellt."],"After one month, you will automatically be charged %2 on a yearly basis.":["Nach einem Monat werden Ihnen automatisch %2 pro Jahr in Rechnung gestellt.","Nach %1 Monaten werden Ihnen automatisch %2 pro Jahr in Rechnung gestellt."],"After one year, you will automatically be charged %2 on a monthly basis.":["Nach einem Jahr werden Ihnen automatisch monatlich %2 in Rechnung gestellt.","Nach %1 Jahren werden Ihnen automatisch %2 monatlich in Rechnung gestellt."],"After one year, you will automatically be charged %2 on a yearly basis.":["Nach einem Jahr werden Ihnen automatisch %2 pro Jahr in Rechnung gestellt.","Nach %1 Jahren werden Ihnen automatisch %2 pro Jahr in Rechnung gestellt."],"Afterwards, you will automatically be charged %1 on a monthly basis.":"Anschlie\xDFend wird Ihnen automatisch monatlich %1 in Rechnung gestellt.","Afterwards, you will automatically be charged %1 on a yearly basis.":"Danach wird Ihnen automatisch j\xE4hrlich %1 in Rechnung gestellt.","Cancel your subscription anytime.":"Sie k\xF6nnen Ihr Abonnement jederzeit k\xFCndigen.","Only one day left!":["Nur noch ein Tag!","Nur noch %1 Tage \xFCbrig!"],"Only one hour left!":["Nur noch eine Stunde!","Nur noch %1 Stunden \xFCbrig!"],"Only one minute left!":["Nur noch eine Minute!","Nur noch %1 Minuten \xFCbrig!"],"Only one second left!":["Nur noch eine Sekunde!","Nur noch %1 Sekunden \xFCbrig!"],"Subscribe now and get a one day free trial":["Abonnieren Sie jetzt und erhalten Sie eine eint\xE4gige kostenlose Testversion","Abonnieren Sie jetzt und erhalten Sie eine %1-t\xE4gige kostenlose Testversion"],"The free trial will provide you one day of a paid subscription to %2, free of charge. After one day, you will automatically be charged %3 every %4 months. You can cancel anytime.":["Mit der kostenlosen Testversion erhalten Sie einen Tag lang kostenlos ein kostenpflichtiges Abonnement f\xFCr %2. Nach einem Tag werden Ihnen automatisch alle %4 Monate %3 berechnet. Sie k\xF6nnen jederzeit k\xFCndigen.","Mit der kostenlosen Testversion erhalten Sie %1 Tage eines kostenpflichtigen Abonnements f\xFCr %2 kostenlos. Nach %1 Tagen werden Ihnen automatisch alle %4 Monate %3 in Rechnung gestellt. Sie k\xF6nnen jederzeit k\xFCndigen."],"The free trial will provide you one day of a paid subscription to %2, free of charge. After one day, you will automatically be charged %3 every %4 years. You can cancel anytime.":["Mit der kostenlosen Testversion erhalten Sie einen Tag lang kostenlos ein kostenpflichtiges Abonnement f\xFCr %2. Nach einem Tag werden Ihnen alle %4 Jahre automatisch %3 berechnet. Sie k\xF6nnen jederzeit k\xFCndigen.","Mit der kostenlosen Testversion erhalten Sie %1 Tage eines kostenpflichtigen Abonnements f\xFCr %2 kostenlos. Nach %1 Tagen werden Ihnen automatisch alle %4 Jahre %3 in Rechnung gestellt. Sie k\xF6nnen jederzeit k\xFCndigen."],"The free trial will provide you one day of a paid subscription to %2, free of charge. After one day, you will automatically be charged %3 on an annual basis. You can cancel anytime.":["Mit der kostenlosen Testversion erhalten Sie einen Tag lang kostenlos ein kostenpflichtiges Abonnement f\xFCr %2. Nach einem Tag werden Ihnen automatisch %3 pro Jahr in Rechnung gestellt. Sie k\xF6nnen jederzeit k\xFCndigen.","Mit der kostenlosen Testversion erhalten Sie %1 Tage eines kostenpflichtigen Abonnements f\xFCr %2 kostenlos. Nach %1 Tagen werden Ihnen automatisch %3 pro Jahr in Rechnung gestellt. Sie k\xF6nnen jederzeit k\xFCndigen."],"The free trial will provide you one day of a paid subscription to %2, free of charge. After one day, you will automatically be charged %3 on an monthly basis. You can cancel anytime.":["Mit der kostenlosen Testversion erhalten Sie einen Tag lang kostenlos ein kostenpflichtiges Abonnement f\xFCr %2. Nach einem Tag werden Ihnen automatisch monatlich %3 in Rechnung gestellt. Sie k\xF6nnen jederzeit k\xFCndigen.","Mit der kostenlosen Testversion erhalten Sie %1 Tage eines kostenpflichtigen Abonnements f\xFCr %2 kostenlos. Nach %1 Tagen werden Ihnen automatisch %3 monatlich in Rechnung gestellt. Sie k\xF6nnen jederzeit k\xFCndigen."],"There is only one left!":["Es ist nur noch einer \xFCbrig!","Es sind nur noch %1 \xFCbrig!"],"This offer will provide you a %2 discount off your %3 subscription for one month.":["Mit diesem Angebot erhalten Sie einen Monat lang einen Rabatt von %2 auf Ihr %3-Abonnement.","Mit diesem Angebot erhalten Sie %1 Monate lang einen Rabatt von %2 auf Ihr %3-Abonnement."],"This offer will provide you a %2 discount off your %3 subscription for one year.":["Mit diesem Angebot erhalten Sie ein Jahr lang einen Rabatt von %2 auf Ihr %3-Abonnement.","Mit diesem Angebot erhalten Sie %1 Jahre lang einen Rabatt von %2 auf Ihr %3-Abonnement."],"This offer will provide you a one-time %1 discount off your %2 subscription (your first month).":"Mit diesem Angebot erhalten Sie einen einmaligen Rabatt von %1 auf Ihr %2-Abonnement (Ihren ersten Monat).","This offer will provide you a one-time %1 discount off your %2 subscription (your first year).":"Mit diesem Angebot erhalten Sie einen einmaligen Rabatt von %1 auf Ihr %2-Abonnement (Ihr erstes Jahr).","This offer will provide you a perpetual %1 discount off your %2 subscription.":"Mit diesem Angebot erhalten Sie einen dauerhaften Rabatt von %1 auf Ihr %2-Abonnement.","%1 is supported by readers like you. If you care about the work, consider supporting.":"%1 wird von Lesern wie Ihnen unterst\xFCtzt. Wenn Ihnen die Arbeit am Herzen liegt, denken Sie dar\xFCber nach, sie zu unterst\xFCtzen.","%1's work is supported by readers like you. If you care about the work, consider supporting.":"Die Arbeit von %1 wird von Lesern wie Ihnen unterst\xFCtzt. Wenn Ihnen die Arbeit am Herzen liegt, denken Sie dar\xFCber nach, sie zu unterst\xFCtzen.","Donate":"Spenden","Donate a subscription":"Schenken Sie ein Abonnement","Give a month's subscription to readers who otherwise cannot afford it.":"Verschenken Sie ein Monatsabonnement an Leser, die es sich sonst nicht leisten k\xF6nnen.","Give a year's subscription to readers who otherwise cannot afford it.":"Verschenken Sie ein Jahresabonnement an Leser, die es sich sonst nicht leisten k\xF6nnen.","I'd like to donate":"Ich m\xF6chte spenden","one-month subscriptions":["einmonatige Abonnements","%1-Monats-Abonnements"],"one-year subscriptions":["einj\xE4hrige Abonnements","%1-Jahres-Abonnements"],"per year":"pro Jahr","Support %1":"Unterst\xFCtzen Sie %1","Hundreds of subscribers":"Hunderte Abonnenten","Hundreds of thousands of subscribers":"Hunderttausende Abonnenten","Millions of subscribers":"Millionen Abonnenten","Tens of thousands of subscribers":"Zehntausende Abonnenten","Thousands of subscribers":"Tausende Abonnenten","Your current plan is <C1></C1>":"Ihr aktueller Plan ist<C1></C1>"}`),E=_();E.loadJSON(g,"messages"),E.setLocale("de");const v=_(),y="en",T=ne=>(Array.isArray(ne)?(ne[0]||"")+ne.slice(1).map((G,L)=>`%${L+1}${G}`).join(""):ne).toString(),w=(ne,...G)=>{const L=T(ne);return v.gettext(L,...G)},S=({pub:ne}={})=>ne&&ne.language||y,d={i:(ne=y)=>{const L=(typeof ne=="string"?ne:ne?S({pub:ne.pub}):y)==="de"?E:v;return{iString:L.gettext.bind(L),iPlural:L.ngettext.bind(L),iContext:L.pgettext.bind(L),iTemplate:(ie,...ue)=>{const le=T(ie);return L.gettext(le,...ue)}}},p:ne=>[ne,null]};typeof window!="undefined"?window.I18N=d:e.g.I18N=d;var a=Object.defineProperty,P=Object.defineProperties,C=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,A=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,I=(ne,G,L)=>G in ne?a(ne,G,{enumerable:!0,configurable:!0,writable:!0,value:L}):ne[G]=L,N=(ne,G)=>{for(var L in G||(G={}))A.call(G,L)&&I(ne,L,G[L]);if(D)for(var L of D(G))x.call(G,L)&&I(ne,L,G[L]);return ne},F=(ne,G)=>P(ne,C(G));const B=(0,o.createContext)({language:"en",iString:(ne,...G)=>ne,iContext:(ne,G)=>G,iPlural:(ne,G,L)=>ne,iTemplate:(ne,...G)=>w(ne,...G)});B.displayName="I18NContext";function V(){return(0,u.qp)(B)}function Z({children:ne,language:G="en"}){const L=(0,u.Ye)(()=>N({language:G},d.i(G)),[G]);return(0,o.h)(B.Provider,{value:L},ne)}function Y(ne){const G=(0,f.forwardRef)((L,W)=>{const ie=V();return(0,o.h)(ne,F(N(N({},ie),L),{ref:W}))});return G.displayName=`withI18NContext(${ne.displayName||ne.name||"Anonymous"})`,G}},85065:(z,l,e)=>{"use strict";e.d(l,{N$:()=>x,lR:()=>N,yH:()=>Z});var o=e(6400),f=e(30396),u=e(80569),c=e.n(u),_=e(6742),g=e(35442),E=e(63503),v=e(8479),y=e(39419),T=e.n(y),w=Object.defineProperty,S=Object.defineProperties,O=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,P=(ne,G,L)=>G in ne?w(ne,G,{enumerable:!0,configurable:!0,writable:!0,value:L}):ne[G]=L,C=(ne,G)=>{for(var L in G||(G={}))d.call(G,L)&&P(ne,L,G[L]);if(p)for(var L of p(G))a.call(G,L)&&P(ne,L,G[L]);return ne},D=(ne,G)=>S(ne,O(G)),A=(ne,G,L)=>new Promise((W,ie)=>{var ue=te=>{try{J(L.next(te))}catch(se){ie(se)}},le=te=>{try{J(L.throw(te))}catch(se){ie(se)}},J=te=>te.done?W(te.value):Promise.resolve(te.value).then(ue,le);J((L=L.apply(ne,G)).next())});function x({defaultState:ne,shouldLoad:G=!0,shouldPoll:L=!1,children:W}){return(0,o.h)(F,{defaultState:ne==null?void 0:ne.activity,shouldLoad:G,shouldPoll:L},(0,o.h)(Y,{shouldLoad:G},W))}const I=(0,o.createContext)({lastViewedAt:null,activityUnreadCount:0,activityUnreadAtMax:!1,refetch:()=>A(void 0,null,function*(){return!0}),markAllAsRead:()=>A(void 0,null,function*(){}),hasLoadedOnce:!1});I.displayName="NotificationsContext";function N(){return(0,f.qp)(I)}function F({defaultState:ne,shouldLoad:G=!0,shouldPoll:L=!1,children:W}){const ie=(0,v.ib)({pathname:"/api/v1/activity/unread",deps:[],auto:G,initialResult:ne}),ue=!(0,_.th)(),le=()=>A(this,null,function*(){const te=yield c().post("/api/v1/activity/unread").send({after:new Date().toISOString()});ie.setResult(te.body)});(0,E.Z)(()=>A(this,null,function*(){var te;if(L&&G&&(0,y.isWindowVisible)()){const se=((te=ie.result)==null?void 0:te.count)||0,ee=yield ie.refetch(),ae=!(ee instanceof Error)&&ee.count||0;if(se!==ae)return!0}}),6e4);const J=ie.result!=null?ie.result.count:0;return(0,f.d4)(()=>{var te;try{(te=navigator.setAppBadge)==null||te.call(navigator,J)}catch(se){console.warn(se)}},[J]),(0,o.h)(I.Provider,{value:{lastViewedAt:ie.result!=null?ie.result.lastViewedAt:null,activityUnreadCount:J,activityUnreadAtMax:ie.result!=null?ie.result.max:!1,refetch:ie.refetch,markAllAsRead:le,hasLoadedOnce:ie.hasLoadedOnce}},(0,o.h)(g.Metadata,{badge:ue?J:void 0}),W)}const B={count:0,max:!1,refetch:()=>A(void 0,null,function*(){return!0}),markAllAsRead:()=>A(void 0,null,function*(){}),hasLoadedOnce:!1},V=(0,o.createContext)(B);V.displayName="SavedPostsContext";function Z(){return(0,f.qp)(V)}function Y({shouldLoad:ne=!0,children:G}){const L=(0,v.ib)({pathname:"/api/v1/posts/saved/unread-count",deps:[],auto:ne,initialResult:B}),W=()=>L.refetch({method:"PUT"});return(0,o.h)(V.Provider,{value:D(C({},L.result),{refetch:L.refetch,markAllAsRead:W,hasLoadedOnce:L.hasLoadedOnce})},G)}},92643:(z,l,e)=>{"use strict";e.d(l,{Un:()=>T,am:()=>y});var o=e(6400),f=e(30396),u=e(80569),c=e.n(u),_=e(72985),g=e(67963),E=(w,S,O)=>new Promise((p,d)=>{var a=D=>{try{C(O.next(D))}catch(A){d(A)}},P=D=>{try{C(O.throw(D))}catch(A){d(A)}},C=D=>D.done?p(D.value):Promise.resolve(D.value).then(a,P);C((O=O.apply(w,S)).next())});const v=(0,o.createContext)({viewerProfile:{profile:null,loading:!1},setViewerProfile:()=>{},profiles:new Map,setProfile:()=>{}});v.displayName="ProfileContext";function y({value:w,handle:S,children:O}){const[p,d]=(0,f.eJ)({profile:null,loading:!1}),[a,P]=(0,f.eJ)(new Map(w?[[S||w.id,{profile:w,loading:!1}]]:[])),C={viewerProfile:p,setViewerProfile:(0,f.I4)((D,A)=>{d(x=>x.profile===D&&x.loading===A?x:{profile:D,loading:A})},[]),profiles:a,setProfile:(0,f.I4)((D,A,x)=>{P(I=>{var N,F;if(((N=I.get(D))==null?void 0:N.profile)===A&&((F=I.get(D))==null?void 0:F.loading)===x)return I;const B=new Map(I);return B.set(D,{profile:A,loading:x}),B})},[])};return(0,o.h)(v.Provider,{value:C},O)}function T({subjectId:w,subjectName:S,delayLoading:O}){const p=(0,g.aF)(),{viewerProfile:d,setViewerProfile:a,profiles:P,setProfile:C}=(0,f.qp)(v),[D,A]=(0,f.eJ)(null);if(typeof w=="string")if(w.includes("-")){const V=w.split("-");w=V[0],S=V.slice(1).join("-")}else w.startsWith("@")&&(w=w.slice(1));const x=P.get(w),I=(0,f.I4)(V=>E(this,null,function*(){a(d.profile,!0);const Z=(0,_.cleanSlug)(V.name,{hashIfEmpty:!0});try{const Y=yield c().get(`/api/v1/user/${V.id}-${Z}/public_profile/self`).then(ne=>ne.body);a(Y,!1)}catch(Y){Y instanceof Error&&A(Y),a(null,!1)}}),[d,a,A]),N=x==null?void 0:x.profile,F=d.profile,B=(0,f.I4)(V=>E(this,null,function*(){!F&&p&&I(p),C(V,N,!0);try{const Z=S&&(0,_.cleanSlug)(S,{hashIfEmpty:!0}),Y=yield Z?c().get(`/api/v1/user/${V}-${Z}/public_profile`).then(ne=>ne.body):c().get(`/api/v1/user/${V}/public_profile`).then(ne=>ne.body);C(V,Y,!1)}catch(Z){Z instanceof Error&&A(Z),C(V,N,!1)}}),[N,C,S,F,I,p]);return(0,f.d4)(()=>{!O&&!(x!=null&&x.profile)&&!(x!=null&&x.loading)&&!D&&B(w),!O&&!d.loading&&!d.profile&&!D&&p&&I(p)},[O,w,B,x,D,d,I,p]),{loading:!!(x!=null&&x.loading),viewerProfile:d.profile,subjectProfile:x==null?void 0:x.profile,refetch:B,error:D}}},71720:(z,l,e)=>{"use strict";e.d(l,{G:()=>_,I:()=>g});var o=e(6400),f=e(30396),u;const c=typeof window!="undefined"?(u=window._preloads)==null?void 0:u.pub:null,_=(0,o.createContext)(c);_.displayName="PubContext";function g(){return(0,f.qp)(_)}},32076:(z,l,e)=>{"use strict";e.d(l,{Iz:()=>A,So:()=>x,us:()=>D,vz:()=>C});var o=e(6400),f=e(98661),u=e(30396),c=e(8479),_=Object.defineProperty,g=Object.defineProperties,E=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,w=(I,N,F)=>N in I?_(I,N,{enumerable:!0,configurable:!0,writable:!0,value:F}):I[N]=F,S=(I,N)=>{for(var F in N||(N={}))y.call(N,F)&&w(I,F,N[F]);if(v)for(var F of v(N))T.call(N,F)&&w(I,F,N[F]);return I},O=(I,N)=>g(I,E(N)),p=(I,N,F)=>new Promise((B,V)=>{var Z=G=>{try{ne(F.next(G))}catch(L){V(L)}},Y=G=>{try{ne(F.throw(G))}catch(L){V(L)}},ne=G=>G.done?B(G.value):Promise.resolve(G.value).then(Z,Y);ne((F=F.apply(I,N)).next())}),d;const a=typeof window!="undefined"?(d=window._preloads)==null?void 0:d.publicationSettings:{},P=I=>({getSettingFor:F=>{if(!F||!I)return null;const B=I[F];return B===void 0?null:B}}),C=(0,o.createContext)(O(S({},P(a)),{changeSetting:()=>Promise.resolve(void 0)}));C.displayName="PublicationSettingsContext";const D=I=>{const N=(0,f.forwardRef)((F,B)=>{const V=x();return(0,o.h)(I,O(S(S({},V),F),{ref:B}))});return N.displayName=`withPubSettingsContext(${I.displayName||I.name||"Anonymous"})`,N};function A({settings:I={},children:N}){const[F,B]=(0,u.eJ)(I),V=Y=>p(this,null,function*(){B(S(S({},F),Y));try{yield(0,c.rd)("/api/v1/publication_settings",{method:"PUT",json:Y})}catch(ne){console.error(ne)}}),Z=(0,u.Ye)(()=>O(S({},P(F)),{changeSetting:V}),[F]);return(0,o.h)(C.Provider,{value:Z},N)}function x(){return(0,u.qp)(C)}},63270:(z,l,e)=>{"use strict";e.d(l,{QA:()=>a,Xz:()=>d,vC:()=>P,xR:()=>D});var o=e(6400),f=e(98661),u=e(30396),c=Object.defineProperty,_=Object.defineProperties,g=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,T=(A,x,I)=>x in A?c(A,x,{enumerable:!0,configurable:!0,writable:!0,value:I}):A[x]=I,w=(A,x)=>{for(var I in x||(x={}))v.call(x,I)&&T(A,I,x[I]);if(E)for(var I of E(x))y.call(x,I)&&T(A,I,x[I]);return A},S=(A,x)=>_(A,g(x)),O;const p=typeof window!="undefined"?(O=window._preloads)==null?void 0:O.siteConfigs:{},d=A=>({allConfigs:A,getConfigFor:I=>{if(!I||!A)return null;const N=A[I];return N===void 0?null:N}}),a=(0,o.createContext)(d(p));a.displayName="SiteConfigsContext";function P({siteConfigs:A={},children:x}){const I=(0,u.Ye)(()=>d(A),[A]);return(0,o.h)(a.Provider,{value:I},x)}const C=A=>{const x=forwardRef((I,N)=>{const F=D();return h(A,S(w(w({},F),I),{ref:N}))});return x.displayName=`withSiteConfigContext(${A.displayName||A.name||"Anonymous"})`,x};function D(){return(0,u.qp)(a)}},18597:(z,l,e)=>{"use strict";e.d(l,{Tf:()=>c,ze:()=>_});var o=e(6400),f=e(30396);const u=(0,o.createContext)({hasThemedBackground:!1});u.displayName="ThemeContext";function c(){var g;return!!((g=(0,f.qp)(u))!=null&&g.hasThemedBackground)}function _({value:g,children:E}){const v=(0,f.Ye)(()=>g,Object.values(g));return(0,o.h)(u.Provider,{value:v},E)}},67963:(z,l,e)=>{"use strict";e.d(l,{SE:()=>N,St:()=>D,aF:()=>x,dr:()=>A});var o=e(6400),f=e(30396),u=e(8479),c=Object.defineProperty,_=Object.defineProperties,g=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,T=(B,V,Z)=>V in B?c(B,V,{enumerable:!0,configurable:!0,writable:!0,value:Z}):B[V]=Z,w=(B,V)=>{for(var Z in V||(V={}))v.call(V,Z)&&T(B,Z,V[Z]);if(E)for(var Z of E(V))y.call(V,Z)&&T(B,Z,V[Z]);return B},S=(B,V)=>_(B,g(V)),O=(B,V,Z)=>new Promise((Y,ne)=>{var G=ie=>{try{W(Z.next(ie))}catch(ue){ne(ue)}},L=ie=>{try{W(Z.throw(ie))}catch(ue){ne(ue)}},W=ie=>ie.done?Y(ie.value):Promise.resolve(ie.value).then(G,L);W((Z=Z.apply(B,V)).next())}),p,d,a;const P=typeof window!="undefined"?(p=window._preloads)==null?void 0:p.user:null,C=(a=typeof window!="undefined"&&((d=window._preloads)==null?void 0:d.userSettings))!=null?a:{},D=(0,o.createContext)({user:P,setUser:()=>{},userSettings:C,changeSetting:()=>{}});D.displayName="UserContext";function A({defaultValue:B,userSettings:V,children:Z}){const[Y,ne]=(0,f.eJ)(B||P),[G,L]=(0,f.eJ)(V!=null?V:C),W=(ue,le)=>O(this,null,function*(){if(!Y)return;const J=G[ue];L(S(w({},G),{[ue]:le}));const te=typeof le=="boolean"?le:void 0,se=typeof le=="string"?le:void 0;try{yield(0,u.rd)("/api/v1/user-setting",{method:"PUT",json:{type:ue,value_bool:te,value_datetime:se}})}catch(ee){if(ee instanceof u.kp)alert(ee.getMessage()),L(ae=>S(w({},ae),{[ue]:J}));else throw ee}}),ie=(0,f.Ye)(()=>({user:Y,setUser:ne,userSettings:G,changeSetting:W}),[Y,G]);return(0,o.h)(D.Provider,{value:ie},Z)}function x(){return(0,f.qp)(D).user}function I(){return useContext(D).userSettings}function N(){return(0,f.qp)(D)}const F=B=>{const V=Z=>{const Y=useContext(D);return h(B,w({user:Y},Z))};return V.displayName=`withUserContext(${B.name||B.displayName||"Anonymous"})`,V}},46505:(z,l,e)=>{"use strict";e.d(l,{E:()=>c});var o=e(6400),f=e(32076),u=e(63270);const c=(0,o.createContext)({isStatic:!1,isAmp:!1,isFreeSubscribed:!0,isFreemail:!0,siteConfigValues:{},isPledged:!1});function _({isAmp:g,isFreeSubscribed:E,isFreemail:v,siteConfigValues:y,children:T,isPledged:w,publicationSettings:S}){return h(c.Provider,{value:{isStatic:!0,isAmp:g,isFreeSubscribed:E!==!1,isFreemail:v,siteConfigValues:y,isPledged:w}},h(SiteConfigsProvider,{siteConfigs:y},h(PublicationSettingsProvider,{settings:S},T)))}},18492:(z,l,e)=>{"use strict";e.d(l,{NS:()=>je,_i:()=>ot,zK:()=>Q,i$:()=>H,YF:()=>Le,Bj:()=>me,b9:()=>ke});var o=e(6400),f=e(94184),u=e.n(f),c=e(39693),_=e(32542),g=e(14531),E=e(6378),v=e(15045),y=e(83322),T=e(45809),w=e(89867),S=e(19696),O=e(68262),p=e(30396),d=e(46505),a=e(82626),P=e(43887);const C={footer:"frontend-email-shared-typed-module__footer--B5jqg",footerSection:"frontend-email-shared-typed-module__footerSection--dumyu",divider:"frontend-email-shared-typed-module__divider--rj1aO",meta:"frontend-email-shared-typed-module__meta--vRZSC",twitter:"frontend-email-shared-typed-module__twitter--AYwKk",twitterText:"frontend-email-shared-typed-module__twitterText--GvJZv",twitterImage:"frontend-email-shared-typed-module__twitterImage--f7Oq9"};var D=Object.defineProperty,A=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,N=(st,_t,Tt)=>_t in st?D(st,_t,{enumerable:!0,configurable:!0,writable:!0,value:Tt}):st[_t]=Tt,F=(st,_t)=>{for(var Tt in _t||(_t={}))x.call(_t,Tt)&&N(st,Tt,_t[Tt]);if(A)for(var Tt of A(_t))I.call(_t,Tt)&&N(st,Tt,_t[Tt]);return st},B=(st,_t)=>{var Tt={};for(var nn in st)x.call(st,nn)&&_t.indexOf(nn)<0&&(Tt[nn]=st[nn]);if(st!=null&&A)for(var nn of A(st))_t.indexOf(nn)<0&&I.call(st,nn)&&(Tt[nn]=st[nn]);return Tt};function V({pub:st,upsell:_t,unsubscribe_url:Tt,unsubscribeOverrideText:nn,hasApp:Mn,hideStartWriting:tr}){return h(Z,{upsell:_t,hasApp:Mn,hideStartWriting:tr},h(G,{pub:st,unsubscribe_url:Tt,unsubscribeOverrideText:nn}))}function Z({upsell:st,children:_t,hasApp:Tt,hideStartWriting:nn}){const Mn=`${getSubstackUrl()}/img/email/publish-button.png`;return h("div",{className:classnames("footer",css.footer)},!Tt&&st&&h(Fragment,null,h("div",{className:css.footerSection},st),h("div",{className:css.divider})),_t&&h("div",{style:{paddingBottom:24}},_t),h("p",{className:classnames(css.footerSection,"small powered-by-substack")},!st&&!Tt&&h(L,null),!nn&&h("a",{href:Substitutions.START_WRITING_URL},h(W,{alt:"Start writing",src:Mn,pixelRatio:3,width:135,height:40}))))}function Y({primary:st,secondary:_t,replaceAppButtonsWithCTA:Tt}){return h(Fragment,null,h(Text.H4,{as:"div",weight:"bold",style:{marginBottom:4}},st),h(Text.B4,{color:"secondary",style:{marginBottom:16}},_t),!Tt&&h("div",null,h(ie,{utm_source:"substack",utm_campaign:"app-marketing"}),h(ue,{utm_source:"substack",utm_campaign:"app-marketing"})),Tt&&h("div",null,h(ThemedEmailButtonMod,{href:Tt.url,style:{textDecoration:"none",textAlign:"center",margin:"0 auto",height:40,paddingTop:9,paddingBottom:9}},Tt.text)))}function ne({children:st}){return h("div",{className:classnames("footer")},st)}function G({pub:st,unsubscribe_url:_t,unsubscribeOverrideText:Tt}){const nn=joinLines(st.mailing_address,", ",36);return h(Text,{as:"p",size:12,color:"secondary",className:classnames("small",css.meta)},"\xA9 ",new Date().getFullYear()," ",h("span",null,st.copyright),nn&&nn.split(`
`).reduce((Mn,tr)=>(Mn.push(h("br",null),tr),Mn),[]),_t!==!1&&[" ",h(Fragment,null,h("br",null),h("a",{href:_t||Substitutions.UNSUBSCRIBE_URL},h("span",null,Tt||"Unsubscribe")))])}function L(){return h("a",{href:getAppStoreRedirectUrl({utm_campaign:"app-marketing",utm_content:"email-footer-button"})},h(W,{alt:"Get the app",src:`${getSubstackUrl()}/img/email/generic-app-button.png`,pixelRatio:3,width:130,height:40}))}function W(st){var _t=st,{src:Tt,pixelRatio:nn,width:Mn}=_t,tr=B(_t,["src","pixelRatio","width"]);let sr;const{isAmp:Rt}=useContext(EmailRenderingContext);if(typeof URL=="undefined")sr=null;else{let Mt;try{Mt=new URL(Tt)}catch(vn){Mt=new URL(getSubstackUrl()+Tt)}const $t=Array(nn).fill(0).map((vn,An)=>{if(An===0)return imginary(Tt,Mn);const dr=new URL(Mt),[Pr,br]=dr.pathname.split("."),Or=An+1;return dr.pathname=`${Pr}@${Or}x.${br}`,imginary(dr.toString(),Mn*Or)});Rt?Tt=$t[$t.length-1]:(Tt=$t[1]||$t[0],sr=$t.map((vn,An)=>An===0?vn:`${vn} ${An+1}x`).join(", "))}return h(Img,F({src:Tt,srcset:sr,width:Mn},tr))}function ie({utm_campaign:st,utm_source:_t}){return h("a",{className:"email-footer-button",href:getAppStoreUrl({utm_campaign:st,utm_source:_t})},h(Img,{alt:"Get the iOS app",src:imginary("/img/app_page/app-store.png",246),width:123,height:40}))}function ue({utm_campaign:st,utm_source:_t}){return h("a",{className:"email-footer-button",href:getPlayStoreUrl({utm_campaign:st,utm_source:_t})},h(Img,{alt:"Get the Android app",src:imginary("/img/app_page/google-play.png?v=1",270),width:135,height:40}))}const le=({text:st="Tweet",href:_t})=>h("a",{className:css.twitter,href:_t},h("img",{className:css.twitterImage,src:imginary("/img/share_twitter.white.png",20),alt:""}),h("span",{className:css.twitterText},st));var J=Object.defineProperty,te=Object.getOwnPropertySymbols,se=Object.prototype.hasOwnProperty,ee=Object.prototype.propertyIsEnumerable,ae=(st,_t,Tt)=>_t in st?J(st,_t,{enumerable:!0,configurable:!0,writable:!0,value:Tt}):st[_t]=Tt,ce=(st,_t)=>{for(var Tt in _t||(_t={}))se.call(_t,Tt)&&ae(st,Tt,_t[Tt]);if(te)for(var Tt of te(_t))ee.call(_t,Tt)&&ae(st,Tt,_t[Tt]);return st},fe=(st,_t)=>{var Tt={};for(var nn in st)se.call(st,nn)&&_t.indexOf(nn)<0&&(Tt[nn]=st[nn]);if(st!=null&&te)for(var nn of te(st))_t.indexOf(nn)<0&&ee.call(st,nn)&&(Tt[nn]=st[nn]);return Tt};const Ee="550",de=st=>{var _t=st,{children:Tt,className:nn}=_t,Mn=fe(_t,["children","className"]);return h("table",ce({role:"presentation",className:nn,width:"auto"},Mn),Tt)},_e=({children:st,className:_t,width:Tt=Ee})=>(0,o.h)("table",{role:"presentation",className:"email-body-container",width:"100%",border:"0",cellspacing:"0",cellpadding:"0"},(0,o.h)("tr",null,(0,o.h)("td",null),(0,o.h)("td",{className:"content",width:Tt}),(0,o.h)("td",null)),(0,o.h)("tr",null,(0,o.h)("td",null),(0,o.h)("td",{align:"left",className:_t?`content ${_t}`:"content",width:Tt},(0,o.h)("div",null,st)),(0,o.h)("td",null))),ve=({text:st})=>(0,o.h)("div",{className:"preview",style:"display:none;font-size:1px;color:#333333;line-height:1px;max-height:0px;max-width:0px;opacity:0;overflow:hidden;"},st," ","\xA0\u200C".repeat(200)),De=({children:st,className:_t,description:Tt,title:nn="Email from Substack"})=>h("html",null,h("head",null,h("title",null,nn),h("meta",{charset:"utf-8"})),h("body",{className:_t},Tt&&h(ve,{text:Tt}),st)),Oe=({title:st,description:_t,children:Tt,bodyClassName:nn="email-body",className:Mn="",emailWidth:tr=""})=>{const{isAmp:sr}=(0,p.qp)(d.E);return(0,o.h)("html",ce({},{amp4email:sr?!0:void 0,"data-css-strict":sr?!0:void 0}),(0,o.h)("head",null,(0,o.h)("meta",{charset:"utf-8"}),!sr&&(0,o.h)("title",null,st),sr&&(0,o.h)(o.Fragment,null,(0,o.h)("script",{async:!0,src:"https://cdn.ampproject.org/v0.js"}),(0,o.h)("script",{async:!0,"custom-element":"amp-list",src:"https://cdn.ampproject.org/v0/amp-list-0.1.js"}),(0,o.h)("script",{async:!0,"custom-template":"amp-mustache",src:"https://cdn.ampproject.org/v0/amp-mustache-0.2.js"}),(0,o.h)("script",{async:!0,"custom-element":"amp-timeago",src:"https://cdn.ampproject.org/v0/amp-timeago-0.1.js"}))),(0,o.h)("body",{className:nn},_t&&(0,o.h)(ve,{text:_t}),(0,o.h)(_e,ce({className:Mn},tr&&{width:tr}),Tt)))},ye=({title:st,description:_t,children:Tt,className:nn,width:Mn})=>h("html",null,h("head",null,h("title",null,st),h("meta",{charset:"utf-8"})),h("body",{className:"email-body"},_t&&h(ve,{text:_t}),h(_e,{className:nn,width:Mn},Tt))),ze=()=>{const st=Math.random().toString().split(".")[1].substr(0,3);return h("div",{className:"signature-fold-breaker"},st)},Be=({delta:st,className:_t,withPercent:Tt})=>{const nn=st<0?"negative":st>0?"positive":"neutral";return nn==="neutral"?h("span",{className:`${_t} neutral`},"\u2013"):h("span",{className:`${_t} ${nn}`},nn==="positive"?`+${numberToString(st)}${Tt?"%":""}`:`${numberToString(st)}${Tt?"%":""}`)},We={EmailDocument:Oe},Ke={fullWidth:"frontend-email-system-basics-module__fullWidth--SbS_a",emailButtonTd:"frontend-email-system-basics-module__emailButtonTd--j57hX",priority_primary:"frontend-email-system-basics-module__priority_primary--Oo4PA",emailButtonA:"frontend-email-system-basics-module__emailButtonA--ZlAPM",priority_secondary:"frontend-email-system-basics-module__priority_secondary--dWyFt",priority_outline:"frontend-email-system-basics-module__priority_outline--SeyPx",avatar:"frontend-email-system-basics-module__avatar--eNC1i",framed:"frontend-email-system-basics-module__framed--Br_VZ",icon:"frontend-email-system-basics-module__icon--G_0WQ",emailSeparator:"frontend-email-system-basics-module__emailSeparator--iRI9Q"};var Xe=Object.defineProperty,ct=Object.defineProperties,Se=Object.getOwnPropertyDescriptors,Qe=Object.getOwnPropertySymbols,ge=Object.prototype.hasOwnProperty,Fe=Object.prototype.propertyIsEnumerable,Ne=(st,_t,Tt)=>_t in st?Xe(st,_t,{enumerable:!0,configurable:!0,writable:!0,value:Tt}):st[_t]=Tt,lt=(st,_t)=>{for(var Tt in _t||(_t={}))ge.call(_t,Tt)&&Ne(st,Tt,_t[Tt]);if(Qe)for(var Tt of Qe(_t))Fe.call(_t,Tt)&&Ne(st,Tt,_t[Tt]);return st},Et=(st,_t)=>ct(st,Se(_t)),jt=(st,_t)=>{var Tt={};for(var nn in st)ge.call(st,nn)&&_t.indexOf(nn)<0&&(Tt[nn]=st[nn]);if(st!=null&&Qe)for(var nn of Qe(st))_t.indexOf(nn)<0&&Fe.call(st,nn)&&(Tt[nn]=st[nn]);return Tt};function en(st){return h(vt,Et(lt({},st),{unsubscribe_url:"%%unsubscribe_url%%"}))}function vt({pub:st=wwwPub,description:_t,noPromo:Tt,children:nn,noLogo:Mn,noFooter:tr,unsubscribe_url:sr}){const Rt=(st.id===0||!!getLogo(st))&&!Mn;return h(we,{description:_t},h(H,{gap:16},compact([Rt&&h(PubIcon,{pub:st.id===0?Et(lt({},st),{logo_url:`${getSubstackUrl()}/img/substack-system-email-align-left.png?v=2`}):st,size:40}),nn,tr?null:Tt?h(He,{pub:st,unsubscribe_url:sr}):h(Re,{pub:st,unsubscribe_url:sr}),h(SignatureFoldBreaker,null)])))}function Re(st){var _t=st,{pub:Tt,unsubscribe_url:nn}=_t,Mn=jt(_t,["pub","unsubscribe_url"]);return Tt?h(EmailFooter,lt({pub:Tt,unsubscribe_url:nn==null?!1:nn},Mn)):null}function He({pub:st,unsubscribe_url:_t}){return h(EmailFooterContainer,null,h(EmailFooterMeta,{pub:st,unsubscribe_url:_t==null?!1:_t}))}function ot({children:st,href:_t,testId:Tt,tableClassName:nn,tdClassName:Mn,aClassName:tr,alt:sr,download:Rt,target:Mt,style:$t}){return(0,o.h)(Le,{className:nn,style:$t},(0,o.h)("tr",null,(0,o.h)("td",{className:Mn,align:"center"},_t?(0,o.h)("a",{href:_t,className:tr,"data-test-id":Tt,alt:sr,download:Rt,target:Mt},st):(0,o.h)("span",{className:tr,"data-test-id":Tt},st))))}function me(st){return(0,o.h)(ot,Et(lt({},st),{aClassName:"email-button-a",tdClassName:"email-button-td"}))}function ke(st){var _t=st,{fullWidth:Tt,priority:nn="primary",aClassName:Mn}=_t,tr=jt(_t,["fullWidth","priority","aClassName"]);return(0,o.h)(ot,Et(lt({},tr),{tableClassName:Tt?Ke.fullWidth:void 0,aClassName:u()(Tt&&Ke.fullWidth,Ke.emailButtonA,Mn),tdClassName:u()(Tt&&Ke.fullWidth,Ke.emailButtonTd,Ke[`priority_${nn}`])}))}function je({src:st,size:_t,framed:Tt}){return(0,o.h)(w.Z,{className:u()(g.A.avatar,Ke.avatar,Tt&&Ke.framed),src:(0,v.imginary)(st),style:{width:_t,height:_t,minWidth:_t,minHeight:_t,objectFit:"cover",margin:0,display:"inline"},width:_t,height:_t})}function Je({src:st,size:_t}){return h(Img,{className:css.icon,src:imginary(st),style:{width:_t,height:_t,minWidth:_t,minHeight:_t,objectFit:"cover",margin:0},width:_t,height:_t})}const tt=(0,S.L)("email-text-button","a"),Ae=(0,S.L)("email-text-b4 email-text-secondary","div");function H({children:st,gap:_t=0,style:Tt}){const nn=(0,o.toChildArray)(st),Mn=[];for(const sr of nn.slice(0,-1))Mn.push((0,o.h)("tr",null,(0,o.h)("td",null,sr))),_t>0&&Mn.push((0,o.h)("tr",{height:_t},(0,o.h)("td",null)));const tr=nn[nn.length-1];return tr&&Mn.push((0,o.h)("tr",null,(0,o.h)("td",null,tr))),(0,o.h)(Le,{style:Tt},Mn)}function Q({children:st,gap:_t=0,style:Tt,verticalAlign:nn="middle"}){const Mn=(0,o.toChildArray)(st),tr=[];for(const Rt of Mn.slice(0,-1))tr.push((0,o.h)("td",{style:{verticalAlign:nn}},Rt)),_t>0&&tr.push((0,o.h)("td",{width:_t,style:`min-width: ${_t}px`}));const sr=Mn[Mn.length-1];return sr&&tr.push((0,o.h)("td",{style:{verticalAlign:nn}},sr)),(0,o.h)(Le,{style:Tt},(0,o.h)("tr",null,tr))}function pe({users:st,post:_t,pub:Tt,user:nn}){return h(FormattedArray,{array:st,limit:3,formatter:Mn=>h("a",{href:getReaderProfileUrl(Mn)},anonymousName(Mn,_t,Tt,nn))})}function we({children:st,description:_t}){return h(MinimalEmailDocument,{className:"email-text-base email-text-b3",description:_t},h(Le,{width:"100%"},h("tr",null,h("td",{style:{color:"transparent"}},"\xA0"),h("td",{align:"center",width:468},st),h("td",{style:{color:"transparent"}},"\xA0"))))}function Le(st){var _t=st,{children:Tt}=_t,nn=jt(_t,["children"]);return(0,o.h)("table",lt({role:"presentation",width:"auto",border:"0",cellspacing:"0",cellpadding:"0"},nn),Tt)}function Ye(st){var _t=st,{src:Tt}=_t,nn=jt(_t,["src"]);return h(Img,lt({src:getSubstackUrl()+Tt},nn))}function dt(){return h("div",{className:css.emailSeparator})}},9869:(z,l,e)=>{"use strict";e.d(l,{K:()=>D});var o=e(6400),f=e(98661),u=e(94184),c=e.n(u),_=e(84040),g=e(51126),E=e(44396),v=e(92630),y=e(25666);function T({text:A,icon:x}){const I=(0,E.XA)(),{layerProps:N,triggerProps:F,transitionProps:B,renderLayer:V,shouldShow:Z}=(0,y.l)();return{triggerProps:I||!A?null:F,layer:Z&&V((0,o.h)(v._,{transitionProps:B,tooltipProps:N,text:A,icon:x}))}}var w=e(28967),S=Object.defineProperty,O=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,a=(A,x,I)=>x in A?S(A,x,{enumerable:!0,configurable:!0,writable:!0,value:I}):A[x]=I,P=(A,x)=>{for(var I in x||(x={}))p.call(x,I)&&a(A,I,x[I]);if(O)for(var I of O(x))d.call(x,I)&&a(A,I,x[I]);return A},C=(A,x)=>{var I={};for(var N in A)p.call(A,N)&&x.indexOf(N)<0&&(I[N]=A[N]);if(A!=null&&O)for(var N of O(A))x.indexOf(N)<0&&d.call(A,N)&&(I[N]=A[N]);return I};const D=(0,f.forwardRef)((A,x)=>{var I=A,{className:N,active:F,disabled:B,permalink:V,tooltip:Z}=I,Y=C(I,["className","active","disabled","permalink","tooltip"]);const ne=T({text:Z});return(0,o.h)(g.hs,P({flex:"grow",justifyContent:V?"center":"start",alignItems:"center"},ne.triggerProps),ne.layer,(0,o.h)(_.kG,P({className:c()(w.Z.actionButton,N,F&&w.Z.active,B&&w.Z.disabled,V&&w.Z.permalink),resetCss:!0,ref:x,disabled:B},Y)))})},63771:(z,l,e)=>{"use strict";e.d(l,{A4:()=>ve,Bq:()=>Ee,Kk:()=>Y.K,Tz:()=>ye,_x:()=>de,ij:()=>De,s9:()=>fe,uD:()=>_e,ve:()=>Oe});var o=e(6400),f=e(98661),u=e(30396),c=e(94184),_=e.n(c),g=e(31131),E=e(20501),v=e(83322),y=e(31517),T=e(26240),w=e(56838),S=e(67963),O=e(69371),p=e(55687),d=e(3258),a=e(39419),P=e.n(a),C=e(51126),D=e(76235),A=e(43887),x=e(41474),I=e(91870),N=e(50292),F=e(10174),B=e(33812),V=e(16742),Z=e(44396),Y=e(9869),ne=e(11132),G=e(28967),L=Object.defineProperty,W=Object.defineProperties,ie=Object.getOwnPropertyDescriptors,ue=Object.getOwnPropertySymbols,le=Object.prototype.hasOwnProperty,J=Object.prototype.propertyIsEnumerable,te=(We,Ke,Xe)=>Ke in We?L(We,Ke,{enumerable:!0,configurable:!0,writable:!0,value:Xe}):We[Ke]=Xe,se=(We,Ke)=>{for(var Xe in Ke||(Ke={}))le.call(Ke,Xe)&&te(We,Xe,Ke[Xe]);if(ue)for(var Xe of ue(Ke))J.call(Ke,Xe)&&te(We,Xe,Ke[Xe]);return We},ee=(We,Ke)=>W(We,ie(Ke)),ae=(We,Ke)=>{var Xe={};for(var ct in We)le.call(We,ct)&&Ke.indexOf(ct)<0&&(Xe[ct]=We[ct]);if(We!=null&&ue)for(var ct of ue(We))Ke.indexOf(ct)<0&&J.call(We,ct)&&(Xe[ct]=We[ct]);return Xe},ce=(We,Ke,Xe)=>new Promise((ct,Se)=>{var Qe=Ne=>{try{Fe(Xe.next(Ne))}catch(lt){Se(lt)}},ge=Ne=>{try{Fe(Xe.throw(Ne))}catch(lt){Se(lt)}},Fe=Ne=>Ne.done?ct(Ne.value):Promise.resolve(Ne.value).then(Qe,ge);Fe((Xe=Xe.apply(We,Ke)).next())});function fe({item:We,pub:Ke,post:Xe,onLike:ct,permalink:Se}){var Qe;const ge=(0,O.rI)(),Fe=(0,ne.F)(),Ne=(0,F.i3)(),lt=(0,S.aF)(),{requireLogin:Et}=(0,N.SJ)(),jt=ze(Xe.id,{tabId:Fe}),en=Be(Xe),vt=!!Xe.reaction,Re=!Ke.community_enabled,He=!(0,v.commentsEnabledForPost)({publication:Ke,post:Xe}),ot=(Qe=Xe.child_comment_count)!=null?Qe:0,me=je=>ce(this,null,function*(){if(je.preventDefault(),!lt){Et==null||Et();return}const Je=!Xe.reaction;(yield jt(Xe.id,Je))&&(ct==null||ct(Je),We&&(0,x.rw)(We,ge,"like",{tabId:Fe}))}),ke=je=>{if(je.preventDefault(),!lt){Et==null||Et();return}Ne.open({parentPubId:Xe.publication_id,parentPostId:Xe.id,tabId:Fe}),We&&(0,x.rw)(We,ge,"comment",{tabId:Fe})};return(0,o.h)(Ee,null,(0,o.h)(de,{className:_()(G.Z.like,G.Z.likeButton,en===0&&G.Z.shrink),active:vt,disabled:Re,onClick:me,permalink:Se},(0,o.h)(_e,{isLiked:vt}),!Se&&(0,o.h)(A.xv.Digit,{className:_()(G.Z.digit,en===0&&G.Z.hidden)},(0,p.u)(Math.max(en,1)))),(0,o.h)(Y.K,{className:_()(G.Z.reply,ot===0&&G.Z.shrink),disabled:He,onClick:ke,permalink:Se},(0,o.h)(T.Z,{strokeWidth:Se?2:2.5}),!Se&&(0,o.h)(A.xv.Digit,{className:_()(G.Z.digit,ot===0&&G.Z.hidden)},(0,p.u)(Math.max(ot,1)))),(0,o.h)(ve,{disabled:Re,pub:Ke,post:Xe,permalink:Se}),(0,o.h)(Oe,{publication:Ke,post:Xe,item:We,twitterText:(0,v.resolveTwitterShareText)({pub:Ke,post:Xe}),permalink:Se}))}function Ee(We){const Ke=(0,Z.XA)();return(0,o.h)(C.hs,se({flex:"grow",justifyContent:Ke?"space-between":"start",className:G.Z.actionRow},We))}function de(We){var Ke=We,{className:Xe,onClick:ct}=Ke,Se=ae(Ke,["className","onClick"]);const[Qe,ge]=(0,u.eJ)(!1),Fe=Ne=>{ge(!0),ct==null||ct(Ne)};return(0,o.h)(Y.K,ee(se({},Se),{onClick:Fe,className:_()(Xe,Se.permalink&&G.Z.permalink,Qe&&G.Z.clickedOnce)}))}function _e({isLiked:We}){return(0,o.h)("div",{className:_()(G.Z.heartWrapper,We&&G.Z.isLiked)},(0,o.h)("svg",{className:G.Z.heart,width:"24",height:"24",viewBox:"0 0 24 24"},(0,o.h)("path",{d:"M12,21.35L10.55,20.03C5.4,15.36 2,12.27 2,8.5C2,5.41 4.42,3 7.5,3C9.24,3 10.91,3.81 12,5.08C13.09,3.81 14.76,3 16.5,3C19.58,3 22,5.41 22,8.5C22,12.27 18.6,15.36 13.45,20.03L12,21.35Z"})),(0,o.h)("div",{className:G.Z.sparks,style:"--total-sparks: 8"},Array(8).fill(0).map((Xe,ct)=>(0,o.h)("div",{className:G.Z.spark,style:`--i: ${ct+1};`}))))}function ve({pub:We,post:Ke,comment:Xe,rootComment:ct,onOpen:Se,permalink:Qe,disabled:ge}){const Fe=(0,ne.F)(),{canRestack:Ne,isRestacked:lt,restacks:Et,menuItems:jt,nuxModal:en}=(0,V.K)({pub:We,post:Ke,comment:Xe,tabId:Fe});return Ne?(0,o.h)(o.Fragment,null,en,(0,o.h)(D.v2,{trigger:(0,o.h)(De,{restacks:Et,"aria-label":"menu",active:lt,disabled:ge,permalink:Qe}),useMobileBottomSheet:!0,mobileBottomSheetTitle:"Restack",onOpen:()=>Se==null?void 0:Se(lt)},jt)):null}const De=(0,f.forwardRef)((We,Ke)=>{var Xe=We,{permalink:ct,restacks:Se}=Xe,Qe=ae(Xe,["permalink","restacks"]);return(0,o.h)(Y.K,se({className:_()(G.Z.restack,Se===0&&G.Z.shrink),"aria-label":"restack-menu",permalink:ct,ref:Ke},Qe),(0,o.h)(y.Z,{strokeWidth:ct?2:2.5}),!ct&&(0,o.h)(A.xv.Digit,{className:_()(G.Z.digit,Se===0&&G.Z.hidden)},(0,p.u)(Math.max(Se,1))))});function Oe({publication:We,post:Ke,comment:Xe,item:ct,twitterText:Se,permalink:Qe}){const ge=(0,O.rI)(),Fe=(0,ne.F)(),Ne=(0,S.aF)(),lt=Ne?Ne.id.toString(36):void 0,Et=Xe?(0,E.getFeedCommentUrl)(Xe,{urlParams:{utm_source:"notes-share-action",r:lt}}):Ke?(0,E.getFeedShortPostUrl)(We,Ke,{urlParams:{utm_source:"notes-share-action",r:lt}}):null,jt=(0,B.wg)({url:Et,twitterText:Se,onLinkClicked:vt=>{(0,d.j)(d.FP.FEED_ITEM_SHARE_LINK_CLICKED,{type:vt,shared_post_id:Ke==null?void 0:Ke.id,shared_comment_id:Xe==null?void 0:Xe.id})},comment:Xe}),en=()=>{ct&&(0,x.rw)(ct,ge,"share",{tabId:Fe})};return(0,o.h)(D.v2,{trigger:(0,o.h)(ye,{permalink:Qe}),useMobileBottomSheet:!0,mobileBottomSheetTitle:"Share",maxHeight:350,onOpen:en},jt)}const ye=(0,f.forwardRef)(({onClick:We,permalink:Ke},Xe)=>(0,o.h)(Y.K,{"aria-label":"share",onClick:We,permalink:Ke,className:G.Z.share,ref:Xe},(0,o.h)(g.Z,{strokeWidth:Ke?2:2.5})));function ze(We,{tabId:Ke}={}){const Xe=(0,I.I0)(),ct=(0,w.sV)();return(Se,Qe)=>ce(this,null,function*(){Xe({type:"post_like",payload:{postId:Se,isLiked:Qe}});try{return yield ct(Se,Qe,{tabId:Ke}),!0}catch(ge){return Xe({type:"post_like",payload:{postId:Se,isLiked:!Qe}}),alert((0,a.getNetworkErrorMessage)(ge)),!1}})}function Be(We){var Ke;return(Ke=We.reactions["\u2764"])!=null?Ke:0}},65024:(z,l,e)=>{"use strict";e.d(l,{y:()=>ae,k:()=>Oe});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),_=e(27484),g=e.n(_),E=e(65445),v=(ye=>(ye.Removed="removed",ye.Unavailable="unavailable",ye.BlockedYou="blocked-you",ye.YouBlocked="you-blocked",ye.YouMuted="you-muted",ye))(v||{});function y(ye){return ye.type==="missing"}var T=e(20501),w=e(85344),S=e(79786),O=e(84040),p=e(51126),d=e(43887),a=e(10186),P=e(41474),C=e(73413),D=e(44396),A=e(224),x=e(66337),I=e(2564),N=e(6385),F=e(80332),B=e(16527),V=e(70762),Z=e(62017),Y=e(28967);const ne="notes_quote_attachment";function G({attachment:ye,readOnly:ze,onClick:Be}){const We=(0,D.XA)(),{postSelection:Ke,post:Xe,publication:ct,author:Se}=ye,Qe=Se!=null?Se:(0,N.getPostAuthor)(ct,Xe),ge=(0,V._)({publication:ct,subscriptionSource:ne,publicationName:ct.name}),Fe=(0,o.h)(a.qE,{size:36,user:Qe});return(0,o.h)(p.tu,{className:Y.Z.quote,as:ze?"div":"a",border:"detail",radius:12,onClick:Ne=>{Be&&Be(),!We&&C.L&&!ze&&(0,B.Q)(Ne,(0,T.getPostUrl)(ct,Xe,{noBase:!We,feedViewer:!We,urlParams:{selection:Ke.id}}))},href:ze?void 0:(0,T.getPostUrl)(ct,Xe,{feedViewer:!1,urlParams:{selection:Ke.id}})},(0,o.h)(p.tu,{padding:{mobile:12,desktop:16},borderBottom:"detail"},(0,o.h)(d.xv,{font:"serif",className:c()(Y.Z.quoteText,We&&Y.Z.mobile)},"\u201C",L(Ke.text),"\u201D")),(0,o.h)(p.hs,{className:Y.Z.quoteBottom,alignItems:"center",paddingX:We?12:16,paddingY:We?8:12,gap:12},(0,o.h)(p.hs,{gap:12,flex:"grow",alignItems:"center",minWidth:0},ze?Fe:(0,o.h)(F.Ct,{subject:Qe,dontStopPropagation:!0,utmSource:"feed"},Fe),(0,o.h)(p.tu,{minWidth:0,flex:"grow"},(0,o.h)(d.xv.B4,{weight:"medium",ellipsis:!0},ze?Qe.name:(0,o.h)(Z.Zg,{user:Qe,ellipsis:!0,utm_source:ne})),(0,o.h)(p.hs,{gap:6,minWidth:0},(0,o.h)(d.xv.B4,{color:"secondary",ellipsis:!0},Xe.title),ge.showCta&&(0,o.h)(o.Fragment,null,(0,o.h)(d.xv.B4,{color:"secondary",ellipsis:!0},"\u2219"),(0,o.h)(d.xv.B4,{color:ge.isSubscribed?"secondary":"substack"},(0,o.h)(Z.hh,{href:"javascript:void",onClick:ze?void 0:ge.isSubscribed?ge.unsubscribe:ge.subscribe},ge.isSubscribed?"Subscribed":"Subscribe")))))),(0,o.h)(I.Z,{size:24,color:"var(--color-secondary)"})))}function L(ye){return ye.replace(/[]/g,"\u2018").replace(/[]/g,"\u2019").replace(/["]/g,"'")}var W=e(11132),ie=e(4070),ue=Object.defineProperty,le=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable,se=(ye,ze,Be)=>ze in ye?ue(ye,ze,{enumerable:!0,configurable:!0,writable:!0,value:Be}):ye[ze]=Be,ee=(ye,ze)=>{for(var Be in ze||(ze={}))J.call(ze,Be)&&se(ye,Be,ze[Be]);if(le)for(var Be of le(ze))te.call(ze,Be)&&se(ye,Be,ze[Be]);return ye};function ae({attachments:ye,readOnly:ze,isRestack:Be,onAttachmentClick:We,utm_content:Ke}){if(ye.length===0)return null;const Xe=ye.filter(Se=>Se.type==="image"),ct=ye.filter(Se=>Se.type!=="image");return(0,o.h)(o.Fragment,null,Xe.length>0&&(0,o.h)(w.q,{readOnly:ze,isRestack:Be,assets:Xe.map(Se=>Se.imageUrl)}),ct.map(Se=>(0,o.h)(ce,{attachment:Se,readOnly:ze,isRestack:Be,onAttachmentClick:We,utm_content:Ke})))}function ce({attachment:ye,readOnly:ze,isRestack:Be,onAttachmentClick:We,utm_content:Ke}){var Xe;return y(ye)?(0,o.h)(Ee,{attachment:ye,readOnly:ze,isRestack:Be,onAttachmentClick:We,utm_content:Ke}):ye.type==="image"?(0,o.h)(w.q,{readOnly:ze,isRestack:Be,assets:[ye.imageUrl],onClick:We}):ye.type==="link"?(0,o.h)(ve,ee({readOnly:ze,onClick:We},ye.linkMetadata)):ye.type==="comment"?(0,o.h)(de,{readOnly:ze,publication:(Xe=ye.publication)!=null?Xe:void 0,post:ye.post,comment:ye.comment,onAttachmentClick:We,utm_content:Ke}):ye.type==="post"?ye.postSelection?(0,o.h)(G,{readOnly:ze,attachment:ye,onClick:We}):(0,o.h)(x.I,{readOnly:ze,publication:ye.publication,post:ye.post,onClick:We}):ye.type==="publication"?(0,o.h)(_e,{readOnly:ze,publication:ye.publication,onClick:We}):(0,o.h)(fe,{attachment:ye})}function fe({attachment:ye}){return(0,o.h)(p.hs,null)}function Ee({attachment:ye,readOnly:ze,isRestack:Be,onAttachmentClick:We,utm_content:Ke}){const Xe=(0,W.F)(),ct=[v.YouBlocked,v.YouMuted].includes(ye.reason)&&!!ye.hidden_attachment,[Se,Qe]=(0,f.eJ)(!1);return Se&&ye.hidden_attachment?(0,o.h)(ce,{attachment:ye.hidden_attachment,readOnly:ze,isRestack:Be,onAttachmentClick:We,utm_content:Ke}):(0,o.h)(p.hs,{bg:"elevated",border:"detail",justifyContent:ct?"space-between":"center",alignItems:"center",radius:12,padding:16},(0,o.h)(d.xv.B4,{color:"secondary",align:"center"},ye.reason===v.YouBlocked?"This note is from someone you blocked.":ye.reason===v.YouMuted?"This note is from someone you've hidden.":"This attachment is not available."),ct&&(0,o.h)(O.kG,{resetCss:!0,onClick:()=>{var ge;(0,P.Kr)(ye.id,ye.reason,{noteId:(ge=ye.hidden_attachment)==null?void 0:ge.id}),Qe(!0)}},(0,o.h)(d.xv,{fontWeight:"bold",fontSize:14,color:"secondary"},"Show")))}function de({comment:ye,publication:ze,readOnly:Be,onAttachmentClick:We,utm_content:Ke}){var Xe,ct,Se;const{truncatedBodyJson:Qe}=(0,ie.Z)(ye,{limit:280,triggerLimit:280});return(0,o.h)(p.tu,{className:Y.Z.post,as:Be?"div":"a",bg:"elevated",border:"detail",radius:12,href:Be?void 0:(0,T.getFeedCommentUrl)(ye),onClick:()=>We==null?void 0:We({commentId:ye.id}),padding:12,gap:8},(0,o.h)(p.hs,{gap:8,alignItems:"center"},(0,o.h)("a",{href:(0,T.getReaderProfileUrl)(ye.user,{noBase:C.L,utm_content:"substack-feed-item",utm_source:Ke!=null?Ke:void 0})},(0,o.h)(a.qE,{size:20,user:ye.user})),(0,o.h)(p.hs,{alignItems:"center",gap:8},(0,o.h)(d.xv.B4,{weight:"medium"},Be?ye.user.name:(0,o.h)(Z.xG,{user:ye.user,utm_source:"substack-feed-item",utm_content:Ke},ye.user.name)),(0,o.h)(De,{comment:ye}))),ye.body&&(0,o.h)(d.xv.B4,{className:Y.Z.feedCommentBodyInner},ye.hidden?ze&&(0,o.h)("i",null,"This comment is only visible to paid subscribers of"," ",ze.name):Qe&&(0,o.h)(A.x,{content:Qe})),((ct=(Xe=ye.attachments)==null?void 0:Xe.length)!=null?ct:0)>0&&(0,o.h)(ae,{isRestack:!0,attachments:(Se=ye.attachments)!=null?Se:[],onAttachmentClick:We,utm_content:Ke}))}function _e({publication:ye,readOnly:ze,onClick:Be}){var We;return(0,o.h)(ve,{image:(We=ye.logo_url)!=null?We:void 0,title:ye.name,description:ye.hero_text,url:ye.base_url,onClick:Be,host:ye.base_url.replace(/^https?:\/\//,""),readOnly:ze})}function ve({image:ye,title:ze,description:Be,url:We,host:Ke,readOnly:Xe,onClick:ct}){const Se=(0,D.XA)();return(0,o.h)(p.hs,{className:Y.Z.post,padding:12,gap:12,as:Xe?"div":"a",bg:"elevated",border:"detail",radius:12,href:Xe?void 0:We,onClick:ct,rel:"nofollow noopener ugc",target:"_blank"},(0,o.h)(p.tu,{gap:2,flex:"grow",minWidth:0},(0,o.h)(d.xv.Meta,{color:"secondary",ellipsis:!0},Ke),Se?(0,o.h)(d.xv.B4,{clamp:1},ze):(0,o.h)(d.xv.B3,{clamp:2,weight:"medium"},ze),Be&&(0,o.h)(d.xv.B4,{as:"p",color:"secondary",clamp:Se?1:2},Be)),ye&&(0,o.h)(S.e,{className:c()(Y.Z.linkImage,Se&&Y.Z.mobile),src:ye,maxWidth:192,imageProps:{smartCrop:!0,aspect:"1:1"}}),!ye&&(0,o.h)(p.hs,{alignItems:"center",justifyContent:"center",radius:12,className:c()(Y.Z.linkImage,Y.Z.linkImagePlaceholder,Se&&Y.Z.mobile)},(0,o.h)(E.Z,null)))}function De({post:ye,comment:ze}){return(0,o.h)(d.xv.B4,{color:"secondary"},g()((ze==null?void 0:ze.date)||(ye==null?void 0:ye.post_date)).fromNowShort())}function Oe(ye){var ze;switch(ye.type){case"post":return ye.postSelection?(0,T.getPostUrl)(ye.publication,ye.post,{urlParams:{selection:ye.postSelection.id}}):ye.post.canonical_url;case"comment":return(0,T.getFeedCommentUrl)(ye.comment);case"publication":return ye.publication.base_url;case"link":return(ze=ye.linkMetadata.url)!=null?ze:null;default:return null}}},224:(z,l,e)=>{"use strict";e.d(l,{x:()=>d});var o=e(6400),f=e(36487),u=e(80332),c=e(44695),_=e(2731);function g({id:P,label:C,type:D,url:A}){return(0,o.h)("span",{className:"node-substack_mention"},D==="pub"?(0,o.h)(v,{id:P,url:A,label:C}):(0,o.h)(E,{id:P,label:C}))}function E({id:P,label:C}){return(0,o.h)(u.Ct,{inline:!0,subject:{id:P,name:C}},(0,o.h)("a",{className:"substack-mention",href:(0,_.getProfileUrlById)(P,C)},"@",C))}function v({id:P,url:C,label:D}){return(0,o.h)(c.Sm,{publication_id:P,inline:!0},(0,o.h)("a",{className:"substack-mention",href:C},"@",D))}var y=Object.defineProperty,T=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,O=(P,C,D)=>C in P?y(P,C,{enumerable:!0,configurable:!0,writable:!0,value:D}):P[C]=D,p=(P,C)=>{for(var D in C||(C={}))w.call(C,D)&&O(P,D,C[D]);if(T)for(var D of T(C))S.call(C,D)&&O(P,D,C[D]);return P};function d({content:P}){return(0,o.h)(a,{content:P})}function a({content:P}){var C,D,A,x,I;if(P.type==="text"){const F=(A=(D=(C=P.marks)==null?void 0:C.find(Z=>Z.type==="link"))==null?void 0:D.attrs)==null?void 0:A.href,B=F?(0,f.u)(F):P.text;let V=(0,o.h)(o.Fragment,null,B);if(P.marks)for(const Z of P.marks)Z.type==="link"?V=(0,o.h)("a",p({className:"note-link"},Z.attrs),V):Z.type==="bold"?V=(0,o.h)("strong",null,V):Z.type==="italic"?V=(0,o.h)("em",null,V):Z.type==="strike"?V=(0,o.h)("s",null,V):Z.type==="code"&&(V=(0,o.h)("code",null,V));return V}const N=(x=P.content)==null?void 0:x.filter(F=>!!F).map(F=>(0,o.h)(a,{content:F}));if(P.type==="substack_mention"){const{id:F,label:B,mentionType:V,url:Z}=(I=P.attrs)!=null?I:{};return F&&B?(0,o.h)(g,{id:F,label:B,type:V,url:Z}):null}return P.type==="doc"?(0,o.h)("div",{className:"ProseMirror FeedProseMirror"},N):P.type==="paragraph"?(0,o.h)("p",null,N):P.type==="blockquote"?(0,o.h)("blockquote",null,N):P.type==="codeBlock"?(0,o.h)("pre",null,(0,o.h)("code",null,N)):P.type==="orderedList"?(0,o.h)("ol",null,N):P.type==="bulletList"?(0,o.h)("ul",null,N):P.type==="listItem"?(0,o.h)("li",null,N):null}},51731:(z,l,e)=>{"use strict";e.d(l,{WS:()=>ye,bN:()=>Ke});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),_=e(6385),g=e(81470),E=e(70444),v=e(20501),y=e(83322),T=e(26240),w=e(29820),S=e(80332),O=e(58718),p=e(63270),d=e(67963),a=e(65024),P=e(69371),C=e(55687),D=e(73115),A=e(62017),x=e(50670),I=e(4070),N=e(8479),F=e(39419),B=e.n(F),V=e(51126),Z=e(43887),Y=e(41474),ne=e(91870),G=e(73413),L=e(50292),W=e(10174),ie=e(44695),ue=e(70762),le=e(63771),J=e(224),te=e(29800),se=e(75309),ee=e(8796),ae=e(11132),ce=e(28967),fe=Object.defineProperty,Ee=Object.getOwnPropertySymbols,de=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable,ve=(ge,Fe,Ne)=>Fe in ge?fe(ge,Fe,{enumerable:!0,configurable:!0,writable:!0,value:Ne}):ge[Fe]=Ne,De=(ge,Fe)=>{for(var Ne in Fe||(Fe={}))de.call(Fe,Ne)&&ve(ge,Ne,Fe[Ne]);if(Ee)for(var Ne of Ee(Fe))_e.call(Fe,Ne)&&ve(ge,Ne,Fe[Ne]);return ge},Oe=(ge,Fe,Ne)=>new Promise((lt,Et)=>{var jt=Re=>{try{vt(Ne.next(Re))}catch(He){Et(He)}},en=Re=>{try{vt(Ne.throw(Re))}catch(He){Et(He)}},vt=Re=>Re.done?lt(Re.value):Promise.resolve(Re.value).then(jt,en);vt((Ne=Ne.apply(ge,Fe)).next())});function ye({comment:ge,item:Fe,isParent:Ne,showReplyingTo:lt,showContext:Et,utm_content:jt,parentCommentUserId:en}){var vt,Re,He,ot,me,ke,je;const Je=(0,d.aF)(),{getConfigFor:tt}=(0,p.xR)(),Ae=!!tt("hidden_replies_ui_enabled"),H=(0,P.rI)(),Q=(0,ae.F)(),pe=()=>(0,Y.rw)(Fe,H,"profile",{tabId:Q}),we=!ge.ancestor_path,Le=Fe.publication&&Fe.post&&(0,_.getPostAuthor)(Fe.publication,Fe.post);let Ye=null;if(!we){const _t=(vt=ge.ancestor_path)==null?void 0:vt.split(".").pop(),Tt=_t&&Number(_t);Ye=(He=(Re=Fe.parentComments)==null?void 0:Re.find(nn=>(nn==null?void 0:nn.id)===Tt))!=null?He:null}const dt=_t=>{if(!_t.defaultPrevented){(0,Y.rw)(Fe,H,"item",{tabId:Q});const Tt=(0,v.getFeedCommentUrl)(ge,{noBase:!ge.hidden&&G.L});(0,F.redirect)(ge.hidden&&Fe.publication?(0,v.getSubscribeUrl)(Fe.publication,{addBase:!0,params:{next:Tt}}):Tt,{event:_t,newTab:!!ge.hidden,local_navigation:!ge.hidden})}},st=(0,_.getCommentAuthor)(ge);return(0,o.h)(x.oM,{showGutter:Ne,hasContext:Et,onClick:dt},(0,o.h)(ee.n,{userId:st==null?void 0:st.id,comment:ge},(Et||!Ne&&["comment_like","comment_top","comment_restack"].includes(Fe.context.type))&&(0,o.h)(te.L,{context:Fe.context,onClick:()=>(0,Y.rw)(Fe,H,"context",{tabId:Q}),utm_content:jt}),(0,o.h)(V.hs,{gap:12},(0,o.h)(x.Fb,{user:st,onClick:pe,utm_content:jt,desaturate:Ae&&((ot=Fe.comment)==null?void 0:ot.hide_reply)}),(0,o.h)(V.tu,{gap:8,flex:"grow",minWidth:0},(0,o.h)(V.tu,{gap:12},(0,o.h)(V.tu,null,(0,o.h)(V.tu,null,(0,o.h)(se.Ev,{user:st,post:(me=Fe.post)!=null?me:void 0,comment:ge,onClick:pe,utm_content:jt,publication:(ke=Fe.publication)!=null?ke:void 0,item:Fe,parentCommentUserId:en}),lt&&(we&&Le||!we&&Ye)?(0,o.h)(Z.xv.Detail,null,"Replying to"," ",(0,o.h)(S.Ct,{subject:we?Le:Ye?{id:Ye.user_id,user_id:Ye.user_id,name:Ye.name,photo_url:Ye.photo_url}:Le,dontStopPropagation:!0,utmSource:"feed"},(0,o.h)(A.hh,{href:we?(0,v.getFeedShortPostUrl)(Fe.publication,Fe.post,{noBase:G.L}):(0,v.getFeedCommentUrl)(Ye,{noBase:G.L})},(je=we?Le:Ye)==null?void 0:je.name))):Je&&Je.id!==ge.user_id&&(0,o.h)(ze,{comment:ge})),ge.body&&(0,o.h)(Ke,{comment:ge,publication:Fe.publication})),ge.attachments&&(0,o.h)(a.y,{attachments:ge.attachments,onAttachmentClick:({commentId:_t}={})=>{(0,Y.rw)(Fe,g.Uo.PostEmbed,"attachment",{extraEventProps:{tabId:Q,commentId:_t}})},utm_content:jt})),!ge.hidden&&(0,o.h)(Se,{item:Fe,comment:ge})))))}function ze({comment:ge}){var Fe;const Ne=(0,_.getCommentAuthor)(ge),lt=(0,ue._)({user:Ne,publicationName:(Fe=Ne.primary_publication)==null?void 0:Fe.name,allowPresubscribe:!0,subscriptionSource:"substack-feed-item",sourceNoteId:(0,E.It)(ge.id)});return lt.showCta?(0,o.h)(V.hs,{gap:4},Ne.primary_publication&&(0,o.h)(o.Fragment,null,(0,o.h)(Z.xv.Detail,{ellipsis:!0},(0,o.h)(We,{publication:Ne.primary_publication})),(0,o.h)(Z.xv.Detail,{color:"secondary"},"\u2219")),(0,o.h)(Z.xv.Detail,{color:lt.isSubscribed?"secondary":"substack"},(0,o.h)(A.hh,{onClick:lt.isSubscribed?lt.unsubscribe:lt.subscribe},lt.isSubscribed?"Subscribed":"Subscribe"))):null}function Be({comment:ge}){const{isFollowing:Fe,toggle:Ne}=useFeedFollowState(getCommentAuthor(ge));return h(Text.Detail,{color:Fe?"secondary":"substack"},h(TextLink,{onClick:Ne},Fe?"Following":"Follow"))}function We({publication:ge}){return(0,o.h)(o.Fragment,null,(0,o.h)(ie.Sm,{publication_id:ge.id,utmSource:"feed",inline:!0},(0,o.h)(A.hh,{href:(0,v.getBaseUrl)(ge),target:"_blank"},ge.name)))}function Ke({comment:ge,publication:Fe,large:Ne}){const{bodyJson:lt,truncatedBodyJson:Et,isTruncated:jt}=(0,I.Z)(ge),[en,vt]=(0,f.eJ)(Ne||!jt),Re=ot=>{ot.preventDefault(),vt(!0)},He=en?lt:Et;return(0,o.h)(V.tu,{className:ce.Z.feedCommentBody},(0,o.h)(x.sP,{large:Ne},ge.hidden?(0,o.h)(Xe,{pub:Fe}):He&&(0,o.h)(J.x,{key:en,content:He})),!en&&(0,o.h)(ct,{onClick:Re,large:Ne}))}function Xe({pub:ge}){return(0,o.h)(o.Fragment,null,(0,o.h)("i",null,"This comment is only visible to paid subscribers of ",ge==null?void 0:ge.name),(0,o.h)("br",null),(0,o.h)("b",null,"Subscribe to view \u2192"))}function ct(ge){return(0,o.h)(V.hs,{className:ce.Z.seeMore},(0,o.h)(V.hs,{className:ce.Z.seeMoreFade}),ge.large?(0,o.h)(Z.xv.B2,{color:"accent-blue",className:ce.Z.seeMoreText},(0,o.h)(A.hh,De({},ge),"See more...")):(0,o.h)(Z.xv.B3,{color:"accent-blue",className:ce.Z.seeMoreText},(0,o.h)(A.hh,De({},ge),"See more...")))}function Se({item:ge,comment:Fe,permalink:Ne}){var lt,Et;const jt=(0,P.rI)(),en=(0,ae.F)(),vt=(0,ne.I0)(),Re=(0,W.i3)(),He=(0,d.aF)(),{requireLogin:ot}=(0,L.SJ)(),{getConfigFor:me}=(0,p.xR)(),ke=me("enable_note_share_modal"),{publication:je,post:Je}=ge,tt=!!(Je&&je&&!(0,y.commentsEnabledForPost)({publication:je,post:Je})),Ae=!!(Je&&je&&!(0,y.restacksEnabledForPost)({publication:je,post:Je})),H=Fe.reaction_count||0,Q=(0,N.ib)({pathname:`/api/v1/comment/${Fe.id}/reaction`,method:"POST"}),pe=!!Fe.reaction,we=()=>{ot==null||ot()},Le=(lt=ge.parentComments[0])!=null?lt:Fe,Ye=(0,W.oC)(ge),dt=_t=>{var Tt,nn;if(_t.preventDefault(),!He){we();return}Re.open({feedItem:ge,parentPubId:(Tt=Fe.publication_id)!=null?Tt:void 0,parentPostId:(nn=Fe.post_id)!=null?nn:void 0,parentCommentId:Fe.id,tabId:en}),(0,Y.rw)(ge,jt,"comment",{tabId:en,extraEventProps:{reply_requirement:Ye,reply_locked:!!Ye}})},st=_t=>Oe(this,null,function*(){if(_t.preventDefault(),!He){we();return}const Tt=!pe;vt({type:"comment_like",payload:{commentId:Fe.id,isLiked:Tt}});try{yield Q.refetch({method:Tt?"POST":"DELETE",json:{publication_id:(je==null?void 0:je.id)||null,reaction:"\u2764",tabId:en}})}catch(nn){vt({type:"comment_like",payload:{commentId:Fe.id,isLiked:!Tt}}),alert((0,F.getNetworkErrorMessage)(nn));return}(0,Y.rw)(ge,jt,"like",{tabId:en})});return(0,o.h)(le.Bq,null,(0,o.h)(le._x,{className:c()(ce.Z.like,ce.Z.likeButton,H===0&&ce.Z.shrink),active:pe,disabled:!1,onClick:st,permalink:Ne},(0,o.h)(le.uD,{isLiked:pe}),!Ne&&(0,o.h)(Z.xv.Digit,{className:c()(ce.Z.digit,H===0&&ce.Z.hidden)},(0,C.u)(Math.max(H,1)))),(0,o.h)(le.Kk,{className:c()(ce.Z.reply,!Fe.children_count&&ce.Z.shrink),disabled:tt,onClick:dt,permalink:Ne,tooltip:Ye==="paid_subscriber"?"Only paid subscribers can reply.":Ye==="free_subscriber"?"Only subscribers can reply.":void 0},Ye?(0,o.h)(w.Z,{strokeWidth:Ne?2:2.5}):(0,o.h)(T.Z,{strokeWidth:Ne?2:2.5}),!Ne&&(0,o.h)(Z.xv.Digit,{className:c()(ce.Z.digit,!Fe.children_count&&ce.Z.hidden)},(0,C.u)(Math.max(Fe.children_count||0,1)))),He?(0,o.h)(le.A4,{pub:je!=null?je:void 0,post:Je!=null?Je:void 0,comment:Fe,rootComment:Le,disabled:Ae,permalink:Ne,onOpen:_t=>(0,Y.rw)(ge,jt,"restack",{tabId:en,extraEventProps:{isRestacked:_t}})}):(0,o.h)(le.ij,{permalink:Ne,restacks:(Et=Fe.restacks)!=null?Et:0,disabled:Ae,onClick:we}),ke?(0,o.h)(Qe,{comment:Fe,permalink:Ne}):(0,o.h)(le.ve,{publication:je!=null?je:void 0,post:Je!=null?Je:void 0,comment:Fe,item:ge,permalink:Ne}))}function Qe({comment:ge,permalink:Fe}){const[Ne,lt]=(0,f.eJ)(!1);return(0,o.h)(o.Fragment,null,(0,o.h)(le.Tz,{onClick:()=>lt(!0),permalink:Fe}),(0,o.h)(D.xW,{isOpen:Ne,comment:ge,onClose:()=>lt(!1)}))}},60779:(z,l,e)=>{"use strict";e.d(l,{w:()=>f});var o=e(6400);function f({size:u=20,stroke:c="var(--color-light-secondary)"}){return(0,o.h)("svg",{width:u,height:u,viewBox:"0 0 24 24",fill:"none",stroke:c,xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{id:"Vector",d:"M18.6471 15.3333V18.6667M18.6471 18.6667L18.6471 22M18.6471 18.6667H22M18.6471 18.6667H15.2941M3 22C3 17.7044 6.69722 14.2222 11.258 14.2222C12.0859 14.2222 12.8854 14.3369 13.6394 14.5505M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},69518:(z,l,e)=>{"use strict";e.d(l,{$:()=>S});var o=e(6400),f=Object.defineProperty,u=Object.defineProperties,c=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,v=(O,p,d)=>p in O?f(O,p,{enumerable:!0,configurable:!0,writable:!0,value:d}):O[p]=d,y=(O,p)=>{for(var d in p||(p={}))g.call(p,d)&&v(O,d,p[d]);if(_)for(var d of _(p))E.call(p,d)&&v(O,d,p[d]);return O},T=(O,p)=>u(O,c(p)),w=(O,p)=>{var d={};for(var a in O)g.call(O,a)&&p.indexOf(a)<0&&(d[a]=O[a]);if(O!=null&&_)for(var a of _(O))p.indexOf(a)<0&&E.call(O,a)&&(d[a]=O[a]);return d};function S(O){var p=O,{size:d=20,stroke:a="var(--color-light-secondary)"}=p,P=w(p,["size","stroke"]);return(0,o.h)("svg",T(y({},P),{width:d,height:d,viewBox:"0 0 24 24",fill:"none",stroke:a,xmlns:"http://www.w3.org/2000/svg"}),(0,o.h)("path",{id:"Vector",d:"M15.2941 18.6667L17.5294 20.8889L22 16.4444M3 21.9999C3 17.7044 6.69722 14.2222 11.258 14.2222C12.0859 14.2222 12.8854 14.3369 13.6394 14.5505M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},20447:(z,l,e)=>{"use strict";e.d(l,{Bm:()=>ye,O3:()=>Be});var o=e(6400),f=e(98661),u=e(30396),c=e(94184),_=e.n(c),g=e(9528),E=e(56743),v=e(2564),y=e(6385),T=e(81470),w=e(70444),S=e(20501),O=e(63270),p=e(67963),d=e(51731),a=e(69371),P=e(29800),C=e(75309),D=e(8796),A=e(66337),x=e(11132),I=e(62017),N=e(50670),F=e(66141),B=e(16527),V=e(6742),Z=e(39419),Y=e.n(Z),ne=e(84040),G=e(51126),L=e(43887),W=e(5131),ie=e(41474),ue=e(55337),le=e(73413),J=e(33510),te=e(44396),se=e(63771),ee=e(28967),ae=Object.defineProperty,ce=Object.defineProperties,fe=Object.getOwnPropertyDescriptors,Ee=Object.getOwnPropertySymbols,de=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable,ve=(lt,Et,jt)=>Et in lt?ae(lt,Et,{enumerable:!0,configurable:!0,writable:!0,value:jt}):lt[Et]=jt,De=(lt,Et)=>{for(var jt in Et||(Et={}))de.call(Et,jt)&&ve(lt,jt,Et[jt]);if(Ee)for(var jt of Ee(Et))_e.call(Et,jt)&&ve(lt,jt,Et[jt]);return lt},Oe=(lt,Et)=>ce(lt,fe(Et));function ye({item:lt}){const Et=We[lt.type];return Et?(0,o.h)(Et,{item:lt}):null}function ze({item:lt,children:Et}){const jt=(0,u.sO)(null),en=(0,a.rI)(),vt=(0,u.qp)(x.q);return(0,V.UM)(jt,()=>(0,ie.zi)(lt,en,{tabId:vt}),{threshold:.2}),(0,o.h)(Be,{ref:jt},Et)}const Be=(0,f.forwardRef)((lt,Et)=>(0,o.h)(G.tu,Oe(De({},lt),{className:ee.Z.feedItem,gap:4,ref:Et}))),We={post:Ke,comment:ct,userSuggestions:Qe,twitterConnect:ge,facebookConnect:Fe,inviteFriends:Ne};function Ke({item:lt}){const Et=(0,a.rI)(),jt=(0,u.qp)(x.q);return(0,o.h)(ze,{item:lt},(0,o.h)(Xe,{item:lt,context:(0,o.h)(P.L,{context:lt.context,onClick:()=>(0,ie.rw)(lt,Et,"context",{tabId:jt}),utm_content:lt.entity_key})}))}function Xe({item:lt,showGutter:Et,context:jt}){const{publication:en,post:vt}=lt,Re=en&&vt?(0,y.getPostAuthor)(en,vt):void 0,He=(0,a.rI)(),ot=(0,u.qp)(x.q),me=()=>(0,ie.rw)(lt,He,"profile",{tabId:ot});return!en||!vt||!Re?null:(0,o.h)(N.oM,{onClick:ke=>{(0,ie.rw)(lt,He,"item",{tabId:ot}),(0,Z.redirect)((0,S.getFeedShortPostUrl)(en,vt,{noBase:le.L}),{event:ke})},showGutter:Et,hasContext:!!jt},(0,o.h)(D.n,{userId:Re==null?void 0:Re.id},jt,(0,o.h)(G.hs,{gap:12},(0,o.h)(N.Fb,{user:Re,onClick:me,utm_content:lt.entity_key}),(0,o.h)(G.tu,{gap:8,flex:"grow",minWidth:0},(0,o.h)(G.tu,{gap:8},(0,o.h)(C.Ev,{user:Re,post:vt,onClick:me,utm_content:lt.entity_key,publication:en,item:lt}),(0,o.h)(A.I,{publication:en,post:vt})),(0,o.h)(se.s9,{item:lt,pub:en,post:vt})))))}function ct({item:lt}){var Et,jt,en,vt;const{publication:Re,post:He,comment:ot,parentComments:me}=lt,ke=Re||He||!me||me.length===1?void 0:me[0],je=(Et=me&&me[me.length-1])!=null?Et:null,Je=Re&&He&&(0,y.getPostAuthor)(Re,He),tt=lt.context.type!=="comment_restack",Ae=lt.context.type==="note_reply"&&tt&&ot.user_id!==((en=Je==null?void 0:Je.id)!=null?en:(jt=me==null?void 0:me[0])==null?void 0:jt.user_id),H=(0,a.rI)(),Q=(0,u.qp)(x.q),pe=lt.context.type==="comment_restack"?`user/${(vt=lt.context.users[0])==null?void 0:vt.id}`:lt.entity_key;return(0,o.h)(ze,{item:lt},(0,o.h)(G.tu,{gap:8},tt&&(0,o.h)(o.Fragment,null,Je?(0,o.h)(o.Fragment,null,(0,o.h)(Xe,{item:lt,showGutter:!0,context:Ae?(0,o.h)(P.L,{context:lt.context,onClick:()=>(0,ie.rw)(lt,H,"context",{tabId:Q}),utm_content:pe}):void 0}),(me==null?void 0:me.length)>1&&je&&(0,o.h)(Se,{url:(0,S.getFeedCommentUrl)(je,{noBase:le.L}),showGutter:!0})):ke?(0,o.h)(o.Fragment,null,(0,o.h)(d.WS,{isParent:!0,comment:ke,item:lt,showContext:Ae,utm_content:pe}),(me==null?void 0:me.length)>2&&je&&(0,o.h)(Se,{url:(0,S.getFeedCommentUrl)(je,{noBase:le.L}),showGutter:!0})):null,je&&(0,o.h)(d.WS,{showReplyingTo:(me==null?void 0:me.length)>2,isParent:!0,comment:je,item:lt,showContext:Ae&&!(Je||ke),utm_content:pe})),(0,o.h)(d.WS,{comment:ot,item:lt,showReplyingTo:!tt,utm_content:pe})))}function Se({url:lt,showGutter:Et}){return(0,o.h)(N.oM,{onClick:jt=>(0,Z.redirect)(lt,{event:jt}),showGutter:Et,hasAvatar:!1},(0,o.h)(G.gq,null,(0,o.h)(G.tu,{alignItems:"center",justifyContent:"center",className:ee.Z.seeMoreThread},(0,o.h)(G.tu,{className:_()(ee.Z.seeMoreThreadSegment,ee.Z.top)}),(0,o.h)(g.Z,{size:16,stroke:"var(--color-detail)"}),(0,o.h)(G.tu,{className:ee.Z.seeMoreThreadSegment,flex:"grow"})),(0,o.h)(G.tu,{className:ee.Z.seeMoreReplies,flex:"grow",minWidth:0},(0,o.h)(L.xv.B4,{color:"accent-blue"},(0,o.h)(I.hh,{href:lt},"See more replies")))))}function Qe({item:lt}){const Et=(0,te.XA)(),jt=(0,u.sO)(null),{state:en,handleArrowClick:vt}=(0,J.eK)(jt),Re=(0,p.SE)();(0,V.UM)(jt,()=>{Re.changeSetting("suggestions_feed_item_last_shown_at",new Date().toISOString())},{threshold:.2});const ot=!!(0,O.xR)().getConfigFor("facebook_connect")&&Re.user&&!Re.user.has_linked_facebook;return(0,o.h)(ze,{item:lt},(0,o.h)(G.tu,{paddingY:16,gap:8},(0,o.h)(G.hs,{alignItems:"center",justifyContent:"space-between",paddingLeft:{mobile:16,desktop:0}},(0,o.h)(L.xv.H4,null,(0,o.h)(I.hh,{onClick:me=>(0,B.Q)(me,(0,w.kM)())},"Suggestions")),(0,o.h)(ne.zx,{size:"small",priority:"secondary",fill:"empty",onClick:me=>(0,B.Q)(me,(0,w.kM)())},"See all")),(0,o.h)(G.hs,{className:ee.Z.peopleYouMayKnowContainer,alignItems:"center",flex:"grow"},!Et&&en.showLeft&&(0,o.h)("div",{className:_()("reader2-carousel-fade left visible",ee.Z.peopleYouMayKnowArrows)},(0,o.h)("div",{className:"bg"}),(0,o.h)(W.zx,{look:"reset",className:"reader2-carousel-arrow",onClick:vt(-1)},(0,o.h)(E.Z,null))),(0,o.h)(G.hs,{ref:jt,className:ee.Z.peopleYouMayKnow,alignItems:"center",gap:8,paddingX:{desktop:0,mobile:16}},ot&&(0,o.h)(ue.dg,null),lt.userSuggestions.map(me=>(0,o.h)(ue.E$,{feedUserSuggestion:me,surface:T.Uo.Feed}))),!Et&&en.showRight&&(0,o.h)("div",{className:_()("reader2-carousel-fade right visible",ee.Z.peopleYouMayKnowArrows)},(0,o.h)("div",{className:"bg"}),(0,o.h)(W.zx,{look:"reset",className:"reader2-carousel-arrow",onClick:vt(1)},(0,o.h)(v.Z,null))))))}function ge({item:lt}){const{getConfigFor:Et}=(0,O.xR)();return Et("twitter_connect_flows_enabled")?(0,o.h)(ze,{item:lt},(0,o.h)(G.hs,{paddingY:20},(0,o.h)(ue.rS,null))):null}function Fe({item:lt}){const{getConfigFor:Et}=(0,O.xR)();return Et("facebook_connect")?(0,o.h)(ze,{item:lt},(0,o.h)(G.hs,{paddingY:20},(0,o.h)(ue.KL,null))):null}function Ne({item:lt}){const[Et]=(0,F.Z)(ue.au);return Et?null:(0,o.h)(ze,{item:lt},(0,o.h)(G.hs,{paddingY:20,paddingX:20},(0,o.h)(ue.Zx,{utmSource:"feed_item"})))}},29800:(z,l,e)=>{"use strict";e.d(l,{L:()=>P});var o=e(6400),f=e(30396),u=e(83322),c=e(43615),_=e(62017),g=e(51126),E=e(43887);function v({size:ne,className:G}){return(0,o.h)("svg",{className:G,width:ne,height:ne,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M5.57617 11.7466C5.80176 11.7466 5.98975 11.6714 6.14014 11.521C6.29053 11.3742 6.36572 11.188 6.36572 10.9624V9.11475H6.48389C7.1141 9.11475 7.66553 9.18636 8.13818 9.32959C8.61084 9.46924 9.02262 9.69124 9.37354 9.99561C9.72445 10.2964 10.0306 10.6903 10.292 11.1772C10.4066 11.3885 10.5319 11.5299 10.668 11.6016C10.804 11.6732 10.9508 11.709 11.1084 11.709C11.3232 11.709 11.4987 11.6069 11.6348 11.4028C11.7708 11.1987 11.8389 10.8944 11.8389 10.4897C11.8389 9.52653 11.7297 8.66357 11.5112 7.90088C11.2928 7.13818 10.9616 6.49007 10.5176 5.95654C10.0771 5.41943 9.52035 5.01123 8.84717 4.73193C8.17757 4.44906 7.38981 4.30762 6.48389 4.30762H6.36572V2.45459C6.36572 2.23258 6.29053 2.0446 6.14014 1.89062C5.98975 1.73307 5.79997 1.6543 5.5708 1.6543C5.42041 1.6543 5.28255 1.68652 5.15723 1.75098C5.03548 1.81543 4.89225 1.92285 4.72754 2.07324L0.462891 6.03711C0.355469 6.13737 0.278483 6.24658 0.231934 6.36475C0.185384 6.47933 0.162109 6.59033 0.162109 6.69775C0.162109 6.8016 0.185384 6.9126 0.231934 7.03076C0.282064 7.14893 0.359049 7.25814 0.462891 7.3584L4.72754 11.3491C4.87435 11.4888 5.014 11.589 5.14648 11.6499C5.27897 11.7144 5.4222 11.7466 5.57617 11.7466Z"}))}function y({size:ne,className:G}){return(0,o.h)("svg",{className:G,width:ne,height:ne,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M6 12C6.14187 12 6.26404 11.9527 6.3665 11.8581C6.47291 11.7635 6.53793 11.6394 6.56158 11.4857C6.66798 10.6975 6.78424 10.0355 6.91034 9.49951C7.04039 8.95961 7.20985 8.51823 7.41872 8.17537C7.62759 7.82857 7.90148 7.55271 8.24039 7.34778C8.57931 7.14286 9.01084 6.98325 9.53497 6.86897C10.0631 6.75074 10.7094 6.64828 11.4739 6.56158C11.6236 6.54581 11.7478 6.48473 11.8463 6.37832C11.9488 6.27192 12 6.14581 12 6C12 5.85419 11.9488 5.72808 11.8463 5.62167C11.7478 5.51527 11.6236 5.45222 11.4739 5.43251C10.7133 5.34187 10.0709 5.23744 9.5468 5.11921C9.02266 5.00098 8.59113 4.84138 8.25222 4.64039C7.9133 4.43547 7.63941 4.16158 7.43054 3.81872C7.22562 3.47192 7.05813 3.03054 6.92808 2.49458C6.79803 1.95862 6.67586 1.29655 6.56158 0.508374C6.53399 0.35468 6.46897 0.232512 6.3665 0.141872C6.26404 0.0472906 6.14187 0 6 0C5.85813 0 5.73399 0.0472906 5.62759 0.141872C5.52512 0.236453 5.46207 0.358621 5.43842 0.508374C5.33202 1.29655 5.21379 1.96059 5.08374 2.50049C4.95764 3.04039 4.79015 3.48374 4.58128 3.83054C4.37241 4.1734 4.09655 4.44729 3.75369 4.65222C3.41478 4.85714 2.98325 5.01872 2.45911 5.13695C1.93892 5.25123 1.29655 5.34975 0.53202 5.43251C0.374384 5.45222 0.246305 5.51527 0.147783 5.62167C0.0492611 5.72808 0 5.85419 0 6C0 6.14581 0.0492611 6.27192 0.147783 6.37832C0.246305 6.48473 0.372414 6.54581 0.526108 6.56158C1.16453 6.64828 1.71626 6.74089 2.18128 6.83941C2.64631 6.93793 3.04236 7.05813 3.36946 7.2C3.70049 7.34187 3.97635 7.52512 4.19704 7.74975C4.42167 7.97044 4.6069 8.24631 4.75271 8.57734C4.90246 8.90837 5.02857 9.31231 5.13103 9.78916C5.23744 10.266 5.3399 10.8335 5.43842 11.4916C5.46601 11.6414 5.53103 11.7635 5.6335 11.8581C5.73596 11.9527 5.85813 12 6 12Z"}))}function T({size:ne,className:G}){return(0,o.h)("svg",{className:G,width:ne,height:ne,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M6.00293 12.2002C6.08891 12.2002 6.18857 12.1712 6.30191 12.1132C6.41915 12.059 6.53053 11.9971 6.63605 11.9275C7.72252 11.2313 8.66634 10.5003 9.46751 9.73448C10.2726 8.96479 10.8959 8.17382 11.3376 7.36159C11.7792 6.54548 12 5.72358 12 4.89587C12 4.34664 11.9101 3.84576 11.7303 3.39323C11.5506 2.9407 11.3043 2.55005 10.9917 2.22129C10.679 1.89253 10.3156 1.64112 9.90132 1.46707C9.48705 1.28915 9.04348 1.2002 8.57059 1.2002C7.98437 1.2002 7.47435 1.34717 7.04055 1.64112C6.60674 1.93121 6.26087 2.31412 6.00293 2.78986C5.74108 2.31799 5.39326 1.93508 4.95945 1.64112C4.52956 1.34717 4.01954 1.2002 3.42941 1.2002C2.95652 1.2002 2.51295 1.28915 2.09868 1.46707C1.68832 1.64112 1.32487 1.89253 1.0083 2.22129C0.691744 2.55005 0.443576 2.9407 0.263801 3.39323C0.0879336 3.84576 0 4.34664 0 4.89587C0 5.72358 0.220811 6.54548 0.662433 7.36159C1.10405 8.17382 1.72741 8.96479 2.53249 9.73448C3.33757 10.5003 4.28139 11.2313 5.36395 11.9275C5.47338 11.9971 5.58476 12.059 5.69809 12.1132C5.81534 12.1712 5.91695 12.2002 6.00293 12.2002Z"}))}function w({size:ne,className:G}){return(0,o.h)("svg",{className:G,width:ne,height:ne,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M5.73259 12C6.48612 12 7.16981 11.8807 7.78366 11.6421C8.39751 11.4035 8.92682 11.0637 9.37159 10.6227C9.81636 10.1853 10.1564 9.66109 10.3916 9.05016C10.6305 8.43561 10.75 7.75599 10.75 7.0113C10.75 6.18708 10.6397 5.44239 10.4192 4.77723C10.2023 4.10845 9.90458 3.51559 9.52597 2.99864C9.14737 2.4817 8.71363 2.03344 8.22475 1.65386C7.73955 1.27429 7.22495 0.963398 6.68093 0.721193C6.13692 0.475373 5.59107 0.294623 5.04338 0.178943C4.4957 0.0596475 3.97741 0 3.48854 0C3.18713 0 2.94453 0.05784 2.76074 0.17352C2.58062 0.285585 2.49057 0.44826 2.49057 0.661545C2.49057 0.74469 2.50711 0.829643 2.54019 0.916403C2.57695 0.999548 2.62841 1.07908 2.69457 1.15499C2.92615 1.42973 3.14118 1.7099 3.33967 1.99548C3.53816 2.28107 3.69806 2.5775 3.81936 2.88477C3.94433 3.18843 4.00866 3.51197 4.01233 3.8554C4.01233 3.94578 4.00314 4.03434 3.98476 4.1211C3.97006 4.20786 3.93147 4.30728 3.86898 4.41934L4.10607 4.35969C3.99579 4.06688 3.86163 3.82287 3.70357 3.62765C3.54919 3.43244 3.3801 3.28604 3.19631 3.18843C3.01253 3.08721 2.83241 3.0366 2.65598 3.0366C2.51262 3.0366 2.39684 3.08179 2.30862 3.17216C2.2204 3.26254 2.17629 3.38545 2.17629 3.54089C2.17629 3.63127 2.18364 3.74333 2.19835 3.87709C2.21305 4.00723 2.2204 4.1446 2.2204 4.2892C2.2204 4.54225 2.18732 4.77542 2.12115 4.9887C2.05867 5.19837 1.9778 5.40804 1.87855 5.61771C1.78299 5.82738 1.68742 6.05151 1.59185 6.2901C1.49628 6.52869 1.41541 6.80163 1.34925 7.1089C1.28308 7.41256 1.25 7.76683 1.25 8.17171C1.25 8.93809 1.43563 9.60868 1.80688 10.1835C2.1818 10.7546 2.7056 11.1993 3.37826 11.5174C4.05093 11.8391 4.8357 12 5.73259 12ZM5.87043 10.2214C5.3595 10.2214 4.94781 10.084 4.63537 9.80931C4.32293 9.53095 4.16671 9.16765 4.16671 8.71939C4.16671 8.48803 4.20163 8.2892 4.27147 8.12291C4.34131 7.95662 4.42218 7.8066 4.51407 7.67284C4.60597 7.53547 4.69051 7.39991 4.7677 7.26615C4.84857 7.1324 4.89819 6.98057 4.91657 6.81066C4.92025 6.7709 4.93679 6.74559 4.96619 6.73475C4.99927 6.72029 5.03419 6.72752 5.07095 6.75644C5.18858 6.8685 5.28782 6.99322 5.36869 7.13059C5.45323 7.26435 5.52675 7.41256 5.58923 7.57524C5.72891 7.35472 5.81897 7.06733 5.8594 6.71306C5.90351 6.35879 5.89984 5.97921 5.84837 5.57433C5.83735 5.52734 5.84654 5.4948 5.87594 5.47673C5.90535 5.45504 5.94027 5.45323 5.9807 5.47131C6.37768 5.64483 6.71034 5.8798 6.97867 6.17623C7.25068 6.46905 7.45652 6.7944 7.5962 7.15228C7.73588 7.51017 7.80572 7.87167 7.80572 8.23678C7.80572 8.6019 7.7322 8.93448 7.58517 9.23452C7.43814 9.53457 7.22127 9.77497 6.93456 9.95572C6.64785 10.1329 6.29314 10.2214 5.87043 10.2214Z"}))}function S({size:ne,className:G}){return(0,o.h)("svg",{className:G,width:ne,height:ne,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M1.60574 12.7001H2.38973C2.74924 12.7001 3.02417 12.58 3.2145 12.3397C3.40483 12.1032 3.5 11.766 3.5 11.328V8.07221C3.5 7.6381 3.40483 7.30089 3.2145 7.06058C3.02417 6.82027 2.74924 6.70012 2.38973 6.70012H1.60574C1.24924 6.70012 0.975831 6.82027 0.785498 7.06058C0.595166 7.30089 0.5 7.64004 0.5 8.07802V11.328C0.5 11.766 0.595166 12.1032 0.785498 12.3397C0.975831 12.58 1.24924 12.7001 1.60574 12.7001ZM5.64804 12.7001H6.39426C6.75076 12.7001 7.02417 12.58 7.2145 12.3397C7.40483 12.1032 7.5 11.766 7.5 11.328V5.07221C7.5 4.6381 7.40483 4.30089 7.2145 4.06058C7.02417 3.82027 6.75076 3.70012 6.39426 3.70012H5.64804C5.29154 3.70012 5.01813 3.82027 4.8278 4.06058C4.63746 4.30089 4.5423 4.64004 4.5423 5.07802V11.328C4.5423 11.766 4.63746 12.1032 4.8278 12.3397C5.01813 12.58 5.29154 12.7001 5.64804 12.7001ZM9.60121 12.7001H10.3897C10.7462 12.7001 11.0196 12.58 11.21 12.3397C11.4033 12.1032 11.5 11.766 11.5 11.328V2.07229C11.5 1.6343 11.4033 1.29709 11.21 1.06066C11.0196 0.82035 10.7462 0.700195 10.3897 0.700195H9.60121C9.24773 0.700195 8.97583 0.82035 8.7855 1.06066C8.59517 1.29709 8.5 1.6343 8.5 2.07229V11.328C8.5 11.766 8.59517 12.1032 8.7855 12.3397C8.97583 12.58 9.24773 12.7001 9.60121 12.7001Z"}))}function O({size:ne,className:G}){return(0,o.h)("svg",{className:G,width:ne,height:ne,fill:"none",viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.0002 0.200195C10.442 0.200195 10.8002 0.558368 10.8002 1.0002V4.0002C10.8002 4.44202 10.442 4.8002 10.0002 4.8002H7.00019C6.55837 4.8002 6.20019 4.44202 6.20019 4.0002C6.20019 3.55837 6.55837 3.2002 7.00019 3.2002H7.91434C7.39165 2.75016 6.75316 2.45487 6.07076 2.34836C5.36533 2.23826 4.64311 2.33461 3.99121 2.62579C3.33932 2.91697 2.78559 3.39054 2.39682 3.98939C2.15624 4.35997 1.66079 4.46536 1.29021 4.22477C0.919626 3.98419 0.81424 3.48874 1.05482 3.11816C1.61171 2.26036 2.40489 1.582 3.33868 1.1649C4.27248 0.747807 5.30701 0.60979 6.31749 0.7675C7.32797 0.92521 8.27124 1.37191 9.03353 2.05372L9.03541 2.0554L9.20019 2.20374V1.0002C9.20019 0.558368 9.55837 0.200195 10.0002 0.200195ZM0.200195 8.0002C0.200195 7.55837 0.558368 7.2002 1.0002 7.2002H4.00019C4.44202 7.2002 4.80019 7.55837 4.80019 8.0002C4.80019 8.44202 4.44202 8.8002 4.00019 8.8002H3.08627C3.60892 9.25012 4.24733 9.54535 4.92963 9.65184C5.63506 9.76194 6.35728 9.66559 7.00917 9.37441C7.66107 9.08323 8.2148 8.60965 8.60357 8.01081C8.84415 7.64023 9.3396 7.53484 9.71018 7.77543C10.0808 8.01601 10.1862 8.51146 9.94557 8.88204C9.38868 9.73984 8.5955 10.4182 7.66171 10.8353C6.72791 11.2524 5.69338 11.3904 4.6829 11.2327C3.67242 11.075 2.72915 10.6283 1.96686 9.94648L1.96502 9.94483L1.8002 9.79649V11.0002C1.8002 11.442 1.44202 11.8002 1.0002 11.8002C0.558368 11.8002 0.200195 11.442 0.200195 11.0002V8.0002Z"}))}function p({size:ne,className:G}){return(0,o.h)("svg",{className:G,width:ne,height:ne,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,o.h)("path",{d:"M2.30172 11.423C2.43901 11.5215 2.59037 11.5572 2.75582 11.53C2.92478 11.5028 3.10255 11.423 3.28912 11.2905L5.99784 9.3694L8.71185 11.2905C8.89841 11.423 9.07442 11.5028 9.23986 11.53C9.40883 11.5572 9.56195 11.5215 9.69924 11.423C9.833 11.3245 9.91396 11.1937 9.94212 11.0306C9.97029 10.871 9.9474 10.6858 9.87348 10.4752L8.80161 7.40241L11.5367 5.51187C11.7268 5.37937 11.8588 5.24179 11.9327 5.09911C12.0102 4.95303 12.0208 4.80185 11.9644 4.64558C11.9116 4.4927 11.8113 4.3789 11.6635 4.30416C11.5156 4.22942 11.3238 4.19375 11.0879 4.19715L7.73502 4.21753L6.71594 1.12437C6.64554 0.910346 6.5505 0.74728 6.43081 0.635172C6.31113 0.519667 6.16681 0.461914 5.99784 0.461914C5.8324 0.461914 5.68983 0.519667 5.57015 0.635172C5.45046 0.74728 5.35542 0.910346 5.28502 1.12437L4.26595 4.21753L0.907761 4.19715C0.675433 4.19375 0.485347 4.22942 0.337503 4.30416C0.189658 4.3789 0.0893347 4.4927 0.036533 4.64558C-0.0197887 4.80185 -0.0109885 4.95303 0.0629339 5.09911C0.140376 5.24179 0.274141 5.37937 0.464227 5.51187L3.19935 7.40241L2.12748 10.4752C2.05356 10.6858 2.03068 10.871 2.05884 11.0306C2.087 11.1937 2.16796 11.3245 2.30172 11.423Z"}))}var d=e(44396),a=e(28967);function P({context:ne,onClick:G,utm_content:L}){const W=C[ne.type];return W?(0,o.h)(g.hs,{className:a.Z.contextRow},(0,o.h)(E.xv.Meta,{className:a.Z.contextText},(0,o.h)(W,{context:ne,onClick:G,utm_content:L}))):null}const C={post_like:D,post_comment:x,post_restack:A,comment:x,note_reply:x,note_recommend:B,comment_like:I,comment_restack:N,comment_top:F};function D({context:ne,onClick:G,utm_content:L}){return(0,o.h)(Y,{context:ne,type:"like",label:"Likes",verb:"liked",onClick:G,utm_content:L})}function A({context:ne,onClick:G,utm_content:L}){return(0,o.h)(Y,{context:ne,type:"restack",label:"Restacks",verb:"restacked",onClick:G,utm_content:L})}function x({context:ne,onClick:G,utm_content:L}){return(0,o.h)(Y,{context:ne,type:"comment",label:"Replies",verb:"replied",onClick:G,utm_content:L})}function I({context:ne,onClick:G,utm_content:L}){return(0,o.h)(Y,{context:ne,type:"like",label:"Likes",verb:"liked",onClick:G,utm_content:L})}function N({context:ne,onClick:G,utm_content:L}){return(0,o.h)(Y,{context:ne,type:"restack",label:"Restacks",verb:"restacked",onClick:G,utm_content:L})}function F({}){return(0,o.h)(Z,{type:"trending"},"Top comment")}function B({context:ne,onClick:G,utm_content:L}){return(0,o.h)(Y,{context:ne,type:"recommend",label:"Recommendations",verb:"recommends",onClick:G,utm_content:L})}const V={like:T,comment_like:T,comment:v,recommend:p,featured:y,trending:w,leaderboard:S,restack:O};function Z({type:ne,children:G}){const L=V[ne];return(0,o.h)(g.gq,{alignItems:"center",gap:8},(0,o.h)(L,{className:a.Z.contextIcon,size:14}),(0,o.h)("div",null,G))}function Y({context:ne,type:G,label:L,verb:W,fallbackUser:ie,utm_content:ue,onClick:le}){var J;const te="notes_context",se=(0,d.XA)(),[ee,ae]=(0,f.eJ)(!1),ce=(J=ne.users[0])!=null?J:ie;if(!ce)return null;let fe,Ee=ne.users.length-1;return!se&&ne.users.length===2&&(fe=ne.users[1],Ee=0),(0,o.h)(Z,{type:G},(0,o.h)(_.Zg,{user:ce,onClick:le,utm_source:te,utm_content:ue,color:"secondary",useYou:!0}),fe&&(0,o.h)(o.Fragment,null," and ",(0,o.h)(_.Zg,{user:ne.users[1],onClick:le,utm_source:te,utm_content:ue,color:"secondary",useYou:!0})),Ee>0&&(0,o.h)(o.Fragment,null," and ",(0,o.h)(_.hh,{onClick:()=>{le(),ae(!0)}},(0,u.pluralize)(Ee,"other"))),` ${W}`,(0,o.h)(c.FF,{isOpen:ee,modalLabel:L,faces:ne.users,totalCount:ne.users.length,onClose:()=>ae(!1),utmSource:null}))}},75309:(z,l,e)=>{"use strict";e.d(l,{Ev:()=>Ke});var o=e(6400),f=e(30396),u=e(27484),c=e.n(u),_=e(25380),g=e(67747),E=e(66440),v=e(23237),y=e(5149),T=e(80587),w=e(18794),S=e(13808),O=e(6385),p=e(20501),d=e(83322),a=e(56838),P=e(25877),C=e(58718),D=e(63270),A=e(67963),x=e(69371),I=e(62017),N=e(50670),F=e(8479),B=e(39419),V=e.n(B),Z=e(702),Y=e(11059),ne=e(84040),G=e(51126),L=e(76235),W=e(43887),ie=e(75425),ue=e(95297),le=e(41474),J=e(91870),te=e(73413),se=e(10174),ee=e(9869),ae=e(11132),ce=e(28967),fe=Object.defineProperty,Ee=Object.defineProperties,de=Object.getOwnPropertyDescriptors,_e=Object.getOwnPropertySymbols,ve=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable,Oe=(ge,Fe,Ne)=>Fe in ge?fe(ge,Fe,{enumerable:!0,configurable:!0,writable:!0,value:Ne}):ge[Fe]=Ne,ye=(ge,Fe)=>{for(var Ne in Fe||(Fe={}))ve.call(Fe,Ne)&&Oe(ge,Ne,Fe[Ne]);if(_e)for(var Ne of _e(Fe))De.call(Fe,Ne)&&Oe(ge,Ne,Fe[Ne]);return ge},ze=(ge,Fe)=>Ee(ge,de(Fe)),Be=(ge,Fe)=>{var Ne={};for(var lt in ge)ve.call(ge,lt)&&Fe.indexOf(lt)<0&&(Ne[lt]=ge[lt]);if(ge!=null&&_e)for(var lt of _e(ge))Fe.indexOf(lt)<0&&De.call(ge,lt)&&(Ne[lt]=ge[lt]);return Ne},We=(ge,Fe,Ne)=>new Promise((lt,Et)=>{var jt=Re=>{try{vt(Ne.next(Re))}catch(He){Et(He)}},en=Re=>{try{vt(Ne.throw(Re))}catch(He){Et(He)}},vt=Re=>Re.done?lt(Re.value):Promise.resolve(Re.value).then(jt,en);vt((Ne=Ne.apply(ge,Fe)).next())});function Ke({user:ge,post:Fe,comment:Ne,onClick:lt,utm_content:Et,publication:jt,item:en,parentCommentUserId:vt}){const Re=(0,ie.pm)(),He=(0,A.aF)(),ot=(0,J.I0)(),me=(Ne==null?void 0:Ne.date)||(Fe==null?void 0:Fe.post_date),{refetch:ke}=(0,F.ib)({pathname:`/api/v1/reader/reply/${Ne==null?void 0:Ne.id}/unhide`,method:"POST"}),{getConfigFor:je}=(0,D.xR)(),tt=!!je("hidden_replies_ui_enabled")&&(Ne==null?void 0:Ne.hide_reply),Ae=(He==null?void 0:He.id)&&(He==null?void 0:He.id)===vt;return(0,o.h)(N.KF,null,(0,o.h)(G.hs,{gap:8,alignItems:"center",flex:"grow"},(0,o.h)(W.Zx,{weight:"medium"},(0,o.h)(I.xG,{user:ge,onClick:lt,utm_source:"substack-feed-item",utm_content:Et,color:tt?"secondary":void 0},ge.name)),(0,o.h)(ue.s,{className:ce.Z.userBadge,tier:ge.bestseller_tier,userId:ge.id,tooltipOnHover:!0,size:"sm"}),me&&(0,o.h)(ct,{timestamp:me,comment:Ne})),(0,o.h)(G.hs,{style:{maxHeight:20},gap:12,alignItems:"center"},tt&&Ae&&(0,o.h)(ne.kG,{onClick:()=>We(this,null,function*(){var H;ot({type:"reply_unhidden",payload:{comment_id:(H=Ne==null?void 0:Ne.id)!=null?H:0}}),yield ke(),Re.popToast(Q=>(0,o.h)(ie.FN,ze(ye({},Q),{text:"Reply unhidden",Icon:_.Z})))}),className:ce.Z.unhideButton},(0,o.h)(G.gq,{alignItems:"center",gap:4},(0,o.h)(g.Z,{size:20}),"Unhide")),(0,o.h)(Se,{publication:jt!=null?jt:void 0,post:Fe!=null?Fe:void 0,comment:Ne,item:en})))}const Xe=new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeStyle:"short"});function ct({timestamp:ge,comment:Fe,post:Ne,publication:lt}){return(0,o.h)(I.hh,{href:Fe?(0,p.getFeedCommentUrl)(Fe,{noBase:te.L}):Ne?(0,p.getFeedShortPostUrl)(lt,Ne):void 0,title:Xe.format(c()(ge).toDate()),ellipsis:!1,color:"secondary"},(0,o.h)(N.Ku,{timestamp:ge}))}function Se({publication:ge,post:Fe,comment:Ne,item:lt,permalink:Et}){var jt,en,vt;const Re=(0,ie.pm)(),He=(0,x.rI)(),ot=(0,ae.F)(),me=(0,J.I0)(),ke=(0,J.kc)(),[je,Je]=(0,f.eJ)(!1),[tt,Ae]=(0,f.eJ)(!1),H=(0,A.aF)(),Q=(en=(jt=Ne==null?void 0:Ne.ancestor_path)==null?void 0:jt.split(".").filter(Boolean).map(Number).map(Mn=>ke.comments.get(Mn)))!=null?en:[],pe=Ne?(0,O.getCommentAuthor)(Ne):ge&&Fe?(0,O.getPostAuthor)(ge,Fe):{id:0,name:"void"},we=(0,P.CH)(pe,He),Le=(0,C.oh)(pe,He),Ye=(0,F.ib)({pathname:`/api/v1/comment/${(vt=Ne==null?void 0:Ne.id)!=null?vt:0}`,method:"DELETE",json:{publication_id:ge==null?void 0:ge.id}}),dt=()=>We(this,null,function*(){if(!Ne||(Ae(!1),Ye.isLoading))return;const Mn=yield Ye.refetch();if(Mn instanceof Error){alert((0,B.getNetworkErrorMessage)(Mn));return}Re.popToast(tr=>(0,o.h)(ie.FN,ze(ye({},tr),{text:"Note deleted",Icon:E.Z}))),me({type:"comment_delete",payload:{publication:ge,post:Fe,comment:Ne}})}),st=(0,se.i3)(),_t=()=>We(this,null,function*(){Ne&&st.open({editComment:Ne,tabId:ot})}),Tt=()=>{lt&&(0,le.rw)(lt,He,"menu",{tabId:ot})},nn=[!Ne&&Fe&&(0,o.h)(Qe,{post:Fe}),...Le,(0,d.canEditComment)(H,Ne)&&(0,o.h)(L.sN,{icon:(0,o.h)(v.Z,null),onClick:_t},"Edit"),...we,(0,d.canReportComment)(H,Ne)&&(0,o.h)(L.sN,{icon:(0,o.h)(y.Z,null),priority:"destructive",onClick:()=>Je(!0)},"Report"),(0,d.canDeleteComment)(H,Ne,{pub:ge,post:Fe,parentComments:Q})&&(0,o.h)(L.sN,{icon:(0,o.h)(E.Z,null),priority:"destructive",onClick:()=>Ae(!0)},"Delete")].filter(Boolean);return nn.length===0?null:(0,o.h)(o.Fragment,null,(0,o.h)(L.v2,{trigger:(0,o.h)(ee.K,{"aria-label":"share",permalink:Et,className:ce.Z.more},(0,o.h)(T.Z,{strokeWidth:2.5})),useMobileBottomSheet:!0,mobileBottomSheetTitle:"More",maxHeight:350,onOpen:Tt},nn),je&&(0,o.h)(Z.Z,{className:ce.Z.reportModal,pub:ge,comment:Ne,onClose:()=>Je(!1),onReportSuccess:()=>{}}),(0,o.h)(Y.a,{isOpen:tt,title:"Delete note?",body:"This will permanently remove this note from Substack. It cannot be undone.",customPrimaryButton:(0,o.h)(ne.zx,{priority:"destructive",onClick:dt},"Delete"),secondaryButton:(0,o.h)(ne.zx,{priority:"secondary",onClick:()=>Ae(!1)},"Cancel"),onClose:()=>Ae(!1)}))}function Qe(ge){var Fe=ge,{post:Ne}=Fe,lt=Be(Fe,["post"]);const Et=(0,J.I0)(),jt=(0,a.c1)(),en=()=>{const vt=Ne.id,Re=!Ne.is_saved;(0,a.TJ)(vt,Re,{surface:"reader"}),jt(Re),Et({type:"post_save",payload:{postId:vt,isSaved:Re}})};return(0,o.h)(L.sN,ye({icon:Ne.is_saved?(0,o.h)(w.Z,null):(0,o.h)(S.Z,null),onClick:en},lt),Ne.is_saved?"Unsave":"Save")}},8796:(z,l,e)=>{"use strict";e.d(l,{n:()=>v});var o=e(6400),f=e(30396),u=e(25877),c=e(62017),_=e(51126),g=e(43887),E=e(28967);function v({userId:y,comment:T,children:w}){const S=(0,u.KG)(y),O=(0,u.Yq)(),[p,d]=(0,f.eJ)(O);(0,f.d4)(()=>{S&&!O&&d(!1)},[S]);const a=T?T.type==="feed"&&!T.ancestor_path?"note":"reply":"post";return S&&!p?(0,o.h)(_.gq,{radius:12,border:"detail",bg:"secondary",justifyContent:"space-between",alignItems:"center",paddingX:16,paddingY:20,onClick:()=>d(!0),gap:12,className:E.Z.mutedItem},(0,o.h)(_.hs,{flex:"grow",minWidth:0},(0,o.h)(g.xv.B4,{color:"secondary"},"This ",a," is from someone",S==="muting"?" you hid":S==="blocking"?" you blocked":" who has you blocked",".")),S!=="blocked"&&(0,o.h)(g.xv.B4,{color:"secondary",weight:"semibold"},(0,o.h)(c.hh,{onClick:()=>d(!0)},"Show ",a))):(0,o.h)(o.Fragment,null,w)}},73115:(z,l,e)=>{"use strict";e.d(l,{sZ:()=>W,xW:()=>G});var o=e(6400),f=e(99869),u=e(71212),c=e(67358),_=e(84040),g=e(51126),E=e(62246),v=e(43887),y=e(20501),T=e(15045),w=e(70444),S=e(68227),O=e(17835),p=e(66839),d=e(3258),a=e(39419),P=e.n(a),C=e(13045),D=e(55886),A=e(7980),x=Object.defineProperty,I=Object.defineProperties,N=Object.getOwnPropertyDescriptors,F=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,Z=(te,se,ee)=>se in te?x(te,se,{enumerable:!0,configurable:!0,writable:!0,value:ee}):te[se]=ee,Y=(te,se)=>{for(var ee in se||(se={}))B.call(se,ee)&&Z(te,ee,se[ee]);if(F)for(var ee of F(se))V.call(se,ee)&&Z(te,ee,se[ee]);return te},ne=(te,se)=>I(te,N(se));function G({comment:te,isOpen:se,onClose:ee}){return(0,o.h)(E.u_,{isOpen:se,onClose:ee},(0,o.h)(L,{comment:te,onClose:ee}))}function L({comment:te,onClose:se}){const ee=(0,w.Sg)(te,{urlParams:{utm_source:"substack",utm_context:"note-share-modal"}});return(0,o.h)(g.tu,{gap:20,paddingBottom:16},(0,o.h)(E.xB,{includeClose:!0,onClose:se}),(0,o.h)(g.hs,{justifyContent:"center"},(0,o.h)(D.t,{src:(0,y.getNoteCommentPreviewUrl)(te.id),size:340})),(0,o.h)(v.xv.Meta,{align:"center"},"Share via"),(0,o.h)(W,{shareSource:"note-share-modal",shareUrl:ee,shareText:"",shareEventType:"note",comment:te,itemKey:te.item_entity_key}))}function W({shareUrl:te,shareText:se,shareEventType:ee,itemKey:ae,shareSource:ce,comment:fe,onShare:Ee}){const de=(0,C.pm)(),_e=(We,Ke)=>{(0,d.j)(d.FP.SHARE_LINK_CLICKED,{name:We,type:ee,item_entity_key:ae,source:ce});const Xe=Ke();Xe&&(Xe.startsWith("http")?window.open(Xe,"_blank"):document.location.href=Xe),Ee==null||Ee()},ve=()=>{_e("copy",()=>{(0,a.copyToClipboard)(te)}),de.popToast(We=>(0,o.h)(C.FN,ne(Y({},We),{text:"Link copied",Icon:f.Z})))},De=()=>{_e("twitter",()=>(0,T.pathWithQuery)("https://twitter.com/share",{url:te,text:se}))},Oe=()=>{_e("facebook",()=>(0,T.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:te}))},ye=()=>{_e("linkedin",()=>(0,T.pathWithQuery)("https://www.linkedin.com/sharing/share-offsite/",{url:te}))},ze=()=>{_e("email",()=>(0,T.pathWithQuery)("mailto:",{subject:se,body:te}))},Be=()=>{de.popToast(We=>(0,o.h)(C.FN,ne(Y({},We),{text:"Downloading image...",Icon:u.Z})))};return(0,o.h)(g.tu,{flex:"grow",justifyContent:"center"},(0,o.h)(g.hs,{gap:8},(0,o.h)(ie,null,(0,o.h)(le,{onClick:De},(0,o.h)(p.Z,{height:48})),(0,o.h)(ue,null,"Twitter")),(0,o.h)(ie,null,(0,o.h)(le,{onClick:Oe},(0,o.h)(S.Z,{height:48})),(0,o.h)(ue,null,"Facebook")),(0,o.h)(ie,null,(0,o.h)(le,{onClick:ye},(0,o.h)(O.Z,{height:48})),(0,o.h)(ue,null,"LinkedIn")),(0,o.h)(ie,null,(0,o.h)(J,{onClick:ve},(0,o.h)(f.Z,{size:20,style:{stroke:"var(--color-primary)"}})),(0,o.h)(ue,null,"Copy Link")),fe?(0,o.h)(ie,null,(0,o.h)(J,{onClick:Be,href:(0,y.getNoteCommentPreviewUrl)(fe.id),target:"_blank",download:!0},(0,o.h)(u.Z,{size:20,style:{stroke:"var(--color-primary)"}})),(0,o.h)(ue,null,"Save image")):(0,o.h)(ie,null,(0,o.h)(J,{onClick:ze},(0,o.h)(c.Z,{size:20,style:{stroke:"var(--color-primary)"}})),(0,o.h)(ue,null,"Email"))))}function ie(te){return(0,o.h)(g.tu,Y({gap:8,alignItems:"center",flex:"grow"},te))}function ue(te){return(0,o.h)(v.xv.Detail,Y({align:"center",color:"primary"},te))}function le(te){return(0,o.h)(_.kG,Y({resetCss:!0,className:A.Z.shareImageButton},te))}function J(te){return(0,o.h)(_.hU,Y({size:48,rounded:!0,fill:"borderless"},te))}},83097:(z,l,e)=>{"use strict";e.d(l,{q:()=>te});var o=e(6400),f=e(30396),u=e(8618),c=e(8479),_=e(85928),g=e.n(_),E=e(15045),v=e(70444),y=e(31517),T=e(26240),w=e(95847),S=e(79786),O=e(4190),p=e(63270),d=e(67963);function a(){return h("svg",{width:"160",height:"160",viewBox:"0 0 160 160",fill:"none",xmlns:"http://www.w3.org/2000/svg"},h("circle",{cx:"80",cy:"80",r:"79.5",stroke:"var(--color-detail)"}),h("circle",{cx:"132",cy:"132",r:"27.5",fill:"var(--color-bg-primary)",stroke:"var(--color-detail)"}),h("circle",{cx:"132",cy:"132",r:"13",fill:"var(--color-accent-twitter)"}),h("line",{x1:"132",y1:"126.5",x2:"132",y2:"137.5",stroke:"var(--color-bg-primary)","stroke-width":"2","stroke-linecap":"round"}),h("line",{x1:"126.5",y1:"132",x2:"137.5",y2:"132",stroke:"var(--color-bg-primary)","stroke-width":"2","stroke-linecap":"round"}),h("path",{d:"M118.647 60.5265C118.706 61.3775 118.706 62.2285 118.706 63.0873C118.706 89.2559 98.7843 119.436 62.3569 119.436V119.421C51.5961 119.436 41.0588 116.354 32 110.542C33.5647 110.73 35.1373 110.825 36.7137 110.828C45.6314 110.836 54.2941 107.844 61.3098 102.334C52.8353 102.174 45.4039 96.6481 42.8078 88.5814C45.7765 89.154 48.8353 89.0363 51.749 88.2402C42.5098 86.3736 35.8627 78.2559 35.8627 68.8285C35.8627 68.7422 35.8627 68.6599 35.8627 68.5775C38.6157 70.1108 41.698 70.9618 44.851 71.0559C36.149 65.2402 33.4667 53.6638 38.7216 44.6128C48.7765 56.9853 63.6118 64.5069 79.5373 65.303C77.9412 58.4246 80.1216 51.2167 85.2667 46.3814C93.2431 38.8834 105.788 39.2677 113.286 47.2402C117.722 46.3657 121.973 44.7383 125.863 42.4324C124.384 47.0167 121.29 50.9108 117.157 53.3853C121.082 52.9226 124.918 51.8716 128.529 50.2677C125.871 54.252 122.522 57.7226 118.647 60.5265Z",fill:"var(--color-accent-twitter)"}))}var P=e(55463),C=e(11533),D=e(84040),A=e(86605),x=e(51126),I=e(62246),N=e(43887),F=e(91870),B=e(10174),V=e(51731),Z=e(73115),Y=e(50670),ne=e(7980),G=(ae,ce,fe)=>new Promise((Ee,de)=>{var _e=Oe=>{try{De(fe.next(Oe))}catch(ye){de(ye)}},ve=Oe=>{try{De(fe.throw(Oe))}catch(ye){de(ye)}},De=Oe=>Oe.done?Ee(Oe.value):Promise.resolve(Oe.value).then(_e,ve);De((fe=fe.apply(ae,ce)).next())});function L(){const ae=useUserContext(),ce=new URL(document.location.toString());return useMemo(()=>ae.user&&!ae.userSettings.feed_web_nux_seen_at||ce.searchParams.get("action")==="nux",[])?h(W,null):null}function W(){const ae=useUserContext(),ce=useSiteConfigs(),[fe,Ee]=useState(!0),[de,_e]=useState(1),[ve,De]=useState(null);useEffect(()=>{ae.changeSetting("feed_web_nux_seen_at",new Date().toISOString())},[]);const Oe=()=>{Ee(!1)},ye=()=>{var ze,Be;let We=de+1;We===2&&(ze=ae.user)!=null&&ze.name&&(We+=1),We===3&&(!ce.getConfigFor("twitter_connect_flows_enabled")||(Be=ae.user)!=null&&Be.has_linked_twitter)&&(We+=1),_e(We)};return h(Modal,{isOpen:fe,onClose:Oe,width:440,overflow:"hidden"},de===1?h(ie,{onClose:Oe,onNext:ye}):de===2?h(ue,{onClose:Oe,onNext:ye}):de===3?h(le,{onClose:Oe,onNext:ye,onSkip:()=>_e(de+2)}):de===4?h(J,{onPublish:ze=>{De(ze),ye()},onClose:Oe}):de===5&&ve?h(te,{onClose:Oe,comment:ve}):null)}function ie({onClose:ae,onNext:ce}){return h(Fragment,null,h(FlexColumn,null,h(CloseButton,{onClick:ae,priority:"media",fill:"borderless",style:{position:"absolute",top:8,right:8}}),h(ResponsiveImg,{src:"/img/reader/nux-web@3x.png",maxWidth:880,imageProps:{height:304}})),h(FlexColumn,{gap:8,padding:16},h(Text.H2,{weight:"semibold",align:"center"},"Introducing: Notes"),h(Text.B3,{align:"center",color:"secondary"},"Notes is a new space to share what you're reading and keep up with your favorite writers on Substack."," ",h("a",{href:"https://on.substack.com/p/notes",target:"_blank",rel:"noopener"},"Learn more"))),h(ee,null,h(Button,{priority:"primary",onClick:ce},"Get started")))}function ue({onClose:ae,onNext:ce}){const fe=useUserContext();return h(Fragment,null,h(ModalHeader,{title:"First, set up your profile",description:"Introduce yourself by adding a name, bio, and photo to your profile.",includeClose:!0,onClose:ae}),h(ProfileUpdater,{className:css.setupProfileModalContent,pageTitle:"",user:fe.user,optionalPhoto:!0,noSubscribeCta:!0,complete:!0,onSuccess:Ee=>{fe.setUser(Ee.body),ce()}}))}function le({onClose:ae,onNext:ce,onSkip:fe}){return useEffect(()=>{const Ee=de=>{var _e;de.origin===document.location.origin&&((_e=de.data)==null?void 0:_e.type)==="twitter-success"&&ce()};return window.addEventListener("message",Ee),()=>{window.removeEventListener("message",Ee)}},[]),h(Fragment,null,h(ModalHeader,{includeClose:!0,onClose:ae}),h(FlexColumn,{padding:16},h(FlexColumn,{alignItems:"center",gap:8},h(Text.H2,{weight:"semibold"},"Connect Twitter"),h(Text.B3,{align:"center",color:"secondary"},"Instantly find people you know on Substack.")),h(FlexColumn,{alignItems:"center",paddingY:32},h(TwitterConnectIcon,null))),h(ee,null,h(Button,{priority:"twitter",href:getConnectTwitterUrl({type:"reader2",redirect:pathWithQuery(FEED_PATH,{action:"notify-opener"})}),newTab:!0},"Connect Twitter"),h(Button,{onClick:fe,priority:"secondary",fill:"empty"},"Skip")))}function J({onClose:ae,onPublish:ce}){const fe=useUser(),Ee=useComposerModal(),{create:de,isLoading:_e}=useCreateShortPost(),ve=useDispatch(),[De,Oe]=useRouter(),{exposeExperiment:ye,getExperimentVariant:ze}=useExperiments();if(useResource(()=>Promise.all([e.e(313),e.e(171),e.e(563),e.e(411)]).then(e.bind(e,84563)),[]),!fe)return null;ye("feed_nux_empty_message");const Be=ze("feed_nux_empty_message")==="treatment",We="Hello, Notes! What's going on?",Ke=()=>G(this,null,function*(){if(!_e){if(Be)ae(),Ee.open({initialText:""});else{const{textToJsonCore:ct}=yield Promise.all([e.e(313),e.e(171),e.e(563),e.e(411)]).then(e.bind(e,84563)),Se=yield de({bodyJson:ct(We)});if(Se instanceof Error)return;ce(Se),ve({type:"new_comment",payload:{comment:Se}})}document.location.pathname!==FEED_PATH&&Oe(FEED_PATH)}}),Xe=()=>{ae(),Ee.open({initialText:We})};return h(Fragment,null,h(ModalHeader,{includeClose:!0,onClose:ae}),h(FlexColumn,{alignItems:"center",gap:8,padding:16},h(Text.H2,{weight:"semibold"},"Time to say hello!"),h(Text.B3,{align:"center",color:"secondary"},"Send your first note to tell others you've arrived.")),h(FlexColumn,{paddingX:16,paddingTop:8,paddingBottom:16},h(FlexColumn,{border:"detail",shadow:"lg",padding:16,radius:12},h(FlexBox,{gap:12},h(FeedAvatarImage,{user:fe}),h(FlexColumn,{flex:"grow",minWidth:0},h(Text.B3,{weight:"semibold",ellipsis:!0},fe.name),h(Text.B4,{color:"secondary"},dayjs().fromNowShort()))),h(FlexColumn,{paddingY:16,borderBottom:"detail"},h(Text,{font:"text",size:18},We)),h(FlexBox,{style:{gap:34}},h(se,null,h(Heart,{stroke:"var(--color-secondary)",size:20}),h(Text.Button,{color:"secondary"},"Like")),h(se,null,h(NoteReplyIcon,{stroke:"var(--color-secondary)",width:20}),h(Text.Button,{color:"secondary"},"Reply")),h(se,null,h(NoteForwardIcon,{stroke:"var(--color-secondary)",width:20}),h(Text.Button,{color:"secondary"},"Restack"))))),h(FlexColumn,{padding:16,gap:8},h(Button,{priority:"primary",onClick:Ke,disabled:_e},Be?"Say hello":"Send now"),!Be&&h(Button,{onClick:Xe,priority:"secondary",fill:"empty",disabled:_e},"Edit note")))}function te({onClose:ae,comment:ce}){const fe=(0,v.Sg)(ce,{urlParams:{utm_source:"substack",utm_context:"first-note-modal"}}),Ee=`I just started using Notes on Substack
`,de=(0,d.aF)();return de?(0,o.h)(o.Fragment,null,(0,o.h)(I.xB,{includeClose:!0,onClose:ae}),(0,o.h)(x.tu,{padding:16},(0,o.h)(x.tu,{alignItems:"center",gap:4,padding:16},(0,o.h)(N.xv.H2,{weight:"semibold"},"Share your first note"),(0,o.h)(N.xv.B3,{align:"center",color:"secondary"},"Invite your friends and followers to join you on Notes")),(0,o.h)(x.tu,{gap:24,paddingTop:8,paddingBottom:32,paddingX:16},(0,o.h)(x.tu,{paddingTop:8,paddingBottom:16},(0,o.h)(x.tu,{border:"detail",shadow:"lg",padding:16,radius:12},(0,o.h)(x.hs,{gap:12},(0,o.h)(Y.Zb,{user:de}),(0,o.h)(x.tu,{flex:"grow",minWidth:0},de&&(0,o.h)(N.xv.B3,{weight:"semibold",ellipsis:!0},de.name),(0,o.h)(N.xv.B4,{color:"secondary"},g()().fromNowShort()))),(0,o.h)(x.tu,{paddingY:16,borderBottom:"detail"},(0,o.h)(N.xv,{font:"text",size:18},(0,o.h)(V.bN,{comment:ce,publication:null}))),(0,o.h)(x.hs,{style:{gap:34}},(0,o.h)(se,null,(0,o.h)(u.Z,{stroke:"var(--color-secondary)",size:20}),(0,o.h)(N.xv.Button,{color:"secondary"},"Like")),(0,o.h)(se,null,(0,o.h)(T.Z,{stroke:"var(--color-secondary)",width:20}),(0,o.h)(N.xv.Button,{color:"secondary"},"Reply")),(0,o.h)(se,null,(0,o.h)(y.Z,{stroke:"var(--color-secondary)",width:20}),(0,o.h)(N.xv.Button,{color:"secondary"},"Restack"))))),(0,o.h)(N.xv.Meta,{align:"center"},"Share via"),(0,o.h)(Z.sZ,{shareSource:"first-note-modal",shareUrl:fe,shareText:Ee,shareEventType:"note",itemKey:ce.item_entity_key})))):null}function se({children:ae}){return(0,o.h)(x.hs,{alignItems:"center",gap:8,paddingTop:16},ae)}function ee({children:ae}){return h(FlexColumn,{padding:16,borderTop:"detail",gap:8},ae)}},2387:(z,l,e)=>{"use strict";e.d(l,{n:()=>E});var o=e(6400),f=e(20447),u=e(50670),c=e(51126),_=e(33510),g=e(44396);function E(){return(0,o.h)(c.tu,null,Array(8).fill(0).map(()=>(0,o.h)(v,null)))}function v(){const y=(0,g.XA)();return(0,o.h)(f.O3,null,(0,o.h)(u.oM,null,(0,o.h)(c.hs,{gap:12},(0,o.h)(_.Vm,{type:"circle",size:y?36:40}),(0,o.h)(c.tu,{gap:12,flex:"grow"},(0,o.h)(_.Vm,{height:20,width:100}),Array(3).fill(0).map(()=>(0,o.h)(_.Vm,{height:20,width:`${30+Math.random()*70}%`}))))))}},66337:(z,l,e)=>{"use strict";e.d(l,{I:()=>a});var o=e(6400),f=e(94184),u=e.n(f),c=e(15045),_=e(20501),g=e(79786),E=e(63270),v=e(16527),y=e(51126),T=e(43887),w=e(73413),S=e(33510),O=e(68262),p=e(44396),d=e(28967);function a({post:P,publication:C,readOnly:D,onClick:A}){const x=(0,p.XA)(),I=(0,E.xR)().getConfigFor("enable_unified_home"),N=P.cover_image;return(0,o.h)(y.tu,{as:D?"div":"a",className:d.Z.post,bg:"elevated",border:"detail",radius:12,onClick:F=>{A&&A(),!D&&w.L&&(!x||I)&&(0,v.Q)(F,(0,_.getPostUrl)(C,P,{noBase:!0,feedViewer:!0}))},href:D?void 0:(0,_.getPostUrl)(C,P,{feedViewer:!1}),minWidth:0},N&&(0,o.h)(g.e,{className:u()(d.Z.postImage,x&&d.Z.mobile),imageProps:{smartCrop:!0,aspect:x?"3:2":"2:1"},src:N,maxWidth:1e3}),(0,o.h)(y.tu,{gap:4,padding:12,borderTop:N?"detail":"transparent"},(0,o.h)(y.hs,{gap:8,paddingBottom:4,alignItems:"center",minWidth:0},(0,o.h)(O.F,{pub:C,size:20}),(0,o.h)(T.xv.Meta,{ellipsis:!0},D?C.name:(0,o.h)(S.zr,{href:(0,c.getPubUrl)(C)},C.name))),(0,o.h)(T.xv.B3,{clamp:x?1:2,color:"primary",weight:"medium"},P.title),(0,o.h)(T.xv.B4,{clamp:2,color:"secondary"},P.description)))}},11132:(z,l,e)=>{"use strict";e.d(l,{F:()=>c,q:()=>u});var o=e(98661),f=e(30396);const u=(0,o.createContext)(void 0);function c(){return(0,f.qp)(u)}},62017:(z,l,e)=>{"use strict";e.d(l,{xG:()=>I,Zg:()=>x,hh:()=>N});var o=e(6400),f=e(94184),u=e.n(f),c=e(2731),_=e(80332),g=e(67963),E=e(43887),v=e(73413),y=e(18130);const T={link:"frontend-feed-TextLink-module__link--VuuIc"};var w=Object.defineProperty,S=Object.defineProperties,O=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,P=(F,B,V)=>B in F?w(F,B,{enumerable:!0,configurable:!0,writable:!0,value:V}):F[B]=V,C=(F,B)=>{for(var V in B||(B={}))d.call(B,V)&&P(F,V,B[V]);if(p)for(var V of p(B))a.call(B,V)&&P(F,V,B[V]);return F},D=(F,B)=>S(F,O(B)),A=(F,B)=>{var V={};for(var Z in F)d.call(F,Z)&&B.indexOf(Z)<0&&(V[Z]=F[Z]);if(F!=null&&p)for(var Z of p(F))B.indexOf(Z)<0&&a.call(F,Z)&&(V[Z]=F[Z]);return V};function x(F){var B=F,{user:V,utm_source:Z,utm_content:Y,ellipsis:ne,useYou:G,onClick:L}=B,W=A(B,["user","utm_source","utm_content","ellipsis","useYou","onClick"]);const ie=(0,g.aF)(),ue=(V==null?void 0:V.id)||(V==null?void 0:V.user_id)||0,le=G&&(ie==null?void 0:ie.id)===ue?"You":V.name;return(0,o.h)(I,C({user:V,utm_source:Z,utm_content:Y,ellipsis:ne,onClick:L},W),le)}function I(F){var B=F,{user:V,utm_source:Z,utm_content:Y,children:ne,onClick:G}=B,L=A(B,["user","utm_source","utm_content","children","onClick"]);const W=D(C({},V),{id:V.author_id||V.user_id||V.id,name:V.user_profile_name||V.author_name||V.name,handle:(V==null?void 0:V.handle)||(V==null?void 0:V.author_handle)});return(0,o.h)(_.Ct,{subject:W,dontStopPropagation:!0,utmSource:"feed",inline:!0},(0,o.h)(N,C({href:(0,c.getReaderProfileUrl)(V,{noBase:v.L,utm_content:Y,utm_source:Z}),onClick:G},L),ne))}function N(F){var B=F,{weight:V,color:Z,decoration:Y="hover-underline",ellipsis:ne,className:G}=B,L=A(B,["weight","color","decoration","ellipsis","className"]);return(0,o.h)(E.Zx,{ellipsis:ne,weight:V,color:Z,decoration:Y},(0,o.h)(y.r,D(C({},L),{className:u()(G,T.link)})))}},59386:(z,l,e)=>{"use strict";e.d(l,{m:()=>S});var o=e(6400),f=Object.defineProperty,u=Object.defineProperties,c=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,v=(O,p,d)=>p in O?f(O,p,{enumerable:!0,configurable:!0,writable:!0,value:d}):O[p]=d,y=(O,p)=>{for(var d in p||(p={}))g.call(p,d)&&v(O,d,p[d]);if(_)for(var d of _(p))E.call(p,d)&&v(O,d,p[d]);return O},T=(O,p)=>u(O,c(p)),w=(O,p)=>{var d={};for(var a in O)g.call(O,a)&&p.indexOf(a)<0&&(d[a]=O[a]);if(O!=null&&_)for(var a of _(O))p.indexOf(a)<0&&E.call(O,a)&&(d[a]=O[a]);return d};function S(O){var p=O,{size:d=20,stroke:a="var(--color-light-secondary)"}=p,P=w(p,["size","stroke"]);return(0,o.h)("svg",T(y({},P),{width:d,height:d,viewBox:"0 0 24 24",fill:"none",stroke:a,xmlns:"http://www.w3.org/2000/svg"}),(0,o.h)("path",{id:"Vector",d:"M3 22C3 17.7044 6.69722 14.2222 11.258 14.2222C11.5081 14.2222 11.7556 14.2326 12 14.2531M21.0039 16.3098L18.6469 18.6668M18.6469 18.6668L16.2899 21.0239M18.6469 18.6668L21.0178 21.0377M18.6469 18.6668L16.276 16.2959M16.4118 6.44444C16.4118 8.89904 14.4102 10.8889 11.9412 10.8889C9.47214 10.8889 7.47059 8.89904 7.47059 6.44444C7.47059 3.98985 9.47214 2 11.9412 2C14.4102 2 16.4118 3.98985 16.4118 6.44444Z","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}))}},50670:(z,l,e)=>{"use strict";e.d(l,{Fb:()=>ne,KF:()=>V,Ku:()=>B,Zb:()=>Z,oM:()=>I,sP:()=>Y});var o=e(6400),f=e(94184),u=e.n(f),c=e(85928),_=e.n(c),g=e(20501),E=e(80332),v=e(51126),y=e(43887),T=e(10186),w=e(73413),S=e(18130),O=e(44396),p=e(28967),d=Object.defineProperty,a=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,D=(G,L,W)=>L in G?d(G,L,{enumerable:!0,configurable:!0,writable:!0,value:W}):G[L]=W,A=(G,L)=>{for(var W in L||(L={}))P.call(L,W)&&D(G,W,L[W]);if(a)for(var W of a(L))C.call(L,W)&&D(G,W,L[W]);return G},x=(G,L)=>{var W={};for(var ie in G)P.call(G,ie)&&L.indexOf(ie)<0&&(W[ie]=G[ie]);if(G!=null&&a)for(var ie of a(G))L.indexOf(ie)<0&&C.call(G,ie)&&(W[ie]=G[ie]);return W};function I(G){var L=G,{showGutter:W=!1,hasAvatar:ie=!0,hasContext:ue=!1,onClick:le}=L,J=x(L,["showGutter","hasAvatar","hasContext","onClick"]);const te=le?se=>{const{target:ee}=se;ee instanceof Element&&ee.closest("button, a")||se.defaultPrevented||le(se)}:void 0;return(0,o.h)(v.tu,A({className:u()(p.Z.feedUnit,W?p.Z.showThreadGutter:void 0,ue?p.Z.hasContext:void 0,le&&p.Z.hasAction,ie?p.Z.hasAvatar:void 0),gap:4,onClick:te},J))}const N=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}),F=new Intl.DateTimeFormat(void 0,{dateStyle:"long"});function B({timestamp:G}){const L=_()(),W=_()(G),ie=L.diff(W,"day"),ue=L.diff(W,"year");let le;return ue>=1?le=F.format(W.toDate()):ie>7?le=N.format(W.toDate()):le=W.fromNowShort(),(0,o.h)(y.Zx,{color:"secondary"},G&&le)}function V({children:G}){return(0,o.h)(y.xv.B3,null,(0,o.h)(v.hs,{flex:"grow",minWidth:0},(0,o.h)(v.hs,{gap:8,alignItems:"center",flex:"grow"},G)))}function Z({user:G,className:L}){const W=(0,O.XA)();return(0,o.h)(T.qE,{size:W?36:40,user:G,className:L})}function Y({large:G,children:L}){return G?(0,o.h)(y.xv.B2,{className:p.Z.feedCommentBodyInner,color:"primary"},L):(0,o.h)(y.xv.B3,{className:p.Z.feedCommentBodyInner,color:"primary"},L)}function ne({user:G,onClick:L,utm_content:W,desaturate:ie}){const ue=(0,S.c)({href:(0,g.getReaderProfileUrl)(G,{noBase:w.L}),onClick:L,campaign:{content:W}});return(0,o.h)(v.hs,A({as:"a",flex:"auto",alignSelf:"start"},ue),(0,o.h)(E.Ct,{subject:G,dontStopPropagation:!0,utmSource:"feed"},(0,o.h)(Z,{user:G,className:ie?p.Z.desaturate:void 0})))}},69371:(z,l,e)=>{"use strict";e.d(l,{$U:()=>y,rI:()=>S});var o=e(6400),f=e(98661),u=e(30396),c=e(81470),_=e(9686),g=e(91870),E=e(50292),v=e(10174);function y({state:O,dispatch:p,surface:d,children:a}){const{onboardingModalRef:P}=(0,E.SJ)(),C=(0,u.Ye)(()=>({dispatch:p}),[]);return(0,o.h)(T.Provider,{value:d},(0,o.h)(g.RR.Provider,{value:C},(0,o.h)(g.ev.Provider,{value:O},(0,o.h)(v.Au,null,a,O.isSigningIn&&(0,o.h)(_.I,{onCancel:()=>p({type:"sign_in",payload:{isSigningIn:!1}}),onSuccess:()=>{p({type:"sign_in",payload:{isSigningIn:!1}}),document.location.reload()},onSignup:()=>{var D;p({type:"sign_in",payload:{isSigningIn:!1}}),(D=P.current)==null||D.open()},noExit:O.signInNoExit})))))}const T=(0,f.createContext)(c.Uo.Feed);function w({surface:O,children:p}){return h(T.Provider,{value:O},p)}function S(){return(0,u.qp)(T)}},55463:(z,l,e)=>{"use strict";e.d(l,{a:()=>u});var o=e(8479),f=(c,_,g)=>new Promise((E,v)=>{var y=S=>{try{w(g.next(S))}catch(O){v(O)}},T=S=>{try{w(g.throw(S))}catch(O){v(O)}},w=S=>S.done?E(S.value):Promise.resolve(S.value).then(y,T);w((g=g.apply(c,_)).next())});function u({editComment:c}={}){const _=(0,o.ib)({pathname:c?`/api/v1/feed/comment/${c.id}`:"/api/v1/comment/feed"});return{create:g=>f(this,[g],function*({bodyJson:E,parentPostId:v,parentPubId:y,parent_id:T,attachmentIds:w,tabId:S,replyMinimumRole:O}){return yield _.refetch({pathname:c?`/api/v1/feed/comment/${c.id}`:v?`/api/v1/post/${v}/comment`:"/api/v1/comment/feed",method:c?"PATCH":"POST",json:{bodyJson:E,parent_id:T,publication_id:y,attachmentIds:w,tabId:S,replyMinimumRole:O}})}),error:_.error,isLoading:_.isLoading}}},15748:(z,l,e)=>{"use strict";e.d(l,{g:()=>d});var o=e(6400),f=e(99869),u=e(75425),c=e(39419),_=e.n(c),g=Object.defineProperty,E=Object.defineProperties,v=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,S=(a,P,C)=>P in a?g(a,P,{enumerable:!0,configurable:!0,writable:!0,value:C}):a[P]=C,O=(a,P)=>{for(var C in P||(P={}))T.call(P,C)&&S(a,C,P[C]);if(y)for(var C of y(P))w.call(P,C)&&S(a,C,P[C]);return a},p=(a,P)=>E(a,v(P));function d(){const a=(0,u.pm)();return P=>{(0,c.copyToClipboard)(P),a.popToast(C=>(0,o.h)(u.FN,p(O({},C),{text:"Link copied",Icon:f.Z})))}}},39776:(z,l,e)=>{"use strict";e.r(l),e.d(l,{SiteConfigGate:()=>_,default:()=>c,getConfigFor:()=>u});var o=e(6400),f=e(63270);function u(g){var E;if(!g||typeof window=="undefined"||!((E=window._preloads)!=null&&E.siteConfigs))return null;const v=window._preloads.siteConfigs[g];return v===void 0?null:v}const c=u;function _({configKey:g,children:E,value:v=!0}){return(0,f.xR)().getConfigFor(g)==v?(0,o.h)(o.Fragment,null,E):null}},35225:(z,l,e)=>{"use strict";e.d(l,{S:()=>A});var o=e(6400),f=e(8618),u=e(85928),c=e.n(u),_=e(61782),g=e(15045),E=e(13833),v=e(75425),y=e(3258),T=e(58884),w=Object.defineProperty,S=Object.defineProperties,O=Object.getOwnPropertyDescriptors,p=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,P=(x,I,N)=>I in x?w(x,I,{enumerable:!0,configurable:!0,writable:!0,value:N}):x[I]=N,C=(x,I)=>{for(var N in I||(I={}))d.call(I,N)&&P(x,N,I[N]);if(p)for(var N of p(I))a.call(I,N)&&P(x,N,I[N]);return x},D=(x,I)=>S(x,O(I));function A({user:x,noBase:I}){const N=(0,v.pm)(),F=()=>fetch("/api/v1/user/like_nux/seen",{method:"POST"});return()=>{const B="has_seen_like_nux",V=(0,T.mM)(B),Z=_.L;return V&&x&&!x.has_seen_like_nux?(F(),!1):!x||!x.profile_set_up_at||x.subscription_visibility==="private"||!x.activity_likes_enabled||V||x.has_seen_like_nux||c()((x==null?void 0:x.profile_set_up_at)||0).unix()>Z?!1:((0,y.j)(y.FP.LIKE_NUX_SHOWN),(0,T.ex)(B,!0),F(),N.popToast(Y=>(0,o.h)(v.Us,D(C({},Y),{title:"New: see who's liked a post",body:"Now you can see who's liked a post and visit their profiles. Your own profile won't show up on posts you liked before this change.",buttons:(0,o.h)(o.Fragment,null,(0,o.h)(v.lL,{href:(0,g.getReaderProfileUrl)(x,{utm_source:"like_toast",noBase:I})},(0,o.h)(E.Av,null,"OK")),(0,o.h)(v.lL,{href:(0,g.getEditProfileUrl)({params:{utm_source:"like_toast"}})},(0,o.h)(E.Av,{color:"secondary"},"Settings"))),Icon:f.Z}))),!0)}}},49619:(z,l,e)=>{"use strict";e.d(l,{t:()=>c});var o=e(6400),f=e(83322);const u=_=>_.podcast_url&&_.podcast_duration>0?"podcast":_.videoUpload&&_.videoUpload.duration&&_.videoUpload.duration>0?"video":_.type==="thread"?"thread":"newsletter",c=function(_,{totalAmount:g,discount:E,quantity:v=1,trial_end_override:y,noTrial:T=!1,recurring:w=!0,isGroupSubscription:S=!1,isUnlimitedGroupSubscription:O=!1,language:p="en"}={}){const{iString:d,iPlural:a}=I18N.i(p),P=g===void 0?(_.amount||0)*(v||1):g,C=(0,f.centsToPriceString)(P,_.currency);let D;if(E&&!E.loading&&!E.error&&(E.percent_off||E.amount_off)){let B;E.percent_off?B=Math.round(P*(1-(E.percent_off_precise||E.percent_off)/100)):E.amount_off&&(B=Math.max(0,P-E.amount_off)),D=(0,f.centsToPriceString)(B,_.currency)}const A=D||C;let x;_.is_bitcoin?(_.interval==="month"&&(x=a("%2/1 month","%2/%1 months",_.interval_count,A)),_.interval==="week"&&(x=a("%2/1 week","%2/%1 weeks",_.interval_count,A)),_.interval==="day"&&(x=a("%2/1 day","%2/%1 days",_.interval_count,A)),_.interval==="year"&&(x=a("%2/1 year","%2/%1 years",_.interval_count,A))):_&&w&&!S&&!O?(_.interval==="month"&&(x=a("%2 per month","%2 per %1 months",_.interval_count,A)),_.interval==="week"&&(x=a("%2 per week","%2 per %1 weeks",_.interval_count,A)),_.interval==="day"&&(x=a("%2 per day","%2 per %1 days",_.interval_count,A)),_.interval==="year"&&(x=a("%2 per year","%2 per %1 years",_.interval_count,A))):_&&!w&&!S&&!O?(_.interval==="month"&&(x=a("%2 for one month","%2 for %1 months",_.interval_count,A)),_.interval==="week"&&(x=a("%2 for one week","%2 for %1 weeks",_.interval_count,A)),_.interval==="day"&&(x=a("%2 for one day","%2 for %1 days",_.interval_count,A)),_.interval==="year"&&(x=a("%2 for one year","%2 for %1 years",_.interval_count,A))):_&&w&&S&&!O?(_.interval==="month"&&(x=a("%2 for one month per person","%2 for %1 months per person",_.interval_count,A)),_.interval==="week"&&(x=a("%2 for one week per person","%2 for %1 weeks per person",_.interval_count,A)),_.interval==="day"&&(x=a("%2 for one day per person","%2 for %1 days per person",_.interval_count,A)),_.interval==="year"&&(x=a("%2 for one year per person","%2 for %1 years per person",_.interval_count,A))):_&&w&&S&&O&&(_.interval==="month"&&(x=a("%2 for one month for unlimited seats","%2 for %1 months for unlimited seats",_.interval_count,A)),_.interval==="week"&&(x=a("%2 for one week for unlimited seats","%2 for %1 weeks for unlimited seats",_.interval_count,A)),_.interval==="day"&&(x=a("%2 for one day for unlimited seats","%2 for %1 days for unlimited seats",_.interval_count,A)),_.interval==="year"&&(x=a("%2 for one year for unlimited seats","%2 for %1 years for unlimited seats",_.interval_count,A)));let I;const N=Math.max(0,_.trial_period_days||0,E&&E.trial_period_days||0,y?Math.ceil((y-Date.now()/1e3)/60/60/24):0);!T&&N>0&&(I=a("%1 day free trial","%1 day free trial",N));let F;if(E&&D&&w){const B=E.duration==="once"?1:E.duration_in_months/(_.interval==="year"?12:1)*_.interval_count;_.interval==="month"&&(F=a("for first month","for first %1 months",B)),_.interval==="week"&&(F=a("for first week","for first %1 weeks",B)),_.interval==="day"&&(F=a("for first day","for first %1 days",B)),_.interval==="year"&&(F=a("for first year","for first %1 years",B))}return E&&E.loading?(0,o.h)(o.Fragment,null,x," ",(0,o.h)("span",{className:"discount-price"}," (",d("coupon loading"),")")):E&&E.error?(0,o.h)(o.Fragment,null,x," ",(0,o.h)("span",{className:"discount-price error"}," (",d("coupon invalid or expired"),")")):D?(0,o.h)(o.Fragment,null,(0,o.h)("span",{className:"crossed-out"},C)," ",(0,o.h)("span",{className:"discount-price"},x," ",F?`(${F}) `:"",I)):(0,o.h)(o.Fragment,null,x," ",I)}},11059:(z,l,e)=>{"use strict";e.d(l,{a:()=>v});var o=e(6400),f=e(30396),u=e(84606),c=e(84040),_=e(34394),g=e(62246),E=e(43887);const v=({isOpen:y=!1,title:T,body:w,onClose:S,customPrimaryButton:O,secondaryButton:p,confirmationString:d})=>{const a=(0,f.sO)(null),[P,C]=(0,f.eJ)(!!d);return(0,f.d4)(()=>{y&&d&&C(!0)},[y,d]),(0,o.h)(g.u_,{isOpen:y,onClose:S,initialFocus:a},T&&(0,o.h)(g.xB,{title:T,includeClose:!1}),(0,o.h)(g.fe,null,(0,o.h)(E.xv.B3,null,w),d&&(0,o.h)(u.xu,{paddingTop:16},(0,o.h)(_.o,{onChange:D=>{C(!0),d.toLowerCase()===D.target.value.toLowerCase()&&C(!1)}}))),(0,o.h)(g.mz,{primaryButton:O?(0,o.cloneElement)(O,{ref:a,disabled:P}):(0,o.h)(c.zx,{ref:a,onClick:S,priority:"primary",disabled:P},"OK"),secondaryButton:p}))}},83787:(z,l,e)=>{"use strict";e.d(l,{H:()=>c});var o=e(6400),f=e(30396);const u=150,c=({children:_,expanded:g,renderWhenCollapsed:E,onEnter:v,flex:y})=>{const T=(0,f.sO)(null),[w,S]=(0,f.eJ)(g?"expanded":"collapsed"),[O,p]=(0,f.eJ)(null);return(0,f.d4)(()=>{g&&w==="collapsed"&&S("startExpanding"),w==="startExpanding"&&T.current&&(p(T.current.offsetHeight),S("expanding"),setTimeout(()=>{S("expanded"),v&&v()},u)),!g&&w==="expanded"&&T.current&&(p(T.current.offsetHeight),S("startCollapsing")),w==="startCollapsing"&&(S("collapsing"),setTimeout(()=>{S("collapsed")},u))},[g,w]),(0,o.h)("div",{style:{height:w==="collapsed"||w==="startExpanding"||w==="collapsing"?0:w==="expanding"||w==="startCollapsing"?O:null,transition:`height ${u}ms ease-in-out`,overflow:w==="expanded"?"visible":"hidden",display:y?"flex":"block",flexDirection:"column"}},(0,o.h)("div",{ref:T,style:{paddingTop:.05,paddingBottom:.05,display:y?"flex":"block",flex:"0 0 auto",flexDirection:"column"}},(w!=="collapsed"||E)&&_))}},84606:(z,l,e)=>{"use strict";e.d(l,{E7:()=>I,xu:()=>A,yK:()=>x});var o=e(6400),f=e(98661),u=e(94184),c=e.n(u),_=e(14293),g=e.n(_),E=e(19206),v=e(28614),y=Object.defineProperty,T=Object.defineProperties,w=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(N,F,B)=>F in N?y(N,F,{enumerable:!0,configurable:!0,writable:!0,value:B}):N[F]=B,a=(N,F)=>{for(var B in F||(F={}))O.call(F,B)&&d(N,B,F[B]);if(S)for(var B of S(F))p.call(F,B)&&d(N,B,F[B]);return N},P=(N,F)=>T(N,w(F)),C=(N,F)=>{var B={};for(var V in N)O.call(N,V)&&F.indexOf(V)<0&&(B[V]=N[V]);if(N!=null&&S)for(var V of S(N))F.indexOf(V)<0&&p.call(N,V)&&(B[V]=N[V]);return B};function D(N){var F,B;return g()(N)?[null,null]:typeof N=="object"?[(F=N.desktop)!=null?F:null,(B=N.mobile)!=null?B:null]:[N,null]}const A=(0,f.forwardRef)(function(F,B){var V=F,{display:Z,as:Y,className:ne,direction:G,flex:L,inline:W,wrap:ie,gap:ue,padding:le,paddingX:J,paddingY:te,paddingTop:se,paddingBottom:ee,paddingLeft:ae,paddingRight:ce,justifyContent:fe,alignItems:Ee,alignSelf:de,minWidth:_e,minHeight:ve,style:De,border:Oe,borderTop:ye,borderBottom:ze,borderLeft:Be,borderRight:We,borderY:Ke,radius:Xe,shadow:ct,bg:Se,overflowY:Qe,overflowX:ge,scrollBar:Fe,sizing:Ne,ellipsis:lt,pullX:Et,textAlign:jt,fontSize:en,fontWeight:vt,color:Re,decoration:He,font:ot,fontStyle:me,isParagraph:ke,lineHeight:je,textTransform:Je,nowrap:tt,clamp:Ae,position:H}=V,Q=C(V,["display","as","className","direction","flex","inline","wrap","gap","padding","paddingX","paddingY","paddingTop","paddingBottom","paddingLeft","paddingRight","justifyContent","alignItems","alignSelf","minWidth","minHeight","style","border","borderTop","borderBottom","borderLeft","borderRight","borderY","radius","shadow","bg","overflowY","overflowX","scrollBar","sizing","ellipsis","pullX","textAlign","fontSize","fontWeight","color","decoration","font","fontStyle","isParagraph","lineHeight","textTransform","nowrap","clamp","position"]);const pe=Y!=null?Y:"div";return(0,o.h)(pe,a({ref:B,className:c()(x({display:Z,direction:G,flex:L,inline:W,wrap:ie,gap:ue,padding:le,paddingX:J,paddingY:te,paddingTop:se,paddingBottom:ee,paddingLeft:ae,paddingRight:ce,justifyContent:fe,alignItems:Ee,alignSelf:de,minWidth:_e,minHeight:ve,border:Oe,borderTop:ye,borderBottom:ze,borderLeft:Be,borderRight:We,borderY:Ke,radius:Xe,shadow:ct,bg:Se,overflowY:Qe,overflowX:ge,scrollBar:Fe,sizing:Ne,ellipsis:lt,pullX:Et,textAlign:jt,fontSize:en,fontWeight:vt,color:Re,decoration:He,font:ot,fontStyle:me,isParagraph:ke,lineHeight:je,textTransform:Je,nowrap:tt,clamp:Ae,position:H}),ne),style:De},Q))});function x({display:N,direction:F,flex:B,inline:V,wrap:Z,gap:Y,padding:ne,paddingX:G,paddingY:L,paddingTop:W,paddingBottom:ie,paddingLeft:ue,paddingRight:le,justifyContent:J,alignItems:te,alignSelf:se,minWidth:ee,minHeight:ae,border:ce,borderTop:fe,borderBottom:Ee,borderLeft:de,borderRight:_e,borderY:ve,radius:De,shadow:Oe,bg:ye,overflowY:ze,overflowX:Be,scrollBar:We,sizing:Ke,ellipsis:Xe,pullX:ct,textAlign:Se,fontSize:Qe,fontWeight:ge,color:Fe,decoration:Ne,font:lt,fontStyle:Et,isParagraph:jt,lineHeight:en,textTransform:vt,nowrap:Re,clamp:He,position:ot}){const[me,ke]=D(Y),[je,Je]=D(ne),[tt,Ae]=D(G),[H,Q]=D(L),[pe,we]=D(W),[Le,Ye]=D(ie),[dt,st]=D(ue),[_t,Tt]=D(le),[nn,Mn]=D(F),[tr,sr]=D(Z),[Rt,Mt]=D(J),[$t,vn]=D(te),[An,dr]=D(N);return c()("pencraft",{[E.Z.flexGrow]:B==="grow",[E.Z.flexFill]:B==="fill",[E.Z.flexAuto]:B==="auto"},E.Z.reset,N!=null&&E.Z[`display-${An}`],V&&E.Z["display-inline-flex"],nn!=null&&E.Z[`flex-direction-${nn}`],tr!=null&&E.Z[`flex-wrap-${tr}`],Rt!=null&&E.Z[`flex-justify-${Rt}`],$t!=null&&E.Z[`flex-align-${$t}`],se!=null&&E.Z[`flex-align-self-${se}`],me!=null&&E.Z[`flex-gap-${me}`],je!=null&&E.Z[`padding-${je}`],tt!=null&&E.Z[`padding-x-${tt}`],H!=null&&E.Z[`padding-y-${H}`],pe!=null&&E.Z[`padding-top-${pe}`],Le!=null&&E.Z[`padding-bottom-${Le}`],dt!=null&&E.Z[`padding-left-${dt}`],_t!=null&&E.Z[`padding-right-${_t}`],Mn!=null&&E.Z[`flex-direction-mobile-${Mn}`],sr!=null&&E.Z[`flex-wrap-mobile-${sr}`],Mt!=null&&E.Z[`flex-justify-mobile-${Mt}`],ke!=null&&E.Z[`flex-gap-mobile-${ke}`],vn!=null&&E.Z[`flex-align-mobile-${vn}`],Je!=null&&E.Z[`padding-mobile-${Je}`],Ae!=null&&E.Z[`padding-x-mobile-${Ae}`],Q!=null&&E.Z[`padding-y-mobile-${Q}`],we!=null&&E.Z[`padding-top-mobile-${we}`],Ye!=null&&E.Z[`padding-bottom-mobile-${Ye}`],st!=null&&E.Z[`padding-left-mobile-${st}`],Tt!=null&&E.Z[`padding-right-mobile-${Tt}`],dr!=null&&E.Z[`display-mobile-${dr}`],ee!=null&&E.Z[`min-width-${ee}`],ae!=null&&E.Z[`min-height-${ae}`],ce&&E.Z[`border-${ce}`],fe&&E.Z[`border-top-${fe}`],Ee&&E.Z[`border-bottom-${Ee}`],de&&E.Z[`border-left-${de}`],_e&&E.Z[`border-right-${_e}`],ve&&E.Z[`border-y-${ve}`],De!=null&&E.Z[`border-radius-${De}`],Oe&&E.Z[`shadow-${Oe}`],ye!=null&&E.Z[`bg-${ye}`],ze&&E.Z[`overflowY-${ze}`],Be&&E.Z[`overflowX-${Be}`],We&&E.Z[`scrollBar-${We}`],Ke&&E.Z[`sizing-${Ke}`],Xe&&E.Z.ellipsis,ct&&E.Z[`pullX-${ct}`],ot&&E.Z[`position-${ot}`],Se&&v.Z[`align-${Se}`],Qe&&v.Z[`size-${Qe}`],en&&v.Z[`line-height-${en}`],ge&&v.Z[`weight-${ge}`],lt&&v.Z[`font-${lt}`],Et&&v.Z[`font-style-${Et}`],Fe&&v.Z[`color-${Fe}`],vt&&v.Z[`transform-${vt}`],Re&&v.Z.nowrap,He&&`${v.Z.clamp} ${v.Z[`clamp-${He}`]}`,Ne&&v.Z[`decoration-${Ne}`],jt&&v.Z.paragraph)}function I(N){var F=N,{className:B,displayName:V}=F,Z=C(F,["className","displayName"]);const Y=(0,f.forwardRef)((ne,G)=>{var L=ne,{className:W}=L,ie=C(L,["className"]);return(0,o.h)(A,P(a(a({},Z),ie),{ref:G,className:c()(B,W)}))});return Y.displayName=V,Y}},84040:(z,l,e)=>{"use strict";e.d(l,{hU:()=>I,kG:()=>A,zx:()=>x});var o=e(6400),f=e(98661),u=e(94184),c=e.n(u),_=e(39419),g=e.n(_),E=e(43887),v=e(19206),y=e(4924),T=Object.defineProperty,w=Object.defineProperties,S=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,a=(F,B,V)=>B in F?T(F,B,{enumerable:!0,configurable:!0,writable:!0,value:V}):F[B]=V,P=(F,B)=>{for(var V in B||(B={}))p.call(B,V)&&a(F,V,B[V]);if(O)for(var V of O(B))d.call(B,V)&&a(F,V,B[V]);return F},C=(F,B)=>w(F,S(B)),D=(F,B)=>{var V={};for(var Z in F)p.call(F,Z)&&B.indexOf(Z)<0&&(V[Z]=F[Z]);if(F!=null&&O)for(var Z of O(F))B.indexOf(Z)<0&&d.call(F,Z)&&(V[Z]=F[Z]);return V};const A=(0,f.forwardRef)((F,B)=>{var V=F,{onClick:Z,href:Y,localNavigation:ne,newTab:G,className:L,resetCss:W}=V,ie=D(V,["onClick","href","localNavigation","newTab","className","resetCss"]);const ue=Y?le=>{Z&&(Z.call(le.target,le),le.defaultPrevented)||(0,_.redirect)(Y,{event:le,local_navigation:ne,newTab:G})}:Z;return(0,o.h)("button",C(P({tabIndex:0,type:"button"},ie),{className:c()("pencraft",L,W&&y.Z.buttonBase),ref:B,onClick:ue,"data-href":Y}))});A.displayName="UnstyledButton";const x=(0,f.forwardRef)(function(B,V){var Z=B,{className:Y,priority:ne="primary",size:G="medium",fill:L="filled",outline:W,rounded:ie,disabled:ue,grow:le,leftIcon:J,rightIcon:te,allCaps:se,children:ee,hiddenInput:ae,justifyContent:ce="center"}=Z,fe=D(Z,["className","priority","size","fill","outline","rounded","disabled","grow","leftIcon","rightIcon","allCaps","children","hiddenInput","justifyContent"]);return(0,o.h)(A,P({className:c()(Y,y.Z.buttonBase,y.Z.button,y.Z[`priority_${ne}`],y.Z[`size_${G}`],y.Z[`fill_${L}`],W&&y.Z.outline_none,ie&&y.Z.rounded,le&&y.Z.grow,J!=null&&y.Z.hasLeftIcon,te!=null&&y.Z.hasRightIcon,ce&&v.Z[`flex-justify-${ce}`]),disabled:ue,ref:V},fe),J,se?(0,o.h)(E.xv.Meta,null,ee):ee,te,ae)}),I=(0,f.forwardRef)((F,B)=>{var V=F,{className:Z,size:Y=40,priority:ne="secondary",color:G,fill:L="empty",rounded:W=!0,inverted:ie,grow:ue,shadow:le}=V,J=D(V,["className","size","priority","color","fill","rounded","inverted","grow","shadow"]);return(0,o.h)(A,P({ref:B,className:c()(Z,y.Z.iconButton,Y!=null&&y.Z[`size_${Y}`],ne&&y.Z[`priority_${ne}`],G&&y.Z[`color_${G}`],L&&y.Z[`fill_${L}`],ie&&y.Z.inverted,ue&&y.Z.grow,W&&y.Z.rounded,le&&y.Z[`shadow_${le}`])},J))}),N=F=>{var B=F,{href:V,download:Z,className:Y,priority:ne="primary",size:G="medium",fill:L="filled",outline:W,rounded:ie,grow:ue}=B,le=D(B,["href","download","className","priority","size","fill","outline","rounded","grow"]);return h("a",P({href:V,download:Z,className:classnames(Y,css.buttonBase,css.button,css[`priority_${ne}`],css[`size_${G}`],css[`fill_${L}`],W&&css.outline_none,ie&&css.rounded,ue&&css.grow)},le))}},91041:(z,l,e)=>{"use strict";e.d(l,{h:()=>D,a:()=>A});var o=e(6400),f=e(94184),u=e.n(f),c=e(49336),_=e(84040),g=e(51126),E=e(76235);const v={attached:"frontend-pencraft-ButtonGroup-module__attached--wptD_",borderless:"frontend-pencraft-ButtonGroup-module__borderless--ztoYe"};var y=Object.defineProperty,T=Object.defineProperties,w=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(x,I,N)=>I in x?y(x,I,{enumerable:!0,configurable:!0,writable:!0,value:N}):x[I]=N,a=(x,I)=>{for(var N in I||(I={}))O.call(I,N)&&d(x,N,I[N]);if(S)for(var N of S(I))p.call(I,N)&&d(x,N,I[N]);return x},P=(x,I)=>T(x,w(I)),C=(x,I)=>{var N={};for(var F in x)O.call(x,F)&&I.indexOf(F)<0&&(N[F]=x[F]);if(x!=null&&S)for(var F of S(x))I.indexOf(F)<0&&p.call(x,F)&&(N[F]=x[F]);return N};const D=x=>{var I=x,{attached:N,gap:F=8}=I,B=C(I,["attached","gap"]);return(0,o.h)(g.gq,a({gap:N?0:F,className:u()({[v.attached]:N})},B))},A=x=>{var I=x,{children:N,menuItems:F,fill:B="filled",priority:V="primary",size:Z="medium",rounded:Y=!1,additionalMenuProps:ne={}}=I,G=C(I,["children","menuItems","fill","priority","size","rounded","additionalMenuProps"]);return(0,o.h)(D,{attached:!0},(0,o.h)(_.zx,P(a({},G),{priority:V,size:Z,rounded:Y,fill:B==="borderless"?"filled":B,outline:B==="borderless"?"none":void 0}),N),(0,o.h)(E.v2,P(a({},ne),{trigger:(0,o.h)(_.hU,P(a({className:u()({[v.borderless]:B==="borderless"})},G),{priority:V,fill:B,rounded:Y,size:Z==="small"?32:40}),(0,o.h)(c.Z,{size:Z==="small"?12:20}))}),F))}},15187:(z,l,e)=>{"use strict";e.d(l,{Tz:()=>A});var o=e(6400),f=e(94184),u=e.n(f),c=e(85928);const _={datePicker:"frontend-pencraft-DatePicker-module__datePicker--lcGVq"};var g=Object.defineProperty,E=Object.defineProperties,v=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,S=(F,B,V)=>B in F?g(F,B,{enumerable:!0,configurable:!0,writable:!0,value:V}):F[B]=V,O=(F,B)=>{for(var V in B||(B={}))T.call(B,V)&&S(F,V,B[V]);if(y)for(var V of y(B))w.call(B,V)&&S(F,V,B[V]);return F},p=(F,B)=>E(F,v(B)),d=(F,B)=>{var V={};for(var Z in F)T.call(F,Z)&&B.indexOf(Z)<0&&(V[Z]=F[Z]);if(F!=null&&y)for(var Z of y(F))B.indexOf(Z)<0&&w.call(F,Z)&&(V[Z]=F[Z]);return V};const a="YYYY-MM-DD",P="YYYY-MM-DDThh:mm";function C(F){var B=F,{className:V,min:Z,max:Y,value:ne,onChange:G,disabled:L}=B,W=d(B,["className","min","max","value","onChange","disabled"]);return h("input",p(O({},W),{type:"date",className:cn(css.datePicker,V),value:ne?dayjs(ne).format(a):"",min:Z?dayjs(Z).format(a):"",max:Y?dayjs(Y).format(a):"",onChange:G,disabled:L}))}function D(F){var B=F,{className:V,min:Z,max:Y,value:ne,onChange:G,disabled:L}=B,W=d(B,["className","min","max","value","onChange","disabled"]);return h("input",p(O({},W),{type:"datetime-local",className:cn(css.datePicker,V),value:ne?dayjs(ne).format(P):void 0,min:Z?dayjs(Z).format(P):void 0,max:Y?dayjs(Y).format(P):void 0,onChange:G,disabled:L}))}function A(F){var B=F,{className:V,min:Z,max:Y,value:ne,onChange:G,disabled:L}=B,W=d(B,["className","min","max","value","onChange","disabled"]);return(0,o.h)("input",p(O({},W),{type:"datetime-local",className:u()(_.datePicker,V),value:I(ne),min:I(Z),max:I(Y),onChange:G,disabled:L}))}function x(F){var B=F,{className:V,min:Z,max:Y,value:ne,onChange:G,disabled:L}=B,W=d(B,["className","min","max","value","onChange","disabled"]);return h("input",p(O({},W),{type:"month",className:cn(css.datePicker,V),value:I(ne),min:I(Z),max:I(Y),onChange:G,disabled:L}))}function I(F){return F instanceof Date?`${F.getFullYear()}-${N(F.getMonth()+1)}-${N(F.getDate())}T${N(F.getHours())}:${N(F.getMinutes())}`:F}function N(F){const B=String(F);return B.length<2?`0${B}`:B}},48960:(z,l,e)=>{"use strict";e.d(l,{i:()=>O});var o=e(6400),f=e(94184),u=e.n(f),c=e(51126);const _={divider:"frontend-pencraft-Divider-module__divider--D3DC3","weight-1":"frontend-pencraft-Divider-module__weight-1--n69Cn","weight-2":"frontend-pencraft-Divider-module__weight-2--LUwfg","priority_detail-themed":"frontend-pencraft-Divider-module__priority_detail-themed--XBdX5",priority_detail:"frontend-pencraft-Divider-module__priority_detail--NqTSm"};var g=Object.defineProperty,E=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,T=(p,d,a)=>d in p?g(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,w=(p,d)=>{for(var a in d||(d={}))v.call(d,a)&&T(p,a,d[a]);if(E)for(var a of E(d))y.call(d,a)&&T(p,a,d[a]);return p},S=(p,d)=>{var a={};for(var P in p)v.call(p,P)&&d.indexOf(P)<0&&(a[P]=p[P]);if(p!=null&&E)for(var P of E(p))d.indexOf(P)<0&&y.call(p,P)&&(a[P]=p[P]);return a};const O=p=>{var d=p,{className:a,weight:P=1,priority:C="detail"}=d,D=S(d,["className","weight","priority"]);return(0,o.h)(c.hs,w({className:u()(_.divider,a,_[`priority_${C}`],P&&_[`weight-${P}`]),flex:"grow"},D),(0,o.h)("hr",null))}},51126:(z,l,e)=>{"use strict";e.d(l,{gq:()=>p,hs:()=>O,tu:()=>d});var o=e(6400),f=e(98661),u=e(84606),c=Object.defineProperty,_=Object.defineProperties,g=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,T=(a,P,C)=>P in a?c(a,P,{enumerable:!0,configurable:!0,writable:!0,value:C}):a[P]=C,w=(a,P)=>{for(var C in P||(P={}))v.call(P,C)&&T(a,C,P[C]);if(E)for(var C of E(P))y.call(P,C)&&T(a,C,P[C]);return a},S=(a,P)=>_(a,g(P));const O=(0,f.forwardRef)(function(P,C){return(0,o.h)(u.xu,S(w({},P),{display:P.display||"flex",ref:C}))}),p=O,d=(0,f.forwardRef)(function(P,C){return(0,o.h)(u.xu,S(w({},P),{display:P.display||"flex",direction:"column",ref:C}))})},94016:(z,l,e)=>{"use strict";e.d(l,{z:()=>A,o:()=>x});var o=e(6400),f=e(30396),u=e(5285),c=e(94184),_=e.n(c),g=e(62372);const E={hoverCardBase:"frontend-pencraft-HoverCard-module__hoverCardBase--ktRcg"};var v=Object.defineProperty,y=Object.defineProperties,T=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,p=(I,N,F)=>N in I?v(I,N,{enumerable:!0,configurable:!0,writable:!0,value:F}):I[N]=F,d=(I,N)=>{for(var F in N||(N={}))S.call(N,F)&&p(I,F,N[F]);if(w)for(var F of w(N))O.call(N,F)&&p(I,F,N[F]);return I},a=(I,N)=>y(I,T(N)),P=(I,N)=>{var F={};for(var B in I)S.call(I,B)&&N.indexOf(B)<0&&(F[B]=I[B]);if(I!=null&&w)for(var B of w(I))N.indexOf(B)<0&&O.call(I,B)&&(F[B]=I[B]);return F};const C=500,D=250,A=I=>{var N=I,{className:F="",children:B,layerClassName:V,dontStopPropagation:Z}=N,Y=P(N,["className","children","layerClassName","dontStopPropagation"]);const ne=x(d({className:V},Y));return(0,o.h)("div",a(d(d({className:F},ne.triggerProps),ne.hoverProps),{onClick:G=>{Z||G.stopPropagation()}}),B,ne.layer)};function x(I){var N=I,{disabled:F,onFetch:B,onOpen:V,content:Z,className:Y,layerOptions:ne,hideOnScroll:G=!1}=N,L=P(N,["disabled","onFetch","onOpen","content","className","layerOptions","hideOnScroll"]);const[W,ie,ue]=(0,g.XI)({delayEnter:C,delayLeave:D,hideOnScroll:G}),le=(0,f.sO)(!1);(0,f.d4)(()=>{W&&(!le.current&&B&&(le.current=!0,B()),V&&V())},[W,B,V]);const[J,te]=(0,f.eJ)(!1),{triggerProps:se,layerProps:ee,renderLayer:ae,layerSide:ce}=(0,g.sJ)(d({isOpen:F?!1:W,auto:!0,containerOffset:10,triggerOffset:8,snap:!1,possiblePlacements:["bottom-center","top-center","left-center","right-center"],preferX:"left",preferY:"bottom"},ne));return{triggerProps:se,hoverProps:ie,layer:(W||J)&&!F&&ae((0,o.h)(u.u,{appear:!0,show:W&&!L.loading,beforeEnter:()=>te(!0),afterLeave:()=>te(!1),enter:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,o.h)("div",d(d({onClick:()=>{ue()},className:_()(Y,E.hoverCardBase)},ee),ie),Z)))}}},56288:(z,l,e)=>{"use strict";e.d(l,{a:()=>S});var o=e(6400),f=e(94184),u=e.n(f);const c={circularLoader:"frontend-pencraft-Loader-module__circularLoader--KBZRF",rotate:"frontend-pencraft-Loader-module__rotate--qKuPb",size_sm:"frontend-pencraft-Loader-module__size_sm--fpy9_",size_md:"frontend-pencraft-Loader-module__size_md--aKhkY",size_lg:"frontend-pencraft-Loader-module__size_lg--GvCmC"};var _=Object.defineProperty,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?_(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>{var a={};for(var P in p)E.call(p,P)&&d.indexOf(P)<0&&(a[P]=p[P]);if(p!=null&&g)for(var P of g(p))d.indexOf(P)<0&&v.call(p,P)&&(a[P]=p[P]);return a};const S=p=>{var d=p,{type:a="circular"}=d,P=w(d,["type"]);if(a==="circular")return(0,o.h)(O,T({},P));throw new Error("not implemented")},O=({className:p,size:d="md",dataTestId:a})=>(0,o.h)("div",{"data-testid":a,className:u()(c.circularLoader,c[`size_${d}`],p)})},76235:(z,l,e)=>{"use strict";e.d(l,{v2:()=>le,sN:()=>J});var o=e(6400),f=e(98661),u=e(30396),c=e(5285),_=e(94184),g=e.n(_),E=e(44396),v=e(71375),y=e(84040),T=e(51126),w=e(43887);const S={root:"frontend-pencraft-ActionSheet-module__root--XmJTE",sheet:"frontend-pencraft-ActionSheet-module__sheet--QDxYu",items:"frontend-pencraft-ActionSheet-module__items--ByTuz",item:"frontend-pencraft-ActionSheet-module__item--kzs2M",destructive:"frontend-pencraft-ActionSheet-module__destructive--TNbOc"};var O=Object.defineProperty,p=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,P=(ee,ae,ce)=>ae in ee?O(ee,ae,{enumerable:!0,configurable:!0,writable:!0,value:ce}):ee[ae]=ce,C=(ee,ae)=>{for(var ce in ae||(ae={}))d.call(ae,ce)&&P(ee,ce,ae[ce]);if(p)for(var ce of p(ae))a.call(ae,ce)&&P(ee,ce,ae[ce]);return ee},D=(ee,ae)=>{var ce={};for(var fe in ee)d.call(ee,fe)&&ae.indexOf(fe)<0&&(ce[fe]=ee[fe]);if(ee!=null&&p)for(var fe of p(ee))ae.indexOf(fe)<0&&a.call(ee,fe)&&(ce[fe]=ee[fe]);return ce};const A=(0,f.forwardRef)(({title:ee,subtitle:ae,onClose:ce,children:fe,className:Ee},de)=>(0,o.h)(T.tu,{className:S.root,onClick:ce},(0,o.h)(c.u.Child,{appear:!0,enter:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",enterFrom:"tw-translate-y-full tw-opacity-0",enterTo:"tw-translate-y-0 tw-opacity-100",leave:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",leaveFrom:"tw-translate-y-0 tw-opacity-100",leaveTo:"tw-translate-y-full tw-opacity-0"},(0,o.h)(T.tu,{className:g()(S.sheet,Ee),ref:de,onClick:_e=>{_e.stopPropagation()}},(0,o.h)(T.hs,{justifyContent:"space-between",alignItems:"center",borderBottom:"detail",paddingBottom:8},(0,o.h)(T.tu,null,(0,o.h)(w.xv.B3,{weight:"semibold"},ee),(0,o.h)(w.xv.B4,{color:"secondary"},ae)),(0,o.h)(y.hU,{fill:"empty",onClick:()=>{ce()},priority:"secondary"},(0,o.h)(v.Z,null))),(0,o.h)(T.tu,{paddingTop:8,overflowY:"auto",className:S.items},fe)))));function x(ee){var ae=ee,{children:ce,onClick:fe,closeMenu:Ee,icon:de,className:_e,priority:ve="primary",disabled:De}=ae,Oe=D(ae,["children","onClick","closeMenu","icon","className","priority","disabled"]);const ye=Oe.href?"a":y.kG;return(0,o.h)(ye,C({className:g()(S.item,S[ve],_e,{[S.disabled]:!!De}),resetCss:!0,onClick:ze=>{fe==null||fe(ze),Ee==null||Ee()}},Oe),de&&(0,o.cloneElement)(de,{size:20,stroke:"var(--color-primary)"}),de&&" ",(0,o.h)(w.xv.B4,{color:ve==="destructive"?"accent-red":"primary",weight:"medium",align:"left",flex:"fill"},ce))}var I=e(89581);const N={menu:"frontend-pencraft-Menu-module__menu--gljfP",menuItem:"frontend-pencraft-Menu-module__menuItem--tFPoF",disabled:"frontend-pencraft-Menu-module__disabled--KTi2u",destructive:"frontend-pencraft-Menu-module__destructive--xnxNR",icon:"frontend-pencraft-Menu-module__icon--I8jrn",text:"frontend-pencraft-Menu-module__text--jJpxe"};var F=Object.defineProperty,B=Object.defineProperties,V=Object.getOwnPropertyDescriptors,Z=Object.getOwnPropertySymbols,Y=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable,G=(ee,ae,ce)=>ae in ee?F(ee,ae,{enumerable:!0,configurable:!0,writable:!0,value:ce}):ee[ae]=ce,L=(ee,ae)=>{for(var ce in ae||(ae={}))Y.call(ae,ce)&&G(ee,ce,ae[ce]);if(Z)for(var ce of Z(ae))ne.call(ae,ce)&&G(ee,ce,ae[ce]);return ee},W=(ee,ae)=>B(ee,V(ae)),ie=(ee,ae)=>{var ce={};for(var fe in ee)Y.call(ee,fe)&&ae.indexOf(fe)<0&&(ce[fe]=ee[fe]);if(ee!=null&&Z)for(var fe of Z(ee))ae.indexOf(fe)<0&&ne.call(ee,fe)&&(ce[fe]=ee[fe]);return ce};function ue(ee){return typeof ee.type=="string"||ee.type.$$typeof===Symbol.for("react.forward_ref")}const le=(0,f.forwardRef)((ee,ae)=>{var ce=ee,{trigger:fe,children:Ee,ariaLabel:de="View more",hideOnScroll:_e,layerOptions:ve,layerClassName:De,onOpen:Oe,onClose:ye,useMobileBottomSheet:ze=!1,mobileBottomSheetTitle:Be,mobileBottomSheetSubtitle:We,stopPropagation:Ke=!1,maxHeight:Xe=295,padding:ct=8,disableMenu:Se=!1}=ce,Qe=ie(ce,["trigger","children","ariaLabel","hideOnScroll","layerOptions","layerClassName","onOpen","onClose","useMobileBottomSheet","mobileBottomSheetTitle","mobileBottomSheetSubtitle","stopPropagation","maxHeight","padding","disableMenu"]);ue(fe)||console.error("Menu trigger must be a valid component that forwards a ref that react-laag uses, or a native dom element. See Button/IconButton for example, and preferably use those.");const ge=(0,E.XA)(),{triggerProps:Fe,layerProps:Ne,renderLayer:lt,isOpen:Et,setOpen:jt}=(0,I.x)({layerOptions:L({auto:!0,possiblePlacements:["bottom-start","bottom-center","bottom-end","top-start","top-center","top-end"],preferY:"bottom"},ve),hideOnScroll:_e&&!(ze&&ge)}),[en,vt]=(0,u.eJ)(!1),Re=()=>{jt(!1),ye&&ye()},He=(0,o.toChildArray)(Ee).map(ot=>(0,o.cloneElement)(ot,{useMobileBottomSheet:ze,closeMenu:Re}));return(0,o.h)(o.Fragment,null,(0,o.cloneElement)(fe,W(L({},Fe),{ariaLabel:de,onClick:ot=>{ot.preventDefault(),Ke&&ot.stopPropagation(),Se||jt(!Et),!Et&&Oe&&Oe(),Et&&ye&&ye()}})),(Et||en)&&lt(ze&&ge?(0,o.h)(c.u,{appear:!0,show:Et,beforeEnter:()=>vt(!0),afterLeave:()=>vt(!1),enter:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition-all tw-ease-smooth tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,o.h)("div",L(L({},Ne),Qe),(0,o.h)(A,{title:Be,subtitle:We,onClose:Re,ref:ae,className:De},He))):(0,o.h)(c.u,{appear:!0,unmount:!1,show:Et,beforeEnter:()=>vt(!0),afterLeave:()=>vt(!1),className:"tw-duration-fast"},(0,o.h)("div",L(L({},Ne),Qe),(0,o.h)(c.u,{appear:!0,unmount:!1,show:Et,className:"transform-gpu tw-transition-all tw-duration-fast tw-ease-smooth",enterFrom:"tw-opacity-0 tw--translate-y-2",enterTo:"tw-opacity-100 tw-translate-y-0",leaveFrom:"tw-opacity-100 tw--translate-y-0",leaveTo:"tw-opacity-0 tw--translate-y-2"},(0,o.h)(te,L({className:De,ref:ae},!_e&&{style:{maxHeight:Xe,padding:ct,overflowY:"auto"}}),He))))))}),J=ee=>{var ae=ee,{useMobileBottomSheet:ce}=ae,fe=ie(ae,["useMobileBottomSheet"]);const Ee=(0,E.XA)();return ce&&Ee?(0,o.h)(x,L({},fe)):(0,o.h)(se,L({},fe))},te=(0,f.forwardRef)((ee,ae)=>{var ce=ee,{className:fe}=ce,Ee=ie(ce,["className"]);return(0,o.h)(T.tu,L({className:g()(N.menu,"elevated",fe),gap:8,bg:"elevated",shadow:"md",border:"detail",radius:12,ref:ae},Ee))}),se=ee=>{var ae=ee,{children:ce,onClick:fe,closeMenu:Ee,icon:de,rightIcon:_e,suffix:ve,priority:De="primary",className:Oe,disabled:ye,href:ze,download:Be}=ae,We=ie(ae,["children","onClick","closeMenu","icon","rightIcon","suffix","priority","className","disabled","href","download"]);const Ke=ze?"a":y.kG;return(0,o.h)(Ke,L({className:g()(N.menuItem,N[De],Oe,{[N.disabled]:!!ye}),resetCss:!0,onClick:Xe=>{ye||(fe&&fe(Xe),Ee&&Ee())},href:ye?"javascript:void(0)":ze,download:Be},We),de&&(0,o.cloneElement)(de,{size:24,className:g()(N.icon,de.props.className)}),(0,o.h)(w.xv.B4,{color:De==="destructive"?"accent-red":"primary",className:N.text,weight:"semibold",align:"left"},ce),ve,_e&&(0,o.h)(o.Fragment,null,(0,o.h)(T.hs,{style:{flexGrow:1}}),_e&&(0,o.cloneElement)(_e,{size:24,className:g()(N.icon,_e.props.className)})))}},53940:(z,l,e)=>{"use strict";e.d(l,{u:()=>d,f:()=>O});var o=e(6400),f=e(98661),u=e(5285),c=e(13599),_=e(94184),g=e.n(_),E=e(50308),v=e.n(E),y=e(44396),T=e(84606),w=e(21958);const S={container:"frontend-pencraft-Modal-Modal-module__container--I_osU",full:"frontend-pencraft-Modal-Modal-module__full--zg0Lb",default:"frontend-pencraft-Modal-Modal-module__default--wGTXu",fullscreenMobile:"frontend-pencraft-Modal-Modal-module__fullscreenMobile--VL76f",dynamicMobile:"frontend-pencraft-Modal-Modal-module__dynamicMobile--ujclO"},O=(0,w.L)("sm:tw-max-h-[60vh] tw-overflow-auto tw-px-4 tw-py-5 tw-font-body"),p=({children:a})=>(0,o.h)("div",{className:"tw-max-h-5/6 tw-flex tw-min-h-full tw-items-center tw-justify-center"},a),d=({isOpen:a,onClose:P=()=>{},children:C,includeBackdrop:D=!0,position:A="default",opacity:x="medium",testId:I="modal",className:N,onEscape:F,fullscreenMobile:B,overflow:V,width:Z=440,disableCloseOnBackdropClick:Y=!1,initialFocus:ne})=>{const G=(0,y.XA)(),L=W=>{const{code:ie}=W;F&&ie==="Escape"&&F(W)};return(0,o.h)(u.u,{show:a,as:f.Fragment},(0,o.h)(c.V,{onMouseDown:W=>W.stopPropagation(),onMouseUp:W=>W.stopPropagation(),onClick:W=>W.stopPropagation(),"data-testid":I,as:"div",className:"tw-fixed tw-inset-0 tw-z-30 tw-overflow-y-auto",onClose:Y?v():P,onKeyDown:F?L:void 0,initialFocus:ne},(0,o.h)(p,null,D&&(0,o.h)(u.u.Child,{enter:"tw-transition tw-ease-smooth tw-duration-fast",enterFrom:"tw-opacity-0",enterTo:"tw-opacity-100",leave:"tw-transition tw-ease-smooth tw-duration-fast",leaveFrom:"tw-opacity-100",leaveTo:"tw-opacity-0"},(0,o.h)("div",{className:x==="dark"?"tw-fixed tw-inset-0 tw-bg-black tw-opacity-80":"tw-fixed tw-inset-0 tw-bg-black tw-opacity-50","aria-hidden":!0})),(0,o.h)(u.u.Child,{as:f.Fragment,enter:"tw-transition tw-ease-smooth tw-duration-fast",enterFrom:"tw-opacity-0 tw-translate-y-3",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition tw-ease-smooth tw-duration-fast",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-3"},(0,o.h)(c.V.Panel,{className:g()(N,(0,T.yK)({display:"flex"}),S.container,S[A],B?S.fullscreenMobile:S.dynamicMobile),style:{width:G||A==="full"?void 0:Z,overflow:V}},C)))))}},29354:(z,l,e)=>{"use strict";e.d(l,{m:()=>T});var o=e(6400),f=e(94184),u=e.n(f),c=Object.defineProperty,_=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,v=(O,p,d)=>p in O?c(O,p,{enumerable:!0,configurable:!0,writable:!0,value:d}):O[p]=d,y=(O,p)=>{for(var d in p||(p={}))g.call(p,d)&&v(O,d,p[d]);if(_)for(var d of _(p))E.call(p,d)&&v(O,d,p[d]);return O};const T=O=>O.alignment==="center"?(0,o.h)(S,y({},O)):(0,o.h)(w,y({},O)),w=({primaryButton:O,secondaryButton:p,destructiveButton:d,includeDivider:a,className:P})=>(0,o.h)("div",{className:u()("tw-flex tw-justify-end tw-gap-2 tw-p-4",{"tw-shadow-detail-inset":a},P)},d&&(0,o.cloneElement)(d,{className:u()("tw-mr-auto",d.props.className)}),p,O),S=({includeDivider:O,primaryButton:p,secondaryButton:d,className:a})=>(0,o.h)("div",{className:u()("tw-flex tw-flex-col tw-gap-2 tw-py-4 tw-px-4",{"tw-shadow-detail-inset":O},a)},p,d)},28079:(z,l,e)=>{"use strict";e.d(l,{r:()=>y,x:()=>v});var o=e(6400),f=e(13599),u=e(94184),c=e.n(u),_=e(26059),g=e(33705),E=e(21958);const v=({isModal:T=!0,onClose:w,includeClose:S=!1,bottomBorder:O,title:p,description:d,as:a="h2",usePubThemeForTitle:P=!1,className:C,pagination:D})=>(0,o.h)("div",{className:c()("tw-grid tw-grid-cols-[auto_auto] tw-items-center tw-justify-between tw-pt-6",C,{"tw-px-4":!D,"tw-border-0 tw-border-b tw-border-solid tw-border-substack-detail tw-pb-6":O})},!p&&!D&&(0,o.h)(g.Z,{alt:"Substack icon",height:24}),D&&(0,o.h)("label",{className:"tw-text-[12px] tw-font-medium tw-leading-5",role:"label",title:"pagination"},D[0]," OF ",D[1]),S&&(0,o.h)("button",{className:"tw-col-start-2 tw-flex tw-cursor-pointer tw-border-none tw-bg-transparent",role:"button",title:"Close",onClick:w,"aria-label":"close"},(0,o.h)(_.Z,null)),p&&T&&(0,o.h)(f.V.Title,{as:a,className:`tw-col-start-1 tw-row-start-1 tw-my-0 tw-font-title tw-text-h2 ${P?"tw-text-pub-primary-text":" tw-text-substack-primary"}`},p),d&&T&&(0,o.h)(f.V.Description,{as:"span",className:"tw-col-start-1 tw-mt-2 tw-font-body tw-text-sm tw-text-substack-secondary"},d),p&&!T&&(0,o.h)(y,{className:"tw-col-start-1 tw-row-start-1"},p)&&(0,o.createElement)(a,{className:`tw-col-start-1 tw-row-start-1 tw-my-0 tw-font-title ${P?"tw-text-pub-primary-text":" tw-text-substack-primary"}`},p),d&&!T&&(0,o.h)("span",{className:"tw-col-start-1 tw-mt-1 tw-font-body tw-text-sm tw-text-substack-secondary"},d)&&(0,o.createElement)("span",{className:"tw-mt-1 tw-col-start-1 tw-font-body tw-text-sm tw-text-substack-secondary"},d)),y=(0,E.L)("tw-my-0 tw-font-title","h2")},92106:(z,l,e)=>{"use strict";var o=e(6400),f=e(94184),u=e(51126),c=e(43887);const _={clickable:"frontend-pencraft-Placeholder-module__clickable--fkeYp",bg_secondary:"frontend-pencraft-Placeholder-module__bg_secondary--gugNB","bg_secondary-themed":"frontend-pencraft-Placeholder-module__bg_secondary-themed--QP16b",bg_primary:"frontend-pencraft-Placeholder-module__bg_primary--qtSWk",text_secondary:"frontend-pencraft-Placeholder-module__text_secondary--YH0Gu","text_pub-secondary-text":"frontend-pencraft-Placeholder-module__text_pub-secondary-text--qMi_Z"};var g=Object.defineProperty,E=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,T=(p,d,a)=>d in p?g(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,w=(p,d)=>{for(var a in d||(d={}))v.call(d,a)&&T(p,a,d[a]);if(E)for(var a of E(d))y.call(d,a)&&T(p,a,d[a]);return p},S=(p,d)=>{var a={};for(var P in p)v.call(p,P)&&d.indexOf(P)<0&&(a[P]=p[P]);if(p!=null&&E)for(var P of E(p))d.indexOf(P)<0&&y.call(p,P)&&(a[P]=p[P]);return a};const O=p=>{var d=p,{icon:a,text:P,textColor:C="secondary",bgColor:D="secondary",paddingX:A=24,paddingY:x=24,border:I,className:N,onClick:F}=d,B=S(d,["icon","text","textColor","bgColor","paddingX","paddingY","border","className","onClick"]);return h(FlexBox,w({sizing:"border-box",alignItems:"center",justifyContent:"center",paddingX:A,paddingY:x,radius:12,border:I,className:cn(N,css.placeholder,css[`bg_${D}`],css[`text_${C}`],{[css.clickable]:!!F}),onClick:F},B),h(FlexColumn,{gap:8,alignItems:"center"},a,h(Text.B4,{color:C,className:css.text,weight:"bold"},P)))}},65414:(z,l,e)=>{"use strict";var o=e(6400),f=e(94184),u=e.n(f),c=e(30058),_=Object.defineProperty,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(p,d,a)=>d in p?_(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,T=(p,d)=>{for(var a in d||(d={}))E.call(d,a)&&y(p,a,d[a]);if(g)for(var a of g(d))v.call(d,a)&&y(p,a,d[a]);return p},w=(p,d)=>{var a={};for(var P in p)E.call(p,P)&&d.indexOf(P)<0&&(a[P]=p[P]);if(p!=null&&g)for(var P of g(p))d.indexOf(P)<0&&v.call(p,P)&&(a[P]=p[P]);return a};const S=p=>{var d=p,{color:a="default",accessibilityLabel:P="Toggle setting",classNames:C,checked:D,small:A=!1,preflightClassName:x}=d,I=w(d,["color","accessibilityLabel","classNames","checked","small","preflightClassName"]);const N=a==="default"?"tw-bg-accent-green":"tw-bg-pub-accent";return h(Preflight,{className:x},h(HeadlessSwitch,T({className:cn(D?N:"tw-bg-neutral-400",A?"tw-h4 tw-w-7":"tw-h-6 tw-w-11","tw-relative tw-inline-flex tw-flex-shrink-0 tw-cursor-pointer tw-rounded-full tw-border-2 tw-border-transparent tw-transition-colors tw-duration-200 tw-ease-smooth disabled:tw-bg-neutral-200",C),checked:D},I),h("span",{className:"tw-sr-only"},P),h("span",{"aria-hidden":"true",className:cn(D?`${A?"tw-translate-x-3":"tw-translate-x-5"}`:"tw-translate-x-0",A?"tw-h-3 tw-w-3":"tw-h-5 tw-w-5","tw-pointer-events-none tw-inline-block tw-transform tw-rounded-full tw-bg-white tw-shadow tw-ring-0 tw-transition tw-duration-200 tw-ease-smooth")})))};var O=null},43887:(z,l,e)=>{"use strict";e.d(l,{Zx:()=>x,xv:()=>A,hh:()=>de});var o=e(6400),f=e(94184),u=e.n(f),c=e(78710);const _=_e=>{const ve=document.createElement("ROOT");return ve.innerHTML=_e,ve},g=(_e,ve,De)=>{let Oe="";const ye=Be=>Array.isArray(Be)&&Be.length===2&&Be[1]===null;return(Array.isArray(_e)&&!ye(_e)?_e:[_e]).forEach(Be=>{if(!Be)Oe+="";else if(Be.type){const We=ve.length+1;ve.push(Be),Oe+=`<C${We}>${g(Be.props.children||[],ve,De)}</C${We}>`}else if(ye(Be)){const We=Be[0];Oe+=`%${De.length+1}`,De.push(We)}else Oe+=Be}),Oe},E=(_e,ve)=>{const De=_(_e),Oe=ye=>{const ze=[];return ye.forEach(Be=>{var We;if((We=Be.childNodes)!=null&&We.length&&Be.nodeName){const Ke=Number(Be.nodeName.replace("C",""))-1,Xe=ve[Ke];if(!Xe)return;const ct=Be.childNodes?Oe(Be.childNodes):[],Se=(0,o.cloneElement)(Xe,Xe.props,ct);ze.push(Se)}else{const Ke=Be.data||"";ze.push(Ke)}}),ze};return Oe(De.childNodes||[])};var v=e(84606),y=e(28614),T=Object.defineProperty,w=Object.defineProperties,S=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,a=(_e,ve,De)=>ve in _e?T(_e,ve,{enumerable:!0,configurable:!0,writable:!0,value:De}):_e[ve]=De,P=(_e,ve)=>{for(var De in ve||(ve={}))p.call(ve,De)&&a(_e,De,ve[De]);if(O)for(var De of O(ve))d.call(ve,De)&&a(_e,De,ve[De]);return _e},C=(_e,ve)=>w(_e,S(ve)),D=(_e,ve)=>{var De={};for(var Oe in _e)p.call(_e,Oe)&&ve.indexOf(Oe)<0&&(De[Oe]=_e[Oe]);if(_e!=null&&O)for(var Oe of O(_e))ve.indexOf(Oe)<0&&d.call(_e,Oe)&&(De[Oe]=_e[Oe]);return De};const A=_e=>{var ve=_e,{className:De,align:Oe,size:ye,weight:ze,transform:Be}=ve,We=D(ve,["className","align","size","weight","transform"]);We=C(P({},We),{textAlign:Oe!=null?Oe:We.textAlign,textTransform:Be!=null?Be:We.textTransform,fontSize:ye!=null?ye:We.fontSize,fontWeight:ze!=null?ze:We.fontWeight});const{iString:Ke,language:Xe}=(0,c.M1)();let ct=We.children;if(We.translated&&Xe!=="en"){const Se=[],Qe=[],ge=g(We.children,Se,Qe),Fe=Ke(ge,...Qe);if(Fe&&Fe!==ge)try{ct=E(Fe,Se)}catch(Ne){console.log(`Could not translate ${ge}`,Ne)}}return(0,o.h)(v.xu,C(P({className:u()(y.Z.reset,De)},We),{children:ct}))},x=_e=>(0,o.h)(A,P({as:"span"},_e)),I=_e=>{var ve=_e,{children:De,className:Oe}=ve,ye=D(ve,["children","className"]);return(0,o.h)(A,P({as:"h1",font:"display",size:32,weight:"bold",color:"primary",className:u()(y.Z.header1,Oe)},ye),De)},N=_e=>{var ve=_e,{children:De,className:Oe}=ve,ye=D(ve,["children","className"]);return(0,o.h)(A,P({as:"h2",font:"display",size:24,weight:"bold",color:"primary",className:u()(y.Z.header2,Oe)},ye),De)},F=_e=>{var ve=_e,{children:De,className:Oe}=ve,ye=D(ve,["children","className"]);return(0,o.h)(A,P({as:"h3",font:"display",size:20,lineHeight:24,weight:"bold",color:"primary",className:u()(y.Z.header3,Oe)},ye),De)},B=_e=>{var ve=_e,{children:De,className:Oe}=ve,ye=D(ve,["children","className"]);return(0,o.h)(A,P({as:"h4",font:"text",size:16,lineHeight:20,weight:"bold",color:"primary",className:u()(y.Z.header4,Oe)},ye),De)},V=(0,v.E7)({font:"display",fontSize:20,lineHeight:30,fontWeight:"normal",color:"primary",className:y.Z.body1}),Z=_e=>{var ve=_e,{children:De,className:Oe}=ve,ye=D(ve,["children","className"]);return(0,o.h)(A,P({font:"text",size:18,lineHeight:30,weight:"normal",color:"primary",className:u()(y.Z.body2,Oe)},ye),De)},Y=_e=>{var ve=_e,{children:De,className:Oe}=ve,ye=D(ve,["children","className"]);return(0,o.h)(A,P({font:"text",size:16,lineHeight:24,weight:"normal",color:"primary",className:u()(y.Z.body3,Oe)},ye),De)},ne=_e=>{var ve=_e,{children:De,className:Oe}=ve,ye=D(ve,["children","className"]);return(0,o.h)(A,P({font:"text",size:14,lineHeight:20,weight:"normal",color:"primary",className:u()(y.Z.body4,Oe)},ye),De)},G=_e=>{var ve=_e,{children:De,className:Oe}=ve,ye=D(ve,["children","className"]);return(0,o.h)(A,P({color:"secondary",font:"meta",size:11,lineHeight:20,weight:"medium",transform:"uppercase",className:u()(y.Z.meta,Oe)},ye),De)},L=_e=>{var ve=_e,{children:De,className:Oe}=ve,ye=D(ve,["children","className"]);return(0,o.h)(A,P({font:"digit",size:12,lineHeight:20,weight:"bold",transform:"uppercase",className:u()(y.Z.digit,Oe)},ye),De)},W=_e=>(0,o.h)(A,P({font:"text",lineHeight:20,size:14,weight:"medium",color:"substack"},_e)),ie=_e=>{var ve=_e,{children:De,className:Oe}=ve,ye=D(ve,["children","className"]);return(0,o.h)(A,P({font:"text",size:12,lineHeight:20,weight:"normal",color:"secondary",className:u()(Oe)},ye),De)},ue=_e=>{var ve=_e,{children:De,className:Oe}=ve,ye=D(ve,["children","className"]);return(0,o.h)(A,P({font:"text",color:"primary",className:u()(y.Z.marketingBody,Oe)},ye),De)},le=_e=>{var ve=_e,{children:De,className:Oe}=ve,ye=D(ve,["children","className"]);return(0,o.h)(A,P({as:"h1",color:"primary",weight:"normal",className:u()(y.Z.marketingHeading1xl,Oe)},ye),De)},J=_e=>{var ve=_e,{children:De,className:Oe}=ve,ye=D(ve,["children","className"]);return(0,o.h)(A,P({as:"h1",color:"primary",weight:"normal",className:u()(y.Z.marketingHeading1,Oe)},ye),De)},te=_e=>{var ve=_e,{children:De,className:Oe}=ve,ye=D(ve,["children","className"]);return(0,o.h)(A,P({as:"h3",color:"primary",weight:"medium",className:u()(y.Z.marketingHeading2,Oe)},ye),De)},se=_e=>{var ve=_e,{children:De,className:Oe}=ve,ye=D(ve,["children","className"]);return(0,o.h)(A,P({as:"h3",color:"primary",weight:"medium",className:u()(y.Z.marketingHeading3,Oe)},ye),De)},ee=_e=>{var ve=_e,{children:De,className:Oe}=ve,ye=D(ve,["children","className"]);return(0,o.h)(A,P({as:"h4",color:"primary",weight:"medium",className:u()(y.Z.marketingHeading4,Oe)},ye),De)},ae=_e=>{var ve=_e,{children:De,className:Oe}=ve,ye=D(ve,["children","className"]);return(0,o.h)(A,P({as:"h5",color:"primary",weight:"normal",className:u()(y.Z.marketingHeading5,Oe)},ye),De)},ce=_e=>{var ve=_e,{children:De,className:Oe}=ve,ye=D(ve,["children","className"]);return(0,o.h)(A,P({as:"h4",color:"primary",weight:"normal",align:"center",className:u()(y.Z.marketingQuote,Oe)},ye),De)},fe=_e=>{var ve=_e,{children:De,className:Oe}=ve,ye=D(ve,["children","className"]);return(0,o.h)(A,P({as:"h4",color:"primary",weight:"normal",size:28,className:u()(y.Z.marketingSubtitle,Oe)},ye),De)},Ee=_e=>{var ve=_e,{children:De,className:Oe}=ve,ye=D(ve,["children","className"]);return(0,o.h)(A,P({as:"h1",color:"primary",weight:"normal",className:u()(y.Z.stat,Oe)},ye),De)},de=(0,v.E7)({as:"a",decoration:"hover-underline"});A.H1=I,A.H2=N,A.H3=F,A.H4=B,A.B1=V,A.B2=Z,A.B3=Y,A.B4=ne,A.Detail=ie,A.MarketingBody=ue,A.MarketingHeading1xl=le,A.MarketingHeading1=J,A.MarketingHeading2=te,A.MarketingHeading3=se,A.MarketingHeading4=ee,A.MarketingHeading5=ae,A.MarketingQuote=ce,A.MarketingSubtitle=fe,A.Meta=G,A.Stat=Ee,A.Digit=L,A.Button=W},75425:(z,l,e)=>{"use strict";e.d(l,{FN:()=>x,Us:()=>I,VW:()=>W,dd:()=>ie,lL:()=>N,pm:()=>ue});var o=e(6400),f=e(98661),u=e(30396),c=e(5285),_=e(94184),g=e.n(_),E=e(71375),v=e(13833),y=e(21958),T=e(92271),w=e(51126),S=Object.defineProperty,O=Object.defineProperties,p=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,C=(le,J,te)=>J in le?S(le,J,{enumerable:!0,configurable:!0,writable:!0,value:te}):le[J]=te,D=(le,J)=>{for(var te in J||(J={}))a.call(J,te)&&C(le,te,J[te]);if(d)for(var te of d(J))P.call(J,te)&&C(le,te,J[te]);return le},A=(le,J)=>O(le,p(J));function x({text:le,cta:J,onAccept:te,href:se,onClose:ee,Icon:ae,className:ce}){return(0,o.h)(B,{className:g()("tw-items-center",ce)},(0,o.h)(w.gq,{className:"tw-flex-1",gap:12},ae&&(0,o.h)(ne,{Icon:ae}),(0,o.h)(V,null,le)),(0,o.h)(w.gq,{className:"tw-flex-none",gap:12},J&&(typeof J=="string"?(se||te)&&(0,o.h)(T.z,{look:"flex",onClick:fe=>{ee==null||ee(),te==null||te(fe)},href:se},(0,o.h)(v.Av,{className:"tw-text-dark-secondary"},J)):J),(0,o.h)("div",{className:"tw-w-px tw-self-stretch tw-bg-dark-detail"}),(0,o.h)(Y,{onClick:ee})))}function I({title:le,body:J,buttons:te,onClose:se,Icon:ee}){return(0,o.h)(B,{className:"tw-max-w-md"},ee&&(0,o.h)(ne,{Icon:ee}),(0,o.h)(w.tu,{className:"tw-flex-0-5",gap:8},(0,o.h)(w.tu,{className:"tw-flex-0-5",gap:4},(0,o.h)(V,null,le),(0,o.h)(Z,null,J)),te&&(0,o.h)(w.gq,{gap:24},te)),(0,o.h)(Y,{onClick:se}))}function N(le){return(0,o.h)(T.z,D({look:"flex",className:"tw-h-9 tw-items-center"},le))}function F(le){return h("div",{className:G},h(x,D({},le)))}const B=(0,y.L)("tw-flex tw-gap-8 tw-rounded-lg tw-px-4 tw-py-4 tw-border tw-border-solid tw-border-tooltip-detail tw-bg-tooltip-bg tw-drop-shadow-md"),V=(0,y.L)("min-h-5 tw-flex-1-1 tw-font-medium tw-text-dark-primary tw-items-center",v.Hj),Z=(0,y.L)("min-h-5 tw-flex-1 0 tw-text-dark-secondary tw-items-center",v.Hj);function Y({onClick:le}){return(0,o.h)(T.z,{look:"flex",onClick:le},(0,o.h)(E.Z,{className:"tw-stroke-dark-secondary",strokeWidth:1.5,size:20}))}function ne({Icon:le}){return(0,o.h)(le,{className:"tw-shrink-0 tw-basis-5 tw-stroke-dark-primary",strokeWidth:1.5,size:20})}const G="tw-fixed tw-bottom-2.5 tw-right-2.5 tw-left-2.5 md:tw-left-auto md:tw-bottom-5 md:tw-right-5 md:tw-pl-4 tw-z-40",L=(0,o.createContext)({popToast:()=>{throw new Error("Popping toast requires a ToastProvider.")},addOffset:()=>{}});function W({children:le}){const[J,te]=(0,u.eJ)(null),[se,ee]=(0,u.eJ)("hidden"),[ae,ce]=(0,u.eJ)(0),fe=(0,u.sO)(null),Ee=()=>{ee("hidden")},de=(ve,{ttl:De=5e3}={})=>{te({element:ve({onClose:Ee}),ttl:De}),ee("visible"),fe.current!=null&&clearTimeout(fe.current),fe.current=De===null?null:setTimeout(Ee,De)},_e=ve=>{ce(Math.min(ae+ve,0))};return(0,o.h)(L.Provider,{value:{popToast:de,addOffset:_e}},le,(0,o.h)("div",{className:G,style:{transform:`translateY(${ae}px)`}},(0,o.h)(c.u,{appear:!0,show:!!J&&se==="visible",enter:"tw-transition-all tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-4",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-4",onMouseEnter:()=>fe.current!=null&&clearTimeout(fe.current),onMouseLeave:()=>{fe.current!=null&&clearTimeout(fe.current),J&&(fe.current=J.ttl===null?null:setTimeout(Ee,J.ttl))}},J==null?void 0:J.element)))}const ie=le=>{const J=(0,f.forwardRef)((te,se)=>{const ee=ue();return(0,o.h)(le,A(D(D({},ee),te),{ref:se}))});return J.displayName=`withToastContext(${le.name||le.displayName||"Anonymous"})`,J};function ue(){return(0,u.qp)(L)}},92630:(z,l,e)=>{"use strict";e.d(l,{u:()=>P,_:()=>C});var o=e(6400),f=e(51126),u=e(25666);const c={tooltip:"frontend-pencraft-Tooltip-module__tooltip--l28SA",tooltipContent:"frontend-pencraft-Tooltip-module__tooltipContent--lpNDB"};var _=Object.defineProperty,g=Object.defineProperties,E=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,w=(D,A,x)=>A in D?_(D,A,{enumerable:!0,configurable:!0,writable:!0,value:x}):D[A]=x,S=(D,A)=>{for(var x in A||(A={}))y.call(A,x)&&w(D,x,A[x]);if(v)for(var x of v(A))T.call(A,x)&&w(D,x,A[x]);return D},O=(D,A)=>g(D,E(A)),p=(D,A)=>{var x={};for(var I in D)y.call(D,I)&&A.indexOf(I)<0&&(x[I]=D[I]);if(D!=null&&v)for(var I of v(D))A.indexOf(I)<0&&T.call(D,I)&&(x[I]=D[I]);return x};const d=["top-start","top-center","top-end","bottom-start","bottom-center","bottom-end"],a=["left-start","left-center","left-end","right-start","right-center","right-end"],P=D=>{var A=D,{children:x,text:I,as:N="span",icon:F,preferPlacement:B="top-center",disabled:V,dangerouslySetTooltipZIndex:Z}=A,Y=p(A,["children","text","as","icon","preferPlacement","disabled","dangerouslySetTooltipZIndex"]);const{layerProps:ne,triggerProps:G,transitionProps:L,renderLayer:W,shouldShow:ie}=(0,u.l)({layerOptions:{placement:B,possiblePlacements:a.includes(B)?a:d}}),ue=ne,{style:le}=ue,J=p(ue,["style"]);return V?(0,o.h)(o.Fragment,null,x):(0,o.h)(o.Fragment,null,(0,o.h)(N,S(S({},G),Y),x),ie&&W((0,o.h)(C,{transitionProps:L,tooltipProps:O(S({},J),{style:O(S({},le),{maxWidth:350,zIndex:Z||Number.MAX_SAFE_INTEGER})}),icon:F,text:I})))};function C({transitionProps:D,tooltipProps:A,icon:x,text:I}){return(0,o.h)("div",S({},A),(0,o.h)(u.x,S({},D),(0,o.h)("div",{className:c.tooltip},(0,o.h)(f.gq,{alignItems:"center",gap:8,className:c.tooltipContent},x&&(0,o.h)(o.Fragment,null,(0,o.cloneElement)(x,{size:20})," "),I))))}},86605:(z,l,e)=>{"use strict";e.d(l,{P:()=>T});var o=e(6400),f=e(71375),u=e(84040),c=Object.defineProperty,_=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,v=(w,S,O)=>S in w?c(w,S,{enumerable:!0,configurable:!0,writable:!0,value:O}):w[S]=O,y=(w,S)=>{for(var O in S||(S={}))g.call(S,O)&&v(w,O,S[O]);if(_)for(var O of _(S))E.call(S,O)&&v(w,O,S[O]);return w};function T(w){return(0,o.h)(u.hU,y({rounded:!0},w),(0,o.h)(f.Z,null))}},13833:(z,l,e)=>{"use strict";e.d(l,{xv:()=>C,Hj:()=>P,Av:()=>A,gx:()=>D});var o=e(6400),f=e(94184),u=e.n(f),c=e(19696);const _={reset:"frontend-pencraft-common-module__reset--IftZ_","color-primary":"frontend-pencraft-common-module__color-primary--YyVsd","color-secondary":"frontend-pencraft-common-module__color-secondary--XzfEj"};var g=Object.defineProperty,E=Object.defineProperties,v=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,S=(x,I,N)=>I in x?g(x,I,{enumerable:!0,configurable:!0,writable:!0,value:N}):x[I]=N,O=(x,I)=>{for(var N in I||(I={}))T.call(I,N)&&S(x,N,I[N]);if(y)for(var N of y(I))w.call(I,N)&&S(x,N,I[N]);return x},p=(x,I)=>E(x,v(I)),d=(x,I)=>{var N={};for(var F in x)T.call(x,F)&&I.indexOf(F)<0&&(N[F]=x[F]);if(x!=null&&y)for(var F of y(x))I.indexOf(F)<0&&w.call(x,F)&&(N[F]=x[F]);return N};const a=(0,c.L)("tw-font-title tw-text-h2 tw-leading-h2 tw-tracking-h2 tw-font-bold"),P=(0,c.L)("tw-text-sm tw-leading-sm tw-tracking-sm tw-font-body");function C(x){var I=x,{className:N,color:F,as:B="span"}=I,V=d(I,["className","color","as"]);return(0,o.h)(B,p(O({},V),{className:u()(N,F&&_[`color-${F}`])}))}const D="tw-font-body tw-text-sm tw-leading-sm tw-tracking-sm tw-font-semibold",A=(0,c.L)(D,C)},92271:(z,l,e)=>{"use strict";e.d(l,{z:()=>O});var o=e(6400),f=e(94184),u=e.n(f),c=e(84040),_=e(13833),g=Object.defineProperty,E=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,T=(C,D,A)=>D in C?g(C,D,{enumerable:!0,configurable:!0,writable:!0,value:A}):C[D]=A,w=(C,D)=>{for(var A in D||(D={}))v.call(D,A)&&T(C,A,D[A]);if(E)for(var A of E(D))y.call(D,A)&&T(C,A,D[A]);return C},S=(C,D)=>{var A={};for(var x in C)v.call(C,x)&&D.indexOf(x)<0&&(A[x]=C[x]);if(C!=null&&E)for(var x of E(C))D.indexOf(x)<0&&y.call(C,x)&&(A[x]=C[x]);return A};function O(C){var D=C,{className:A,variant:x,look:I="button",fill:N="outline",fixedHeight:F=!0,size:B="medium",leftIcon:V,rightIcon:Z,noPadding:Y=!1,forwardedRef:ne,children:G}=D,L=S(D,["className","variant","look","fill","fixedHeight","size","leftIcon","rightIcon","noPadding","forwardedRef","children"]);return(0,o.h)(c.kG,w({className:u()(A,"tw-cursor-pointer tw-appearance-none tw-whitespace-nowrap tw-border-0 tw-border-solid disabled:tw-cursor-not-allowed",!P.includes(I)&&"tw-bg-transparent",d.includes(I)?[`tw-relative tw-flex tw-items-center tw-justify-center tw-gap-3 ${_.gx}`,a.includes(I)&&!Y&&"tw-px-5",F||I=="round"?B==="small"?"tw-h-8":"tw-h-button":"tw-py-[10px]"]:"tw-p-0",I==="button"&&"tw-rounded",I==="round"&&["tw-rounded-full tw-px-4",V&&"tw-pl-[10px]",Z&&"tw-pr-[10px]"],I==="circle"&&["tw-justify-center tw-rounded-full",B==="small"?"tw-h-8 tw-w-8":"tw-h-button tw-w-button"],I==="text"&&`tw-inline ${p}`,I==="reset"&&`tw-inline-block ${p}`,I==="flex"&&`tw-flex ${p}`,x==="primary"?["hover:tw-opacity-80 disabled:tw-opacity-70",P.includes(I)?" tw-bg-substack-accent tw-text-substack-bg":"tw-bg-transparent tw-text-substack-accent"]:x==="themed-primary"?["hover:tw-opacity-80 disabled:tw-opacity-70",P.includes(I)?" tw-bg-pub-accent tw-text-pub-accent-inverse":"tw-bg-transparent tw-text-pub-accent"]:x==="secondary"?["tw-text-substack-secondary disabled:tw-opacity-70",P.includes(I)?N==="filled"?"tw-border tw-border-substack-detail tw-bg-substack-wash hover:tw-border-substack-tertiary hover:tw-bg-dark-primary hover:tw-text-substack-secondary":"tw-border tw-border-substack-detail tw-bg-substack-bg hover:tw-bg-substack-wash":"tw-bg-transparent"]:x==="themed-secondary"?["tw-border tw-border-pub-accent tw-bg-transparent tw-text-pub-accent hover:tw-bg-pub-detail-light disabled:tw-opacity-70"]:x==="tertiary"?["tw-text-substack-secondary disabled:tw-opacity-70",P.includes(I)&&"tw-border tw-border-substack-detail tw-bg-transparent hover:tw-bg-substack-wash"]:x==="destructive"?["hover:tw-opacity-80 disabled:tw-opacity-70",P.includes(I)?" tw-bg-error tw-text-substack-bg":" tw-bg-transparent tw-text-error"]:x==="twitter"&&["hover:tw-opacity-80 disabled:tw-opacity-70",P.includes(I)?"tw-bg-twitter tw-text-substack-bg":"tw-bg-transparent tw-text-twitter"]),ref:ne},L),V,G,Z)}const p="tw-text-[length:inherit] tw-text-[color:inherit] tw-font-[weight:inherit]",d=["button","borderless","circle","round"],a=["button","borderless"],P=["button","circle","round"]},53570:(z,l,e)=>{"use strict";e.d(l,{X:()=>a});var o=e(6400),f=e(94184),u=e.n(f),c=e(25380);const _={container:"frontend-pencraft-form-Checkbox-module__container--bnhv5",medium:"frontend-pencraft-form-Checkbox-module__medium--GlivL",small:"frontend-pencraft-form-Checkbox-module__small--KuI1R",enabled:"frontend-pencraft-form-Checkbox-module__enabled--D7Cik",unchecked:"frontend-pencraft-form-Checkbox-module__unchecked--M2ytx",error:"frontend-pencraft-form-Checkbox-module__error--_HwgQ",checked:"frontend-pencraft-form-Checkbox-module__checked--SUdWp",checkedWithTheme:"frontend-pencraft-form-Checkbox-module__checkedWithTheme--lCDJE",disabled:"frontend-pencraft-form-Checkbox-module__disabled--rM9Mk"};var g=Object.defineProperty,E=Object.defineProperties,v=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,S=(P,C,D)=>C in P?g(P,C,{enumerable:!0,configurable:!0,writable:!0,value:D}):P[C]=D,O=(P,C)=>{for(var D in C||(C={}))T.call(C,D)&&S(P,D,C[D]);if(y)for(var D of y(C))w.call(C,D)&&S(P,D,C[D]);return P},p=(P,C)=>E(P,v(C)),d=(P,C)=>{var D={};for(var A in P)T.call(P,A)&&C.indexOf(A)<0&&(D[A]=P[A]);if(P!=null&&y)for(var A of y(P))C.indexOf(A)<0&&w.call(P,A)&&(D[A]=P[A]);return D};const a=P=>{var C=P,{name:D,size:A="medium",checked:x,disabled:I=!1,error:N=!1,onChange:F,as:B="label",withTheme:V=!1}=C,Z=d(C,["name","size","checked","disabled","error","onChange","as","withTheme"]);const Y=B;return(0,o.h)(Y,{className:u()("pencraft",_.container,_[A],I?_.disabled:_.enabled,x?V?_.checkedWithTheme:_.checked:_.unchecked,N?_.error:"")},x&&(0,o.h)(c.Z,{size:A==="small"?16:24}),(0,o.h)("input",p(O({},Z),{className:"pencraft",type:"checkbox",name:D,"data-testid":D,checked:x,disabled:I,onChange:ne=>{var G,L;!I&&F(!x,p(O({},ne.target),{name:(L=(G=ne.target)==null?void 0:G.name)!=null?L:""}))}})))}},72657:(z,l,e)=>{"use strict";e.d(l,{D:()=>u});var o=e(6400),f=e(13045);const u=({errors:c})=>c?(0,o.h)(o.Fragment,null,c.map(_=>(0,o.h)(f.xv.B4,{color:"error",key:_},_))):null},69045:(z,l,e)=>{"use strict";e.d(l,{g:()=>A});var o=e(6400),f=e(98661),u=e(94184),c=e.n(u),_=e(67963),g=e(39419);const E={portalWrapper:"frontend-components-interactive_tooltip-module__portalWrapper--hh2mD",contentWrapper:"frontend-components-interactive_tooltip-module__contentWrapper--oIpj1",contentWrapperShown:"frontend-components-interactive_tooltip-module__contentWrapperShown--eG_iF"};var v=Object.defineProperty,y=(x,I,N)=>I in x?v(x,I,{enumerable:!0,configurable:!0,writable:!0,value:N}):x[I]=N,T=(x,I,N)=>(y(x,typeof I!="symbol"?I+"":I,N),N);const w=300,S=8,O=100;class p extends o.Component{constructor(I,N){super(I,N),this.cardRef=(0,o.createRef)(),this.state={isOpen:!1},this.hoverPid=null,this.closePid=null,this.wrapperRef=(0,o.createRef)(null)}onMouseEnter(){if(!this.props.disabled){if(this.closePid&&clearTimeout(this.closePid),this.setState({attachCard:!0}),this.props.delay===0){this.setIsShown(!0);return}this.hoverPid=setTimeout(()=>{this.setIsShown(!0),this.hoverPid=null},this.props.delay)}}onMouseLeave(){this.hoverPid&&clearTimeout(this.hoverPid),this.closePid=setTimeout(()=>{this.setIsShown(!1)},O)}setIsShown(I){this.setState({isOpen:I,attachCard:I})}onClick(I){I.stopPropagation()}render({content:I,preferPositionLeft:N,className:F,children:B},{attachCard:V,isOpen:Z}){var Y,ne,G;let L={},W=!1;if(V&&((Y=this.wrapperRef)!=null&&Y.current)){const{top:ie,left:ue}=this.wrapperRef.current.getBoundingClientRect(),{height:le,width:J}=(G=(ne=this.cardRef.current)==null?void 0:ne.getBoundingClientRect())!=null?G:{};W=N&&ue-J>0,W?L={top:ie-S-le,left:ue-J-S,"max-width":w}:L={top:ie-S-le,"max-width":w,left:ue}}return(0,o.h)("div",{className:c()(E.portalWrapper,F),onMouseEnter:()=>this.onMouseEnter(),onMouseLeave:()=>this.onMouseLeave(),onClick:ie=>this.onClick(ie),ref:this.wrapperRef},typeof B=="function"?B({}):B,V&&(0,f.createPortal)((0,o.h)("div",{className:c()(E.contentWrapper,{[E.contentWrapperShown]:Z,"animate-opacity":!(0,g.isSafari)(),"position-left":W}),ref:this.cardRef,style:L,onMouseEnter:()=>this.onMouseEnter(),onMouseLeave:()=>this.onMouseLeave()},I),document.body))}}T(p,"defaultProps",{delay:O}),T(p,"contextType",_.St);const d=p,a={learnMoreChip:"frontend-editor-post-settings-help_tooltip-module__learnMoreChip--VsAGv"},P=({content:x})=>(0,o.h)(d,{content:x},(0,o.h)("div",{className:a.learnMoreChip},"?"));var C=e(13045),D=e(72657);const A=(0,f.forwardRef)(({action:x,children:I,className:N,errors:F,helpText:B,details:V,label:Z,paddingBottom:Y,paddingTop:ne,wrapWithLabel:G},L)=>(0,o.h)(C.tu,{ref:L,alignItems:"stretch",className:N,gap:8,paddingBottom:Y,paddingTop:ne},(0,o.h)(C.tu,{alignItems:"stretch",gap:8,as:G?"label":"div"},Z&&(0,o.h)(C.gq,{gap:8,alignItems:"center"},(0,o.h)(C.xv.B4,{weight:"semibold",as:G?"div":"label",color:"primary"},Z),B&&(0,o.h)(P,{content:B}),x&&(0,o.h)(C.gq,{flex:"grow",justifyContent:"end"},x)),(0,o.h)("div",{className:c()({"has-error":F})},I)),V&&!Array.isArray(V)&&(0,o.h)(C.xv.Detail,null,V),V&&Array.isArray(V)&&V.length>0&&(0,o.h)(C.tu,{gap:4},V.map(W=>(0,o.h)(C.xv.Detail,null,W))),(0,o.h)(D.D,{errors:F})))},92958:(z,l,e)=>{"use strict";e.d(l,{Y:()=>d});var o=e(6400),f=e(94184),u=e.n(f);const c={container:"frontend-pencraft-form-Radio-module__container--InUVp",radio:"frontend-pencraft-form-Radio-module__radio--U8dmP"};var _=Object.defineProperty,g=Object.defineProperties,E=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,w=(a,P,C)=>P in a?_(a,P,{enumerable:!0,configurable:!0,writable:!0,value:C}):a[P]=C,S=(a,P)=>{for(var C in P||(P={}))y.call(P,C)&&w(a,C,P[C]);if(v)for(var C of v(P))T.call(P,C)&&w(a,C,P[C]);return a},O=(a,P)=>g(a,E(P)),p=(a,P)=>{var C={};for(var D in a)y.call(a,D)&&P.indexOf(D)<0&&(C[D]=a[D]);if(a!=null&&v)for(var D of v(a))P.indexOf(D)<0&&T.call(a,D)&&(C[D]=a[D]);return C};const d=a=>{var P=p(a,[]);return(0,o.h)("div",{className:u()(c.container)},(0,o.h)("input",O(S({},P),{type:"radio"})),(0,o.h)("span",{className:c.radio}))}},2019:(z,l,e)=>{"use strict";e.d(l,{g:()=>E});var o=e(6400),f=e(30396),u=e(51126),c=e(43887),_=e(69045),g=e(92958);const E=({label:v,name:y,options:T,paddingBottom:w,paddingTop:S,size:O="medium",value:p,onChange:d,horizontal:a})=>{const P=(0,f.I4)(C=>{d(C.target.value)},[d]);return(0,o.h)(_.g,{label:v,paddingBottom:w,paddingTop:S},(0,o.h)(u.gq,{gap:O==="medium"?8:16,direction:a?"row":"column"},T.map(({value:C,label:D,disabled:A,track:x,testid:I})=>(0,o.h)(u.gq,{as:"label",gap:8,alignItems:"center",paddingLeft:4},(0,o.h)(g.Y,{checked:C===p,"data-testid":I,"data-track-input":x,disabled:A,name:y,value:C,onClick:P}),O==="medium"?(0,o.h)(c.xv.B4,{as:"span"},D):(0,o.h)(c.xv.B3,null,D)))))}},34394:(z,l,e)=>{"use strict";e.d(l,{o:()=>a});var o=e(6400),f=e(98661),u=e(94184),c=e.n(u),_=e(51220),g=Object.defineProperty,E=Object.defineProperties,v=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,S=(P,C,D)=>C in P?g(P,C,{enumerable:!0,configurable:!0,writable:!0,value:D}):P[C]=D,O=(P,C)=>{for(var D in C||(C={}))T.call(C,D)&&S(P,D,C[D]);if(y)for(var D of y(C))w.call(C,D)&&S(P,D,C[D]);return P},p=(P,C)=>E(P,v(C)),d=(P,C)=>{var D={};for(var A in P)T.call(P,A)&&C.indexOf(A)<0&&(D[A]=P[A]);if(P!=null&&y)for(var A of y(P))C.indexOf(A)<0&&w.call(P,A)&&(D[A]=P[A]);return D};const a=(0,f.forwardRef)((P,C)=>{var D=P,{className:A,error:x=!1,type:I="text",width:N,background:F,font:B}=D,V=d(D,["className","error","type","width","background","font"]);return(0,o.h)("input",p(O({},V),{className:c()(A,_.Z.input,{[_.Z.error]:x},B&&_.Z[`font-${B}`]),style:{width:N,background:F},type:I,ref:C}))})},27885:(z,l,e)=>{"use strict";e.d(l,{g:()=>a});var o=e(6400),f=e(98661),u=e(94184),c=e.n(u),_=e(51220),g=Object.defineProperty,E=Object.defineProperties,v=Object.getOwnPropertyDescriptors,y=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,S=(P,C,D)=>C in P?g(P,C,{enumerable:!0,configurable:!0,writable:!0,value:D}):P[C]=D,O=(P,C)=>{for(var D in C||(C={}))T.call(C,D)&&S(P,D,C[D]);if(y)for(var D of y(C))w.call(C,D)&&S(P,D,C[D]);return P},p=(P,C)=>E(P,v(C)),d=(P,C)=>{var D={};for(var A in P)T.call(P,A)&&C.indexOf(A)<0&&(D[A]=P[A]);if(P!=null&&y)for(var A of y(P))C.indexOf(A)<0&&w.call(P,A)&&(D[A]=P[A]);return D};const a=(0,f.forwardRef)((P,C)=>{var D=P,{className:A,error:x=!1,font:I}=D,N=d(D,["className","error","font"]);return(0,o.h)("textarea",p(O({ref:C,className:c()(A,_.Z.input,_.Z.textarea,{[_.Z.error]:x},I&&_.Z[`font-${I}`])},N),{type:"text"}))})},89581:(z,l,e)=>{"use strict";e.d(l,{x:()=>p});var o=e(30396),f=e(62372);let u=0;function c(d="",a=[]){return(0,o.Ye)(()=>(u++,u=u>Number.MAX_SAFE_INTEGER?1:u,`${d}${u}`),a)}var _=Object.defineProperty,g=Object.defineProperties,E=Object.getOwnPropertyDescriptors,v=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,w=(d,a,P)=>a in d?_(d,a,{enumerable:!0,configurable:!0,writable:!0,value:P}):d[a]=P,S=(d,a)=>{for(var P in a||(a={}))y.call(a,P)&&w(d,P,a[P]);if(v)for(var P of v(a))T.call(a,P)&&w(d,P,a[P]);return d},O=(d,a)=>g(d,E(a));const p=({layerOptions:d,hideOnScroll:a}={})=>{const[P,C]=(0,o.eJ)(!1);(0,o.d4)(()=>{if(a){const F=()=>{requestAnimationFrame(()=>{open&&a&&C(!1)})};return window.addEventListener("scroll",F,!0),()=>{window.removeEventListener("scroll",F,!0)}}},[a]);const{triggerProps:D,layerProps:A,renderLayer:x}=(0,f.sJ)(S({isOpen:P,placement:"bottom-center",preferY:"bottom",triggerOffset:10,onOutsideClick:()=>C(!1)},d)),I=c("trigger"),N=c("dialog");return{triggerProps:O(S({},D),{id:I,"aria-expanded":P,"aria-haspopup":"dialog","aria-controls":N}),layerProps:O(S({},A),{id:N,role:"dialog",tabIndex:0,"aria-labeledby":I}),renderLayer:x,isOpen:P,setOpen:C}}},25666:(z,l,e)=>{"use strict";e.d(l,{l:()=>w,x:()=>S});var o=e(6400),f=e(30396),u=e(5285),c=e(62372),_=Object.defineProperty,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(O,p,d)=>p in O?_(O,p,{enumerable:!0,configurable:!0,writable:!0,value:d}):O[p]=d,T=(O,p)=>{for(var d in p||(p={}))E.call(p,d)&&y(O,d,p[d]);if(g)for(var d of g(p))v.call(p,d)&&y(O,d,p[d]);return O};function w({hoverOptions:O,layerOptions:p}={}){const[d,a]=(0,f.eJ)(!1),[P,C]=(0,c.XI)(T({delayEnter:1e3,delayLeave:500},O)),{triggerProps:D,layerProps:A,renderLayer:x}=(0,c.sJ)(T({isOpen:P,auto:!0,triggerOffset:8},p));return{layerProps:A,triggerProps:T(T({},D),C),transitionProps:{show:P,beforeEnter:()=>a(!0),afterLeave:()=>a(!1)},renderLayer:x,shouldShow:P||d}}function S(O){return(0,o.h)(u.u,T({appear:!0,enter:"tw-transition-all tw-ease-smooth tw-duration-fast tw-transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-2",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-ease-smooth tw-duration-fast tw-transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-2"},O))}},30058:(z,l,e)=>{"use strict";e.d(l,{e:()=>c});var o=e(6400),f=e(94184),u=e.n(f);const c=({className:_,children:g})=>(0,o.h)("div",{className:u()("tailwind-preflight",_)},g)},96427:(z,l,e)=>{"use strict";e.d(l,{P:()=>D});var o=e(6400),f=e(94184),u=e.n(f),c=e(99758),_=e(84040),g=e(51126),E=e(76235),v=e(43887);const y={select:"frontend-pencraft-unstable-Select-module__select--mj1yX",selectedOption:"frontend-pencraft-unstable-Select-module__selectedOption--l6gJr"};var T=Object.defineProperty,w=Object.defineProperties,S=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,a=(x,I,N)=>I in x?T(x,I,{enumerable:!0,configurable:!0,writable:!0,value:N}):x[I]=N,P=(x,I)=>{for(var N in I||(I={}))p.call(I,N)&&a(x,N,I[N]);if(O)for(var N of O(I))d.call(I,N)&&a(x,N,I[N]);return x},C=(x,I)=>w(x,S(I));const D=({children:x,className:I,name:N,value:F,onChange:B,disabled:V=!1})=>{var Z;const Y=x.find(ne=>ne.props.value===F);return Y||console.error("Select: value not found in children. value:",F,"options:",x.map(ne=>ne.props.value)),(0,o.h)(g.gq,{className:u()(y.select,I),alignItems:"center",justifyContent:"space-between",paddingX:16,paddingBottom:8,paddingTop:8,gap:8},(0,o.h)(v.xv,{className:u()(y.selectedOption,{[y.disabled]:V}),font:"text",size:14,color:V?"secondary":"primary"},(Z=Y==null?void 0:Y.props.children)!=null?Z:""),(0,o.h)(c.Z,null),(0,o.h)("select",{name:N,value:F,onChange:ne=>{var G;B(ne.target.value,C(P({},ne.target),{name:(G=ne.target.name)!=null?G:""}))},disabled:V},x))};function A({value:x,options:I,onChange:N,fill:F,disabled:B,className:V,priority:Z}){var Y,ne;return h(Menu,{className:V,trigger:h(Button,{priority:Z!=null?Z:"secondary",fill:F,disabled:B,rightIcon:h(ChevronDown,{size:20}),"data-testid":"stock-select"},(ne=(Y=I.find(G=>G.value===x))==null?void 0:Y.label)!=null?ne:"Select")},I.map(G=>h(MenuItem,{onClick:()=>N(G.value)},G.label)))}},95297:(z,l,e)=>{"use strict";e.d(l,{s:()=>Z,o:()=>Y});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),_=e(62372),g=e(51736),E=e(47052),v=e(3258),y=e(51126),T=e(43887),w=e(92630);const S={inlineContainer:"frontend-pencraft-unstable-UserBadge-module__inlineContainer--_nMrK",container:"frontend-pencraft-unstable-UserBadge-module__container--ADexK",popover:"frontend-pencraft-unstable-UserBadge-module__popover--X9HK4"};var O=Object.defineProperty,p=Object.defineProperties,d=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,D=(ne,G,L)=>G in ne?O(ne,G,{enumerable:!0,configurable:!0,writable:!0,value:L}):ne[G]=L,A=(ne,G)=>{for(var L in G||(G={}))P.call(G,L)&&D(ne,L,G[L]);if(a)for(var L of a(G))C.call(G,L)&&D(ne,L,G[L]);return ne},x=(ne,G)=>p(ne,d(G));const I=100,N={sm:16,md:20,lg:24},F={100:E.Z,1e3:g.Z,1e4:g.Z},B={1e4:{fill:"var(--color-accent-purple)"}},V={100:"Hundreds",1e3:"Thousands",1e4:"Tens of thousands"},Z=({className:ne,isStatic:G=!1,inline:L=!1,size:W="lg",tier:ie,tooltipOnHover:ue=!1,userId:le})=>{const[J,te]=(0,_.XI)({delayEnter:I,delayLeave:I,hideOnScroll:!0}),se=J&&!ue,{triggerProps:ee,layerProps:ae,renderLayer:ce}=(0,_.sJ)({isOpen:se,overflowContainer:!1,auto:!0,snap:!0,possiblePlacements:["top-center","bottom-center","top-start","bottom-start","top-end","bottom-end"],placement:"top-center",containerOffset:10,triggerOffset:8}),fe=ae.style;(0,f.d4)(()=>{J&&(0,v.j)(v.FP.BESTSELLER_INFO_SHOWN,{tier:ie,form:ue?"tooltip":"popover",hovered_user_id:le})},[J,ie,ue,le]);const Ee=N[W];if(!ie)return null;const de=F[ie.toString()],_e=B[ie.toString()],ve=c()(ne,L?S.inlineContainer:S.container);return G&&ie?(0,o.h)("div",{className:ve},(0,o.h)(de,x(A({},_e),{height:Ee}))):(0,o.h)("div",x(A(A({},te),ee),{className:ve}),(0,o.h)(w.u,{text:`${V[ie.toString()]} of paid subscribers`,dangerouslySetTooltipZIndex:103,disabled:!ue},(0,o.h)(de,x(A({},_e),{height:Ee}))),se&&ce((0,o.h)("div",x(A(A({},ae),te),{style:fe,className:S.popover}),(0,o.h)(y.tu,{alignItems:"center",gap:16,padding:16,paddingBottom:32},(0,o.h)(de,x(A({},_e),{height:40})),(0,o.h)(y.tu,{alignItems:"center",gap:4},(0,o.h)(T.xv.H3,null,"Bestseller"),(0,o.h)(T.xv.B4,{align:"center"},V[ie.toString()]," of paid subscribers"))))))},Y=({tier:ne})=>{if(!ne)return null;const G=F[ne.toString()],L=B[ne.toString()];return(0,o.h)(G,x(A({},L),{height:N.sm}))}},9686:(z,l,e)=>{"use strict";e.d(l,{I:()=>p});var o=e(6400),f=e(30396),u=e(86804),c=e(46209);function _(){const x=(0,f.sO)();return(0,f.d4)(()=>{var I;(I=x.current)==null||I.focus()},[]),x}var g=e(63503),E=e(8479),v=e(39419),y=e(5131),T=e(19696),w=e(34518),S=e(33510),O=(x,I,N)=>new Promise((F,B)=>{var V=ne=>{try{Y(N.next(ne))}catch(G){B(G)}},Z=ne=>{try{Y(N.throw(ne))}catch(G){B(G)}},Y=ne=>ne.done?F(ne.value):Promise.resolve(ne.value).then(V,Z);Y((N=N.apply(x,I)).next())});function p({onCancel:x,onSuccess:I,onSignup:N,noCloseButton:F,noExit:B}){const[V,Z]=(0,f.eJ)("email"),[Y,ne]=(0,f.eJ)(""),G=()=>{Z("mfa")};return(0,o.h)(w.Yy,{className:"",isPopup:!0,onClose:x,noCloseButton:F,noExit:B},(0,o.h)("div",{className:"simple-modal-pad tw-flex tw-flex-col tw-gap-4"},(0,o.h)(c.Z,{className:"reader-nav-logo modal-header-icon"}),(0,o.h)(S.y,null,"Log in to Substack"),V==="email"?(0,o.h)(a,{onUsePassword:L=>{ne(L),Z("password")},onSuccess:L=>{ne(L),Z("poll")}}):V==="poll"?(0,o.h)(P,{email:Y,onSuccess:I,onChangeMode:Z}):V==="mfa"?(0,o.h)(C,{onSuccess:I}):(0,o.h)(d,{email:Y,onMfa:G,onSuccess:I})),N&&(0,o.h)(S.Hj,{className:"simple-modal-footer tw-flex tw-h-14 tw-items-center tw-justify-center"},(0,o.h)("span",null,"Don't have an account yet?"," ",(0,o.h)(y.zx,{variant:"primary",look:"text",onClick:N},"Sign up"))))}function d({email:x,onSuccess:I,onMfa:N}){const F=(0,E.ib)({pathname:"/api/v1/login",method:"post"}),B=(0,f.sO)(),V=Y=>O(this,null,function*(){if(Y.preventDefault(),F.isLoading)return;const ne=A(Y.currentTarget);B.current&&(ne.captcha_response=B.current.getResponse());const G=yield F.refetch({json:ne});G instanceof Error||(G.mfa_required?N():I())}),Z=_();return(0,o.h)(o.Fragment,null,F.error instanceof E.kp&&F.error.response.status===401&&(0,o.h)(u.Z,{ref:B}),(0,o.h)(D,{onSubmit:V,disabled:F.isLoading},(0,o.h)(S.II,{type:"email",name:"email",placeholder:"Your email",defaultValue:x}),(0,o.h)(S.II,{type:"password",name:"password",placeholder:"Your password",ref:Z}),F.error&&(0,o.h)(S.Xq,null,(0,v.getNetworkErrorMessage)(F.error)),(0,o.h)(y.zx,{type:"submit",variant:"primary"},F.isLoading?"Signing in...":"Sign in")))}function a({onUsePassword:x,onSuccess:I}){const N=(0,E.ib)({pathname:"/api/v1/email-login",method:"POST"}),F=V=>{if(V.preventDefault(),N.isLoading)return;const Z=V.currentTarget.email.value;N.refetch({json:{email:Z,redirect:location.pathname}}).then(Y=>{Y instanceof E.kp||I(Z)})},B=_();return(0,o.h)(D,{onSubmit:F,disabled:N.isLoading},(0,o.h)(S.II,{type:"email",name:"email",placeholder:"Your email",ref:B}),(0,o.h)("div",{className:"tw-flex tw-flex-col tw-gap-2"},(0,o.h)(y.zx,{type:"submit",variant:"primary"},N.isLoading?"Logging in...":"Log in with email"),(0,o.h)(y.zx,{variant:"secondary",look:"borderless",onClick:()=>{var V;return x((V=B.current)==null?void 0:V.value)}},"or log in with password")))}function P({email:x,onSuccess:I,onChangeMode:N}){return(0,g.Z)(()=>{fetch("/api/v1/am_i_logged_in").then(F=>O(this,null,function*(){(yield F.json()).loggedIn&&I()}))},5e3),(0,o.h)("div",{className:"tw-flex tw-flex-col tw-gap-8"},(0,o.h)("b",null,"Check your email"),(0,o.h)("div",null,"If you have an account with us, we\u2019ve sent an email to ",(0,o.h)("b",null,x)," ","with a link that you can use to sign in."),(0,o.h)("div",null,"You can also"," ",(0,o.h)(y.zx,{look:"text",onClick:()=>N("email")},(0,o.h)("b",null,"try again"))," ","or"," ",(0,o.h)(y.zx,{look:"text",onClick:()=>N("password")},(0,o.h)("b",null,"sign in using your password")),"."))}function C({onSuccess:x}){const I=(0,E.ib)({pathname:"/api/v1/mfa-login",method:"Post"}),N=F=>{F.preventDefault(),!I.isLoading&&I.refetch({json:A(F.currentTarget)}).then(B=>{B instanceof E.kp||x()})};return(0,o.h)(D,{onSubmit:N,disabled:I.isLoading},(0,o.h)(S.II,{type:"password",name:"code",placeholder:"Your MFA code"}),I.error&&(0,o.h)(S.Xq,null,(0,v.getNetworkErrorMessage)(I.error)),(0,o.h)(y.zx,{type:"submit",variant:"primary"},I.isLoading?"Signing in...":"Sign in"))}const D=(0,T.L)("tw-flex tw-flex-col tw-gap-3","form");function A(x){return Object.fromEntries(Array.from(x.elements).filter(I=>I instanceof HTMLInputElement||I instanceof HTMLTextAreaElement).map(I=>[I.name,I.value]))}},10186:(z,l,e)=>{"use strict";e.d(l,{qE:()=>F,BG:()=>V,YY:()=>Z});var o=e(6400),f=e(94184),u=e.n(f),c=e(40353),_=e(7370),g=e(85362),E=e(80332),v=e(13045),y=e(15045),T=e(51126),w=e(33510),S=e(68262);const O={avatarContainer:"frontend-reader2-Avatar-module__avatarContainer--Oparw",avatar:"frontend-reader2-Avatar-module__avatar--nE_uY",badge:"frontend-reader2-Avatar-module__badge--cBf0X",square:"frontend-reader2-Avatar-module__square--tF2NV",circle:"frontend-reader2-Avatar-module__circle--wPyNv",subscriptionBadge:"frontend-reader2-Avatar-module__subscriptionBadge--f5bhp"};var p=Object.defineProperty,d=Object.defineProperties,a=Object.getOwnPropertyDescriptors,P=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,A=(Y,ne,G)=>ne in Y?p(Y,ne,{enumerable:!0,configurable:!0,writable:!0,value:G}):Y[ne]=G,x=(Y,ne)=>{for(var G in ne||(ne={}))C.call(ne,G)&&A(Y,G,ne[G]);if(P)for(var G of P(ne))D.call(ne,G)&&A(Y,G,ne[G]);return Y},I=(Y,ne)=>d(Y,a(ne)),N=(Y,ne)=>{var G={};for(var L in Y)C.call(Y,L)&&ne.indexOf(L)<0&&(G[L]=Y[L]);if(Y!=null&&P)for(var L of P(Y))ne.indexOf(L)<0&&D.call(Y,L)&&(G[L]=Y[L]);return G};function F({user:Y,size:ne,className:G}){const L=(0,y.getUserPhotoUrl)(Y);return(0,o.h)(w.t5,{className:u()(O.avatar,G),src:L,size:ne})}function B({user:Y,size:ne,className:G,badge:L,badgeShape:W="square",showProfileHovercard:ie}){return(0,y.getUserPhotoUrl)(Y)?(0,o.h)(T.gq,{className:O.avatarContainer},(0,o.h)(E.Ct,{subject:x({id:0,name:""},Y),dontStopPropagation:!1,disabled:!ie},(0,o.h)(F,{user:Y,size:ne,className:G})),L&&(0,o.h)("div",{className:u()(O.badge,W&&O[W])},L)):null}function V(Y){var ne=Y,{pub:G}=ne,L=N(ne,["pub"]);return(0,o.h)(B,I(x({},L),{badge:G&&(0,o.h)(S.F,{pub:G,size:16})}))}function Z(Y){var ne=Y,{subscriptionType:G}=ne,L=N(ne,["subscriptionType"]);let W=null,ie;return G==="author"?(W=(0,o.h)(c.Z,{height:16,className:O.subscriptionBadge}),ie="Author"):G==="founding"?(W=(0,o.h)(_.Z,{height:16,className:O.subscriptionBadge}),ie="Founding member"):G==="paid"&&(W=(0,o.h)(g.Z,{height:16,className:O.subscriptionBadge}),ie="Paid subscriber"),W=W&&ie?(0,o.h)(v.u,{text:ie},W):null,(0,o.h)(B,I(x({},L),{badge:W,badgeShape:"circle"}))}},5131:(z,l,e)=>{"use strict";e.d(l,{zx:()=>O});var o=e(6400),f=e(94184),u=e.n(f),c=e(7922),_=e(19696),g=Object.defineProperty,E=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,T=(a,P,C)=>P in a?g(a,P,{enumerable:!0,configurable:!0,writable:!0,value:C}):a[P]=C,w=(a,P)=>{for(var C in P||(P={}))v.call(P,C)&&T(a,C,P[C]);if(E)for(var C of E(P))y.call(P,C)&&T(a,C,P[C]);return a},S=(a,P)=>{var C={};for(var D in a)v.call(a,D)&&P.indexOf(D)<0&&(C[D]=a[D]);if(a!=null&&E)for(var D of E(a))P.indexOf(D)<0&&y.call(a,D)&&(C[D]=a[D]);return C};function O(a){var P=a,{className:C,variant:D,rounded:A,look:x="button",fixedHeight:I=!0,size:N="medium",hasLeftIcon:F,hasRightIcon:B,forwardedRef:V}=P,Z=S(P,["className","variant","rounded","look","fixedHeight","size","hasLeftIcon","hasRightIcon","forwardedRef"]);return(0,o.h)(c.k,w({className:u()("reader2-button",C,`reader2-button-${x}`,I&&"fixedHeight",D&&(["text","borderless"].includes(x)?`reader2-button-text-${D}`:`reader2-button-${D}`),(A||x==="circle")&&"reader2-button-rounded",`reader2-button-${N}`,F&&"hasLeftIcon",B&&"hasRightIcon"),ref:V},Z))}function p(a){var P=a,{isActive:C=!1,isSmall:D=!1,icon:A,children:x}=P,I=S(P,["isActive","isSmall","icon","children"]);return h("button",w({className:classnames("reader2-button-reset reader2-tab",C&&"active",D&&"small",A?"hasIcon":null)},I),A,x)}const d=(0,_.L)("reader2-button-row")},55886:(z,l,e)=>{"use strict";e.d(l,{t:()=>E});var o=e(6400),f=e(79786),u=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable,g=(v,y)=>{var T={};for(var w in v)c.call(v,w)&&y.indexOf(w)<0&&(T[w]=v[w]);if(v!=null&&u)for(var w of u(v))y.indexOf(w)<0&&_.call(v,w)&&(T[w]=v[w]);return T};function E(v){var y=v,{className:T,src:w,noStyle:S=!1,loading:O,onError:p}=y,d=g(y,["className","src","noStyle","loading","onError"]);let a,P;return"size"in d?(a=d.size,P=d.size):(a=d.width,P=d.height),(0,o.h)(f.e,{src:w,maxWidth:a*2,className:T,imageProps:{height:P*2,crop:"fill"},style:S?void 0:{width:a,height:P},loading:O,onError:p})}},15822:(z,l,e)=>{"use strict";e.d(l,{S:()=>O});var o=e(6400),f=e(94184),u=e.n(f),c=e(51126);const _={container:"frontend-reader2-DrunkSpinner-module__container--w5XSA",drunkSpinner:"frontend-reader2-DrunkSpinner-module__drunkSpinner--vYrDM",drunkSpin:"frontend-reader2-DrunkSpinner-module__drunkSpin--Kspcg"};var g=Object.defineProperty,E=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,T=(p,d,a)=>d in p?g(p,d,{enumerable:!0,configurable:!0,writable:!0,value:a}):p[d]=a,w=(p,d)=>{for(var a in d||(d={}))v.call(d,a)&&T(p,a,d[a]);if(E)for(var a of E(d))y.call(d,a)&&T(p,a,d[a]);return p},S=(p,d)=>{var a={};for(var P in p)v.call(p,P)&&d.indexOf(P)<0&&(a[P]=p[P]);if(p!=null&&E)for(var P of E(p))d.indexOf(P)<0&&y.call(p,P)&&(a[P]=p[P]);return a};function O(p){var d=p,{className:a}=d,P=S(d,["className"]);return(0,o.h)(c.hs,w({justifyContent:"center",alignItems:"center",className:u()(_.container,a)},P),(0,o.h)("div",{className:_.drunkSpinner}))}},54520:(z,l,e)=>{"use strict";e.d(l,{SV:()=>T});var o=e(6400),f=e(30396),u=e(20042),c=e(79786),_=e(8479),g=e(11533),E=e(51126),v=e(43887);function y(){const{result:S}=(0,_.Wf)(()=>Promise.all([e.e(918),e.e(486)]).then(e.bind(e,71486)).then(O=>O.Sentry),[],{auto:!0});return(0,f.cO)(O=>{console.error(O),S&&S.captureException(O)})}function T({children:S}){const[O,p]=y(),d=(0,f.sO)((0,u.getCurrentUrl)());return(0,g.j)(a=>{O&&d.current!==a&&p(),d.current=a},[]),O?(0,o.h)(w,null):S}function w(){return(0,o.h)(E.tu,{flex:"grow",justifyContent:"center",alignItems:"center",gap:32,padding:20},(0,o.h)(c.e,{src:"/img/reader/toad.png",maxWidth:200}),(0,o.h)(E.tu,{gap:8},(0,o.h)(v.xv.H3,{weight:"semibold",align:"center"},"Oh no\u2014this page croaked."),(0,o.h)(v.xv.B3,{color:"secondary",align:"center"},"Try again, or hop to another page.")))}},55337:(z,l,e)=>{"use strict";e.d(l,{KL:()=>Oe,rS:()=>De,au:()=>le,E$:()=>ce,dg:()=>_e,Zx:()=>ye});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),_=e(98913),g=e(52066),E=e(92592),v=e(81470),y=e(15045),T=e(70444),w=e(20501),S=e(71765),O=e(91704),p=e(80332),d=e(4190),a=e(58718),P=e(63270),C=e(67963),D=e(62017),A=e(3258),x=e(66141),I=e(16527),N=e(8479),F=e(6742),B=e(39419),V=e(13045),Z=e(86605),Y=e(48960),ne=e(10186),G=e(41474),L=e(68493),W=e(33510),ie=e(70762);const ue={personYouMayKnow:"frontend-reader2-FeedSidebar-module__personYouMayKnow--xfbDV",personYouMayKnowFeed:"frontend-reader2-FeedSidebar-module__personYouMayKnowFeed--NDSjT",personYouMayKnowFeedButton:"frontend-reader2-FeedSidebar-module__personYouMayKnowFeedButton--qUPdh",personYouMayKnowImage:"frontend-reader2-FeedSidebar-module__personYouMayKnowImage--z1fjJ",shareProfile:"frontend-reader2-FeedSidebar-module__shareProfile--3xYv4",fbConnect:"frontend-reader2-FeedSidebar-module__fbConnect--Omv4o",avatarContainer:"frontend-reader2-FeedSidebar-module__avatarContainer--R4y26",close:"frontend-reader2-FeedSidebar-module__close--XScse",badge:"frontend-reader2-FeedSidebar-module__badge--S42Dn",badgeIcon:"frontend-reader2-FeedSidebar-module__badgeIcon--ElLpK"},le="inviteFriendsNuxDismissed",J="sidebarInviteFriendsNuxDismissed",te="sidebarFacebookNuxDismissed",se=60*60*24*7;function ee(){const Be=useSiteConfigs(),{user:We}=useUserContext(),[Ke]=useDismissed(J),[Xe=Ke]=useDismissed(te,se),ct=Be.getConfigFor("twitter_connect_flows_enabled")&&We&&!We.has_linked_twitter,Se=!Xe&&!!Be.getConfigFor("facebook_connect")&&We&&!We.has_linked_facebook,Qe=We&&!Ke&&!Se;return h(Sidebar,null,h(SidebarBody,{gap:0},Qe&&h(Fragment,null,h(ye,{utmSource:"feed_sidebar"}),h(Divider,{paddingX:8,paddingY:8})),ct&&h(Fragment,null,h(De,null),h(Divider,{paddingX:8,paddingY:8})),Se&&h(Fragment,null,h(Oe,null),h(Divider,{paddingX:8,paddingY:8})),h(ae,null)))}function ae(){var Be,We;const Ke=useFetch({pathname:"/api/v1/reader/feed/sidebar-user-suggestions",auto:!0});return!Ke.isLoading&&!((Be=Ke.result)!=null&&Be.suggestions.length)?null:h(FlexColumn,{gap:8},h(SidebarHeader,null,h(Text.H4,null,h(TextLink,{onClick:Xe=>routeClick(Xe,getFeedPeopleYouMayKnowUrl())},"Suggestions")),h(Button,{size:"small",priority:"secondary",fill:"empty",onClick:Xe=>routeClick(Xe,getFeedPeopleYouMayKnowUrl())},"See all")),h(FlexColumn,{gap:8},Ke.isLoading?times(8,()=>h(Ee,null)):(We=Ke.result)==null?void 0:We.suggestions.map(Xe=>h(ce,{feedUserSuggestion:Xe,surface:FeedSurface.FeedSidebar,hoverCardPlacement:"left-center"}))),h(Divider,{paddingX:8,paddingY:8}))}function ce({feedUserSuggestion:Be,surface:We,hoverCardPlacement:Ke}){var Xe,ct,Se,Qe;const{exposeExperiment:ge}=(0,d.jc)(),Fe=(0,f.sO)(null),{getConfigFor:Ne}=(0,P.xR)(),lt=Ne("enable_notes_following"),Et=(0,ie._)({user:Be.user,publicationId:(Xe=Be.publication)==null?void 0:Xe.id,publicationName:(ct=Be.publication)==null?void 0:ct.name,allowSecondaryPublications:!1,allowPresubscribe:!0,subscriptionSource:We===v.Uo.Feed?"notes_feed_item_suggestions":We===v.Uo.Suggestions?"notes_full_page_suggestions":"notes_sidebar_suggestions"}),jt=(0,a.Sv)(Be.user,We),en=We===v.Uo.Feed?"pymk_notes_feed_item":We===v.Uo.Suggestions?"pymk_notes_suggestions_page":"pymk_notes_sidebar";(0,F.UM)(Fe,()=>{(0,G.MJ)(Be,We),ge("people_you_may_know_algorithm_7")});const[vt,Re]=(0,f.eJ)(!1),He=Je=>{vt||(Re(!0),(0,G.CD)(Be,We,Je))},ot=Je=>{He("user-suggestion"),Je.defaultPrevented||(0,B.redirect)((0,w.getReaderProfileUrl)(Be.user,{utm_source:en}),{event:Je})},me=Je=>{Je.preventDefault(),He("user-suggestion-cta"),lt?jt.toggle():Et.isSubscribed?Et.unsubscribe(Je):Et.subscribe(Je)};if(!lt&&!Et.showCta)return null;const ke=lt?jt.isFollowing?"Following":"Follow":Et.isSubscribed?"Subscribed":"Subscribe",je=(lt?jt.isFollowing:Et.isSubscribed)?"secondary":"primary";return We===v.Uo.Feed?(0,o.h)(V.tu,{ref:Fe,className:c()(ue.personYouMayKnow,ue.personYouMayKnowFeed),border:"detail",alignItems:"center",bg:"elevated",padding:12,gap:12,radius:12,onClick:ot},(0,o.h)(ne.BG,{user:Be.user,pub:Be.publication,size:64}),(0,o.h)(V.tu,{minWidth:0,flex:"grow",alignSelf:"stretch"},(0,o.h)(V.xv.B4,{align:"center",weight:"bold",ellipsis:!0},Be.user.name),(0,o.h)(V.xv.B4,{align:"center",color:"secondary",ellipsis:!0},Be.source==="twitter"?"From Twitter":Be.publication?`${Be.publication.name}`:(Se=Be.user.bio)!=null?Se:"")),(0,o.h)(V.zx,{size:"small",priority:je,fill:"outline",onClick:me,grow:!0},ke)):(0,o.h)(fe,{user:Be.user,source:en,publication:Be.publication,label:Be.source==="twitter"?"From Twitter":Be.publication?`Writes ${Be.publication.name}`:(Qe=Be.user.bio)!=null?Qe:"",hoverCardPlacement:Ke,onClick:ot,cta:(0,o.h)(V.zx,{size:"small",priority:je,fill:We===v.Uo.Suggestions?"outline":"empty",onClick:me},ke),boxRef:Fe})}function fe({user:Be,publication:We,label:Ke,hoverCardPlacement:Xe,onClick:ct,cta:Se,source:Qe,boxRef:ge}){const Fe=(0,C.aF)(),Ne=Be&&Be.id===(Fe==null?void 0:Fe.id);return(0,o.h)(V.hs,{ref:ge,className:ue.personYouMayKnow,alignItems:"center",justifyContent:"space-between",padding:8,gap:12,onClick:ct,radius:12},(0,o.h)(V.hs,{gap:12,minWidth:0},(0,o.h)(ne.BG,{user:Be,pub:We,size:40,showProfileHovercard:!0}),(0,o.h)(V.tu,{minWidth:0,justifyContent:"center"},(0,o.h)(p.Ct,{subject:Be,placement:Xe,utmSource:Qe},(0,o.h)(V.xv.B4,{weight:"bold",ellipsis:!0,decoration:"hover-underline"},Be.name)),(0,o.h)(V.xv.B4,{color:"secondary",ellipsis:!0},Ke))),!Ne&&Se)}function Ee(){return h(FlexBox,{className:css.personYouMayKnow,alignItems:"center",padding:8,gap:12},h(Placeholder,{type:"circle",className:css.personYouMayKnowImage}),h(FlexColumn,{style:{width:"100%"},gap:8},h(Placeholder,{type:"bar",width:"80%",height:16}),h(Placeholder,{type:"bar",width:"40%",height:16})))}const de="facebookPymkNuxDismissed";function _e(){const[Be,We]=(0,x.Z)(de,se);return Be?null:(0,o.h)(V.tu,{className:c()(ue.personYouMayKnow,ue.personYouMayKnowFeed),border:"detail",alignItems:"center",bg:"elevated",padding:12,gap:12,style:{position:"relative"},radius:12},(0,o.h)(Z.P,{className:ue.close,onClick:We}),(0,o.h)(S.Z,{fill:"var(--color-accent-facebook)",stroke:"none",height:64,width:64}),(0,o.h)(V.tu,{alignItems:"center",minWidth:0,flex:"grow"},(0,o.h)(V.xv.B4,{align:"center",weight:"bold",ellipsis:!0},"Connect Facebook"),(0,o.h)(V.xv.B4,{align:"center",color:"secondary",ellipsis:!0},"Find your friends")),(0,o.h)(V.zx,{size:"small",priority:"primary",fill:"filled",href:(0,w.getConnectFacebookUrl)({type:"reader2",redirect:(0,y.getFeedUrl)()}),style:{backgroundColor:"var(--color-accent-facebook)"},localNavigation:!1,grow:!0,onClick:()=>(0,A.j)(A.FP.CONNECT_FACEBOOK_SCREEN_VIEWED,{source:"suggestions"})},"Connect"))}function ve(){return h(FlexBox,{className:css.personYouMayKnow,alignItems:"center",justifyContent:"space-between",padding:8,gap:12},h(FlexBox,{gap:12,minWidth:0},h(FacebookIconCircle,{height:40}),h(FlexColumn,{minWidth:0},h(Text.B4,{weight:"semibold"},"Connect Facebook"),h(Text.B4,{color:"secondary"},"Find your friends on Substack"))),h(Button,{priority:"primary",fill:"filled",href:getConnectFacebookUrl({type:"reader2",redirect:getFeedUrl()}),style:{backgroundColor:"var(--color-accent-facebook)"},localNavigation:!1,onClick:()=>track(EVENTS.CONNECT_FACEBOOK_SCREEN_VIEWED,{source:"suggestions"})},"Connect"))}function De(){return(0,o.h)(V.tu,{alignItems:"center",gap:12,paddingX:32,paddingY:8},(0,o.h)(g.Z,{size:32,fill:"var(--color-accent-twitter)",stroke:"none"}),(0,o.h)(V.tu,{alignItems:"center",gap:6},(0,o.h)(V.xv.H4,null,"Find people you know"),(0,o.h)(V.xv.B4,{align:"center",color:"secondary"},"Connect Twitter to see what the people you follow are reading.")),(0,o.h)(V.zx,{priority:"primary",href:(0,y.getConnectTwitterUrl)({type:"reader2",redirect:T.Ds}),localNavigation:!1,style:{backgroundColor:"var(--color-accent-twitter)"},rounded:!0},"Connect Twitter"))}function Oe(){const[,Be]=(0,x.Z)(te),We=()=>{Be()};return(0,o.h)(V.tu,{position:"relative",alignItems:"center",gap:12,paddingX:32,paddingY:8},(0,o.h)(Z.P,{className:ue.close,onClick:We}),(0,o.h)(S.Z,{width:40,height:40}),(0,o.h)(V.tu,{alignItems:"center",gap:6},(0,o.h)(V.xv.H4,null,"Find your friends"),(0,o.h)(V.xv.B4,{align:"center",color:"secondary"},"Connect Facebook to see what your friends are reading.")),(0,o.h)(V.zx,{priority:"primary",href:(0,w.getConnectFacebookUrl)({type:"reader2",redirect:(0,y.getFeedUrl)()}),localNavigation:!1,style:{backgroundColor:"var(--color-accent-facebook)"},rounded:!0,onClick:()=>(0,A.j)(A.FP.CONNECT_FACEBOOK_SCREEN_VIEWED,{source:"sidebar"})},"Connect Facebook"))}function ye({utmSource:Be}){const[We,Ke]=(0,f.eJ)(!1),[Xe,ct]=(0,f.eJ)(!1),{user:Se,changeSetting:Qe}=(0,C.SE)(),[,ge]=(0,x.Z)(le),[,Fe]=(0,x.Z)(J);if(!Se)return null;const Ne=()=>{Qe("invite_friends_nux_dismissed_at",new Date().toISOString()),ge()},lt=()=>{Ne(),Fe()},Et=()=>{Ke(!1),Xe&&Ne()},jt=()=>{Ke(!0),(0,A.j)(A.FP.INVITE_FRIENDS_MODAL_SHOWN,{source:Be})};return(0,o.h)(o.Fragment,null,(0,o.h)(V.tu,null,(0,o.h)(V.tu,{alignItems:"center",gap:12,padding:32,className:ue.shareProfile},(0,o.h)(Z.P,{className:ue.close,onClick:lt}),(0,o.h)(V.tu,{className:ue.avatarContainer},(0,o.h)(ne.qE,{user:Se,size:48}),(0,o.h)(V.hs,{className:ue.badge,padding:4},(0,o.h)(O.HA,{className:ue.badgeIcon,size:12}))),(0,o.h)(V.tu,{alignItems:"center",gap:6},(0,o.h)(V.xv.H4,null,"Invite your friends"),(0,o.h)(V.xv.B4,{align:"center",color:"secondary"},"Share your profile to help your friends find you on Notes.")),(0,o.h)(V.zx,{priority:"primary",onClick:jt,rounded:!0},"Invite friends"))),(0,o.h)(L.N,{isOpen:We,utmSource:Be,onClose:Et,setShared:()=>ct(!0)}))}function ze({url:Be}){const We=useRef();return useEffect(()=>{const{current:Ke}=We;Ke&&qrcode.toCanvas(Ke,Be,{width:180,margin:2})},[]),h("canvas",{ref:We})}},68493:(z,l,e)=>{"use strict";e.d(l,{N:()=>v});var o=e(6400),f=e(20501),u=e(67963),c=e(73115),_=e(13045),g=e(10186);const E={card:"frontend-reader2-InviteFriendModal-module__card--Y_M2a",cardTop:"frontend-reader2-InviteFriendModal-module__cardTop--U1mKN",cardBottom:"frontend-reader2-InviteFriendModal-module__cardBottom--k08tv",cardAvatar:"frontend-reader2-InviteFriendModal-module__cardAvatar--XnNz6",cardOverlay:"frontend-reader2-InviteFriendModal-module__cardOverlay--d17EK",cardUrl:"frontend-reader2-InviteFriendModal-module__cardUrl--CRORb",fakeButton:"frontend-reader2-InviteFriendModal-module__fakeButton--sjhoe"},v=({isOpen:y,utmSource:T,onClose:w,setShared:S})=>{const{user:O}=(0,u.SE)();if(!O)return(0,o.h)(o.Fragment,null);const p=(0,f.getReaderProfileUrl)(O,{utm_source:T}),d=`/img/profile_cards/card-bg-${Math.ceil(O!=null&&O.id?O.id%9+1:Math.random()*8)}.png`;return(0,o.h)(_.u_,{isOpen:y,onClose:w,width:480,overflow:"hidden"},(0,o.h)(_.xB,{includeClose:!0,onClose:w}),(0,o.h)(_.tu,{paddingX:32,paddingTop:16,paddingBottom:24,gap:20},(0,o.h)(_.tu,{alignItems:"center",gap:8},(0,o.h)(_.xv.H2,{weight:"semibold"},"Invite your friends"),(0,o.h)(_.xv.B3,{align:"center",color:"secondary"},"Share your profile to help your friends and followers find you on Substack.")),(0,o.h)(_.tu,{justifyContent:"center",alignItems:"center",border:"detail",radius:12,shadow:"lg",className:E.card},(0,o.h)(_.tu,{flex:"grow",className:E.cardTop},(0,o.h)("img",{className:E.cardOverlay,src:(0,f.imginary)(d,800)})),(0,o.h)(_.tu,{flex:"grow",alignSelf:"stretch",className:E.cardBottom,gap:16,paddingX:20,paddingBottom:20,paddingTop:0},(0,o.h)(_.hs,{justifyContent:"space-between",alignItems:"end"},(0,o.h)(g.qE,{user:O,size:112,className:E.cardAvatar}),(0,o.h)(_.zx,{priority:"secondary",rounded:!0,className:E.fakeButton},"Subscribe")),(0,o.h)(_.tu,{flex:"grow",gap:8},(0,o.h)(_.xv.H2,null,O.name),(0,o.h)(_.xv.Meta,{className:E.cardUrl,size:12,color:"substack"},p.replace(/^(http|https):\/\//,"").replace(/\?.*$/,"")),O.bio&&(0,o.h)(_.xv.B4,{color:"secondary"},O.bio)))),(0,o.h)(_.xv.Meta,{align:"center"},"Share via"),(0,o.h)(c.sZ,{shareUrl:p,shareEventType:"profile",shareText:"Subscribe to me on Substack",itemKey:O.id,onShare:()=>{S&&S()}})))}},11688:(z,l,e)=>{"use strict";e.d(l,{Oe:()=>d,cr:()=>p});var o=e(6400),f=e(8479),u=Object.defineProperty,c=Object.defineProperties,_=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(A,x,I)=>x in A?u(A,x,{enumerable:!0,configurable:!0,writable:!0,value:I}):A[x]=I,T=(A,x)=>{for(var I in x||(x={}))E.call(x,I)&&y(A,I,x[I]);if(g)for(var I of g(x))v.call(x,I)&&y(A,I,x[I]);return A},w=(A,x)=>c(A,_(x)),S=(A,x)=>{var I={};for(var N in A)E.call(A,N)&&x.indexOf(N)<0&&(I[N]=A[N]);if(A!=null&&g)for(var N of g(A))x.indexOf(N)<0&&v.call(A,N)&&(I[N]=A[N]);return I},O=(A,x,I)=>new Promise((N,F)=>{var B=Y=>{try{Z(I.next(Y))}catch(ne){F(ne)}},V=Y=>{try{Z(I.throw(Y))}catch(ne){F(ne)}},Z=Y=>Y.done?N(Y.value):Promise.resolve(Y.value).then(B,V);Z((I=I.apply(A,x)).next())});function p(A){return(0,o.h)(a,w(T({},A),{key:A.module}))}function d({module:A,onRequest:x,fetchImmediately:I=!0}){const N=C.has(A),F=(0,f.Wf)(()=>D(A,x),[],{auto:I&&!N,initialResult:N?C.get(A):null});return F.error&&console.error(F.error),{error:F.error,isLoading:F.isLoading,result:F.result,fetch:F.refetch}}function a(A){var x=A,{onRequest:I,resolve:N,module:F,whileLoading:B}=x,V=S(x,["onRequest","resolve","module","whileLoading"]);const{error:Z,isLoading:Y,result:ne}=d({module:F,onRequest:I});return(0,o.h)(o.Fragment,null,Z?"Error":Y||!ne?B!=null?B:null:(0,o.h)(N(ne),V))}function P(A){return h(p,w(T({},A),{resolve:x=>x.default}))}const C=new Map;function D(A,x){return O(this,null,function*(){let I=C.get(A);return I||(I=yield x(),C.set(A,I)),I})}},18130:(z,l,e)=>{"use strict";e.d(l,{c:()=>d,r:()=>p});var o=e(6400),f=e(98661),u=e(92298),c=Object.defineProperty,_=Object.defineProperties,g=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,T=(a,P,C)=>P in a?c(a,P,{enumerable:!0,configurable:!0,writable:!0,value:C}):a[P]=C,w=(a,P)=>{for(var C in P||(P={}))v.call(P,C)&&T(a,C,P[C]);if(E)for(var C of E(P))y.call(P,C)&&T(a,C,P[C]);return a},S=(a,P)=>_(a,g(P)),O=(a,P)=>{var C={};for(var D in a)v.call(a,D)&&P.indexOf(D)<0&&(C[D]=a[D]);if(a!=null&&E)for(var D of E(a))P.indexOf(D)<0&&y.call(a,D)&&(C[D]=a[D]);return C};const p=(0,f.forwardRef)((a,P)=>{var C=a,{href:D,onClick:A,campaign:x}=C,I=O(C,["href","onClick","campaign"]);const N=d({href:D,onClick:A,campaign:x});return(0,o.h)("a",w(S(w({},I),{ref:P}),N))});function d({onClick:a,href:P,campaign:C}){if(P){let A;try{A=new URL(P)}catch(x){try{A=new URL(`${document.location.origin}${P}`)}catch(I){}}if(A){if(A.origin===document.location.origin&&!C){const x=new URLSearchParams,I={};for(const[N,F]of A.searchParams)N.startsWith("utm_")?N==="utm_campaign"?I.name=F:I[N.replace(/^utm_/,"")]=F:x.append(N,F);C=I,P=`${A.pathname}${x}`}else if(A.origin!==document.location.origin&&C){for(const[x,I]of Object.entries(C)){const N=x==="name"?"campaign":x;A.searchParams.set(`utm_${N}`,I)}P=A.toString()}}}return{href:P,onClick:A=>{a==null||a(A),!A.defaultPrevented&&!A.ctrlKey&&!A.shiftKey&&!A.metaKey&&P&&(0,u.j)(w({},C))}}}},42332:(z,l,e)=>{"use strict";e.d(l,{aw:()=>B,u:()=>V});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),_=e(74285),g=e(21958),E=e(5131),v=Object.defineProperty,y=Object.defineProperties,T=Object.getOwnPropertyDescriptors,w=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,p=(Z,Y,ne)=>Y in Z?v(Z,Y,{enumerable:!0,configurable:!0,writable:!0,value:ne}):Z[Y]=ne,d=(Z,Y)=>{for(var ne in Y||(Y={}))S.call(Y,ne)&&p(Z,ne,Y[ne]);if(w)for(var ne of w(Y))O.call(Y,ne)&&p(Z,ne,Y[ne]);return Z},a=(Z,Y)=>y(Z,T(Y)),P=(Z,Y)=>{var ne={};for(var G in Z)S.call(Z,G)&&Y.indexOf(G)<0&&(ne[G]=Z[G]);if(Z!=null&&w)for(var G of w(Z))Y.indexOf(G)<0&&O.call(Z,G)&&(ne[G]=Z[G]);return ne};function C({hideOnScroll:Z}={}){const[Y,ne]=useState(!1),G=useRef();return useEffect(()=>{if(Y){const L=()=>{ne(!1)},W=ie=>{ie.key==="Escape"&&ne(!1)};return window.addEventListener("click",L),window.addEventListener("keydown",W),Z&&window.addEventListener("scroll",L,{capture:!0,passive:!0}),()=>{window.removeEventListener("click",L),window.removeEventListener("keydown",W),window.removeEventListener("scroll",L,{capture:!0})}}},[Y]),{ref:G,isOn:Y,setIsOn:ne,toggle:()=>{ne(!Y)}}}const D={anchorY:"bottom",anchorX:"left",tetherY:"top",tetherX:"left"};function A({tetherRef:Z,fixTo:Y=D,isFixed:ne,offset:G={x:0,y:0},children:L,className:W}){const ie=(0,f.sO)();return(0,f.bt)(()=>{const ue=Z.current,le=ie.current;if(!ue||!le)return;const J=ue.getBoundingClientRect(),te=le.getBoundingClientRect(),se=d(d({},D),Y);let ee=se.anchorY==="center"?J.top+J.height/2:J[se.anchorY];se.tetherY==="bottom"&&(ee=window.innerHeight-ee),se.tetherY==="center"&&(ee-=te.height/2);const ae=se.tetherY==="bottom"?"bottom":"top";let ce=se.anchorX==="center"?J.left+J.width/2:J[se.anchorX];se.tetherX==="right"&&(ce=window.innerWidth-ce),se.tetherX==="center"&&(ce-=te.width/2);const fe=se.tetherX==="right"?"right":"left";ae==="top"&&ee+te.height>window.innerHeight?(ee=J.top-te.height,G.y&&(ee-=G.y)):G.y&&(ee+=G.y),G.x&&(ce+=G.x),ne||(ee+=window.scrollY,ce+=window.scrollX),Object.assign(le.style,{minWidth:`${J.width}px`,[ae]:`${ee}px`,[fe]:`${ce}px`})},[]),(0,o.h)(_.h,null,(0,o.h)("div",{className:c()("dropdown3",W),ref:ie,style:{position:ne?"fixed":"absolute"}},L))}const x=(0,g.L)("reader2-menu reader2-font-base");function I(Z){var Y=Z,{priority:ne}=Y,G=P(Y,["priority"]);const L=classnames("reader2-menu-item","reader2-text-button",ne,G.className);return G.href?h("a",a(d({},G),{className:L})):h("div",a(d({},G),{className:L}))}function N({options:Z,value:Y,onChange:ne,fixedHeight:G=!1}){var L;const W=C({hideOnScroll:!0});return h(Button,{variant:"tertiary",onClick:W.toggle,forwardedRef:W.ref,fixedHeight:G},(L=Z.find(ie=>ie.value===Y))==null?void 0:L.label,h(ChevronDown,{size:16}),W.isOn&&h(A,{tetherRef:W.ref,fixTo:{anchorX:"right",tetherX:"right"}},h(x,null,Z.map(ie=>h(I,{key:ie.value,onClick:()=>ne(ie.value),className:classnames("reader2-split-menu-item selectable",Y===ie.value&&"isSelected")},ie.label,Y===ie.value&&h(Check,{className:"feather-icon"}))))))}function F(Z){var Y=Z,{defaultValue:ne,onChange:G}=Y,L=P(Y,["defaultValue","onChange"]);const[W,ie]=useState(ne);return h(N,a(d({},L),{value:W,onChange:ue=>{ie(ue),G(ue)}}))}function B({onHover:Z}={}){const[Y,ne]=(0,f.eJ)(!1),G=(0,f.sO)(),L=(0,f.sO)(),W=(0,f.sO)(),ie=le=>{le.pointerType==="mouse"&&(clearTimeout(W.current),ne(!0),Z&&Z())},ue=le=>{le.pointerType==="mouse"&&(W.current=setTimeout(()=>{ne(!1)},200))};return(0,f.d4)(()=>{const le=G.current;if(le)return le.addEventListener("pointerenter",ie),le.addEventListener("pointerleave",ue),()=>{le.removeEventListener("pointerenter",ie),le.removeEventListener("pointerleave",ue)}},[]),(0,f.d4)(()=>{const le=L.current,J=G.current;if(Y&&J){const te=()=>{ne(!1)};return window.addEventListener("scroll",te,{capture:!0,passive:!0}),le&&(le.addEventListener("pointerenter",ie),le.addEventListener("pointerleave",ue)),()=>{window.removeEventListener("scroll",te,{capture:!0}),le&&(le.removeEventListener("pointerenter",ie),le.removeEventListener("pointerleave",ue))}}},[Y]),{ref:G,tooltipRef:L,isHovering:Y}}function V({tetherRef:Z,children:Y}){return(0,o.h)(A,{tetherRef:Z,fixTo:{anchorX:"center",tetherX:"center",anchorY:"top",tetherY:"bottom"},offset:{y:12}},(0,o.h)("div",{className:"reader2-tooltip reader2-font-base reader2-text-button"},Y,(0,o.h)("div",{className:"reader2-tooltip-arrow"},(0,o.h)("svg",{viewBox:"0 0 10 10",preserveAspectRatio:"none"},(0,o.h)("path",{d:"M 0,0 L 10,0 L 6,9 Q 5,11 4,9 Z"})))))}},34518:(z,l,e)=>{"use strict";e.d(l,{Yy:()=>w});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),_=e(26059),g=e(74285),E=e(39419),v=e.n(E),y=e(5131),T=e(19696);function w({children:d,className:a,onClose:P,hasClosePill:C,isPopup:D,noExit:A,noExitOnClick:x,noFullscreen:I,noCloseButton:N,testID:F}){const B=(0,f.sO)(),V=Z=>{!A&&!x&&D&&(I||window.innerWidth>540)&&(Z.stopPropagation(),Z.preventDefault(),P())};return(0,o.h)(g.h,null,(0,o.h)("div",{className:c()("modal simple-modal wide typography","in",a,{"has-close-pill":C,popup:D}),"data-testid":F,role:"dialog"},(0,o.h)("div",{className:"modal-table"},(0,o.h)("div",{className:"modal-row"},(0,o.h)("div",{className:c()("modal-cell modal-content reader2-modal",{"no-fullscreen":I})},(0,o.h)("div",{className:"modal-clickspace",onClick:V}),(0,o.h)("div",{className:"container",ref:B},!A&&(!N||(0,E.isMobileBrowser)())&&(0,o.h)(y.zx,{className:c()("modal-btn modal-exit-btn no-margin",{"button btn btn-secondary btn-pill icon-only":C}),onClick:()=>P()},(0,o.h)(_.Z,null)),d))))))}function S({children:d,onCancel:a}){return h(w,{className:"rss-feed-modal remove-rss-feed",isPopup:!0,onClose:a},h(O,null,d))}const O=(0,T.L)("simple-modal-pad reader2-confirm-modal"),p=(0,T.L)("buttons")},10174:(z,l,e)=>{"use strict";e.d(l,{Au:()=>ae,i3:()=>ce,oC:()=>Ee,sA:()=>J});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),_=e(13639),g=e(82622),E=e(20501),v=e(95847),y=e(67963),T=e(83097),w=e(62952),S=e(8479),O=e(84040),p=e(51126),d=e(62246),a=e(43887),P=e(10186),C=e(91870),D=e(11688),A=e(50292),x=e(44396),I=e(70762),N=e(7980),F=Object.defineProperty,B=Object.defineProperties,V=Object.getOwnPropertyDescriptors,Z=Object.getOwnPropertySymbols,Y=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable,G=(ve,De,Oe)=>De in ve?F(ve,De,{enumerable:!0,configurable:!0,writable:!0,value:Oe}):ve[De]=Oe,L=(ve,De)=>{for(var Oe in De||(De={}))Y.call(De,Oe)&&G(ve,Oe,De[Oe]);if(Z)for(var Oe of Z(De))ne.call(De,Oe)&&G(ve,Oe,De[Oe]);return ve},W=(ve,De)=>B(ve,V(De)),ie=(ve,De)=>{var Oe={};for(var ye in ve)Y.call(ve,ye)&&De.indexOf(ye)<0&&(Oe[ye]=ve[ye]);if(ve!=null&&Z)for(var ye of Z(ve))De.indexOf(ye)<0&&ne.call(ve,ye)&&(Oe[ye]=ve[ye]);return Oe},ue=(ve,De,Oe)=>new Promise((ye,ze)=>{var Be=Xe=>{try{Ke(Oe.next(Xe))}catch(ct){ze(ct)}},We=Xe=>{try{Ke(Oe.throw(Xe))}catch(ct){ze(ct)}},Ke=Xe=>Xe.done?ye(Xe.value):Promise.resolve(Xe.value).then(Be,We);Ke((Oe=Oe.apply(ve,De)).next())});function le(ve){var De=ve,{isOpen:Oe}=De,ye=ie(De,["isOpen"]);return(0,o.h)(d.u_,{className:N.Z.composerModal,isOpen:Oe,onClose:ye.onClose,fullscreenMobile:!0},(0,o.h)(D.cr,W(L({},ye),{module:"../feed/NoteComposer",resolve:ze=>ze.NoteComposer,onRequest:()=>Promise.all([e.e(313),e.e(171),e.e(679),e.e(563),e.e(707)]).then(e.bind(e,68760)),whileLoading:(0,o.h)("div",{style:{height:410}})})))}function J({disabled:ve,parentPubId:De,parentPostId:Oe,parentCommentId:ye,placeholder:ze,tabId:Be}){const We=ce(),Ke=(0,y.aF)(),Xe=(0,x.XA)(),{requireLogin:ct}=(0,A.SJ)(),Se=()=>{ve||(Ke?We.open({parentPubId:De,parentPostId:Oe,parentCommentId:ye,tabId:Be}):ct==null||ct())},Qe=(0,w.h)({onAddFiles:ge=>{We.open({parentPubId:De,parentPostId:Oe,parentCommentId:ye,initialFiles:ge,tabId:Be})}});return(0,o.h)(p.tu,L({},Qe.props),(0,o.h)(p.gq,{gap:12,alignItems:"center",className:c()(N.Z.inlineComposer,{[N.Z.disabled]:ve})},Ke?(0,o.h)(p.hs,{as:"a",flex:"auto",href:(0,E.getReaderProfileUrl)(Ke,{noBase:!0})},(0,o.h)(P.qE,{size:Xe?40:48,user:Ke})):(0,o.h)(p.hs,{flex:"auto"},(0,o.h)(P.qE,{size:Xe?40:48})),(0,o.h)(O.kG,{className:c()(N.Z.inlineComposerButton,{[N.Z.mobile]:Xe,[N.Z.disabled]:ve,[N.Z.isDropping]:Qe.isDragging}),onClick:Se,disabled:ve,resetCss:!0},(0,o.h)(a.xv.B3,{size:Xe?14:16,align:"left",color:"secondary"},ze||"What's on your mind?")),!Xe&&(0,o.h)(O.zx,{disabled:!0,rounded:!0},"Post")))}function te(){const ve=ce(),De=useUser(),Oe=()=>{ve.open({})};return De?h(IconButton,{className:css.floatingComposer,priority:"primary",fill:"filled",size:56,onClick:Oe,shadow:"medium"},h(Plus,{size:24})):null}const se={isOpen:!1,firstComment:void 0},ee=(0,o.createContext)({state:se,open:()=>ue(void 0,null,function*(){throw new Error("Not implemented")})});function ae({children:ve}){var De,Oe,ye;const ze=(0,y.aF)(),Be=!(ze!=null&&ze.name),We=(0,C.I0)(),[Ke,Xe]=(0,f.eJ)(se),{feedItem:ct}=Ke,Se=Ee(ct),Qe=(Oe=(De=ct==null?void 0:ct.parentComments)==null?void 0:De[0])!=null?Oe:ct==null?void 0:ct.comment;(0,f.d4)(()=>{ze&&Promise.all([e.e(313),e.e(171),e.e(679),e.e(563),e.e(707)]).then(e.bind(e,68760))},[ze]);const ge=(0,f.Ye)(()=>({state:Ke,open:lt=>new Promise((Et,jt)=>{Xe(W(L(L({},se),lt),{isOpen:!0,resolve:Et,reject:jt}))})}),[Ke]),Fe=()=>{var lt,Et;(Et=(lt=document.activeElement)==null?void 0:lt.blur)==null||Et.call(lt),Xe(W(L({},Ke),{isOpen:!1}))},Ne=!1;return(0,o.h)(ee.Provider,{value:ge},ve,Be?(0,o.h)(fe,{isOpen:Ke.isOpen,onClose:Fe,onSuccess:()=>Xe(W(L({},Ke),{isOpen:!0}))}):Ne?(0,o.h)(d.u_,{isOpen:Ke.isOpen,onClose:Fe,width:316},(0,o.h)(_e,{onClose:Fe})):Se?(0,o.h)(d.u_,{isOpen:Ke.isOpen,onClose:Fe,width:316},(0,o.h)(de,{onClose:Fe,requirement:Se,writerId:(ye=Qe==null?void 0:Qe.user_id)!=null?ye:0})):(0,o.h)(le,W(L({},Ke),{isOpen:Ke.isOpen,onClose:Fe,onSuccess:lt=>{var Et,jt;lt.isFirstFeedCommentByUser?Xe(W(L({},Ke),{firstComment:lt})):Fe(),We({type:Ke.editComment?"edit_comment":"new_comment",payload:{comment:lt}}),(Et=Ke.onCompose)==null||Et.call(Ke,lt),(jt=Ke.resolve)==null||jt.call(Ke,lt)},onError:Ke.reject})),(0,o.h)(d.u_,{isOpen:Ke.isOpen&&!!Ke.firstComment},Ke.firstComment&&(0,o.h)(T.q,{onClose:Fe,comment:Ke.firstComment})))}function ce(){return(0,f.qp)(ee)}function fe({isOpen:ve,onClose:De,onSuccess:Oe}){const ye=(0,y.SE)();return(0,o.h)(d.u_,{isOpen:ve,onClose:De,fullscreenMobile:!0},(0,o.h)(d.xB,{title:"First, set up your profile",description:"Introduce yourself by adding a name, bio, and photo to your profile.",includeClose:!0,onClose:De}),(0,o.h)(v._0,{className:N.Z.setupProfileModalContent,pageTitle:"",user:ye.user,optionalPhoto:!0,noSubscribeCta:!0,complete:!0,onSuccess:ze=>{ye.setUser(ze.body),Oe()}}))}function Ee(ve){var De,Oe;const ye=(Oe=(De=ve==null?void 0:ve.parentComments)==null?void 0:De[0])!=null?Oe:ve==null?void 0:ve.comment,{user_id:ze,reply_minimum_role:Be}=ye!=null?ye:{},We=(0,y.aF)(),Ke=(0,I.K)(ze!=null?ze:0);if(!ze||!Be||ve!=null&&ve.canReply||ye&&We&&(0,g._N)(ye,We.id))return null;if(Be){if(Be==="free_subscriber"&&(!Ke||!["free_subscription","subscribed"].includes(Ke)))return"free_subscriber";if(Be==="paid_subscriber"&&Ke!=="subscribed")return"paid_subscriber"}return null}function de({requirement:ve,writerId:De,onClose:Oe}){var ye;const ze=(0,y.aF)(),{error:Be,result:We}=(0,S.ib)({pathname:`/api/v1/user/${De}/primary-publication`,deps:[De],auto:!0});return(0,o.h)(p.tu,{padding:16},(0,o.h)(p.hs,{justifyContent:"center",paddingTop:16,paddingBottom:20},(0,o.h)(_.Z,{size:32,color:"var(--color-primary)"})),(0,o.h)(p.tu,{gap:20},(0,o.h)(p.tu,{gap:8,alignItems:"center"},(0,o.h)(a.xv.H3,{align:"center"},ve==="free_subscriber"?"Subscribers only":"Paid subscribers only"),We&&(0,o.h)(a.xv.B3,{color:"secondary",align:"center"},"To join the conversation,"," ",ve==="free_subscriber"?"subscribe":"become a paying subscriber"," ","to ",(ye=We.name)!=null?ye:"this publication",".")),(0,o.h)(p.tu,{gap:8},We&&(0,o.h)(O.zx,{priority:"primary",rounded:!0,href:(0,E.getSubscribeUrl)(We,{user:ze,addBase:!0,params:{utm_source:"feed-comment-reply-restriction"}})},"Subscribe"),(0,o.h)(O.zx,{priority:"secondary",rounded:!0,onClick:Oe},"Cancel"))))}function _e({onClose:ve}){return(0,o.h)(p.tu,{padding:16},(0,o.h)(p.tu,{gap:20},(0,o.h)(p.tu,{gap:8,alignItems:"center"},(0,o.h)(a.xv.H3,{align:"center"},"Confirm your email address"),(0,o.h)(a.xv.B3,{color:"secondary",align:"center"},"Please confirm your email address before using Notes.")),(0,o.h)(p.tu,{gap:8},(0,o.h)(O.zx,{priority:"primary",rounded:!0,onClick:ve},"Ok"),(0,o.h)(O.zx,{priority:"secondary",rounded:!0,href:"/settings"},"Resend confirmation email"))))}},33510:(z,l,e)=>{"use strict";e.d(l,{t5:()=>A.t,Sv:()=>D.S,Xq:()=>me,EU:()=>H,II:()=>ve,Uj:()=>ue,y:()=>lt,zr:()=>Q,mE:()=>Fe,pe:()=>ct,Vm:()=>te,Hj:()=>ot,_Y:()=>J,mb:()=>ze,eK:()=>Be});var o=e(6400),f=e(98661),u=e(30396),c=e(94184),_=e.n(c),g=e(1852),E=e(84606),v=e(20501),y=e(16527),T=e(39419),w=e(84040),S=e(51126),O=e(43887),p=e(44396),d=e(5131),a=e(19696),P=e(54520);const C={pageStack:"frontend-reader2-Page-module__pageStack--ody_S",gap_0:"frontend-reader2-Page-module__gap_0--yYU_2",gap_8:"frontend-reader2-Page-module__gap_8--PncV0",gap_16:"frontend-reader2-Page-module__gap_16--jwghA",linkRow:"frontend-reader2-Page-module__linkRow--fAbeU",isPadded:"frontend-reader2-Page-module__isPadded--ByIdx",linkRowA:"frontend-reader2-Page-module__linkRowA--KsC_y",isClickable:"frontend-reader2-Page-module__isClickable--u8wHF",isSelectable:"frontend-reader2-Page-module__isSelectable--w0CEf",isSelected:"frontend-reader2-Page-module__isSelected--r1vb5",zero:"frontend-reader2-Page-module__zero--Gd4kD",hoverLink:"frontend-reader2-Page-module__hoverLink--MvDt2",placeholder:"frontend-reader2-Page-module__placeholder--qZjLi",travel:"frontend-reader2-Page-module__travel--cox8O",bar:"frontend-reader2-Page-module__bar--kRTwB",circle:"frontend-reader2-Page-module__circle--ZMmhY",elevated:"frontend-reader2-Page-module__elevated--QKV5Y",input:"frontend-reader2-Page-module__input--cAK3Q",error:"frontend-reader2-Page-module__error--E0rLs",textarea:"frontend-reader2-Page-module__textarea--tqN9a",tabContainer:"frontend-reader2-Page-module__tabContainer--UKtS3"};var D=e(15822),A=e(55886),x=Object.defineProperty,I=Object.defineProperties,N=Object.getOwnPropertyDescriptors,F=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,Z=(pe,we,Le)=>we in pe?x(pe,we,{enumerable:!0,configurable:!0,writable:!0,value:Le}):pe[we]=Le,Y=(pe,we)=>{for(var Le in we||(we={}))B.call(we,Le)&&Z(pe,Le,we[Le]);if(F)for(var Le of F(we))V.call(we,Le)&&Z(pe,Le,we[Le]);return pe},ne=(pe,we)=>I(pe,N(we)),G=(pe,we)=>{var Le={};for(var Ye in pe)B.call(pe,Ye)&&we.indexOf(Ye)<0&&(Le[Ye]=pe[Ye]);if(pe!=null&&F)for(var Ye of F(pe))we.indexOf(Ye)<0&&V.call(pe,Ye)&&(Le[Ye]=pe[Ye]);return Le};function L({children:pe}){const we=useMobile();return h(Se,null,we?h(Text.H2,null,pe):h(Text.H1,null,pe))}function W({className:pe,children:we,title:Le,hasTitle:Ye}){return h("div",{className:classnames("reader2-page-section",(Le||Ye)&&"withTitle",pe)},Le&&h(ie,null,Le),we)}function ie({children:pe,className:we,actions:Le}){return h("div",{className:classnames("reader2-section-title",we)},h("span",{className:"reader2-text-h3 reader2-section-title"},pe),Le&&h("div",{className:"reader2-header-actions"},Le))}const ue=(0,f.forwardRef)((pe,we)=>{var Le=pe,{isPadded:Ye=!0,className:dt,linkClassName:st}=Le,_t=G(Le,["isPadded","className","linkClassName"]);return(0,o.h)("div",{ref:we,className:_()(C.linkRow,Ye&&C.isPadded,dt)},(0,o.h)(le,ne(Y({},_t),{className:st})))});function le(pe){var we=pe,{children:Le,className:Ye,href:dt,newTab:st,onClick:_t,noAnchor:Tt,native:nn,utmCampaign:Mn,utmSource:tr,isSelected:sr}=we,Rt=G(we,["children","className","href","newTab","onClick","noAnchor","native","utmCampaign","utmSource","isSelected"]);const Mt=typeof location!="undefined"?location.pathname:"",$t=!Tt&&dt!=null?"a":"div",vn=dt&&(0,v.pathWithQuery)(dt,{utm_source:tr||Mt,utm_medium:"reader2",utm_campaign:Mn}),An=dr=>{_t&&_t(dr),!dr.defaultPrevented&&Tt&&vn&&(0,y.Q)(dr,vn,{native:nn,newTab:st})};return(0,o.h)(S.hs,Y({as:$t,className:_()(C.linkRowA,Ye,(vn||_t)&&sr==null&&C.isClickable,sr&&C.isSelected,sr!=null&&C.isSelectable),"data-selected":sr,href:vn,target:st?"_blank":void 0,onClick:An},Rt),Le)}function J({icon:pe,title:we,text:Le,action:Ye,className:dt}){return(0,o.h)(S.tu,{gap:16,alignItems:"center",justifyContent:"center",flex:"grow",className:_()(C.zero,dt)},pe,(0,o.h)(S.tu,{gap:4},(0,o.h)(O.xv.B4,{weight:"medium",color:"secondary"},we),(0,o.h)(O.xv.B4,{color:"secondary"},Le)),Ye)}function te(pe){var we=pe,{className:Le,style:Ye,type:dt,width:st,height:_t,size:Tt,maxWidth:nn,elevated:Mn,radius:tr=6}=we,sr=G(we,["className","style","type","width","height","size","maxWidth","elevated","radius"]);Tt!=null&&(st=Tt,_t=Tt);const Rt=dt==="bar";return(0,o.h)(E.xu,ne(Y({},sr),{className:_()(C.placeholder,Le,Mn&&C.elevated,Rt&&C.bar,dt==="circle"&&C.circle),radius:tr,style:ne(Y({},Ye),{width:st,height:_t,maxWidth:nn})}))}function se(pe){var we=pe,{className:Le,variant:Ye,size:dt,serif:st,isConstrained:_t,maxLines:Tt=3}=we,nn=G(we,["className","variant","size","serif","isConstrained","maxLines"]);return h("div",Y({className:classnames("reader2-paragraph",Ye&&`reader2-${Ye}`,dt&&`reader2-font-${dt}`,st&&"reader2-font-serif",_t&&`reader2-clamp-lines reader2-${Tt}-lines`,Le)},nn))}function ee({className:pe,children:we}){return h("div",{className:classnames("reader-nav-center",pe)},h("div",{className:"reader2-page reader2-font-base"},we))}function ae({className:pe,scrollRef:we,children:Le}){return h(_e,{ref:we},h(ee,{className:pe},Le))}function ce(pe){var we=pe,{scrollRef:Le}=we,Ye=G(we,["scrollRef"]);return h(_e,{ref:Le},h(FlexBox,ne(Y({},Ye),{flex:"grow",paddingX:{mobile:0,desktop:20},minWidth:0})))}function fe(pe){return useMediaQuery({minWidth:1100})?h(FlexColumn,Y({className:"reader2-inbox-sidebar",paddingTop:20},pe)):null}function Ee(pe){return h(FlexBox,Y({alignItems:"center",justifyContent:"space-between",paddingX:8},pe))}function de(pe){return h(FlexColumn,Y({gap:8},pe))}const _e=(0,f.forwardRef)((pe,we)=>(0,o.h)(P.SV,null,(0,o.h)("div",Y({id:"reader-nav-page-scroll",className:"reader-nav-page-scroll",ref:we},pe)))),ve=(0,f.forwardRef)((pe,we)=>{var Le=pe,{className:Ye,hasError:dt}=Le,st=G(Le,["className","hasError"]);return(0,o.h)("input",ne(Y({className:_()(C.input,dt&&C.error,Ye)},st),{ref:we}))});function De(pe){var we=pe,{className:Le,hasError:Ye,textareaRef:dt}=we,st=G(we,["className","hasError","textareaRef"]);return h("textarea",Y({ref:dt,className:classnames(css.input,css.textarea,Ye&&css.error,Le)},st))}function Oe({error:pe}){return h(me,null,getNetworkErrorMessage(pe))}const ye=({header:pe,icon:we,title:Le,text:Ye,action:dt})=>h(W,{title:pe},h(ze,{icon:we,title:Le,text:Ye,action:dt}));function ze(pe){return(0,o.h)(S.tu,{bg:"secondary",border:"detail",radius:12,paddingX:20,paddingY:64,justifyContent:"center",alignItems:"center",flex:"grow"},(0,o.h)(J,Y({},pe)))}const Be=(pe,{initialState:we}={})=>{const[Le,Ye]=(0,u.eJ)(we||{showLeft:!1,showRight:!0});return(0,u.d4)(()=>{const{current:st}=pe;if(st){const _t=()=>{Ye(Tt=>{let nn=Tt;!nn.showLeft&&st.scrollLeft>0?nn=ne(Y({},Tt),{showLeft:!0}):nn.showLeft&&st.scrollLeft<=0&&(nn=ne(Y({},Tt),{showLeft:!1}));const Mn=st.scrollWidth-st.offsetWidth-4;return!nn.showRight&&st.scrollLeft<Mn?nn=ne(Y({},Tt),{showRight:!0}):nn.showRight&&st.scrollLeft>=Mn&&(nn=ne(Y({},Tt),{showRight:!1})),nn})};return st.addEventListener("scroll",_t),setTimeout(()=>{_t()},1e3),()=>{st.removeEventListener("scroll",_t)}}},[]),{state:Le,handleArrowClick:st=>()=>{const{current:_t}=pe;_t&&_t.scrollBy({left:st*_t.offsetWidth,behavior:"smooth"})}}};function We({tabs:pe,value:we,onChange:Le}){const Ye=useRef(),dt=useMobile(),{state:st,handleArrowClick:_t}=Be(Ye);return h(FlexColumn,{gap:6,paddingBottom:{mobile:16,desktop:20},paddingTop:{mobile:16,desktop:20},paddingRight:0,className:css.tabContainer},h(FlexRow,{className:"reader2-tab-bar-parent"},!dt&&h("div",{className:classnames("reader2-carousel-fade left",st.showLeft&&"visible")},h("div",{className:"bg"}),h(IconButton,{size:36,fill:"empty",className:"reader2-carousel-arrow left",onClick:_t(-1)},h(ChevronLeft,{size:20}))),h(FlexRow,{paddingLeft:{mobile:16,desktop:20},className:"reader2-tab-bar",ref:Ye},h(Ke,{tabs:pe,value:we,onChange:Le})),!dt&&h("div",{className:classnames("reader2-carousel-fade right",st.showRight&&"visible")},h("div",{className:"bg"}),h(IconButton,{size:36,fill:"empty",className:"reader2-carousel-arrow right",onClick:_t(1)},h(ChevronRight,{size:20})))))}function Ke({tabs:pe,value:we,onChange:Le}){return h(FlexRow,{gap:8},pe.map(Ye=>h(PillButton,{key:Ye.value,isActive:we===Ye.value,onClick:()=>Le(Ye.value),icon:Ye.icon},Ye.label)))}function Xe({children:pe}){const we=useRef();return h(FlexColumn,{className:"reader2-inbox-sidebar-fixed",ref:we},pe)}function ct(pe){var we=pe,{gap:Le=16}=we,Ye=G(we,["gap"]);return(0,o.h)(S.tu,ne(Y({},Ye),{className:_()(C.pageStack,C[`gap_${Le}`])}))}const Se=(0,a.L)("reader2-page-top"),Qe=(0,a.L)(C.pageTopFixed),ge=(0,a.L)("reader2-page-body"),Fe=(0,a.L)(C.pageStack),Ne=(0,a.L)("reader2-page-center"),lt=(0,a.L)("reader2-modal-title-text"),Et=(0,a.L)("reader2-column"),jt=(0,a.L)("reader2-text-h3"),en=(0,a.L)("reader2-text-h3 reader2-section-title"),vt=(0,a.L)("reader2-text-h4"),Re=(0,a.L)("reader2-item-title"),He=(0,a.L)("reader2-item-meta"),ot=(0,a.L)("reader2-text-b4"),me=(0,a.L)("reader2-form-error"),ke=(0,a.L)("reader2-subtitle"),je=(0,a.L)("reader2-separator","hr"),Je=(0,a.L)("reader2-page-section withTitle"),tt=(0,a.L)("reader2-row reader2-split-row"),Ae=(0,a.L)("reader2-emphasis-box"),H=(0,a.L)(_()(C.hoverLink,"pencraft"),"a");function Q(pe){return(0,o.h)(H,Y({target:"_blank"},pe))}},4263:(z,l,e)=>{"use strict";var o=e(6400),f=e(98661),u=e(30396),c=e(94184),_=e.n(c),g=e(42395),E=e.n(g),v=e(15045),y=e(7922),T=e(45809),w=e(24491),S=e(11862),O=e(38199),p=e(56790),d=e(26523),a=e(56838),P=e(67963),C=e(3258),D=e(15748),A=e(6742),x=e(39419),I=e.n(x),N=e(49619),F=e(51126),B=e(43887),V=e(95297),Z=e(33510),Y=e(68262),ne=e(40172),G=e(47585),L=e(44396),W=e(72307),ie=Object.defineProperty,ue=Object.defineProperties,le=Object.getOwnPropertyDescriptors,J=Object.getOwnPropertySymbols,te=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable,ee=(H,Q,pe)=>Q in H?ie(H,Q,{enumerable:!0,configurable:!0,writable:!0,value:pe}):H[Q]=pe,ae=(H,Q)=>{for(var pe in Q||(Q={}))te.call(Q,pe)&&ee(H,pe,Q[pe]);if(J)for(var pe of J(Q))se.call(Q,pe)&&ee(H,pe,Q[pe]);return H},ce=(H,Q)=>ue(H,le(Q)),fe=(H,Q)=>{var pe={};for(var we in H)te.call(H,we)&&Q.indexOf(we)<0&&(pe[we]=H[we]);if(H!=null&&J)for(var we of J(H))Q.indexOf(we)<0&&se.call(H,we)&&(pe[we]=H[we]);return pe};function Ee(H){var Q=H,{post:pe,pub:we}=Q,Le=fe(Q,["post","pub"]);const Ye=!!useUser(),{subscription:dt}=usePubSubscription(we.id);return h(_e,ce(ae({},Le),{post:pe,postId:pe.id,title:pe.title,description:decodeHtmlEntitiesFast(pe.description),bylines:pe.publishedBylines,consumptionTime:Ne(pe),coverImage:pe.cover_image,type:getPostType(pe),Icon:jt(getPostType(pe)),canonicalUrl:getPostUrl(we,pe,{signedIn:Ye}),timestamp:pe.post_date,pub:we,audienceBadge:["only_paid","founding"].includes(pe.audience)?(dt==null?void 0:dt.membership_state)==="free_signup"&&pe.should_send_free_preview?"preview":"paid":void 0}))}var de=null;function _e(H){var Q=H,{post:pe,title:we,description:Le,bylines:Ye,consumptionTime:dt,coverImage:st,type:_t,Icon:Tt,audienceBadge:nn,showBestsellerBadge:Mn,highlights:tr,excerpt:sr}=Q,Rt=fe(Q,["post","title","description","bylines","consumptionTime","coverImage","type","Icon","audienceBadge","showBestsellerBadge","highlights","excerpt"]);return h(De,ce(ae({},Rt),{highlights:tr}),h(ct,{post:pe,bylines:Ye,consumptionTime:dt,Icon:Tt,audienceBadge:nn,showBestsellerBadge:Mn,highlights:tr,excerpt:sr}))}function ve({post:H,pub:Q,context:pe,isViewed:we,isSaved:Le,isSelected:Ye,onClick:dt,onMouseEnter:st,onVisible:_t,position:Tt}){const nn=!!useUser(),Mn=H.cover_image;return h(De,{postId:H.id,canonicalUrl:getPostUrl(Q,H,{signedIn:nn,urlParams:{pos:Tt}}),timestamp:H.post_date,pub:Q,isViewed:we,isSelected:Ye,defaultSaved:Le,onClick:dt,onMouseEnter:st,onVisible:_t},h(Xe,{post:H,metaText:pe,image:Mn&&h(Et,{post:H})}))}function De({children:H,pub:Q,publisherName:pe,logoUrl:we,timestamp:Le,isViewed:Ye,isArchived:dt,isSelected:st,isLiked:_t,isSaved:Tt,onLike:nn,onClick:Mn,canonicalUrl:tr,postId:sr,defaultSaved:Rt,onSave:Mt,onArchive:$t,onMouseEnter:vn,onVisible:An,utmSource:dr,highlights:Pr}){const br=useUser(),[Or,Lr]=useUnreadBadge(!Ye),Wr=isMobileBrowser(),Zr=useRef();return useFirstVisible(Zr,()=>An&&An(),{threshold:.2}),h(Be,{ref:Zr,href:tr,onClick:yo=>{Lr(),Mn&&Mn(yo)},className:"reader2-post-container",utmSource:dr,isSelected:st,onMouseMove:()=>{vn==null||vn(sr)}},h(We,{pub:Q,publisherName:pe,logoUrl:we,highlights:Pr},h(FlexRow,{className:classnames("reader2-post-info tw-items-center tw-gap-3",br&&"hasUser")},h(Ke,{className:"inbox-item-timestamp",value:Le}),h(Oe,{isMobile:Wr,postId:sr,defaultSaved:Rt,isSaved:Tt,onSave:Mt,user:br,isArchived:dt,onArchive:$t,isLiked:_t,onLike:nn,canonicalUrl:tr,communityEnabled:Q==null?void 0:Q.community_enabled}),Or)),H)}function Oe({isMobile:H,postId:Q,defaultSaved:pe,isLiked:we,onLike:Le,isSaved:Ye,onSave:dt,user:st,isArchived:_t,onArchive:Tt,canonicalUrl:nn,communityEnabled:Mn}){const{isSaved:tr,onSave:sr}=useSavePostById({postId:Q,defaultSaved:pe}),Rt=An=>{An.stopPropagation(),An.preventDefault()},Mt=()=>{dt?dt(Q,!tr):sr()},$t=()=>{Tt==null||Tt()},vn=useLinkCopyToast();return H?null:h(FlexBox,{padding:4,gap:4,className:"inbox-item-actions-menu",onClick:Rt},Le&&Mn&&h("div",{className:"reader2-clickable inbox-item-action-button",onClick:()=>Le(Q)},h(Re,{isActive:we})),h("div",{className:"reader2-clickable inbox-item-action-button",onClick:()=>{vn(nn)}},h(Je,null)),st&&h("div",{className:"reader2-clickable inbox-item-action-button",onClick:Mt},h(me,{isActive:Ye!=null?Ye:tr})),Tt&&h("div",{className:"reader2-clickable inbox-item-action-button",onClick:$t},h(je,null)))}function ye({post:H,highlights:Q}){return h(ct,{post:H,bylines:H.publishedBylines,consumptionTime:Ne(H),Icon:jt(getPostType(H)),highlights:Q})}function ze({post:H,pub:Q}){const pe=!!useUser();return h(Be,{href:getPostUrl(Q,H,{signedIn:pe})},h(We,{pub:Q},h(Ke,{value:H.post_date})),h(ye,{post:H}))}const Be=(0,f.forwardRef)((H,Q)=>(0,o.h)(Z.Uj,ae({ref:Q,linkClassName:_()("reader2-inbox-post",H.isSelected==null&&"hover-action-menu"),native:!0,isPadded:!1,newTab:!0},H)));function We({pub:H,logoUrl:Q,publisherName:pe,children:we,highlights:Le={}}){return h("div",{className:"reader2-post-head reader2-text-meta"},(H||Q)&&h(PubIcon,{className:"pub-logo",pub:H,logoUrl:Q,publicationName:pe,size:20}),h("div",{className:"pub-name"},pe||H&&h(NewTabHoverLink,{href:H.base_url,onClick:Ye=>Ye.stopPropagation()},highlightText(H.name,Le["publication.name"]))),we)}function Ke({value:H,className:Q}){return h("div",{className:classnames("timestamp",Q)},formatPostDate(H))}function Xe({post:H,image:Q,metaText:pe,highlights:we={},excerpt:Le}){return h("div",{className:"reader2-post-body",onClick:()=>{const Ye=(window==null?void 0:window.location)&&new URL(window.location.href);Ye&&track(EVENTS.POST_SEARCH_RESULT_CLICKED,{post_id:H.id,query:decodeURIComponent(Ye.pathname.replace(/\/search\//g,""))})}},h(FlexColumn,{minWidth:0,gap:8},h("div",{className:"reader2-post-title reader2-clamp-lines"},highlightText(H.title,we.title||we["posts.title"],"extrabold")),H.description&&h(Paragraph,{variant:"secondary",isConstrained:!Le},Le?h(Text,{as:"span",fontStyle:"italic"},"\u201C...",highlightText(Le,we.body_text,"extrabold"),"\u201D"):highlightText(decodeHtmlEntitiesFast(H.description),we.subtitle||we["posts.subtitle"],"extrabold")),pe),Q)}function ct({bylines:H,consumptionTime:Q,Icon:pe,audienceBadge:we,showBestsellerBadge:Le,post:Ye,highlights:dt,excerpt:st}){return h(Xe,{post:Ye,metaText:h(Se,{bylines:H,consumptionTime:Q,Icon:pe,audienceBadge:we,showBestsellerBadge:Le,highlights:dt}),image:Ye.cover_image&&h(Et,{post:Ye}),highlights:dt,excerpt:st})}function Se({bylines:H,consumptionTime:Q,Icon:pe,audienceBadge:we,showBestsellerBadge:Le,highlights:Ye={}}){return h(ItemMeta,null,we&&h(Fragment,null,h("span",{className:"meta-audience-badge"},we),h(ge,null)),H.length>0?h(Fragment,null,h(FormattedArray,{array:H,limit:3,formatter:dt=>Le?h(Qe,{name:dt.name,tier:dt.bestseller_tier,userId:dt.id}):highlightText(dt.name,Ye["publication.author_name"])}),Q&&h(ge,null)):null,pe&&h(Fragment,null,h(pe,{className:"meta-icon tw-align-text-top"})," "),Q)}const Qe=({name:H,tier:Q,userId:pe})=>Q?h(FlexRow,{inline:!0,gap:4,alignItems:"center"},H," ",h(UserBadge,{userId:pe,tier:Q,size:"sm"})):h(Fragment,null,H),ge=()=>h("span",{className:"meta-bullet"},"\u2219");function Fe(H){var Q,pe;return(Q=H==null?void 0:H.duration_metadata)!=null&&Q.audio_duration?"podcast":H.video_id&&((pe=H==null?void 0:H.duration_metadata)!=null&&pe.video_duration)?"video":"newsletter"}function Ne(H){const{comment_count:Q,podcast_duration:pe,wordcount:we,videoUpload:Le}=H;let Ye,dt;const st=getPostType(H);if(st==="podcast")Ye=pe/60,dt="listen";else if(st==="video")Ye=Le.duration/60,dt="watch";else{if(st==="thread")return Q>0?`${Q.toLocaleString()} replies`:"Thread";if(we!=null&&we>0)Ye=we/220,dt="read";else return null}return`${Math.max(Math.round(Ye),1).toLocaleString()} min ${dt}`}function lt(H){var Q;let pe,we;const Le=Fe(H);if(Le==="podcast")pe=H.duration_metadata.audio_duration/60,we="listen";else if(Le==="video")pe=H.duration_metadata.video_duration/60,we="watch";else if((((Q=H==null?void 0:H.duration_metadata)==null?void 0:Q.word_count)||0)>0)pe=H.duration_metadata.word_count/220,we="read";else return null;return`${Math.max(Math.ceil(pe),1).toLocaleString()} min ${we}`}function Et({post:H,size:Q=132,square:pe}){const we=H.cover_image,Le=getPostType(H),Ye=Q,dt=Le==="podcast"||pe?Q:200,[st,_t]=useState(null);return st?null:h("div",{className:"reader2-post-picture-container"},h(CloudImage,{className:classnames("reader2-post-picture",Le),src:we,width:dt,height:Ye,loading:"lazy",noStyle:!pe,onError:Tt=>_t(Tt)}),(Le==="podcast"||Le==="video")&&h("div",{className:"reader2-picture-overlay"},h(InboxPodcastPlayIcon,{className:"picture-play"})))}function jt(H){return H==="podcast"?AudioIcon:H==="video"?VideoIcon:H==="thread"?ThreadIcon:null}const en=20;function vt(H){return h(UnstyledButton,ae({className:"reader2-post-action-button"},H))}function Re({isActive:H}){return h(Heart,{className:classnames("reader2-post-action-heart",H&&"isActive"),size:en})}function He({isActive:H}){return h(Comment,{size:en})}function ot({isActive:H}){return h(Flag,{size:en})}function me({isActive:H}){return h(Bookmark,{className:classnames("reader2-post-action-bookmark",H&&"isActive"),size:en})}function ke({text:H}){return h(LinkRow,{linkClassName:"reader2-info-card",noAnchor:!0,native:!0,isPadded:!1},h(RoundedInformationIcon,{className:"reader2-info-card-icon"}),h(Text,{font:"text",color:"secondary",size:14,weight:"medium",lineHeight:20},H))}function je(){return h(Archive,{size:en,className:"inbox-item-action-icon reader2-post-action-archive"})}function Je(){return h(Link,{size:en,className:"inbox-item-action-icon reader2-post-action-copy"})}function tt(){return h(Fragment,null,Array(6).fill(0).map(()=>h(Ae,null)))}function Ae(){const H=useMobile();return h(LinkRow,null,h(FlexColumn,{flex:"grow",gap:12},h(FlexBox,{gap:12,alignItems:"center"},h(Placeholder,{size:24,style:{borderRadius:6}}),h(Placeholder,{type:"bar",maxWidth:120,className:"tw-grow"}),h(Placeholder,{type:"bar",maxWidth:80,className:"tw-ml-auto tw-grow"})),h("div",{className:"reader2-post-body"},h(FlexColumn,{minWidth:0,gap:4},h(Placeholder,{type:"bar",width:"70%"}),h(Placeholder,{type:"bar",width:"80%"}),h(Placeholder,{type:"bar",width:"50%"})),h(Placeholder,{width:H?96:160,height:H?96:120,style:{borderRadius:6}}))))}},33812:(z,l,e)=>{"use strict";e.d(l,{wg:()=>Or});var o=e(6400),f=e(30396),u=e(94184),c=e(3312),_=e(28175),g=e(99869),E=e(71212),v=e(80569),y=e(2731),T=e(82771),w=e(81470),S=e(15045),O=e(70444),p=e(20501),d=e(83322),a=e(43615),P=e(78041),C=e(48963),D=e(53668),A=e(68227),x=e(66839),I=e(96733),N=e(59736),F=e(81243),B=e(63861),V=e(91001),Z=e(69427),Y=e(25877),ne=e(58718),G=e(92643),L=e(63270),W=e(67963),ie=e(69371),ue=e(69518),le=e(60779),J=e(55687),te=e(20447),se=e(2387),ee=e(3258),ae=e(8479),ce=e(11533),fe=e(39419),Ee=e(84040),de=e(51126),_e=e(76235),ve=e(43887),De=e(75425),Oe=e(92630),ye=e(95297),ze=e(10186),Be=e(91870),We=e(68493),Ke=e(11688),Xe=e(50292),ct=e(33510),Se=e(4263),Qe=e(7922),ge=e(96789),Fe=e(13045);const Ne={reasonRow:"frontend-reader2-ProfileReportModal-module__reasonRow--CTUTF",reasonLabel:"frontend-reader2-ProfileReportModal-module__reasonLabel--eMrhr"};var lt=(Jt,Tn,xn)=>new Promise((Xn,xt)=>{var Ft=rn=>{try{tn(xn.next(rn))}catch(ln){xt(ln)}},zt=rn=>{try{tn(xn.throw(rn))}catch(ln){xt(ln)}},tn=rn=>rn.done?Xn(rn.value):Promise.resolve(rn.value).then(Ft,zt);tn((xn=xn.apply(Jt,Tn)).next())});function Et({userId:Jt,surface:Tn,onClose:xn,onReportSuccess:Xn}){const xt=useRef(),Ft=()=>{var kn;return(kn=xt==null?void 0:xt.current)==null?void 0:kn.close()};useEffect(()=>{var kn;(kn=xt==null?void 0:xt.current)==null||kn.open()},[!!xt.current]);const zt=[{value:"spam",label:"It's spam"},{value:"impersonation",label:"It's pretending to be someone else"},{value:"violation",label:"It's posting content that violates Substack's Content Guidelines"}],[tn,rn]=useState(null),[ln,En]=useState(!1),Wn=kn=>lt(this,null,function*(){if(!kn){alert("Please enter a reason!");return}En(!0);try{yield request.post(`/api/v1/user/${Jt}/report`).send({userId:Jt,reason:kn,surface:Tn}),Ft(),Xn(),En(!1),kn==="violation"&&(location.href=getHcProfileViolationFormUrl(Jt))}catch(Un){En(!1),alert(getNetworkErrorMessage(Un))}});return h(PopupModal,{ref:xt,onClose:xn},h(FlexColumn,{padding:24,gap:8},h(Text.H3,null,"Report profile"),h(Text.Detail,null,"Why are you reporting this profile?"),h(EmphasisBox,null,h(FlexColumn,{gap:4},zt.map(({value:kn,label:Un})=>h("label",{className:css.reasonRow},h(Text,{className:css.reasonLabel},Un),h("input",{type:"radio",name:"reason",value:kn,onInput:()=>rn(kn)}))))),h(FlexRow,null,h(Text.Detail,null,"Substack ",h("a",{href:"/content"},"Content Guidelines"))),h(FlexRow,{style:{flexDirection:"row-reverse"}},h(Button,{className:"primary",onClick:()=>Wn(tn),disabled:tn===null||ln},h("span",null,ln?"Loading...":tn==="violation"?"Proceed":"Submit")),h(Button,{className:"secondary",onClick:Ft},h("span",null,"Cancel")))))}var jt=e(68262),en=e(79167),vt=e(74462),Re=e(20533),He=e(4948),ot=e(44396),me=e(70762);const ke={fillIcon:"frontend-reader2-ProfilePage-module__fillIcon--uQnv7",twitterVerifiedIcon:"frontend-reader2-ProfilePage-module__twitterVerifiedIcon--D8_VN",profileRow:"frontend-reader2-ProfilePage-module__profileRow--eeceW",profileImage:"frontend-reader2-ProfilePage-module__profileImage--UGMJ2",stat:"frontend-reader2-ProfilePage-module__stat--rf1FK",avatar:"frontend-reader2-ProfilePage-module__avatar--fwwNi",readsRow:"frontend-reader2-ProfilePage-module__readsRow--mkhra",page:"frontend-reader2-ProfilePage-module__page--m0EUw",grid:"frontend-reader2-ProfilePage-module__grid--yXlQ6",pubMain:"frontend-reader2-ProfilePage-module__pubMain--uGuNF",pub:"frontend-reader2-ProfilePage-module__pub--JVugC"};var je=Object.defineProperty,Je=Object.defineProperties,tt=Object.getOwnPropertyDescriptors,Ae=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,pe=(Jt,Tn,xn)=>Tn in Jt?je(Jt,Tn,{enumerable:!0,configurable:!0,writable:!0,value:xn}):Jt[Tn]=xn,we=(Jt,Tn)=>{for(var xn in Tn||(Tn={}))H.call(Tn,xn)&&pe(Jt,xn,Tn[xn]);if(Ae)for(var xn of Ae(Tn))Q.call(Tn,xn)&&pe(Jt,xn,Tn[xn]);return Jt},Le=(Jt,Tn)=>Je(Jt,tt(Tn)),Ye=(Jt,Tn)=>{var xn={};for(var Xn in Jt)H.call(Jt,Xn)&&Tn.indexOf(Xn)<0&&(xn[Xn]=Jt[Xn]);if(Jt!=null&&Ae)for(var Xn of Ae(Jt))Tn.indexOf(Xn)<0&&Q.call(Jt,Xn)&&(xn[Xn]=Jt[Xn]);return xn},dt=(Jt,Tn,xn)=>new Promise((Xn,xt)=>{var Ft=rn=>{try{tn(xn.next(rn))}catch(ln){xt(ln)}},zt=rn=>{try{tn(xn.throw(rn))}catch(ln){xt(ln)}},tn=rn=>rn.done?Xn(rn.value):Promise.resolve(rn.value).then(Ft,zt);tn((xn=xn.apply(Jt,Tn)).next())});const st=(0,S.getProfileSetupUrl)({utm_source:"substack"}),_t="profile-page-feed";function Tt({id:Jt,initialData:{profileSubscribeOnTransit:Tn=!1}}){var xn;const Xn=useUser(),xt=useRef(null),Ft=useMobile(),zt=useToast();let tn,rn;Jt.includes("-")?(tn=Mn(Jt),rn=tr(Jt)):tn=Jt;const{subjectProfile:ln,error:En}=useProfile({subjectId:tn,subjectName:rn}),Wn=useUserBlockStatus(ln==null?void 0:ln.id),kn=Wn==="blocked"||Wn==="blocking",Un=!!(ln!=null&&ln.profile_set_up_at),Zn=ln&&ln.id===(Xn==null?void 0:Xn.id),or=(ln==null?void 0:ln.subscriptions)||[],yt=(ln==null?void 0:ln.primaryPublication)&&((xn=ln.publicationUsers.find(On=>{var zn;return On.publication_id===((zn=ln==null?void 0:ln.primaryPublication)==null?void 0:zn.id)}))==null?void 0:xn.publication),Wt=!!(yt&&(ln!=null&&ln.isSubscribed)),Zt=(ln==null?void 0:ln.max_pub_tier)===2;useEffect(()=>{ln&&(track(EVENTS.PROFILE_VISITED,{profile_user_id:ln.id,is_set_up:Un,is_self:Zn,has_name:!!ln.name,has_photo:!!ln.photo_url,has_bio:!!ln.bio,has_twitter:!!ln.twitterAccount,reads_count:or.length,writes_count:ln.publicationUsers.length,subscribe_cta_publication_id:!Wt&&(yt==null?void 0:yt.id)}),Tn&&(removeQueryParam("subscribed"),zt.popToast(On=>h(Toast,Le(we({},On),{text:`Subscribed to ${(yt==null?void 0:yt.name)||ln.name||"user"}`,Icon:Check})))))},[Jt]);const[{url:Xt}]=useRouter(),Cn=Oo(Xt)?_t:"profile-page";return En?h(Page,{className:css.page},setMetaData({title:"Profile not found"}),h(FlexBox,{paddingY:64,flex:"grow"},h(ZeroBox,{icon:h(AlertCircle,null),title:"Profile not found",text:"We couldn't load this profile.",action:h(Button,{priority:"secondary",href:getDiscoverSearchUrl()},"Search")}))):ln?h(FlexColumn,{style:{maxWidth:640},flex:"grow",minWidth:0},setMetaData({title:`${ln.name||"<no name>"} | Substack`,description:ln&&ln.bio,image:ln&&ln.photo_url&&imginary(ln.photo_url),seoProps:{noindex:!(Zt&&(ln.photo_url||ln.bio||Un))}}),h(ShareDialog,{ref:xt,medium:"profile-page",user:Xn,profile:ln,onClick:On=>On.preventDefault()}),h(Hr,{profile:ln}),h(FlexColumn,null,h(FlexColumn,{gap:{desktop:20,mobile:16},paddingX:{desktop:20,mobile:16},paddingY:{desktop:32,mobile:16}},h(dr,{profile:ln,primaryPublication:yt,yourProfile:!!Zn,setUp:Un,user:Xn,showCTAs:!kn,subscriptionSource:Cn,subscribeButton:!Zn&&yt&&!kn&&h(oo,{user:Xn,profile:ln,primaryPublication:yt,subscriptionSource:Cn})}),ln.publicationUsers.length>0&&!kn&&h(yo,{isMobile:Ft,profile:ln,primaryPublication:yt,subscriptionSource:Cn}),Wn==="blocked"&&h(FlexBox,{paddingY:32,flex:"grow"},h(ZeroBox,{icon:h(Slash,null),title:`${ln.name||"They"} blocked you`,text:`You are blocked from subscribing to ${ln.name||"them"} and their publications`})),Wn==="blocking"&&h(FlexBox,{paddingY:32,flex:"grow"},h(ZeroBox,{icon:h(Slash,null),title:`You blocked ${ln.name||"them"}`,text:"You can manage your blocks in your account settings.",action:h(Button,{priority:"secondary",href:getGlobalAccountSettingsUrl()},"Account settings")}))),!kn&&Un&&h(Rt,{subscriptions:or,profile:ln})),!Un&&Zn&&h(PageCenter,null,h(FlexBox,{paddingY:64,flex:"grow"},h(Zero,{icon:h(ProfileIcon,null),title:"You haven\u2019t set up your profile yet.",text:"Click the button below to get started.",action:h(Button,{priority:"secondary",href:getGlobalAccountSettingsUrl()},"Set up profile")})))):h(nn,null)}const nn=()=>{const Jt=useMobile();return h(FlexColumn,{style:{maxWidth:600},flex:"grow"},h(FlexColumn,{gap:{desktop:20,mobile:16},paddingX:{desktop:20,mobile:16},paddingTop:{desktop:32,mobile:16},paddingBottom:16},h(FlexRow,{justifyContent:"space-between",alignItems:"center"},h(Placeholder,{type:"circle",size:Jt?96:112}),h(FlexRow,{alignItems:"center",justifyContent:"end",gap:8},h(Placeholder,{type:"circle",size:40}),h(Placeholder,{type:"circle",size:40}),h(Placeholder,{type:"circle",height:40,width:100}))),h(Placeholder,{type:"bar",height:32,width:120}),h(FlexColumn,{gap:8,flex:"grow",minWidth:0},h(Placeholder,{type:"bar",height:20,width:"70%"}),h(Placeholder,{type:"bar",height:20,width:"80%"}),h(Placeholder,{type:"bar",height:20,width:"30%"}))))};function Mn(Jt){const Tn=Jt.split("-");return Tn.length?parseInt(Tn[0]):-1}function tr(Jt){const Tn=Jt.split("-");return Tn.length?Tn.slice(1).join("-"):""}function sr({profile:Jt}){var Tn;useEffect(()=>{track(EVENTS.FEED_PROFILE_SCREEN_VIEWED)},[]);const[xn,Xn]=useReducer(reduceFeed,defaultFeedState),{canFetchMore:xt,lastPage:Ft,fetchMore:zt,hasLoadedOnce:tn}=useInfiniteFetch({pathname:`/api/v1/reader/feed/profile/${Jt.id}`,query:we({},parseQuery(document.location.href)),getPageInit:({lastPage:Un,init:Zn})=>{var or;const yt=(or=Un==null?void 0:Un.result)==null?void 0:or.nextCursor;return yt&&(Zn.query=Le(we({},Zn.query),{cursor:yt})),Zn},auto:!0,deps:[Jt.id],pages:xn.pages,dispatch:Xn}),rn=xt&&!!((Tn=Ft==null?void 0:Ft.result)!=null&&Tn.nextCursor),{bodyRef:ln}=useInfiniteScroll(zt,[Ft],{shouldCheck:rn,threshold:640}),En=xn.pages.map(Un=>{var Zn;return((Zn=Un.result)==null?void 0:Zn.items)||[]}).flat(),Wn=useUser(),kn=Jt&&Jt.id===(Wn==null?void 0:Wn.id);return useEffect(()=>{var Un;((Un=Ft==null?void 0:Ft.result)==null?void 0:Un.items.length)==0&&rn&&zt()},[Ft]),h(FeedProvider,{surface:FeedSurface.Profile,dispatch:Xn,state:xn},h(PageStack,{ref:ln},h(MuteFreeZoneContextProvider,null,En.map(Un=>h(FeedItem,{item:Le(we({},Un),{publication:Un.publication?xn.publications.get(Un.publication.id):Un.publication,post:Un.post?xn.posts.get(Un.post.id):Un.post,comment:Un.comment?xn.comments.get(Un.comment.id):Un.comment,parentComments:Un.parentComments?Un.parentComments.map(Zn=>Zn&&xn.comments.get(Zn.id)||null):Un.parentComments})}))),Ft!=null&&Ft.isLoading||!tn?h(LotsOfNotes,null):En.length===0?h(FlexBox,{paddingY:64,flex:"grow"},h(Zero,{icon:h(EditIcon,null),title:`${kn?"You haven\u2019t":`${Jt.name} hasn\u2019t`||"This user hasn\u2019t"} published any notes yet.`,text:`Once ${kn?"you":"they"} do, you\u2019ll see them here.`,action:h(Button,{priority:"secondary",href:getFeedUrl()},"Visit Notes")})):null))}function Rt({subscriptions:Jt,profile:Tn}){const xn=Tn.publicationUsers.length>0,[Xn,xt]=useState(xn?"post":"note");return h(FlexColumn,{flex:"fill",paddingX:{desktop:20,mobile:0}},h(Tabs,null,xn&&h(Tab,{value:"post",currentValue:Xn,onClick:xt},"Posts"),h(Tab,{value:"note",currentValue:Xn,onClick:xt},"Notes"),h(Tab,{value:"reads",currentValue:Xn,onClick:xt},"Reads",Jt.length>0&&` (${Jt.length})`)),h(FlexColumn,{flex:"fill"},Xn==="note"&&h(sr,{profile:Tn}),Xn==="post"&&h(vn,{profile:Tn,userId:Tn.id}),Xn==="reads"&&h(ho,{subscriptions:Jt,profile:Tn})))}function Mt(Jt){var Tn=Ye(Jt,[]);return h("div",we({className:css.grid},Tn))}function $t({profile:Jt}){const Tn=useUser(),xn=Jt&&Jt.id===(Tn==null?void 0:Tn.id);return h(FlexBox,{paddingY:64,flex:"grow"},h(Zero,{icon:h(EditIcon,null),title:`${xn?"You haven\u2019t":`${Jt.name} hasn\u2019t`||"This user hasn\u2019t"} published any posts yet.`,text:"Once they do, you\u2019ll see them here."}))}function vn({profile:Jt,userId:Tn}){const[Xn,xt]=useState(0),[Ft,zt]=useState([]),{result:tn,isLoading:rn}=useFetch({pathname:"/api/v1/profile/posts",query:{profile_user_id:Tn,offset:Xn,limit:12+1},auto:!0,deps:[Tn,Xn]});useLayoutEffect(()=>{tn&&zt(Xn===0?[tn]:[...Ft,tn])},[tn]);const ln=useMemo(()=>({posts:Ft.map(or=>or.posts.slice(0,12)).flat(),publicationMap:new Map(Ft.map(or=>or.publications).flat().map(or=>[or.id,or]))}),[Ft]),En=Ft[Ft.length-1],Wn=En&&En.posts.length>12,{bodyRef:kn}=useInfiniteScroll(()=>{xt(Xn+12)},[ln,rn],{shouldCheck:Wn&&!rn}),{posts:Un,publicationMap:Zn}=ln;return h(FlexColumn,null,h(PageStack,{ref:kn},tn?Un.length>0?Un.map((or,yt)=>{const Wt=Zn.get(or.publication_id);if(Wt)return h(PostWithActions,{key:or.id,post:or,pub:Wt,isViewed:!0,isLiked:!!or.reaction,isSaved:or.is_saved,onClick:()=>track(EVENTS.ARCHIVE_PAGE_POST_CLICKED,{post_id:or.id,tab:"new",rank_in_feed:yt,source:"profile"}),utmSource:"profile"})}):h($t,{profile:Jt}):h(LotsOfPlaceholders,null),rn&&h(DrunkSpinner,null)))}function An({url:Jt,type:Tn,label:xn,verified:Xn,value:xt}){var Ft,zt,tn,rn;xt=xt.replace(/^@/,"");const ln={twitter:{icon:h(TwitterIcon,{className:css.fillIcon,height:14}),label:"Twitter",verifiedIcon:h(Verified,{className:cn(css.fillIcon,css.twitterVerifiedIcon),size:18}),showUsername:!0},facebook:{icon:h(FacebookIcon,{className:css.fillIcon,height:14}),label:"Facebook"},instagram:{icon:h(InstagramIcon,{className:css.fillIcon,height:14}),label:"Instagram",showUsername:!0},linkedin:{icon:h(LinkedinIcon,{className:css.fillIcon,height:14}),label:"LinkedIn"},youtube:{icon:h(YoutubeIcon,{className:css.fillIcon,height:16}),label:"YouTube"},tiktok:{icon:h(TikTokIcon,{className:css.fillIcon,height:16}),label:"TikTok",showUsername:!0},books:{icon:h(BookOpen,{className:css.fillIcon,height:16}),label:"Books",showUsername:!0}};return h(Button,{size:"small",allCaps:!0,newTab:!0,href:Jt.startsWith("http")?Jt:`http://${Jt}`,rounded:!0,onClick:()=>{track(EVENTS.USER_LINK_CLICKED,{type:Tn,url:Jt,label:xn})},outline:"none",priority:"secondary",leftIcon:((Ft=ln[Tn])==null?void 0:Ft.icon)||h(Link,{size:14}),rightIcon:Xn&&((zt=ln[Tn])==null?void 0:zt.verifiedIcon),className:Xn&&css.verified},(tn=ln[Tn])!=null&&tn.showUsername?xt:((rn=ln[Tn])==null?void 0:rn.label)||xn)}function dr({profile:Jt,primaryPublication:Tn,yourProfile:xn,setUp:Xn,user:xt,showCTAs:Ft,subscriptionSource:zt,subscribeButton:tn}){const rn=(Jt==null?void 0:Jt.name)||"<no name>",ln=useMobile(),En=ln?Text.H2:Text.H1;return h(FlexColumn,{gap:20},h(FlexRow,{justifyContent:"space-between",alignItems:"center"},h(ri,{profile:Jt}),h(FlexRow,{alignItems:"center",justifyContent:"end",gap:8},h(Lr,{profile:Jt,primaryPublication:Tn,yourProfile:xn,setUp:Xn,user:xt,showCTAs:Ft,subscriptionSource:zt}),tn)),h(FlexColumn,{gap:8,flex:"grow",minWidth:0},h(En,null,rn,h("span",{style:{whiteSpace:"nowrap",verticalAlign:ln?"middle":void 0}},"\xA0",h(UserBadge,{tier:Jt.bestseller_tier,userId:Jt.id,inline:!0}))),h(Pr,{profile:Jt,yourProfile:xn}),Jt.bio&&h(Zr,{profile:Jt})),Jt.userLinks.length!==0&&h(FlexRow,{gap:12,wrap:"wrap",justifyContent:"start"},Jt.userLinks.sort((Wn,kn)=>Wn.type!==kn.type?(Wn.type||"website")>(kn.type||"website")?1:-1:Number(Wn.id)>Number(kn.id)?1:-1).map(Wn=>h(An,we({},Wn)))))}function Pr({profile:Jt,yourProfile:Tn}){const[xn,Xn]=useState(!1),{result:xt,error:Ft,isLoading:zt,refetch:tn}=useFetch({pathname:`/api/v1/presubscribe/subscriptions?id=${Jt.id}`,auto:!1,deps:[Jt]}),{getConfigFor:rn}=useSiteConfigs(),ln=useMobile(),En=useToast(),Wn=()=>{Xn(!0),zt||tn()},kn=()=>{Xn(!1)},Un=()=>{!xt&&!zt&&tn()},Zn=()=>{copyToClipboard(getReaderProfileUrl(Jt)),En.popToast(Mr=>h(Toast,Le(we({},Mr),{text:"Link copied",Icon:Link})))};let or;rn("enable_all_author_handles")?or=Jt.handleEditingEnabled:or=!!rn("handle_selection_enabled");const yt=Jt.handle||Tn&&or,Wt=!!(Jt.rough_num_free_subscribers||rn("enable_notes_following")),Zt=!!Jt.presubscriberCount&&Jt.presubscriberCount>0&&!Wt;if(!(yt||Wt||Zt))return null;const Dn=yt&&(Wt||Zt),Cn=yt&&Wt&&Zt,On=!!(Ft||ln||zt||!xt),zn=(xt==null?void 0:xt.subs.map(Mr=>Mr.user))||[],Ir=Jt.presubscriberCount&&formatNumber(Jt.presubscriberCount),no=pluralize(Jt.presubscriberCount,"Subscriber",{just_word:!0}),Yr=h(FlexBox,{gap:4,alignItems:"center",className:cn(Jt.presubscriberCount&&css.stat)},h(Text.Digit,{color:"secondary"},Ir),h(Text.Meta,null,no));return h(FlexBox,{gap:8},yt&&(Jt.handle?h(Text.Meta,{as:"a",onClick:Zn,style:{cursor:"pointer"},decoration:"hover-underline"},h(Tooltip,{text:"Copy link",disabled:ln},`@${Jt.handle}`)):Tn&&h(Text.Meta,{color:"substack"},h(TextLink,{href:getEditProfileUrl({params:{utm_source:"handle-notification",[HANDLE_EDIT_MODAL_QUERY_PARAM]:!0}})},"New: Claim your handle"))),Dn&&h(Text.Meta,null," \xB7 "),Wt&&h(br,{profile:Jt}),Cn&&h(Text.Meta,null," \xB7 "),Zt&&h(FlexBox,{onClick:Wn,onMouseEnter:Un},On?Yr:h(ReactorsTooltip,{users:zn},Yr),h(FacepileDetailModal,{isOpen:xn,onClose:kn,modalLabel:no,totalCount:Jt.presubscriberCount,utmSource:"profile-subscribers-list",faces:zn})))}function br({profile:Jt}){return useSiteConfigs().getConfigFor("enable_notes_following")?h(Text.Meta,{as:"a",href:getProfileConnectionsUrl(Jt,null,{noBase:!0}),decoration:"hover-underline"},Jt.subscriberCountString):Jt.rough_num_subscribers&&!Jt.bestseller_badge_disabled?h(Text.Meta,null,Jt.rough_num_subscribers," of paid subscribers"):h(Text.Meta,null,Jt.rough_num_free_subscribers," of subscribers")}const Or=({url:Jt,twitterText:Tn,onLinkClicked:xn,comment:Xn})=>{const xt=(0,De.pm)(),Ft=(0,L.xR)().getConfigFor("note-preview-image-enabled"),zt=()=>{(0,fe.copyToClipboard)(Jt),xt.popToast(En=>(0,o.h)(De.FN,Le(we({},En),{text:"Link copied",Icon:g.Z}))),xn==null||xn("copy")},tn=()=>{window.open((0,p.pathWithQuery)("https://twitter.com/share",{url:Jt,text:Tn||""}),"_blank"),xn==null||xn("twitter")},rn=()=>{window.open((0,p.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:Jt}),"_blank"),xn==null||xn("facebook")},ln=()=>{xt.popToast(En=>(0,o.h)(De.FN,Le(we({},En),{text:"Downloading image...",Icon:E.Z}))),xn==null||xn("download")};return[(0,o.h)(_e.sN,{icon:(0,o.h)(g.Z,null),onClick:zt},"Copy link"),Ft&&Xn?(0,o.h)(_e.sN,{icon:(0,o.h)(E.Z,null),onClick:ln,href:(0,O.IY)(Xn.id),target:"_blank",download:!0},"Save as image"):(0,o.h)(o.Fragment,null),(0,o.h)(_e.sN,{icon:(0,o.h)(x.Z,null),onClick:tn},"Share to Twitter"),(0,o.h)(_e.sN,{icon:(0,o.h)(A.Z,null),onClick:rn},"Share to Facebook")]},Lr=({profile:Jt,primaryPublication:Tn,yourProfile:xn,setUp:Xn,user:xt,showCTAs:Ft,subscriptionSource:zt})=>{const tn=useMobile(),{getConfigFor:rn}=useSiteConfigs(),ln=useNavContextAndTitle("",{backAction:!0}),En=rn("enable_notes_following"),Wn=!xn&&!Tn&&rn("enable_presubscriptions")&&!Jt.presubscribes_disabled,kn=useUserBlockMenuItems(Jt,"profile"),Un=useFeedFollowMenuItems(Jt,"profile"),[Zn,or]=useState(!1),[yt,Wt]=useState(!1),Zt=Or({url:getReaderProfileUrl(Jt,{utm_source:"substack_profile"}),twitterText:`Subscribe to ${Jt.name}${Jt.twitter_screen_name?`(@${Jt.twitter_screen_name})`:""}`,onLinkClicked:Xt=>{track(EVENTS.PROFILE_SHARE_LINK_CLICKED,{type:Xt,shared_user_id:Jt.id})}});return h(FlexBox,{gap:8,direction:"row"},h(InviteFriendModal,{isOpen:yt,utmSource:"profile-page",onClose:()=>Wt(!1)}),!xn&&h(Fragment,null,h(Menu,{trigger:h(IconButton,{fill:"outline"},h(MoreHorizontal,null)),useMobileBottomSheet:!0,mobileBottomSheetTitle:"Options"},kn,h(MenuItem,{icon:h(Flag,null),priority:"destructive",onClick:()=>or(!0)},"Report"),(xt==null?void 0:xt.is_global_admin)&&h(MenuItem,{icon:h(ExternalLink,null),priority:"destructive",onClick:()=>window.location.href=getUserUndergroundUrl(Jt.id)},"Open in Underground")),Ft&&En&&xt&&h(Wr,{profile:Jt}),Zn&&h(ProfileReportModal,{userId:Jt.id,surface:"profile",onClose:()=>or(!1),onReportSuccess:()=>{}})),Ft&&h(Fragment,null,Wn?h(PresubscribeCta,{profile:Jt,requireLogin:ln.requireLogin,source:{type:"profile",utmSource:zt}}):null,xn&&h(Fragment,null,h(IconButton,{fill:"outline",href:getEditProfileUrl()},h(Edit2,{size:20})),!(xt!=null&&xt.has_publication)&&!tn&&h(Button,{priority:"secondary",fill:"outline",href:getStartPublishingUrl(),localNavigation:!1,rounded:!0},"Create your Substack"),Xn?h(Button,{onClick:()=>Wt(!0),rounded:!0},"Invite friends"):h(Button,{href:st,localNavigation:!1,rounded:!0},"Set up profile"))))};function Wr({profile:Jt}){const{isFollowing:Tn,buttonProps:xn}=useFollowButtonState(Jt,"profile");return h(IconButton,we({fill:"outline"},xn),Tn?h(FollowedIcon,null):h(FollowIcon,null))}const Zr=({profile:Jt})=>h(Text.B4,null,h(Linkify,{options:{attributes:{rel:"nofollow ugc"}}},Jt.bio)),yo=({profile:Jt,primaryPublication:Tn,isMobile:xn})=>{const Xn=useUser(),xt=!!Xn,Ft=Jt.publicationUsers.filter(rn=>rn.publication.id!==(Tn==null?void 0:Tn.id)),zt=Jt&&Jt.id===(Xn==null?void 0:Xn.id),tn=!zt&&Tn&&(Xn==null?void 0:Xn.primary_publication);return h(FlexColumn,{gap:16},Tn&&h(FlexColumn,{className:css.pubMain,bg:"secondary",padding:{desktop:16,mobile:8},radius:12,as:"a",href:getPubUrl(Tn,{signedIn:xt,params:{utm_source:"substack",utm_medium:"web",utm_campaign:"substack_profile"}}),onClick:()=>trackPublicationVisit(Tn,"profile")},h(PublicationContainer,null,h(FlexBox,{flex:"grow",minWidth:0,gap:12,alignItems:"center"},h(PubIcon,{pub:Tn,size:xn?56:64}),h(FlexColumn,{flex:"grow",minWidth:0,gap:4},h(Text.H4,{ellipsis:!0},Tn.name),h(PublicationAuthorText,{author:Tn.author,pub:Tn})),!xn&&tn&&h(Po,{user:Xn,recommendedPublication:Tn,userPublication:Xn==null?void 0:Xn.primary_publication})),Tn.hero_text&&h(PublicationAbout,null,Tn.hero_text),xn&&tn&&h(Po,{user:Xn,recommendedPublication:Tn,userPublication:Xn==null?void 0:Xn.primary_publication}),!zt&&(Xn==null?void 0:Xn.is_author)&&(Xn==null?void 0:Xn.primary_publication)&&h(Po,{recommendedPublication:Tn,userPublication:Xn==null?void 0:Xn.primary_publication}))),Jt.publicationUsers.length>1&&h(Mt,null,Ft.map(rn=>h(io,{key:rn.id,pub:rn.publication,subtitleType:"writer",signedIn:xt}))))};function ho({subscriptions:Jt,profile:Tn}){const xn=useUser(),Xn=Tn.id===(xn==null?void 0:xn.id);return Jt.length===0?h(FlexBox,{paddingY:64,flex:"grow"},Xn?Tn.hasHiddenPublicationUsers?h(Zero,{icon:h(HideIcon,null),title:"All of your publications are hidden.",text:"To show others what you read, edit your profile.",action:h(Button,{priority:"secondary",href:getEditProfileUrl()},"Edit profile")}):h(Zero,{icon:h(BookOpen,null),title:"You haven\u2019t subscribed to any publications yet.",text:"Visit the Explore tab to find something to read.",action:h(Button,{priority:"secondary",href:getDiscoverCategoryUrl()},"Get started")}):h(Zero,{icon:h(Library,null),title:`${Tn.name} doesn\u2019t have any subscriptions to show.`,text:"Once they do, you'll see them here."})):h(FlexColumn,{flex:"fill",gap:{desktop:8,mobile:0},padding:8},Jt.map(xt=>h($r,{key:xt.id,subscription:xt})))}function $r({subscription:Jt}){const Tn=Jt.is_founding?"founder":Jt.membership_state==="subscribed"?"subscribed":null,{publication:xn}=Jt,{author:Xn}=xn,xt=useSubscriptionController({publication:xn,subscriptionSource:"profile-subscriptions"});return h(FlexRow,{as:"a",href:getPubUrl(xn),gap:12,alignItems:"center",paddingY:8,paddingX:8,className:css.readsRow,minWidth:0,flex:"grow"},h(PubIcon,{pub:xn,size:40,badgeType:Tn}),h(FlexColumn,{flex:"grow",minWidth:0,size:14},h(Text.B4,{ellipsis:!0,weight:"semibold",color:"primary",href:getPubUrl(xn)},xn.name),Xn&&h(Text.B4,{ellipsis:!0,color:"secondary"},"by ",Xn.name)),xt.isSubscribed?h(co,{onUnsubscribe:xt.unsubscribe,publication:xn}):h(Button,{fill:"outline",priority:"primary",size:"small",onClick:xt.subscribe},"Subscribe"))}function co({onUnsubscribe:Jt,publication:Tn}){return h(Menu,{trigger:h(Button,{fill:"outline",priority:"secondary",size:"small"},"Subscribed")},h(MenuItem,{icon:h(Settings,null),href:getPubAccountSettingsUrl(Tn,{addBase:!0})},"Manage subscription"),h(MenuItem,{icon:h(X,null),onClick:Jt,priority:"destructive"},"Unsubscribe"))}const io=({pub:Jt,subtitleType:Tn})=>{const xn=!!useUser(),Xn=["subscribed","founder"].includes(Tn)?Tn:null;return h(Fragment,null,h("a",{className:css.pub,href:getPubUrl(Jt,{signedIn:xn,params:{utm_source:"substack",utm_medium:"web",utm_campaign:"profile_page"}}),onClick:()=>trackPublicationVisit(Jt,"profile")},h(FlexBox,{paddingX:{mobile:0,desktop:8},paddingY:8,minWidth:0,flex:"grow"},h(PublicationCard,{pub:Jt,subtitle:Tr[Tn],badgeType:Xn,surface:"profile"}))))},Tr={writer:"Writer",free_signup:"Free subscriber",subscribed:"Paid subscriber",founder:"Founding member"},Hr=({profile:Jt})=>h("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:jsesc(getProfileStructuredData(Jt),{json:!0,isScriptContext:!0})}}),Po=({recommendedPublication:Jt,userPublication:Tn})=>{const[xn,Xn]=useState(!1),[xt,Ft]=useState(!1),zt=useMobile(),{popToast:tn}=useToast(),{result:rn,hasLoadedOnce:ln}=useFetch({pathname:`/api/v1/recommendations/from/${Tn.id}/to/${Jt.id}`,auto:!0,deps:[Tn.id,Jt.id]});useEffect(()=>{const Wn=!!(rn!=null&&rn.recommended_publication_id);Ft(Wn),xt!==Wn&&Ft(Wn)},[ln,rn]);const En=Wn=>dt(void 0,null,function*(){Xn(!0);try{Wn.preventDefault(),xt?(yield request.delete("/api/v1/recommendations").send({recommended_publication_id:Jt.id,recommending_publication_id:Tn.id,source:"profile"}),tn(kn=>h(Toast,Le(we({},kn),{text:"Recommendation removed"})))):(yield request.put("/api/v1/recommendations").send({recommended_publication_id:Jt.id,recommending_publication_id:Tn.id,source:"profile",suggested:!1}),tn(kn=>h(Toast,Le(we({},kn),{text:`Recommended ${Jt.name}`})))),Ft(!xt)}catch(kn){tn(Un=>h(Toast,Le(we({},Un),{text:"Something went wrong. Please try again.",Icon:X})))}Xn(!1)});return xt?h(Button,{priority:"secondary",fill:"outline",onClick:En,disabled:xn,rounded:!zt},"Recommended"):h(Button,{priority:"primary",fill:"outline",onClick:En,disabled:xn||!ln,rounded:!zt},"Recommend")},oo=({user:Jt,profile:Tn,primaryPublication:xn,subscriptionSource:Xn})=>{const[xt,Ft]=useState(!1),[zt,tn]=useState(Tn.isSubscribed),rn=useOnboardingHandler("profile"),{popToast:ln}=useToast(),En=Wn=>dt(void 0,null,function*(){Jt||ln(kn=>h(Toast,Le(we({},kn),{text:"Something went wrong. Please try again.",Icon:X}))),Ft(!0);try{Wn.preventDefault(),yield request.post("/api/v1/reader/signup/pub").send({publication_id:xn.id,email:Jt==null?void 0:Jt.email,visibility:"public",source:Xn}),ln(kn=>h(Toast,Le(we({},kn),{text:`Subscribed to ${xn.name}`,Icon:Check}))),tn(!0),track(EVENTS.FEED_ONE_CLICK_SUBSCRIBE,{source:Xn,publication_id:xn.id})}catch(kn){ln(Un=>h(Toast,Le(we({},Un),{text:"There was an issue subscribing to this profile.",Icon:X})))}Ft(!1)});return zt?h(Button,{priority:"secondary",href:getSubscribeUrl(xn,{user:Jt,addBase:!0,params:{next:document.location.href,utm_source:Xn,utm_medium:"web",utm_campaign:"profile_page"}}),rounded:!0,onClick:()=>trackPublicationVisit(xn,"profile")},"Subscribed"):Xn===_t&&Jt?h(Button,{priority:"primary",onClick:En,disabled:xt,rounded:!0},"Subscribe"):h(Button,{priority:"primary",href:getSubscribeUrl(xn,{user:Jt,addBase:!0,params:{next:document.location.href,utm_source:Xn,utm_medium:"web",utm_campaign:"profile_page"}}),onClick:rn(xn,Tn),rounded:!0},"Subscribe")},Xr=({profile:Jt,includeTopPadding:Tn})=>{const xn=Jt.publicationUsers.filter(Ft=>Ft.public).length,Xn=Jt.primaryPublication&&`Writes ${Jt.primaryPublication.name}
${xn>1?` and ${pluralize(xn-1,"other publication")}`:""}`,xt=Jt!=null&&Jt.handle?Xn?`@${Jt.handle} \u2022 ${Xn}`:`@${Jt.handle}`:Xn;return h(FlexColumn,{paddingTop:Tn?16:void 0,paddingBottom:16},h(FlexRow,{gap:12,alignItems:Jt.bio?"start":"center",className:css.profileRow,padding:8,radius:12,onClick:()=>{window.location.href=getReaderProfileUrl(Jt)}},h(Avatar,{user:Jt,size:48}),h(FlexColumn,null,h(Text.H4,null,Jt.name||"<unset>"),xt&&h(Text.B4,{color:"secondary"},xt),h(Text.B4,{paddingTop:4},Jt.bio))))},po=null;function Oo(Jt){var Tn;const xn=(Tn=new URL(Jt,"https://monograph.dev").searchParams)==null?void 0:Tn.get("utm_source");return xn&&po.includes(xn)}function ri({profile:Jt}){const[Tn,xn]=useState(!1),Xn=getUserPhotoUrl(Jt),xt=useMobile();return h(FlexBox,{style:{cursor:"pointer"},onClick:()=>xn(!0),className:css.avatar},h(Avatar,{size:xt?96:112,user:Jt}),h(LazyComponent,{module:"../components/ImageViewerModal",resolve:Ft=>Ft.ImageViewerModal,onRequest:()=>e.e(661).then(e.bind(e,55661)),showModal:Tn,modalContent:[{src:Xn,attrs:{src:Xn}}],onClose:()=>{xn(!1)},step:0,includeDownloadButton:!1}))}},68262:(z,l,e)=>{"use strict";e.d(l,{F:()=>v});var o=e(6400),f=e(94184),u=e.n(f),c=e(6378),_=e(64234),g=e(55886);const E={root:"frontend-reader2-PubIcon-module__root--jPSt4",custom:"frontend-reader2-PubIcon-module__custom--CCNn3",hello:"frontend-reader2-PubIcon-module__hello--bNKuF",placeholder:"frontend-reader2-PubIcon-module__placeholder--t4NRS"};function v({pub:y,logoUrl:T,publicationName:w,size:S=196,title:O,className:p,imgClassName:d,badgeType:a}){var P;return y&&!T&&(T=(0,c.getLogo)(y)),y&&!w&&(w=y.name||y.subdomain),(0,o.h)("div",{className:u()(E.root,p),title:O,style:{width:S,height:S}},T?(0,o.h)(g.t,{className:u()(E.custom,d),src:T,size:S,alt:w}):(0,o.h)("span",{className:u()(E.placeholder,d),style:{width:S,height:S,backgroundColor:y&&(y.is_www===!0?null:((P=y==null?void 0:y.theme)==null?void 0:P.background_pop_color)||(y==null?void 0:y.theme_var_background_pop)||null),color:null}},w==null?void 0:w[0]),a&&(0,o.h)(_.A,{className:"reader2-pub-badge",type:a,accentColor:y&&(y.is_www===!0?null:y.theme_var_background_pop)}))}},79167:(z,l,e)=>{"use strict";e.d(l,{i:()=>J});var o=e(6400),f=e(94184),u=e(15045),c=e(67963),_=e(3258),g=e(84606),E=e(51126),v=e(43887),y=e(50292),T=e(5131),w=e(33510),S=e(4263),O=e(68262),p=e(40172),d=e(72307);const a={checkmarkWrapper:"frontend-reader2-Publication-module__checkmarkWrapper--K7AwJ"};var P=Object.defineProperty,C=Object.defineProperties,D=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,I=Object.prototype.propertyIsEnumerable,N=(te,se,ee)=>se in te?P(te,se,{enumerable:!0,configurable:!0,writable:!0,value:ee}):te[se]=ee,F=(te,se)=>{for(var ee in se||(se={}))x.call(se,ee)&&N(te,ee,se[ee]);if(A)for(var ee of A(se))I.call(se,ee)&&N(te,ee,se[ee]);return te},B=(te,se)=>C(te,D(se)),V=(te,se)=>{var ee={};for(var ae in te)x.call(te,ae)&&se.indexOf(ae)<0&&(ee[ae]=te[ae]);if(te!=null&&A)for(var ae of A(te))se.indexOf(ae)<0&&I.call(te,ae)&&(ee[ae]=te[ae]);return ee};function Z(te){var se=te,{pub:ee,subscribeButtonStyle:ae,className:ce,onClick:fe}=se,Ee=V(se,["pub","subscribeButtonStyle","className","onClick"]);const de=!!useUser();return h(LinkRow,{linkClassName:classnames("reader2-pub-link",ce),href:getPubUrl(ee,{params:{utm_source:"substack",utm_medium:"web",utm_campaign:"reader2"},signedIn:de}),newTab:ae!=null,onClick:fe},h(Y,B(F({},Ee),{pub:ee,subscribeButtonStyle:ae})))}function Y({pub:te,author:se,subscribeButtonStyle:ee,surface:ae,highlights:ce={},highlightedPost:fe}){var Ee;const de=(se==null?void 0:se.name)||te.author_name||((Ee=te.author)==null?void 0:Ee.name)||te.name,_e=!!useUser();return h(ne,null,h(L,{className:"head",pub:te,subtitle:h("span",null,"By ",highlightText(de,ce.author_name)),subscribeButtonStyle:ee,surface:ae,highlights:ce}),(te.editorial_bio||te.hero_text)&&h(Paragraph,{variant:"secondary",className:"description",isConstrained:!0},te.editorial_bio||highlightText(te.hero_text,ce.hero_text)),fe&&h("a",{target:"_blank",rel:"noopener",href:getPostUrl(te,fe,{signedIn:_e})},h(Box,{border:"detail",padding:12,radius:6,shadow:"md"},h(PostBody,{highlights:ce,post:fe}))),te.rankingDetail&&h(Text.Meta,null,te.rankingDetailFreeSubscriberCount))}function ne(te){return h(FlexBox,F({className:"reader2-pub-link",gap:12},te))}function G({children:te}){return h(Paragraph,{variant:"secondary",className:"description",isConstrained:!0},te)}function L({pub:te,subtitle:se,subscribeButtonStyle:ee=null,isSubscribed:ae,className:ce,badgeType:fe,surface:Ee,highlights:de={}}){const _e=useUser();return h(FlexBox,{gap:12,flex:"grow",minWidth:0,className:ce},h(PubIcon,{className:"logo",pub:te,size:40,badgeType:fe}),h(FlexColumn,{minWidth:0,flex:"grow"},h(Text.B4,{weight:"semibold",ellipsis:!0},highlightText(te.name,de.name,"extrabold")),h(Text.B4,{color:"secondary",ellipsis:!0},se)),ae?h(FlexBox,{className:css.checkmarkWrapper,alignItems:"center",justifyContent:"center"},h(Check,{size:16,stroke:"var(--color-tertiary)"})):ee&&h(W,{pub:te,user:_e,buttonStyle:ee,surface:Ee}))}function W({pub:te,user:se,buttonStyle:ee,surface:ae}){const ce=useSubscriptionsContext(),fe=J(ae)(te);return h(Button,{variant:"primary",look:ee==="big"?"round":"circle",size:"small",hasLeftIcon:ee==="big",newTab:!0,href:getSubscribeUrl(te,{addBase:!0,user:se,utm_source:"substack",utm_medium:"web",utm_campaign:"reader2"}),onClick:Ee=>{if(Ee.stopPropagation(),se){const de="visibilitychange",_e=()=>{document.visibilityState==="visible"&&(ce.refetch(),document.removeEventListener(de,_e))};document.addEventListener(de,_e)}fe(Ee)}},ee==="big"?h(Fragment,null,h("div",{className:"reader2-button-icon-circle"},h(Plus,{size:12,strokeWidth:3})),"Subscribe"):h(Fragment,null,h(Plus,{size:20})))}function ie(te){var se;return te.author_name||((se=te.author)==null?void 0:se.name)}function ue({pub:te,author:se}){const ee=(se==null?void 0:se.name)||ie(te);return h(Text.B4,null,"By ",ee)}function le({className:te}){return h(LinkRow,{linkClassName:classnames("reader2-pub-link",te)},h("div",{className:"reader2-publication-card"},h(Placeholder,{size:48}),h("div",{className:"meta",style:{gap:8}},h(Placeholder,{type:"bar",width:120}),h(Placeholder,{type:"bar",width:80}))),h("div",{className:"body"},h(Placeholder,{type:"bar",width:"90%"}),h(Placeholder,{type:"bar",width:"100%"}),h(Placeholder,{type:"bar",width:"80%"})))}function J(te){const se=(0,c.aF)(),{onboardingModalRef:ee}=(0,y.SJ)();return(ae,ce)=>fe=>{var Ee,de;if(!se){if(!ee.current)return;fe.preventDefault(),ce?(Ee=ee.current)==null||Ee.openForPub(ae,ce):(de=ee.current)==null||de.openToPubSignup(ae);return}(0,_.x6)(ae,te)}}},44695:(z,l,e)=>{"use strict";e.d(l,{GF:()=>le,Sm:()=>Y,Sz:()=>ue});var o=e(6400),f=e(94184),u=e.n(f),c=e(25380),_=e(15045),g=e(83322),E=e(67963),v=e(3258),y=e(8479),T=e(84040),w=e(48960),S=e(51126),O=e(94016),p=e(43887),d=e(95297),a=e(10186),P=e(33510),C=e(68262),D=e(79167),A=e(27797),x=Object.defineProperty,I=Object.getOwnPropertySymbols,N=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable,B=(J,te,se)=>te in J?x(J,te,{enumerable:!0,configurable:!0,writable:!0,value:se}):J[te]=se,V=(J,te)=>{for(var se in te||(te={}))N.call(te,se)&&B(J,se,te[se]);if(I)for(var se of I(te))F.call(te,se)&&B(J,se,te[se]);return J},Z=(J,te)=>{var se={};for(var ee in J)N.call(J,ee)&&te.indexOf(ee)<0&&(se[ee]=J[ee]);if(J!=null&&I)for(var ee of I(J))te.indexOf(ee)<0&&F.call(J,ee)&&(se[ee]=J[ee]);return se};const Y=J=>{var te=J,{publication_id:se,inline:ee,utmSource:ae}=te,ce=Z(te,["publication_id","inline","utmSource"]);const{result:fe,refetch:Ee}=(0,y.ib)({pathname:`/api/v1/publication/public/${se}`,auto:!1,deps:[se]}),de=(0,E.aF)();return(0,o.h)(O.z,V({className:u()(A.Z.publicationHoverCardTarget,ee&&A.Z.inline),content:fe?(0,o.h)(ne,{result:fe,utmSource:ae}):(0,o.h)(ie,null),onFetch:Ee,layerClassName:A.Z.publicationHoverCard},ce))};function ne({result:J,utmSource:te}){const{pub:se}=J,ee=(0,E.aF)();(0,v.j)(v.FP.PUBLICATION_HOVER_CARD_SHOWN,{publication_id:se.id});let ae=se.contributors,ce=null;ae&&ae.length>3&&(ce=`See all (${(0,g.numberToString)(ae.length)})`,ae=ae.slice(0,3));const fe=`${se.base_url}?utm_source=${te}`;return(0,o.h)(S.tu,{gap:16,padding:8},(0,o.h)(S.gq,null,(0,o.h)("a",{href:fe},(0,o.h)(C.F,{pub:J.pub,size:56}))),(0,o.h)(S.tu,{gap:6},(0,o.h)(ue,{title:J.pub.name,handle:void 0,blurb:J.pub.hero_text,url:J.pub.base_url}),se.rankingDetail&&se.rankingDetailFreeSubscriberCount&&(0,o.h)(p.xv,{font:"meta",color:"secondary",size:12,weight:"medium",lineHeight:20},se.rankingDetailFreeSubscriberCount.toUpperCase())),(0,o.h)(S.tu,null,(0,o.h)(G,{isContr:J.isContributor,isSubs:J.isSubscribed,pub:J.pub,user:ee,dashboardUrl:J.pub.base_url,utmSource:te})),(0,o.h)(w.i,null),(0,o.h)(S.tu,null,(0,o.h)(L,{contributors:ae,seeAllLabel:ce,redirLink:J.pub.base_url,utmSource:te})))}function G({isContr:J,isSubs:te,pub:se,user:ee,dashboardUrl:ae,utmSource:ce}){const fe=(0,D.i)("profile");return(0,o.h)(S.tu,null,J?(0,o.h)(o.Fragment,null,(0,o.h)(T.zx,{priority:"secondary",fill:"outline",href:`${ae}/publish`},"Dashboard")):te?(0,o.h)(T.zx,{priority:"secondary",fill:"outline",href:(0,_.getSubscribeUrl)(se,{user:ee,addBase:!0,utm_source:ce||"pub_hover_card",utm_medium:"web",utm_campaign:"profile_page"}),leftIcon:(0,o.h)(c.Z,null)},"Subscribed"):(0,o.h)(T.zx,{priority:"primary",href:(0,_.getSubscribeUrl)(se,{user:ee,addBase:!0,utm_source:ce|"pub_hover_card",utm_medium:"web",utm_campaign:"profile_page"}),onClick:fe(se)},"Subscribe"))}function L({contributors:J,seeAllLabel:te,redirLink:se,utmSource:ee}){return(0,o.h)(S.tu,null,(0,o.h)(le,{sectionTitle:"Written by",seeAllLabel:te,link:`${se}/about?sort=people`}),(0,o.h)(S.tu,null,J.map(ae=>(0,o.h)(W,{profile:ae,utmSource:ee}))))}function W({profile:J,utmSource:te}){return(0,o.h)("a",{href:(0,_.getProfileUrlById)(J.user_id,J.name,{searchParams:{utm_source:te}}),className:A.Z.hoverCardAvatar},(0,o.h)(a.qE,{user:J,size:32}),(0,o.h)(p.xv,{font:"text",weight:"semibold",size:14,lineHeight:20},J.name))}function ie(){return(0,o.h)(S.tu,{padding:8,gap:8},(0,o.h)(P.Vm,{size:56,style:{borderRadius:4}}),(0,o.h)(P.Vm,{type:"bar",width:"100%",height:20}),(0,o.h)(P.Vm,{type:"bar",width:"20%",height:20}),(0,o.h)(P.Vm,{type:"bar",width:"60%",height:20}))}function ue({title:J,handle:te,blurb:se,url:ee,themed:ae,bestsellerTier:ce,userId:fe}){return(0,o.h)(o.Fragment,null,(0,o.h)("a",{style:{textDecoration:"none"},href:ee},(0,o.h)(p.xv.H3,{color:ae?"pub-primary-text":"primary",className:A.Z.hoverCardTitle},J,!!ce&&!!fe&&(0,o.h)("span",{style:{whiteSpace:"nowrap",position:"relative",top:2,left:2}},"\xA0",(0,o.h)(d.s,{inline:!0,tier:ce,userId:fe,tooltipOnHover:!0,size:"md"})))),te&&(0,o.h)(p.xv.Meta,null,`@${te}`),se&&(0,o.h)(p.xv.B3,{color:ae?"pub-secondary-text":"secondary",clamp:4},se))}function le({sectionTitle:J,seeAllLabel:te,link:se}){return(0,o.h)(S.gq,{justifyContent:"space-between"},(0,o.h)(p.xv.Meta,{color:"secondary"},J),te&&(0,o.h)("a",{className:A.Z.hoverCardSeeAll,href:se},(0,o.h)(p.xv.B4,{color:"accent-blue"},te)))}},74462:(z,l,e)=>{"use strict";var o=e(6400),f=e(92630),u=e(44396);function c({users:g,children:E}){const v=useMobile(),y=6;let T;g.length>y+1?T=g.slice(0,y).map(S=>{var O;return(O=S.name)!=null?O:"A reader"}).concat([`+ ${_.format(g.length-y)} others`]):T=g.map(S=>{var O;return(O=S.name)!=null?O:"A reader"});const w=T.join(`
`);return h(Tooltip,{text:w,disabled:v},E)}const _=Intl.NumberFormat(void 0,{maximumSignificantDigits:4})},40172:(z,l,e)=>{"use strict";var o=e(6400),f=e(43887);const u=(c,_,g)=>{if(!c)return"";if(!_)return c;const E=new RegExp(_.join("|"),"ig"),v=c.split(E),y=[...c.matchAll(E)];return v.map((w,S)=>h(Fragment,null,w,S!==v.length-1&&h(Text,{as:"span",weight:g||"bold",fontStyle:"italic"},y[S]," ")))}},20533:(z,l,e)=>{"use strict";var o=e(6400),f=e(94184),u=e(84040),c=e(51126),_=e(43887);const g={tabs:"frontend-reader2-TabBar-module__tabs--WpXhb",tab:"frontend-reader2-TabBar-module__tab--E9FLI",isActive:"frontend-reader2-TabBar-module__isActive--hHYju",tabText:"frontend-reader2-TabBar-module__tabText--Sb2W6"};var E=Object.defineProperty,v=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,w=(a,P,C)=>P in a?E(a,P,{enumerable:!0,configurable:!0,writable:!0,value:C}):a[P]=C,S=(a,P)=>{for(var C in P||(P={}))y.call(P,C)&&w(a,C,P[C]);if(v)for(var C of v(P))T.call(P,C)&&w(a,C,P[C]);return a},O=(a,P)=>{var C={};for(var D in a)y.call(a,D)&&P.indexOf(D)<0&&(C[D]=a[D]);if(a!=null&&v)for(var D of v(a))P.indexOf(D)<0&&T.call(a,D)&&(C[D]=a[D]);return C};function p(a){var P=a,{value:C,currentValue:D,children:A,onClick:x}=P,I=O(P,["value","currentValue","children","onClick"]);const N=C===D;return h(UnstyledButton,S({className:classnames(css.tab,N&&css.isActive),resetCss:!0,onClick:()=>x(C)},I),h(Text,{size:14,lineHeight:20,weight:"medium",className:classnames(css.tabText,N&&css.isActive)},A))}function d(a){return h(FlexBox,S({className:css.tabs,style:{height:40}},a))}},47585:(z,l,e)=>{"use strict";e.d(l,{Eb:()=>T,in:()=>w,r8:()=>v});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),_=e(21958),g=e(42332);const E={unreadDot:"frontend-reader2-UnreadBadge-module__unreadDot--GSn8Q"};function v(S,O=(0,o.h)(y,null)){const[p,d]=(0,f.eJ)(S);return[p&&O,()=>{d(!1)}]}function y(){return(0,o.h)(T,null)}function T({className:S}){const{isHovering:O,ref:p}=(0,g.aw)();return(0,o.h)(o.Fragment,null,(0,o.h)(w,{className:c()(S,"reader2-unread-dot"),ref:p}),O&&(0,o.h)(g.u,{tetherRef:p},"New since your last visit"))}const w=(0,_.L)(E.unreadDot)},16742:(z,l,e)=>{"use strict";e.d(l,{K:()=>W,y:()=>ie});var o=e(6400),f=e(30396),u=e(81108),c=e(74655),_=e(36250),g=e(70444),E=e(20501),v=e(31517),y=e(1706),T=e(67963),w=e(8479),S=e(39419),O=e.n(S),p=e(84040),d=e(51126),a=e(76235),P=e(62246),C=e(43887),D=e(75425),A=e(91870),x=e(10174),I=Object.defineProperty,N=Object.defineProperties,F=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable,Y=(J,te,se)=>te in J?I(J,te,{enumerable:!0,configurable:!0,writable:!0,value:se}):J[te]=se,ne=(J,te)=>{for(var se in te||(te={}))V.call(te,se)&&Y(J,se,te[se]);if(B)for(var se of B(te))Z.call(te,se)&&Y(J,se,te[se]);return J},G=(J,te)=>N(J,F(te)),L=(J,te,se)=>new Promise((ee,ae)=>{var ce=de=>{try{Ee(se.next(de))}catch(_e){ae(_e)}},fe=de=>{try{Ee(se.throw(de))}catch(_e){ae(_e)}},Ee=de=>de.done?ee(de.value):Promise.resolve(de.value).then(ce,fe);Ee((se=se.apply(J,te)).next())});function W({pub:J,post:te,comment:se,feedItem:ee,onRestack:ae,tabId:ce}){var fe,Ee;const de=(0,T.aF)(),_e=(0,D.pm)(),ve=!!de,De=!!((fe=se||te)!=null&&fe.restacked),Oe=((Ee=se||te)==null?void 0:Ee.restacks)||0,ye=(0,A.I0)(),ze=(0,x.i3)(),Be=(0,w.ib)({pathname:"/api/v1/restack/feed"}),{nuxModal:We,showRestackNux:Ke}=ie(se&&!se.post_id?"note":se?"comment":"post"),Xe=()=>L(this,null,function*(){const Qe=yield Be.refetch({method:"POST",json:{postId:se?null:te==null?void 0:te.id,commentId:(se==null?void 0:se.id)||null,tabId:ce}});if(Qe instanceof Error){alert((0,S.getNetworkErrorMessage)(Qe));return}_e.popToast(ge=>(0,o.h)(D.FN,G(ne({},ge),{text:`${Qe.comment?"Note":"Post"} restacked`,Icon:v.Z,cta:"View",href:(0,g.E2)()}))),Qe.comment?ye({type:"comment_restack",payload:{commentId:Qe.comment.id,isRestacked:!0}}):ye({type:"post_restack",payload:{postId:Qe.post.id,isRestacked:!0}}),Ke(),ae==null||ae(!0)}),ct=()=>L(this,null,function*(){const Qe=yield Be.refetch({method:"DELETE",json:{postId:se?null:te==null?void 0:te.id,commentId:(se==null?void 0:se.id)||null,tabId:ce}});if(Qe instanceof Error){alert((0,S.getNetworkErrorMessage)(Qe));return}_e.popToast(ge=>(0,o.h)(D.FN,G(ne({},ge),{text:"Restack undone",Icon:u.Z}))),se?ye({type:"comment_restack",payload:{commentId:se.id,isRestacked:!1}}):te&&ye({type:"post_restack",payload:{postId:te.id,isRestacked:!1}}),ae==null||ae(!1)}),Se=Qe=>L(this,null,function*(){Qe.preventDefault();try{yield ze.open({feedItem:ee,restackUrl:se?(0,_.getCommentUrl)(te,se,J):(0,E.getPostUrl)(J,te),tabId:ce}),Ke()}catch(ge){}});return{canRestack:ve,isRestacked:De,restacks:Oe,nuxModal:We,menuItems:[De?(0,o.h)(a.sN,{icon:(0,o.h)(u.Z,null),onClick:ct},"Undo restack"):(0,o.h)(a.sN,{icon:(0,o.h)(v.Z,null),onClick:Xe},"Restack"),(0,o.h)(a.sN,{icon:(0,o.h)(y.Z,null),onClick:Se},"Restack with a note")]}}function ie(J){const te=ue({entityType:J}),se=(0,w.ib)({pathname:"/api/v1/feed/has-restacked",auto:!1,cacheTtl:1/0}),ee=()=>L(this,null,function*(){var ae;const ce=(ae=se.result)!=null?ae:yield se.refetch();!(ce instanceof Error)&&(ce==null?void 0:ce.hasRestacked)===!1&&(te.open(),se.setResult({hasRestacked:!0}))});return{nuxModal:te.element,showRestackNux:ee}}function ue({entityType:J}){const[te,se]=(0,f.eJ)(!1),ee=()=>{se(!1)};return{open:()=>{se(!0)},element:(0,o.h)(P.u_,{isOpen:te,onClose:ee},(0,o.h)(le,{onClose:ee,entityType:J}))}}function le({onClose:J,entityType:te}){return(0,o.h)(d.tu,{paddingX:16},(0,o.h)(d.hs,{justifyContent:"center",paddingTop:32,paddingBottom:24},(0,o.h)(c.Z,{size:40,stroke:"var(--color-primary)"})),(0,o.h)(d.tu,{gap:12},(0,o.h)(C.xv.H3,{align:"center"},"You restacked a ",te),(0,o.h)(C.xv.B3,{color:"secondary",align:"center"},"Restack ",te,"s that inspire you to share them with more people. Subscribers can see your restacks in the Notes tab and on your profile.")),(0,o.h)(d.tu,{paddingBottom:16,paddingTop:20,gap:8},(0,o.h)(p.zx,{rounded:!0,href:(0,g.E2)()},"View now"),(0,o.h)(p.zx,{priority:"secondary",fill:"outline",rounded:!0,onClick:J},"OK")))}},70762:(z,l,e)=>{"use strict";e.d(l,{K:()=>x,_:()=>A});var o=e(6400),f=e(30396),u=e(86418),c=e(20501),_=e(63270),g=e(67963),E=e(8479),v=e(75425),y=e(72307),T=Object.defineProperty,w=Object.defineProperties,S=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,a=(ne,G,L)=>G in ne?T(ne,G,{enumerable:!0,configurable:!0,writable:!0,value:L}):ne[G]=L,P=(ne,G)=>{for(var L in G||(G={}))p.call(G,L)&&a(ne,L,G[L]);if(O)for(var L of O(G))d.call(G,L)&&a(ne,L,G[L]);return ne},C=(ne,G)=>w(ne,S(G)),D=(ne,G,L)=>new Promise((W,ie)=>{var ue=te=>{try{J(L.next(te))}catch(se){ie(se)}},le=te=>{try{J(L.throw(te))}catch(se){ie(se)}},J=te=>te.done?W(te.value):Promise.resolve(te.value).then(ue,le);J((L=L.apply(ne,G)).next())});function A({publicationId:ne,publication:G,publicationName:L,user:W,allowSecondaryPublications:ie=!0,allowPresubscribe:ue,subscriptionSource:le,sourceNoteId:J}){var te,se,ee;ne=(ee=(te=G==null?void 0:G.id)!=null?te:ne)!=null?ee:(se=W==null?void 0:W.primary_publication)==null?void 0:se.id;const{getConfigFor:ae}=(0,_.xR)(),ce=ae("enable_presubscriptions"),fe=(0,g.aF)(),Ee=(0,v.pm)(),de=(0,y.Th)(),[_e,ve]=(0,f.eJ)(!1),De=N(fe,ne,de)||I(fe,W,de,{allowSecondaryPublications:ie}),[Oe,ye]=(0,f.eJ)(null),ze=!!(ne||ue&&ce&&W),Be=de.isLoading||!!Oe||!ze,We=ct=>D(this,null,function*(){var Se;if(ct&&(ct.preventDefault(),ct.stopPropagation()),Be||De||!ze)return;ye("subscribing");const Qe=ne?yield B(ne,le,{publication:G,user:fe,sourceNoteId:J}):W?yield Z(fe,W,le):{didAction:!1,errorMessage:"No subscription target"},ge=`Subscribed to ${ne?(Se=L!=null?L:G==null?void 0:G.name)!=null?Se:"publication":W?W.name:"profile"}`;if(Qe.didAction){if(ve(!0),Ee.popToast(Fe=>(0,o.h)(v.FN,C(P({},Fe),{text:ge}))),fe)try{yield de.refetch()}catch(Fe){console.error("Failed to reload subscriptions:",Fe)}}else Qe.errorMessage&&Ee.popToast(Fe=>{var Ne;return(0,o.h)(v.FN,C(P({},Fe),{text:(Ne=Qe.errorMessage)!=null?Ne:""}))});ye(null)}),Ke=ct=>D(this,null,function*(){var Se;if(ct&&(ct.preventDefault(),ct.stopPropagation()),Be||!De||!ze)return;ye("unsubscribing");const Qe=ne?yield V(ne,le):W?yield Y(fe,W,le):{didAction:!1,errorMessage:"No subscription target"},ge=`Unsubscribed from ${ne?(Se=L!=null?L:G==null?void 0:G.name)!=null?Se:"publication":W?W.name:"profile"}`;if(Qe.didAction){if(ve(!1),Ee.popToast(Fe=>(0,o.h)(v.FN,C(P({},Fe),{text:ge}))),fe)try{yield de.refetch()}catch(Fe){console.error("Failed to reload subscriptions:",Fe)}}else Qe.errorMessage&&Ee.popToast(Fe=>{var Ne;return(0,o.h)(v.FN,C(P({},Fe),{text:(Ne=Qe.errorMessage)!=null?Ne:""}))});ye(null)}),Xe=De&&!Oe||Oe==="subscribing";return{showCta:ze&&(!fe||de.hasLoadedOnce)&&!(fe&&fe.id===(W==null?void 0:W.id))&&(!De||_e||Oe==="unsubscribing"),isSubscribed:Xe,hasPublication:!!ne,subscribe:We,unsubscribe:Ke,toggle:Xe?Ke:We}}function x(ne){var G;const L=(0,y.Th)(),W=(0,g.aF)();if((W==null?void 0:W.id)===ne)return"subscribed";const{result:ie}=L;if(!ie)return null;const{subscriptions:ue,publicationUsers:le}=ie;for(const te of le)if(["admin","contributor"].includes(te.role)&&F(ne,te.publication_id,L))return"subscribed";let J=null;for(const te of ue)F(ne,te.publication_id,L)&&(J=(G=(0,u.P)(te.membership_state,J)?te.membership_state:J)!=null?G:null);return J}function I(ne,G,L,{allowSecondaryPublications:W}={}){if(!ne||!G||!L.hasLoadedOnce||!L.result)return!1;const{presubscriptions:ie,subscriptions:ue,publicationUsers:le}=L.result;if(ie.includes(G.id))return!0;if(W){for(const J of ue)if(J.membership_state!=="unsubscribed"&&F(G.id,J.publication_id,L))return!0;for(const J of le)if(["admin","contributor"].includes(J.role)&&F(G.id,J.publication_id,L))return!0}return!1}function N(ne,G,L){if(!ne||!G||!L.hasLoadedOnce||!L.result)return!1;const W=L.result.subscriptionMap.get(G);if(W&&W.membership_state!=="unsubscribed")return!0;const ie=L.result.publicationUserMap.get(G);return!!(ie&&["admin","contributor"].includes(ie.role))}function F(ne,G,L){if(L.isLoading||!L.result)return!1;const W=L.result.publicationMap.get(G);if(W){if(W.author_id===ne)return!0;for(const ie of W.contributors)if(ie.user_id===ne)return!0}return!1}function B(ne,G){return D(this,arguments,function*(L,W,{publication:ie,user:ue,sourceNoteId:le}={}){let J=!1,te;if(ue)try{(yield(0,E.rd)("/api/v1/reader/signup/pub",{method:"POST",json:{publication_id:L,email:ue.email,source:W,noWelcomeEmail:!0,sourceNoteId:le}})).requires_confirmation?te="Check your email to confirm subscription":J=!0}catch(se){console.error(se),te="Failed to subscribe"}else if(!ue){if(!ie)try{ie=yield(0,E.rd)(`/api/v1/reader/publication/${L}`)}catch(se){console.error(se)}if(ie){const se=(0,c.getSubscribeUrl)(ie,{addBase:!0,user:ue!=null?ue:void 0});window.open(se,"_blank")}}return{didAction:J,errorMessage:te}})}function V(ne,G){return D(this,null,function*(){let L=!1,W;try{yield(0,E.rd)("/api/v1/subscription/email",{method:"POST",json:{publication_id:ne,email_disabled:!0,digest_enabled:!1,receive_podcast_emails:!1,source:G}}),L=!0}catch(ie){console.error(ie),W="Failed to unsubscribe"}return{didAction:L,errorMessage:W}})}function Z(ne,G,L){return D(this,null,function*(){let W=!1,ie;try{yield(0,E.rd)((0,c.getPresubscribeUrl)(G),{method:"POST",json:{source:L}}),W=!0}catch(ue){console.error(ue),ie="Failed to subscribe"}return{didAction:W,errorMessage:ie}})}function Y(ne,G,L){return D(this,null,function*(){let W=!1,ie;try{yield(0,E.rd)((0,c.getPresubscribeUrl)(G),{method:"DELETE",json:{source:L}}),W=!0}catch(ue){console.error(ue),ie="Failed to unsubscribe"}return{didAction:W,errorMessage:ie}})}},81671:(z,l,e)=>{"use strict";e.d(l,{Z:()=>y});var o=e(6400),f=e(94184),u=e.n(f),c=e(15045),_=e(83322),g=e(79786);function E({href:T,linkify:w,children:S,openInNewTab:O}){return w?O?(0,o.h)("a",{href:T,target:"_blank"},S):(0,o.h)("a",{href:T,native:!0},S):S}const y=({pub:T,href:w="",logo_url:S,showHover:O=!1,byline:p=null,proof:d=null,size:a=196,linkify:P=!0,title:C=null,className:D="",noMargin:A=!1,openInNewTab:x=!1,isStatic:I=!1,belowTheFold:N=!1})=>{var F;return(0,o.h)("div",{className:u()("pub-icon",!A&&"pub-icon-margin",D),title:C},O&&(0,o.h)("div",{className:"logo-hover"},(0,o.h)("div",{className:"logo-hover-title"},(0,o.h)("a",{href:w||T.base_url,native:!0},(T.name||T.subdomain)+(p?` by ${p}`:""))),(0,o.h)("div",{className:"logo-hover-proof"},d),(0,o.h)("div",{className:"logo-hover-description"},T.hero_text)),(0,o.h)(E,{href:w||T.base_url,linkify:P,openInNewTab:x},S?I?(0,o.h)("img",{src:(0,c.imginary)(S,a*2,{height:a*2,crop:"fill"}),width:a,height:a,className:"custom",alt:T.name}):(0,o.h)(g.e,{className:"custom",alt:T.name,imageProps:{height:a*2,crop:"fill"},maxWidth:a*2,src:S,width:a,height:a,loading:N?"lazy":null}):(0,o.h)("span",{className:"placeholder",style:T.theme_var_background_pop?`border-color:${(0,_.colorLightness)(T.theme_var_background_pop,.7)} ${T.theme_var_background_pop} ${T.theme_var_background_pop} ${(0,_.colorLightness)(T.theme_var_background_pop,.7)}`:""},(F=T.name||T.subdomain)==null?void 0:F[0])))}},86804:(z,l,e)=>{"use strict";e.d(l,{Z:()=>_});var o=e(6400),f=(y,T,w)=>new Promise((S,O)=>{var p=P=>{try{a(w.next(P))}catch(C){O(C)}},d=P=>{try{a(w.throw(P))}catch(C){O(C)}},a=P=>P.done?S(P.value):Promise.resolve(P.value).then(p,d);a((w=w.apply(y,T)).next())});const u="https://www.google.com/recaptcha/api.js?render=explicit&onload=__captchaOnloadCallback";let c=!1;typeof window!="undefined"&&(window.__captchaOnloadCallback=E);class _ extends o.Component{componentDidMount(){return f(this,null,function*(){yield v(),this.captchaId=window.grecaptcha.render(this.base,{sitekey:window._preloads.captcha_site_key,size:"compact"})})}getResponse(){return window.grecaptcha.getResponse(this.captchaId)}render({className:T}){return(0,o.h)("div",{className:T})}}function g(){const y=document.getElementsByTagName("script")[0],T=document.createElement("script");T.type="text/javascript",T.async=!0,T.defer=!0,T.src=u,y.parentNode.insertBefore(T,y)}function E(){if(c){const y=c;c=!0;for(const T of y)T()}}function v(){return new Promise(y=>{c===!0?y():c===!1?(c=[y],g()):c.push(y)})}},19826:(z,l,e)=>{"use strict";e.d(l,{EJ:()=>v.E,Fx:()=>d,ZP:()=>p});var o=e(6400),f=e(94184),u=e.n(f),c=e(39419),_=e.n(c),g=e(7922),E=e(26059),v=e(22939),y=Object.defineProperty,T=(a,P,C)=>P in a?y(a,P,{enumerable:!0,configurable:!0,writable:!0,value:C}):a[P]=C,w=(a,P,C)=>(T(a,typeof P!="symbol"?P+"":P,C),C);const S="active",O=.7;class p extends o.Component{constructor(P,C){if(super(P,C),w(this,"onDocumentMouseUp",D=>{!(0,c.isRootOrChild)(D.target,this.base)&&this.state.active&&!this.blockToggle&&(this.close(),this.blockToggle=!0,setTimeout(()=>{this.blockToggle=!1},0))}),w(this,"onDocumentKeyDown",D=>{D.key==="Escape"&&this.state.active&&this.close()}),w(this,"onWindowResize",()=>{this.placeDropdown()}),w(this,"placeDropdown",()=>{var D,A;if(!this.base||this.useDrawerStyle()||this.props.noPlace){this.setState({left:null,right:null});return}const x=this.base.getBoundingClientRect(),I=x.width/(this.state.active?1:O),N=x.right+(I-x.width)/2,F=x.left-(I-x.width)/2,B=typeof window!="undefined"&&window.innerWidth;if(I>=B)return;const V=typeof window!="undefined"&&window.getComputedStyle(this.base),Z=!isNaN(parseFloat(V.left))&&parseFloat(V.left),Y=!isNaN(parseFloat(V.right))&&parseFloat(V.right),ne=(D=this.state.originalLeft)!=null?D:V.left,G=(A=this.state.originalRight)!=null?A:V.right;typeof this.state.originalLeft=="undefined"&&this.setState({originalLeft:ne}),typeof this.state.originalRight=="undefined"&&this.setState({originalRight:G}),F<0?typeof this.state.left=="number"?this.setState({left:this.state.left-F,right:null}):typeof this.state.right=="number"?this.setState({left:null,right:this.state.right+F}):typeof Y=="number"?this.setState({left:null,right:Y+F}):this.setState({left:(Z||0)-F,right:null}):N>=B&&(typeof this.state.left=="number"?this.setState({left:this.state.left-N+B,right:null}):typeof this.state.right=="number"?this.setState({left:null,right:this.state.right+N-B}):typeof Z=="number"?this.setState({left:Z-N+B,right:null}):this.setState({left:null,right:(Y||0)+N-B}))}),typeof window!="undefined"&&(window!=null&&window.matchMedia)){const D=window.matchMedia("screen and (max-width: 650px)");this.state={isMobileWidth:D.matches};const A=x=>{this.setState({isMobileWidth:x.matches})};D.addEventListener?D.addEventListener("change",A):D.addListener&&D.addListener(A)}}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown),typeof window!="undefined"&&window.addEventListener("resize",this.onWindowResize),this.placeDropdown()}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown),typeof window!="undefined"&&window.removeEventListener("resize",this.onWindowResize)}open(){this.toggle({active:!0})}close(){this.toggle({active:!1})}toggle({active:P=null}={}){this.blockToggle||(0,c.stateTransaction)(this,C=>{P===null&&(P=!C.active),this.props.preventScrollBehindDrawer&&this.useDrawerStyle()&&document.documentElement.classList[P?"add":"remove"]("modal-in"),this.setState({active:P},()=>{this.props.onToggle&&this.props.onToggle({active:P})})})}isOpen(){return!!this.state.active}useDrawerStyle(){return this.props.useDrawerOnMobile&&this.state.isMobileWidth}drawerBackdropClicked(){this.props.backdropDismiss&&this.close()}render({noTail:P,attachOnActive:C,noDrawerCloseButton:D},{active:A}){const x=(0,o.toChildArray)(this.props.children),I={},N={};typeof this.state.left=="number"?(I.left=`${this.state.left}px`,I.right="unset",N.right=`calc(50% + ${this.state.left-parseFloat(this.state.originalLeft)||0}px)`):typeof this.state.right=="number"&&(I.left="unset",I.right=`${this.state.right}px`,N.right=`calc(50% - ${this.state.right-parseFloat(this.state.originalRight)||0}px)`);const F=this.useDrawerStyle();return(0,o.h)(o.Fragment,null,F&&(0,o.h)("div",{className:u()("dropdown-drawer-backdrop",{[S]:A}),onclick:()=>this.drawerBackdropClicked()}),(!C||A||F)&&(0,o.h)("ul",{className:u()("dropdown-menu",this.props.className,{[S]:A,"no-rect":this.props.noRectWhenClosed,drawer:F,tooltip:!F,"no-place":!!this.props.noPlace}),style:I},!P&&!this.useDrawerStyle()&&(0,o.h)(o.Fragment,null,(0,o.h)("div",{className:"dropdown-menu-tail",style:N}),(0,o.h)("div",{className:"dropdown-menu-tail-shadow",style:N})),(0,o.h)("div",{className:u()("dropdown-menu-wrapper",this.props.wrapperClassName)},F&&!D&&(0,o.h)(g.k,{className:"drawer-close-button",onClick:()=>this.close()},(0,o.h)(E.Z,{height:24,className:"drawer-close-icon"})),this.props.noList?x:x.map(B=>(0,o.h)("li",null,B)))))}}class d extends o.Component{constructor(P){super(P),w(this,"onDocumentMouseUp",C=>{!(0,c.isRootOrChild)(C.target,this.base)&&this.state.active&&!this.blockToggle&&(this.close(),this.blockToggle=!0,setTimeout(()=>{this.blockToggle=!1},0))}),w(this,"onDocumentKeyDown",C=>{C.key==="Escape"&&this.close()}),w(this,"onWindowResize",()=>{this.placeDropdown()})}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown)}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown)}open(){this.toggle({active:!0})}close(){this.toggle({active:!1})}toggle({active:P=null}={}){this.blockToggle||(0,c.stateTransaction)(this,C=>{P===null&&(P=!C.active),this.setState({active:P},()=>{this.props.onToggle&&this.props.onToggle()})})}isOpen(){return!!this.state.active}render(){const P=(0,o.toChildArray)(this.props.children);return this.props.noList?(0,o.h)("div",{className:u()("dropdown-menu tooltip",this.props.className,{[S]:this.state.active}),ref:this.props.forwardedRef},(0,o.h)("div",{className:"dropdown-menu-wrapper"},P)):(0,o.h)("ul",{className:u()("dropdown-menu tooltip",this.props.className,{[S]:this.state.active}),ref:this.props.forwardedRef},!this.props.hideMenuTail&&(0,o.h)("div",{className:"dropdown-menu-tail"}),!this.props.hideMenuTail&&(0,o.h)("div",{className:"dropdown-menu-tail-shadow"}),(0,o.h)("div",{className:"dropdown-menu-wrapper"},P.map(C=>(0,o.h)("li",null,C))))}}},23890:(z,l,e)=>{"use strict";e.d(l,{GP:()=>D,UD:()=>C,ZP:()=>N,ew:()=>I,lQ:()=>a});var o=e(6400),f=e(94184),u=e.n(f),c=e(80569),_=e.n(c),g=e(83322),E=e(3258),v=Object.defineProperty,y=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,S=(F,B,V)=>B in F?v(F,B,{enumerable:!0,configurable:!0,writable:!0,value:V}):F[B]=V,O=(F,B)=>{for(var V in B||(B={}))T.call(B,V)&&S(F,V,B[V]);if(y)for(var V of y(B))w.call(B,V)&&S(F,V,B[V]);return F},p=(F,B)=>{var V={};for(var Z in F)T.call(F,Z)&&B.indexOf(Z)<0&&(V[Z]=F[Z]);if(F!=null&&y)for(var Z of y(F))B.indexOf(Z)<0&&w.call(F,Z)&&(V[Z]=F[Z]);return V},d=(F,B,V)=>new Promise((Z,Y)=>{var ne=W=>{try{L(V.next(W))}catch(ie){Y(ie)}},G=W=>{try{L(V.throw(W))}catch(ie){Y(ie)}},L=W=>W.done?Z(W.value):Promise.resolve(W.value).then(ne,G);L((V=V.apply(F,B)).next())});function a(F,B){if(typeof window=="undefined"||typeof window.Stripe=="undefined")return null;const V={};return B&&B.stripe_user_id?g.NO_PLATFORM_CUSTOMER_CLONE_COUNTRIES.includes(B.stripe_country)&&(V.stripeAccount=B.stripe_user_id):console.warn("No publication passed for Stripe connection"),window.Stripe(F,V)}function P(F,B){if(typeof window=="undefined"||typeof window.Stripe=="undefined"||!(B!=null&&B.stripe_user_id))return null;const V={stripeAccount:B.stripe_user_id};return window.Stripe(F,V)}function C(F){return F.elements({locale:window._preloads&&window._preloads.language||"auto"}).create("card",{style:{base:{fontSize:"14px",lineHeight:"40px",fontFamily:'-apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"'}}})}class D extends o.Component{componentDidMount(){this.props.card&&this.props.card.mount(this.cardElement)}componentWillUnmount(){if(this.props.card)try{this.props.card.unmount(this.cardElement)}catch(B){}}render({className:B,card:V}){if(V)return(0,o.h)("div",{className:`fancy-stripe ${B||""}`},(0,o.h)("div",{ref:Z=>this.cardElement=Z}))}}class A extends o.Component{constructor(B,V){if(super(B,V),B.stripe&&B.pub.stripe_country){(0,E.j)(E.FP.APPLE_PAY_SETUP_STARTED);try{const Z=this.props.stripe.paymentRequest({country:this.props.pub.stripe_country,currency:this.props.plan.currency,total:this.getPaymentTotal(),requestPayerName:!0,requestPayerEmail:!0}),Y=this.props.stripe.elements().create("paymentRequestButton",{paymentRequest:Z});this.state={paymentRequest:Z,stripeButton:Y}}catch(Z){console.error(Z),(0,E.j)(E.FP.APPLE_PAY_SETUP_FINISHED,{success:!1})}}}componentDidMount(){return d(this,null,function*(){let B=!1;if(this.state.paymentRequest){try{const V=yield this.state.paymentRequest.canMakePayment();V&&V.applePay&&(B=!0)}catch(V){console.error(V)}(0,E.j)(E.FP.APPLE_PAY_SETUP_FINISHED,{success:B})}yield this.setState({canMount:B}),B?(this.button||(yield new Promise(V=>setTimeout(V,0))),this.state.stripeButton.mount(this.button),this.state.paymentRequest.on("token",V=>this.onTokenReceived(V)),this.state.paymentRequest.update({currency:this.props.plan.currency,total:this.getPaymentTotal()})):this.props.onVisibilityChanged&&this.props.onVisibilityChanged(!1)})}componentDidUpdate(B){let V=!1;for(const Z of["pub","plan","quantity","coupon","notRecurring","variableAmount"])if(B[Z]!==this.props[Z]||Z==="coupon"&&B[Z]&&B[Z].loading&&(!this.props[Z]||!this.props[Z].loading)){V=!0;break}V&&this.state.paymentRequest&&this.state.paymentRequest.update({currency:this.props.plan.currency,total:this.getPaymentTotal()})}componentWillUnmount(){if(this.state.paymentRequest&&this.state.paymentRequest.off("token"),this.state.stripeButton)try{this.state.stripeButton.unmount(this.button)}catch(B){}}onTokenReceived(B){return d(this,null,function*(){(0,E.j)(E.FP.APPLE_PAY_ATTEMPED);try{yield this.props.onSuccess({email:B.payerEmail,name:B.payerName,stripe_token:B.token}),B.complete("success"),(0,E.j)(E.FP.APPLE_PAY_SUCCEEDED)}catch(V){console.error("Apple Pay submission failed:",B,V),B.complete("fail"),(0,E.j)(E.FP.APPLE_PAY_FAILED,{reason:V.message})}})}getPaymentTotal(){var B;const{pub:V,plan:Z,quantity:Y,coupon:ne,notRecurring:G,variableAmount:L}=this.props;let W=0,ie=Math.max(0,Z.trial_period_days||0,ne&&!ne.error&&!ne.loading&&ne.trial_period_days||0,V.trial_end_override&&Math.ceil((V.trial_end_override-Date.now()/1e3)/60/60/24));G&&(ie=0);const le=(((B=Z.metadata)==null?void 0:B.founding)&&L||Z.amount)*(Y||1);let J=le;ne&&!ne.error&&!ne.loading&&(ne.percent_off?J=Math.round(J*(1-(ne.percent_off_precise||ne.percent_off)/100)):ne.amount_off&&(J=Math.max(0,J-ne.amount_off)),J<=0&&(J=le,ne.duration==="once"?Z.interval==="year"?W+=12*Z.interval_count:W+=Z.interval_count:ne.duration==="repeating"&&(W+=ne.duration_in_months)));let te;return G?te="one-time":(te=`${this.props.plan.interval}ly`,this.props.quantity>1&&(te+=" per person"),W?(ie>15&&(W+=parseInt(ie/30)),te+=` with ${W}-month trial`):ie&&(te+=` with ${ie}-day trial`)),{label:te,amount:J}}render({children:B,className:V,error:Z},{canMount:Y}){if(!(typeof Y!="undefined"&&!Y&&typeof window!="undefined"))return(0,o.h)("div",{className:"apple-pay-parent-container"},Y?(0,o.h)("div",{className:`apple-pay-element ${V||""}`,ref:ne=>this.button=ne}):(0,o.h)("p",{className:`apple-pay-loader ${V||""}`},"Loading\u2026"),Z&&(0,o.h)("div",{className:"error"},Z),B)}}class x extends o.Component{render(B,V){var Z=B,{children:Y,ref:ne}=Z,G=p(Z,["children","ref"]);return(0,o.h)("div",{className:"fancy-input"},(0,o.h)("input",O({ref:L=>this._input=L},G)),Y)}blur(){this._input&&this._input.blur()}}class I extends Error{constructor(B){super(B),this.response={body:{error:this.message}}}}class N extends o.Component{constructor(B,V){super(B,V),this.state={_paramErrors:{},_otherErrors:[],_stripeError:null,loading:!1},this.props.stripe_publishable_key&&(this._stripe=a(this.props.stripe_publishable_key,this.props.pub),this._stripe&&(this._stripeCard=C(this._stripe),this._connectedStripe=P(this.props.stripe_publishable_key,this.props.pub)))}getInputs(){const B=[];if(this.base){const V=Array.from(this.base.getElementsByTagName("*"));for(const Z of V)["INPUT","TEXTAREA","SELECT"].includes(Z.nodeName)&&Z.getAttribute("name")&&B.push(Z)}return B}resetErrors(){this.setState({_paramErrors:{},_otherErrors:[]})}clear(){this.resetErrors();for(const B of this.getInputs())B.blur&&B.blur(),B.type==="checkbox"?B.checked=!1:B.type==="select"?B.selectedIndex=-1:B.type==="radio"?B.checked=!1:B.target?B.target.value="":B.value=""}handleStripeChange({error:B}){B?this.setState({_stripeError:B.message}):this.setState({_stripeError:null})}componentDidMount(){this._mountTime=new Date,this._stripeCard&&this._stripeCard.addEventListener("change",B=>this.handleStripeChange(B))}componentWillUnmount(){this._stripeCard&&this._stripeCard.destroy()}onInputBlur(B){this.props.analyticsName&&new Date().getTime()-this._mountTime>1e3&&B.target&&B.target.value&&!B.target._blurTracked&&((0,E.j)(`${this.props.analyticsName} Input Filled`,{name:B.target.name}),B.target._blurTracked=!0)}onPaymentRequestAttempt(B){return d(this,null,function*(){const V=yield this.handleSubmitAsync(null,B);if(V)throw V})}handleSubmit(B){B&&B.preventDefault(),this.handleSubmitAsync(B).catch(V=>{console.error(V)})}handleSubmitAsync(B){return d(this,arguments,function*(V,Z={}){var Y,ne;if(V&&V.preventDefault(),this.props.analyticsName&&(0,E.j)(`${this.props.analyticsName} Submit Pressed`),this.props.loading||this.state.loading||this.props.disableSubmit)return;this.resetErrors(),this.setState({loading:!0});const G=this.props.method?this.props.method:"post";let L=null;if(this.stripeElement&&!Z.stripe_token){const{token:le,error:J}=this._stripe?yield this._stripe.createToken(this._stripeCard):{error:{message:""}};if(le)L=le;else{this.setState({loading:!1,_stripeError:J&&J.message}),this.props.analyticsName&&(console.log("error",J),(0,E.j)(`${this.props.analyticsName} Missing Payment`,{type:J&&J.type,code:J&&J.code,decline_code:J&&J.decline_code,reason:J&&J.message}));return}}let W={};for(const le of this.getInputs())le.blur&&le.blur(),le.type=="checkbox"?W[le.name]=!!le.checked:le.type=="radio"?le.checked&&(W[le.name]=le.value):le.type==="select"?W[le.name]=le.options[le.selectedIndex].value:W[le.name]=le.value;if(Object.keys(Z).forEach(le=>{!W[le]&&Z[le]&&(W[le]=Z[le])}),L&&(W.stripe_token=L),this.props.prepareData)try{const le=yield this.props.prepareData(W,V);le&&(W=le)}catch(le){throw this.setState({loading:!1}),le}this.props.onChangeLoadingState&&this.props.onChangeLoadingState(!0);let ie,ue;try{if(this.props.performSubmit)ie=yield this.props.performSubmit(W);else if(this.props.action){const le=_()[G](this.props.action);this.props.method&&this.props.method==="get"?ie=yield le.query(W):ie=yield le.send(W)}else this.props.onSubmit&&this.props.onSubmit(W)}catch(le){ue=le}if((Y=ie==null?void 0:ie.body)!=null&&Y.confirmPaymentUrl&&ie.body.clientSecret&&this._connectedStripe){(0,E.j)(E.FP.PAYMENT_CONFIRMATION_STARTED);const le=yield this._connectedStripe.confirmCardPayment(ie.body.clientSecret);if(le.error){(0,E.j)(E.FP.PAYMENT_CONFIRMATION_FAILED,{error:(ne=le.error)==null?void 0:ne.message});const J={error:le.error.message||"Failed to confirm payment"};ue={response:{body:J,text:JSON.stringify(J)}}}else(0,E.j)(E.FP.PAYMENT_CONFIRMATION_SUCCEEDED)}if(this.setState({loading:!1}),this.props.onChangeLoadingState&&this.props.onChangeLoadingState(!1),!ue)this.props.onSuccess&&this.props.onSuccess(ie,W);else if(this.processErrors(ue.response),this.props.onError&&this.props.onError(ue),!ue.response)throw ue;return ue})}processErrors(B){const V={},Z=[];if(B&&B.body&&B.body.errors){const Y=this.getInputs();B.body.errors.forEach(ne=>{this.props.noInlineErrors!==!0&&ne.param&&Y.filter(G=>G.getAttribute("name")===ne.param).length>0?V[ne.param]?(console.log("Discarding repeated error"),console.log(ne)):V[ne.param]=ne:Z.push(ne)})}else B&&B.body&&typeof B.body.error=="string"?Z.push({msg:B.body.error}):Z.push({msg:"Something went wrong"});this.setState({_paramErrors:V,_otherErrors:Z}),this.props.analyticsName&&(0,E.j)(`${this.props.analyticsName} Error`,{paramErrors:JSON.stringify(V),otherErrors:JSON.stringify(Z)})}render(B,V){const Z=B.autoLock&&V.loading||B.loading;let Y=!1,ne=!1;const G=L=>{const W=[];return(0,o.toChildArray)(L).forEach(ie=>{if(!ie)return null;if((ie.type===x||ie.type==="input"||ie.type==="textarea"||ie.type==="select")&&ie.props&&ie.props.name){const ue=ie.props.name;if(W.push((0,o.cloneElement)(ie,{disabled:Z||ie.props.disabled,onChange:le=>{var J,te;const se=((J=ie.props)==null?void 0:J.onChange)||((te=ie.props)==null?void 0:te.onInput);se&&se(le),this.props.onChange&&this.props.onChange(le)},onInput:le=>{ie.props&&ie.props.onInput&&ie.props.onInput(le),this.props.onInput&&this.props.onInput(le)},onBlur:le=>{this.onInputBlur(le),ie.props&&ie.props.onBlur&&ie.props.onBlur(le)}})),V._paramErrors[ue]&&!Z){const le=V._paramErrors[ue];le.msgHTML?W.push((0,o.h)("div",{className:"error",name:ue,dangerouslySetInnerHTML:{__html:le.msgHTML}})):W.push((0,o.h)("div",{className:"error",name:ue},le.msg||"Invalid"))}}else if(ie.props&&ie.props.type==="submit")W.push((0,o.cloneElement)(ie,{disabled:Z||ie.props.disabled,onClick:ue=>{ie.props&&ie.props.onClick&&ie.props.onClick(ue)!==!1&&this.handleSubmit(ue)}}));else if(ie.props&&ie.props.id==="error-container"){if(V._otherErrors&&!Z){const ue=V._otherErrors.map(le=>le.msgHTML?(0,o.h)("div",{className:"error other-error",dangerouslySetInnerHTML:{__html:le.msgHTML}}):(0,o.h)("div",{className:"error other-error"},le.msg)).concat(ie.props&&ie.props.children?(0,o.toChildArray)(ie.props.children):[]);W.push((0,o.cloneElement)(ie,{},ue))}}else if(ie.type===D){if(Y)throw new Error("Can only handle one stripe element");Y=!0,W.push((0,o.cloneElement)(ie,{ref:ue=>{ie.props&&ie.props.ref&&ie.props.ref(ue),this.stripeElement=ue},card:this._stripeCard})),(V._stripeError||!this._stripeCard)&&!Z&&typeof window!="undefined"&&W.push((0,o.h)("div",{className:u()("error",B.stripeErrorClassName),role:"alert"},V._stripeError||"Stripe payments not loaded. Are there blocked scripts?"))}else if(ie.type===A){if(ne)throw new Error("Can only handle one stripe payment request button");ne=!0,W.push((0,o.cloneElement)(ie,{ref:ue=>{ie.props&&ie.props.ref&&ie.props.ref(ue),this.stripePaymentRequestButton=ue},stripe:this._stripe,onSuccess:ue=>(ie.props&&ie.props.onSuccess&&ie.props.onSuccess(ue),this.onPaymentRequestAttempt(ue))}))}else ie.props&&ie.props.children?W.push((0,o.cloneElement)(ie,{},G(ie.props.children))):W.push(ie)}),W};return(0,o.h)("form",O({className:`form ${B.className||""}`,action:B.noJsAction||B.action,method:B.method&&["get","post"].includes(B.method.toLowerCase())&&B.method.toLowerCase()||"post",autoComplete:B.autoComplete,onSubmit:L=>this.handleSubmit(L),noValidate:!0},B.enctype&&{enctype:B.enctype}),G(B.children))}}},41406:(z,l,e)=>{"use strict";e.d(l,{Z:()=>Ee});var o=e(6400),f=e(94184),u=e.n(f),c=e(7922),_=e(23890),g=e(78710),E=e(1824),v=e(3258),y=e(72496),T=e(39419),w=e(30396),S=e(5285),O=e(92271),p=e(51126),d=e(43887);const a={animationWrapper:"frontend-login-typo_handler-EmailTypoHandler-module__animationWrapper--UT0du",wrapper:"frontend-login-typo_handler-EmailTypoHandler-module__wrapper--jLAJH",secondaryText:"frontend-login-typo_handler-EmailTypoHandler-module__secondaryText--j9Xhk",primaryText:"frontend-login-typo_handler-EmailTypoHandler-module__primaryText--pyBNR",typoHandler:"frontend-login-typo_handler-EmailTypoHandler-module__typoHandler--gViyO",buttonFill:"frontend-login-typo_handler-EmailTypoHandler-module__buttonFill--XorHI",buttonWrapper:"frontend-login-typo_handler-EmailTypoHandler-module__buttonWrapper--me9Bp"},P=({emailSuggestions:de,currentEmail:_e,onAccept:ve,onReject:De})=>{const Oe=(0,T.isMobileBrowser)(),[ye,ze]=(0,w.eJ)(!1),[Be,We]=(0,w.eJ)(null),Ke=(0,w.sO)(null),Xe=ge=>{ze(!1),(0,v.j)(v.FP.EMAIL_TYPO_SUGGESTION_REJECTED,{email_provided:_e,email_suggested:ge}),De&&De()},ct=de&&_e&&de[_e]&&de[_e]!=_e.trim(),Se=ge=>{ze(!1),(0,v.j)(v.FP.EMAIL_TYPO_SUGGESTION_ACCEPTED,{email_provided:_e,email_suggested:ge}),ve(ge)};(0,w.d4)(()=>{if(ct){const ge=de[_e];(0,v.j)(v.FP.EMAIL_TYPO_SUGGESTION_SHOWN,{email_provided:_e,email_suggested:ge}),We(ge),ze(!0)}else ze(!1)},[ct,de,_e]);const{iString:Qe}=(0,g.M1)();return(0,o.h)("div",{className:a.animationWrapper},(0,o.h)(S.u,{show:ye,enter:"tw-transition-all tw-duration-fast transform-gpu",enterFrom:"tw-opacity-0 tw-translate-y-[-40%]",enterTo:"tw-opacity-100 tw-translate-y-0",leave:"tw-transition-all tw-duration-fast transform-gpu",leaveFrom:"tw-opacity-100 tw-translate-y-0",leaveTo:"tw-opacity-0 tw-translate-y-[-40%]",ref:Ke},(0,o.h)(p.hs,{className:a.wrapper,paddingTop:16,paddingX:{mobile:16},alignItems:"start"},(0,o.h)(p.tu,{className:a.typoHandler,border:"detail",paddingY:24,paddingX:20,radius:6,alignItems:"start",gap:20},(0,o.h)(d.xv,{translated:!0,size:16,font:"display",className:a.secondaryText},"Did you mean"," ",(0,o.h)(d.xv,{as:"span",weight:"semibold",className:a.primaryText},I18N.p(Be||"")),"?"),(0,o.h)(p.gq,{justifyContent:"space-between",flex:"grow",gap:12,className:a.buttonWrapper},(0,o.h)(O.z,{onClick:()=>Se(Be),className:a.buttonFill,variant:"themed-primary"},Qe(Oe?"Yes":"Yes, Subscribe with correction")),(0,o.h)(O.z,{className:a.buttonFill,variant:"secondary",onClick:()=>Xe(Be)},Qe("No")))))))};var C=e(23279),D=e.n(C),A=e(80569),x=e.n(A),I=e(83868),N=e.n(I),F=(de,_e,ve)=>new Promise((De,Oe)=>{var ye=We=>{try{Be(ve.next(We))}catch(Ke){Oe(Ke)}},ze=We=>{try{Be(ve.throw(We))}catch(Ke){Oe(Ke)}},Be=We=>We.done?De(We.value):Promise.resolve(We.value).then(ye,ze);Be((ve=ve.apply(de,_e)).next())});const B=(de,_e)=>F(void 0,null,function*(){const ve=yield x().get("/api/v1/check-email").query({email:de});_e([de,ve.body])}),V=D()((de,_e)=>F(void 0,null,function*(){yield B(de,_e)}),200),Z=de=>F(void 0,null,function*(){return N()(de)?new Promise((_e,ve)=>{V(de,_e)}):[]});var Y=e(13045),ne=e(15045),G=e(83322);const L={container:"frontend-components-free_email_form-module__container--OfBh4",form:"frontend-components-free_email_form-module__form--LDIzl",sideBySideWrap:"frontend-components-free_email_form-module__sideBySideWrap--yhsgv",emailInput:"frontend-components-free_email_form-module__emailInput--BLQGf",emailInputOnAccentBackground:"frontend-components-free_email_form-module__emailInputOnAccentBackground--WwaMR",button:"frontend-components-free_email_form-module__button--WcLG9",buttonOnAccentBackground:"frontend-components-free_email_form-module__buttonOnAccentBackground--pxtYI",disabled:"frontend-components-free_email_form-module__disabled--tI4ri",links:"frontend-components-free_email_form-module__links--G_QlQ"};var W=Object.defineProperty,ie=Object.defineProperties,ue=Object.getOwnPropertyDescriptors,le=Object.getOwnPropertySymbols,J=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable,se=(de,_e,ve)=>_e in de?W(de,_e,{enumerable:!0,configurable:!0,writable:!0,value:ve}):de[_e]=ve,ee=(de,_e)=>{for(var ve in _e||(_e={}))J.call(_e,ve)&&se(de,ve,_e[ve]);if(le)for(var ve of le(_e))te.call(_e,ve)&&se(de,ve,_e[ve]);return de},ae=(de,_e)=>ie(de,ue(_e)),ce=(de,_e,ve)=>(se(de,typeof _e!="symbol"?_e+"":_e,ve),ve),fe=(de,_e,ve)=>new Promise((De,Oe)=>{var ye=We=>{try{Be(ve.next(We))}catch(Ke){Oe(Ke)}},ze=We=>{try{Be(ve.throw(We))}catch(Ke){Oe(Ke)}},Be=We=>We.done?De(We.value):Promise.resolve(We.value).then(ye,ze);Be((ve=ve.apply(de,_e)).next())});class Ee extends o.Component{constructor(_e){super(_e),ce(this,"handleEmailChange",()=>{const ve=this.emailInput.value;ve&&(this.setState({currentEmail:ve}),!(this.state.emailSuggestions&&this.state.emailSuggestions.hasOwnProperty(ve))&&Z(ve).then(De=>{const[Oe,ye]=De;this.setState({emailSuggestions:ae(ee({},this.state.emailSuggestions),{[Oe]:ye})})}))}),ce(this,"_onSuccess",ve=>fe(this,null,function*(){const{iTemplate:De}=this.context;ve.body.prompt_to_login||v.IU(),ve.body.requires_confirmation&&(this.props.onConfirmationRequired?yield this.props.onConfirmationRequired(ve):alert(De`Confirmation required: we sent an email to ${ve.body.email}. Click the link there to finish subscribing.`)),this.props.freeSignupEmail&&this.props.freeSignupEmail!==ve.body.email&&(0,E.a)({freeSignupEmail:ve.body.email}),this.props.onSuccess&&(yield this.props.onSuccess(ve))})),ce(this,"onSuccess",ve=>fe(this,null,function*(){typeof window!="undefined"&&window.campaign&&(0,ne.getQueryItem)("referralCode")?window.campaign.identify({email:ve.body.email},()=>this._onSuccess(ve)):yield this._onSuccess(ve)})),ce(this,"onAcceptSuggestion",ve=>{this.emailInput.value=ve,this.form.handleSubmit(null,!0)}),this.state={emailSuggestions:{}}}getSavedEmail(){return this.props.user&&this.props.user.email||null}getPrefilledEmail(){return this.props.email||this.props.freeSignupEmail||this.getSavedEmail()}componentDidMount(){return fe(this,null,function*(){this.getPrefilledEmail()&&(this.emailInput.value=this.getPrefilledEmail())})}onLoadingState(_e){this.setState({loading:_e,requires_confirmation:!1})}onError(_e){_e.status===425&&this.setState({requires_confirmation:!0}),this.props.onError&&this.props.onError(_e)}render({autoFocus:_e,children:ve,className:De,disabled:Oe,loginRedirect:ye,next:ze,onAccentBackground:Be,pub:We,referralCode:Ke,showLogin:Xe,showTerms:ct,source:Se,submitButtonText:Qe,useSubscribeLink:ge,user:Fe,utm_campaign:Ne,onMaybeLater:lt,onPrepareData:Et},{loading:jt,requires_confirmation:en}){var vt,Re,He,ot,me,ke;const je=Se==="treatment_bold_fade",Je=((He=(Re=(vt=(0,ne.getQueryItem)("referring_pub_ids"))==null?void 0:vt.split)==null?void 0:Re.call(vt,","))==null?void 0:He[0])||void 0,tt=((ke=(me=(ot=(0,ne.getQueryItem)("referring_pub_ids"))==null?void 0:ot.split)==null?void 0:me.call(ot,","))==null?void 0:ke.slice(1))||void 0,Ae=this.getPrefilledEmail(),{iString:H,iTemplate:Q}=this.context;return(0,o.h)("div",{className:L.container},(0,o.h)(_.ZP,{ref:pe=>this.form=pe,className:u()(De,L.form),noInlineErrors:!0,action:(0,ne.pathWithQuery)("/api/v1/free"),noJsAction:(0,ne.pathWithQuery)("/api/v1/free",{nojs:!0}),prepareData:pe=>{en&&(pe.resend_confirmation=!0),Et&&Et(pe)},onChangeLoadingState:this.onLoadingState.bind(this),onError:pe=>this.onError(pe),onSuccess:pe=>this.onSuccess(pe),typoFound:pe=>this.setState({emailSuggestion:pe}),disableSubmit:ge},(0,o.h)("input",{type:"hidden",name:"first_url",value:y.xY}),(0,o.h)("input",{type:"hidden",name:"first_referrer",value:y.ip}),(0,o.h)("input",{type:"hidden",name:"current_url",value:y.UE}),(0,o.h)("input",{type:"hidden",name:"current_referrer",value:y.xU}),(0,o.h)("input",{type:"hidden",name:"referral_code",value:Ke}),(0,o.h)("input",{type:"hidden",name:"source",value:Se}),(0,o.h)("input",{type:"hidden",name:"referring_pub_id",value:Je}),(0,o.h)("input",{type:"hidden",name:"additional_referring_pub_ids",value:tt}),(0,o.h)("div",{className:L.sideBySideWrap},!!Ae&&(0,T.inputPrefillHack)(),(0,o.h)("input",{className:u()("pencraft",L.emailInput,{[L.emailInputOnAccentBackground]:Be}),onChange:this.handleEmailChange,onInput:this.handleEmailChange,ref:pe=>this.emailInput=pe,type:"email",name:je?"email-pop":"email",readOnly:!!(this.getSavedEmail()||jt||Oe),disabled:!!(jt||Oe),autoFocus:_e&&!(this.getPrefilledEmail()||Oe)&&!(0,T.isMobileBrowser)(),placeholder:H("Type your email...")}),(0,o.h)(c.Z,{className:u()("rightButton primary subscribe-btn",L.button,{pop:je,[L.buttonOnAccentBackground]:Be}),type:"submit",disabled:!!(jt||Oe),onClick:pe=>{ge&&(location.href=(0,ne.getSubscribeUrl)(We,{addBase:!0,user:Fe,utm_source:"substack",utm_medium:"web",utm_campaign:Ne,next:ze}))}},(0,o.h)("span",{className:`button-text ${je?"pop":""}`},Qe||(0,G.getSubscribeText)(We)))),en?(0,o.h)("div",null,(0,o.h)(Y.xv,{translated:!0,className:"error other-error"},"This email address is not confirmed yet.",(0,o.h)("br",null),(0,o.h)("a",{href:"javascript:void(0)",onClick:()=>this.form.handleSubmit()},"Click here")," ","to resend the confirmation email.")):(0,o.h)("div",{id:"error-container"}),(0,o.h)("div",{className:u()("subtle-help-text below-input",L.links)},Xe&&(this.getSavedEmail()?(0,o.h)("a",{className:"login-button",href:(0,ne.getSignoutUrl)({for_pub:We.subdomain}),native:!0},H("Not you?")):(0,o.h)("a",{className:"login-button",href:(0,ne.getSigninUrl)({for_pub:We.subdomain,redirect:ye}),native:!0},H("Login"))),ct&&[(0,o.h)("a",{className:"legal",href:(0,ne.getPrivacyUrl)(We),target:"_blank",native:!0},H("Privacy")),(0,o.h)("a",{className:"legal",href:"/tos",target:"_blank",native:!0},H("Terms")),(0,o.h)("a",{className:"legal",href:`${(0,ne.getSubstackUrl)()}/ccpa#personal-data-collected`,target:"_blank",native:!0},H("Information collection notice"))],ve)),(0,o.h)(P,{emailSuggestions:this.state.emailSuggestions,currentEmail:this.state.currentEmail,onAccept:this.onAcceptSuggestion}))}}ce(Ee,"contextType",g.wj)},89867:(z,l,e)=>{"use strict";e.d(l,{Z:()=>S});var o=e(6400),f=e(30396),u=e(46505),c=Object.defineProperty,_=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,E=Object.prototype.propertyIsEnumerable,v=(O,p,d)=>p in O?c(O,p,{enumerable:!0,configurable:!0,writable:!0,value:d}):O[p]=d,y=(O,p)=>{for(var d in p||(p={}))g.call(p,d)&&v(O,d,p[d]);if(_)for(var d of _(p))E.call(p,d)&&v(O,d,p[d]);return O},T=(O,p)=>{var d={};for(var a in O)g.call(O,a)&&p.indexOf(a)<0&&(d[a]=O[a]);if(O!=null&&_)for(var a of _(O))p.indexOf(a)<0&&E.call(O,a)&&(d[a]=O[a]);return d};const S=O=>{const p=O,{ampProps:d}=p,a=T(p,["ampProps"]);return(0,f.qp)(u.E).isAmp?(0,o.h)("amp-img",y(y({},d),a)):(0,o.h)("img",y({},a))}},96789:(z,l,e)=>{"use strict";e.d(l,{Z:()=>a,p:()=>P});var o=e(6400),f=e(94184),u=e.n(f),c=e(71375),_=e(39419),g=e.n(_),E=e(84040),v=Object.defineProperty,y=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable,S=(C,D,A)=>D in C?v(C,D,{enumerable:!0,configurable:!0,writable:!0,value:A}):C[D]=A,O=(C,D)=>{for(var A in D||(D={}))T.call(D,A)&&S(C,A,D[A]);if(y)for(var A of y(D))w.call(D,A)&&S(C,A,D[A]);return C},p=(C,D,A)=>(S(C,typeof D!="symbol"?D+"":D,A),A),d=(C,D,A)=>new Promise((x,I)=>{var N=V=>{try{B(A.next(V))}catch(Z){I(Z)}},F=V=>{try{B(A.throw(V))}catch(Z){I(Z)}},B=V=>V.done?x(V.value):Promise.resolve(V.value).then(N,F);B((A=A.apply(C,D)).next())});class a extends o.Component{constructor(D,A){super(D,A),p(this,"onDocumentKeyDown",x=>{x.key==="Escape"&&!this.props.noExit&&!(0,_.isFocused)(this.base)&&this.close()}),this.open=this.open.bind(this),this.close=this.close.bind(this),this.popup=!1,this.state={open:!1,display:!1,callback:null}}componentDidMount(){document.addEventListener("keydown",this.onDocumentKeyDown),this.props.openByDefault&&this.openImmediately()}componentWillUnmount(){document.removeEventListener("keydown",this.onDocumentKeyDown),this._timeout&&clearTimeout(this._timeout)}openImmediately(D){D&&(this._callback=D);const A=document.getElementsByTagName("html")[0];(0,_.hasClass)(A,"modal-in")||(0,_.addClass)(A,"modal-in"),this.setState({display:!0,open:!0})}open(D){return d(this,null,function*(){D&&(this._callback=D);const A=document.getElementsByTagName("html")[0];(0,_.hasClass)(A,"modal-in")||(0,_.addClass)(A,"modal-in"),this.onBeforeOpen(),this.props.onBeforeOpen&&this.props.onBeforeOpen(),yield new Promise(x=>{this.setState({display:!0},()=>{this._timeout=setTimeout(()=>{this.setState({open:!0},()=>{this.onOpen(),this.props.onOpen&&this.props.onOpen(),x()})},50)})})})}close(D){return d(this,null,function*(){this.isOpen()&&this.onBeforeClose(D)!==!1&&(this.props.onBeforeClose&&this.props.onBeforeClose(D)===!1||((0,_.removeClass)(document.getElementsByTagName("html")[0],"modal-in"),yield new Promise(A=>{this.setState({open:!1},()=>{this._timeout=setTimeout(()=>{this.setState({display:!1},()=>{this.onClose(D),this.props.onClose&&this.props.onClose(D),this._callback&&this._callback(D),A()})},750)})})))})}isOpen(){return this.state.open}onClickOuter(D){var A,x;D.stopPropagation(),(x=(A=this.props).onClick)==null||x.call(A,D),!this.props.noExit&&!this.props.noExitOnClick&&this.popup&&(this.noFullscreen||window.innerWidth>540)&&D.target&&this.container&&this.close()}onClickInner(D){var A,x;D.stopPropagation(),(x=(A=this.props).onClick)==null||x.call(A,D)}render(){const D=this.state.open?"in":"out",A=this.state.display===!1?"gone":"",x=this.props.variant==="structured";return(0,o.h)("div",{className:u()("modal typography",D,A,this.props.className,this.getClassName(),{"has-close-pill":this.props.closePill,"structured-modal":x,popup:this.popup}),onClick:I=>this.onClickOuter(I),"data-testid":this.props.testID,role:"dialog"},(0,o.h)("div",{className:"modal-table"},(0,o.h)("div",{className:"modal-row"},(0,o.h)("div",{ref:I=>this.content=I,className:u()("modal-cell modal-content",{"no-fullscreen":this.noFullscreen})},(0,o.h)("div",O({className:u()({container:!x}),ref:I=>this.container=I,onClick:I=>this.onClickInner(I)},this.props.trackInputsID&&{"data-track-inputs":this.props.trackInputsID}),!this.props.noExit&&(!this.props.noCloseButton||(0,_.isMobileBrowser)())&&(x?(0,o.h)("div",{className:"structured-modal__close-button"},(0,o.h)(E.hU,{"data-testid":"close-modal",variant:"secondary",look:"circle",onClick:()=>this.close()},(0,o.h)(c.Z,{size:20,color:"secondary"}))):(0,o.h)(E.hU,{"data-testid":"close-modal",className:u()("modal-btn modal-exit-btn no-margin",{"button btn btn-secondary btn-pill icon-only":this.props.closePill}),onClick:()=>this.close()},(0,o.h)(c.Z,{size:20,color:"secondary"}))),x?(0,o.h)("div",{className:"structured-modal__wrapper"},(0,o.h)("div",{className:"structured-modal__header"},this.props.modalTitle?(0,o.h)("h3",null,this.props.modalTitle):(0,o.h)("h3",null,"\xA0")),(0,o.h)("div",{className:"structured-modal__body"},(0,o.h)("div",{className:"container"},this.renderChildren(this.props,this.state))),this.props.modalFooter&&(0,o.h)("div",{className:"structured-modal__footer"},this.props.modalFooter)):this.renderChildren(this.props,this.state))))))}getClassName(){}onBeforeOpen(){}onOpen(){}onBeforeClose(){}onClose(){}renderChildren({children:D},A){return D}}class P extends a{constructor(D,A){super(D,A),this.popup=!0}}},50615:(z,l,e)=>{"use strict";e.d(l,{l:()=>I,y:()=>x});var o=e(6400),f=e(30396),u=e(50308),c=e.n(u),_=e(80569),g=e.n(_),E=e(39776),v=e(15045),y=e(83322),T=e(3258),w=e(39419),S=e.n(w),O=e(19826),p=e(46595),d=e(22702),a=e(65726),P=Object.defineProperty,C=(N,F,B)=>F in N?P(N,F,{enumerable:!0,configurable:!0,writable:!0,value:B}):N[F]=B,D=(N,F,B)=>(C(N,typeof F!="symbol"?F+"":F,B),B),A=(N,F,B)=>new Promise((V,Z)=>{var Y=L=>{try{G(B.next(L))}catch(W){Z(W)}},ne=L=>{try{G(B.throw(L))}catch(W){Z(W)}},G=L=>L.done?V(L.value):Promise.resolve(L.value).then(Y,ne);G((B=B.apply(N,F)).next())});class x extends o.Component{constructor(){super(...arguments),D(this,"toggleTopExclusion",F=>(0,w.stateTransaction)(this,(B,V)=>A(this,[B,V],function*(Z,{post:Y,onChange:ne}){if(Z.topExcluding)return;this.setState({topExcluding:F.id});const G=Y.top_exclusions.includes(F.id),L=`/api/v1/publication/${F.id}/exclusion/${Y.id}`;try{G?(yield g().del(L),Y.top_exclusions.splice(0)):(yield g().post(L),Y.top_exclusions.splice(0),Y.top_exclusions.push(F.id)),["/","/beta","/publish"].includes(window.location.pathname)&&window.location.reload()}catch(W){console.error("Failed to exclude post:",W),alert((0,w.getNetworkErrorMessage)(W));return}finally{this.setState({topExcluding:null})}ne&&(yield ne({post:Y}))}))),D(this,"toggleSectionPin",(F,B)=>(0,w.stateTransaction)(this,(V,Z)=>A(this,[V,Z],function*(Y,{post:ne,onChange:G}){if(Y.pinning)return;this.setState({sectionPinning:B});const L=`/api/v1/publication/${F.id}/section/${B}/pin/${ne.id}`;try{ne.is_section_pinned?(yield g().del(L),ne.is_section_pinned=!1):(yield g().post(L),ne.is_section_pinned=!0),(["/","/beta","/publish"].includes(window.location.pathname)||window.location.pathname.startsWith("/s/"))&&window.location.reload()}catch(W){console.error("Failed to pin post:",W),alert((0,w.getNetworkErrorMessage)(W));return}finally{this.setState({sectionPinning:null})}G&&(yield G({post:ne}))}))),D(this,"togglePin",F=>(0,w.stateTransaction)(this,(B,V)=>A(this,[B,V],function*(Z,{post:Y,onChange:ne}){if(Z.pinning)return;this.setState({pinning:F.id});const G=Y.pins.includes(F.id),L=`/api/v1/publication/${F.id}/pin/${Y.id}`;try{G?(yield g().del(L),Y.pins.splice(Y.pins.indexOf(F.id),1)):(yield g().post(L),F.multiple_pins||Y.pins.splice(0),Y.pins.push(F.id)),["/","/beta","/publish"].includes(window.location.pathname)&&window.location.reload()}catch(W){console.error("Failed to pin post:",W),alert((0,w.getNetworkErrorMessage)(W));return}finally{this.setState({pinning:null})}ne&&(yield ne({post:Y}))}))),D(this,"sendEmail",()=>A(this,null,function*(){const{post:F}=this.props,B={everyone:"everyone",only_free:"free subscribers",only_paid:"paid subscribers",founding:"founding members"}[F.audience];if(!confirm(`Send this published post as an email to ${B}?`))return;const V=`/api/v1/drafts/${F.id}/publish`;try{yield g().post(V).send({send:!0,only_send:!0}),location.reload()}catch(Z){console.error("Failed to send post:",Z),alert((0,w.getNetworkErrorMessage)(Z))}})),D(this,"clearCache",()=>A(this,null,function*(){const{post:F}=this.props;try{yield g().put(`/api/v1/posts/${F.id}/clear_cache`),location.reload()}catch(B){console.error("Failed to clear post from cache"),alert((0,w.getNetworkErrorMessage)(B))}})),D(this,"duplicatePost",()=>A(this,null,function*(){this.setState({duplicating:!0});const{pub:F,post:B}=this.props;try{const V=yield g().post(`/api/v1/posts/${B.id}/duplicate`);(0,w.redirect)((0,v.getEditPostUrlById)(F,V.body.id),{local_navigation:!1})}catch(V){this.setState({duplicating:!1}),console.error("Failed to duplicate"),alert((0,w.getNetworkErrorMessage)(V))}}))}isOpen(){return this.editMenu.isOpen()}toggle(){this.editMenu.toggle()}open(){this.editMenu.open()}close(){this.editMenu.close()}render({pub:F,post:B,hidePinning:V,user:Z,emailSent:Y,allowSendEmail:ne,className:G,useDrawerOnMobile:L,handleCrossPost:W},{pinning:ie,sectionPinning:ue,topExcluding:le,duplicating:J}){let te=null;B.section_id&&F.sections&&F.sections.length&&(te=F.sections.find(ee=>ee.id===B.section_id));const se=!!(0,E.default)("enable_post_summarization");return(0,o.h)(O.ZP,{attachOnActive:!0,ref:ee=>this.editMenu=ee,className:G,useDrawerOnMobile:L},(0,o.h)(a.Z,{href:(0,v.getPostUrl)(F,B,{edit:!0}),onClick:c()},"Edit post"),!V&&B.slug&&[(0,y.isPinnable)(F)&&B.section_id&&(B.section_name||te.name)&&(0,o.h)(a.Z,{onClick:()=>this.toggleSectionPin(F,B.section_id)},[B.is_section_pinned^ue===B.section_id?"Unpin from":"Pin on",` ${B.section_name||te.name}`]),(0,y.isPinnable)(F)&&(0,o.h)(a.Z,{onClick:()=>this.togglePin(F)},[B.pins.includes(F.id)^ie===F.id?"Unpin from":"Pin on",F.parent_publication_id||te?` ${F.name}`:" homepage"]),F.parent_publication&&(0,y.isPinnable)(F.parent_publication)&&(0,o.h)(a.Z,{onClick:()=>this.togglePin(F.parent_publication)},[B.pins.includes(F.parent_publication.id)^ie===F.parent_publication.id?"Unpin from":"Pin on",` ${F.parent_publication.name}`])],B.slug&&B.type!=="adhoc_email"&&[(0,o.h)(a.Z,{onClick:()=>this.toggleTopExclusion(F)},[B.top_exclusions.includes(F.id)^le===F.id?"Include in":"Exclude from"," Top",F.parent_publication_id&&` for ${F.name}`]),F.parent_publication&&(0,o.h)(a.Z,{onClick:()=>this.toggleTopExclusion(F.parent_publication)},[B.top_exclusions.includes(F.parent_publication.id)^le===F.parent_publication.id?"Include in":"Exclude from"," Top",` for ${F.parent_publication.name}`])],(0,o.h)(a.Z,{disabled:J,onClick:()=>this.duplicatePost()},J?"Duplicating":"Duplicate"," to drafts"),!Y&&ne&&B.is_published&&(0,o.h)(a.Z,{onClick:()=>this.sendEmail()},"Send as email"),(Z==null?void 0:Z.is_global_admin)&&(0,o.h)(a.Z,{onClick:()=>this.clearCache()},"Clear post from cache"),(0,o.h)(a.Z,{onClick:()=>{window.open(`${(0,v.getPostUrl)(F,B)}/media-assets`)}},"View media assets"),!!(se&&this.props.onSummaryOpen)&&(0,o.h)(a.Z,{onClick:this.props.onSummaryOpen},"Reader guide"),W&&(0,o.h)(a.Z,{onClick:W},"Cross post"))}}D(x,"state",{duplicating:!1});function I({pub:N,post:F,iconHeight:B,hidePinning:V,user:Z,emailSent:Y,allowSendEmail:ne,showUpdatedIcons:G,dropdownClassName:L,iconClassName:W}){const ie=(0,f.sO)();return(0,o.h)(o.Fragment,null,(0,o.h)(a.Z,{onClick:()=>{ie.current.isOpen()||(0,T.j)(T.FP.EDIT_POST_DROPDOWN_MENU_OPENED),ie.current.toggle()}},G?(0,o.h)(d.Z,{stroke:"#262626",height:B,className:W}):(0,o.h)(p.Z,{stroke:"#757575",height:B,className:W})),(0,o.h)(x,{ref:ie,pub:N,post:F,hidePinning:V,user:Z,emailSent:Y,allowSendEmail:ne,className:L}))}},95847:(z,l,e)=>{"use strict";e.d(l,{_0:()=>ue,EB:()=>le});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),_=e(80569),g=e.n(_),E=e(15045),v=e(96702),y=e(83322),T=e(3258),w=e(39419),S=e(35291),O=e(7922),p=e(19237),d=(te,se,ee)=>new Promise((ae,ce)=>{var fe=_e=>{try{de(ee.next(_e))}catch(ve){ce(ve)}},Ee=_e=>{try{de(ee.throw(_e))}catch(ve){ce(ve)}},de=_e=>_e.done?ae(_e.value):Promise.resolve(_e.value).then(fe,Ee);de((ee=ee.apply(te,se)).next())});const P=({photoUrl:te,newPhotoUrl:se,newPhotoOrientation:ee,updatePhoto:ae})=>{const ce=(0,f.sO)(null),fe=()=>d(void 0,null,function*(){const Ee=ce.current.files[0];if(ce.current.value="",!Ee){ae({newPhotoUrl:null,newPhotoOrientation:null});return}let de;try{de=yield(0,w.getDataUrlFromFile)(Ee)}catch(ve){console.error("Failed to get data URL from file:",ve),alert(ve.message);return}let _e;try{_e=yield(0,w.getExifOrientationFromFile)(Ee)}catch(ve){console.error("Failed to extract EXIF data from file:",ve)}ae({newPhotoUrl:de,newPhotoOrientation:_e})});return(0,o.h)("div",{className:"profile-photo-wrap"},te&&(0,o.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${se||(0,E.imginary)(te,144)})`,transform:(0,w.transformExifOrientation)(ee)}}),!te&&(0,o.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${(0,E.imginary)(E.DEFAULT_PHOTO_URL,144)})`,transform:(0,w.transformExifOrientation)(ee)}}),(0,o.h)(O.Z,{onClick:()=>{((0,w.isIE)()||(0,w.isFirefox)())&&ce.current.click()}},(0,o.h)("input",{ref:ce,type:"file",name:"photo",accept:"image/*",onChange:fe}),(0,o.h)("div",{className:"add-photo-fab",onClick:Ee=>{Ee.preventDefault(),ce.current.click()}},(0,o.h)(p.Z,{size:20,color:"var(--color-light-primary)"}))))};var C=e(23890),D=e(96789),A=e(81671),x=Object.defineProperty,I=Object.defineProperties,N=Object.getOwnPropertyDescriptors,F=Object.getOwnPropertySymbols,B=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable,Z=(te,se,ee)=>se in te?x(te,se,{enumerable:!0,configurable:!0,writable:!0,value:ee}):te[se]=ee,Y=(te,se)=>{for(var ee in se||(se={}))B.call(se,ee)&&Z(te,ee,se[ee]);if(F)for(var ee of F(se))V.call(se,ee)&&Z(te,ee,se[ee]);return te},ne=(te,se)=>I(te,N(se)),G=(te,se)=>{var ee={};for(var ae in te)B.call(te,ae)&&se.indexOf(ae)<0&&(ee[ae]=te[ae]);if(te!=null&&F)for(var ae of F(te))se.indexOf(ae)<0&&V.call(te,ae)&&(ee[ae]=te[ae]);return ee},L=(te,se,ee)=>new Promise((ae,ce)=>{var fe=_e=>{try{de(ee.next(_e))}catch(ve){ce(ve)}},Ee=_e=>{try{de(ee.throw(_e))}catch(ve){ce(ve)}},de=_e=>_e.done?ae(_e.value):Promise.resolve(_e.value).then(fe,Ee);de((ee=ee.apply(te,se)).next())});const W=({sub:te,onSetVisibility:se,source:ee})=>{const ae=te.publication;return h("div",{className:"edit-sub-visibility-row"},h("div",{className:"left"},h(PubIcon,{pub:ae,logo_url:ae.logo_url||ae.author_photo_url}),h("span",null,ae.name)),h("div",{className:"right"},h(BigCheckbox,{checked:te.visibility==="public",onChange:()=>se(te.visibility==="public"?"private":"public")})))},ie=({profile:te,onFinalizeVisibility:se,onSetVisibility:ee,source:ae})=>{if(!te)return;const ce=te.subscriptions.every(({visibility:_e})=>_e==="public"),fe=()=>{ee(te.subscriptions.reduce((_e,{publication:ve})=>ne(Y({},_e),{[ve.id]:ce?"private":"public"}),{})),track(EVENTS.PROFILE_EDITED,{type:"visibility_toggled_all",for:"reads",count:te.subscriptions.length})},Ee=_e=>ve=>{ee(te.subscriptions.reduce((De,{visibility:Oe,publication:ye})=>ne(Y({},De),{[ye.id]:ye.id===_e.id?ve:Oe}),{})),track(EVENTS.PROFILE_EDITED,{type:"read_visibility_toggled",visibility:ve})},de=h("button",{className:"small",onClick:fe},ce?"Hide all":"Show all");return h("div",{className:"edit-sub-visibility-form"},h("div",{className:"bulk-action-row"},de),h("div",{className:"edit-sub-visibility-frame"},te.subscriptions.map(_e=>h(W,{sub:_e,onSetVisibility:Ee(_e.publication),source:ae}))),h("div",{className:"modal-ctas"},h(Button,{className:"primary",onClick:se},"Done")))};class ue extends o.Component{constructor(se,ee){var ae;super(se,ee),this.formRef=(0,o.createRef)(),this.state={newName:null,newBio:null,newEmail:se.user&&se.user.is_magic?se.user.email:null},se.isPostInvite&&!((ae=se.user)!=null&&ae.has_publication)&&(this.state.createPublication=!0)}componentDidMount(){var se,ee,ae;this.props.autoSubmit&&(this.isComplete()?(se=this.formRef.current)==null||se.handleSubmit():(ae=(ee=this.props).onAutoSubmitFailed)==null||ae.call(ee))}isComplete(){const{user:se,needsPhoto:ee}=this.props;return se&&!se.is_magic&&se.name&&(!ee||se.photo_url)}onFileInputChanged(){return L(this,null,function*(){const se=this.fileInput.files[0];if(this.fileInput.value="",!se){this.setState({newPhotoUrl:null,newPhotoOrientation:null});return}let ee;try{ee=yield(0,w.getDataUrlFromFile)(se)}catch(ce){console.error("Failed to get data URL from file:",ce),alert(ce.message);return}let ae;try{ae=yield(0,w.getExifOrientationFromFile)(se)}catch(ce){console.error("Failed to extract EXIF data from file:",ce)}this.setState({newPhotoUrl:ee,newPhotoOrientation:ae})})}onError(se){var ee,ae;this.props.autoSubmit&&!this.state.autoSubmitFailed&&(this.setState({autoSubmitFailed:!0}),(ae=(ee=this.props).onAutoSubmitFailed)==null||ae.call(ee)),this.setState({sentLoginEmail:!1}),se.status===401&&this.sendLoginEmail()}createDefaultPublication(se,ee){return L(this,null,function*(){try{const ae=yield g().get("/api/v1/publication/suggestion"),ce=ee||`${se} on Substack`;yield g().post("/api/v1/publication").send({name:se,subdomain:ae.body.subdomain,hero_text:ce,tos:!0})}catch(ae){(0,T.j)(T.FP.DEFAULT_PUBLICATION_CREATION_FAILED),console.log("couldn't set up a default publication",ae)}})}sendLoginEmail(){return L(this,null,function*(){const se=this.state.newEmail||this.props.freeSignupEmail;if(!(this.state.loading||!se)){this.setState({loading:!0});try{yield g().post("/api/v1/email-login").send({email:se,redirect:document.location.href}),this.setState({sentLoginEmail:!0})}catch(ee){console.error("Failed send login email:",ee)}this.setState({loading:!1})}})}render({className:se,user:ee,numVisibleSubscriptions:ae,numSubscriptions:ce,freeSignup:fe,freeSignupEmail:Ee,initialPhotoUrl:de,needsPhoto:_e,optionalPhoto:ve,token:De,text:Oe,onSuccess:ye,prepareData:ze,pageTitle:Be,primaryEligiblePublications:We,isPostInvite:Ke,complete:Xe,profileExists:ct,onSkip:Se,onEditReadVisibility:Qe,barebones:ge,onEditRecommendations:Fe,numRecommendationsToMake:Ne,noSubscribeCta:lt,style:Et},{newPhotoUrl:jt,newPhotoOrientation:en,newName:vt,newEmail:Re,loading:He,sentLoginEmail:ot,newBio:me,createPublication:ke}){const je=jt||de||(0,v.getUserPhotoUrlWithoutDefault)(ee,{noFallbackToSignedOut:!0}),Je=typeof Be=="string"?Be:`${this.isComplete()?"Update":"Create"} your profile`,tt=vt||ee&&ee.name||"",Ae=typeof me=="string"?me:ee&&ee.bio||"",H=(Q,pe)=>L(this,null,function*(){ke&&(yield this.createDefaultPublication(tt,Ae)),ye(Q,pe)});return(0,o.h)("div",{className:c()("profile-updater",se),style:Et},(0,o.h)("h2",{className:"page-title profile-updater-title"},Je),(je||_e||ve)&&(0,o.h)(P,{photoUrl:je,newPhotoUrl:jt,newPhotoOrientation:en,updatePhoto:({newPhotoOrientation:Q,newPhotoUrl:pe})=>this.setState({newPhotoOrientation:Q,newPhotoUrl:pe}),onFileInputChanged:()=>this.onFileInputChanged()}),(0,o.h)(C.ZP,{ref:this.formRef,method:"put",action:"/api/v1/user/profile",prepareData:ze,onSuccess:H,onError:Q=>this.onError(Q),noInlineErrors:!0,loading:He,autoLock:!0},(0,o.h)("label",{htmlFor:"name"},"Name (Required)"),(0,o.h)("input",{autoFocus:!0,type:"text",className:"profile-name",placeholder:"Type your name\u2026",name:"name",id:"name",value:tt,onInput:Q=>this.setState({newName:Q.target.value})}),!ge&&(0,o.h)("label",{htmlFor:"bio"},"Bio"),!ge&&(0,o.h)("textarea",{className:"profile-bio",placeholder:"Say something about yourself\u2026",name:"bio",id:"bio",value:Ae,onInput:Q=>this.setState({newBio:Q.target.value})}),Ke&&(0,o.h)("input",{type:"hidden",name:"needs_bio",value:"true"}),Ke&&(0,o.h)("div",{className:"bio-guest-tip"},"Tip: this will be shown at the bottom of your guest post"),Ke&&We&&(ee==null?void 0:ee.has_publication)&&We.length>1&&(0,o.h)(o.Fragment,null,(0,o.h)("label",null,"Publication to display"),(0,o.h)("div",{className:"primary-publication-selector"},We.map((Q,pe)=>(0,o.h)("label",{className:"publication-selector-row",for:`primary-radio-${Q.id}`},(0,o.h)("input",{id:`primary-radio-${Q.id}`,type:"radio",name:"primary_publication_user_id",value:Q.id,checked:pe===0}),(0,o.h)(A.Z,{pub:Q.publication,logo_url:(0,E.imginary)(Q.publication.logo_url,56,{height:56,crop:"fill"}),linkify:!1,size:28,title:Q.publication.name}),(0,o.h)("div",{className:"primary-publication-name"},Q.publication.name))))),(!ee||ee.is_magic)&&!Ee&&!Ke&&(0,o.h)("input",{type:"email",className:"profile-email",placeholder:"Your email\u2026",name:"email",value:Re,onInput:Q=>this.setState({newEmail:Q.target.value})}),!lt&&!(ee&&(ee.is_subscribed||ee.is_free_subscribed)||fe)&&(0,o.h)("label",{className:"profile-signup-checkbox"},(0,o.h)("input",{type:"checkbox",name:"free_signup",defaultChecked:!0})," Subscribe to the newsletter"),Ke&&!(ee!=null&&ee.has_publication)&&(0,o.h)("label",{className:"profile-signup-checkbox"},(0,o.h)("input",{type:"checkbox",name:"create_publication",id:"create-publication-checkbox",checked:ke,onChange:Q=>this.setState({createPublication:Q.target.checked})}),"Create a Substack publication for me"),(0,o.h)("input",{type:"hidden",name:"photo_url",value:je}),(0,o.h)("input",{type:"hidden",name:"user_id",value:(ee==null?void 0:ee.id)||""}),(0,o.h)("input",{type:"hidden",name:"needs_photo",value:!!_e}),(0,o.h)("input",{type:"hidden",name:"token",value:De}),Xe&&(0,o.h)("input",{type:"hidden",name:"complete",value:!0}),(0,o.h)("div",{id:"error-container"},ot&&(0,o.h)("div",{className:"error other-error"},"If you have an account with us, we've sent an email to ",(0,o.h)("b",null,Re)," with a link that you can use to sign in.")),(0,o.h)("p",{className:c()("left",{hidden:!(typeof ae=="number"&&ce>0&&Qe)})},(0,y.pluralize)(ae||0,"subscription")," ",ct?"are":"will be"," displayed on your profile (",(0,o.h)("a",{onClick:Qe},"edit"),")"),!ct&&Fe&&Ne>0&&(0,o.h)("p",{className:"left second"},(0,y.pluralize)(Ne||0,"recommendation")," will be made on your publication (",(0,o.h)("a",{onClick:Fe},"edit"),")"),(0,o.h)("div",{className:"modal-ctas"},(0,o.h)("p",{className:c()("skip",{hidden:!Se})},(0,o.h)("a",{className:"small",onClick:Se||(()=>{})},"Skip for now")),(0,o.h)(O.Z,{className:"primary",type:"submit"},Oe||"Save"),Ke&&(0,o.h)(o.Fragment,null,(0,o.h)("input",{type:"hidden",name:"accept_tos",value:"true"}),(0,o.h)("div",{className:"agreement-note"},"By signing up you agree to Substack\u2019s"," ",(0,o.h)("a",{href:`${(0,E.getSubstackUrl)()}/pa`,target:"_blank",rel:"noopener"},"publisher agreement"))))))}}class le extends D.p{renderChildren(){const se=this.props,{ref:ee,onBeforeClose:ae,contributor:ce}=se,fe=G(se,["ref","onBeforeClose","contributor"]);return(0,o.h)("div",{className:"profile-updater-modal"},ce?(0,o.h)(J,ne(Y({},fe),{onSuccess:()=>this.close(!0)})):(0,o.h)(ue,ne(Y({},fe),{onSuccess:()=>this.close(!0)})))}}const J=({profile:te,user:se,pub:ee,onSuccess:ae,isOwnProfile:ce})=>{const fe=(0,f.sO)(),[Ee,de]=(0,f.eJ)(null),[_e,ve]=(0,f.eJ)(null),De=Ee||te&&te.photo_url,[Oe,ye]=(0,f.eJ)(te.name),[ze,Be]=(0,f.eJ)(te.bio),We=()=>L(void 0,null,function*(){var Ke;const Xe=(Ke=fe.current)!=null&&Ke.files?fe.current.files[0]:null;if(fe.value="",!Xe){de(null),ve(null);return}let ct;try{ct=yield(0,w.getDataUrlFromFile)(Xe)}catch(Qe){console.error("Failed to get data URL from file:",Qe),alert(Qe.message);return}let Se;try{Se=yield(0,w.getExifOrientationFromFile)(Xe)}catch(Qe){console.error("Failed to extract EXIF data from file:",Qe)}de(ct),ve(Se)});return(0,o.h)("div",{className:"profile-updater"},(0,o.h)("h2",{className:"page-title profile-updater-title"},"Edit contributor profile"),(0,o.h)("div",{className:"profile-photo-wrap"},De&&(0,o.h)("div",{className:"profile-photo-image",style:{backgroundImage:`url(${Ee||(0,E.imginary)(te.photo_url,144)})`,transform:(0,w.transformExifOrientation)(_e)}}),(0,o.h)(O.Z,{onClick:()=>{((0,w.isIE)()||(0,w.isFirefox)())&&fe.click()}},!De&&"Set photo",(0,o.h)("input",{ref:fe,type:"file",name:"photo",accept:"image/*",onChange:()=>We()}))),(0,o.h)(C.ZP,{method:"patch",action:`/api/v1/publication/users/${te.id}`,onSuccess:ae,autoLock:!0},(0,o.h)("input",{type:"text",className:"profile-name",placeholder:"Contributor's name\u2026",name:"name",value:Oe,onInput:Ke=>ye(Ke.target.value)}),(0,o.h)("textarea",{className:"profile-bio",placeholder:"Contributor's bio\u2026",name:"bio",value:ze,onInput:Ke=>Be(Ke.target.value)}),(0,o.h)("input",{type:"hidden",name:"photo_url",value:De}),(0,o.h)("span",{className:"notice"},(0,o.h)("p",null,(0,o.h)("b",null,"Note:")," This is a contributor profile, viewable by ",ee.name,"'s readers."),ce&&(0,o.h)("p",null,"You may also edit your"," ",(0,o.h)("a",{native:!0,href:`${(0,E.getReaderProfileUrl)(se)}`},"personal profile"),".")),(0,o.h)(O.Z,{className:"primary",type:"submit"},"Update profile")))}},31533:(z,l,e)=>{"use strict";e.d(l,{E6:()=>ne,dJ:()=>ue,fS:()=>G,oq:()=>le,xl:()=>ie});var o=e(6400),f=e(94184),u=e.n(f),c=e(12297),_=e.n(c),g=e(80569),E=e.n(g),v=e(82626),y=e(15045),T=e(83322),w=e(1824),S=e(3258),O=e(39419),p=e.n(O),d=e(51126),a=e(43887),P=e(41406),C=e(12650),D=e(96789),A=Object.defineProperty,x=Object.getOwnPropertySymbols,I=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable,F=(J,te,se)=>te in J?A(J,te,{enumerable:!0,configurable:!0,writable:!0,value:se}):J[te]=se,B=(J,te)=>{for(var se in te||(te={}))I.call(te,se)&&F(J,se,te[se]);if(x)for(var se of x(te))N.call(te,se)&&F(J,se,te[se]);return J},V=(J,te,se)=>(F(J,typeof te!="symbol"?te+"":te,se),se),Z=(J,te,se)=>new Promise((ee,ae)=>{var ce=de=>{try{Ee(se.next(de))}catch(_e){ae(_e)}},fe=de=>{try{Ee(se.throw(de))}catch(_e){ae(_e)}},Ee=de=>de.done?ee(de.value):Promise.resolve(de.value).then(ce,fe);Ee((se=se.apply(J,te)).next())});const Y="\u2764",ne=(J,te,se)=>{const{reaction:ee,reactions:ae,reactor_names:ce}=L(J,te,se);W(te,ee,ae,ce)},G=(J,te)=>L(J,te,!te.reaction),L=(J,te,se)=>{let{reaction:ee,reactions:ae={},reactor_names:ce=[]}=te;return ae=B({},ae),ce=[...ce],se&&!ee?(ee=Y,ae[ee]=ae[ee]?ae[ee]+1:1,J&&J.is_public_admin&&ce.push(J.name||"author")):!se&&ee&&(ae[Y]=ae[Y]?ae[Y]-1:0,J&&J.is_public_admin&&(ce=ce.filter(fe=>fe!==(J.name||"author"))),ee=null),{reaction:ee,reactions:ae,reactor_names:ce}},W=(J,te,se,ee)=>{J.reaction=te,J.reactions=se,J.reactor_names=ee};function ie(J,te,se,ee){const ae=(0,y.pathWithQuery)(`/api/v1/${te?"comment":"post"}/${J.id}/reaction`,{token:ee});return se?E().post(ae).send({reaction:Y}):E().delete(ae)}class ue extends o.Component{constructor(){super(...arguments),V(this,"state",{includeModal:!1}),V(this,"modalRef",(0,o.createRef)(null)),V(this,"react",te=>Z(this,null,function*(){if(this.props.isStatic)return;te&&te.stopPropagation();const ee=!(this.props.comment||this.props.post).reaction;if(this.props.onReactedChange&&this.props.onReactedChange(ee),this.props.noSelfUpdate)return;const ae=yield(0,O.stateLock)(this,"locked",(ce,fe)=>Z(this,null,function*(){const Ee=fe.comment||fe.post,de=ie(Ee,!!fe.comment,ee,fe.token),{reaction:_e,reactions:ve,reactor_names:De}=G(fe.user,Ee);this.notifyParent({reactions:ve,reaction:_e,reactor_names:De});let Oe;try{yield de}catch(ye){Oe=ye,this.notifyParent(Ee)}return{error:Oe,reaction:_e}}));return ae&&ae.error&&(ae.error.response&&ae.error.response.statusCode===401?yield this.reactionRejected(ae.reaction):alert((0,O.getNetworkErrorMessage)(ae.error))),!!ae&&!ae.error}))}notifyParent({reaction:te,reactions:se,reactor_names:ee}){const ae=B({},this.props.post),ce=this.props.comment&&B({},this.props.comment);W(ce||ae,te,se,ee),this.props.onChange&&this.props.onChange({post:ae,comment:ce})}reactionRejected(te){return Z(this,null,function*(){(0,S.j)(S.FP.REACTION_REJECTED,{comment_id:this.props.comment&&this.props.comment.id,post_id:this.props.post&&this.props.post.id,reason:"Not logged in",unreact:!te}),yield new Promise(se=>{this.state.includeModal?this.modalRef.current.open(se):this.setState({includeModal:!0},()=>this.modalRef.current.open(se))})})}render({className:te,user:se,pub:ee,comment:ae,height:ce,isStatic:fe,post:Ee,buttonStyle:de,hideReactionCount:_e,countInParenthesesStyle:ve}){const De=ae||Ee,Oe=De.reaction,ye=De.reactions||{},ze=_()(Object.values(ye));let Be;return Ee&&Ee.reaction_url_override?Be=Ee.reaction_url_override:fe?Be=v.Substitutions.REACTION_URL:Be="javascript:void(0)",(0,o.h)(a.xv,{as:"span",decoration:"hover-underline",color:Oe?"accent-red":"pub-secondary-text",className:te},this.props.render?this.props.render({liked:Oe,numReactions:ze>0?(0,T.numberToString)(ze):null,onClick:We=>{this.react(We)}}):(0,o.h)("a",{href:Be,className:u()("like-button",{button:de,"post-meta-button":de,liked:Oe}),onClick:We=>this.react(We)},(0,o.h)(d.hs,{gap:6,alignItems:"center",className:te},fe?(0,o.h)(C.Z,{ampProps:{layout:"fixed"},isStatic:!0,height:ce,stroke:"var(--color-secondary-themed)",fill:"transparent"}):(0,o.h)(d.hs,{className:"reaction-container"},(0,o.h)(C.Z,{className:"animation"}),!Oe&&(0,o.h)(C.Z,{strokeWidth:2,height:ce,fill:"transparent",stroke:"var(--color-secondary-themed)"}),Oe&&(0,o.h)(C.Z,{height:ce,strokeWidth:2})),ve?(0,o.h)(a.xv.Meta,{color:Oe?"accent-red":"pub-secondary-text",className:"like-count"},Oe?"Liked":"Like",!_e&&ze>0?` (${(0,T.numberToString)(ze)})`:""):!_e&&ze>0?(0,o.h)("span",{className:"like-count"},(0,T.numberToString)(ze)):de?(0,o.h)("span",{className:"like-count"},"Like"):null)),!fe&&this.state.includeModal&&(0,o.h)(le,{modalRef:this.modalRef,user:se,pub:ee,comment:ae,react:this.react}))}}function le({comment:J,pub:te,user:se,modalRef:ee,onClose:ae,react:ce}){return(0,o.h)(D.Z,{ref:ee,onClose:ae},(0,o.h)(d.tu,{alignItems:"center",paddingTop:80,gap:24},(0,o.h)(a.xv.H2,null,"Subscribe to like this ",J?"comment":"post"),(0,o.h)(P.Z,{user:se,pub:te,showLogin:!0,showTerms:!0,source:"like_button",onSuccess:fe=>Z(this,null,function*(){const Ee=fe&&fe.body&&fe.body.email;fe&&fe.body&&fe.body.prompt_to_login||!(yield ce())?window.location.href=(0,y.getSigninUrl)({for_pub:te.subdomain,email:Ee}):ee!=null&&ee.current&&((0,w.a)({freeSignup:!0,freeSignupEmail:Ee}),yield ee.current.close())})})))}},49715:(z,l,e)=>{"use strict";e.d(l,{J:()=>ue});var o=e(6400),f=e(30396),u=e(80569),c=e.n(u),_=e(82626),g=e(85928),E=e.n(g),v=e(6385),y=e(15045),T=e(83322),w=e(13045),S=e(63270),O=e(3258),p=e(39419),d=e(84040),a=e(51126),P=e(62246),C=e(43887),D=e(75425),A=e(96427),x=e(81671),I=e(61152);const N={textarea:"frontend-components-restack_modal-module__textarea--E7kGG",postPreview:"frontend-components-restack_modal-module__postPreview--hIlHg",pubIcon:"frontend-components-restack_modal-module__pubIcon--upVU0",modalWrap:"frontend-components-restack_modal-module__modalWrap--N4zkH",select:"frontend-components-restack_modal-module__select--Z1qub"};var F=Object.defineProperty,B=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable,Y=(le,J,te)=>J in le?F(le,J,{enumerable:!0,configurable:!0,writable:!0,value:te}):le[J]=te,ne=(le,J)=>{for(var te in J||(J={}))V.call(J,te)&&Y(le,te,J[te]);if(B)for(var te of B(J))Z.call(J,te)&&Y(le,te,J[te]);return le},G=(le,J,te)=>new Promise((se,ee)=>{var ae=Ee=>{try{fe(te.next(Ee))}catch(de){ee(de)}},ce=Ee=>{try{fe(te.throw(Ee))}catch(de){ee(de)}},fe=Ee=>Ee.done?se(Ee.value):Promise.resolve(Ee.value).then(ae,ce);fe((te=te.apply(le,J)).next())});const L={AUDIENCE_SELECTION:"AUDIENCE_SELECTION",PREAMBLE:"PREAMBLE"},W={everyone:"Everyone",only_paid:"Paid subscribers",founding:"Founding members"},ie={everyone:"Send via email to all subscribers",only_paid:"Send via email to all paid subscribers",founding:"Send via email to all founding members"},ue=({pub:le,post:J,user:te,open:se,setOpen:ee,placeholderText:ae=""})=>{const ce=E()().add(2,"minutes"),[fe,Ee]=(0,f.eJ)(null),[de,_e]=(0,f.eJ)(ae),[ve,De]=(0,f.eJ)(!1),[Oe,ye]=(0,f.eJ)(!0),[ze,Be]=(0,f.eJ)(L.PREAMBLE),[We,Ke]=(0,f.eJ)(null),[Xe,ct]=(0,f.eJ)(null),[Se,Qe]=(0,f.eJ)(!0),[ge,Fe]=(0,f.eJ)(!0),[Ne,lt]=(0,f.eJ)(!1),[Et,jt]=(0,f.eJ)(E()().add(1,"day").toDate()),[en,vt]=(0,f.eJ)(""),{getConfigFor:Re}=(0,S.xR)(),He={everyone:"to everyone",founding:"to founding members",only_paid:"to paid subscribers"}[Xe],ot=Se?"Send":"Publish",me=Ne&&Et?E()(Et).max(ce).fromNow():"",je=`${ot} cross-post ${Se?He:""} ${me}`,Je=fe==null?void 0:fe.find(Q=>Q.id===We),tt=(0,D.pm)();(0,f.d4)(()=>{se&&!fe&&Oe&&(()=>G(void 0,null,function*(){var pe;try{const we=yield c().get("/api/v1/restack/restackable-pubs"),Le=((pe=we==null?void 0:we.body)==null?void 0:pe.publications)||[];Ee(Le),ye(!1),Le.length>0&&(Ke(Le[0].id),ct("everyone"))}catch(we){console.error("Failed to load user profile for restacking: ",we)}}))()},[se,te,Oe,ye,fe,Ee]),(0,f.d4)(()=>{se&&fe&&fe.length===0&&!Oe&&(0,p.redirect)((0,y.getStartPublishingUrl)())},[se,fe,Oe]);const Ae=(Q,pe)=>{ee(!se,pe),Be(L.PREAMBLE),vt(null),ye(!1),pe&&(_e(""),(0,O.j)(O.FP.RESTACK_POST_SUBMITTED,{restacked_publication_id:le.id,restacked_post_id:J.id,restacking_user_id:te.id,restacking_publication_id:Je.id,restacking_blurb:de}),tt.popToast(we=>(0,o.h)(D.FN,ne({text:Ne?`This post is scheduled to cross-post ${me}`:"This post was cross-posted to your subscribers"},we)))),(0,O.j)(O.FP.CROSS_POST_MODAL_CLOSED,{didRestack:pe})},H=()=>G(void 0,null,function*(){(0,O.j)(O.FP.CROSS_POST_MODAL_SUBMIT_CLICKED),ye(!0);try{if(Ne){const Q=E()(Et).max(ce).toDate();yield c().post(`/api/v1/restack/${J.id}/schedule`).send({audience:Xe,restackingPubId:Je.id,introText:de,sendEmail:Se,publishToWeb:ge,scheduledAt:Q})}else yield c().post(`/api/v1/restack/${J.id}`).send({audience:Xe,restackingPubId:Je.id,introText:de,sendEmail:Se,publishToWeb:ge});(0,O.j)(O.FP.CROSS_POST_MODAL_SUBMITTED),Ae({},!0);return}catch(Q){if((0,O.j)(O.FP.CROSS_POST_MODAL_SUBMIT_FAILED),Q instanceof TypeError)throw vt("An unknown error ocurred. This post was not recommended."),ye(!1),Q;vt((0,p.getNetworkErrorMessage)(Q,"This post could not be recommended.")),ye(!1)}});return(0,o.h)(P.u_,{isOpen:se,onClose:Ae},(0,o.h)(P.xB,{includeClose:!0,onClose:Ae,title:"Cross-post to your Substack"}),(0,o.h)("div",{"data-testid":"modal-ref-id",className:N.modalWrap},ze===L.PREAMBLE?(0,o.h)(a.tu,{gap:24,paddingTop:12},(0,o.h)(a.tu,{gap:16},(0,o.h)("textarea",ne({className:N.textarea,placeholder:"Say why this post is worth reading...",onChange:Q=>{ve||(De(!0),(0,O.j)(O.FP.CROSS_POST_MODAL_TYPING_STARTED)),_e(Q.target.value)},value:de,maxLength:"800"},I.J)),(0,o.h)(a.tu,{gap:12,className:N.postPreview,paddingX:16,paddingY:16},(0,o.h)(a.gq,{alignItems:"center",gap:8},(0,o.h)(x.Z,{pub:le,size:24,logo_url:le.logo_url,linkify:!1,className:N.pubIcon,noMargin:!0}),(0,o.h)(C.xv.B4,{color:"primary",weight:"semibold",size:14},le.name)),(0,o.h)(a.tu,{gap:4},(0,o.h)(C.xv.H4,{weight:"semibold"},J.title),(0,o.h)(C.xv.B3,{color:"secondary"},(0,T.formatEllipsis)(((J.truncated_body_text||"").replace(_.Substitutions.PUBLICATION_NAME,le.name)||J.subtitle||"").substring(0,100)))))),en&&(0,o.h)(C.xv.B4,{color:"accent-red"},en),(0,o.h)(d.zx,{priority:"primary-theme",onClick:()=>{if((0,O.j)(O.FP.CROSS_POST_MODAL_CONTINUE_CLICKED),!de){vt("Please write something to your subscribers to continue"),(0,O.j)(O.FP.CROSS_POST_MODAL_CONTINUE_FAILED);return}vt(""),Be(L.AUDIENCE_SELECTION),(0,O.j)(O.FP.CROSS_POST_MODAL_CONTINUED)},disabled:Oe||!de,className:"restack-modal-button "},"Continue")):(0,o.h)(a.tu,{gap:24,paddingTop:12},(0,o.h)(a.tu,{gap:20},(0,o.h)(a.tu,{gap:8},(0,o.h)(C.xv.B3,null,"Post to"),(0,o.h)(A.P,{value:Je.id,onChange:Q=>{ct("everyone"),Ke(Number(Q))},className:N.select},fe.map(Q=>(0,o.h)("option",{value:Q.id},Q.name)))),(0,o.h)(a.tu,{gap:8},(0,o.h)(C.xv.B3,null,"Send to"),(0,o.h)(A.P,{value:Xe,onChange:Q=>ct(Q),className:N.select},((Je==null?void 0:Je.payments_state)==="enabled"?(0,v.getAudiencesForPublicListing)():["everyone"]).map(Q=>(0,o.h)("option",{value:Q},W[Q]))))),(0,o.h)(a.tu,{gap:12},(0,o.h)(C.xv.B3,null,"Delivery"),(0,o.h)(w.ji,{value:Se,label:"Send cross-post via email",onChange:Q=>Qe(Q)}),(0,o.h)(w.ji,{value:ge,label:"Publish cross-post to web",onChange:Q=>Fe(Q)}),(0,o.h)(w.ji,{value:Ne,label:"Schedule time to publish cross-post",onChange:Q=>lt(Q),contentBelow:(0,o.h)(w.HZ,{expanded:Ne},(0,o.h)(a.tu,{paddingTop:8},(0,o.h)(w.Tz,{value:Et!=null?Et:new Date,max:E()().add(92,"days").toDate(),onChange:Q=>{jt(new Date(Q.currentTarget.value))}})))})),en&&(0,o.h)(C.xv.B4,{color:"accent-red"},en),(0,o.h)(d.zx,{priority:!Se&&!ge?"secondary":"primary-theme",onClick:H,disabled:Oe||!Se&&!ge,className:"restack-modal-button "},je))))}},69427:(z,l,e)=>{"use strict";e.d(l,{ZP:()=>_e});var o=e(6400),f=e(98661),u=e(91004),c=e(15045),_=e(78710),g=e(3258),E=e(58884),v=e(39419),y=e.n(v),T=e(51126),w=e(76235),S=e(43887),O=e(7922),p=e(46595),d=e(51889),a=e(54813),P=e(64484),C=e(73416),D=e(21302),A=e(65665),x=e(7775),I=e(74957),N=e(41874),F=e(95950),B=e(96789),V=e(79786),Z=e(38441),Y=Object.defineProperty,ne=Object.defineProperties,G=Object.getOwnPropertyDescriptors,L=Object.getOwnPropertySymbols,W=Object.getPrototypeOf,ie=Object.prototype.hasOwnProperty,ue=Object.prototype.propertyIsEnumerable,le=Reflect.get,J=(De,Oe,ye)=>Oe in De?Y(De,Oe,{enumerable:!0,configurable:!0,writable:!0,value:ye}):De[Oe]=ye,te=(De,Oe)=>{for(var ye in Oe||(Oe={}))ie.call(Oe,ye)&&J(De,ye,Oe[ye]);if(L)for(var ye of L(Oe))ue.call(Oe,ye)&&J(De,ye,Oe[ye]);return De},se=(De,Oe)=>ne(De,G(Oe)),ee=(De,Oe,ye)=>(J(De,typeof Oe!="symbol"?Oe+"":Oe,ye),ye),ae=(De,Oe,ye)=>le(W(De),ye,Oe),ce=(De,Oe,ye)=>new Promise((ze,Be)=>{var We=ct=>{try{Xe(ye.next(ct))}catch(Se){Be(Se)}},Ke=ct=>{try{Xe(ye.throw(ct))}catch(Se){Be(Se)}},Xe=ct=>ct.done?ze(ct.value):Promise.resolve(ct.value).then(We,Ke);Xe((ye=ye.apply(De,Oe)).next())});const fe=(0,f.forwardRef)((De,Oe)=>(0,o.h)(O.Z,se(te({},De),{className:"share-action",forwardedRef:Oe}),(0,o.h)("div",{className:"action-icon"},(0,o.h)(p.Z,null)),(0,o.h)(S.xv.B4,{translated:!0,color:"secondary"},"Other"))),Ee=({pub:De,post:Oe,profile:ye})=>{let ze=typeof document!="undefined"?document.title:"",Be="",We="";const Ke=(0,c.getBaseUrl)(De).replace(/^https?:\/\//,"").replace(/\/$/);return Oe?(ze=Oe.title||Oe.draft_title,Be=Ke,We=Oe.cover_image||null):De?(ze=De.name,Be=Ke,We=De.logo_url):ye&&(ze=ye.name,Be=ye.bio,We=(0,c.getUserPhotoUrl)(ye)),(0,o.h)(T.gq,{className:`social-preview-box ${Oe?"post":De?"pub":"user"}`,radius:12,border:"detail",padding:8},(0,o.h)("div",{className:"social-image-box"},(Oe||De)&&We&&(0,o.h)(V.e,{className:"social-image",src:We,alt:"",maxWidth:120,loading:"lazy"}),!Oe&&!De&&We&&(0,o.h)(Z.cy,{className:"social-image",imageUrl:We,size:52}),!We&&(0,o.h)(a.Z,{className:"social-image-default"})),(0,o.h)(T.tu,{paddingLeft:12,paddingY:8},(0,o.h)(S.xv.H4,null,ze),(0,o.h)(S.xv.B4,{color:"secondary"},Be)))},de=class extends B.p{constructor(De,Oe){super(De,Oe),this.noFullscreen=!0}open(){return ce(this,null,function*(){const De="direct",Oe={title:(0,u.B8)(te({},this.props)),url:(0,u.O1)(De,te({medium:this.state.medium},this.props))};if((0,v.isMobileBrowser)()&&navigator.share&&navigator.canShare&&navigator.canShare(Oe))try{yield navigator.share(Oe),(0,g.j)(g.FP.NATIVE_SHARE_SUCCESS,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||"default"}),(0,E.ex)(`${this.props.pub.subdomain} shared`,!0);return}catch(ye){if(ye.name==="AbortError")return;(0,g.j)(g.FP.NATIVE_SHARE_FAILED,{errorName:ye.name,errorMessage:ye.message})}ae(de.prototype,this,"open").call(this)})}fromEmail(){this.setState({medium:"email"},()=>{this.open()})}getClassName(){return"share-dialog"}onBeforeOpen(){this.setState({showButtons:!0})}onOpen(){(0,g.j)(g.FP.SHARE_DIALOG_OPENED,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||"default"})}onClose(){this.setState({copied:!1,utm_campaign:null})}renderChildren({post:De,pub:Oe,profile:ye}){const ze=De?"post":Oe?"publication":ye?"profile":null,Be=ze?this.context.iTemplate`Share this ${ze}`:this.context.iString("Share");return(0,o.h)(o.Fragment,null,(0,o.h)("div",{className:"share-dialog-title"},Be),(0,o.h)(T.tu,{gap:32,paddingX:24,paddingTop:32,paddingBottom:48},(De||Oe||ye)&&(0,o.h)(Ee,{post:De,pub:Oe,profile:ye}),(0,o.h)(ve,se(te({utm_campaign:this.state.utm_campaign},this.props),{shareName:(0,u.B8)(te({},this.props)),shareUrl:(0,u.O1)(null,te({medium:this.state.medium},this.props))}))))}};let _e=de;ee(_e,"contextType",_.wj);class ve extends o.Component{maybeOnChange(){const{onChange:Oe}=this.props;Oe&&Oe()}render({}){return(0,o.h)(T.gq,{className:"share-dialog-buttons-wrapper",justifyContent:"space-between",gap:8},(0,o.h)(O.Z,{onClick:()=>{(0,u.Ui)(te({},this.props)),this.maybeOnChange()},className:"share-action"},(0,o.h)("div",{className:"action-icon"},(0,o.h)(x.Z,null)),(0,o.h)(S.xv.B4,{translated:!0,color:"secondary"},"Copy link")),(0,o.h)(O.Z,{className:"share-action",onClick:()=>{(0,u.Po)(te({},this.props)),this.maybeOnChange()}},(0,o.h)("div",{className:"action-icon"},(0,o.h)(N.Z,null)),(0,o.h)(S.xv.B4,{translated:!0,color:"secondary"},"Facebook")),(0,o.h)(O.Z,{className:"share-action",onClick:()=>{(0,u.WZ)(te({},this.props)),this.maybeOnChange()}},(0,o.h)("div",{className:"action-icon"},(0,o.h)(I.Z,null)),(0,o.h)(S.xv.B4,{translated:!0,color:"secondary"},"Email")),(0,o.h)(O.Z,{className:"share-action",onClick:()=>{(0,u.BZ)(te({},this.props)),this.maybeOnChange()}},(0,o.h)("div",{className:"action-icon"},(0,o.h)(C.Z,null)),(0,o.h)(S.xv.B4,{color:"secondary"},"Notes")),(0,o.h)(w.v2,{layerOptions:{triggerOffset:-20},className:"share-dialog-network-menu",trigger:(0,o.h)(fe,null),onOpen:()=>{(0,g.j)(g.FP.SHARE_DIALOG_MORE_OPTION_CLICKED,{medium:this.state.medium||this.props.medium||"web",post_id:this.props.post?this.props.post.id:null,utm_campaign:this.state.utm_campaign||"default"})}},(0,o.h)(w.sN,{onClick:()=>{(0,u.lc)(te({},this.props)),this.maybeOnChange()},icon:(0,o.h)(P.Z,null)},"Linkedin"),(0,o.h)(w.sN,{onClick:()=>{(0,u.sn)(te({},this.props)),this.maybeOnChange()},icon:(0,o.h)(A.Z,null)},"Reddit"),(0,o.h)(w.sN,{onClick:()=>{(0,u.b6)(te({},this.props)),this.maybeOnChange()},icon:(0,o.h)(d.Z,null)},"Hacker News"),(0,o.h)(w.sN,{onClick:()=>{(0,u.Vn)(te({},this.props)),this.maybeOnChange()},icon:(0,o.h)(D.Z,null)},"Pinterest"),(0,o.h)(w.sN,{onClick:()=>{(0,u.Wn)(te({},this.props)),this.maybeOnChange()},icon:(0,o.h)(F.Z,null)},"Twitter")))}}},61152:(z,l,e)=>{"use strict";e.d(l,{J:()=>O,Z:()=>p});var o=e(6400),f=e(83322),u=e(39419),c=e.n(u),_=Object.defineProperty,g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,y=(d,a,P)=>a in d?_(d,a,{enumerable:!0,configurable:!0,writable:!0,value:P}):d[a]=P,T=(d,a)=>{for(var P in a||(a={}))E.call(a,P)&&y(d,P,a[P]);if(g)for(var P of g(a))v.call(a,P)&&y(d,P,a[P]);return d},w=(d,a)=>{var P={};for(var C in d)E.call(d,C)&&a.indexOf(C)<0&&(P[C]=d[C]);if(d!=null&&g)for(var C of g(d))a.indexOf(C)<0&&v.call(d,C)&&(P[C]=d[C]);return P},S=(d,a,P)=>(y(d,typeof a!="symbol"?a+"":a,P),P);const O={"data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false"};class p extends o.Component{constructor(){super(...arguments),S(this,"onWindowResize",a=>{this.setAutoHeight()}),S(this,"onKeyDown",a=>(this.props.inline&&a.key==="Enter"&&a.preventDefault(),this.props.onKeyDown&&this.props.onKeyDown(a))),S(this,"onInput",a=>(this.setAutoHeight(),this.props.onInput&&this.props.onInput(a))),S(this,"onBlur",()=>{var a;if(this.props.inline){const P=(a=this.base)==null?void 0:a.value,C=(0,f.sanitizeInlineText)(P);P&&P!==C&&(this.base.value=C,this.props.onInput&&this.props.onInput(event))}})}componentDidMount(){this.setAutoHeight(),window.addEventListener("resize",this.onWindowResize)}componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize)}componentDidUpdate(a,P,C){a.value!==this.props.value&&this.setAutoHeight()}get value(){return this.base?this.base.value:""}setAutoHeight(){this.props.autoHeight&&this.base&&(typeof window=="undefined"||!window.getComputedStyle||(0,u.stateTransaction)(this,a=>{this.base.style.height="";const P=window.getComputedStyle(this.base),C=parseInt(P.getPropertyValue("height")),D=parseInt(P.getPropertyValue("padding-top"))+parseInt(P.getPropertyValue("padding-bottom")),A=parseInt(P.getPropertyValue("line-height")),x=Math.min(Math.round((this.base.scrollHeight-D)/A),this.props.maxLines||1/0);this.base.style.height=`${Math.max(x*A+D,C)}px`,this.base.style.height!==a.height&&this.setState({height:this.base.style.height})}))}render(a,{height:P}){var C=a,{children:D,ref:A,style:x,onKeyDown:I,onInput:N,inline:F,autoHeight:B,maxLines:V}=C,Z=w(C,["children","ref","style","onKeyDown","onInput","inline","autoHeight","maxLines"]);return B&&(x=Object.assign({},x,{height:P})),(0,o.h)("textarea",T(T({style:x,onKeyDown:this.onKeyDown,onInput:this.onInput,onBlur:this.onBlur},O),Z),D)}}},4605:(z,l,e)=>{"use strict";e.d(l,{ZP:()=>d,g1:()=>S});var o=e(6400),f=e(30396),u=e(80569),c=e.n(u),_=e(85928),g=e.n(_),E=e(83322),v=e(3258),y=e(66141);const T=(a,{timeout:P=5e3,className:C="",dismissable:D=!1,beforeDismiss:A=null}={},x=document.body)=>{const I=document.createElement("div");I.setAttribute("id","toast"),I.setAttribute("role","alert"),C&&I.classList.add(C),x.appendChild(I);const N=()=>{A&&A(),I.classList.remove("in"),setTimeout(()=>{I.remove()},500)};(0,o.render)([(0,o.h)("p",null,a),D&&(0,o.h)("a",{className:"dismiss",onClick:N},"Dismiss")],I),setTimeout(()=>{I.classList.add("in")}),!D&&setTimeout(N,P)},w=({children:a,className:P,dismissKey:C,dismissDurationInSeconds:D,beforeDismiss:A,container:x})=>{const[I,N]=(0,y.Z)(C,D,A);if(!I)return T(a,{className:P,beforeDismiss:N,dismissable:!0},x)},S=({user:a,pub:P,container:C})=>{if(!(!a||!P||!a.is_subscribed))return(0,o.h)(p,{pub:P,container:C})},O=a=>{if(a&&a.cardExpiresAt){const P=g()(a.expiry).subtract(E.GRACE_PERIOD_DAYS,"day"),C=g()(a.cardExpiresAt),D=g()().add(12,"day");return C.isBefore(P)&&P.isBefore(D)}return!1},p=({pub:a,container:P})=>{const[C,D]=(0,f.eJ)(null);if((0,f.d4)(()=>{c().get("/api/v1/subscription").then(A=>D(A.body)).catch(A=>{console.error("Failed to fetch subscription data: ",A)})},[]),O(C))return(0,o.h)(w,{className:"urgent",dismissKey:"card-expiring-toast.dismissed",dismissDurationInSeconds:1*E.WEEK_IN_SECONDS,beforeDismiss:()=>{(0,v.j)(v.FP.CARD_EXPIRED_WARNING_DISMISSED,{type:"toast"})},container:P},"Your credit card is expiring soon."," ",(0,o.h)("a",{href:"/account/billing",native:!0,onClick:()=>{(0,v.j)(v.FP.UPDATE_EXPIRED_CARD_LINK_CLICKED,{type:"toast"})}},"Update your card"),` before you lose access to ${a.name}`,".")},d=T},71708:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(30396);const f=({root:u=null,threshold:c=0,rootMargin:_}={})=>{if(typeof window=="undefined"||typeof IntersectionObserver=="undefined")return[null,null];const[g,E]=(0,o.eJ)(null),[v,y]=(0,o.eJ)(null),T=(0,o.sO)(new IntersectionObserver(([w])=>E(w),{root:u,threshold:c,rootMargin:_}));return(0,o.d4)(()=>{var w;const S=(w=v==null?void 0:v.base)!=null&&w.addEventListener?v.base:v!=null&&v.addEventListener?v:null,{current:O}=T;return O.disconnect(),S&&O.observe(S),()=>O.disconnect()},[v]),[y,g]}},38441:(z,l,e)=>{"use strict";e.d(l,{ZP:()=>F,cy:()=>G,m1:()=>B});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),_=e(15045),g=e(3258),E=e(11688),v=e(32127),y=e(1782),T=e(36377),w=e(89867),S=e(95847),O=e(79786),p=e(71708),d=e(84017),a=Object.defineProperty,P=Object.getOwnPropertySymbols,C=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable,A=(L,W,ie)=>W in L?a(L,W,{enumerable:!0,configurable:!0,writable:!0,value:ie}):L[W]=ie,x=(L,W)=>{for(var ie in W||(W={}))C.call(W,ie)&&A(L,ie,W[ie]);if(P)for(var ie of P(W))D.call(W,ie)&&A(L,ie,W[ie]);return L},I=(L,W,ie)=>(A(L,typeof W!="symbol"?W+"":W,ie),ie);const N=33;class F extends o.Component{constructor(){super(...arguments),I(this,"onClick",W=>{if(this.props.onClick)this.props.onClick(W);else if(this.props.modalProfile)W.preventDefault(),W.stopPropagation(),this.profileShown||(this.profileShown=!0,(0,g.j)(g.FP.USER_HEAD_CLICKED,{is_self:this.isSelf()})),this.state.includeProfile?this.profile.open():this.setState({includeProfile:!0},()=>this.profile.open());else return!1})}static getSubject(W){return W?W.author_id?{id:W.author_id,name:W.author_name,photo_url:(0,_.getUserPhotoUrl)(W,{preferAuthorPhoto:!0}),publications:W.subdomain?[W]:[]}:W.user_id?{id:W.user_id,name:W.name,photo_url:(0,_.getUserPhotoUrl)(W),publications:[]}:{id:W.id,name:W.name,photo_url:(0,_.getUserPhotoUrl)(W),publications:[]}:{id:null,name:null,photo_url:_.DEFAULT_PHOTO_URL,publications:[]}}static hasCustomProfilePhoto(W){return!!F.getSubject(W).photo_url}isSelf(){return this.props.user&&this.props.user.id===F.getSubject(this.props.subject).id||!this.props.subject}profileUrl(){return this.props.isAuthor?(0,_.getProfileUrl)(F.getSubject(this.props.subject),this.props.pub,{base:this.props.isStatic}):(0,_.getReaderProfileUrl)(F.getSubject(this.props.subject))}onBeforeProfileClose(W){if(W)if(this.props.onEdit)this.props.onEdit();else return document.location.reload(),!1}render({subject:W,pub:ie,user:ue,badge:le,freeSignup:J,freeSignupEmail:te,token:se,isStatic:ee,size:ae,modalProfile:ce,isBanned:fe,lazy:Ee,tooltip:de,noLink:_e,className:ve}){ae=ae||N;const De=F.getSubject(W);return(0,o.h)("div",{className:c()("user-head",{banned:fe},ve)},_e?(0,o.h)(B,{photo_url:De.photo_url,size:ae,isStatic:ee,isBanned:fe,lazy:Ee,badge:le,tooltip:de,className:"default-pointer"}):(0,o.h)("a",{href:ee||!ce?this.profileUrl():null,onClick:this.onClick},(0,o.h)(B,{photo_url:De.photo_url,size:ae,isStatic:ee,isBanned:fe,lazy:Ee,badge:le,tooltip:de})),this.props.modalProfile&&!ee&&typeof window!="undefined"&&this.state.includeProfile&&(this.isSelf()?(0,o.h)(S.EB,{ref:Oe=>this.profile=Oe,user:ue,freeSignup:J,freeSignupEmail:te,needsPhoto:!0,token:se,onBeforeClose:Oe=>this.onBeforeProfileClose(Oe)}):(0,o.h)(d.FI,{ref:Oe=>this.profile=Oe,profileUser:De,pub:ie,isBanned:fe})))}}const B=({photo_url:L,size:W,isStatic:ie,isBanned:ue,lazy:le,badge:J,tooltip:te,style:se,expandable:ee,children:ae,className:ce})=>{const[fe,Ee]=(0,f.eJ)(!1),de=!L&&!!ae,_e={founding:T.Z,author:v.Z}[J];return(0,o.h)("div",{onClick:()=>{ee&&Ee(!0)},className:c()("profile-img-wrap",ce)},de?ae:le?(0,o.h)(Z,x({},{photo_url:L,size:W,isStatic:ie,badge:J,style:se})):(0,o.h)(Y,x({},{photo_url:L,size:W,isStatic:ie,badge:J,style:se})),_e&&(0,o.h)("div",{className:"profile-img-badge",title:te},(0,o.h)(_e,{height:14,width:14,stroke:"var(--print_on_pop)",title:te})),ue&&(0,o.h)(y.Z,null),(0,o.h)(E.cr,{module:"./ImageViewerModal",resolve:ve=>ve.ImageViewerModal,onRequest:()=>e.e(661).then(e.bind(e,55661)),showModal:fe,modalContent:[{src:de?ae:L,attrs:{src:de?ae:L}}],onClose:()=>{Ee(!1)},step:0,includeDownloadButton:!1}))},V=(L,W)=>(0,_.imginary)(L,W*2,{height:W*2,crop:"fill"}),Z=({photo_url:L,size:W,isStatic:ie,badge:ue,style:le})=>{const[J,te]=(0,p.Z)({}),se=!te||te.isIntersecting?L:_.DEFAULT_PHOTO_URL;return(0,o.h)(ne,{url:V(se,W),size:W,ref:J,badge:ue,isStatic:ie,style:le})},Y=({photo_url:L,size:W,isStatic:ie,badge:ue,style:le})=>(0,o.h)(ne,{url:V(L,W),size:W,badge:ue,isStatic:ie,style:le}),ne=({url:L,size:W,isStatic:ie,ref:ue,badge:le,className:J})=>ie?(0,o.h)(w.Z,{className:J,src:(0,_.imginary)(L,W*2,{height:W*2,crop:"fill"}),ref:ue,height:W,width:W,alt:le||""}):(0,o.h)(O.e,{className:J,src:L,imageProps:{height:W*2,crop:"fill"},maxWidth:W*2,ref:ue,alt:le||""}),G=({imageUrl:L,alt:W,size:ie,className:ue})=>(0,o.h)(ne,{className:`user-photo ${ue||""}`,url:L,badge:W,size:ie})},84017:(z,l,e)=>{"use strict";e.d(l,{FI:()=>I,fi:()=>F});var o=e(6400),f=e(94184),u=e.n(f),c=e(80569),_=e.n(c),g=e(85928),E=e.n(g),v=e(15045),y=e(83322),T=e(1782),w=e(96789),S=Object.defineProperty,O=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,a=(B,V,Z)=>V in B?S(B,V,{enumerable:!0,configurable:!0,writable:!0,value:Z}):B[V]=Z,P=(B,V)=>{for(var Z in V||(V={}))p.call(V,Z)&&a(B,Z,V[Z]);if(O)for(var Z of O(V))d.call(V,Z)&&a(B,Z,V[Z]);return B},C=(B,V)=>{var Z={};for(var Y in B)p.call(B,Y)&&V.indexOf(Y)<0&&(Z[Y]=B[Y]);if(B!=null&&O)for(var Y of O(B))V.indexOf(Y)<0&&d.call(B,Y)&&(Z[Y]=B[Y]);return Z},D=(B,V,Z)=>new Promise((Y,ne)=>{var G=ie=>{try{W(Z.next(ie))}catch(ue){ne(ue)}},L=ie=>{try{W(Z.throw(ie))}catch(ue){ne(ue)}},W=ie=>ie.done?Y(ie.value):Promise.resolve(ie.value).then(G,L);W((Z=Z.apply(B,V)).next())});const A=92;class x extends o.Component{componentDidMount(){this.props.manualLoad||this.loadProfileUser()}componentDidUpdate(V){!this.props.manualLoad&&V.profileUser.id!==this.props.profileUser.id&&(this.setState({profileUser:null}),this.loadProfileUser())}loadProfileUser(){return D(this,null,function*(){if(!this.state.loadingProfile){this.setState({loadingProfile:!0});try{const V=yield _().get(`/api/v1/user/${this.props.profileUser.id}/profile`);this.setState({profileUser:V.body})}catch(V){console.error("Failed to load profile:",V)}this.setState({loadingProfile:!1})}})}getProfileUser(){return this.state.profileUser||this.props.profileUser}render({pub:V}){var Z;const Y=((Z=this.getProfileUser().publications)==null?void 0:Z.filter(ne=>ne.id!==V.id))||[];return(0,o.h)("div",{className:`user-profile ${this.props.isBanned?"banned":""}`},(0,o.h)(F,{photo_url:(0,v.getUserPhotoUrl)(this.getProfileUser()),banned:this.props.isBanned,email:this.getProfileUser().email,pub:V}),(0,o.h)("div",{className:"user-profile-name"},this.getProfileUser().name),(0,o.h)("div",{className:"user-profile-status"},this.getProfileUser().id===V.author_id?(0,o.h)("b",null,"Author of ",V.name):this.getProfileUser().subscribed_at?`Subscriber to ${V.name} since ${E()(this.getProfileUser().subscribed_at).standardDate()}`:"\xA0"),Y.length>0&&(0,o.h)("div",{className:"user-profile-publication"},"Author of"," ",(0,y.oxfordComma)(Y.map(ne=>(0,o.h)("a",{href:ne.base_url,native:!0},ne.name)))),this.props.isBanned&&(0,o.h)("div",{className:"user-profile-banned"},"Banned from commenting on ",V.name))}}class I extends w.p{onBeforeOpen(){this.profile.loadProfileUser()}renderChildren(){const V=this.props,{ref:Z}=V,Y=C(V,["ref"]);return(0,o.h)("div",{className:"user-profile-modal"},(0,o.h)(x,P({ref:ne=>this.profile=ne,manualLoad:!0},Y)))}}const N=({children:B,email:V,pub:Z})=>(0,o.h)("a",{target:"_blank",href:(0,v.getSubscriberDetailsUrl)(Z,V)},B),F=({photo_url:B,size:V=A,banned:Z=!1,email:Y="",className:ne="",pub:G=null,children:L=void 0})=>{const W=(0,o.h)("img",{className:"user-profile-head",height:V,width:V,src:(0,v.imginary)(B,V*2,{height:V*2,crop:"fill"})});return(0,o.h)("div",{className:u()(ne,"profile-image-wrapper")},Y&&G?(0,o.h)(N,{email:Y,pub:G},W):W,Z&&(0,o.h)(T.Z,{height:V}),L)}},1824:(z,l,e)=>{"use strict";e.d(l,{Z:()=>p,a:()=>d});var o=e(98661),f=e(6400),u=e(36808),c=e.n(u),_=e(15045),g=e(3258),E=e(39419),v=e.n(E),y=e(37888),T=e(33291);e(14369);const w="entry",S="ajs_anonymous_id";let O;function p(x){var I,N;if(O)throw new Error("Cannot re-render the things");O=x,window._preloads&&(window._preloads.original_url=window.location.href),(0,g.uF)(),(0,y.j0)((N=(I=window._preloads)==null?void 0:I.user)==null?void 0:N.id),D(),a(),P(),C(),A()}function d(x){let I=!1;if(typeof window._preloads=="object"&&window._preloads!==null)for(const N in x)(typeof x[N]=="object"&&x[N]!==null||x[N]!==window._preloads[N])&&(window._preloads[N]=x[N],I=!0);I&&C()}function a(){const x=(0,_.parseQuery)(window.location.href);if(!x.token&&!x.lli||!window.history.replaceState)return;delete x.token,delete x.lli;const I=`${(0,_.pathWithQuery)(window.location.pathname,x)}${window.location.hash}`;window.history.replaceState({},document.title,I)}function P(){if(!window.history||!window.history.pushState||!window.scrollTo)return;const x=window.history.pushState;history.pushState=function(I,N,F){var B;const V=x.apply(history,arguments);return((B=I==null?void 0:I.resetScroll)!=null?B:!0)&&F.indexOf("#")===-1&&window.scrollTo(0,0),V}}function C(){if(!O)return;const x=document.getElementById(w);(0,f.render)((0,f.h)(O,{initialData:window._preloads}),x||document.body)}function D(){if(typeof window._analyticsConfig=="object"&&window._analyticsConfig!==null&&!window._analyticsConfig.anonymousId){let x;try{x=JSON.parse(u.get(S))}catch(I){}x||(x=(0,E.uuidV4)(),u.set(S,JSON.stringify(x),{expires:365})),window._analyticsConfig.anonymousId=x}}function A(){var x;!(console!=null&&console.log)||window.location.hostname.includes(".localhost")||window.location.pathname.startsWith("/embed")||(x=window._preloads.user)!=null&&x.is_global_admin||console.log(`%c
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 SUBSTACK WANTS YOU \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2592\u2592\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2592\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2592\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2593\u2593\u2593\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2593\u2593\u2593\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2593\u2592\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2592\u2593\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591 TO BUILD A BETTER BUSINESS MODEL FOR WRITING \u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591\u2591
                   https://substack.com/jobs
`,"font-family:monospace")}},8826:z=>{"use strict";z.exports=class{constructor(){this.callbacks={}}listenerCount(e){return(this.callbacks[e]||[]).length}on(e,o,f=!1){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push([o,f]),this}once(e,o){return this.on(e,o,!0)}off(e,o){this.callbacks[e]&&(this.callbacks[e]=this.callbacks[e].filter(f=>f[0]!==o))}emit(e,o){const f=this.callbacks[e];if(f){for(const[u,c]of f)if(c&&this.off(e,u),u(o)===!1)return!1;return!0}}}},63503:(z,l,e)=>{"use strict";e.d(l,{Z:()=>u});var o=e(30396);const u=(c,_)=>{const g=(0,o.sO)();(0,o.d4)(()=>{g.current=c},[c]),(0,o.d4)(()=>{function E(){g.current()}if(_!==null){const v=setInterval(E,_);return()=>clearInterval(v)}},[_])}},89018:z=>{"use strict";z.exports={substack_color:"#FF6719",subscriber_green:"#318631",lifetime_lavender:"#792BA9",comped_salmon:"#E07F69",gifted_ocean:"#8BD1E0",free_trial_yellow:"#F7ED92",new_paid_cerulean:"#39a5f7",upgrades_teal:"#008080",downgrades_red:"#E06666",expirations_orange:"#FFB347",chart_line_color:"#444444",chart_grid_color:"#F4F4F4",chart_axis_label_color:"#AAAAAA",share_button_size_px:18,tweet_icon_size_px:48}},72496:(z,l,e)=>{"use strict";e.d(l,{UE:()=>y,ip:()=>v,xU:()=>T,xY:()=>E});var o=e(79546),f=e.n(o);const u="substack_ref_url",c="substack_ref";let _,g;typeof window!="undefined"&&window.location&&window.location.href&&(_=window.location.href,g=document.referrer,f().get(u)||(f().set(u,_),f().set(c,g)));const E=f().get(u),v=f().get(c),y=_,T=g},58884:(z,l,e)=>{"use strict";var o;const f=e(79546);l.mM=(u,c=null)=>typeof window!="undefined"?f.get(u,c):c,l.ex=(u,c)=>{if(typeof window!="undefined")return f.set(u,c)},o=u=>{if(typeof window!="undefined")return f.remove(u)}},39419:function(z,l,e){"use strict";var o=Object.defineProperty,f=Object.defineProperties,u=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(ee,ae,ce)=>ae in ee?o(ee,ae,{enumerable:!0,configurable:!0,writable:!0,value:ce}):ee[ae]=ce,v=(ee,ae)=>{for(var ce in ae||(ae={}))_.call(ae,ce)&&E(ee,ce,ae[ce]);if(c)for(var ce of c(ae))g.call(ae,ce)&&E(ee,ce,ae[ce]);return ee},y=(ee,ae)=>f(ee,u(ae)),T=(ee,ae,ce)=>new Promise((fe,Ee)=>{var de=De=>{try{ve(ce.next(De))}catch(Oe){Ee(Oe)}},_e=De=>{try{ve(ce.throw(De))}catch(Oe){Ee(Oe)}},ve=De=>De.done?fe(De.value):Promise.resolve(De.value).then(de,_e);ve((ce=ce.apply(ee,ae)).next())});const{h:w,Fragment:S}=e(6400),{route:O}=e(20042),{getQueryItem:p,pathWithQuery:d,parseQuery:a,getGlobalAccountSettingsUrl:P,getPubAccountSettingsUrl:C,getCurrentUrlForLoginRedirect:D}=e(15045),{centsToPriceString:A,toTitleCase:x,pluralize:I,isZeroDecimalCurrency:N}=e(83322),F=e(8826),{isMobileUserAgent:B,getIosVersion:V}=e(76193),{validatePledgePrices:Z}=e(48971),Y=e(27484),{Metadata:ne}=e(35442),{getPodcastEpisodeImageUrl:G}=e(63030);l.getPodcastEpisodeImageUrl=G;const L=["text","password","file","search","email","number","date","color","datetime","datetime-local","month","range","search","tel","time","url","week"];let W=typeof window=="undefined"||!window.addEventListener;W||window.addEventListener("load",()=>{W=!0},!1),typeof window!="undefined"&&window._preloads,l.globalPlaybackNotifier=typeof window!="undefined"?new F:null,l.windowReady=ee=>{W?ee():window.addEventListener("load",ee,!1)},l.debounce=function(ee,ae,ce=this){let fe=null;return function(){clearTimeout(fe),fe=setTimeout(()=>ee.apply(ce,arguments),ae)}},l.couponToString=(ee,ae)=>{if(!ee||ee.loading||ee.error)return;let ce;return ee.trial_period_days?ce=`${ee.trial_period_days} day free trial`:(ee.percent_off?ce=`${Math.round(ee.percent_off_precise||ee.percent_off)}% off`:ee.amount_off&&(ce=`${A(ee.amount_off,ae.currency)} off`),ee.duration==="once"?ae?ce+=` first ${ae.interval}`:ce+=" first payment":ee.duration==="repeating"?ee.duration_in_months%12===0?ce+=` for ${I(ee.duration_in_months/12,"year")}`:ce+=` for ${I(ee.duration_in_months,"month")}`:ce+=" forever"),ce},l.preloadImage=function(ee,ae){const ce=new Image;ce.onload=()=>{ce.onload=ce.onerror=null,ae&&ae(ce)},ce.onerror=ce.onload,ce.src=ee},l.getHostname=ee=>{const ae=document.createElement("a");return ae.href=ee,(ae.hostname||"").replace(/\.localhost$/,"")},l.getPathname=ee=>{const ae=document.createElement("a");return ae.href=ee,ae.pathname||""},l.getPath=ee=>{const ae=document.createElement("a");return ae.href=ee,(ae.pathname||"")+(ae.search||"")+(ae.hash||"")},l.getNetworkErrorMessage=(ee,ae)=>{var ce;return l.getNetworkErrorMessageFromResponse((ee==null?void 0:ee.body)||((ce=ee==null?void 0:ee.response)==null?void 0:ce.body),ae)},l.getNetworkErrorBody=ee=>{var ae;const ce=(ee==null?void 0:ee.body)||((ae=ee==null?void 0:ee.response)==null?void 0:ae.body);if(ce&&ce.error)return{msg:ce.error};if(ce&&ce.errors&&ce.errors.length>0)return{html:ce.errors[ce.errors.length-1].msgHTML,msg:ce.errors[ce.errors.length-1].msg}},l.getNetworkErrorMessageFromXhr=(ee,ae)=>{let ce;try{ce=JSON.parse(ee&&ee.responseText)}catch(fe){}return l.getNetworkErrorMessageFromResponse(ce,ae)},l.getNetworkErrorMessageFromResponse=(ee,ae)=>(ae=ae||"Something went wrong",ee&&ee.error?ee.error:ee&&ee.errors&&ee.errors.length>0&&ee.errors[ee.errors.length-1].msg||ae),l.inputPrefillHack=function(){return[w("input",{type:"email",name:"fake_email",placeholder:"email",style:"position:absolute;top:-10000px;left:-10000px"}),w("input",{type:"password",name:"fake_password",placeholder:"password",style:"position:absolute;top:-10000px;left:-10000px"})]},l.isBrowser=function(){return typeof window!="undefined"},l.isMobileBrowser=function(){if(typeof navigator!="undefined"||typeof window!="undefined"){const ee=navigator.userAgent||navigator.vendor||window.opera;if(B(ee,{checkFirst4:!0}))return!0}return!1},l.isIE=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/(MSIE|Trident)/i.test(window.navigator.userAgent),l.isFirefox=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/Firefox/i.test(window.navigator.userAgent),l.isAndroid=()=>typeof window=="undefined"||!window.navigator||!window.navigator.userAgent?!1:/Android/i.test(window.navigator.userAgent),l.isBrave=()=>!(typeof window=="undefined"||!window.navigator||!window.navigator.brave),l.isIOs=()=>!!l.iosVersion(),l.isMac=(ee=window.navigator)=>ee?ee.userAgentData&&ee.userAgentData.platform?/macOS/.test(ee.userAgentData.platform):/Mac/.test(ee.platform):!1,l.isSafari=()=>{var ee;return typeof window=="undefined"||!((ee=window.navigator)!=null&&ee.userAgent)?!1:/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},l.getModKeyLabel=(ee=l.isMac())=>ee?"\u2318":"^",l.iosVersion=()=>typeof window=="undefined"?null:V(),l.fixSmsUrl=ee=>{const ae=l.iosVersion();return ae?ae>=9?ee.replace("?body=","&body="):ee.replace("?body=",";body="):ee};const ie=ee=>((ae,ce)=>{let fe;const Ee=()=>ce.userAgent.match(/ipad|iphone/i),de=Oe=>{fe=ae.createElement("textArea"),fe.value=Oe,ae.body.appendChild(fe)},_e=()=>{let Oe,ye;Ee()?(Oe=ae.createRange(),Oe.selectNodeContents(fe),ye=ee.getSelection(),ye.removeAllRanges(),ye.addRange(Oe),fe.setSelectionRange(0,999999)):fe.select()},ve=()=>{ae.execCommand("copy"),ae.body.removeChild(fe)};return{copy:Oe=>{de(Oe),_e(),ve()}}})(document,navigator);l.copyToClipboard=ee=>{if(typeof window=="undefined")return;ie(window).copy(ee);const ae=ce=>{ce&&ce.clipboardData?(ce.clipboardData.setData("text/plain",ee),ce.preventDefault()):window.clipboardData&&window.clipboardData.setData("Text",ee)};l.iosVersion()||window.addEventListener("copy",ae),setTimeout(()=>{try{const ce=document.createElement("input");ce.style="position: absolute; top: 0; right: 0; height: 1px; width: 1px;",document.documentElement.appendChild(ce),ce.value=ee,ce.contentEditable=!0,ce.readOnly=!1;const fe=document.createRange();fe.selectNodeContents(ce);const Ee=window.getSelection();Ee.removeAllRanges(),Ee.addRange(fe),ce.setSelectionRange(0,999999),document.execCommand("copy"),document.documentElement.removeChild(ce)}catch(ce){}window.removeEventListener("copy",ae)},0)},l.copyNodeToClipboard=ee=>{try{l.selectNode(ee),document.execCommand("copy")}catch(ae){console.error("Failed to copy text:",ae)}},l.selectNode=ee=>{try{if(["INPUT","TEXTAREA"].includes(ee.nodeName)&&ee.select)ee.select();else if(document.body.createTextRange){const ae=document.body.createTextRange();ae.moveToElementText(ee),ae.select()}else if(window.getSelection){const ae=window.getSelection(),ce=document.createRange();ce.selectNodeContents(ee),ae.removeAllRanges(),ae.addRange(ce)}else console.warn("Could not select text in node: Unsupported browser")}catch(ae){console.error("Failed to select node:",ae)}},l.deselectNode=ee=>{try{const ae=window.getSelection?window.getSelection():document.selection;ae&&ae.anchorNode===ee&&(ae.empty?ae.empty():ae.removeAllRanges&&ae.removeAllRanges())}catch(ae){console.error("Failed to deselect node:",ae)}},l.setMetaData=function(ee){return w(ne,v({},ee))},l.getBodyOffset=(ee,ae)=>{const ce=`offset${x(ae)}`;let fe=0;for(;ee&&ee!==document.body;)fe+=ee[ce],ee=ee.offsetParent||ee.parentNode;return fe},l.getUrlHash=()=>typeof window=="undefined"||!window.location.hash?null:decodeURIComponent(window.location.hash.slice(1)),l.scrollToHash=function(ee){const ae=l.getUrlHash();if(!ae)return;const ce=document.getElementById(ae);ce&&(typeof ee!="number"&&(ee=-122),document.documentElement.scrollTop=Math.max(0,l.getBodyOffset(ce,"top")+ee))},l.mightSupportApplePay=ee=>!(!ee||!ee.stripe_country||ee.apple_pay_disabled||typeof window=="undefined"||!window.ApplePaySession),l.addClass=(ee,ae)=>{ee.className+=` ${ae}`},l.removeClass=(ee,ae)=>{ee.className=ee.className.replace(new RegExp(`\\b${ae}\\b`,"g"),"").trim()},l.hasClass=(ee,ae)=>new RegExp(`\\b${ae}\\b`,"g").test(ee.className),l.isFocused=(...ee)=>l.isRootOrChild(document.activeElement,...ee),l.isRootOrChild=(ee,...ae)=>{for(;ee;){for(const ce of ae)if(typeof ce=="function"?ce(ee):ee===ce)return!0;ee=ee.parentNode}return!1},l.getRootOrChild=(ee,ae,{maxDepth:ce}={})=>{const fe=[ee];let Ee=0;for(;fe.length>0;){Ee++;const de=fe.splice(0);for(const _e of de)if(_e){if(ae(_e))return _e;(!ce||Ee<ce)&&_e.children&&fe.push(..._e.children)}}return null},l.getRootOrParent=(ee,ae)=>ee?ae(ee)?ee:l.getRootOrParent(ee.parentNode,ae):null,l.getVisibilityApi=()=>{let ee,ae;return typeof document!="undefined"&&typeof document.addEventListener!="undefined"&&(typeof document.hidden!="undefined"?(ee="visibilitychange",ae="hidden"):typeof document.msHidden!="undefined"?(ee="msvisibilitychange",ae="msHidden"):typeof document.webkitHidden!="undefined"&&(ee="webkitvisibilitychange",ae="webkitHidden")),{visibilityChange:ee,hidden:ae}},l.isWindowVisible=()=>{const{hidden:ee}=l.getVisibilityApi();return ee?!document[ee]:!0},l.onWindowVisibilityChange=ee=>{const{visibilityChange:ae}=l.getVisibilityApi();ae&&document.addEventListener(ae,ee,!1)},l.offWindowVisibilityChange=ee=>{const{visibilityChange:ae}=l.getVisibilityApi();ae&&document.removeEventListener(ae,ee,!1)},l.disableBackspaceNavigation=()=>{document.addEventListener("keydown",ue,!1)},l.enableBackspaceNavigation=()=>{document.removeEventListener("keydown",ue,!1)};function ue(ee){if(ee.keyCode!==8)return;const ae=ee.srcElement||ee.target;if(!ae.readonly&&!ae.disabled){if(ae.isContentEditable)return;if(ae.nodeName==="TEXTAREA")return;if(ae.nodeName==="INPUT"&&L.indexOf((ae.getAttribute("type")||"").toLowerCase())>-1)return}return ee.preventDefault(),!1}l.getBlob=ee=>new Promise((ae,ce)=>{const fe=new XMLHttpRequest;fe.open("GET",ee,!0),fe.responseType="blob",fe.onerror=ce,fe.onload=Ee=>{fe.status==200?ae(fe.response):ce(new Error("Failed to fetch blob"))},fe.send()}),l.getDataUrlFromFile=ee=>new Promise((ae,ce)=>{if(!window.FileReader){ce(new TypeError("File reader API not found"));return}const fe=new FileReader;fe.onerror=ce,fe.onload=()=>{ae(fe.result)},fe.readAsDataURL(ee)}),l.getExifOrientationFromFile=ee=>new Promise((ae,ce)=>{if(!window.FileReader){ce(new TypeError("File reader API not found"));return}if(!window.DataView){ce(new TypeError("DataView API not found"));return}const fe=new FileReader;fe.onerror=ce,fe.onload=()=>{const Ee=new DataView(fe.result);if(Ee.getUint16(0,!1)!=65496)return ae(-2);const de=Ee.byteLength;let _e=2;for(;_e<de;){if(Ee.getUint16(_e+2,!1)<=8)return ae(-1);const ve=Ee.getUint16(_e,!1);if(_e+=2,ve==65505){if(Ee.getUint32(_e+=2,!1)!=1165519206)return ae(-1);const De=Ee.getUint16(_e+=6,!1)==18761;_e+=Ee.getUint32(_e+4,De);const Oe=Ee.getUint16(_e,De);_e+=2;for(let ye=0;ye<Oe;ye++)if(Ee.getUint16(_e+ye*12,De)==274)return ae(Ee.getUint16(_e+ye*12+8,De))}else{if((ve&65280)!=65280)break;_e+=Ee.getUint16(_e,!1)}}ae(-1)},fe.readAsArrayBuffer(ee)}),l.getImageDataFromFileInput=ee=>T(this,null,function*(){let ae,ce;const fe=ee!=null&&ee.files?ee.files[0]:null;if(ee.value="",fe){try{ae=yield l.getDataUrlFromFile(fe)}catch(Ee){console.error("Failed to get data URL from file:",Ee),alert(Ee.message);return}try{ce=yield l.getExifOrientationFromFile(fe)}catch(Ee){console.error("Failed to extract EXIF data from file:",Ee)}}return{url:ae,orientation:ce}}),l.transformExifOrientation=ee=>{switch(ee){case 2:return"rotateY(180deg)";case 3:return"rotateZ(-180deg)";case 4:return"rotateZ(-180deg) rotateY(180deg)";case 5:return"rotateZ(-90deg) rotateY(180deg)";case 6:return"rotateZ(90deg)";case 7:return"rotateZ(90deg) rotateY(180deg)";case 8:return"rotateZ(-90deg)";default:return""}},l.canScroll=()=>l.maxScroll()>0,l.maxScroll=()=>Math.max(document.documentElement.scrollHeight,document.body.scrollHeight)-window.innerHeight,l.getLoginRedirect=({redirect:ee,email:ae,justTrying:ce,with_password:fe=!1,useOriginalUrl:Ee=!1}={})=>(typeof ee!="string"&&(ee=D({useOriginalUrl:Ee})),d("/account/login",{redirect:ee||"",email:ae||"",with_password:fe?"1":"",justTrying:ce||""})),l.redirectToLogin=(ee={})=>{document.location.href=l.getLoginRedirect(ee)},l.redirectToAccount=ee=>{window.location.assign(C(ee))},l.redirectToAccountSettings=()=>{document.location.href=P()},l.base64encode=ee=>{const ae="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=";let ce="",fe,Ee,de,_e,ve,De,Oe,ye=0;for(ee=l.utf8Encode(ee);ye<ee.length;)fe=ee.charCodeAt(ye++),Ee=ee.charCodeAt(ye++),de=ee.charCodeAt(ye++),_e=fe>>2,ve=(fe&3)<<4|Ee>>4,De=(Ee&15)<<2|de>>6,Oe=de&63,isNaN(Ee)?De=Oe=64:isNaN(de)&&(Oe=64),ce=ce+ae.charAt(_e)+ae.charAt(ve)+ae.charAt(De)+ae.charAt(Oe);return ce},l.utf8Encode=ee=>{let ae="";for(let ce=0;ce<ee.length;ce++){const fe=ee.charCodeAt(ce);fe<128?ae+=String.fromCharCode(fe):fe>127&&fe<2048?(ae+=String.fromCharCode(fe>>6|192),ae+=String.fromCharCode(fe&63|128)):(ae+=String.fromCharCode(fe>>12|224),ae+=String.fromCharCode(fe>>6&63|128),ae+=String.fromCharCode(fe&63|128))}return ae},l.redirectNoScroll=ee=>{const ae=[window.scrollX,window.scrollY];l.redirect(ee),window.scrollTo(...ae)},l.redirect=(ee,{event:ae=null,local_navigation:ce=!0,replace:fe=!1,newTab:Ee=!1}={})=>{var de;if(ae&&ae.preventDefault(),!ee.trim().startsWith("javascript:")){if(ee.startsWith("#")&&ce){window.location.hash!==ee&&(fe&&((de=window.history)!=null&&de.replaceState)?window.history.replaceState(null,null,ee):window.location.hash=ee),l.scrollToHash();return}if(ce&&l.getHostname(ee)&&l.getHostname(ee)!==l.getHostname(window.location.href)&&(ce=!1),Ee||ae&&(ae.metaKey||ae.ctrlKey)){window.open(ee,"_blank");return}if(ce&&O(l.getPath(ee),fe)){setTimeout(()=>l.scrollToHash(),0);return}window.location.href=ee}},l.setState=(ee,ae)=>new Promise(ce=>{ee.setState(ae,ce)}),l.stateTransaction=(ee,ae)=>new Promise((ce,fe)=>{ee.setState((...Ee)=>T(this,null,function*(){try{ce(yield ae.apply(ee,Ee))}catch(de){fe(de)}}))}),l.stateLock=(ee,ae,ce,...fe)=>T(this,[ee,ae,ce,...fe],function*(Ee,de,_e,{force:ve}={}){return typeof de=="function"&&(_e=de,de="lock"),yield l.stateTransaction(Ee,(De,...Oe)=>T(this,null,function*(){if(De[de]&&!ve)return;yield l.setState(Ee,{[de]:!0});const ye=yield _e.call(Ee,De,...Oe);return yield l.setState(Ee,{[de]:!1}),ye}))}),l.getsMessageQuery=ee=>ae=>{const ce=a(document.location.href),fe=p("message");if(fe){delete ce.message;const Ee=`${d(document.location.pathname,ce)}${document.location.hash}`;window&&window.history&&window.history.replaceState({},document.title,Ee)}return w(ee,v({message:fe},ae))},l.uuidV4=()=>{const ee=window.crypto||window.msCrypto;if(typeof(ee==null?void 0:ee.randomUUID)=="function")return ee.randomUUID();if(ee)return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,ae=>(ae^ee.getRandomValues(new Uint8Array(1))[0]&15>>ae/4).toString(16));{let ae=new Date().getTime(),ce=typeof performance!="undefined"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(fe){let Ee=Math.random()*16;return ae>0?(Ee=(ae+Ee)%16|0,ae=Math.floor(ae/16)):(Ee=(ce+Ee)%16|0,ce=Math.floor(ce/16)),(fe==="x"?Ee:Ee&3|8).toString(16)})}},l.isStandaloneWebApp=()=>navigator.standalone?!0:window.matchMedia("(display-mode: standalone)").matches,l.disabledIfSSR=()=>typeof window=="undefined"?"disabled":"",l.focusElement=ee=>{ee.focus&&ee.focus(),ee.select&&ee.select()},l.getRoleOrOwner=(ee,ae)=>ee?ee.user_id===ae.author_id?"owner":ee.role:"byline",l.hexWithOpacity=(ee,ae)=>{if(!ee)return ee;ee=ee.replace("#","");const ce=parseInt(ee.substring(0,2),16),fe=parseInt(ee.substring(2,4),16),Ee=parseInt(ee.substring(4,6),16);return`rgba(${ce},${fe},${Ee},${ae/100})`},l.getSelectTheme=({primary:ee,neutral0:ae="#f8f8f8",neutral20:ce="#d8d8d8",danger:fe="var(--color-accent-red)",dangerLight:Ee="var(--color-bg-accent-red)"})=>de=>y(v({},de),{colors:y(v({},de.colors),{primary:ee,primary25:l.hexWithOpacity(ee,25),primary50:l.hexWithOpacity(ee,50),primary75:l.hexWithOpacity(ee,75),neutral0:ae,neutral20:ce,danger:fe,dangerLight:Ee})}),l.removeQueryParam=(ee,{stripHash:ae=!1}={})=>{var ce;if(typeof window!="undefined"&&((ce=window.history)!=null&&ce.replaceState)){const fe=a(window.location.href);if(!Array.isArray(ee))delete fe[ee];else for(const de of ee)delete fe[de];const Ee=`${d(window.location.pathname,fe)}${ae?"":window.location.hash}`;window.history.replaceState({},document.title,Ee)}},l.isFullscreen=()=>typeof window=="undefined"?!1:typeof document.webkitCurrentFullScreenElement!="undefined"?document.webkitCurrentFullScreenElement!==null:typeof document.fullscreenElement!="undefined"?document.fullscreenElement!==null:!1,l.goFullscreen=ee=>typeof window=="undefined"?!1:ee.requestFullScreen?(ee.requestFullScreen(),!0):ee.webkitRequestFullScreen?(ee.webkitRequestFullScreen(),!0):ee.mozRequestFullScreen?(ee.mozRequestFullScreen(),!0):!1,l.exitFullscreen=()=>{if(!l.isFullscreen())return!1;if(document.exitFullscreen)return document.exitFullscreen(),!0;if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(document.mozCancelFullScreen)return document.mozCancelFullScreen(),!0;if(document.msExitFullscreen)return document.msExitFullscreen(),!0}return!1},l.exitPictureInPicture=()=>typeof window=="undefined"||!document.pictureInPictureElement||!document.exitPictureInPicture?!1:(document.exitPictureInPicture(),!0),l.getVideoBlobDuration=(ee,...ae)=>T(this,[ee,...ae],function*(ce,{timeout:fe=5e3}={}){const Ee=document.createElement("video");Ee.volume=0;const de=Promise.race([new Promise((_e,ve)=>{Ee.onloadedmetadata=()=>{Ee.onloadedmetadata=null,Ee.duration===1/0?(Ee.currentTime=Number.MAX_SAFE_INTEGER,Ee.ontimeupdate=()=>{Ee.ontimeupdate=null,_e(Ee.duration),Ee.currentTime=0}):_e(Ee.duration)},Ee.onerror=De=>ve(De.target.error)}),new Promise((_e,ve)=>{setTimeout(()=>{ve(new Error("Blob duration fetching timed out"))},fe)})]);return Ee.src=typeof ce=="string"||ce instanceof String?ce:window.URL.createObjectURL(ce),de}),l.downloadSrc=ee=>{const ae=document.createElement("a");document.body.appendChild(ae),ae.href=ee,ae.target="_blank",ae.click(),document.body.removeChild(ae)},l.getCurrencyFormattedPledgePlans=(ee,{skipFoundingPlan:ae=!1}={})=>{if(!(ee!=null&&ee.length))return[];const ce=[];for(const fe of ee)ae&&fe.is_founding?ce.push(v({},fe)):fe.amount?ce.push(y(v({},fe),{amount:fe.amount})):ce.push(v({},fe));return ce},l.validatePledgePlanValues=(ee,ae,ce,fe)=>{if(ce<=ae)return"Your founding price must be greater than your yearly price";const Ee=Z({value:ee,interval:"month",is_founding:!1,currency:fe});if(Ee)return Ee;const de=Z({value:ae,interval:"year",is_founding:!1,currency:fe});if(de)return de;const _e=Z({value:ce,interval:"year",is_founding:!0,currency:fe});return _e||null},l.decimalToPercentString=ee=>{let ae=ee;return typeof ee=="string"&&(ae=parseFloat(ee)),`${Math.round(ae*100)}%`};const le=new Intl.DateTimeFormat(void 0,{timeStyle:"short"}),J=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric"}),te=new Intl.DateTimeFormat(void 0,{dateStyle:"long"}),se=new Intl.DateTimeFormat(void 0,{dateStyle:"long"});l.formatPostDate=(ee,{includeTime:ae}={})=>{const ce=Y(ee),fe=Y();return ce.isBefore(fe.startOf("year"))?te.format(ce.toDate())+(ae?` at ${le.format(ce.toDate())}`:""):ce.isBefore(fe.startOf("day"))?J.format(ce.toDate())+(ae?` at ${le.format(ce.toDate())}`:""):ce.isAfter(fe.endOf("year"))?se.format(ce.toDate())+(ae?` at ${le.format(ce.toDate())}`:""):ce.isAfter(fe.endOf("day"))?J.format(ce.toDate())+(ae?` at ${le.format(ce.toDate())}`:""):le.format(ce.toDate())},l.getBanMessage=ee=>{const ae=ce=>`We've removed your publication from public view due a violation of Substack's ${ce}. If you believe this was a mistake, you can submit an appeal to our Trust & Safety team`;switch(ee){case"hate":return ae("Hate policy");case"illegal":return ae("Illegal & Harmful Activities policy");case"impersonation":return ae("Impersonation policy");case"plagiarism":return ae("Plagiarism policy");case"porn":return ae("Nudity, Porn, & Erotica policy");case"private_information":return ae("Private Information policy");case"spam":return ae("Spam & Phishing policy");default:return ae("Content Guidelines, Terms of Service, or Publisher Agreement")}}},702:(z,l,e)=>{"use strict";e.d(l,{Z:()=>D});var o=e(6400),f=e(30396),u=e(94184),c=e.n(u),_=e(80569),g=e.n(_),E=e(7922),v=e(1138),y=e(96789),T=e(61152),w=e(89018),S=e.n(w),O=e(39419),p=e.n(O),d=(A,x,I)=>new Promise((N,F)=>{var B=Y=>{try{Z(I.next(Y))}catch(ne){F(ne)}},V=Y=>{try{Z(I.throw(Y))}catch(ne){F(ne)}},Z=Y=>Y.done?N(Y.value):Promise.resolve(Y.value).then(B,V);Z((I=I.apply(A,x)).next())});const a=({className:A,pub:x,comment:I,onClose:N,onReportSuccess:F})=>{const B=(0,f.sO)(null),[V,Z]=(0,f.eJ)(!1),Y={Report:0,Confirm:1},[ne,G]=(0,f.eJ)(Y.Report),L=ie=>d(void 0,null,function*(){if(ie===""){alert("Please enter a reason!");return}Z(!0);try{yield g().post(`/api/v1/comment/${I.id}/report`).send({publication_id:x==null?void 0:x.id,reason:ie}),F(),G(Y.Confirm)}catch(ue){alert((0,O.getNetworkErrorMessage)(ue))}finally{Z(!1)}}),W=()=>{var ie;(ie=B==null?void 0:B.current)==null||ie.close()};return(0,f.d4)(()=>{var ie;(ie=B==null?void 0:B.current)==null||ie.open()},[]),(0,o.h)(y.p,{className:c()("report-comment-modal",A),ref:B,onClose:N},ne===Y.Report?(0,o.h)(P,{pub:x,reportComment:L,reporting:V,closeModal:W}):(0,o.h)(C,{pub:x,closeModal:W}))},P=({pub:A,reportComment:x,reporting:I,closeModal:N})=>{const[F,B]=(0,f.eJ)("");return(0,o.h)(o.Fragment,null,(0,o.h)("h4",null,"Report ",A?`to ${A.name} admins`:"note"),(0,o.h)("p",null,"Thanks for reporting this ",A?"comment":"note","."," ",A?(0,o.h)(o.Fragment,null,"Only the admins of ",(0,o.h)("span",{className:"weight"},A.name)," will see your name and the content of this report."):"Please help us understand the issue."),(0,o.h)(T.Z,{placeholder:"Describe why you\u2019re reporting this comment...",maxLines:8,value:F,onInput:V=>B(V.target.value)}),(0,o.h)("div",{className:"buttons"},(0,o.h)(E.Z,{className:"secondary",onClick:N},(0,o.h)("span",null,"Cancel")),(0,o.h)(E.Z,{className:"primary",onClick:()=>x(F),disabled:F===""||I},(0,o.h)("span",null,I?"Loading...":"Submit"))))},C=({pub:A,closeModal:x})=>(0,o.h)(o.Fragment,null,(0,o.h)(v.Z,{stroke:(A==null?void 0:A.theme_var_background_pop)||w.substack_color}),(0,o.h)("h4",null,"Thanks for your report"),A?(0,o.h)("p",null,"The admins of ",(0,o.h)("span",{className:"weight"},A.name)," will review this comment."):(0,o.h)("p",null,"We will review this note."),(0,o.h)("div",{className:"buttons"},(0,o.h)(E.Z,{className:"primary",onClick:x},(0,o.h)("span",null,"Done")))),D=a},37888:(z,l,e)=>{"use strict";e.d(l,{j0:()=>le});var o=e(7436),f=e.n(o),u=e(62195),c=e.n(u),_=e(39627),g=e.n(_),E=e(8728),v=e.n(E),y=Object.defineProperty,T=Object.defineProperties,w=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable,d=(te,se,ee)=>se in te?y(te,se,{enumerable:!0,configurable:!0,writable:!0,value:ee}):te[se]=ee,a=(te,se)=>{for(var ee in se||(se={}))O.call(se,ee)&&d(te,ee,se[ee]);if(S)for(var ee of S(se))p.call(se,ee)&&d(te,ee,se[ee]);return te},P=(te,se)=>T(te,w(se));const C=c().createStore([g(),v()],[]),D=".buffer",A="ss-version-backups-local",x=32,I=4,N=null,F=te=>{var se,ee,ae,ce;return(ee=(se=window._preloads)==null?void 0:se.pub)!=null&&ee.id?(ce=(ae=window._preloads)==null?void 0:ae.user)!=null&&ce.id?V().filter(fe=>!(fe.publication_id!==window._preloads.pub.id||fe.user_id&&fe.user_id!==window._preloads.user.id||fe.post_id!==te||fe.local_version_saved_at&&Date.now()-new Date(fe.local_version_saved_at)>N)):[]:[]},B=te=>{if(!(te!=null&&te.post_id)||!(te!=null&&te.draft_updated_at)||!(te!=null&&te.draft_body))return;const se=V();if(se.filter(ce=>ce.post_id===te.post_id).length>=I){const ce=findLastIndex(se,fe=>fe.post_id===te.post_id);ce>=0&&se.splice(ce,1)}const ae=[te].concat(se.filter(ce=>ce.post_id!==te.post_id||ce.draft_updated_at!==te.draft_updated_at&&ce.draft_body&&ce.draft_body!==te.draft_body)).slice(0,x);J(A,ae)},V=()=>C.get(A,[]).filter(Boolean),Z=()=>C.get(A+D,{}),Y=te=>{var se,ee;(se=window._preloads.pub)!=null&&se.id&&(ee=window._preloads.user)!=null&&ee.id&&te!=null&&te.post_id&&te!=null&&te.draft_updated_at&&te!=null&&te.draft_body&&J(A+D,P(a({},te),{publication_id:window._preloads.pub.id,user_id:window._preloads.user.id,local_version_saved_at:new Date}))},ne=()=>{C.remove(A+D)},G=te=>{if(!(te!=null&&te.post_id)||!(te!=null&&te.draft_updated_at))return;const ee=V().filter(ae=>ae.post_id!==te.post_id||ae.draft_updated_at!==te.draft_updated_at);J(A,ee)},L=({postId:te,editorId:se})=>!!V().find(ae=>ae.post_id===te&&ae.editor_id&&ae.editor_id!==se),W=({postId:te,editorId:se})=>{const ae=V().filter(ce=>ce.editor_id?ce.post_id!==te||ce.editor_id!==se:!1);J(A,ae)},ie=()=>{const te=Z();te!=null&&te.draft_body&&(B(te),ne())},ue=()=>{ne(),C.remove(A)},le=te=>{(!te||V().find(se=>se.user_id&&se.user_id!==te))&&ue()},J=(te,se)=>{try{if(C.set(te,se),JSON.stringify(C.get(te))!==JSON.stringify(se))throw new Error("localStorage.setItem claimed to work but then getItem didnt return the expected value for key=",te)}catch(ee){console.error("localStorage.setItem failed:",ee),ue()}}},56242:(z,l,e)=>{"use strict";var o;const{TASTEMAKER_CATEGORY_NAME:f,COMMUNITY_PICKS_CATEGORY_NAME:u}=e(83322);o=(c,_)=>{if(!c)return"featured";if(c==="featured"||c==="twitter"||c==="podcast"||c===u||c===f)return c;const g=_.find(E=>E.slug===c);return g?g.id:"featured"}},94930:(z,l)=>{"use strict";l.isCouponValid=(e,{is_group:o,is_gift:f,paywallFreeTrialEnabled:u})=>!(!e||!e.valid||e.max_redemptions&&e.max_redemptions<=e.times_redeemed||e.group_only&&!o||e.redeem_by&&new Date(e.redeem_by)<new Date||e.type==="FREE_TRIAL"&&(!u||f||o)),l.isCouponValidForPlan=(e,o)=>!e||!o||o.metadata.unlimited_group?!1:o.metadata.no_coupons?!!(e.founding_only&&o.metadata.founding):!(o.interval==="forever"||e.yearly_only&&o.interval!=="year"||e.monthly_only&&o.interval!=="month"||e.duration==="repeating"&&(o.interval==="month"&&e.duration_in_months%o.interval_count!==0||o.interval==="year"&&e.duration_in_months%(o.interval_count*12)!==0)||e.amount_off&&e.currency&&e.currency!==o.currency),l.isEmailValidEdu=(e,o)=>{const f=o.filter(_=>_.is_suffix);return o.filter(_=>!_.is_suffix).find(_=>e.split("@").pop().startsWith(_.pattern))||f.find(_=>e.endsWith(_.pattern))},l.isCouponValidForEmail=(e,o,f)=>!(e.edu_only&&!l.isEmailValidEdu(o,f)||e.allowed_suffixes&&!e.allowed_suffixes.split(/, */).find(c=>o.toLowerCase().endsWith(c.toLowerCase()))),l.getDiscountedAmount=(e,o)=>{let f=e.amount;return o&&l.isCouponValidForPlan(o,e)&&(o.percent_off?f=Math.round(f*(1-(o.percent_off_precise||o.percent_off)/100)):o.amount_off&&(f=Math.max(0,f-o.amount_off))),f}},85928:(z,l,e)=>{"use strict";var o=Object.defineProperty,f=Object.defineProperties,u=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(S,O,p)=>O in S?o(S,O,{enumerable:!0,configurable:!0,writable:!0,value:p}):S[O]=p,v=(S,O)=>{for(var p in O||(O={}))_.call(O,p)&&E(S,p,O[p]);if(c)for(var p of c(O))g.call(O,p)&&E(S,p,O[p]);return S},y=(S,O)=>f(S,u(O));const T=e(27484);z.exports=T,T.extend(e(28734)).extend(e(10285)).extend(e(92997)).extend(e(1646)).extend(e(66607)).extend(e(10423)).extend(e(79212)).extend(e(37412)).extend(e(96671)).extend(e(84110)).extend(e(70178)).extend(e(55183)).extend(e(29387)).extend(e(94712)).extend(e(6833)).extend(e(90850)).extend(e(10423)).extend(w);function w(S,O,p){O.prototype.standardDateOrTime=function({long:x=!1}={}){if(this.add(1,"day").isBeforeNow())return this.standardDate();{const{secondsToLargestUnit:I}=e(83322),N=p().diff(this,"seconds");return N<60?"just now":`${I(N,{long:x})} ago`}},O.prototype.startOfLastWeekday=function(){return(this.day()>1?this.subtract(1,"day"):this.subtract(this.day()+2,"day")).utc().startOf("day")},O.prototype.readerDateTime=function(){const x=this.diff(p(),"day");let I;return x===0?I=this.format("h:mm a"):x===-1?I="Yesterday":x>-7?I=this.standardDate():I=this.standardDate(),I},O.prototype.standardDate=function({full:x=!1}={}){return!x&&this.isSame(p(),"year")?this.format("MMM D"):this.format("MMM D, YYYY")},O.prototype.standardTime=function(){return this.format("MM-DD-YYYY")===p().format("MM-DD-YYYY")?this.format("h:mm a"):this.standardDate()},O.prototype.standardTimeWithSeconds=function(){return this.format("MM-DD-YYYY")===p().format("MM-DD-YYYY")?this.format("h:mm:ss a"):this.standardDate()},O.prototype.standardDatetime=function(){return this.format("MMM D [at] h:mm a")},O.prototype.standardDatetimeWithYear=function(){const x=p().year();return this.year()!=x?this.format("MMM D, YYYY [at] h:mm a"):this.format("MMM D [at] h:mm a")},O.prototype.min=function(...x){let I=this;for(let N of x)N=p(N),I.isAfter(N)&&(I=N);return I},O.prototype.max=function(...x){let I=this;for(let N of x)N=p(N),I.isBefore(N)&&(I=N);return I},O.prototype.minNow=function(){return this.min(p())},O.prototype.maxNow=function(){return this.max(p())},O.prototype.isBeforeNow=function(x){return this.isBefore(p(),x)},O.prototype.isAfterNow=function(x){return this.isAfter(p(),x)},O.prototype.isSameNow=function(x){return this.isSame(p(),x)};const d=p.en,a=y(v({},d),{relativeTime:{future:"in %s",past:"%s",s:"just now",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"1d",dd:"%dd",M:"1mo",MM:"%dmo",y:"1y",yy:"%dy"}}),P=p.de,C=y(v({},P),{relativeTime:{future:"an %s",past:"vor %s",s:"ein paar Sekunden",m:"einer Minute",mm:"%d Minuten",h:"einer Stunde",hh:"%d Stunden",d:"einem Tag",dd:"%d Tagen",M:"einem Monat",MM:"%d Monaten",y:"einem Jahr",yy:"%d Jahren"}}),D=y(v({},P),{relativeTime:{future:"an %s",past:"%s",s:"soeben",m:"1M",mm:"%dMin",h:"1S",hh:"%dS",d:"1T",dd:"%dT",M:"1Mon",MM:"%dMon",y:"1J",yy:"%dJ"}}),A=p.locale();p.locale("enshort",a),p.locale("de",C),p.locale("deshort",D),p.locale(A),O.prototype.fromNowShort=function(){return d?this.locale("enshort").fromNow():this.fromNow()}}},42395:z=>{"use strict";z.exports=l=>(l||"").replace(/&#(\d+);/g,(e,o)=>String.fromCharCode(o))},6378:(z,l)=>{"use strict";l.isMultiPub=c=>c?c.child_publications&&c.child_publications.length>0:!1,l.isSectionedPub=c=>{var _;return!!(c!=null&&c.sections)&&((_=c.sections)==null?void 0:_.length)>0},l.canAddSections=c=>{var _;return!(!c||(_=c.child_publications)!=null&&_.length||c.parent_publication_id||c.parent_publication)},l.canEditNavigationBar=c=>{var _;return!(!c||(_=c.child_publications)!=null&&_.length||c.parent_publication_id||c.parent_publication)},l.hasMultiplePodcasts=c=>e(c)>1;const e=c=>{let _=[];return l.isMultiPub(c)&&(_=l.getMultiPubChildPodcasts(c)),l.isSectionedPub(c)&&(_=l.getSectionPodcasts(c)),(c.podcast_enabled?1:0)+_.length};l.hasPodcast=c=>e(c)>0,l.hasOnePodcast=c=>e(c)===1,l.getMultiPubChildPodcasts=c=>l.isMultiPub(c)?c.child_publications.filter(_=>_.type==="podcast"):[],l.getSectionPodcasts=c=>l.isSectionedPub(c)?c.sections.filter(_=>_.is_podcast):[];const o=c=>c&&!c.includes("substack");l.pubCouldHavePublicPodcastUrl=c=>o(c.podcast_feed_url),l.sectionCouldHavePublicPodcastUrl=c=>{var _;return o((_=c.podcastSettings)==null?void 0:_.podcast_feed_url)},l.userCouldSeePublicPodcastUrls=c=>{if(l.pubCouldHavePublicPodcastUrl(c))return!0;if(l.hasMultiplePodcasts(c)){if(l.isMultiPub(c)){const _=l.getMultiPubChildPodcasts(c);for(const g of _)if(l.pubCouldHavePublicPodcastUrl(g))return!0}if(l.isSectionedPub(c)){const _=l.getSectionPodcasts(c);for(const g of _)if(l.sectionCouldHavePublicPodcastUrl(g))return!0}}return!1},l.userCouldSubscribeToPodcast=(c,_)=>_?l.isMultiPub(_)?!0:!l.hasPodcast(_)||_.hide_podcast_feed_link?!1:_.has_free_podcast?!0:_.has_subscriber_only_podcast?l.userIsPaidSubscriber(c):!1:!1,l.userIsFreeOnly=c=>c?!!(c.is_free_subscribed&&!c.is_subscribed):!1,l.userIsPaidSubscriber=c=>c?!!c.is_subscribed:!1,l.paymentsAreEnabled=c=>c?c.payments_state==="enabled":!1;const f=(c,{usePreview:_=!1,useDraft:g=!1}={})=>{switch(c==null?void 0:c.type){case"newsletter":return g?c.draftVoiceoverUpload:c.voiceoverUpload;case"podcast":return _?g?c.draftPodcastPreviewUpload:c.podcastPreviewUpload:g?c.draftPodcastUpload:c.podcastUpload;case"video":return g?c.draftVideoUpload:c.videoUpload;default:return null}};l.getMediaDuration=(c,{usePreview:_=!1,useDraft:g=!1}={})=>{var E;const v=f(c,{usePreview:_,useDraft:g});if(v)return(E=v.duration)!=null?E:null;if((c==null?void 0:c.type)==="podcast"&&!_){const y=g?c.draft_podcast_duration:c.podcast_duration;return y!=null?y:null}return null},l.getMediaFileSize=(c,{usePreview:_=!1,useDraft:g=!1}={})=>{var E,v;const y=f(c,{usePreview:_,useDraft:g});return y?(E=y.primary_file_size)!=null?E:null:(c==null?void 0:c.type)==="podcast"&&!_&&!g&&(v=c.legacy_podcast_file_size)!=null?v:null},l.podcastPostIsFreePreview=c=>!c||c.type!=="podcast"||!c.podcastUpload?!1:!!c.podcastUpload.is_free_preview,l.hasPodcastPreview=c=>!!c&&!!c.podcast_preview_upload_id,l.getLogo=c=>{var _;return c.logo_url||c.cover_photo_url||c.author_photo_url||((_=c.author)==null?void 0:_.photo_url)},l.getFoundingTierPlan=c=>{var _;return Array.isArray(c==null?void 0:c.plans)&&(_=c.plans.find(g=>{var E;return((E=g.metadata)==null?void 0:E.founding)==="yes"}))!=null?_:null},l.getFoundingTierName=c=>{var _,g;const E=l.getFoundingTierPlan(c);return(g=(_=E==null?void 0:E.metadata)==null?void 0:_.short_description)!=null?g:null},l.mediaUploadHasProblem=c=>!c||!c.state?!1:c.state==="error"||c.state==="cancelled",l.getPaidOrFoundingTierNameForPost=(c,_)=>(_==null?void 0:_.audience)==="founding"&&l.getFoundingTierName(c)||"paid",l.hasVoiceover=c=>!!c&&!!c.voiceover_upload_id,l.canSyndicateVoiceoverDraft=(c,_)=>!c||!_||!l.hasPodcast(c)?!1:!!_.draft_voiceover_upload_id;const u=/\/images\/[-0-9a-fA-F]+_(\d+)x(\d+)(\.png)?$/i;l.getAspectRatioFromBucketeerUrl=c=>{const _=c.match(u);return _?parseInt(_[1])/parseInt(_[2]):null},l.isBulwarkPub=(c,{checkParent:_=!0}={})=>{var g;return _&&c.subdomain==="thebulwark"||((g=c.parent_publication)==null?void 0:g.subdomain)==="thebulwark"}},8221:(z,l)=>{"use strict";var e;let o="";l.S=o},72985:(z,l,e)=>{"use strict";const o=e(71171);l.sluggify=(f,{softMax:u=32,hardMax:c=48,extension:_=!1,extensionSeparator:g="-"}={})=>{let E=l.cleanSlug(f);if(E.length>u){const y=E.indexOf("-",u);y!==-1&&(E=E.substr(0,y))}E.length>c&&(E=E.substr(0,c));const v=_&&typeof _=="string"?_:o().substr(0,3);return E?_&&(E+=`${g}${v}`):E=v,E},l.cleanSlug=(f,{hashIfEmpty:u=!1,allowUnicode:c=!1}={})=>{const _=(f||"").toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(c?/[^\p{L}-]+/gu:/[^\w-]+/g,"").replace(/-+/g,"-").replace(/^-|-$/g,"");return f&&typeof f=="string"&&!_&&u?Array.from(f).map(g=>g.codePointAt(0)).map(g=>g.toString(16)).join("").substring(0,12):_}},15045:(z,l,e)=>{"use strict";var o=Object.defineProperty,f=Object.defineProperties,u=Object.getOwnPropertyDescriptors,c=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,E=(Se,Qe,ge)=>Qe in Se?o(Se,Qe,{enumerable:!0,configurable:!0,writable:!0,value:ge}):Se[Qe]=ge,v=(Se,Qe)=>{for(var ge in Qe||(Qe={}))_.call(Qe,ge)&&E(Se,ge,Qe[ge]);if(c)for(var ge of c(Qe))g.call(Qe,ge)&&E(Se,ge,Qe[ge]);return Se},y=(Se,Qe)=>f(Se,u(Qe)),T=(Se,Qe)=>{var ge={};for(var Fe in Se)_.call(Se,Fe)&&Qe.indexOf(Fe)<0&&(ge[Fe]=Se[Fe]);if(Se!=null&&c)for(var Fe of c(Se))Qe.indexOf(Fe)<0&&g.call(Se,Fe)&&(ge[Fe]=Se[Fe]);return ge};const{cleanSlug:w}=e(72985),{substack_color:S}=e(89018),{CDN_URL:O,substackDomain:p,getSubscribeUrl:d,serializeQuery:a,pathWithQuery:P,getBaseUrl:C,getSubstackUrl:D,getHostname:A,_getUrl:x,getBaseAppLinkUrl:I,getLikelyLoggedInParam:N,getPubAccountSettingsUrl:F,getPostDashboardUrl:B,getDashboardHomeUrl:V,getSubscriberDashboardUrl:Z,getProfileUrlById:Y,getReaderProfileUrl:ne,imginary:G,unimginary:L,extractDimensionsFromImageUrl:W,getPodcastRssUrlFromIds:ie,parseUrl:ue,getPublishBaseUrl:le,getPublishSettingsUrl:J,getDonateSubscriptionUrl:te,stripeBaseUrl:se,getPostUrl:ee,getPostUrlBySlug:ae,getEditPostUrlById:ce,getGroupManagementUrl:fe,getConnectTwitterUrl:Ee,getPubConnectTwitterUrl:de,getCancelOrUncancelUrl:_e,getSubstackUrlWithDomain:ve,getManageGroupSubscriptionUrl:De}=e(20501),{getPostCommentsUrl:Oe}=e(36250),{getUserPhotoUrl:ye,getDefaultUserPhotoById:ze,DEFAULT_PHOTO_URL:Be}=e(96702),{getProfileSetupUrl:We}=e(2731),Ke=[/\/embed\/podcast\//];l.TWITTER_CARD_WIDTH=504,l.TWITTER_CARD_HEIGHT=264,l.TWITTER_CARD_LOGO_SIZE=70,l.USER_BAN_APPEAL_URL="https://support.substack.com/hc/en-us/requests/new?ticket_form_id=14793522353556&tf_14811460381460=i_m_a_subscriber/reader_only_&tf_14818406375316=i_am_unable_to_comment_or_publish_to_notes_",l.IMPORT_FILE_TOO_LARGE_URL="https://support.substack.com/hc/en-us/requests/new?ticket_form_id=8613857127700&request_from_search=true",l.getBaseUrl=C,l.getSubstackUrl=D,l.getSubstackUrlWithDomain=ve,l.getBaseAppLinkUrl=I,l.getHostname=A,l.serializeQuery=a,l.getSubscribeUrl=d,l.pathWithQuery=P,l.getLikelyLoggedInParam=N,l.getPubAccountSettingsUrl=F,l.getPostDashboardUrl=B,l.getSubscriberDashboardUrl=Z,l.getProfileUrlById=Y,l.getReaderProfileUrl=ne,l.imginary=G,l.unimginary=L,l.extractDimensionsFromImageUrl=W,l.parseUrl=ue,l.getPublishBaseUrl=le,l.getPublishSettingsUrl=J,l.getDonateSubscriptionUrl=te,l.stripeBaseUrl=se,l.getPostUrl=ee,l.getPostUrlBySlug=ae,l.getEditPostUrlById=ce,l.getGroupManagementUrl=fe,l.getDashboardHomeUrl=V,l.getConnectTwitterUrl=Ee,l.getPubConnectTwitterUrl=de,l.getCancelOrUncancelUrl=_e,l.getPostCommentsUrl=Oe,l.getPodcastRssUrlFromIds=ie,l.getManageGroupSubscriptionUrl=De,l.getUserPhotoUrl=ye,l.getDefaultUserPhotoById=ze,l.DEFAULT_PHOTO_URL=Be,l.getProfileSetupUrl=We,l.updateQuery=function(Se,Qe,{skipHash:ge=!1}={}){typeof Se=="object"&&(Qe=Se,Se=document.location.pathname+document.location.search+document.location.hash);let Fe=l.pathWithQuery(Se.split("?")[0].split("#")[0],Object.assign(l.parseQuery(Se),Qe));return Se.indexOf("#")!==-1&&!ge&&(Fe+=Se.substr(Se.indexOf("#"))),Fe},l.parseQuery=function(Se){const Qe={},ge=((Se==null?void 0:Se.split("?")[1])||"").split("#")[0].trim();if(ge){const Fe=ge.split("&");for(let Ne=0;Ne<Fe.length;Ne++){const lt=Fe[Ne].split("=");Qe[decodeURIComponent(lt[0])]=decodeURIComponent(lt.slice(1).join("="))}}return Qe},l.getQueryItem=(Se,Qe)=>{if(typeof Qe!="string"){if(typeof window=="undefined"||!(window!=null&&window.location))return null;Qe=Se,Se=window.location.href}const ge=l.parseQuery(Se);if(Qe in ge)return ge[Qe]},l.getPubUrl=(Se,{params:Qe={},signedIn:ge=!1}={})=>{const Fe=N(ge,Se);return l.pathWithQuery(`${l.getBaseUrl(Se)}/`,v({lli:Fe},Qe))},l.getCallbackUrl=Se=>`${l.getBaseUrl({subdomain:"callback"})}${Se}`,l.getTld=Se=>{try{return new URL(Se).hostname.split(".").slice(-2).join(".")}catch(Qe){return null}},l.cdnSvg=Se=>!Se||!Se.startsWith("/")||Se.startsWith("//")||!/\.svg(\?|#|$)/.test(Se)?Se:`${O}/${Se}`,l.stripProtocol=Se=>(Se||"").replace(/^(\w+:)?\/\//g,""),l.getUndergroundUrl=Se=>{const ge=x(`admin.${p}`);return Se?`${ge}/publications/${Se}`:ge},l.getStockLandingUrl=Se=>`${x(`${p}`)}/discover/stocks/${Se}`,l.getUserUndergroundUrl=Se=>{const ge=x(`admin.${p}`);return Se?`${ge}/users/${Se}`:ge},l.getBaseReaderUrl=({utm_source:Se}={})=>{const Qe=p,ge="reader";return l.pathWithQuery(x(`${ge}.${Qe}`),{utm_source:Se})},l.getReaderSignupUrl=Se=>l.pathWithQuery(`${x(p)}/browse`,y(v({},Se),{action:"signup"})),l.getReaderUrl=(Se,{query:Qe}={})=>{const ge=p;return l.pathWithQuery(`${x(ge)}${Se}`,Qe)},l.getNotificationsUrl=Se=>l.getReaderUrl("/activity",{query:Se}),l.getLibraryUrl=Se=>l.getReaderUrl("/library",{query:Se}),l.getFeedUrl=Se=>l.getReaderUrl("/feed",{query:Se}),l.getChatUrl=Se=>l.getReaderUrl("/chat",{query:Se}),l.getSavedPostsUrl=Se=>l.getReaderUrl("/saved",Se),l.getDeprecatedPostAppLinkUrl=(Se,Qe,{params:ge={},redirect:Fe=null,source:Ne=null,postUuid:lt=null}={})=>{const Et=lt?`${l.getSubstackUrl()}/app-link/publications/${Se}/drafts/${lt}`:`${l.getSubstackUrl()}/app-link/post`,jt=v({publication_id:Se,post_id:Qe,utm_source:Ne,redirect:Fe},ge);return l.pathWithQuery(Et,jt)},l.getPostAppLinkUrl=(Se,Qe,{params:ge={},redirect:Fe=null,source:Ne=null,postUuid:lt=null,inbox:Et=null}={},jt)=>{if(!Se||!Qe)return"";const en=jt?lt?`${jt}/p/${lt}`:`${jt}/p/${Qe}`:lt?`${l.getBaseAppLinkUrl()}/pub/${Se}/drafts/${lt}`:`${l.getBaseAppLinkUrl()}/pub/${Se}/p/${Qe}`,vt=v({utm_source:Ne,redirect:Fe,inbox:Et},ge);return l.pathWithQuery(en,vt)},l.getPostCommentInContextUrl=function(Se,Qe,ge,Fe=3){if(!ge.ancestor_path)return l.getPostCommentsUrl(Se,Qe,ge);const Ne=ge==null?void 0:ge.ancestor_path.split("."),lt=Ne.length<Fe?0:Ne.length-Fe;return l.getPostUrl(Se,Qe,{comments:!0,commentId:ge.id,commentContextId:Ne[lt]})},l.getPodcastLandingUrl=({pub:Se,section:Qe,addBase:ge=!0})=>{Qe=Qe||Se.section;const Fe=ge?l.getBaseUrl(Se):"";return Qe?`${Fe}/listen/${Qe.slug||Qe.id}`:`${Fe}/podcast`},l.getEditSectionUrl=(Se,{addBase:Qe,type:ge,id:Fe}={})=>`${Qe?l.getBaseUrl(Se):""}/publish/settings/${ge}/${Fe}`,l.getArchiveUrl=(Se,{params:Qe}={})=>{const ge=Se.section?`/s/${Se.section.slug||Se.section.id}`:"";return l.pathWithQuery(`${ge}/archive`,Qe)},l.getBaseArchiveUrl=(Se,{addBase:Qe,params:ge}={})=>{const Fe=Qe?l.getBaseUrl(Se):"";return l.pathWithQuery(`${Fe}/archive`,ge)},l.getAboutUrl=(Se,{addBase:Qe,params:ge}={})=>{const Fe=Qe?l.getBaseUrl(Se):"";return l.pathWithQuery(`${Fe}/about`,ge)},l.getSitemapUrl=(Se,{addBase:Qe,params:ge}={})=>{const Fe=Qe?l.getBaseUrl(Se):"";return l.pathWithQuery(`${Fe}/sitemap`,ge)},l.getDashboardUrlForSubdomain=(Se,{params:Qe}={})=>{const ge=`${l.getBaseUrl({subdomain:Se})}/publish/home`;return l.pathWithQuery(ge,Qe)},l.getFindTwitterPubsUrl=Se=>l.pathWithQuery(`${l.getSubstackUrl()}/twitter/find-pubs`,Se),l.getPodcastingUrl=(Se,{addBase:Qe,params:ge,slug:Fe,isSection:Ne}={})=>{let Et=`${Qe?l.getBaseUrl(Se):""}/publish/podcasting`;return Fe&&(Ne?Et=`${Et}/s/${Fe}`:Et=`${Et}/${Fe}`),ge?l.pathWithQuery(Et,ge):Et},l.getCreatePostUrl=(Se,Qe={})=>{var ge=Qe,{baseUrl:Fe=null}=ge,Ne=T(ge,["baseUrl"]);return l.pathWithQuery(`${Fe!=null?Fe:l.getBaseUrl(Se)}/publish/post`,Ne)},l.getCreateMarketingPostUrl=(Se,Qe)=>l.pathWithQuery(`${l.getBaseUrl(Se)}/publish/post/marketing`,Qe),l.getSubscriberStatsUrl=(Se,{addBase:Qe,params:ge}={})=>{const Fe=Qe?l.getBaseUrl(Se):"";return l.pathWithQuery(`${Fe}/publish/subscribers`,ge)},l.getAddSubscriberUrl=Se=>"/publish/subscribers/add",l.getVerifyImportDoubleOptinUrl=(Se,Qe)=>`${l.getBaseUrl(Se)}/publish/subscribers/add?conditional_import_id=${Qe}`,l.getIgnoreImportDoubleOptinUrl=(Se,Qe)=>`${l.getBaseUrl(Se)}/publish/subscribers/add?conditional_import_id=${Qe}`,l.getDomainConfigUrl=(Se,{payment:Qe}={})=>`/publish/domain${Qe?"/pay":""}`,l.getDomainMigrateUrl=Se=>"/publish/domain/migrate",l.getDomainStatusUrl=()=>"/publish/domain/status",l.getSubscriberDetailsUrl=(Se,Qe,{addBase:ge,tab:Fe}={})=>{const Ne=ge?l.getBaseUrl(Se):"";return l.pathWithQuery(`${Ne}/publish/subscribers/legacy`,{email:Qe,tab:Fe})},l.getGroupDetailsUrl=Se=>`/publish/groups/${Se}`,l.getManageGroupsUrl=()=>"/publish/groups",l.getCheckoutUrl=function(Se,Qe={}){const ge=l.pathWithQuery(`${l.getBaseUrl(Se)}/subscribe`,Qe);return ge.indexOf("?")===-1?`${ge}?`:ge},l.getFoundingCheckoutUrl=function(Se){return`${l.getBaseUrl(Se)}/subscribe?plan=founding&`},l.getLoginUrl=(Se={})=>l.pathWithQuery("/account/login",Se),l.getMfaUrl=(Se={})=>l.pathWithQuery(`${l.getSubstackUrl()}/sign-in/mfa`,Se),l.getGlobalAccountRedirectForPub=(Se,Qe,ge)=>{const Fe=Se==null?void 0:Se.subdomain;return l.pathWithQuery(`${l.getSubstackUrl()}${Qe}`,{redirect:ge,for_pub:Fe})},l.getWriterReferralUrl=(Se,Qe={})=>{if(Se)return l.pathWithQuery(`${l.getSubstackUrl()}/refer/${Se}`,Qe)},l.getWriterReferralSettingsUrl=({utm_source:Se,utm_context:Qe,utm_content:ge}={})=>l.pathWithQuery(`${l.getSubstackUrl()}/referral`,{utm_source:Se,utm_context:Qe,utm_content:ge}),l.getGlobalAccountSettingsUrl=({utm_source:Se,section:Qe,highlightNotification:ge}={})=>l.pathWithQuery(`${l.getSubstackUrl()}/settings`,{utm_source:Se,section:Qe,highlightNotification:ge}),l.getGlobalNotificationSettingsUrl=({highlight:Se,utm_source:Qe}={})=>l.getGlobalAccountSettingsUrl({section:"notifications",highlightNotification:Se,utm_source:Qe}),l.getManageSubscriptionsUrl=({utm_source:Se}={})=>l.pathWithQuery(`${l.getSubstackUrl()}/settings/subscriptions`,{utm_source:Se}),l.getSharePubUrl=Se=>`${l.getBaseUrl(Se)}/?utm_source=substack&utm_medium=email&utm_content=share&action=share`,l.getPodcatcherSetupUrlForAllPodcasts=(Se,Qe)=>{var ge=Qe,{startAtSubscribeFlow:Fe}=ge,Ne=T(ge,["startAtSubscribeFlow"]);let lt=`${l.getBaseUrl(Se)}/listen`;if(Ne){const Et=l.serializeQuery(Ne);Et&&(lt+=`?${Et}`)}return Fe?l.getSubscribeUrl(Se,v({addBase:!0,next:lt,skipPodcastSetupPage:!0},Ne)):lt},l.getPodcatcherSetupUrl=(Se,{addBase:Qe,params:ge,noSection:Fe,section:Ne,user:lt,startAtSubscribeFlow:Et}={})=>{let jt="";if(Qe&&(jt+=l.getBaseUrl(Se)),Ne=Ne||(Se==null?void 0:Se.section),Ne&&!Fe&&(jt+=`/s/${Ne.slug||Ne.id}`),jt+="/account/add-podcast",lt&&lt.email&&(ge=y(v({},ge),{email:lt.email}),jt+="/email"),ge){const en=l.serializeQuery(ge);en&&(jt+=`?${en}`)}return Et?l.getSubscribeUrl(Se,v({addBase:!0,next:jt,skipPodcastSetupPage:!0},ge)):jt},l.getCdnUrl=(Se,{cdnUrl:Qe=O}={})=>Se==null?void 0:Se.replace(/^https:\/\/(bucketeer[^/]*|substack-post-media|substack-post-media-staging|substack-audio|substack-video|substack-video-staging|substack-content|substack-content-dev)\.s3\.amazonaws\.com/,Qe);const Xe="https://chrt.fm/track",ct="https://prfx.byspotify.com/e";l.getAsChartableUrl=(Se,Qe)=>Se?`${Xe}/${encodeURIComponent(Se)}/${l.stripProtocol(Qe)}`:Qe,l.addSpotifyAnalyticsPrefix=Se=>`${ct}/${Se}`,l.getCdnUrlForAudio=(Se,Qe,{token:ge}={})=>(Qe=l.getCdnUrl(Qe),Se!=null&&Se.id&&(Qe=l.updateQuery(Qe,{post_id:Se.id})),ge&&(Qe=l.updateQuery(Qe,{podcast_rss_token:ge})),Qe),l.getClientReadyPodcastUrl=(Se,Qe,{rssToken:ge})=>{if(Qe.podcast_upload_id){let Fe=l.updateQuery(`${l.getBaseUrl({subdomain:"api"})}/api/v1/audio/upload/${Qe.podcast_upload_id}/src`,{token:ge});return Se!=null&&Se.chartable_token&&(Fe=l.getAsChartableUrl(Se.chartable_token,Fe)),Fe}if(Qe.podcast_url){let Fe=l.getCdnUrlForAudio(Qe,Qe.podcast_url,{token:ge});return Se!=null&&Se.chartable_token&&(Fe=l.getAsChartableUrl(Se.chartable_token,Fe)),Fe}return null},l.urlIsRegularlyShownInIframe=Se=>{for(let Qe=0;Qe<Ke.length;Qe++)if(Ke[Qe].test(Se))return!0;return!1},l.getCurrentUrlForLoginRedirect=({useOriginalUrl:Se})=>{if(Se&&typeof window!="undefined"&&window._preloads.original_url)try{const Qe=new URL(window._preloads.original_url);return`${Qe.pathname}${Qe.search}${Qe.hash}`}catch(Qe){}return`${document.location.pathname}${document.location.search}${document.location.hash}`},l.getSigninUrl=(Se={})=>{const{for_pub:Qe,email:ge,with_password:Fe,error:Ne,message:lt,change_user:Et,justTrying:jt,useOriginalUrl:en}=Se;let{redirect:vt}=Se;return typeof vt!="string"&&(vt=l.getCurrentUrlForLoginRedirect({useOriginalUrl:en})),l.pathWithQuery(`${l.getSubstackUrl()}/sign-in`,{redirect:vt,for_pub:Qe,email:ge,with_password:Fe,error:Ne,message:lt,change_user:Et,justTrying:jt})},l.getTermsUrl=({utm_source:Se}={})=>l.pathWithQuery(`${l.getSubstackUrl()}/tos`,{utm_source:Se}),l.getGoingPaidUrl=()=>`${l.getSubstackUrl()}/going-paid`,l.getInfoCollectionUrl=({utm_source:Se}={})=>`${l.pathWithQuery(`${l.getSubstackUrl()}/ccpa`,{utm_source:Se})}#personal-data-collected`,l.getHomeUrl=({utm_source:Se}={})=>l.pathWithQuery(`${l.getSubstackUrl()}/home`,{utm_source:Se}),l.getPrivacyUrl=({pub:Se,utm_source:Qe,hash:ge=null}={})=>{const Fe=Se?`${l.getBaseUrl(Se)}`:l.getSubstackUrl(),Ne=ge?`#${ge}`:"";return`${l.pathWithQuery(`${Fe}/privacy`,{utm_source:Qe})}${Ne}`},l.getLegalUrls=()=>({infoCollection:l.getInfoCollectionUrl(),privacy:l.getPrivacyUrl(),terms:l.getTermsUrl()}),l.getEditProfileUrl=({params:Se}={})=>l.pathWithQuery(`${l.getSubstackUrl()}/profile/edit`,Se),l.getReaderOnboardingUrl=(Se,{isAbbreviated:Qe,redirect:ge,postRedirectToast:Fe,pubId:Ne=null}={})=>{let lt=null;if(ge)try{lt=new URL(ge),Fe&&lt.searchParams.set("profile-setup-message",Fe)}catch(Et){lt=new URL(l.getSubstackUrl())}return l.pathWithQuery(`${l.getSubstackUrl()}/reader-onboarding`,{isAbbreviated:Qe,redirect:lt?lt.toString():null,pubId:Ne})},l.getDiscoverCategoryUrl=(Se,Qe)=>`${l.getSubstackUrl()}/discover${Se?`/category/${Se.slug}`:""}${Qe==="all"?"/all":""}`,l.getDiscoverSearchUrl=({query:Se,params:Qe={}}={})=>{let ge=`${l.getSubstackUrl()}/search`;return Se&&(ge=`${l.getSubstackUrl()}/search/${encodeURIComponent(Se)}`),l.updateQuery(ge,Qe)},l.getSubscribeUrl=(Se,Qe={})=>{var ge=Qe,{signedIn:Fe=!1,addBase:Ne=!1,root:lt=void 0,user:Et=void 0}=ge,jt=T(ge,["signedIn","addBase","root","user"]);const en=N(Fe,Se);return d(Se,{root:lt,user:Et,addBase:Ne,params:v({lli:en},jt)})},l.getRecommendationsPageUrl=(Se,Qe={})=>l.pathWithQuery(`${l.getBaseUrl(Se)}/recommendations`,Qe),l.getStartPublishingUrl=(Se={})=>l.updateQuery(`${l.getSubstackUrl()}/signup`,Se),l.getMigrateFromTwitterUrl=(Se={})=>l.updateQuery(`${l.getSubstackUrl()}/twitter-quitter`,Se),l.getImportUrl=(Se={})=>l.updateQuery(`${l.getSubstackUrl()}/signup/import`,Se),l.getPublishStripeAccountImportUrl=(Se,{addBase:Qe=!1,baseUrlOptions:ge={},params:Fe=void 0}={})=>l.pathWithQuery(`${le(Se,{addBase:Qe,baseUrlOptions:ge})}/stripe-import`,Fe),l.getPublishStatsUrl=(Se,{addBase:Qe,baseUrlOptions:ge,params:Fe}={})=>{const Ne=Qe?l.getBaseUrl(Se,ge):"";return l.pathWithQuery(`${Ne}/publish/stats`,Fe)},l.getPublishSettingsRecommendationsUrl=(Se,{addBase:Qe,baseUrlOptions:ge,params:Fe}={})=>{const Ne=Qe?l.getBaseUrl(Se,ge):"";return l.pathWithQuery(`${Ne}/publish/settings/recommendations`,Fe)},l.getPublishStatsRecommendationsUrl=(Se,{addBase:Qe,baseUrlOptions:ge,params:Fe}={})=>{const Ne=Qe?l.getBaseUrl(Se,ge):"";return l.pathWithQuery(`${Ne}/publish/recommendations`,Fe)},l.getManageBlurbsUrl=(Se,{addBase:Qe,baseUrlOptions:ge,params:Fe}={})=>{const Ne=Qe?l.getBaseUrl(Se,ge):"";return l.pathWithQuery(`${Ne}/publish/settings/blurbs`,Fe)},l.getManageReaderReferralSettingsUrl=Se=>{const Qe=l.getBaseUrl(Se);return l.pathWithQuery(`${Qe}/publish/settings/`,{search:"referral"})},l.getPublishModerationUrl=(Se,{addBase:Qe=!1,baseUrlOptions:ge={}}={})=>`${le(Se,{addBase:Qe,baseUrlOptions:ge})}/moderation`,l.getPublicationPodcastUrl=Se=>"/publish/settings/podcast/edit",l.getInviteUrl=Se=>`${l.getBaseUrl(Se)}/invite`,l.getProfileSlug=Se=>{let Qe=`${Se.author_id||Se.id}`;const ge=w(Se.author_id?Se.author_name:Se.name,{hashIfEmpty:!0});return ge&&(Qe+=`-${ge}`),Qe},l.getProfileUrl=(Se,Qe,{utm_source:ge}={})=>l.getReaderProfileUrl(Se,{utm_source:ge}),l.getPodcastRssUrl=({pub:Se,token:Qe=null})=>{var ge;if(Se.section){const{section:Ne}=Se;if((ge=Ne.podcastSettings)!=null&&ge.podcast_feed_url)return Ne.podcastSettings.podcast_feed_url;let lt=`${l.getBaseUrl({subdomain:"api"})}/feed/podcast/${Se.id}/s/`;return Qe?lt+=`${Ne.id}/private/${Qe}.rss`:lt+=`${Ne.id}.rss`,lt}else if(Se.podcast_feed_url)return Se.podcast_feed_url;let Fe=`${l.getBaseUrl({subdomain:"api"})}/feed/podcast/${Se.id}`;return Qe?Fe+=`/private/${Qe}.rss`:Fe+=".rss",Fe},l.getSupportEmail=(Se,{noOverride:Qe}={})=>{if(Se){if(Se.support_email&&!Qe)return Se.support_email}else return"support@substack.com";return`support+${Se.subdomain}@substack.com`},l.getSupportUrl=(Se,Qe)=>`https://support.substack.com/hc/en-us?s=${encodeURIComponent(l.getSupportEmail(Se,Qe))}`,l.getPostSelectionPreviewUrl=(Se,Qe,ge)=>l.imginary(`${l.getPostSelectionPreviewSvgUrl(Se,Qe,ge)}`,l.TWITTER_CARD_WIDTH*2,{height:l.TWITTER_CARD_HEIGHT*2,format:"jpg",crop:"fill",skipDomainValidation:!0,quality:"auto:best",version:7}),l.getPostSelectionPreviewSvgUrl=(Se,Qe,ge)=>`${l.getBaseUrl(Se)}/api/v1/post_selection_image/${Qe.id}/${ge}.svg`,l.getTwitterAccountUrl=Se=>`https://twitter.com/${Se}`,l.getInstagramAccountUrl=Se=>`https://instagram.com/${Se}`,l.getTiktokAccountUrl=Se=>`https://tiktok.com/@${Se}`,l.getYoutubeAccountUrl=Se=>`https://youtube.com/channel/${Se}`,l.getTwitterSubscribeCardUrl=Se=>l.imginary(`${l.getTwitterSubscribeCardSvgUrl(Se)}`,null,{quality:"auto:best",version:9,skipDomainValidation:!0}),l.getTwitterSubscribeCardSvgUrl=Se=>{const{hashString:Qe}=e(83322);let ge=`${l.getBaseUrl(Se,{forceSubdomain:!0})}/twitter/subscribe-card.jpg`;const Fe=`${Se.logo_url}:${Se.hero_text}:${Se.name}:${Se.author_name}:${Se.subdomain}`,Ne=Qe(Fe);return Ne?ge+=`?v=${Ne}`:ge+="?v=bust",ge},l.getPressKitUrl=(Se,Qe,ge)=>{const Fe=l.getPressKitImageUrl(Se,Qe,ge);return l.imginary(Fe,null,{quality:"auto:best",skipDomainValidation:!0,version:9})},l.getPressKitImageUrl=(Se,Qe,ge)=>{const{hashString:Fe}=e(83322),Ne=Fe(`${Qe.social_title+Qe.title+Qe.description+Qe.cover_image}`);return l.pathWithQuery(`${l.getBaseUrl(Se,{forceSubdomain:!0})}/api/v1/press_kit/${Qe.id}.jpg`,y(v({},ge),{isDraft:Qe.is_draft,hash:Ne}))},l.getLatexUrl=Se=>{const Qe=l.getLatexImageUrl(Se);return l.imginary(Qe,null,{quality:"auto:best",version:9})},l.getLatexImageUrl=Se=>l.pathWithQuery("/api/v1/latex/jpeg",{expression:Se}),l.getBestsellerAssetUrl=Se=>{const Qe=`${l.getBaseUrl(null,{forceSubdomain:!0})}/api/v1/profile_assets/${Se.id}-bestseller.jpg`;return l.imginary(Qe,null,{quality:"auto:best",skipDomainValidation:!0,version:9})},l.getBestsellerShareCardUrl=Se=>{const Qe=`${l.getBaseUrl(null,{forceSubdomain:!0})}/api/v1/profile_assets/${Se.id}-bestseller-share-card.jpg`;return l.imginary(Qe,null,{quality:"auto:best",skipDomainValidation:!0,version:9})},l.getThreadDeepLinkUrl=Se=>`substack://publications/${Se.id}/threads`,l.isPublishPath=(Se,Qe)=>Se.startsWith("/publish"),l.looksLikePostUrl=Se=>{const Qe=l.parseUrl(Se);return Qe?Qe.pathname.startsWith("/p/"):!1},l.getPostSlug=Se=>l.looksLikePostUrl(Se)?l.parseUrl(Se).pathname.split("/")[2]:null,l.looksLikePostCommentsUrl=Se=>{if(!l.looksLikePostUrl(Se))return!1;const ge=l.parseUrl(Se).pathname.split("/");return ge.length===4&&ge[3]==="comments"},l.getSignoutUrl=({redirect:Se,for_pub:Qe,utm_source:ge}={})=>(Se=Se||"",l.pathWithQuery(`${l.getSubstackUrl()}/sign-out`,{redirect:Se,for_pub:Qe,utm_source:ge})),l.getPodcastOnboardingUrl=Se=>`/publish/podcast/new?referrer=${encodeURIComponent(Se)}`,l.getUrlExtension=Se=>{try{const ge=new URL(Se).pathname.match(/\.(\w+)$/);return ge?ge[0]:null}catch(Qe){return null}},l.EMAIL_CONTENT_WIDTH=550,l.WEB_CONTENT_WIDTH=728,l.WEB_CONTENT_WIDTH_MOBILE=424,l.WEB_RESPONSIVE_IMAGE_WIDTHS=[l.WEB_CONTENT_WIDTH_MOBILE,l.WEB_CONTENT_WIDTH_MOBILE*2,l.WEB_CONTENT_WIDTH_MOBILE*3,l.WEB_CONTENT_WIDTH*2],l.LARGE_IMAGE_WIDTH=1200,l.MAX_REASONABLE_SCREEN_WIDTH=2880,l.MIN_GIF_WIDTH=320,l.MAX_GIF_WIDTH=550,l.getMediaUploadThumbnailUrl=Se=>{var Qe;return Se?`https://substack-video.s3.amazonaws.com/video_upload/post/${Se.post_id}/${Se.id}/transcoded-${((Qe=Se.thumbnail_id)!=null?Qe:1).toString().padStart(5,"0")}.png`:void 0},l.getMediaUploadThumbnailUrlForPlayer=(Se,{pub:Qe,isStatic:ge}={})=>{var Fe;const{colorLuma:Ne,videoPlayerDimensions:lt}=e(83322),{height:Et,width:jt}=lt(Se,{isStatic:ge}),en=jt/Et<1920/1080?"pad":"fill",vt=((Fe=Qe==null?void 0:Qe.theme)==null?void 0:Fe.background_pop_color)||(Qe==null?void 0:Qe.theme_var_background_pop)||S,Re=Ne(vt)>.6?"#1a1a1a":"#ffffff";return l.imginary(l.getMediaUploadThumbnailUrl(Se),jt*2,{crop:en,height:Et*2,trailingSegments:ge?[`l_video_play_base_tu77jd,w_152,e_colorize:100,co_rgb:${vt.slice(1)}`,`l_video_play_icon_c75z6z,w_152,e_colorize:100,co_rgb:${Re.slice(1)}`]:[]})},l.getPreviewInAppUrl=(Se,Qe,ge={})=>l.pathWithQuery(`https://substack.com/app-link/publications/${Se.id}/drafts/${Qe}`,ge),l.getLinkRedirectUrl=(Se,{userIdJwt:Qe,domain:ge}={})=>`${ge?l.getSubstackUrlWithDomain(ge):l.getSubstackUrl()}/redirect/${Se}?j=${Qe||""}`,l.getLoginChallengeDeepUrl=Se=>l.pathWithQuery("substack://sign-in/challenge",{token:Se}),l.DIRECT_APPLE_APP_STORE_URL="https://apps.apple.com/us/app/substack-reader/id1581650857",l.DIRECT_GOOGLE_PLAY_STORE_URL="https://play.google.com/store/apps/details?id=com.substack.app",l.getSubstackMarketingUrl=(Se={})=>l.pathWithQuery(`${l.getSubstackUrl()}/home`),l.getAppMarketingUrl=(Se={})=>l.pathWithQuery(`${l.getSubstackUrl()}/app`,Se),l.getAppWriterFaqUrl=(Se={})=>l.pathWithQuery("https://on.substack.com/p/writerfaq",Se),l.getAppStoreRedirectUrl=Se=>l.pathWithQuery(`${l.getSubstackUrl()}/app/app-store-redirect`,Se),l.getAppStoreUrl=Se=>l.pathWithQuery(`${l.getSubstackUrl()}/app/get-ios`,Se),l.getPlayStoreUrl=Se=>l.pathWithQuery(`${l.getSubstackUrl()}/app/get-android`,Se),l.getDefaultPodcastArtUrl=({pathOnly:Se=!1}={})=>{const Qe="/img/podcast/generic.png";return Se?Qe:`${l.getSubstackUrl()}${Qe}`},l.getDefaultPodcastArtUrlCDN=()=>{const Se=l.getDefaultPodcastArtUrl({pathOnly:!0});return l.imginary(Se,1400)}},17187:z=>{function l(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}z.exports=l,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._maxListeners=void 0,l.defaultMaxListeners=10,l.prototype.setMaxListeners=function(c){if(!o(c)||c<0||isNaN(c))throw TypeError("n must be a positive number");return this._maxListeners=c,this},l.prototype.emit=function(c){var _,g,E,v,y,T;if(this._events||(this._events={}),c==="error"&&(!this._events.error||f(this._events.error)&&!this._events.error.length)){if(_=arguments[1],_ instanceof Error)throw _;var w=new Error('Uncaught, unspecified "error" event. ('+_+")");throw w.context=_,w}if(g=this._events[c],u(g))return!1;if(e(g))switch(arguments.length){case 1:g.call(this);break;case 2:g.call(this,arguments[1]);break;case 3:g.call(this,arguments[1],arguments[2]);break;default:v=Array.prototype.slice.call(arguments,1),g.apply(this,v)}else if(f(g))for(v=Array.prototype.slice.call(arguments,1),T=g.slice(),E=T.length,y=0;y<E;y++)T[y].apply(this,v);return!0},l.prototype.addListener=function(c,_){var g;if(!e(_))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",c,e(_.listener)?_.listener:_),this._events[c]?f(this._events[c])?this._events[c].push(_):this._events[c]=[this._events[c],_]:this._events[c]=_,f(this._events[c])&&!this._events[c].warned&&(u(this._maxListeners)?g=l.defaultMaxListeners:g=this._maxListeners,g&&g>0&&this._events[c].length>g&&(this._events[c].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[c].length),typeof console.trace=="function"&&console.trace())),this},l.prototype.on=l.prototype.addListener,l.prototype.once=function(c,_){if(!e(_))throw TypeError("listener must be a function");var g=!1;function E(){this.removeListener(c,E),g||(g=!0,_.apply(this,arguments))}return E.listener=_,this.on(c,E),this},l.prototype.removeListener=function(c,_){var g,E,v,y;if(!e(_))throw TypeError("listener must be a function");if(!this._events||!this._events[c])return this;if(g=this._events[c],v=g.length,E=-1,g===_||e(g.listener)&&g.listener===_)delete this._events[c],this._events.removeListener&&this.emit("removeListener",c,_);else if(f(g)){for(y=v;y-- >0;)if(g[y]===_||g[y].listener&&g[y].listener===_){E=y;break}if(E<0)return this;g.length===1?(g.length=0,delete this._events[c]):g.splice(E,1),this._events.removeListener&&this.emit("removeListener",c,_)}return this},l.prototype.removeAllListeners=function(c){var _,g;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[c]&&delete this._events[c],this;if(arguments.length===0){for(_ in this._events)_!=="removeListener"&&this.removeAllListeners(_);return this.removeAllListeners("removeListener"),this._events={},this}if(g=this._events[c],e(g))this.removeListener(c,g);else if(g)for(;g.length;)this.removeListener(c,g[g.length-1]);return delete this._events[c],this},l.prototype.listeners=function(c){var _;return!this._events||!this._events[c]?_=[]:e(this._events[c])?_=[this._events[c]]:_=this._events[c].slice(),_},l.prototype.listenerCount=function(c){if(this._events){var _=this._events[c];if(e(_))return 1;if(_)return _.length}return 0},l.listenerCount=function(c,_){return c.listenerCount(_)};function e(c){return typeof c=="function"}function o(c){return typeof c=="number"}function f(c){return typeof c=="object"&&c!==null}function u(c){return c===void 0}},4445:z=>{z.exports=c,c.default=c,c.stable=v,c.stableStringify=v;var l="[...]",e="[Circular]",o=[],f=[];function u(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function c(w,S,O,p){typeof p=="undefined"&&(p=u()),g(w,"",0,[],void 0,0,p);var d;try{f.length===0?d=JSON.stringify(w,S,O):d=JSON.stringify(w,T(S),O)}catch(P){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;o.length!==0;){var a=o.pop();a.length===4?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return d}function _(w,S,O,p){var d=Object.getOwnPropertyDescriptor(p,O);d.get!==void 0?d.configurable?(Object.defineProperty(p,O,{value:w}),o.push([p,O,S,d])):f.push([S,O,w]):(p[O]=w,o.push([p,O,S]))}function g(w,S,O,p,d,a,P){a+=1;var C;if(typeof w=="object"&&w!==null){for(C=0;C<p.length;C++)if(p[C]===w){_(e,w,S,d);return}if(typeof P.depthLimit!="undefined"&&a>P.depthLimit){_(l,w,S,d);return}if(typeof P.edgesLimit!="undefined"&&O+1>P.edgesLimit){_(l,w,S,d);return}if(p.push(w),Array.isArray(w))for(C=0;C<w.length;C++)g(w[C],C,C,p,w,a,P);else{var D=Object.keys(w);for(C=0;C<D.length;C++){var A=D[C];g(w[A],A,C,p,w,a,P)}}p.pop()}}function E(w,S){return w<S?-1:w>S?1:0}function v(w,S,O,p){typeof p=="undefined"&&(p=u());var d=y(w,"",0,[],void 0,0,p)||w,a;try{f.length===0?a=JSON.stringify(d,S,O):a=JSON.stringify(d,T(S),O)}catch(C){return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;o.length!==0;){var P=o.pop();P.length===4?Object.defineProperty(P[0],P[1],P[3]):P[0][P[1]]=P[2]}}return a}function y(w,S,O,p,d,a,P){a+=1;var C;if(typeof w=="object"&&w!==null){for(C=0;C<p.length;C++)if(p[C]===w){_(e,w,S,d);return}try{if(typeof w.toJSON=="function")return}catch(I){return}if(typeof P.depthLimit!="undefined"&&a>P.depthLimit){_(l,w,S,d);return}if(typeof P.edgesLimit!="undefined"&&O+1>P.edgesLimit){_(l,w,S,d);return}if(p.push(w),Array.isArray(w))for(C=0;C<w.length;C++)y(w[C],C,C,p,w,a,P);else{var D={},A=Object.keys(w).sort(E);for(C=0;C<A.length;C++){var x=A[C];y(w[x],x,C,p,w,a,P),D[x]=w[x]}if(typeof d!="undefined")o.push([d,S,w]),d[S]=D;else return D}p.pop()}}function T(w){return w=typeof w!="undefined"?w:function(S,O){return O},function(S,O){if(f.length>0)for(var p=0;p<f.length;p++){var d=f[p];if(d[1]===S&&d[0]===O){O=d[2],f.splice(p,1);break}}return w.call(this,S,O)}}},17648:z=>{"use strict";var l="Function.prototype.bind called on incompatible ",e=Array.prototype.slice,o=Object.prototype.toString,f="[object Function]";z.exports=function(c){var _=this;if(typeof _!="function"||o.call(_)!==f)throw new TypeError(l+_);for(var g=e.call(arguments,1),E,v=function(){if(this instanceof E){var O=_.apply(this,g.concat(e.call(arguments)));return Object(O)===O?O:this}else return _.apply(c,g.concat(e.call(arguments)))},y=Math.max(0,_.length-g.length),T=[],w=0;w<y;w++)T.push("$"+w);if(E=Function("binder","return function ("+T.join(",")+"){ return binder.apply(this,arguments); }")(v),_.prototype){var S=function(){};S.prototype=_.prototype,E.prototype=new S,S.prototype=null}return E}},58612:(z,l,e)=>{"use strict";var o=e(17648);z.exports=Function.prototype.bind||o},40210:(z,l,e)=>{"use strict";var o,f=SyntaxError,u=Function,c=TypeError,_=function(Y){try{return u('"use strict"; return ('+Y+").constructor;")()}catch(ne){}},g=Object.getOwnPropertyDescriptor;if(g)try{g({},"")}catch(Y){g=null}var E=function(){throw new c},v=g?function(){try{return arguments.callee,E}catch(Y){try{return g(arguments,"callee").get}catch(ne){return E}}}():E,y=e(41405)(),T=Object.getPrototypeOf||function(Y){return Y.__proto__},w={},S=typeof Uint8Array=="undefined"?o:T(Uint8Array),O={"%AggregateError%":typeof AggregateError=="undefined"?o:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?o:ArrayBuffer,"%ArrayIteratorPrototype%":y?T([][Symbol.iterator]()):o,"%AsyncFromSyncIteratorPrototype%":o,"%AsyncFunction%":w,"%AsyncGenerator%":w,"%AsyncGeneratorFunction%":w,"%AsyncIteratorPrototype%":w,"%Atomics%":typeof Atomics=="undefined"?o:Atomics,"%BigInt%":typeof BigInt=="undefined"?o:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?o:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?o:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?o:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?o:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?o:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?o:FinalizationRegistry,"%Function%":u,"%GeneratorFunction%":w,"%Int8Array%":typeof Int8Array=="undefined"?o:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?o:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?o:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":y?T(T([][Symbol.iterator]())):o,"%JSON%":typeof JSON=="object"?JSON:o,"%Map%":typeof Map=="undefined"?o:Map,"%MapIteratorPrototype%":typeof Map=="undefined"||!y?o:T(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?o:Promise,"%Proxy%":typeof Proxy=="undefined"?o:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?o:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?o:Set,"%SetIteratorPrototype%":typeof Set=="undefined"||!y?o:T(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?o:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":y?T(""[Symbol.iterator]()):o,"%Symbol%":y?Symbol:o,"%SyntaxError%":f,"%ThrowTypeError%":v,"%TypedArray%":S,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array=="undefined"?o:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?o:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?o:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?o:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?o:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?o:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?o:WeakSet};try{null.error}catch(Y){var p=T(T(Y));O["%Error.prototype%"]=p}var d=function Y(ne){var G;if(ne==="%AsyncFunction%")G=_("async function () {}");else if(ne==="%GeneratorFunction%")G=_("function* () {}");else if(ne==="%AsyncGeneratorFunction%")G=_("async function* () {}");else if(ne==="%AsyncGenerator%"){var L=Y("%AsyncGeneratorFunction%");L&&(G=L.prototype)}else if(ne==="%AsyncIteratorPrototype%"){var W=Y("%AsyncGenerator%");W&&(G=T(W.prototype))}return O[ne]=G,G},a={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},P=e(58612),C=e(17642),D=P.call(Function.call,Array.prototype.concat),A=P.call(Function.apply,Array.prototype.splice),x=P.call(Function.call,String.prototype.replace),I=P.call(Function.call,String.prototype.slice),N=P.call(Function.call,RegExp.prototype.exec),F=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,B=/\\(\\)?/g,V=function(ne){var G=I(ne,0,1),L=I(ne,-1);if(G==="%"&&L!=="%")throw new f("invalid intrinsic syntax, expected closing `%`");if(L==="%"&&G!=="%")throw new f("invalid intrinsic syntax, expected opening `%`");var W=[];return x(ne,F,function(ie,ue,le,J){W[W.length]=le?x(J,B,"$1"):ue||ie}),W},Z=function(ne,G){var L=ne,W;if(C(a,L)&&(W=a[L],L="%"+W[0]+"%"),C(O,L)){var ie=O[L];if(ie===w&&(ie=d(L)),typeof ie=="undefined"&&!G)throw new c("intrinsic "+ne+" exists, but is not available. Please file an issue!");return{alias:W,name:L,value:ie}}throw new f("intrinsic "+ne+" does not exist!")};z.exports=function(ne,G){if(typeof ne!="string"||ne.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof G!="boolean")throw new c('"allowMissing" argument must be a boolean');if(N(/^%?[^%]*%?$/,ne)===null)throw new f("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var L=V(ne),W=L.length>0?L[0]:"",ie=Z("%"+W+"%",G),ue=ie.name,le=ie.value,J=!1,te=ie.alias;te&&(W=te[0],A(L,D([0,1],te)));for(var se=1,ee=!0;se<L.length;se+=1){var ae=L[se],ce=I(ae,0,1),fe=I(ae,-1);if((ce==='"'||ce==="'"||ce==="`"||fe==='"'||fe==="'"||fe==="`")&&ce!==fe)throw new f("property names with quotes must have matching quotes");if((ae==="constructor"||!ee)&&(J=!0),W+="."+ae,ue="%"+W+"%",C(O,ue))le=O[ue];else if(le!=null){if(!(ae in le)){if(!G)throw new c("base intrinsic for "+ne+" exists, but the property is not available.");return}if(g&&se+1>=L.length){var Ee=g(le,ae);ee=!!Ee,ee&&"get"in Ee&&!("originalValue"in Ee.get)?le=Ee.get:le=le[ae]}else ee=C(le,ae),le=le[ae];ee&&!J&&(O[ue]=le)}}return le}},41405:(z,l,e)=>{"use strict";var o=typeof Symbol!="undefined"&&Symbol,f=e(55419);z.exports=function(){return typeof o!="function"||typeof Symbol!="function"||typeof o("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:f()}},55419:z=>{"use strict";z.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},o=Symbol("test"),f=Object(o);if(typeof o=="string"||Object.prototype.toString.call(o)!=="[object Symbol]"||Object.prototype.toString.call(f)!=="[object Symbol]")return!1;var u=42;e[o]=u;for(o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==o||!Object.prototype.propertyIsEnumerable.call(e,o))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var _=Object.getOwnPropertyDescriptor(e,o);if(_.value!==u||_.enumerable!==!0)return!1}return!0}},17642:(z,l,e)=>{"use strict";var o=e(58612);z.exports=o.call(Function.call,Object.prototype.hasOwnProperty)},36808:(z,l,e)=>{var o,f;/*!
* JavaScript Cookie v2.2.0
* https://github.com/js-cookie/js-cookie
*
* Copyright 2006, 2015 Klaus Hartl & Fagner Brack
* Released under the MIT license
*/(function(u){var c=!1;if(o=u,f=typeof o=="function"?o.call(l,e,l,z):o,f!==void 0&&(z.exports=f),c=!0,z.exports=u(),c=!0,!c){var _=window.Cookies,g=window.Cookies=u();g.noConflict=function(){return window.Cookies=_,g}}})(function(){function u(){for(var _=0,g={};_<arguments.length;_++){var E=arguments[_];for(var v in E)g[v]=E[v]}return g}function c(_){function g(E,v,y){var T;if(typeof document!="undefined"){if(arguments.length>1){if(y=u({path:"/"},g.defaults,y),typeof y.expires=="number"){var w=new Date;w.setMilliseconds(w.getMilliseconds()+y.expires*864e5),y.expires=w}y.expires=y.expires?y.expires.toUTCString():"";try{T=JSON.stringify(v),/^[\{\[]/.test(T)&&(v=T)}catch(A){}_.write?v=_.write(v,E):v=encodeURIComponent(String(v)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),E=encodeURIComponent(String(E)),E=E.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),E=E.replace(/[\(\)]/g,escape);var S="";for(var O in y)y[O]&&(S+="; "+O,y[O]!==!0&&(S+="="+y[O]));return document.cookie=E+"="+v+S}E||(T={});for(var p=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,a=0;a<p.length;a++){var P=p[a].split("="),C=P.slice(1).join("=");!this.json&&C.charAt(0)==='"'&&(C=C.slice(1,-1));try{var D=P[0].replace(d,decodeURIComponent);if(C=_.read?_.read(C,D):_(C,D)||C.replace(d,decodeURIComponent),this.json)try{C=JSON.parse(C)}catch(A){}if(E===D){T=C;break}E||(T[D]=C)}catch(A){}}return T}}return g.set=g,g.get=function(E){return g.call(g,E)},g.getJSON=function(){return g.apply({json:!0},[].slice.call(arguments))},g.defaults={},g.remove=function(E,v){g(E,"",u(v,{expires:-1}))},g.withConverter=c,g}return c(function(){})})},3312:z=>{"use strict";const l={},e=l.hasOwnProperty,o=(I,N)=>{for(const F in I)e.call(I,F)&&N(F,I[F])},f=(I,N)=>(N&&o(N,(F,B)=>{I[F]=B}),I),u=(I,N)=>{const F=I.length;let B=-1;for(;++B<F;)N(I[B])},c=I=>"\\u"+("0000"+I).slice(-4),_=(I,N)=>{let F=I.toString(16);return N?F:F.toUpperCase()},g=l.toString,E=Array.isArray,v=I=>typeof Buffer=="function"&&Buffer.isBuffer(I),y=I=>g.call(I)=="[object Object]",T=I=>typeof I=="string"||g.call(I)=="[object String]",w=I=>typeof I=="number"||g.call(I)=="[object Number]",S=I=>typeof I=="function",O=I=>g.call(I)=="[object Map]",p=I=>g.call(I)=="[object Set]",d={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},a=/[\\\b\f\n\r\t]/,P=/[0-9]/,C=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,D=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,A=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,x=(I,N)=>{const F=()=>{L=G,++N.indentLevel,G=N.indent.repeat(N.indentLevel)},B={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},V=N&&N.json;V&&(B.quotes="double",B.wrap=!0),N=f(B,N),N.quotes!="single"&&N.quotes!="double"&&N.quotes!="backtick"&&(N.quotes="single");const Z=N.quotes=="double"?'"':N.quotes=="backtick"?"`":"'",Y=N.compact,ne=N.lowercaseHex;let G=N.indent.repeat(N.indentLevel),L="";const W=N.__inline1__,ie=N.__inline2__,ue=Y?"":`
`;let le,J=!0;const te=N.numbers=="binary",se=N.numbers=="octal",ee=N.numbers=="decimal",ae=N.numbers=="hexadecimal";if(V&&I&&S(I.toJSON)&&(I=I.toJSON()),!T(I)){if(O(I))return I.size==0?"new Map()":(Y||(N.__inline1__=!0,N.__inline2__=!1),"new Map("+x(Array.from(I),N)+")");if(p(I))return I.size==0?"new Set()":"new Set("+x(Array.from(I),N)+")";if(v(I))return I.length==0?"Buffer.from([])":"Buffer.from("+x(Array.from(I),N)+")";if(E(I))return le=[],N.wrap=!0,W&&(N.__inline1__=!1,N.__inline2__=!0),ie||F(),u(I,fe=>{J=!1,ie&&(N.__inline2__=!1),le.push((Y||ie?"":G)+x(fe,N))}),J?"[]":ie?"["+le.join(", ")+"]":"["+ue+le.join(","+ue)+ue+(Y?"":L)+"]";if(w(I)){if(V)return JSON.stringify(I);if(ee)return String(I);if(ae){let fe=I.toString(16);return ne||(fe=fe.toUpperCase()),"0x"+fe}if(te)return"0b"+I.toString(2);if(se)return"0o"+I.toString(8)}else return y(I)?(le=[],N.wrap=!0,F(),o(I,(fe,Ee)=>{J=!1,le.push((Y?"":G)+x(fe,N)+":"+(Y?"":" ")+x(Ee,N))}),J?"{}":"{"+ue+le.join(","+ue)+ue+(Y?"":L)+"}"):V?JSON.stringify(I)||"null":String(I)}const ce=N.escapeEverything?D:A;return le=I.replace(ce,(fe,Ee,de,_e,ve,De)=>{if(Ee){if(N.minimal)return Ee;const ye=Ee.charCodeAt(0),ze=Ee.charCodeAt(1);if(N.es6){const Be=(ye-55296)*1024+ze-56320+65536;return"\\u{"+_(Be,ne)+"}"}return c(_(ye,ne))+c(_(ze,ne))}if(de)return c(_(de.charCodeAt(0),ne));if(fe=="\0"&&!V&&!P.test(De.charAt(ve+1)))return"\\0";if(_e)return _e==Z||N.escapeEverything?"\\"+_e:_e;if(a.test(fe))return d[fe];if(N.minimal&&!C.test(fe))return fe;const Oe=_(fe.charCodeAt(0),ne);return V||Oe.length>2?c(Oe):"\\x"+("00"+Oe).slice(-2)}),Z=="`"&&(le=le.replace(/\$\{/g,"\\${")),N.isScriptContext&&(le=le.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,V?"\\u003C!--":"\\x3C!--")),N.wrap&&(le=Z+le+Z),le};x.version="3.0.2",z.exports=x},23059:(z,l)=>{function e(o){if(typeof o!="object")return o;var f,u,c=Object.prototype.toString.call(o);if(c==="[object Object]"){if(o.constructor!==Object&&typeof o.constructor=="function"){u=new o.constructor;for(f in o)o.hasOwnProperty(f)&&u[f]!==o[f]&&(u[f]=e(o[f]))}else{u={};for(f in o)f==="__proto__"?Object.defineProperty(u,f,{value:e(o[f]),configurable:!0,enumerable:!0,writable:!0}):u[f]=e(o[f])}return u}if(c==="[object Array]"){for(f=o.length,u=Array(f);f--;)u[f]=e(o[f]);return u}return c==="[object Set]"?(u=new Set,o.forEach(function(_){u.add(e(_))}),u):c==="[object Map]"?(u=new Map,o.forEach(function(_,g){u.set(e(g),e(_))}),u):c==="[object Date]"?new Date(+o):c==="[object RegExp]"?(u=new RegExp(o.source,o.flags),u.lastIndex=o.lastIndex,u):c==="[object DataView]"?new o.constructor(e(o.buffer)):c==="[object ArrayBuffer]"?o.slice(0):c.slice(-6)==="Array]"?new o.constructor(o):o}l.klona=e},25235:(z,l,e)=>{z.exports=e(8425)},87100:(z,l,e)=>{"use strict";var o;o=!0;var f=e(98661),u=E(f),c=e(8425),_=g(c);function g(a){if(a&&a.__esModule)return a;var P={};if(a!=null)for(var C in a)Object.prototype.hasOwnProperty.call(a,C)&&(P[C]=a[C]);return P.default=a,P}function E(a){return a&&a.__esModule?a:{default:a}}function v(a,P){if(!(a instanceof P))throw new TypeError("Cannot call a class as a function")}function y(a,P){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:a}function T(a,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);a.prototype=Object.create(P&&P.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(a,P):a.__proto__=P)}var w=_.options,S=w.Options;function O(a,P){for(var C=_.tokenize(a),D=[],A=0,x=0;x<C.length;x++){var I=C[x];if(I.type==="nl"&&P.nl2br){D.push(u.default.createElement("br",{key:"linkified-"+ ++A}));continue}else if(!I.isLink||!P.check(I)){D.push(I.toString());continue}var N=P.resolve(I),F=N.formatted,B=N.formattedHref,V=N.tagName,Z=N.className,Y=N.target,ne=N.attributes,G={key:"linkified-"+ ++A,href:B};if(Z&&(G.className=Z),Y&&(G.target=Y),ne)for(var L in ne)G[L]=ne[L];D.push(u.default.createElement(V,G,F))}return D}function p(a,P){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(u.default.Children.count(a.props.children)===0)return a;var D=[];u.default.Children.forEach(a.props.children,function(I){typeof I=="string"?(C=C+1,D.push.apply(D,O(I,P))):u.default.isValidElement(I)?typeof I.type=="string"&&w.contains(P.ignoreTags,I.type.toUpperCase())?D.push(I):D.push(p(I,P,++C)):D.push(I)});var A={key:"linkified-element-"+C};for(var x in a.props)A[x]=a.props[x];return u.default.cloneElement(a,A,D)}var d=function(a){T(P,a);function P(){return v(this,P),y(this,a.apply(this,arguments))}return P.prototype.render=function(){var D={key:"linkified-element-0"};for(var A in this.props)A!=="options"&&A!=="tagName"&&(D[A]=this.props[A]);var x=new S(this.props.options),I=this.props.tagName||"span",N=u.default.createElement(I,D);return p(N,x,0)},P}(u.default.Component);l.default=d},8425:(z,l,e)=>{"use strict";l.__esModule=!0,l.tokenize=l.test=l.scanner=l.parser=l.options=l.inherits=l.find=void 0;var o=e(72227),f=e(47951),u=v(f),c=e(6417),_=v(c),g=e(45788),E=v(g);function v(S){if(S&&S.__esModule)return S;var O={};if(S!=null)for(var p in S)Object.prototype.hasOwnProperty.call(S,p)&&(O[p]=S[p]);return O.default=S,O}Array.isArray||(Array.isArray=function(S){return Object.prototype.toString.call(S)==="[object Array]"});var y=function(O){return E.run(_.run(O))},T=function(O){for(var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,d=y(O),a=[],P=0;P<d.length;P++){var C=d[P];C.isLink&&(!p||C.type===p)&&a.push(C.toObject())}return a},w=function(O){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,d=y(O);return d.length===1&&d[0].isLink&&(!p||d[0].type===p)};l.find=T,l.inherits=o.inherits,l.options=u,l.parser=E,l.scanner=_,l.test=w,l.tokenize=y},45788:(z,l,e)=>{"use strict";l.__esModule=!0,l.start=l.run=l.TOKENS=l.State=void 0;var o=e(25439),f=e(23370),u=_(f),c=e(63333);function _(ve){if(ve&&ve.__esModule)return ve;var De={};if(ve!=null)for(var Oe in ve)Object.prototype.hasOwnProperty.call(ve,Oe)&&(De[Oe]=ve[Oe]);return De.default=ve,De}var g=function(De){return new o.TokenState(De)},E=g(),v=g(),y=g(),T=g(),w=g(),S=g(),O=g(),p=g(f.URL),d=g(),a=g(f.URL),P=g(f.URL),C=g(),D=g(),A=g(),x=g(),I=g(),N=g(f.URL),F=g(f.URL),B=g(f.URL),V=g(f.URL),Z=g(),Y=g(),ne=g(),G=g(),L=g(),W=g(),ie=g(f.EMAIL),ue=g(),le=g(f.EMAIL),J=g(f.MAILTOEMAIL),te=g(),se=g(),ee=g(),ae=g(),ce=g(f.NL);E.on(c.NL,ce).on(c.PROTOCOL,v).on(c.MAILTO,y).on(c.SLASH,T),v.on(c.SLASH,T),T.on(c.SLASH,w),E.on(c.TLD,S).on(c.DOMAIN,S).on(c.LOCALHOST,p).on(c.NUM,S),w.on(c.TLD,P).on(c.DOMAIN,P).on(c.NUM,P).on(c.LOCALHOST,P),S.on(c.DOT,O),L.on(c.DOT,W),O.on(c.TLD,p).on(c.DOMAIN,S).on(c.NUM,S).on(c.LOCALHOST,S),W.on(c.TLD,ie).on(c.DOMAIN,L).on(c.NUM,L).on(c.LOCALHOST,L),p.on(c.DOT,O),ie.on(c.DOT,W),p.on(c.COLON,d).on(c.SLASH,P),d.on(c.NUM,a),a.on(c.SLASH,P),ie.on(c.COLON,ue),ue.on(c.NUM,le);var fe=[c.DOMAIN,c.AT,c.LOCALHOST,c.NUM,c.PLUS,c.POUND,c.PROTOCOL,c.SLASH,c.TLD,c.UNDERSCORE,c.SYM,c.AMPERSAND],Ee=[c.COLON,c.DOT,c.QUERY,c.PUNCTUATION,c.CLOSEBRACE,c.CLOSEBRACKET,c.CLOSEANGLEBRACKET,c.CLOSEPAREN,c.OPENBRACE,c.OPENBRACKET,c.OPENANGLEBRACKET,c.OPENPAREN];P.on(c.OPENBRACE,D).on(c.OPENBRACKET,A).on(c.OPENANGLEBRACKET,x).on(c.OPENPAREN,I),C.on(c.OPENBRACE,D).on(c.OPENBRACKET,A).on(c.OPENANGLEBRACKET,x).on(c.OPENPAREN,I),D.on(c.CLOSEBRACE,P),A.on(c.CLOSEBRACKET,P),x.on(c.CLOSEANGLEBRACKET,P),I.on(c.CLOSEPAREN,P),N.on(c.CLOSEBRACE,P),F.on(c.CLOSEBRACKET,P),B.on(c.CLOSEANGLEBRACKET,P),V.on(c.CLOSEPAREN,P),Z.on(c.CLOSEBRACE,P),Y.on(c.CLOSEBRACKET,P),ne.on(c.CLOSEANGLEBRACKET,P),G.on(c.CLOSEPAREN,P),D.on(fe,N),A.on(fe,F),x.on(fe,B),I.on(fe,V),D.on(Ee,Z),A.on(Ee,Y),x.on(Ee,ne),I.on(Ee,G),N.on(fe,N),F.on(fe,F),B.on(fe,B),V.on(fe,V),N.on(Ee,N),F.on(Ee,F),B.on(Ee,B),V.on(Ee,V),Z.on(fe,N),Y.on(fe,F),ne.on(fe,B),G.on(fe,V),Z.on(Ee,Z),Y.on(Ee,Y),ne.on(Ee,ne),G.on(Ee,G),P.on(fe,P),C.on(fe,P),P.on(Ee,C),C.on(Ee,C),y.on(c.TLD,J).on(c.DOMAIN,J).on(c.NUM,J).on(c.LOCALHOST,J),J.on(fe,J).on(Ee,te),te.on(fe,J).on(Ee,te);var de=[c.DOMAIN,c.NUM,c.PLUS,c.POUND,c.QUERY,c.UNDERSCORE,c.SYM,c.AMPERSAND,c.TLD];S.on(de,se).on(c.AT,ee),p.on(de,se).on(c.AT,ee),O.on(de,se),se.on(de,se).on(c.AT,ee).on(c.DOT,ae),ae.on(de,se),ee.on(c.TLD,L).on(c.DOMAIN,L).on(c.LOCALHOST,ie);var _e=function(De){for(var Oe=De.length,ye=0,ze=[],Be=[];ye<Oe;){for(var We=E,Ke=null,Xe=null,ct=0,Se=null,Qe=-1;ye<Oe&&!(Ke=We.next(De[ye]));)Be.push(De[ye++]);for(;ye<Oe&&(Xe=Ke||We.next(De[ye]));)Ke=null,We=Xe,We.accepts()?(Qe=0,Se=We):Qe>=0&&Qe++,ye++,ct++;if(Qe<0)for(var ge=ye-ct;ge<ye;ge++)Be.push(De[ge]);else{Be.length>0&&(ze.push(new f.TEXT(Be)),Be=[]),ye-=Qe,ct-=Qe;var Fe=Se.emit();ze.push(new Fe(De.slice(ye-ct,ye)))}}return Be.length>0&&ze.push(new f.TEXT(Be)),ze};l.State=o.TokenState,l.TOKENS=u,l.run=_e,l.start=E},6417:(z,l,e)=>{"use strict";l.__esModule=!0,l.start=l.run=l.TOKENS=l.State=void 0;var o=e(25439),f=e(63333),u=c(f);function c(ie){if(ie&&ie.__esModule)return ie;var ue={};if(ie!=null)for(var le in ie)Object.prototype.hasOwnProperty.call(ie,le)&&(ue[le]=ie[le]);return ue.default=ie,ue}var _="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),g="0123456789".split(""),E="0123456789abcdefghijklmnopqrstuvwxyz".split(""),v=[" ","\f","\r","	","\v","\xA0","\u1680","\u180E"],y=[],T=function(ue){return new o.CharacterState(ue)},w=T(),S=T(f.NUM),O=T(f.DOMAIN),p=T(),d=T(f.WS);w.on("@",T(f.AT)).on(".",T(f.DOT)).on("+",T(f.PLUS)).on("#",T(f.POUND)).on("?",T(f.QUERY)).on("/",T(f.SLASH)).on("_",T(f.UNDERSCORE)).on(":",T(f.COLON)).on("{",T(f.OPENBRACE)).on("[",T(f.OPENBRACKET)).on("<",T(f.OPENANGLEBRACKET)).on("(",T(f.OPENPAREN)).on("}",T(f.CLOSEBRACE)).on("]",T(f.CLOSEBRACKET)).on(">",T(f.CLOSEANGLEBRACKET)).on(")",T(f.CLOSEPAREN)).on("&",T(f.AMPERSAND)).on([",",";","!",'"',"'"],T(f.PUNCTUATION)),w.on(`
`,T(f.NL)).on(v,d),d.on(v,d);for(var a=0;a<_.length;a++){var P=(0,o.stateify)(_[a],w,f.TLD,f.DOMAIN);y.push.apply(y,P)}var C=(0,o.stateify)("file",w,f.DOMAIN,f.DOMAIN),D=(0,o.stateify)("ftp",w,f.DOMAIN,f.DOMAIN),A=(0,o.stateify)("http",w,f.DOMAIN,f.DOMAIN),x=(0,o.stateify)("mailto",w,f.DOMAIN,f.DOMAIN);y.push.apply(y,C),y.push.apply(y,D),y.push.apply(y,A),y.push.apply(y,x);var I=C.pop(),N=D.pop(),F=A.pop(),B=x.pop(),V=T(f.DOMAIN),Z=T(f.PROTOCOL),Y=T(f.MAILTO);N.on("s",V).on(":",Z),F.on("s",V).on(":",Z),y.push(V),I.on(":",Z),V.on(":",Z),B.on(":",Y);var ne=(0,o.stateify)("localhost",w,f.LOCALHOST,f.DOMAIN);y.push.apply(y,ne),w.on(g,S),S.on("-",p).on(g,S).on(E,O),O.on("-",p).on(E,O);for(var G=0;G<y.length;G++)y[G].on("-",p).on(E,O);p.on("-",p).on(g,O).on(E,O),w.defaultTransition=T(f.SYM);var L=function(ue){for(var le=ue.replace(/[A-Z]/g,function(_e){return _e.toLowerCase()}),J=ue.length,te=[],se=0;se<J;){for(var ee=w,ae=null,ce=0,fe=null,Ee=-1;se<J&&(ae=ee.next(le[se]));)ee=ae,ee.accepts()?(Ee=0,fe=ee):Ee>=0&&Ee++,ce++,se++;if(!(Ee<0)){se-=Ee,ce-=Ee;var de=fe.emit();te.push(new de(ue.substr(se-ce,ce)))}}return te},W=w;l.State=o.CharacterState,l.TOKENS=u,l.run=L,l.start=W},25439:(z,l,e)=>{"use strict";l.__esModule=!0,l.stateify=l.TokenState=l.CharacterState=void 0;var o=e(72227);function f(){return function(E){this.j=[],this.T=E||null}}var u=f();u.prototype={defaultTransition:!1,on:function(v,y){if(v instanceof Array){for(var T=0;T<v.length;T++)this.j.push([v[T],y]);return this}return this.j.push([v,y]),this},next:function(v){for(var y=0;y<this.j.length;y++){var T=this.j[y],w=T[0],S=T[1];if(this.test(v,w))return S}return this.defaultTransition},accepts:function(){return!!this.T},test:function(v,y){return v===y},emit:function(){return this.T}};var c=(0,o.inherits)(u,f(),{test:function(v,y){return v===y||y instanceof RegExp&&y.test(v)}}),_=(0,o.inherits)(u,f(),{jump:function(v){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,T=this.next(new v(""));return T===this.defaultTransition?(T=new this.constructor(y),this.on(v,T)):y&&(T.T=y),T},test:function(v,y){return v instanceof y}});function g(E,v,y,T){for(var w=0,S=E.length,O=v,p=[],d=void 0;w<S&&(d=O.next(E[w]));)O=d,w++;if(w>=S)return[];for(;w<S-1;)d=new c(T),p.push(d),O.on(E[w],d),O=d,w++;return d=new c(y),p.push(d),O.on(E[S-1],d),p}l.CharacterState=c,l.TokenState=_,l.stateify=g},9770:(z,l)=>{"use strict";l.__esModule=!0;function e(){return function(o){o&&(this.v=o)}}l.createTokenClass=e},23370:(z,l,e)=>{"use strict";l.__esModule=!0,l.URL=l.TEXT=l.NL=l.EMAIL=l.MAILTOEMAIL=l.Base=void 0;var o=e(9770),f=e(72227),u=e(63333);function c(w){return w instanceof u.DOMAIN||w instanceof u.TLD}var _=(0,o.createTokenClass)();_.prototype={type:"token",isLink:!1,toString:function(){for(var S=[],O=0;O<this.v.length;O++)S.push(this.v[O].toString());return S.join("")},toHref:function(){return this.toString()},toObject:function(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(S)}}};var g=(0,f.inherits)(_,(0,o.createTokenClass)(),{type:"email",isLink:!0}),E=(0,f.inherits)(_,(0,o.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),v=(0,f.inherits)(_,(0,o.createTokenClass)(),{type:"text"}),y=(0,f.inherits)(_,(0,o.createTokenClass)(),{type:"nl"}),T=(0,f.inherits)(_,(0,o.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"http",O=!1,p=!1,d=this.v,a=[],P=0;d[P]instanceof u.PROTOCOL;)O=!0,a.push(d[P].toString().toLowerCase()),P++;for(;d[P]instanceof u.SLASH;)p=!0,a.push(d[P].toString()),P++;for(;c(d[P]);)a.push(d[P].toString().toLowerCase()),P++;for(;P<d.length;P++)a.push(d[P].toString());return a=a.join(""),O||p||(a=S+"://"+a),a},hasProtocol:function(){return this.v[0]instanceof u.PROTOCOL}});l.Base=_,l.MAILTOEMAIL=g,l.EMAIL=E,l.NL=y,l.TEXT=v,l.URL=T},63333:(z,l,e)=>{"use strict";l.__esModule=!0,l.AMPERSAND=l.CLOSEPAREN=l.CLOSEANGLEBRACKET=l.CLOSEBRACKET=l.CLOSEBRACE=l.OPENPAREN=l.OPENANGLEBRACKET=l.OPENBRACKET=l.OPENBRACE=l.WS=l.TLD=l.SYM=l.UNDERSCORE=l.SLASH=l.MAILTO=l.PROTOCOL=l.QUERY=l.POUND=l.PLUS=l.NUM=l.NL=l.LOCALHOST=l.PUNCTUATION=l.DOT=l.COLON=l.AT=l.DOMAIN=l.Base=void 0;var o=e(9770),f=e(72227),u=(0,o.createTokenClass)();u.prototype={toString:function(){return this.v+""}};function c(W){var ie=W?{v:W}:{};return(0,f.inherits)(u,(0,o.createTokenClass)(),ie)}var _=c(),g=c("@"),E=c(":"),v=c("."),y=c(),T=c(),w=c(`
`),S=c(),O=c("+"),p=c("#"),d=c(),a=c("mailto:"),P=c("?"),C=c("/"),D=c("_"),A=c(),x=c(),I=c(),N=c("{"),F=c("["),B=c("<"),V=c("("),Z=c("}"),Y=c("]"),ne=c(">"),G=c(")"),L=c("&");l.Base=u,l.DOMAIN=_,l.AT=g,l.COLON=E,l.DOT=v,l.PUNCTUATION=y,l.LOCALHOST=T,l.NL=w,l.NUM=S,l.PLUS=O,l.POUND=p,l.QUERY=P,l.PROTOCOL=d,l.MAILTO=a,l.SLASH=C,l.UNDERSCORE=D,l.SYM=A,l.TLD=x,l.WS=I,l.OPENBRACE=N,l.OPENBRACKET=F,l.OPENANGLEBRACKET=B,l.OPENPAREN=V,l.CLOSEBRACE=Z,l.CLOSEBRACKET=Y,l.CLOSEANGLEBRACKET=ne,l.CLOSEPAREN=G,l.AMPERSAND=L},72227:(z,l)=>{"use strict";l.__esModule=!0,l.inherits=e;function e(o,f){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=Object.create(o.prototype);for(var _ in u)c[_]=u[_];return c.constructor=f,f.prototype=c,f}},47951:(z,l)=>{"use strict";l.__esModule=!0;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},o={defaultProtocol:"http",events:null,format:c,formatHref:c,nl2br:!1,tagName:"a",target:_,validate:!0,ignoreTags:[],attributes:null,className:"linkified"};l.defaults=o,l.Options=f,l.contains=u;function f(g){g=g||{},this.defaultProtocol=g.hasOwnProperty("defaultProtocol")?g.defaultProtocol:o.defaultProtocol,this.events=g.hasOwnProperty("events")?g.events:o.events,this.format=g.hasOwnProperty("format")?g.format:o.format,this.formatHref=g.hasOwnProperty("formatHref")?g.formatHref:o.formatHref,this.nl2br=g.hasOwnProperty("nl2br")?g.nl2br:o.nl2br,this.tagName=g.hasOwnProperty("tagName")?g.tagName:o.tagName,this.target=g.hasOwnProperty("target")?g.target:o.target,this.validate=g.hasOwnProperty("validate")?g.validate:o.validate,this.ignoreTags=[],this.attributes=g.attributes||g.linkAttributes||o.attributes,this.className=g.hasOwnProperty("className")?g.className:g.linkClass||o.className;for(var E=g.hasOwnProperty("ignoreTags")?g.ignoreTags:o.ignoreTags,v=0;v<E.length;v++)this.ignoreTags.push(E[v].toUpperCase())}f.prototype={resolve:function(E){var v=E.toHref(this.defaultProtocol);return{formatted:this.get("format",E.toString(),E),formattedHref:this.get("formatHref",v,E),tagName:this.get("tagName",v,E),className:this.get("className",v,E),target:this.get("target",v,E),events:this.getObject("events",v,E),attributes:this.getObject("attributes",v,E)}},check:function(E){return this.get("validate",E.toString(),E)},get:function(E,v,y){var T=void 0,w=this[E];if(!w)return w;switch(typeof w=="undefined"?"undefined":e(w)){case"function":return w(v,y.type);case"object":return T=w.hasOwnProperty(y.type)?w[y.type]:o[E],typeof T=="function"?T(v,y.type):T}return w},getObject:function(E,v,y){var T=this[E];return typeof T=="function"?T(v,y.type):T}};function u(g,E){for(var v=0;v<g.length;v++)if(g[v]===E)return!0;return!1}function c(g){return g}function _(g,E){return E==="url"?"_blank":null}},28175:(z,l,e)=>{z.exports=e(87100).default},18552:(z,l,e)=>{var o=e(10852),f=e(55639),u=o(f,"DataView");z.exports=u},1989:(z,l,e)=>{var o=e(51789),f=e(80401),u=e(57667),c=e(21327),_=e(81866);function g(E){var v=-1,y=E==null?0:E.length;for(this.clear();++v<y;){var T=E[v];this.set(T[0],T[1])}}g.prototype.clear=o,g.prototype.delete=f,g.prototype.get=u,g.prototype.has=c,g.prototype.set=_,z.exports=g},38407:(z,l,e)=>{var o=e(27040),f=e(14125),u=e(82117),c=e(67518),_=e(54705);function g(E){var v=-1,y=E==null?0:E.length;for(this.clear();++v<y;){var T=E[v];this.set(T[0],T[1])}}g.prototype.clear=o,g.prototype.delete=f,g.prototype.get=u,g.prototype.has=c,g.prototype.set=_,z.exports=g},57071:(z,l,e)=>{var o=e(10852),f=e(55639),u=o(f,"Map");z.exports=u},83369:(z,l,e)=>{var o=e(24785),f=e(11285),u=e(96e3),c=e(49916),_=e(95265);function g(E){var v=-1,y=E==null?0:E.length;for(this.clear();++v<y;){var T=E[v];this.set(T[0],T[1])}}g.prototype.clear=o,g.prototype.delete=f,g.prototype.get=u,g.prototype.has=c,g.prototype.set=_,z.exports=g},53818:(z,l,e)=>{var o=e(10852),f=e(55639),u=o(f,"Promise");z.exports=u},58525:(z,l,e)=>{var o=e(10852),f=e(55639),u=o(f,"Set");z.exports=u},88668:(z,l,e)=>{var o=e(83369),f=e(90619),u=e(72385);function c(_){var g=-1,E=_==null?0:_.length;for(this.__data__=new o;++g<E;)this.add(_[g])}c.prototype.add=c.prototype.push=f,c.prototype.has=u,z.exports=c},46384:(z,l,e)=>{var o=e(38407),f=e(37465),u=e(63779),c=e(67599),_=e(44758),g=e(34309);function E(v){var y=this.__data__=new o(v);this.size=y.size}E.prototype.clear=f,E.prototype.delete=u,E.prototype.get=c,E.prototype.has=_,E.prototype.set=g,z.exports=E},62705:(z,l,e)=>{var o=e(55639),f=o.Symbol;z.exports=f},11149:(z,l,e)=>{var o=e(55639),f=o.Uint8Array;z.exports=f},70577:(z,l,e)=>{var o=e(10852),f=e(55639),u=o(f,"WeakMap");z.exports=u},96874:z=>{function l(e,o,f){switch(f.length){case 0:return e.call(o);case 1:return e.call(o,f[0]);case 2:return e.call(o,f[0],f[1]);case 3:return e.call(o,f[0],f[1],f[2])}return e.apply(o,f)}z.exports=l},44174:z=>{function l(e,o,f,u){for(var c=-1,_=e==null?0:e.length;++c<_;){var g=e[c];o(u,g,f(g),e)}return u}z.exports=l},34963:z=>{function l(e,o){for(var f=-1,u=e==null?0:e.length,c=0,_=[];++f<u;){var g=e[f];o(g,f,e)&&(_[c++]=g)}return _}z.exports=l},47443:(z,l,e)=>{var o=e(42118);function f(u,c){var _=u==null?0:u.length;return!!_&&o(u,c,0)>-1}z.exports=f},1196:z=>{function l(e,o,f){for(var u=-1,c=e==null?0:e.length;++u<c;)if(f(o,e[u]))return!0;return!1}z.exports=l},14636:(z,l,e)=>{var o=e(22545),f=e(35694),u=e(1469),c=e(44144),_=e(65776),g=e(36719),E=Object.prototype,v=E.hasOwnProperty;function y(T,w){var S=u(T),O=!S&&f(T),p=!S&&!O&&c(T),d=!S&&!O&&!p&&g(T),a=S||O||p||d,P=a?o(T.length,String):[],C=P.length;for(var D in T)(w||v.call(T,D))&&!(a&&(D=="length"||p&&(D=="offset"||D=="parent")||d&&(D=="buffer"||D=="byteLength"||D=="byteOffset")||_(D,C)))&&P.push(D);return P}z.exports=y},29932:z=>{function l(e,o){for(var f=-1,u=e==null?0:e.length,c=Array(u);++f<u;)c[f]=o(e[f],f,e);return c}z.exports=l},62488:z=>{function l(e,o){for(var f=-1,u=o.length,c=e.length;++f<u;)e[c+f]=o[f];return e}z.exports=l},82908:z=>{function l(e,o){for(var f=-1,u=e==null?0:e.length;++f<u;)if(o(e[f],f,e))return!0;return!1}z.exports=l},34865:(z,l,e)=>{var o=e(89465),f=e(77813),u=Object.prototype,c=u.hasOwnProperty;function _(g,E,v){var y=g[E];(!(c.call(g,E)&&f(y,v))||v===void 0&&!(E in g))&&o(g,E,v)}z.exports=_},18470:(z,l,e)=>{var o=e(77813);function f(u,c){for(var _=u.length;_--;)if(o(u[_][0],c))return _;return-1}z.exports=f},81119:(z,l,e)=>{var o=e(89881);function f(u,c,_,g){return o(u,function(E,v,y){c(g,E,_(E),y)}),g}z.exports=f},89465:(z,l,e)=>{var o=e(38777);function f(u,c,_){c=="__proto__"&&o?o(u,c,{configurable:!0,enumerable:!0,value:_,writable:!0}):u[c]=_}z.exports=f},20731:(z,l,e)=>{var o=e(88668),f=e(47443),u=e(1196),c=e(29932),_=e(7518),g=e(74757),E=200;function v(y,T,w,S){var O=-1,p=f,d=!0,a=y.length,P=[],C=T.length;if(!a)return P;w&&(T=c(T,_(w))),S?(p=u,d=!1):T.length>=E&&(p=g,d=!1,T=new o(T));e:for(;++O<a;){var D=y[O],A=w==null?D:w(D);if(D=S||D!==0?D:0,d&&A===A){for(var x=C;x--;)if(T[x]===A)continue e;P.push(D)}else p(T,A,S)||P.push(D)}return P}z.exports=v},89881:(z,l,e)=>{var o=e(47816),f=e(99291),u=f(o);z.exports=u},56029:(z,l,e)=>{var o=e(33448);function f(u,c,_){for(var g=-1,E=u.length;++g<E;){var v=u[g],y=c(v);if(y!=null&&(T===void 0?y===y&&!o(y):_(y,T)))var T=y,w=v}return w}z.exports=f},41848:z=>{function l(e,o,f,u){for(var c=e.length,_=f+(u?1:-1);u?_--:++_<c;)if(o(e[_],_,e))return _;return-1}z.exports=l},21078:(z,l,e)=>{var o=e(62488),f=e(37285);function u(c,_,g,E,v){var y=-1,T=c.length;for(g||(g=f),v||(v=[]);++y<T;){var w=c[y];_>0&&g(w)?_>1?u(w,_-1,g,E,v):o(v,w):E||(v[v.length]=w)}return v}z.exports=u},28483:(z,l,e)=>{var o=e(25063),f=o();z.exports=f},47816:(z,l,e)=>{var o=e(28483),f=e(3674);function u(c,_){return c&&o(c,_,f)}z.exports=u},97786:(z,l,e)=>{var o=e(71811),f=e(40327);function u(c,_){_=o(_,c);for(var g=0,E=_.length;c!=null&&g<E;)c=c[f(_[g++])];return g&&g==E?c:void 0}z.exports=u},68866:(z,l,e)=>{var o=e(62488),f=e(1469);function u(c,_,g){var E=_(c);return f(c)?E:o(E,g(c))}z.exports=u},44239:(z,l,e)=>{var o=e(62705),f=e(89607),u=e(2333),c="[object Null]",_="[object Undefined]",g=o?o.toStringTag:void 0;function E(v){return v==null?v===void 0?_:c:g&&g in Object(v)?f(v):u(v)}z.exports=E},53325:z=>{function l(e,o){return e>o}z.exports=l},13:z=>{function l(e,o){return e!=null&&o in Object(e)}z.exports=l},42118:(z,l,e)=>{var o=e(41848),f=e(62722),u=e(42351);function c(_,g,E){return g===g?u(_,g,E):o(_,f,E)}z.exports=c},9454:(z,l,e)=>{var o=e(44239),f=e(37005),u="[object Arguments]";function c(_){return f(_)&&o(_)==u}z.exports=c},90939:(z,l,e)=>{var o=e(2492),f=e(37005);function u(c,_,g,E,v){return c===_?!0:c==null||_==null||!f(c)&&!f(_)?c!==c&&_!==_:o(c,_,g,E,u,v)}z.exports=u},2492:(z,l,e)=>{var o=e(46384),f=e(67114),u=e(18351),c=e(16096),_=e(64160),g=e(1469),E=e(44144),v=e(36719),y=1,T="[object Arguments]",w="[object Array]",S="[object Object]",O=Object.prototype,p=O.hasOwnProperty;function d(a,P,C,D,A,x){var I=g(a),N=g(P),F=I?w:_(a),B=N?w:_(P);F=F==T?S:F,B=B==T?S:B;var V=F==S,Z=B==S,Y=F==B;if(Y&&E(a)){if(!E(P))return!1;I=!0,V=!1}if(Y&&!V)return x||(x=new o),I||v(a)?f(a,P,C,D,A,x):u(a,P,F,C,D,A,x);if(!(C&y)){var ne=V&&p.call(a,"__wrapped__"),G=Z&&p.call(P,"__wrapped__");if(ne||G){var L=ne?a.value():a,W=G?P.value():P;return x||(x=new o),A(L,W,C,D,x)}}return Y?(x||(x=new o),c(a,P,C,D,A,x)):!1}z.exports=d},2958:(z,l,e)=>{var o=e(46384),f=e(90939),u=1,c=2;function _(g,E,v,y){var T=v.length,w=T,S=!y;if(g==null)return!w;for(g=Object(g);T--;){var O=v[T];if(S&&O[2]?O[1]!==g[O[0]]:!(O[0]in g))return!1}for(;++T<w;){O=v[T];var p=O[0],d=g[p],a=O[1];if(S&&O[2]){if(d===void 0&&!(p in g))return!1}else{var P=new o;if(y)var C=y(d,a,p,g,E,P);if(!(C===void 0?f(a,d,u|c,y,P):C))return!1}}return!0}z.exports=_},62722:z=>{function l(e){return e!==e}z.exports=l},28458:(z,l,e)=>{var o=e(23560),f=e(15346),u=e(13218),c=e(80346),_=/[\\^$.*+?()[\]{}|]/g,g=/^\[object .+?Constructor\]$/,E=Function.prototype,v=Object.prototype,y=E.toString,T=v.hasOwnProperty,w=RegExp("^"+y.call(T).replace(_,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function S(O){if(!u(O)||f(O))return!1;var p=o(O)?w:g;return p.test(c(O))}z.exports=S},38749:(z,l,e)=>{var o=e(44239),f=e(41780),u=e(37005),c="[object Arguments]",_="[object Array]",g="[object Boolean]",E="[object Date]",v="[object Error]",y="[object Function]",T="[object Map]",w="[object Number]",S="[object Object]",O="[object RegExp]",p="[object Set]",d="[object String]",a="[object WeakMap]",P="[object ArrayBuffer]",C="[object DataView]",D="[object Float32Array]",A="[object Float64Array]",x="[object Int8Array]",I="[object Int16Array]",N="[object Int32Array]",F="[object Uint8Array]",B="[object Uint8ClampedArray]",V="[object Uint16Array]",Z="[object Uint32Array]",Y={};Y[D]=Y[A]=Y[x]=Y[I]=Y[N]=Y[F]=Y[B]=Y[V]=Y[Z]=!0,Y[c]=Y[_]=Y[P]=Y[g]=Y[C]=Y[E]=Y[v]=Y[y]=Y[T]=Y[w]=Y[S]=Y[O]=Y[p]=Y[d]=Y[a]=!1;function ne(G){return u(G)&&f(G.length)&&!!Y[o(G)]}z.exports=ne},67206:(z,l,e)=>{var o=e(91573),f=e(16432),u=e(6557),c=e(1469),_=e(39601);function g(E){return typeof E=="function"?E:E==null?u:typeof E=="object"?c(E)?f(E[0],E[1]):o(E):_(E)}z.exports=g},280:(z,l,e)=>{var o=e(25726),f=e(86916),u=Object.prototype,c=u.hasOwnProperty;function _(g){if(!o(g))return f(g);var E=[];for(var v in Object(g))c.call(g,v)&&v!="constructor"&&E.push(v);return E}z.exports=_},69199:(z,l,e)=>{var o=e(89881),f=e(98612);function u(c,_){var g=-1,E=f(c)?Array(c.length):[];return o(c,function(v,y,T){E[++g]=_(v,y,T)}),E}z.exports=u},91573:(z,l,e)=>{var o=e(2958),f=e(1499),u=e(42634);function c(_){var g=f(_);return g.length==1&&g[0][2]?u(g[0][0],g[0][1]):function(E){return E===_||o(E,_,g)}}z.exports=c},16432:(z,l,e)=>{var o=e(90939),f=e(27361),u=e(79095),c=e(15403),_=e(89162),g=e(42634),E=e(40327),v=1,y=2;function T(w,S){return c(w)&&_(S)?g(E(w),S):function(O){var p=f(O,w);return p===void 0&&p===S?u(O,w):o(S,p,v|y)}}z.exports=T},82689:(z,l,e)=>{var o=e(29932),f=e(97786),u=e(67206),c=e(69199),_=e(71131),g=e(7518),E=e(85022),v=e(6557),y=e(1469);function T(w,S,O){S.length?S=o(S,function(a){return y(a)?function(P){return f(P,a.length===1?a[0]:a)}:a}):S=[v];var p=-1;S=o(S,g(u));var d=c(w,function(a,P,C){var D=o(S,function(A){return A(a)});return{criteria:D,index:++p,value:a}});return _(d,function(a,P){return E(a,P,O)})}z.exports=T},25970:(z,l,e)=>{var o=e(63012),f=e(79095);function u(c,_){return o(c,_,function(g,E){return f(c,E)})}z.exports=u},63012:(z,l,e)=>{var o=e(97786),f=e(10611),u=e(71811);function c(_,g,E){for(var v=-1,y=g.length,T={};++v<y;){var w=g[v],S=o(_,w);E(S,w)&&f(T,u(w,_),S)}return T}z.exports=c},40371:z=>{function l(e){return function(o){return o==null?void 0:o[e]}}z.exports=l},79152:(z,l,e)=>{var o=e(97786);function f(u){return function(c){return o(c,u)}}z.exports=f},5976:(z,l,e)=>{var o=e(6557),f=e(45357),u=e(30061);function c(_,g){return u(f(_,g,o),_+"")}z.exports=c},10611:(z,l,e)=>{var o=e(34865),f=e(71811),u=e(65776),c=e(13218),_=e(40327);function g(E,v,y,T){if(!c(E))return E;v=f(v,E);for(var w=-1,S=v.length,O=S-1,p=E;p!=null&&++w<S;){var d=_(v[w]),a=y;if(d==="__proto__"||d==="constructor"||d==="prototype")return E;if(w!=O){var P=p[d];a=T?T(P,d,p):void 0,a===void 0&&(a=c(P)?P:u(v[w+1])?[]:{})}o(p,d,a),p=p[d]}return E}z.exports=g},56560:(z,l,e)=>{var o=e(75703),f=e(38777),u=e(6557),c=f?function(_,g){return f(_,"toString",{configurable:!0,enumerable:!1,value:o(g),writable:!0})}:u;z.exports=c},14259:z=>{function l(e,o,f){var u=-1,c=e.length;o<0&&(o=-o>c?0:c+o),f=f>c?c:f,f<0&&(f+=c),c=o>f?0:f-o>>>0,o>>>=0;for(var _=Array(c);++u<c;)_[u]=e[u+o];return _}z.exports=l},71131:z=>{function l(e,o){var f=e.length;for(e.sort(o);f--;)e[f]=e[f].value;return e}z.exports=l},67762:z=>{function l(e,o){for(var f,u=-1,c=e.length;++u<c;){var _=o(e[u]);_!==void 0&&(f=f===void 0?_:f+_)}return f}z.exports=l},22545:z=>{function l(e,o){for(var f=-1,u=Array(e);++f<e;)u[f]=o(f);return u}z.exports=l},80531:(z,l,e)=>{var o=e(62705),f=e(29932),u=e(1469),c=e(33448),_=1/0,g=o?o.prototype:void 0,E=g?g.toString:void 0;function v(y){if(typeof y=="string")return y;if(u(y))return f(y,v)+"";if(c(y))return E?E.call(y):"";var T=y+"";return T=="0"&&1/y==-_?"-0":T}z.exports=v},27561:(z,l,e)=>{var o=e(67990),f=/^\s+/;function u(c){return c&&c.slice(0,o(c)+1).replace(f,"")}z.exports=u},7518:z=>{function l(e){return function(o){return e(o)}}z.exports=l},45652:(z,l,e)=>{var o=e(88668),f=e(47443),u=e(1196),c=e(74757),_=e(23593),g=e(21814),E=200;function v(y,T,w){var S=-1,O=f,p=y.length,d=!0,a=[],P=a;if(w)d=!1,O=u;else if(p>=E){var C=T?null:_(y);if(C)return g(C);d=!1,O=c,P=new o}else P=T?[]:a;e:for(;++S<p;){var D=y[S],A=T?T(D):D;if(D=w||D!==0?D:0,d&&A===A){for(var x=P.length;x--;)if(P[x]===A)continue e;T&&P.push(A),a.push(D)}else O(P,A,w)||(P!==a&&P.push(A),a.push(D))}return a}z.exports=v},74757:z=>{function l(e,o){return e.has(o)}z.exports=l},54290:(z,l,e)=>{var o=e(6557);function f(u){return typeof u=="function"?u:o}z.exports=f},71811:(z,l,e)=>{var o=e(1469),f=e(15403),u=e(55514),c=e(79833);function _(g,E){return o(g)?g:f(g,E)?[g]:u(c(g))}z.exports=_},26393:(z,l,e)=>{var o=e(33448);function f(u,c){if(u!==c){var _=u!==void 0,g=u===null,E=u===u,v=o(u),y=c!==void 0,T=c===null,w=c===c,S=o(c);if(!T&&!S&&!v&&u>c||v&&y&&w&&!T&&!S||g&&y&&w||!_&&w||!E)return 1;if(!g&&!v&&!S&&u<c||S&&_&&E&&!g&&!v||T&&_&&E||!y&&E||!w)return-1}return 0}z.exports=f},85022:(z,l,e)=>{var o=e(26393);function f(u,c,_){for(var g=-1,E=u.criteria,v=c.criteria,y=E.length,T=_.length;++g<y;){var w=o(E[g],v[g]);if(w){if(g>=T)return w;var S=_[g];return w*(S=="desc"?-1:1)}}return u.index-c.index}z.exports=f},14429:(z,l,e)=>{var o=e(55639),f=o["__core-js_shared__"];z.exports=f},55189:(z,l,e)=>{var o=e(44174),f=e(81119),u=e(67206),c=e(1469);function _(g,E){return function(v,y){var T=c(v)?o:f,w=E?E():{};return T(v,g,u(y,2),w)}}z.exports=_},99291:(z,l,e)=>{var o=e(98612);function f(u,c){return function(_,g){if(_==null)return _;if(!o(_))return u(_,g);for(var E=_.length,v=c?E:-1,y=Object(_);(c?v--:++v<E)&&g(y[v],v,y)!==!1;);return _}}z.exports=f},25063:z=>{function l(e){return function(o,f,u){for(var c=-1,_=Object(o),g=u(o),E=g.length;E--;){var v=g[e?E:++c];if(f(_[v],v,_)===!1)break}return o}}z.exports=l},23593:(z,l,e)=>{var o=e(58525),f=e(50308),u=e(21814),c=1/0,_=o&&1/u(new o([,-0]))[1]==c?function(g){return new o(g)}:f;z.exports=_},38777:(z,l,e)=>{var o=e(10852),f=function(){try{var u=o(Object,"defineProperty");return u({},"",{}),u}catch(c){}}();z.exports=f},67114:(z,l,e)=>{var o=e(88668),f=e(82908),u=e(74757),c=1,_=2;function g(E,v,y,T,w,S){var O=y&c,p=E.length,d=v.length;if(p!=d&&!(O&&d>p))return!1;var a=S.get(E),P=S.get(v);if(a&&P)return a==v&&P==E;var C=-1,D=!0,A=y&_?new o:void 0;for(S.set(E,v),S.set(v,E);++C<p;){var x=E[C],I=v[C];if(T)var N=O?T(I,x,C,v,E,S):T(x,I,C,E,v,S);if(N!==void 0){if(N)continue;D=!1;break}if(A){if(!f(v,function(F,B){if(!u(A,B)&&(x===F||w(x,F,y,T,S)))return A.push(B)})){D=!1;break}}else if(!(x===I||w(x,I,y,T,S))){D=!1;break}}return S.delete(E),S.delete(v),D}z.exports=g},18351:(z,l,e)=>{var o=e(62705),f=e(11149),u=e(77813),c=e(67114),_=e(68776),g=e(21814),E=1,v=2,y="[object Boolean]",T="[object Date]",w="[object Error]",S="[object Map]",O="[object Number]",p="[object RegExp]",d="[object Set]",a="[object String]",P="[object Symbol]",C="[object ArrayBuffer]",D="[object DataView]",A=o?o.prototype:void 0,x=A?A.valueOf:void 0;function I(N,F,B,V,Z,Y,ne){switch(B){case D:if(N.byteLength!=F.byteLength||N.byteOffset!=F.byteOffset)return!1;N=N.buffer,F=F.buffer;case C:return!(N.byteLength!=F.byteLength||!Y(new f(N),new f(F)));case y:case T:case O:return u(+N,+F);case w:return N.name==F.name&&N.message==F.message;case p:case a:return N==F+"";case S:var G=_;case d:var L=V&E;if(G||(G=g),N.size!=F.size&&!L)return!1;var W=ne.get(N);if(W)return W==F;V|=v,ne.set(N,F);var ie=c(G(N),G(F),V,Z,Y,ne);return ne.delete(N),ie;case P:if(x)return x.call(N)==x.call(F)}return!1}z.exports=I},16096:(z,l,e)=>{var o=e(58234),f=1,u=Object.prototype,c=u.hasOwnProperty;function _(g,E,v,y,T,w){var S=v&f,O=o(g),p=O.length,d=o(E),a=d.length;if(p!=a&&!S)return!1;for(var P=p;P--;){var C=O[P];if(!(S?C in E:c.call(E,C)))return!1}var D=w.get(g),A=w.get(E);if(D&&A)return D==E&&A==g;var x=!0;w.set(g,E),w.set(E,g);for(var I=S;++P<p;){C=O[P];var N=g[C],F=E[C];if(y)var B=S?y(F,N,C,E,g,w):y(N,F,C,g,E,w);if(!(B===void 0?N===F||T(N,F,v,y,w):B)){x=!1;break}I||(I=C=="constructor")}if(x&&!I){var V=g.constructor,Z=E.constructor;V!=Z&&"constructor"in g&&"constructor"in E&&!(typeof V=="function"&&V instanceof V&&typeof Z=="function"&&Z instanceof Z)&&(x=!1)}return w.delete(g),w.delete(E),x}z.exports=_},99021:(z,l,e)=>{var o=e(85564),f=e(45357),u=e(30061);function c(_){return u(f(_,void 0,o),_+"")}z.exports=c},31957:(z,l,e)=>{var o=typeof e.g=="object"&&e.g&&e.g.Object===Object&&e.g;z.exports=o},58234:(z,l,e)=>{var o=e(68866),f=e(99551),u=e(3674);function c(_){return o(_,u,f)}z.exports=c},45050:(z,l,e)=>{var o=e(37019);function f(u,c){var _=u.__data__;return o(c)?_[typeof c=="string"?"string":"hash"]:_.map}z.exports=f},1499:(z,l,e)=>{var o=e(89162),f=e(3674);function u(c){for(var _=f(c),g=_.length;g--;){var E=_[g],v=c[E];_[g]=[E,v,o(v)]}return _}z.exports=u},10852:(z,l,e)=>{var o=e(28458),f=e(47801);function u(c,_){var g=f(c,_);return o(g)?g:void 0}z.exports=u},89607:(z,l,e)=>{var o=e(62705),f=Object.prototype,u=f.hasOwnProperty,c=f.toString,_=o?o.toStringTag:void 0;function g(E){var v=u.call(E,_),y=E[_];try{E[_]=void 0;var T=!0}catch(S){}var w=c.call(E);return T&&(v?E[_]=y:delete E[_]),w}z.exports=g},99551:(z,l,e)=>{var o=e(34963),f=e(70479),u=Object.prototype,c=u.propertyIsEnumerable,_=Object.getOwnPropertySymbols,g=_?function(E){return E==null?[]:(E=Object(E),o(_(E),function(v){return c.call(E,v)}))}:f;z.exports=g},64160:(z,l,e)=>{var o=e(18552),f=e(57071),u=e(53818),c=e(58525),_=e(70577),g=e(44239),E=e(80346),v="[object Map]",y="[object Object]",T="[object Promise]",w="[object Set]",S="[object WeakMap]",O="[object DataView]",p=E(o),d=E(f),a=E(u),P=E(c),C=E(_),D=g;(o&&D(new o(new ArrayBuffer(1)))!=O||f&&D(new f)!=v||u&&D(u.resolve())!=T||c&&D(new c)!=w||_&&D(new _)!=S)&&(D=function(A){var x=g(A),I=x==y?A.constructor:void 0,N=I?E(I):"";if(N)switch(N){case p:return O;case d:return v;case a:return T;case P:return w;case C:return S}return x}),z.exports=D},47801:z=>{function l(e,o){return e==null?void 0:e[o]}z.exports=l},222:(z,l,e)=>{var o=e(71811),f=e(35694),u=e(1469),c=e(65776),_=e(41780),g=e(40327);function E(v,y,T){y=o(y,v);for(var w=-1,S=y.length,O=!1;++w<S;){var p=g(y[w]);if(!(O=v!=null&&T(v,p)))break;v=v[p]}return O||++w!=S?O:(S=v==null?0:v.length,!!S&&_(S)&&c(p,S)&&(u(v)||f(v)))}z.exports=E},51789:(z,l,e)=>{var o=e(94536);function f(){this.__data__=o?o(null):{},this.size=0}z.exports=f},80401:z=>{function l(e){var o=this.has(e)&&delete this.__data__[e];return this.size-=o?1:0,o}z.exports=l},57667:(z,l,e)=>{var o=e(94536),f="__lodash_hash_undefined__",u=Object.prototype,c=u.hasOwnProperty;function _(g){var E=this.__data__;if(o){var v=E[g];return v===f?void 0:v}return c.call(E,g)?E[g]:void 0}z.exports=_},21327:(z,l,e)=>{var o=e(94536),f=Object.prototype,u=f.hasOwnProperty;function c(_){var g=this.__data__;return o?g[_]!==void 0:u.call(g,_)}z.exports=c},81866:(z,l,e)=>{var o=e(94536),f="__lodash_hash_undefined__";function u(c,_){var g=this.__data__;return this.size+=this.has(c)?0:1,g[c]=o&&_===void 0?f:_,this}z.exports=u},37285:(z,l,e)=>{var o=e(62705),f=e(35694),u=e(1469),c=o?o.isConcatSpreadable:void 0;function _(g){return u(g)||f(g)||!!(c&&g&&g[c])}z.exports=_},65776:z=>{var l=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function o(f,u){var c=typeof f;return u=u==null?l:u,!!u&&(c=="number"||c!="symbol"&&e.test(f))&&f>-1&&f%1==0&&f<u}z.exports=o},16612:(z,l,e)=>{var o=e(77813),f=e(98612),u=e(65776),c=e(13218);function _(g,E,v){if(!c(v))return!1;var y=typeof E;return(y=="number"?f(v)&&u(E,v.length):y=="string"&&E in v)?o(v[E],g):!1}z.exports=_},15403:(z,l,e)=>{var o=e(1469),f=e(33448),u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/;function _(g,E){if(o(g))return!1;var v=typeof g;return v=="number"||v=="symbol"||v=="boolean"||g==null||f(g)?!0:c.test(g)||!u.test(g)||E!=null&&g in Object(E)}z.exports=_},37019:z=>{function l(e){var o=typeof e;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?e!=="__proto__":e===null}z.exports=l},15346:(z,l,e)=>{var o=e(14429),f=function(){var c=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||"");return c?"Symbol(src)_1."+c:""}();function u(c){return!!f&&f in c}z.exports=u},25726:z=>{var l=Object.prototype;function e(o){var f=o&&o.constructor,u=typeof f=="function"&&f.prototype||l;return o===u}z.exports=e},89162:(z,l,e)=>{var o=e(13218);function f(u){return u===u&&!o(u)}z.exports=f},27040:z=>{function l(){this.__data__=[],this.size=0}z.exports=l},14125:(z,l,e)=>{var o=e(18470),f=Array.prototype,u=f.splice;function c(_){var g=this.__data__,E=o(g,_);if(E<0)return!1;var v=g.length-1;return E==v?g.pop():u.call(g,E,1),--this.size,!0}z.exports=c},82117:(z,l,e)=>{var o=e(18470);function f(u){var c=this.__data__,_=o(c,u);return _<0?void 0:c[_][1]}z.exports=f},67518:(z,l,e)=>{var o=e(18470);function f(u){return o(this.__data__,u)>-1}z.exports=f},54705:(z,l,e)=>{var o=e(18470);function f(u,c){var _=this.__data__,g=o(_,u);return g<0?(++this.size,_.push([u,c])):_[g][1]=c,this}z.exports=f},24785:(z,l,e)=>{var o=e(1989),f=e(38407),u=e(57071);function c(){this.size=0,this.__data__={hash:new o,map:new(u||f),string:new o}}z.exports=c},11285:(z,l,e)=>{var o=e(45050);function f(u){var c=o(this,u).delete(u);return this.size-=c?1:0,c}z.exports=f},96e3:(z,l,e)=>{var o=e(45050);function f(u){return o(this,u).get(u)}z.exports=f},49916:(z,l,e)=>{var o=e(45050);function f(u){return o(this,u).has(u)}z.exports=f},95265:(z,l,e)=>{var o=e(45050);function f(u,c){var _=o(this,u),g=_.size;return _.set(u,c),this.size+=_.size==g?0:1,this}z.exports=f},68776:z=>{function l(e){var o=-1,f=Array(e.size);return e.forEach(function(u,c){f[++o]=[c,u]}),f}z.exports=l},42634:z=>{function l(e,o){return function(f){return f==null?!1:f[e]===o&&(o!==void 0||e in Object(f))}}z.exports=l},24523:(z,l,e)=>{var o=e(88306),f=500;function u(c){var _=o(c,function(E){return g.size===f&&g.clear(),E}),g=_.cache;return _}z.exports=u},94536:(z,l,e)=>{var o=e(10852),f=o(Object,"create");z.exports=f},86916:(z,l,e)=>{var o=e(5569),f=o(Object.keys,Object);z.exports=f},31167:(z,l,e)=>{z=e.nmd(z);var o=e(31957),f=l&&!l.nodeType&&l,u=f&&!0&&z&&!z.nodeType&&z,c=u&&u.exports===f,_=c&&o.process,g=function(){try{var E=u&&u.require&&u.require("util").types;return E||_&&_.binding&&_.binding("util")}catch(v){}}();z.exports=g},2333:z=>{var l=Object.prototype,e=l.toString;function o(f){return e.call(f)}z.exports=o},5569:z=>{function l(e,o){return function(f){return e(o(f))}}z.exports=l},45357:(z,l,e)=>{var o=e(96874),f=Math.max;function u(c,_,g){return _=f(_===void 0?c.length-1:_,0),function(){for(var E=arguments,v=-1,y=f(E.length-_,0),T=Array(y);++v<y;)T[v]=E[_+v];v=-1;for(var w=Array(_+1);++v<_;)w[v]=E[v];return w[_]=g(T),o(c,this,w)}}z.exports=u},55639:(z,l,e)=>{var o=e(31957),f=typeof self=="object"&&self&&self.Object===Object&&self,u=o||f||Function("return this")();z.exports=u},90619:z=>{var l="__lodash_hash_undefined__";function e(o){return this.__data__.set(o,l),this}z.exports=e},72385:z=>{function l(e){return this.__data__.has(e)}z.exports=l},21814:z=>{function l(e){var o=-1,f=Array(e.size);return e.forEach(function(u){f[++o]=u}),f}z.exports=l},30061:(z,l,e)=>{var o=e(56560),f=e(21275),u=f(o);z.exports=u},21275:z=>{var l=800,e=16,o=Date.now;function f(u){var c=0,_=0;return function(){var g=o(),E=e-(g-_);if(_=g,E>0){if(++c>=l)return arguments[0]}else c=0;return u.apply(void 0,arguments)}}z.exports=f},37465:(z,l,e)=>{var o=e(38407);function f(){this.__data__=new o,this.size=0}z.exports=f},63779:z=>{function l(e){var o=this.__data__,f=o.delete(e);return this.size=o.size,f}z.exports=l},67599:z=>{function l(e){return this.__data__.get(e)}z.exports=l},44758:z=>{function l(e){return this.__data__.has(e)}z.exports=l},34309:(z,l,e)=>{var o=e(38407),f=e(57071),u=e(83369),c=200;function _(g,E){var v=this.__data__;if(v instanceof o){var y=v.__data__;if(!f||y.length<c-1)return y.push([g,E]),this.size=++v.size,this;v=this.__data__=new u(y)}return v.set(g,E),this.size=v.size,this}z.exports=_},42351:z=>{function l(e,o,f){for(var u=f-1,c=e.length;++u<c;)if(e[u]===o)return u;return-1}z.exports=l},55514:(z,l,e)=>{var o=e(24523),f=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u=/\\(\\)?/g,c=o(function(_){var g=[];return _.charCodeAt(0)===46&&g.push(""),_.replace(f,function(E,v,y,T){g.push(y?T.replace(u,"$1"):v||E)}),g});z.exports=c},40327:(z,l,e)=>{var o=e(33448),f=1/0;function u(c){if(typeof c=="string"||o(c))return c;var _=c+"";return _=="0"&&1/c==-f?"-0":_}z.exports=u},80346:z=>{var l=Function.prototype,e=l.toString;function o(f){if(f!=null){try{return e.call(f)}catch(u){}try{return f+""}catch(u){}}return""}z.exports=o},67990:z=>{var l=/\s/;function e(o){for(var f=o.length;f--&&l.test(o.charAt(f)););return f}z.exports=e},8400:(z,l,e)=>{var o=e(14259),f=e(16612),u=e(40554),c=Math.ceil,_=Math.max;function g(E,v,y){(y?f(E,v,y):v===void 0)?v=1:v=_(u(v),0);var T=E==null?0:E.length;if(!T||v<1)return[];for(var w=0,S=0,O=Array(c(T/v));w<T;)O[S++]=o(E,w,w+=v);return O}z.exports=g},39693:z=>{function l(e){for(var o=-1,f=e==null?0:e.length,u=0,c=[];++o<f;){var _=e[o];_&&(c[u++]=_)}return c}z.exports=l},75703:z=>{function l(e){return function(){return e}}z.exports=l},23279:(z,l,e)=>{var o=e(13218),f=e(7771),u=e(14841),c="Expected a function",_=Math.max,g=Math.min;function E(v,y,T){var w,S,O,p,d,a,P=0,C=!1,D=!1,A=!0;if(typeof v!="function")throw new TypeError(c);y=u(y)||0,o(T)&&(C=!!T.leading,D="maxWait"in T,O=D?_(u(T.maxWait)||0,y):O,A="trailing"in T?!!T.trailing:A);function x(G){var L=w,W=S;return w=S=void 0,P=G,p=v.apply(W,L),p}function I(G){return P=G,d=setTimeout(B,y),C?x(G):p}function N(G){var L=G-a,W=G-P,ie=y-L;return D?g(ie,O-W):ie}function F(G){var L=G-a,W=G-P;return a===void 0||L>=y||L<0||D&&W>=O}function B(){var G=f();if(F(G))return V(G);d=setTimeout(B,N(G))}function V(G){return d=void 0,A&&w?x(G):(w=S=void 0,p)}function Z(){d!==void 0&&clearTimeout(d),P=0,w=a=S=d=void 0}function Y(){return d===void 0?p:V(f())}function ne(){var G=f(),L=F(G);if(w=arguments,S=this,a=G,L){if(d===void 0)return I(a);if(D)return clearTimeout(d),d=setTimeout(B,y),x(a)}return d===void 0&&(d=setTimeout(B,y)),p}return ne.cancel=Z,ne.flush=Y,ne}z.exports=E},77813:z=>{function l(e,o){return e===o||e!==e&&o!==o}z.exports=l},7436:(z,l,e)=>{var o=e(41848),f=e(67206),u=e(40554),c=Math.max,_=Math.min;function g(E,v,y){var T=E==null?0:E.length;if(!T)return-1;var w=T-1;return y!==void 0&&(w=u(y),w=y<0?c(T+w,0):_(w,T-1)),o(E,f(v,3),w,!0)}z.exports=g},85564:(z,l,e)=>{var o=e(21078);function f(u){var c=u==null?0:u.length;return c?o(u,1):[]}z.exports=f},27361:(z,l,e)=>{var o=e(97786);function f(u,c,_){var g=u==null?void 0:o(u,c);return g===void 0?_:g}z.exports=f},7739:(z,l,e)=>{var o=e(89465),f=e(55189),u=Object.prototype,c=u.hasOwnProperty,_=f(function(g,E,v){c.call(g,v)?g[v].push(E):o(g,v,[E])});z.exports=_},79095:(z,l,e)=>{var o=e(13),f=e(222);function u(c,_){return c!=null&&f(c,_,o)}z.exports=u},6557:z=>{function l(e){return e}z.exports=l},35694:(z,l,e)=>{var o=e(9454),f=e(37005),u=Object.prototype,c=u.hasOwnProperty,_=u.propertyIsEnumerable,g=o(function(){return arguments}())?o:function(E){return f(E)&&c.call(E,"callee")&&!_.call(E,"callee")};z.exports=g},1469:z=>{var l=Array.isArray;z.exports=l},98612:(z,l,e)=>{var o=e(23560),f=e(41780);function u(c){return c!=null&&f(c.length)&&!o(c)}z.exports=u},29246:(z,l,e)=>{var o=e(98612),f=e(37005);function u(c){return f(c)&&o(c)}z.exports=u},44144:(z,l,e)=>{z=e.nmd(z);var o=e(55639),f=e(95062),u=l&&!l.nodeType&&l,c=u&&!0&&z&&!z.nodeType&&z,_=c&&c.exports===u,g=_?o.Buffer:void 0,E=g?g.isBuffer:void 0,v=E||f;z.exports=v},18446:(z,l,e)=>{var o=e(90939);function f(u,c){return o(u,c)}z.exports=f},23560:(z,l,e)=>{var o=e(44239),f=e(13218),u="[object AsyncFunction]",c="[object Function]",_="[object GeneratorFunction]",g="[object Proxy]";function E(v){if(!f(v))return!1;var y=o(v);return y==c||y==_||y==u||y==g}z.exports=E},41780:z=>{var l=9007199254740991;function e(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=l}z.exports=e},14293:z=>{function l(e){return e==null}z.exports=l},13218:z=>{function l(e){var o=typeof e;return e!=null&&(o=="object"||o=="function")}z.exports=l},37005:z=>{function l(e){return e!=null&&typeof e=="object"}z.exports=l},33448:(z,l,e)=>{var o=e(44239),f=e(37005),u="[object Symbol]";function c(_){return typeof _=="symbol"||f(_)&&o(_)==u}z.exports=c},36719:(z,l,e)=>{var o=e(38749),f=e(7518),u=e(31167),c=u&&u.isTypedArray,_=c?f(c):o;z.exports=_},3674:(z,l,e)=>{var o=e(14636),f=e(280),u=e(98612);function c(_){return u(_)?o(_):f(_)}z.exports=c},10928:z=>{function l(e){var o=e==null?0:e.length;return o?e[o-1]:void 0}z.exports=l},84753:(z,l,e)=>{var o=e(56029),f=e(53325),u=e(67206);function c(_,g){return _&&_.length?o(_,u(g,2),f):void 0}z.exports=c},88306:(z,l,e)=>{var o=e(83369),f="Expected a function";function u(c,_){if(typeof c!="function"||_!=null&&typeof _!="function")throw new TypeError(f);var g=function(){var E=arguments,v=_?_.apply(this,E):E[0],y=g.cache;if(y.has(v))return y.get(v);var T=c.apply(this,E);return g.cache=y.set(v,T)||y,T};return g.cache=new(u.Cache||o),g}u.Cache=o,z.exports=u},50308:z=>{function l(){}z.exports=l},7771:(z,l,e)=>{var o=e(55639),f=function(){return o.Date.now()};z.exports=f},43174:(z,l,e)=>{var o=e(55189),f=o(function(u,c,_){u[_?0:1].push(c)},function(){return[[],[]]});z.exports=f},78718:(z,l,e)=>{var o=e(25970),f=e(99021),u=f(function(c,_){return c==null?{}:o(c,_)});z.exports=u},39601:(z,l,e)=>{var o=e(40371),f=e(79152),u=e(15403),c=e(40327);function _(g){return u(g)?o(c(g)):f(g)}z.exports=_},89734:(z,l,e)=>{var o=e(21078),f=e(82689),u=e(5976),c=e(16612),_=u(function(g,E){if(g==null)return[];var v=E.length;return v>1&&c(g,E[0],E[1])?E=[]:v>2&&c(E[0],E[1],E[2])&&(E=[E[0]]),f(g,o(E,1),[])});z.exports=_},70479:z=>{function l(){return[]}z.exports=l},95062:z=>{function l(){return!1}z.exports=l},12297:(z,l,e)=>{var o=e(67762),f=e(6557);function u(c){return c&&c.length?o(c,f):0}z.exports=u},23493:(z,l,e)=>{var o=e(23279),f=e(13218),u="Expected a function";function c(_,g,E){var v=!0,y=!0;if(typeof _!="function")throw new TypeError(u);return f(E)&&(v="leading"in E?!!E.leading:v,y="trailing"in E?!!E.trailing:y),o(_,g,{leading:v,maxWait:g,trailing:y})}z.exports=c},98913:(z,l,e)=>{var o=e(22545),f=e(54290),u=e(40554),c=9007199254740991,_=4294967295,g=Math.min;function E(v,y){if(v=u(v),v<1||v>c)return[];var T=_,w=g(v,_);y=f(y),v-=_;for(var S=o(w,y);++T<v;)y(T);return S}z.exports=E},18601:(z,l,e)=>{var o=e(14841),f=1/0,u=17976931348623157e292;function c(_){if(!_)return _===0?_:0;if(_=o(_),_===f||_===-f){var g=_<0?-1:1;return g*u}return _===_?_:0}z.exports=c},40554:(z,l,e)=>{var o=e(18601);function f(u){var c=o(u),_=c%1;return c===c?_?c-_:c:0}z.exports=f},14841:(z,l,e)=>{var o=e(27561),f=e(13218),u=e(33448),c=0/0,_=/^[-+]0x[0-9a-f]+$/i,g=/^0b[01]+$/i,E=/^0o[0-7]+$/i,v=parseInt;function y(T){if(typeof T=="number")return T;if(u(T))return c;if(f(T)){var w=typeof T.valueOf=="function"?T.valueOf():T;T=f(w)?w+"":w}if(typeof T!="string")return T===0?T:+T;T=o(T);var S=g.test(T);return S||E.test(T)?v(T.slice(2),S?2:8):_.test(T)?c:+T}z.exports=y},79833:(z,l,e)=>{var o=e(80531);function f(u){return u==null?"":o(u)}z.exports=f},44908:(z,l,e)=>{var o=e(45652);function f(u){return u&&u.length?o(u):[]}z.exports=f},45578:(z,l,e)=>{var o=e(67206),f=e(45652);function u(c,_){return c&&c.length?f(c,o(_,2)):[]}z.exports=u},73955:(z,l,e)=>{var o=e(79833),f=0;function u(c){var _=++f;return o(c)+_}z.exports=u},82569:(z,l,e)=>{var o=e(20731),f=e(5976),u=e(29246),c=f(function(_,g){return u(_)?o(_,g):[]});z.exports=c},87021:(z,l,e)=>{"use strict";e.d(l,{Z:()=>c});var o=e(6400),f={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};const u=_=>_.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c=(_,g)=>{const E=p=>{var d=p,{color:v="currentColor",size:y=24,strokeWidth:T=2,absoluteStrokeWidth:w,children:S}=d,O=gi(d,["color","size","strokeWidth","absoluteStrokeWidth","children"]);return(0,o.h)("svg",ar(ko(ar({},f),{width:String(y),height:y,stroke:v,["stroke-width"]:w?Number(T)*24/Number(y):T,class:`lucide lucide-${u(_)}`}),O),[...g.map(([a,P])=>(0,o.h)(a,P)),...(0,o.toChildArray)(S)])};return E.displayName=`${_}`,E}},4675:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("ArrowLeftRight",[["polyline",{points:"17 11 21 7 17 3",key:"l3l6r3"}],["line",{x1:"21",x2:"9",y1:"7",y2:"7",key:"ubux2p"}],["polyline",{points:"7 21 3 17 7 13",key:"lfumnw"}],["line",{x1:"15",x2:"3",y1:"17",y2:"17",key:"1iqtwg"}]])},88812:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"4.93",x2:"19.07",y1:"4.93",y2:"19.07",key:"1thnyu"}]])},18794:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("BookmarkMinus",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]])},13808:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]])},25380:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]])},49336:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("ChevronDown",[["polyline",{points:"6 9 12 15 18 9",key:"1do0m2"}]])},56743:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("ChevronLeft",[["polyline",{points:"15 18 9 12 15 6",key:"kvxz59"}]])},2564:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("ChevronRight",[["polyline",{points:"9 18 15 12 9 6",key:"1rtp27"}]])},71212:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},23237:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Edit2",[["path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z",key:"2s2c1q"}]])},47641:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Edit",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z",key:"1cs3r3"}]])},65207:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]])},67747:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},77951:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("FileVolume",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7.5L14.5 2H6a2 2 0 0 0-2 2v3",key:"am10z3"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m7 10-3 2H2v4h2l3 2v-8Z",key:"tazg57"}],["path",{d:"M11 11c.64.8 1 1.87 1 3s-.36 2.2-1 3",key:"1yej3m"}]])},5149:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]])},8618:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},19237:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},65445:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},99869:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]])},13639:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},67358:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},7617:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},95951:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Milestone",[["path",{d:"M18 6H5a2 2 0 0 0-2 2v3a2 2 0 0 0 2 2h13l4-3.5L18 6Z",key:"1mp5s7"}],["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M12 3v3",key:"1n5kay"}]])},80587:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},9528:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},74655:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("RefreshCw",[["path",{d:"M21 2v6h-6",key:"1lwg0q"}],["path",{d:"M3 12a9 9 0 0 1 15-6.7L21 8",key:"vaktt2"}],["path",{d:"M3 22v-6h6",key:"6llvyv"}],["path",{d:"M21 12a9 9 0 0 1-15 6.7L3 16",key:"i52hsp"}]])},28596:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Send",[["line",{x1:"22",x2:"11",y1:"2",y2:"13",key:"2qtwb"}],["polygon",{points:"22 2 15 22 11 13 2 9 22 2",key:"12uapv"}]])},31131:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]])},66440:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},52066:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]])},17048:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])},49770:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},98961:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])},81108:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"15",x2:"9",y1:"9",y2:"15",key:"f7djnv"}],["line",{x1:"9",x2:"15",y1:"9",y2:"15",key:"1shsy8"}]])},71375:(z,l,e)=>{"use strict";e.d(l,{Z:()=>f});var o=e(87021);const f=(0,o.Z)("X",[["line",{x1:"18",x2:"6",y1:"6",y2:"18",key:"15jfxm"}],["line",{x1:"6",x2:"18",y1:"6",y2:"18",key:"d1lma3"}]])},61864:(z,l,e)=>{"use strict";e.d(l,{Z:()=>o});const o={pubTheme:"frontend-components-PubTheme-module__pubTheme--Vew50"}},19206:(z,l,e)=>{"use strict";e.d(l,{Z:()=>o});const o={reset:"frontend-pencraft-Box-module__reset--VfQY8","display-block":"frontend-pencraft-Box-module__display-block--lluJR","display-inline":"frontend-pencraft-Box-module__display-inline--UP8rE","display-inline-block":"frontend-pencraft-Box-module__display-inline-block--x7tGd","display-flex":"frontend-pencraft-Box-module__display-flex--ZqeZt","display-inline-flex":"frontend-pencraft-Box-module__display-inline-flex--ZE941","display-none":"frontend-pencraft-Box-module__display-none--DZ2wU","position-relative":"frontend-pencraft-Box-module__position-relative--QdxKA","flex-direction-column":"frontend-pencraft-Box-module__flex-direction-column--Rq7pk","flex-direction-row":"frontend-pencraft-Box-module__flex-direction-row--s2PZ1","flex-direction-row-reverse":"frontend-pencraft-Box-module__flex-direction-row-reverse--oFiiL","flex-direction-column-reverse":"frontend-pencraft-Box-module__flex-direction-column-reverse--thxnd","flex-wrap-nowrap":"frontend-pencraft-Box-module__flex-wrap-nowrap--WI0rj","flex-wrap-wrap":"frontend-pencraft-Box-module__flex-wrap-wrap--U7KAu","flex-wrap-wrap-reverse":"frontend-pencraft-Box-module__flex-wrap-wrap-reverse--dau9W","flex-justify-start":"frontend-pencraft-Box-module__flex-justify-start--_8fEd","flex-justify-space-between":"frontend-pencraft-Box-module__flex-justify-space-between--NvIcg","flex-justify-center":"frontend-pencraft-Box-module__flex-justify-center--SQPji","flex-justify-end":"frontend-pencraft-Box-module__flex-justify-end--lwKjM","flex-align-start":"frontend-pencraft-Box-module__flex-align-start--MkgIa","flex-align-end":"frontend-pencraft-Box-module__flex-align-end--_zZdC","flex-align-center":"frontend-pencraft-Box-module__flex-align-center--rSd6h","flex-align-stretch":"frontend-pencraft-Box-module__flex-align-stretch--g0Yna","flex-align-baseline":"frontend-pencraft-Box-module__flex-align-baseline--GQEEw","flex-align-self-start":"frontend-pencraft-Box-module__flex-align-self-start--QhlBL","flex-align-self-end":"frontend-pencraft-Box-module__flex-align-self-end--ygpwW","flex-align-self-center":"frontend-pencraft-Box-module__flex-align-self-center--XMhN_","flex-align-self-stretch":"frontend-pencraft-Box-module__flex-align-self-stretch--ZV59d","flex-align-self-baseline":"frontend-pencraft-Box-module__flex-align-self-baseline--omwPY","flex-gap-0":"frontend-pencraft-Box-module__flex-gap-0--WL4Xc","flex-gap-2":"frontend-pencraft-Box-module__flex-gap-2--i3DJs","flex-gap-4":"frontend-pencraft-Box-module__flex-gap-4--zeW5_","flex-gap-6":"frontend-pencraft-Box-module__flex-gap-6--lHgtr","flex-gap-8":"frontend-pencraft-Box-module__flex-gap-8--HFpIK","flex-gap-12":"frontend-pencraft-Box-module__flex-gap-12--rODKq","flex-gap-16":"frontend-pencraft-Box-module__flex-gap-16--TpblU","flex-gap-20":"frontend-pencraft-Box-module__flex-gap-20--WPlD2","flex-gap-24":"frontend-pencraft-Box-module__flex-gap-24--bAb43","flex-gap-32":"frontend-pencraft-Box-module__flex-gap-32--uRr14","flex-gap-36":"frontend-pencraft-Box-module__flex-gap-36--Kpg6P","flex-gap-40":"frontend-pencraft-Box-module__flex-gap-40--AvPvJ","flex-gap-48":"frontend-pencraft-Box-module__flex-gap-48--Sbb_i","flex-gap-56":"frontend-pencraft-Box-module__flex-gap-56--of5i3","flex-gap-64":"frontend-pencraft-Box-module__flex-gap-64--dzjmF","flex-gap-80":"frontend-pencraft-Box-module__flex-gap-80--jHDvi","flex-gap-96":"frontend-pencraft-Box-module__flex-gap-96--heAIr","flex-gap-120":"frontend-pencraft-Box-module__flex-gap-120--iB6Cx","padding-0":"frontend-pencraft-Box-module__padding-0--F3S1v","padding-4":"frontend-pencraft-Box-module__padding-4--KlLyn","padding-6":"frontend-pencraft-Box-module__padding-6--_Mjv2","padding-8":"frontend-pencraft-Box-module__padding-8--wF5Sz","padding-12":"frontend-pencraft-Box-module__padding-12--jTMsq","padding-16":"frontend-pencraft-Box-module__padding-16--n240L","padding-20":"frontend-pencraft-Box-module__padding-20--yVUtG","padding-24":"frontend-pencraft-Box-module__padding-24--ZJr5O","padding-32":"frontend-pencraft-Box-module__padding-32--IeG12","padding-40":"frontend-pencraft-Box-module__padding-40--IAcQ9","padding-48":"frontend-pencraft-Box-module__padding-48--aMnjo","padding-56":"frontend-pencraft-Box-module__padding-56--am1eN","padding-64":"frontend-pencraft-Box-module__padding-64--xeXXX","padding-80":"frontend-pencraft-Box-module__padding-80--th3sr","padding-120":"frontend-pencraft-Box-module__padding-120--RXYMO","padding-y-0":"frontend-pencraft-Box-module__padding-y-0--rxzTp","padding-y-4":"frontend-pencraft-Box-module__padding-y-4--dGugw","padding-y-6":"frontend-pencraft-Box-module__padding-y-6--taKGa","padding-y-8":"frontend-pencraft-Box-module__padding-y-8--exiCC","padding-y-12":"frontend-pencraft-Box-module__padding-y-12--JVW4L","padding-y-16":"frontend-pencraft-Box-module__padding-y-16--ohCEm","padding-y-20":"frontend-pencraft-Box-module__padding-y-20--FoUpX","padding-y-24":"frontend-pencraft-Box-module__padding-y-24--T7KvM","padding-y-32":"frontend-pencraft-Box-module__padding-y-32--tBjpu","padding-y-36":"frontend-pencraft-Box-module__padding-y-36--O9qPD","padding-y-40":"frontend-pencraft-Box-module__padding-y-40--uSHVb","padding-y-48":"frontend-pencraft-Box-module__padding-y-48--eNCBL","padding-y-56":"frontend-pencraft-Box-module__padding-y-56--oRNr_","padding-y-64":"frontend-pencraft-Box-module__padding-y-64--ft4ED","padding-y-80":"frontend-pencraft-Box-module__padding-y-80--bsHus","padding-y-120":"frontend-pencraft-Box-module__padding-y-120--_BaEr","padding-x-0":"frontend-pencraft-Box-module__padding-x-0--oMCXf","padding-x-4":"frontend-pencraft-Box-module__padding-x-4--KtJM6","padding-x-6":"frontend-pencraft-Box-module__padding-x-6--jB65n","padding-x-8":"frontend-pencraft-Box-module__padding-x-8--FGPm5","padding-x-12":"frontend-pencraft-Box-module__padding-x-12--uAeGi","padding-x-16":"frontend-pencraft-Box-module__padding-x-16--q3Pnm","padding-x-20":"frontend-pencraft-Box-module__padding-x-20--v_X8l","padding-x-24":"frontend-pencraft-Box-module__padding-x-24--ViY5j","padding-x-32":"frontend-pencraft-Box-module__padding-x-32--MSogp","padding-x-40":"frontend-pencraft-Box-module__padding-x-40--NnqyG","padding-x-48":"frontend-pencraft-Box-module__padding-x-48--HTG4n","padding-x-56":"frontend-pencraft-Box-module__padding-x-56--V6qbT","padding-x-64":"frontend-pencraft-Box-module__padding-x-64--J1cac","padding-x-80":"frontend-pencraft-Box-module__padding-x-80--J4j87","padding-x-120":"frontend-pencraft-Box-module__padding-x-120--ZPgFJ","padding-top-0":"frontend-pencraft-Box-module__padding-top-0--PRqVY","padding-top-4":"frontend-pencraft-Box-module__padding-top-4--x0RDa","padding-top-6":"frontend-pencraft-Box-module__padding-top-6--DGztk","padding-top-8":"frontend-pencraft-Box-module__padding-top-8--VHq_j","padding-top-12":"frontend-pencraft-Box-module__padding-top-12--RJQ3b","padding-top-16":"frontend-pencraft-Box-module__padding-top-16--fCxei","padding-top-20":"frontend-pencraft-Box-module__padding-top-20--bpJwI","padding-top-24":"frontend-pencraft-Box-module__padding-top-24--hC6Qh","padding-top-32":"frontend-pencraft-Box-module__padding-top-32--hE9Ly","padding-top-36":"frontend-pencraft-Box-module__padding-top-36--gzQCl","padding-top-40":"frontend-pencraft-Box-module__padding-top-40--uBMFI","padding-top-48":"frontend-pencraft-Box-module__padding-top-48--kMReU","padding-top-56":"frontend-pencraft-Box-module__padding-top-56--dczMQ","padding-top-64":"frontend-pencraft-Box-module__padding-top-64--cd1qd","padding-top-80":"frontend-pencraft-Box-module__padding-top-80--eZ0fE","padding-top-120":"frontend-pencraft-Box-module__padding-top-120--vfrci","padding-bottom-0":"frontend-pencraft-Box-module__padding-bottom-0--uJZ7B","padding-bottom-4":"frontend-pencraft-Box-module__padding-bottom-4--OFOny","padding-bottom-6":"frontend-pencraft-Box-module__padding-bottom-6--Tlz5i","padding-bottom-8":"frontend-pencraft-Box-module__padding-bottom-8--mTu10","padding-bottom-12":"frontend-pencraft-Box-module__padding-bottom-12--dTAvV","padding-bottom-16":"frontend-pencraft-Box-module__padding-bottom-16--KVxKv","padding-bottom-20":"frontend-pencraft-Box-module__padding-bottom-20--xSkS9","padding-bottom-24":"frontend-pencraft-Box-module__padding-bottom-24--drRLc","padding-bottom-32":"frontend-pencraft-Box-module__padding-bottom-32--aGRIB","padding-bottom-40":"frontend-pencraft-Box-module__padding-bottom-40--_oo6b","padding-bottom-48":"frontend-pencraft-Box-module__padding-bottom-48--ONDjp","padding-bottom-56":"frontend-pencraft-Box-module__padding-bottom-56--zLgG0","padding-bottom-64":"frontend-pencraft-Box-module__padding-bottom-64--jnone","padding-bottom-80":"frontend-pencraft-Box-module__padding-bottom-80--R2shQ","padding-bottom-120":"frontend-pencraft-Box-module__padding-bottom-120--xScwg","padding-left-0":"frontend-pencraft-Box-module__padding-left-0--_fdq5","padding-left-4":"frontend-pencraft-Box-module__padding-left-4--xHkhe","padding-left-6":"frontend-pencraft-Box-module__padding-left-6--i3yO2","padding-left-8":"frontend-pencraft-Box-module__padding-left-8--ci2Dl","padding-left-12":"frontend-pencraft-Box-module__padding-left-12--eE6bp","padding-left-16":"frontend-pencraft-Box-module__padding-left-16--BDsWV","padding-left-20":"frontend-pencraft-Box-module__padding-left-20--BD8wa","padding-left-24":"frontend-pencraft-Box-module__padding-left-24--b11Zo","padding-left-32":"frontend-pencraft-Box-module__padding-left-32--BAj7w","padding-left-40":"frontend-pencraft-Box-module__padding-left-40--b2JNE","padding-left-48":"frontend-pencraft-Box-module__padding-left-48--oHoKK","padding-left-56":"frontend-pencraft-Box-module__padding-left-56--pmJGh","padding-left-64":"frontend-pencraft-Box-module__padding-left-64--Ob2OF","padding-left-80":"frontend-pencraft-Box-module__padding-left-80--z2UJ5","padding-left-96":"frontend-pencraft-Box-module__padding-left-96--gfeL6","padding-left-120":"frontend-pencraft-Box-module__padding-left-120--EJgoJ","padding-right-0":"frontend-pencraft-Box-module__padding-right-0--yke0B","padding-right-4":"frontend-pencraft-Box-module__padding-right-4--hKLg1","padding-right-6":"frontend-pencraft-Box-module__padding-right-6--Lht9u","padding-right-8":"frontend-pencraft-Box-module__padding-right-8--smNvs","padding-right-12":"frontend-pencraft-Box-module__padding-right-12--_sPKw","padding-right-16":"frontend-pencraft-Box-module__padding-right-16--zD2yo","padding-right-20":"frontend-pencraft-Box-module__padding-right-20--YeNhQ","padding-right-24":"frontend-pencraft-Box-module__padding-right-24--KuK8G","padding-right-32":"frontend-pencraft-Box-module__padding-right-32--VV1h6","padding-right-40":"frontend-pencraft-Box-module__padding-right-40--oArMW","padding-right-48":"frontend-pencraft-Box-module__padding-right-48--N0JmY","padding-right-56":"frontend-pencraft-Box-module__padding-right-56--uXWcM","padding-right-64":"frontend-pencraft-Box-module__padding-right-64--gw8yC","padding-right-80":"frontend-pencraft-Box-module__padding-right-80--pjvSn","padding-right-120":"frontend-pencraft-Box-module__padding-right-120--q8k5G","display-mobile-block":"frontend-pencraft-Box-module__display-mobile-block--Aect2","display-mobile-inline":"frontend-pencraft-Box-module__display-mobile-inline--N1KZU","display-mobile-inline-block":"frontend-pencraft-Box-module__display-mobile-inline-block--XxyXq","display-mobile-flex":"frontend-pencraft-Box-module__display-mobile-flex--orVE9","display-mobile-inline-flex":"frontend-pencraft-Box-module__display-mobile-inline-flex--sD9mj","display-mobile-none":"frontend-pencraft-Box-module__display-mobile-none--BJhKW","flex-direction-mobile-column":"frontend-pencraft-Box-module__flex-direction-mobile-column--Mc9OW","flex-direction-mobile-row":"frontend-pencraft-Box-module__flex-direction-mobile-row--C4tyc","flex-direction-mobile-row-reverse":"frontend-pencraft-Box-module__flex-direction-mobile-row-reverse--TKJLF","flex-direction-mobile-column-reverse":"frontend-pencraft-Box-module__flex-direction-mobile-column-reverse--LYrMu","flex-wrap-mobile-nowrap":"frontend-pencraft-Box-module__flex-wrap-mobile-nowrap--O3kRJ","flex-wrap-mobile-wrap":"frontend-pencraft-Box-module__flex-wrap-mobile-wrap--ibIMl","flex-wrap-mobile-wrap-reverse":"frontend-pencraft-Box-module__flex-wrap-mobile-wrap-reverse--OAIbg","flex-justify-mobile-start":"frontend-pencraft-Box-module__flex-justify-mobile-start--j7ZWw","flex-justify-mobile-space-between":"frontend-pencraft-Box-module__flex-justify-mobile-space-between--rbTka","flex-justify-mobile-center":"frontend-pencraft-Box-module__flex-justify-mobile-center--mxdv8","flex-justify-mobile-end":"frontend-pencraft-Box-module__flex-justify-mobile-end--tCUqU","flex-align-mobile-start":"frontend-pencraft-Box-module__flex-align-mobile-start--VytyY","flex-align-mobile-end":"frontend-pencraft-Box-module__flex-align-mobile-end--jxhdF","flex-align-mobile-center":"frontend-pencraft-Box-module__flex-align-mobile-center--wCqEB","flex-align-mobile-stretch":"frontend-pencraft-Box-module__flex-align-mobile-stretch--dcRgL","flex-align-mobile-baseline":"frontend-pencraft-Box-module__flex-align-mobile-baseline--f2QMh","flex-gap-mobile-0":"frontend-pencraft-Box-module__flex-gap-mobile-0--rhTqq","flex-gap-mobile-2":"frontend-pencraft-Box-module__flex-gap-mobile-2--JjRRa","flex-gap-mobile-4":"frontend-pencraft-Box-module__flex-gap-mobile-4--mRU_f","flex-gap-mobile-6":"frontend-pencraft-Box-module__flex-gap-mobile-6--ILgAN","flex-gap-mobile-8":"frontend-pencraft-Box-module__flex-gap-mobile-8--KyRud","flex-gap-mobile-12":"frontend-pencraft-Box-module__flex-gap-mobile-12--cAee1","flex-gap-mobile-16":"frontend-pencraft-Box-module__flex-gap-mobile-16--oMFvQ","flex-gap-mobile-20":"frontend-pencraft-Box-module__flex-gap-mobile-20--Q7L1k","flex-gap-mobile-24":"frontend-pencraft-Box-module__flex-gap-mobile-24--gxEQk","flex-gap-mobile-32":"frontend-pencraft-Box-module__flex-gap-mobile-32--ltu7c","flex-gap-mobile-40":"frontend-pencraft-Box-module__flex-gap-mobile-40--S6ZC7","flex-gap-mobile-48":"frontend-pencraft-Box-module__flex-gap-mobile-48--klvz2","flex-gap-mobile-56":"frontend-pencraft-Box-module__flex-gap-mobile-56--OvGtj","flex-gap-mobile-64":"frontend-pencraft-Box-module__flex-gap-mobile-64--wMXeg","flex-gap-mobile-80":"frontend-pencraft-Box-module__flex-gap-mobile-80--dtOoW","flex-gap-mobile-96":"frontend-pencraft-Box-module__flex-gap-mobile-96--ZFddh","flex-gap-mobile-120":"frontend-pencraft-Box-module__flex-gap-mobile-120--FF8So","padding-mobile-0":"frontend-pencraft-Box-module__padding-mobile-0--pHHdL","padding-mobile-4":"frontend-pencraft-Box-module__padding-mobile-4--hhaLE","padding-mobile-6":"frontend-pencraft-Box-module__padding-mobile-6--ysaO9","padding-mobile-8":"frontend-pencraft-Box-module__padding-mobile-8--qBaDC","padding-mobile-12":"frontend-pencraft-Box-module__padding-mobile-12--yamxD","padding-mobile-16":"frontend-pencraft-Box-module__padding-mobile-16--WwNhz","padding-mobile-20":"frontend-pencraft-Box-module__padding-mobile-20--pdIFk","padding-mobile-24":"frontend-pencraft-Box-module__padding-mobile-24--dws4N","padding-mobile-32":"frontend-pencraft-Box-module__padding-mobile-32--q99bY","padding-mobile-40":"frontend-pencraft-Box-module__padding-mobile-40--N3CX8","padding-mobile-48":"frontend-pencraft-Box-module__padding-mobile-48--Zp2aA","padding-mobile-56":"frontend-pencraft-Box-module__padding-mobile-56--yaf6_","padding-mobile-64":"frontend-pencraft-Box-module__padding-mobile-64--QBktp","padding-mobile-80":"frontend-pencraft-Box-module__padding-mobile-80--mlEKm","padding-mobile-120":"frontend-pencraft-Box-module__padding-mobile-120--u2BT7","padding-y-mobile-0":"frontend-pencraft-Box-module__padding-y-mobile-0--l1XHn","padding-y-mobile-4":"frontend-pencraft-Box-module__padding-y-mobile-4--NGnYk","padding-y-mobile-6":"frontend-pencraft-Box-module__padding-y-mobile-6--e_Z74","padding-y-mobile-8":"frontend-pencraft-Box-module__padding-y-mobile-8--q24xz","padding-y-mobile-12":"frontend-pencraft-Box-module__padding-y-mobile-12--WcL2J","padding-y-mobile-16":"frontend-pencraft-Box-module__padding-y-mobile-16--dydMQ","padding-y-mobile-20":"frontend-pencraft-Box-module__padding-y-mobile-20--XCF1X","padding-y-mobile-24":"frontend-pencraft-Box-module__padding-y-mobile-24--b5BI9","padding-y-mobile-32":"frontend-pencraft-Box-module__padding-y-mobile-32--DdQKj","padding-y-mobile-40":"frontend-pencraft-Box-module__padding-y-mobile-40--ejJzM","padding-y-mobile-48":"frontend-pencraft-Box-module__padding-y-mobile-48--AcvqS","padding-y-mobile-56":"frontend-pencraft-Box-module__padding-y-mobile-56--jaNbX","padding-y-mobile-64":"frontend-pencraft-Box-module__padding-y-mobile-64--g85Ek","padding-y-mobile-80":"frontend-pencraft-Box-module__padding-y-mobile-80--guBcX","padding-y-mobile-120":"frontend-pencraft-Box-module__padding-y-mobile-120--cb6H3","padding-x-mobile-0":"frontend-pencraft-Box-module__padding-x-mobile-0--sLHt8","padding-x-mobile-4":"frontend-pencraft-Box-module__padding-x-mobile-4--D_vuF","padding-x-mobile-6":"frontend-pencraft-Box-module__padding-x-mobile-6--MK5v1","padding-x-mobile-8":"frontend-pencraft-Box-module__padding-x-mobile-8--SLqFj","padding-x-mobile-12":"frontend-pencraft-Box-module__padding-x-mobile-12--wQTg5","padding-x-mobile-16":"frontend-pencraft-Box-module__padding-x-mobile-16--qz0qN","padding-x-mobile-20":"frontend-pencraft-Box-module__padding-x-mobile-20--hhZQr","padding-x-mobile-24":"frontend-pencraft-Box-module__padding-x-mobile-24--voGHV","padding-x-mobile-32":"frontend-pencraft-Box-module__padding-x-mobile-32--UTs6w","padding-x-mobile-40":"frontend-pencraft-Box-module__padding-x-mobile-40--aJowh","padding-x-mobile-48":"frontend-pencraft-Box-module__padding-x-mobile-48--GBmBD","padding-x-mobile-56":"frontend-pencraft-Box-module__padding-x-mobile-56--DOGvg","padding-x-mobile-64":"frontend-pencraft-Box-module__padding-x-mobile-64--kCK6W","padding-x-mobile-80":"frontend-pencraft-Box-module__padding-x-mobile-80--blnxY","padding-x-mobile-120":"frontend-pencraft-Box-module__padding-x-mobile-120--rkiYK","padding-top-mobile-0":"frontend-pencraft-Box-module__padding-top-mobile-0--oJ6mc","padding-top-mobile-4":"frontend-pencraft-Box-module__padding-top-mobile-4--QomAL","padding-top-mobile-6":"frontend-pencraft-Box-module__padding-top-mobile-6--c6qnp","padding-top-mobile-8":"frontend-pencraft-Box-module__padding-top-mobile-8--aLZhy","padding-top-mobile-12":"frontend-pencraft-Box-module__padding-top-mobile-12--uwKuV","padding-top-mobile-16":"frontend-pencraft-Box-module__padding-top-mobile-16--fjFPO","padding-top-mobile-20":"frontend-pencraft-Box-module__padding-top-mobile-20--m6L88","padding-top-mobile-24":"frontend-pencraft-Box-module__padding-top-mobile-24--pNohc","padding-top-mobile-32":"frontend-pencraft-Box-module__padding-top-mobile-32--a0t_9","padding-top-mobile-40":"frontend-pencraft-Box-module__padding-top-mobile-40--HNzxh","padding-top-mobile-48":"frontend-pencraft-Box-module__padding-top-mobile-48--Oef7p","padding-top-mobile-56":"frontend-pencraft-Box-module__padding-top-mobile-56--YkvmY","padding-top-mobile-64":"frontend-pencraft-Box-module__padding-top-mobile-64--Pyh23","padding-top-mobile-80":"frontend-pencraft-Box-module__padding-top-mobile-80--IN5AZ","padding-top-mobile-120":"frontend-pencraft-Box-module__padding-top-mobile-120--QMG0v","padding-bottom-mobile-0":"frontend-pencraft-Box-module__padding-bottom-mobile-0--vznPS","padding-bottom-mobile-4":"frontend-pencraft-Box-module__padding-bottom-mobile-4--VMIm8","padding-bottom-mobile-6":"frontend-pencraft-Box-module__padding-bottom-mobile-6--LyDqa","padding-bottom-mobile-8":"frontend-pencraft-Box-module__padding-bottom-mobile-8--gCYaK","padding-bottom-mobile-12":"frontend-pencraft-Box-module__padding-bottom-mobile-12--jC0SK","padding-bottom-mobile-16":"frontend-pencraft-Box-module__padding-bottom-mobile-16--TDCHN","padding-bottom-mobile-20":"frontend-pencraft-Box-module__padding-bottom-mobile-20--KFFIi","padding-bottom-mobile-24":"frontend-pencraft-Box-module__padding-bottom-mobile-24--yZ5l3","padding-bottom-mobile-32":"frontend-pencraft-Box-module__padding-bottom-mobile-32--z_M2k","padding-bottom-mobile-40":"frontend-pencraft-Box-module__padding-bottom-mobile-40--KAzfp","padding-bottom-mobile-48":"frontend-pencraft-Box-module__padding-bottom-mobile-48--AxHJK","padding-bottom-mobile-56":"frontend-pencraft-Box-module__padding-bottom-mobile-56--L8HbC","padding-bottom-mobile-64":"frontend-pencraft-Box-module__padding-bottom-mobile-64--yY377","padding-bottom-mobile-80":"frontend-pencraft-Box-module__padding-bottom-mobile-80--jjWe_","padding-bottom-mobile-120":"frontend-pencraft-Box-module__padding-bottom-mobile-120--NMOpl","padding-left-mobile-0":"frontend-pencraft-Box-module__padding-left-mobile-0--rMgFb","padding-left-mobile-4":"frontend-pencraft-Box-module__padding-left-mobile-4--gRPK1","padding-left-mobile-6":"frontend-pencraft-Box-module__padding-left-mobile-6--F6a0d","padding-left-mobile-8":"frontend-pencraft-Box-module__padding-left-mobile-8--klUzH","padding-left-mobile-12":"frontend-pencraft-Box-module__padding-left-mobile-12--ZjRhu","padding-left-mobile-16":"frontend-pencraft-Box-module__padding-left-mobile-16--XZUYG","padding-left-mobile-20":"frontend-pencraft-Box-module__padding-left-mobile-20--cSAwz","padding-left-mobile-24":"frontend-pencraft-Box-module__padding-left-mobile-24--d6AYr","padding-left-mobile-32":"frontend-pencraft-Box-module__padding-left-mobile-32--lV0L6","padding-left-mobile-40":"frontend-pencraft-Box-module__padding-left-mobile-40--j1CUU","padding-left-mobile-48":"frontend-pencraft-Box-module__padding-left-mobile-48--fQOYm","padding-left-mobile-56":"frontend-pencraft-Box-module__padding-left-mobile-56--V3BCT","padding-left-mobile-64":"frontend-pencraft-Box-module__padding-left-mobile-64--mWcOm","padding-left-mobile-80":"frontend-pencraft-Box-module__padding-left-mobile-80--xZV_a","padding-left-mobile-120":"frontend-pencraft-Box-module__padding-left-mobile-120--rdhq4","padding-right-mobile-0":"frontend-pencraft-Box-module__padding-right-mobile-0--DVDzT","padding-right-mobile-4":"frontend-pencraft-Box-module__padding-right-mobile-4--MaDAB","padding-right-mobile-6":"frontend-pencraft-Box-module__padding-right-mobile-6--wZiyO","padding-right-mobile-8":"frontend-pencraft-Box-module__padding-right-mobile-8--VIDL8","padding-right-mobile-12":"frontend-pencraft-Box-module__padding-right-mobile-12--NBDZD","padding-right-mobile-16":"frontend-pencraft-Box-module__padding-right-mobile-16--PD1Dy","padding-right-mobile-20":"frontend-pencraft-Box-module__padding-right-mobile-20--V2Oc4","padding-right-mobile-24":"frontend-pencraft-Box-module__padding-right-mobile-24--L0KUi","padding-right-mobile-32":"frontend-pencraft-Box-module__padding-right-mobile-32--i7Z7o","padding-right-mobile-40":"frontend-pencraft-Box-module__padding-right-mobile-40--hvPRY","padding-right-mobile-48":"frontend-pencraft-Box-module__padding-right-mobile-48--zadfm","padding-right-mobile-56":"frontend-pencraft-Box-module__padding-right-mobile-56--CuM14","padding-right-mobile-64":"frontend-pencraft-Box-module__padding-right-mobile-64--MSA2_","padding-right-mobile-80":"frontend-pencraft-Box-module__padding-right-mobile-80--LUN5o","padding-right-mobile-120":"frontend-pencraft-Box-module__padding-right-mobile-120--KkeSn","border-transparent":"frontend-pencraft-Box-module__border-transparent--zPqIf","border-top-transparent":"frontend-pencraft-Box-module__border-top-transparent--NH9Pp","border-bottom-transparent":"frontend-pencraft-Box-module__border-bottom-transparent--spbbj","border-left-transparent":"frontend-pencraft-Box-module__border-left-transparent--KjBt0","border-right-transparent":"frontend-pencraft-Box-module__border-right-transparent--_TydC","border-y-transparent":"frontend-pencraft-Box-module__border-y-transparent--ONzvg","border-detail":"frontend-pencraft-Box-module__border-detail--MiH57","border-top-detail":"frontend-pencraft-Box-module__border-top-detail--W9Yi4","border-bottom-detail":"frontend-pencraft-Box-module__border-bottom-detail--SbXzV","border-left-detail":"frontend-pencraft-Box-module__border-left-detail--KXtc0","border-right-detail":"frontend-pencraft-Box-module__border-right-detail--VmAfT","border-y-detail":"frontend-pencraft-Box-module__border-y-detail--UQJY8","border-detail-themed":"frontend-pencraft-Box-module__border-detail-themed--Mv1k0","border-top-detail-themed":"frontend-pencraft-Box-module__border-top-detail-themed--e17yZ","border-bottom-detail-themed":"frontend-pencraft-Box-module__border-bottom-detail-themed--eVwFY","border-left-detail-themed":"frontend-pencraft-Box-module__border-left-detail-themed--SLWvx","border-right-detail-themed":"frontend-pencraft-Box-module__border-right-detail-themed--jYKzL","border-y-detail-themed":"frontend-pencraft-Box-module__border-y-detail-themed--qoWJu","border-radius-6":"frontend-pencraft-Box-module__border-radius-6--lsyIU","border-radius-12":"frontend-pencraft-Box-module__border-radius-12--AmQy9","border-radius-24":"frontend-pencraft-Box-module__border-radius-24--UdDSM","min-width-0":"frontend-pencraft-Box-module__min-width-0--MCJwG","min-height-0":"frontend-pencraft-Box-module__min-height-0--GO2ox","shadow-sm":"frontend-pencraft-Box-module__shadow-sm--diOyW","shadow-md":"frontend-pencraft-Box-module__shadow-md--iNIT9","shadow-lg":"frontend-pencraft-Box-module__shadow-lg--wyu_D","bg-primary":"frontend-pencraft-Box-module__bg-primary--mKqVL","bg-utility-tooltip":"frontend-pencraft-Box-module__bg-utility-tooltip--nYHb_","bg-secondary":"frontend-pencraft-Box-module__bg-secondary--Ub0gU","bg-elevated":"frontend-pencraft-Box-module__bg-elevated--Stdd7",flexGrow:"frontend-pencraft-Box-module__flexGrow--mx4xz",flexAuto:"frontend-pencraft-Box-module__flexAuto--CnX9I",flexFill:"frontend-pencraft-Box-module__flexFill--Bk7kX","overflowY-auto":"frontend-pencraft-Box-module__overflowY-auto--BWUQA","overflowX-auto":"frontend-pencraft-Box-module__overflowX-auto--XwpIO","overflowX-hidden":"frontend-pencraft-Box-module__overflowX-hidden--uRf50","scrollBar-hidden":"frontend-pencraft-Box-module__scrollBar-hidden--fzF31",ellipsis:"frontend-pencraft-Box-module__ellipsis--pBigN","sizing-border-box":"frontend-pencraft-Box-module__sizing-border-box--JDlFM","pullX-4":"frontend-pencraft-Box-module__pullX-4--mcuJr","pullX-6":"frontend-pencraft-Box-module__pullX-6--mt60z","pullX-8":"frontend-pencraft-Box-module__pullX-8--S5L_X","pullX-12":"frontend-pencraft-Box-module__pullX-12--q44Xm","pullX-16":"frontend-pencraft-Box-module__pullX-16--INTA6","pullX-20":"frontend-pencraft-Box-module__pullX-20--ZkA8j","pullX-24":"frontend-pencraft-Box-module__pullX-24--QGV4o","pullX-32":"frontend-pencraft-Box-module__pullX-32--GyMB2","pullX-40":"frontend-pencraft-Box-module__pullX-40--F0UAO","pullX-48":"frontend-pencraft-Box-module__pullX-48--xOl5I","pullX-56":"frontend-pencraft-Box-module__pullX-56--Ns28l","pullX-64":"frontend-pencraft-Box-module__pullX-64--hg4cI","pullX-80":"frontend-pencraft-Box-module__pullX-80--eSVAK","pullX-120":"frontend-pencraft-Box-module__pullX-120--M1no4"}},4924:(z,l,e)=>{"use strict";e.d(l,{Z:()=>o});const o={buttonBase:"frontend-pencraft-Button-module__buttonBase--T0hXz",button:"frontend-pencraft-Button-module__button--d6e9L",grow:"frontend-pencraft-Button-module__grow--PaHXm",size_small:"frontend-pencraft-Button-module__size_small--pFP3O",size_medium:"frontend-pencraft-Button-module__size_medium--PaDMH",size_large:"frontend-pencraft-Button-module__size_large--QbIQV",shadow_medium:"frontend-pencraft-Button-module__shadow_medium--iMIYK",iconButton:"frontend-pencraft-Button-module__iconButton--xpBoH frontend-pencraft-Button-module__buttonBase--T0hXz",size_24:"frontend-pencraft-Button-module__size_24--ydERA",size_32:"frontend-pencraft-Button-module__size_32--KERai",size_36:"frontend-pencraft-Button-module__size_36--VC9z1",size_40:"frontend-pencraft-Button-module__size_40--RASvV",size_48:"frontend-pencraft-Button-module__size_48--yVywS",size_56:"frontend-pencraft-Button-module__size_56--K4npu",rounded:"frontend-pencraft-Button-module__rounded--D6jfD","color_primary-text":"frontend-pencraft-Button-module__color_primary-text--xeutz",fill_borderless:"frontend-pencraft-Button-module__fill_borderless--atCUO",priority_primary:"frontend-pencraft-Button-module__priority_primary--RYgwz","priority_primary-theme":"frontend-pencraft-Button-module__priority_primary-theme--o7dw6","priority_secondary-theme":"frontend-pencraft-Button-module__priority_secondary-theme--YMjyc",priority_secondary:"frontend-pencraft-Button-module__priority_secondary--UEXV6",priority_destructive:"frontend-pencraft-Button-module__priority_destructive--kZRin",priority_twitter:"frontend-pencraft-Button-module__priority_twitter--dbj4H",priority_facebook:"frontend-pencraft-Button-module__priority_facebook--K6d1C",priority_media:"frontend-pencraft-Button-module__priority_media--aBYMP",fill_empty:"frontend-pencraft-Button-module__fill_empty--OPYgN",fill_filled:"frontend-pencraft-Button-module__fill_filled--ysyt0",outline_none:"frontend-pencraft-Button-module__outline_none--V76g2",fill_outline:"frontend-pencraft-Button-module__fill_outline--FmYR9",inverted:"frontend-pencraft-Button-module__inverted--BjUto",textButton:"frontend-pencraft-Button-module__textButton--wjDyp"}},28614:(z,l,e)=>{"use strict";e.d(l,{Z:()=>o});const o={reset:"frontend-pencraft-Text-module__reset--dW0zZ","align-left":"frontend-pencraft-Text-module__align-left--IURXw","align-center":"frontend-pencraft-Text-module__align-center--HMNAZ","align-right":"frontend-pencraft-Text-module__align-right--PcYkZ","size-10":"frontend-pencraft-Text-module__size-10--TjNsS","size-11":"frontend-pencraft-Text-module__size-11--k1e8b","size-12":"frontend-pencraft-Text-module__size-12--KorQF","size-13":"frontend-pencraft-Text-module__size-13--XwZ4Q","size-14":"frontend-pencraft-Text-module__size-14--Ume6q","size-16":"frontend-pencraft-Text-module__size-16--fFowu","size-18":"frontend-pencraft-Text-module__size-18--zqngu","size-20":"frontend-pencraft-Text-module__size-20--rvGME","size-24":"frontend-pencraft-Text-module__size-24--Nqjlj","size-28":"frontend-pencraft-Text-module__size-28--QPmK_","size-32":"frontend-pencraft-Text-module__size-32--oRWIM","size-36":"frontend-pencraft-Text-module__size-36--qcTKl","size-38":"frontend-pencraft-Text-module__size-38--VRHEY","line-height-16":"frontend-pencraft-Text-module__line-height-16--nRbFX","line-height-18":"frontend-pencraft-Text-module__line-height-18--Hqt45","line-height-20":"frontend-pencraft-Text-module__line-height-20--p0dP8","line-height-22":"frontend-pencraft-Text-module__line-height-22--fBCDb","line-height-24":"frontend-pencraft-Text-module__line-height-24--lgb2s","line-height-28":"frontend-pencraft-Text-module__line-height-28--NgO1Q","line-height-30":"frontend-pencraft-Text-module__line-height-30--I_4lx","line-height-32":"frontend-pencraft-Text-module__line-height-32--gncft","line-height-36":"frontend-pencraft-Text-module__line-height-36--XBUKs","line-height-40":"frontend-pencraft-Text-module__line-height-40--IuB7y","line-height-44":"frontend-pencraft-Text-module__line-height-44--FgZZF","weight-light":"frontend-pencraft-Text-module__weight-light--K3kAx","weight-normal":"frontend-pencraft-Text-module__weight-normal--s54Wf","weight-medium":"frontend-pencraft-Text-module__weight-medium--x7khA","weight-semibold":"frontend-pencraft-Text-module__weight-semibold--LJBj3","weight-bold":"frontend-pencraft-Text-module__weight-bold--Ps9DB","weight-extrabold":"frontend-pencraft-Text-module__weight-extrabold--MVDJb","font-display":"frontend-pencraft-Text-module__font-display--KlbfE","font-text":"frontend-pencraft-Text-module__font-text--QmNJR","font-serif":"frontend-pencraft-Text-module__font-serif--vDmr9","font-monospace":"frontend-pencraft-Text-module__font-monospace--d1JCK","font-meta":"frontend-pencraft-Text-module__font-meta--U_nxy","font-digit":"frontend-pencraft-Text-module__font-digit--AusNq","font-emoji":"frontend-pencraft-Text-module__font-emoji--vNv4r","font-pub-headings":"frontend-pencraft-Text-module__font-pub-headings--lbOZ2","font-pub-body":"frontend-pencraft-Text-module__font-pub-body--EYvh6","font-marketing":"frontend-pencraft-Text-module__font-marketing--alZiD","font-style-italic":"frontend-pencraft-Text-module__font-style-italic--pVGY_","color-primary":"frontend-pencraft-Text-module__color-primary--ud4Z0","color-secondary":"frontend-pencraft-Text-module__color-secondary--WRADg","color-tertiary":"frontend-pencraft-Text-module__color-tertiary--Ltr7B","color-success":"frontend-pencraft-Text-module__color-success--DEqmn","color-error":"frontend-pencraft-Text-module__color-error--cPex3","color-substack":"frontend-pencraft-Text-module__color-substack--OEE6X","color-bg-light":"frontend-pencraft-Text-module__color-bg-light--fXepy","color-pub-primary-text":"frontend-pencraft-Text-module__color-pub-primary-text--RzL7j","color-pub-secondary-text":"frontend-pencraft-Text-module__color-pub-secondary-text--OzRTa","color-pub-accent":"frontend-pencraft-Text-module__color-pub-accent--ENUEn","color-accent-red":"frontend-pencraft-Text-module__color-accent-red--XZxwi","color-accent-purple":"frontend-pencraft-Text-module__color-accent-purple--XfjiI","color-accent-blue":"frontend-pencraft-Text-module__color-accent-blue--yq1p7","transform-uppercase":"frontend-pencraft-Text-module__transform-uppercase--IDkUL",ellipsis:"frontend-pencraft-Text-module__ellipsis--K3mj1",nowrap:"frontend-pencraft-Text-module__nowrap--FFIJI",clamp:"frontend-pencraft-Text-module__clamp--a1dYM","clamp-1":"frontend-pencraft-Text-module__clamp-1--qD_7y","clamp-2":"frontend-pencraft-Text-module__clamp-2--kM7cV","clamp-3":"frontend-pencraft-Text-module__clamp-3--R6uR3","clamp-4":"frontend-pencraft-Text-module__clamp-4--UtLMJ","clamp-5":"frontend-pencraft-Text-module__clamp-5--jx7AR","clamp-8":"frontend-pencraft-Text-module__clamp-8--_w8kW","decoration-underline":"frontend-pencraft-Text-module__decoration-underline--sj8pE","decoration-none":"frontend-pencraft-Text-module__decoration-none--fSOnx","decoration-hover-underline":"frontend-pencraft-Text-module__decoration-hover-underline--BEYAn","decoration-line-through":"frontend-pencraft-Text-module__decoration-line-through--savXK","pb-0":"frontend-pencraft-Text-module__pb-0--oJ2zN","pb-4":"frontend-pencraft-Text-module__pb-4--zc_MG","pb-8":"frontend-pencraft-Text-module__pb-8--az5rk","pb-12":"frontend-pencraft-Text-module__pb-12--kc1Oe","pb-16":"frontend-pencraft-Text-module__pb-16--EmDlZ","pb-20":"frontend-pencraft-Text-module__pb-20--H2nTd","pb-24":"frontend-pencraft-Text-module__pb-24--lZquw","pb-28":"frontend-pencraft-Text-module__pb-28--FnB8w","pb-32":"frontend-pencraft-Text-module__pb-32--UAwHd","pl-0":"frontend-pencraft-Text-module__pl-0--M0tOT","pl-4":"frontend-pencraft-Text-module__pl-4--OU99o","pl-8":"frontend-pencraft-Text-module__pl-8--Utyb7","pl-12":"frontend-pencraft-Text-module__pl-12--YSRQc","pl-16":"frontend-pencraft-Text-module__pl-16--Qy2oa","pl-20":"frontend-pencraft-Text-module__pl-20--_jy5A","pl-24":"frontend-pencraft-Text-module__pl-24--CLAKz","pl-28":"frontend-pencraft-Text-module__pl-28--Px2EF","pl-32":"frontend-pencraft-Text-module__pl-32--vPigU","pr-0":"frontend-pencraft-Text-module__pr-0--iu9nM","pr-4":"frontend-pencraft-Text-module__pr-4--CxP4h","pr-8":"frontend-pencraft-Text-module__pr-8--RdjsS","pr-12":"frontend-pencraft-Text-module__pr-12--b4OPu","pr-16":"frontend-pencraft-Text-module__pr-16--Omg1z","pr-20":"frontend-pencraft-Text-module__pr-20--q5Liy","pr-24":"frontend-pencraft-Text-module__pr-24--DLrAp","pr-28":"frontend-pencraft-Text-module__pr-28--CzBqk","pr-32":"frontend-pencraft-Text-module__pr-32--fpeci","pt-0":"frontend-pencraft-Text-module__pt-0--gXXK4","pt-4":"frontend-pencraft-Text-module__pt-4--A76Ib","pt-8":"frontend-pencraft-Text-module__pt-8--UXpDH","pt-12":"frontend-pencraft-Text-module__pt-12--_3VHu","pt-16":"frontend-pencraft-Text-module__pt-16--Q_rgJ","pt-20":"frontend-pencraft-Text-module__pt-20--eahXO","pt-24":"frontend-pencraft-Text-module__pt-24--eHqeF","pt-28":"frontend-pencraft-Text-module__pt-28--y5gSe","pt-32":"frontend-pencraft-Text-module__pt-32--RCWsg",paragraph:"frontend-pencraft-Text-module__paragraph--xwgYU",header1:"frontend-pencraft-Text-module__header1--fN7A4",header2:"frontend-pencraft-Text-module__header2--nd98e",header3:"frontend-pencraft-Text-module__header3--nDAx7",header4:"frontend-pencraft-Text-module__header4--hH3cg",body1:"frontend-pencraft-Text-module__body1--PZGPK",body2:"frontend-pencraft-Text-module__body2--OSJSf",body3:"frontend-pencraft-Text-module__body3--xcwfZ",body4:"frontend-pencraft-Text-module__body4--Pl3xY",meta:"frontend-pencraft-Text-module__meta--jzHdd",digit:"frontend-pencraft-Text-module__digit--Dssbw",marketingHeading1xl:"frontend-pencraft-Text-module__marketingHeading1xl--w2t25",marketingHeading1:"frontend-pencraft-Text-module__marketingHeading1--GilGQ",marketingHeading2:"frontend-pencraft-Text-module__marketingHeading2--Rv1Nh",marketingHeading3:"frontend-pencraft-Text-module__marketingHeading3--nhPu_",marketingHeading4:"frontend-pencraft-Text-module__marketingHeading4--fBhoA",marketingHeading5:"frontend-pencraft-Text-module__marketingHeading5--zmdSS",marketingQuote:"frontend-pencraft-Text-module__marketingQuote--kXKk3",marketingSubtitle:"frontend-pencraft-Text-module__marketingSubtitle--jIk8i",marketingBody:"frontend-pencraft-Text-module__marketingBody--i9R2n"}},51220:(z,l,e)=>{"use strict";e.d(l,{Z:()=>o});const o={input:"frontend-pencraft-unstable-Input-module__input--U6AH5",error:"frontend-pencraft-unstable-Input-module__error--P4ENV",textarea:"frontend-pencraft-unstable-Input-module__textarea--okhMK","font-text":"frontend-pencraft-unstable-Input-module__font-text--OxgAa","font-monospace":"frontend-pencraft-unstable-Input-module__font-monospace--yyu0R"}},28967:(z,l,e)=>{"use strict";e.d(l,{Z:()=>o});const o={variables:"frontend-reader2-FeedPage2-module__variables--ga9s4",page:"frontend-reader2-FeedPage2-module__page--OGZlq",title:"frontend-reader2-FeedPage2-module__title--JGHnF",miniInboxItem:"frontend-reader2-FeedPage2-module__miniInboxItem--NqC6C",newPillContainer:"frontend-reader2-FeedPage2-module__newPillContainer--TSf1w",newPill:"frontend-reader2-FeedPage2-module__newPill--xvF5p",hidden:"frontend-reader2-FeedPage2-module__hidden--ujYZU",facepile:"frontend-reader2-FeedPage2-module__facepile--HJOvk",face:"frontend-reader2-FeedPage2-module__face--ZRQCv",tabIcon:"frontend-reader2-FeedPage2-module__tabIcon--Qq5Ip",feedItem:"frontend-reader2-FeedPage2-module__feedItem--ef_eG",feedUnit:"frontend-reader2-FeedPage2-module__feedUnit--NOehd",showThreadGutter:"frontend-reader2-FeedPage2-module__showThreadGutter--KddYr",hasAvatar:"frontend-reader2-FeedPage2-module__hasAvatar--o1Y14",hasAction:"frontend-reader2-FeedPage2-module__hasAction--USoNb",seeMoreFade:"frontend-reader2-FeedPage2-module__seeMoreFade--ffgtP",seeMoreText:"frontend-reader2-FeedPage2-module__seeMoreText--f6HIr",timestamp:"frontend-reader2-FeedPage2-module__timestamp--vOvEZ",metaTimestamp:"frontend-reader2-FeedPage2-module__metaTimestamp--gFOjC",feedPermalinkUnit:"frontend-reader2-FeedPage2-module__feedPermalinkUnit--uQYlR",permalinkHeader:"frontend-reader2-FeedPage2-module__permalinkHeader--yqFA3",seeMoreReplies:"frontend-reader2-FeedPage2-module__seeMoreReplies--TOlVf",seeMoreThread:"frontend-reader2-FeedPage2-module__seeMoreThread--SvMtw",seeMoreThreadSegment:"frontend-reader2-FeedPage2-module__seeMoreThreadSegment--VoQIF",top:"frontend-reader2-FeedPage2-module__top--sGcdt",hasContext:"frontend-reader2-FeedPage2-module__hasContext--TwqeY",replyUnit:"frontend-reader2-FeedPage2-module__replyUnit--d10O2",quoteText:"frontend-reader2-FeedPage2-module__quoteText--ahbw_",quote:"frontend-reader2-FeedPage2-module__quote--Z5hGM",quoteBottom:"frontend-reader2-FeedPage2-module__quoteBottom--Z0bvr",quoteButton:"frontend-reader2-FeedPage2-module__quoteButton--nnVlK",feedCommentBody:"frontend-reader2-FeedPage2-module__feedCommentBody--igKQl",feedCommentBodyInner:"frontend-reader2-FeedPage2-module__feedCommentBodyInner--sF0AK",underlineLink:"frontend-reader2-FeedPage2-module__underlineLink--pGNvG",disabled:"frontend-reader2-FeedPage2-module__disabled--exFn7",peopleYouMayKnowContainer:"frontend-reader2-FeedPage2-module__peopleYouMayKnowContainer--F9cRd",peopleYouMayKnow:"frontend-reader2-FeedPage2-module__peopleYouMayKnow--asjI3",peopleYouMayKnowArrows:"frontend-reader2-FeedPage2-module__peopleYouMayKnowArrows--I0l3_",seeMore:"frontend-reader2-FeedPage2-module__seeMore--redfx",contextRow:"frontend-reader2-FeedPage2-module__contextRow--kyoQj",contextIcon:"frontend-reader2-FeedPage2-module__contextIcon--Mk5Pv",dot:"frontend-reader2-FeedPage2-module__dot--mrV5k",post:"frontend-reader2-FeedPage2-module__post--o1TR5",postImage:"frontend-reader2-FeedPage2-module__postImage--km4kb",linkImage:"frontend-reader2-FeedPage2-module__linkImage--XP4ld",mobile:"frontend-reader2-FeedPage2-module__mobile--C7yMj",linkImagePlaceholder:"frontend-reader2-FeedPage2-module__linkImagePlaceholder--oCLpB",actionRow:"frontend-reader2-FeedPage2-module__actionRow--CdCf4",actionButton:"frontend-reader2-FeedPage2-module__actionButton--K7BjS",permalink:"frontend-reader2-FeedPage2-module__permalink--w5EPY",heart:"frontend-reader2-FeedPage2-module__heart--JfP7W",more:"frontend-reader2-FeedPage2-module__more--olobi",shrink:"frontend-reader2-FeedPage2-module__shrink--VKuWI",digit:"frontend-reader2-FeedPage2-module__digit--uHKoF",like:"frontend-reader2-FeedPage2-module__like--Q2Xlr",active:"frontend-reader2-FeedPage2-module__active--fMYVL",reply:"frontend-reader2-FeedPage2-module__reply--pjYNC",restack:"frontend-reader2-FeedPage2-module__restack--gbucn",share:"frontend-reader2-FeedPage2-module__share--uhEYz",shortPostText:"frontend-reader2-FeedPage2-module__shortPostText--vek8q",large:"frontend-reader2-FeedPage2-module__large--WBjT8",stat:"frontend-reader2-FeedPage2-module__stat--Uyi9h",reportModal:"frontend-reader2-FeedPage2-module__reportModal--ynkJH",likeButton:"frontend-reader2-FeedPage2-module__likeButton--LvUVd",heartWrapper:"frontend-reader2-FeedPage2-module__heartWrapper--uhZEU",clickedOnce:"frontend-reader2-FeedPage2-module__clickedOnce--X3cwn",isLiked:"frontend-reader2-FeedPage2-module__isLiked--rpD60","heart-bounce":"frontend-reader2-FeedPage2-module__heart-bounce--ZFfaq",spark:"frontend-reader2-FeedPage2-module__spark--M19my","spark-burst":"frontend-reader2-FeedPage2-module__spark-burst--DdwB9",sparks:"frontend-reader2-FeedPage2-module__sparks--MDGJ3",ripple:"frontend-reader2-FeedPage2-module__ripple--ntUbt",userBadge:"frontend-reader2-FeedPage2-module__userBadge--z76kJ",mutedItem:"frontend-reader2-FeedPage2-module__mutedItem--zAMN6",desaturate:"frontend-reader2-FeedPage2-module__desaturate--nMKB1",unhideButton:"frontend-reader2-FeedPage2-module__unhideButton--lwW4T",viewHiddenRepliesButton:"frontend-reader2-FeedPage2-module__viewHiddenRepliesButton--Ids4f",hiddenRepliesSettingsButton:"frontend-reader2-FeedPage2-module__hiddenRepliesSettingsButton--gT41H",hiddenRepliesSettingsButtonIcon:"frontend-reader2-FeedPage2-module__hiddenRepliesSettingsButtonIcon--tfbag"}},7980:(z,l,e)=>{"use strict";e.d(l,{Z:()=>o});const o={avatarLink:"frontend-reader2-NewPost-module__avatarLink--k6p8g",inlineComposer:"frontend-reader2-NewPost-module__inlineComposer--Kcxrs",disabled:"frontend-reader2-NewPost-module__disabled--H5e3r",shareImageButton:"frontend-reader2-NewPost-module__shareImageButton--GEnD0",inlineComposerButton:"frontend-reader2-NewPost-module__inlineComposerButton--VqfS8",mobile:"frontend-reader2-NewPost-module__mobile--KoLCp",isDropping:"frontend-reader2-NewPost-module__isDropping--rlyUL",floatingComposer:"frontend-reader2-NewPost-module__floatingComposer--QzbSz",inputSpacer:"frontend-reader2-NewPost-module__inputSpacer--zsd8O",wordCountIndicator:"frontend-reader2-NewPost-module__wordCountIndicator--eN3TG",exceded:"frontend-reader2-NewPost-module__exceded--K2Uk0",composerModal:"frontend-reader2-NewPost-module__composerModal--i_mLl",setupProfileModalContent:"frontend-reader2-NewPost-module__setupProfileModalContent--CxnXw",modalColumn:"frontend-reader2-NewPost-module__modalColumn--e32_G",dropdownIcon:"frontend-reader2-NewPost-module__dropdownIcon--rxRtk",dropdownMenu:"frontend-reader2-NewPost-module__dropdownMenu--gtepK",pubRow:"frontend-reader2-NewPost-module__pubRow--cgSM7",pubName:"frontend-reader2-NewPost-module__pubName--sA2UJ",linkImage:"frontend-reader2-NewPost-module__linkImage--TodmF",imageContainer:"frontend-reader2-NewPost-module__imageContainer--A8VSd",attachmentContainer:"frontend-reader2-NewPost-module__attachmentContainer--oQMn_",removeImage:"frontend-reader2-NewPost-module__removeImage--nfnT8",removeAttachment:"frontend-reader2-NewPost-module__removeAttachment--fGdwq"}},95042:(z,l,e)=>{"use strict";e.d(l,{Z:()=>o});const o={root:"frontend-reader2-Notifications-module__root--Tsg8L",trigger:"frontend-reader2-Notifications-module__trigger--dMulo",badge:"frontend-reader2-Notifications-module__badge--B7mk_",circle:"frontend-reader2-Notifications-module__circle--Q8siW"}},27797:(z,l,e)=>{"use strict";e.d(l,{Z:()=>o});const o={card:"frontend-reader2-ProfileAndPublicationHoverCard-module__card--J_wFE",publicationPopover:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationPopover--U_ZvV",breakOut:"frontend-reader2-ProfileAndPublicationHoverCard-module__breakOut--mkCoL",hoverCardAvatar:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardAvatar--wb9DE frontend-reader2-ProfileAndPublicationHoverCard-module__breakOut--mkCoL",hoverCardTitle:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardTitle--l2ryd",writesCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__writesCard--Kg6JT",hoverCardSeeAll:"frontend-reader2-ProfileAndPublicationHoverCard-module__hoverCardSeeAll--5trGx",profileHoverCardTarget:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardTarget--Od_YL",publicationHoverCardTarget:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationHoverCardTarget--UjFRs",inline:"frontend-reader2-ProfileAndPublicationHoverCard-module__inline--bEDYo",profileHoverCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCard--k5sNi",publicationHoverCard:"frontend-reader2-ProfileAndPublicationHoverCard-module__publicationHoverCard--sCxL3",profileHoverCardHeader:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardHeader--WYI5h",profileHoverCardNameRow:"frontend-reader2-ProfileAndPublicationHoverCard-module__profileHoverCardNameRow--vDy1W",facepileFace:"frontend-reader2-ProfileAndPublicationHoverCard-module__facepileFace--bOm2O"}},33291:()=>{"use strict";var z={}},57824:z=>{var l=1e3,e=l*60,o=e*60,f=o*24,u=f*7,c=f*365.25;z.exports=function(y,T){T=T||{};var w=typeof y;if(w==="string"&&y.length>0)return _(y);if(w==="number"&&isFinite(y))return T.long?E(y):g(y);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(y))};function _(y){if(y=String(y),!(y.length>100)){var T=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(y);if(T){var w=parseFloat(T[1]),S=(T[2]||"ms").toLowerCase();switch(S){case"years":case"year":case"yrs":case"yr":case"y":return w*c;case"weeks":case"week":case"w":return w*u;case"days":case"day":case"d":return w*f;case"hours":case"hour":case"hrs":case"hr":case"h":return w*o;case"minutes":case"minute":case"mins":case"min":case"m":return w*e;case"seconds":case"second":case"secs":case"sec":case"s":return w*l;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}}function g(y){var T=Math.abs(y);return T>=f?Math.round(y/f)+"d":T>=o?Math.round(y/o)+"h":T>=e?Math.round(y/e)+"m":T>=l?Math.round(y/l)+"s":y+"ms"}function E(y){var T=Math.abs(y);return T>=f?v(y,T,f,"day"):T>=o?v(y,T,o,"hour"):T>=e?v(y,T,e,"minute"):T>=l?v(y,T,l,"second"):y+" ms"}function v(y,T,w,S){var O=T>=w*1.5;return Math.round(y/w)+" "+S+(O?"s":"")}},54125:z=>{/*!
 * mux-embed
 * @version 4.25.0
 * @copyright 2023 Mux, Inc
 */(function(){var l,e;l=this,e=function(){return function(){var o={80:function(c,_,g){c.exports=g(728).default},728:function(c,_,g){"use strict";g.d(_,{default:function(){return wi}});var E=g(48),v=g.n(E),y=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(rt){var Ze=16*Math.random()|0;return(rt==="x"?Ze:3&Ze|8).toString(16)})},T=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)},w=function(rt){return rt&&rt.nodeName!==void 0?(rt.muxId||(rt.muxId=rt.id||T()),rt.muxId):rt},S=function(rt){var Ze;rt&&rt.nodeName!==void 0?rt=w(Ze=rt):Ze=document.querySelector(rt);var et=Ze&&Ze.nodeName?Ze.nodeName.toLowerCase():"";return[Ze,rt,et]},O=g(640),p=g.n(O),d=p().methodFactory;p().methodFactory=function(rt,Ze,et){var ht=d(rt,Ze,et);return function(){for(var mt=["[mux]"],kt=0;kt<arguments.length;kt++)mt.push(arguments[kt]);ht.apply(void 0,mt)}},p().setLevel(p().getLevel());var a=p();function P(){return(v().doNotTrack||v().navigator&&v().navigator.doNotTrack)==="1"}var C={now:function(){var rt=v().performance,Ze=rt&&rt.timing,et=Ze&&Ze.navigationStart,ht=typeof et=="number"&&typeof rt.now=="function"?et+rt.now():Date.now();return Math.round(ht)}},D=function(rt){return A(rt)[0]},A=function(rt){if(typeof rt!="string"||rt==="")return["localhost"];var Ze,et=(rt.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/)||[])[4];return et&&(Ze=(et.match(/[^\.]+\.[^\.]+$/)||[])[0]),[et,Ze]},x={exists:function(){var rt=v().performance;return(rt&&rt.timing)!==void 0},domContentLoadedEventEnd:function(){var rt=v().performance,Ze=rt&&rt.timing;return Ze&&Ze.domContentLoadedEventEnd},navigationStart:function(){var rt=v().performance,Ze=rt&&rt.timing;return Ze&&Ze.navigationStart}};function I(rt,Ze,et){et=et===void 0?1:et,rt[Ze]=rt[Ze]||0,rt[Ze]+=et}var N=["x-request-id","cf-ray","x-amz-cf-id","x-akamai-request-id"],F=["x-cdn","content-type"].concat(N);function B(rt){var Ze={};return(rt=rt||"").trim().split(/[\r\n]+/).forEach(function(et){if(et){var ht=et.split(": "),mt=ht.shift();mt&&(F.indexOf(mt.toLowerCase())>=0||mt.toLowerCase().indexOf("x-litix-")===0)&&(Ze[mt]=ht.join(": "))}}),Ze}function V(rt){if(rt){var Ze=N.find(function(et){return rt[et]!==void 0});return Ze?rt[Ze]:void 0}}var Z=function(rt){var Ze={};for(var et in rt){var ht=rt[et];ht["DATA-ID"].search("io.litix.data.")!==-1&&(Ze[ht["DATA-ID"].replace("io.litix.data.","")]=ht.VALUE)}return Ze};function Y(rt,Ze){var et=Object.keys(rt);if(Object.getOwnPropertySymbols){var ht=Object.getOwnPropertySymbols(rt);Ze&&(ht=ht.filter(function(mt){return Object.getOwnPropertyDescriptor(rt,mt).enumerable})),et.push.apply(et,ht)}return et}function ne(rt){for(var Ze=1;Ze<arguments.length;Ze++){var et=arguments[Ze]!=null?arguments[Ze]:{};Ze%2?Y(Object(et),!0).forEach(function(ht){G(rt,ht,et[ht])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(et)):Y(Object(et)).forEach(function(ht){Object.defineProperty(rt,ht,Object.getOwnPropertyDescriptor(et,ht))})}return rt}function G(rt,Ze,et){return Ze in rt?Object.defineProperty(rt,Ze,{value:et,enumerable:!0,configurable:!0,writable:!0}):rt[Ze]=et,rt}var L=function(rt){if(!rt)return{};var Ze=x.navigationStart(),et=rt.loading,ht=et?et.start:rt.trequest,mt=et?et.first:rt.tfirst,kt=et?et.end:rt.tload;return{bytesLoaded:rt.total,requestStart:Math.round(Ze+ht),responseStart:Math.round(Ze+mt),responseEnd:Math.round(Ze+kt)}},W=function(rt){if(rt&&typeof rt.getAllResponseHeaders=="function")return B(rt.getAllResponseHeaders())};function ie(rt,Ze){var et=Object.keys(rt);if(Object.getOwnPropertySymbols){var ht=Object.getOwnPropertySymbols(rt);Ze&&(ht=ht.filter(function(mt){return Object.getOwnPropertyDescriptor(rt,mt).enumerable})),et.push.apply(et,ht)}return et}function ue(rt){for(var Ze=1;Ze<arguments.length;Ze++){var et=arguments[Ze]!=null?arguments[Ze]:{};Ze%2?ie(Object(et),!0).forEach(function(ht){le(rt,ht,et[ht])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(et)):ie(Object(et)).forEach(function(ht){Object.defineProperty(rt,ht,Object.getOwnPropertyDescriptor(et,ht))})}return rt}function le(rt,Ze,et){return Ze in rt?Object.defineProperty(rt,Ze,{value:et,enumerable:!0,configurable:!0,writable:!0}):rt[Ze]=et,rt}var J=function(rt,Ze){if(!rt||typeof rt.getRequests!="function")return{};var et=rt.getRequests({state:"executed"});if(et.length===0)return{};var ht,mt=et[et.length-1],kt=D(mt.url),Nt=mt.url,Te=mt.bytesLoaded,be=new Date(mt.requestStartDate).getTime(),Ce=new Date(mt.firstByteDate).getTime(),$e=new Date(mt.requestEndDate).getTime(),ft=isNaN(mt.duration)?0:mt.duration,pt=typeof Ze.getMetricsFor=="function"?Ze.getMetricsFor(mt.mediaType).HttpList:Ze.getDashMetrics().getHttpRequests(mt.mediaType);return pt.length>0&&(ht=B(pt[pt.length-1]._responseHeaders||"")),{requestStart:be,requestResponseStart:Ce,requestResponseEnd:$e,requestBytesLoaded:Te,requestResponseHeaders:ht,requestMediaDuration:ft,requestHostname:kt,requestUrl:Nt,requestId:ht?V(ht):void 0}},te=function(rt,Ze){var et=Ze.getQualityFor(rt),ht=Ze.getCurrentTrackFor(rt).bitrateList;return ht?{currentLevel:et,renditionWidth:ht[et].width||null,renditionHeight:ht[et].height||null,renditionBitrate:ht[et].bandwidth}:{}},se=function(rt){var Ze;return(Ze=rt.match(/.*codecs\*?="(.*)"/))===null||Ze===void 0?void 0:Ze[1]};function ee(rt,Ze){for(var et=0;et<Ze.length;et++){var ht=Ze[et];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(rt,ht.key,ht)}}var ae=0,ce=function(){function rt(){(function(mt,kt){if(!(mt instanceof kt))throw new TypeError("Cannot call a class as a function")})(this,rt)}var Ze,et,ht;return Ze=rt,et=[{key:"on",value:function(mt,kt,Nt){return kt._eventEmitterGuid=kt._eventEmitterGuid||++ae,this._listeners=this._listeners||{},this._listeners[mt]=this._listeners[mt]||[],Nt&&(kt=kt.bind(Nt)),this._listeners[mt].push(kt),kt}},{key:"off",value:function(mt,kt){var Nt=this._listeners&&this._listeners[mt];Nt&&Nt.forEach(function(Te,be){Te._eventEmitterGuid===kt._eventEmitterGuid&&Nt.splice(be,1)})}},{key:"one",value:function(mt,kt,Nt){var Te=this;kt._eventEmitterGuid=kt._eventEmitterGuid||++ae;var be=function Ce(){Te.off(mt,Ce),kt.apply(Nt||this,arguments)};be._eventEmitterGuid=kt._eventEmitterGuid,this.on(mt,be)}},{key:"emit",value:function(mt,kt){var Nt=this;if(this._listeners){kt=kt||{};var Te=this._listeners["before*"]||[],be=this._listeners[mt]||[],Ce=this._listeners["after"+mt]||[],$e=function(ft,pt){(ft=ft.slice()).forEach(function(Ct){Ct.call(Nt,{type:mt},pt)})};$e(Te,kt),$e(be,kt),$e(Ce,kt)}}}],et&&ee(Ze.prototype,et),ht&&ee(Ze,ht),Object.defineProperty(Ze,"prototype",{writable:!1}),rt}(),fe=ce;function Ee(rt,Ze){for(var et=0;et<Ze.length;et++){var ht=Ze[et];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(rt,ht.key,ht)}}var de=function(){function rt(mt){var kt=this;(function(Nt,Te){if(!(Nt instanceof Te))throw new TypeError("Cannot call a class as a function")})(this,rt),this.pm=mt,this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,mt.on("playing",function(){kt._playheadShouldBeProgressing=!0}),mt.on("play",this._startPlaybackHeartbeatInterval.bind(this)),mt.on("playing",this._startPlaybackHeartbeatInterval.bind(this)),mt.on("adbreakstart",this._startPlaybackHeartbeatInterval.bind(this)),mt.on("adplay",this._startPlaybackHeartbeatInterval.bind(this)),mt.on("adplaying",this._startPlaybackHeartbeatInterval.bind(this)),mt.on("seeking",this._startPlaybackHeartbeatInterval.bind(this)),mt.on("devicewake",this._startPlaybackHeartbeatInterval.bind(this)),mt.on("viewstart",this._startPlaybackHeartbeatInterval.bind(this)),mt.on("rebufferstart",this._startPlaybackHeartbeatInterval.bind(this)),mt.on("pause",this._stopPlaybackHeartbeatInterval.bind(this)),mt.on("ended",this._stopPlaybackHeartbeatInterval.bind(this)),mt.on("viewend",this._stopPlaybackHeartbeatInterval.bind(this)),mt.on("error",this._stopPlaybackHeartbeatInterval.bind(this)),mt.on("aderror",this._stopPlaybackHeartbeatInterval.bind(this)),mt.on("adpause",this._stopPlaybackHeartbeatInterval.bind(this)),mt.on("adended",this._stopPlaybackHeartbeatInterval.bind(this)),mt.on("adbreakend",this._stopPlaybackHeartbeatInterval.bind(this)),mt.on("seeked",function(){mt.data.player_is_paused?kt._stopPlaybackHeartbeatInterval():kt._startPlaybackHeartbeatInterval()}),mt.on("timeupdate",function(){kt._playbackHeartbeatInterval!==null&&mt.emit("playbackheartbeat")}),mt.on("devicesleep",function(Nt,Te){kt._playbackHeartbeatInterval!==null&&(v().clearInterval(kt._playbackHeartbeatInterval),mt.emit("playbackheartbeatend",{viewer_time:Te.viewer_time}),kt._playbackHeartbeatInterval=null)})}var Ze,et,ht;return Ze=rt,(et=[{key:"_startPlaybackHeartbeatInterval",value:function(){var mt=this;this._playbackHeartbeatInterval===null&&(this.pm.emit("playbackheartbeat"),this._playbackHeartbeatInterval=v().setInterval(function(){mt.pm.emit("playbackheartbeat")},this.pm.playbackHeartbeatTime))}},{key:"_stopPlaybackHeartbeatInterval",value:function(){this._playheadShouldBeProgressing=!1,this._playbackHeartbeatInterval!==null&&(v().clearInterval(this._playbackHeartbeatInterval),this.pm.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)}}])&&Ee(Ze.prototype,et),ht&&Ee(Ze,ht),Object.defineProperty(Ze,"prototype",{writable:!1}),rt}();function _e(rt,Ze){for(var et=0;et<Ze.length;et++){var ht=Ze[et];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(rt,ht.key,ht)}}function ve(rt,Ze,et){return Ze&&_e(rt.prototype,Ze),et&&_e(rt,et),Object.defineProperty(rt,"prototype",{writable:!1}),rt}var De=ve(function rt(Ze){var et=this;(function(ht,mt){if(!(ht instanceof mt))throw new TypeError("Cannot call a class as a function")})(this,rt),Ze.on("viewinit",function(){et.viewErrored=!1}),Ze.on("error",function(ht,mt){try{var kt=Ze.errorTranslator({player_error_code:mt.player_error_code,player_error_message:mt.player_error_message,player_error_context:mt.player_error_context});kt?(Ze.data.player_error_code=kt.player_error_code||mt.player_error_code,Ze.data.player_error_message=kt.player_error_message||mt.player_error_message,Ze.data.player_error_context=kt.player_error_context||mt.player_error_context,et.viewErrored=!0):(delete Ze.data.player_error_code,delete Ze.data.player_error_message,delete Ze.data.player_error_context)}catch(Nt){Ze.mux.log.warn("Exception in error translator callback.",Nt),et.viewErrored=!0}})});function Oe(rt,Ze){for(var et=0;et<Ze.length;et++){var ht=Ze[et];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(rt,ht.key,ht)}}var ye=function(){function rt(mt){(function(kt,Nt){if(!(kt instanceof Nt))throw new TypeError("Cannot call a class as a function")})(this,rt),this.pm=mt,this._watchTimeTrackerLastCheckedTime=null,mt.on("playbackheartbeat",this._updateWatchTime.bind(this)),mt.on("playbackheartbeatend",this._clearWatchTimeState.bind(this))}var Ze,et,ht;return Ze=rt,(et=[{key:"_updateWatchTime",value:function(mt,kt){var Nt=kt.viewer_time;this._watchTimeTrackerLastCheckedTime===null&&(this._watchTimeTrackerLastCheckedTime=Nt),I(this.pm.data,"view_watch_time",Nt-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=Nt}},{key:"_clearWatchTimeState",value:function(mt,kt){this._updateWatchTime(mt,kt),this._watchTimeTrackerLastCheckedTime=null}}])&&Oe(Ze.prototype,et),ht&&Oe(Ze,ht),Object.defineProperty(Ze,"prototype",{writable:!1}),rt}();function ze(rt,Ze){for(var et=0;et<Ze.length;et++){var ht=Ze[et];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(rt,ht.key,ht)}}var Be=function(){function rt(mt){var kt=this;(function(Nt,Te){if(!(Nt instanceof Te))throw new TypeError("Cannot call a class as a function")})(this,rt),this.pm=mt,this._playbackTimeTrackerLastPlayheadPosition=-1,this._lastTime=C.now(),this._isAdPlaying=!1,mt.on("playbackheartbeat",this._updatePlaybackTime.bind(this)),mt.on("playbackheartbeatend",this._clearPlaybackTimeState.bind(this)),mt.on("seeking",this._clearPlaybackTimeState.bind(this)),mt.on("adplaying",function(){kt._isAdPlaying=!0}),mt.on("adended",function(){kt._isAdPlaying=!1}),mt.on("adpause",function(){kt._isAdPlaying=!1}),mt.on("adbreakstart",function(){kt._isAdPlaying=!1}),mt.on("adbreakend",function(){kt._isAdPlaying=!1}),mt.on("adplay",function(){kt._isAdPlaying=!1})}var Ze,et,ht;return Ze=rt,(et=[{key:"_updatePlaybackTime",value:function(){var mt=this.pm.data.player_playhead_time,kt=C.now(),Nt=-1;this._playbackTimeTrackerLastPlayheadPosition>=0&&mt>this._playbackTimeTrackerLastPlayheadPosition?Nt=mt-this._playbackTimeTrackerLastPlayheadPosition:this._isAdPlaying&&(Nt=kt-this._lastTime),Nt>0&&Nt<=1e3&&I(this.pm.data,"view_content_playback_time",Nt),this._playbackTimeTrackerLastPlayheadPosition=mt,this._lastTime=kt}},{key:"_clearPlaybackTimeState",value:function(){this._updatePlaybackTime(),this._playbackTimeTrackerLastPlayheadPosition=-1}}])&&ze(Ze.prototype,et),ht&&ze(Ze,ht),Object.defineProperty(Ze,"prototype",{writable:!1}),rt}();function We(rt,Ze){for(var et=0;et<Ze.length;et++){var ht=Ze[et];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(rt,ht.key,ht)}}var Ke=function(){function rt(mt){(function(Nt,Te){if(!(Nt instanceof Te))throw new TypeError("Cannot call a class as a function")})(this,rt),this.pm=mt;var kt=this._updatePlayheadTime.bind(this);mt.on("playbackheartbeat",kt),mt.on("playbackheartbeatend",kt),mt.on("timeupdate",kt),mt.on("destroy",function(){mt.off("timeupdate",kt)})}var Ze,et,ht;return Ze=rt,(et=[{key:"_updateMaxPlayheadPosition",value:function(){this.pm.data.view_max_playhead_position=this.pm.data.view_max_playhead_position===void 0?this.pm.data.player_playhead_time:Math.max(this.pm.data.view_max_playhead_position,this.pm.data.player_playhead_time)}},{key:"_updatePlayheadTime",value:function(mt,kt){var Nt=this,Te=function(){Nt.pm.currentFragmentPDT&&Nt.pm.currentFragmentStart&&(Nt.pm.data.player_program_time=Nt.pm.currentFragmentPDT+Nt.pm.data.player_playhead_time-Nt.pm.currentFragmentStart)};if(kt&&kt.player_playhead_time)this.pm.data.player_playhead_time=kt.player_playhead_time,Te(),this._updateMaxPlayheadPosition();else if(this.pm.getPlayheadTime){var be=this.pm.getPlayheadTime();be!==void 0&&(this.pm.data.player_playhead_time=be,Te(),this._updateMaxPlayheadPosition())}}}])&&We(Ze.prototype,et),ht&&We(Ze,ht),Object.defineProperty(Ze,"prototype",{writable:!1}),rt}();function Xe(rt,Ze){for(var et=0;et<Ze.length;et++){var ht=Ze[et];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(rt,ht.key,ht)}}function ct(rt,Ze,et){return Ze&&Xe(rt.prototype,Ze),et&&Xe(rt,et),Object.defineProperty(rt,"prototype",{writable:!1}),rt}var Se=3e5,Qe=ct(function rt(Ze){if(function(kt,Nt){if(!(kt instanceof Nt))throw new TypeError("Cannot call a class as a function")}(this,rt),!Ze.disableRebufferTracking){var et,ht=function(kt,Nt){mt(Nt),et=void 0},mt=function(kt){if(et){var Nt=kt.viewer_time-et;I(Ze.data,"view_rebuffer_duration",Nt),et=kt.viewer_time,Ze.data.view_rebuffer_duration>Se&&(Ze.emit("viewend"),Ze.send("viewend"),Ze.mux.log.warn("Ending view after rebuffering for longer than ".concat(Se,"ms, future events will be ignored unless a programchange or videochange occurs.")))}Ze.data.view_watch_time>=0&&Ze.data.view_rebuffer_count>0&&(Ze.data.view_rebuffer_frequency=Ze.data.view_rebuffer_count/Ze.data.view_watch_time,Ze.data.view_rebuffer_percentage=Ze.data.view_rebuffer_duration/Ze.data.view_watch_time)};Ze.on("playbackheartbeat",function(kt,Nt){return mt(Nt)}),Ze.on("rebufferstart",function(kt,Nt){et||(I(Ze.data,"view_rebuffer_count",1),et=Nt.viewer_time,Ze.one("rebufferend",ht))}),Ze.on("viewinit",function(){et=void 0,Ze.off("rebufferend",ht)})}});function ge(rt,Ze){for(var et=0;et<Ze.length;et++){var ht=Ze[et];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(rt,ht.key,ht)}}var Fe=function(){function rt(mt){var kt=this;(function(Nt,Te){if(!(Nt instanceof Te))throw new TypeError("Cannot call a class as a function")})(this,rt),this.pm=mt,mt.disableRebufferTracking||mt.disablePlayheadRebufferTracking||(this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,mt.on("playbackheartbeat",this._checkIfRebuffering.bind(this)),mt.on("playbackheartbeatend",this._cleanupRebufferTracker.bind(this)),mt.on("seeking",function(){kt._cleanupRebufferTracker(null,{viewer_time:C.now()})}))}var Ze,et,ht;return Ze=rt,et=[{key:"_checkIfRebuffering",value:function(mt,kt){if(this.pm.seekingTracker.isSeeking||this.pm.adTracker.isAdBreak||!this.pm.playbackHeartbeat._playheadShouldBeProgressing)this._cleanupRebufferTracker(mt,kt);else if(this._lastCheckedTime!==null)if(this._lastPlayheadTime===this.pm.data.player_playhead_time){var Nt=kt.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.sustainedRebufferThreshold=="number"&&Nt>=this.pm.sustainedRebufferThreshold&&(this._rebuffering||(this._rebuffering=!0,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}))),this._lastCheckedTime=kt.viewer_time}else this._cleanupRebufferTracker(mt,kt,!0);else this._prepareRebufferTrackerState(kt.viewer_time)}},{key:"_clearRebufferTrackerState",value:function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null}},{key:"_prepareRebufferTrackerState",value:function(mt){this._lastCheckedTime=mt,this._lastPlayheadTime=this.pm.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=mt}},{key:"_cleanupRebufferTracker",value:function(mt,kt){var Nt=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(this._rebuffering)this._rebuffering=!1,this.pm.emit("rebufferend",{viewer_time:kt.viewer_time});else{if(this._lastCheckedTime===null)return;var Te=this.pm.data.player_playhead_time-this._lastPlayheadTime,be=kt.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.minimumRebufferDuration=="number"&&Te>0&&be-Te>this.pm.minimumRebufferDuration&&(this._lastCheckedTime=null,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.pm.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+be-Te}))}Nt?this._prepareRebufferTrackerState(kt.viewer_time):this._clearRebufferTrackerState()}}],et&&ge(Ze.prototype,et),ht&&ge(Ze,ht),Object.defineProperty(Ze,"prototype",{writable:!1}),rt}(),Ne=Fe;function lt(rt,Ze){for(var et=0;et<Ze.length;et++){var ht=Ze[et];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(rt,ht.key,ht)}}var Et=function(){function rt(mt){var kt=this;(function(Nt,Te){if(!(Nt instanceof Te))throw new TypeError("Cannot call a class as a function")})(this,rt),this.pm=mt,mt.on("viewinit",function(){var Nt=mt.data,Te=Nt.view_id;if(!Nt.view_program_changed){var be=function(Ce,$e){var ft=$e.viewer_time;Ce.type==="playing"&&mt.data.view_time_to_first_frame===void 0?kt.calculateTimeToFirstFrame(ft||C.now(),Te):Ce.type!=="adplaying"||mt.data.view_time_to_first_frame!==void 0&&!kt._inPrerollPosition()||kt.calculateTimeToFirstFrame(ft||C.now(),Te)};mt.one("playing",be),mt.one("adplaying",be),mt.one("viewend",function(){mt.off("playing",be),mt.off("adplaying",be)})}})}var Ze,et,ht;return Ze=rt,(et=[{key:"_inPrerollPosition",value:function(){return this.pm.data.view_content_playback_time===void 0||this.pm.data.view_content_playback_time<=1e3}},{key:"calculateTimeToFirstFrame",value:function(mt,kt){kt===this.pm.data.view_id&&(this.pm.watchTimeTracker._updateWatchTime(null,{viewer_time:mt}),this.pm.data.view_time_to_first_frame=this.pm.data.view_watch_time,(this.pm.data.player_autoplay_on||this.pm.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.pm.data.view_aggregate_startup_time=this.pm.data.view_start+this.pm.data.view_watch_time-this.NAVIGATION_START))}}])&&lt(Ze.prototype,et),ht&&lt(Ze,ht),Object.defineProperty(Ze,"prototype",{writable:!1}),rt}();function jt(rt,Ze){for(var et=0;et<Ze.length;et++){var ht=Ze[et];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(rt,ht.key,ht)}}function en(rt,Ze,et){return Ze&&jt(rt.prototype,Ze),et&&jt(rt,et),Object.defineProperty(rt,"prototype",{writable:!1}),rt}var vt=en(function rt(Ze){var et=this;(function(ht,mt){if(!(ht instanceof mt))throw new TypeError("Cannot call a class as a function")})(this,rt),Ze.on("viewinit",function(){et._lastPlayheadPosition=-1}),["pause","rebufferstart","seeking","error","adbreakstart","hb"].forEach(function(ht){Ze.on(ht,function(){if(et._lastPlayheadPosition>=0&&Ze.data.player_playhead_time>=0&&et._lastPlayerWidth>=0&&et._lastSourceWidth>0&&et._lastPlayerHeight>=0&&et._lastSourceHeight>0){var mt=Ze.data.player_playhead_time-et._lastPlayheadPosition;if(mt<0)return void(et._lastPlayheadPosition=-1);var kt=Math.min(et._lastPlayerWidth/et._lastSourceWidth,et._lastPlayerHeight/et._lastSourceHeight),Nt=Math.max(0,kt-1),Te=Math.max(0,1-kt);Ze.data.view_max_upscale_percentage=Math.max(Ze.data.view_max_upscale_percentage||0,Nt),Ze.data.view_max_downscale_percentage=Math.max(Ze.data.view_max_downscale_percentage||0,Te),I(Ze.data,"view_total_content_playback_time",mt),I(Ze.data,"view_total_upscaling",Nt*mt),I(Ze.data,"view_total_downscaling",Te*mt)}et._lastPlayheadPosition=-1})}),["playing","hb"].forEach(function(ht){Ze.on(ht,function(){et._lastPlayheadPosition=Ze.data.player_playhead_time,et._lastPlayerWidth=Ze.data.player_width,et._lastPlayerHeight=Ze.data.player_height,et._lastSourceWidth=Ze.data.video_source_width,et._lastSourceHeight=Ze.data.video_source_height})})});function Re(rt,Ze){for(var et=0;et<Ze.length;et++){var ht=Ze[et];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(rt,ht.key,ht)}}function He(rt,Ze,et){return Ze&&Re(rt.prototype,Ze),et&&Re(rt,et),Object.defineProperty(rt,"prototype",{writable:!1}),rt}var ot=He(function rt(Ze){var et=this;(function(ht,mt){if(!(ht instanceof mt))throw new TypeError("Cannot call a class as a function")})(this,rt),this.isSeeking=!1,Ze.on("seeking",function(ht,mt){Object.assign(Ze.data,mt),et._lastSeekingTime=C.now(),et.isSeeking===!1&&(et.isSeeking=!0,Ze.send("seeking"))}),Ze.on("seeked",function(){et.isSeeking=!1;var ht=et._lastSeekingTime||C.now(),mt=C.now()-ht;I(Ze.data,"view_seek_count",1),I(Ze.data,"view_seek_duration",mt);var kt=Ze.data.view_max_seek_time||0;Ze.data.view_max_seek_time=Math.max(kt,mt)}),Ze.on("viewend",function(){et.isSeeking=!1})});function me(rt,Ze){return function(et){if(Array.isArray(et))return et}(rt)||function(et,ht){var mt=et==null?null:typeof Symbol!="undefined"&&et[Symbol.iterator]||et["@@iterator"];if(mt!=null){var kt,Nt,Te=[],be=!0,Ce=!1;try{for(mt=mt.call(et);!(be=(kt=mt.next()).done)&&(Te.push(kt.value),!ht||Te.length!==ht);be=!0);}catch($e){Ce=!0,Nt=$e}finally{try{be||mt.return==null||mt.return()}finally{if(Ce)throw Nt}}return Te}}(rt,Ze)||function(et,ht){if(et){if(typeof et=="string")return ke(et,ht);var mt=Object.prototype.toString.call(et).slice(8,-1);return mt==="Object"&&et.constructor&&(mt=et.constructor.name),mt==="Map"||mt==="Set"?Array.from(et):mt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mt)?ke(et,ht):void 0}}(rt,Ze)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ke(rt,Ze){(Ze==null||Ze>rt.length)&&(Ze=rt.length);for(var et=0,ht=new Array(Ze);et<Ze;et++)ht[et]=rt[et];return ht}function je(rt,Ze){for(var et=0;et<Ze.length;et++){var ht=Ze[et];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(rt,ht.key,ht)}}var Je=function(rt,Ze){rt.push(Ze),rt.sort(function(et,ht){return et.viewer_time-ht.viewer_time})},tt=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror"],Ae=function(){function rt(mt){var kt=this;(function(Te,be){if(!(Te instanceof be))throw new TypeError("Cannot call a class as a function")})(this,rt),this.pm=mt,mt.on("viewinit",function(){kt.isAdBreak=!1,kt._currentAdRequestNumber=0,kt._currentAdResponseNumber=0,kt._adRequests=[],kt._adResponses=[],kt._adHasPlayed=!1,kt._wouldBeNewAdPlay=!0,kt._prerollPlayTime=void 0}),tt.forEach(function(Te){return mt.on(Te,kt._updateAdData.bind(kt))});var Nt=function(){kt.isAdBreak=!1};mt.on("adbreakstart",function(){kt.isAdBreak=!0}),mt.on("play",Nt),mt.on("playing",Nt),mt.on("viewend",Nt),mt.on("adrequest",function(Te,be){be=Object.assign({ad_request_id:"generatedAdRequestId"+kt._currentAdRequestNumber++},be),Je(kt._adRequests,be),I(mt.data,"view_ad_request_count"),kt.inPrerollPosition()&&(mt.data.view_preroll_requested=!0,kt._adHasPlayed||I(mt.data,"view_preroll_request_count"))}),mt.on("adresponse",function(Te,be){be=Object.assign({ad_request_id:"generatedAdRequestId"+kt._currentAdResponseNumber++},be),Je(kt._adResponses,be);var Ce=kt.findAdRequest(be.ad_request_id);Ce&&I(mt.data,"view_ad_request_time",Math.max(0,be.viewer_time-Ce.viewer_time))}),mt.on("adplay",function(Te,be){kt._adHasPlayed=!0,kt._wouldBeNewAdPlay&&(kt._wouldBeNewAdPlay=!1,I(mt.data,"view_ad_played_count")),kt.inPrerollPosition()&&!mt.data.view_preroll_played&&(mt.data.view_preroll_played=!0,kt._adRequests.length>0&&(mt.data.view_preroll_request_time=Math.max(0,be.viewer_time-kt._adRequests[0].viewer_time)),mt.data.view_start&&(mt.data.view_startup_preroll_request_time=Math.max(0,be.viewer_time-mt.data.view_start)),kt._prerollPlayTime=be.viewer_time)}),mt.on("adplaying",function(Te,be){kt.inPrerollPosition()&&mt.data.view_preroll_load_time===void 0&&kt._prerollPlayTime!==void 0&&(mt.data.view_preroll_load_time=be.viewer_time-kt._prerollPlayTime,mt.data.view_startup_preroll_load_time=be.viewer_time-kt._prerollPlayTime)}),mt.on("adended",function(){kt._wouldBeNewAdPlay=!0}),mt.on("aderror",function(){kt._wouldBeNewAdPlay=!0})}var Ze,et,ht;return Ze=rt,(et=[{key:"inPrerollPosition",value:function(){return this.pm.data.view_content_playback_time===void 0||this.pm.data.view_content_playback_time<=1e3}},{key:"findAdRequest",value:function(mt){for(var kt=0;kt<this._adRequests.length;kt++)if(this._adRequests[kt].ad_request_id===mt)return this._adRequests[kt]}},{key:"_updateAdData",value:function(mt,kt){if(this.inPrerollPosition()){if(!this.pm.data.view_preroll_ad_tag_hostname&&kt.ad_tag_url){var Nt=me(A(kt.ad_tag_url),2),Te=Nt[0],be=Nt[1];this.pm.data.view_preroll_ad_tag_domain=be,this.pm.data.view_preroll_ad_tag_hostname=Te}if(!this.pm.data.view_preroll_ad_asset_hostname&&kt.ad_asset_url){var Ce=me(A(kt.ad_asset_url),2),$e=Ce[0],ft=Ce[1];this.pm.data.view_preroll_ad_asset_domain=ft,this.pm.data.view_preroll_ad_asset_hostname=$e}}this.pm.data.ad_asset_url=kt==null?void 0:kt.ad_asset_url,this.pm.data.ad_tag_url=kt==null?void 0:kt.ad_tag_url,this.pm.data.ad_creative_id=kt==null?void 0:kt.ad_creative_id,this.pm.data.ad_id=kt==null?void 0:kt.ad_id,this.pm.data.ad_universal_id=kt==null?void 0:kt.ad_universal_id}}])&&je(Ze.prototype,et),ht&&je(Ze,ht),Object.defineProperty(Ze,"prototype",{writable:!1}),rt}();function H(rt,Ze){for(var et=0;et<Ze.length;et++){var ht=Ze[et];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(rt,ht.key,ht)}}function Q(rt,Ze,et){return Ze&&H(rt.prototype,Ze),et&&H(rt,et),Object.defineProperty(rt,"prototype",{writable:!1}),rt}var pe=Q(function rt(Ze){var et,ht;(function(Te,be){if(!(Te instanceof be))throw new TypeError("Cannot call a class as a function")})(this,rt);var mt=function(){Ze.disableRebufferTracking||et&&(I(Ze.data,"view_waiting_rebuffer_duration",C.now()-et),et=!1,v().clearInterval(ht))},kt=!1,Nt=function(){kt=!1,mt()};Ze.on("waiting",function(){kt&&(Ze.disableRebufferTracking||(I(Ze.data,"view_waiting_rebuffer_count",1),et=C.now(),ht=v().setInterval(function(){if(et){var Te=C.now();I(Ze.data,"view_waiting_rebuffer_duration",Te-et),et=Te}},250)))}),Ze.on("playing",function(){mt(),kt=!0}),Ze.on("pause",Nt),Ze.on("seeking",Nt)});function we(rt,Ze){for(var et=0;et<Ze.length;et++){var ht=Ze[et];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(rt,ht.key,ht)}}function Le(rt,Ze,et){return Ze&&we(rt.prototype,Ze),et&&we(rt,et),Object.defineProperty(rt,"prototype",{writable:!1}),rt}var Ye=Le(function rt(Ze){var et=this;(function(kt,Nt){if(!(kt instanceof Nt))throw new TypeError("Cannot call a class as a function")})(this,rt);var ht=function(){et.lastWallClockTime=C.now(),Ze.on("before*",mt)},mt=function(kt){var Nt=C.now(),Te=et.lastWallClockTime;et.lastWallClockTime=Nt,Nt-Te>3e4&&(Ze.emit("devicesleep",{viewer_time:Te}),Object.assign(Ze.data,{viewer_time:Te}),Ze.send("devicesleep"),Ze.emit("devicewake",{viewer_time:Nt}),Object.assign(Ze.data,{viewer_time:Nt}),Ze.send("devicewake"))};Ze.one("playbackheartbeat",ht),Ze.on("playbackheartbeatend",function(){Ze.off("before*",mt),Ze.one("playbackheartbeat",ht)})}),dt=g(375),st=g(655),_t=g.n(st),Tt="muxData",nn=function(){var rt;try{rt=dt.parse(_t().get(Tt)||"")}catch(Ze){rt={}}return rt},Mn=function(rt){try{_t().set(Tt,dt.stringify(rt),{expires:7300})}catch(Ze){}},tr=function(){var rt=nn();return rt.mux_viewer_id=rt.mux_viewer_id||y(),rt.msn=rt.msn||Math.random(),Mn(rt),{mux_viewer_id:rt.mux_viewer_id,mux_sample_number:rt.msn}};function sr(rt,Ze){var et=Ze.beaconCollectionDomain,ht=Ze.beaconDomain;if(et)return"https://"+et;var mt=ht||"litix.io";return(rt=rt||"inferred").match(/^[a-z0-9]+$/)?"https://"+rt+"."+mt:"https://img.litix.io/a.gif"}var Rt=function(){var rt;switch(Mt()){case"cellular":rt="cellular";break;case"ethernet":rt="wired";break;case"wifi":rt="wifi";break;case void 0:break;default:rt="other"}return rt},Mt=function(){var rt=v().navigator,Ze=rt&&(rt.connection||rt.mozConnection||rt.webkitConnection);return Ze&&Ze.type};Rt.getConnectionFromAPI=Mt;var $t=Rt,vn=dr({a:"env",b:"beacon",c:"custom",d:"ad",e:"event",f:"experiment",i:"internal",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"}),An=dr({ad:"ad",ag:"aggregate",ap:"api",al:"application",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",br:"break",bw:"browser",by:"bytes",ca:"cached",cb:"cancel",cc:"codec",cd:"code",cg:"category",ch:"changed",cl:"canceled",cn:"config",co:"count",ce:"counter",cp:"complete",cr:"creative",ct:"content",cu:"current",cx:"connection",cz:"context",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",dr:"drm",dp:"dropped",du:"duration",dv:"device",ec:"encoding",ed:"edge",en:"end",eg:"engine",em:"embed",er:"error",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",ep:"experiments",fa:"failed",fi:"first",fm:"family",ft:"format",fp:"fps",fq:"frequency",fr:"frame",fs:"fullscreen",ha:"has",hb:"holdback",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mf:"manifest",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mo:"model",mx:"mux",ne:"newest",nm:"name",no:"number",on:"on",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",pg:"program",ph:"playhead",pi:"plugin",pl:"preroll",pn:"playing",po:"poster",pr:"preload",ps:"position",pt:"part",py:"property",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",rm:"remote",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",se:"session",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",st:"start",su:"startup",sv:"server",sw:"software",ta:"tag",tc:"tech",te:"text",tg:"target",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",un:"universal",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"});function dr(rt){var Ze={};for(var et in rt)rt.hasOwnProperty(et)&&(Ze[rt[et]]=et);return Ze}function Pr(rt){var Ze={},et={};return Object.keys(rt).forEach(function(ht){var mt=!1;if(rt.hasOwnProperty(ht)&&rt[ht]!==void 0){var kt=ht.split("_"),Nt=kt[0],Te=vn[Nt];Te||(a.info("Data key word `"+kt[0]+"` not expected in "+ht),Te=Nt+"_"),kt.splice(1).forEach(function(be){be==="url"&&(mt=!0),An[be]?Te+=An[be]:Number(be)&&Math.floor(Number(be))===Number(be)?Te+=be:(a.info("Data key word `"+be+"` not expected in "+ht),Te+="_"+be+"_")}),mt?et[Te]=rt[ht]:Ze[Te]=rt[ht]}}),Object.assign(Ze,et)}var br={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:1e4,maxPayloadKBSize:500},Or=["hb","requestcompleted","requestfailed","requestcanceled"],Lr="https://img.litix.io",Wr=function(rt){var Ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._beaconUrl=rt||Lr,this._eventQueue=[],this._postInFlight=!1,this._failureCount=0,this._sendTimeout=!1,this._options=Object.assign({},br,Ze)};Wr.prototype.queueEvent=function(rt,Ze){var et=Object.assign({},Ze);return(this._eventQueue.length<=this._options.maxQueueLength||rt==="eventrateexceeded")&&(this._eventQueue.push(et),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength)},Wr.prototype.flushEvents=function(){var rt=arguments.length>0&&arguments[0]!==void 0&&arguments[0];rt&&this._eventQueue.length===1?this._eventQueue.pop():(this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending())},Wr.prototype.destroy=function(){var rt=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.destroyed=!0,rt?this._clearBeaconQueue():this.flushEvents(),v().clearTimeout(this._sendTimeout)},Wr.prototype._clearBeaconQueue=function(){var rt=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,Ze=this._eventQueue.slice(rt);rt>0&&Object.assign(Ze[Ze.length-1],Pr({mux_view_message:"event queue truncated"}));var et=this._createPayload(Ze);yo(this._beaconUrl,et,!0,function(){})},Wr.prototype._sendBeaconQueue=function(){var rt=this;if(!this._postInFlight){var Ze=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0;var et=this._createPayload(Ze),ht=C.now();yo(this._beaconUrl,et,!1,function(mt,kt){kt?(rt._eventQueue=Ze.concat(rt._eventQueue),rt._failureCount+=1,a.info("Error sending beacon: "+kt)):rt._failureCount=0,rt._roundTripTime=C.now()-ht,rt._postInFlight=!1})}},Wr.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var rt=Math.pow(2,this._failureCount-1);return(1+(rt*=Math.random()))*this._options.baseTimeBetweenBeacons},Wr.prototype._startBeaconSending=function(){var rt=this;v().clearTimeout(this._sendTimeout),this.destroyed||(this._sendTimeout=v().setTimeout(function(){rt._eventQueue.length&&rt._sendBeaconQueue(),rt._startBeaconSending()},this._getNextBeaconTime()))},Wr.prototype._createPayload=function(rt){var Ze,et,ht,mt=this,kt={transmission_timestamp:Math.round(C.now())};this._roundTripTime&&(kt.rtt_ms=Math.round(this._roundTripTime));var Nt=function(){Ze=JSON.stringify({metadata:kt,events:et||rt}),ht=Ze.length/1024},Te=function(){return ht<=mt._options.maxPayloadKBSize};return Nt(),Te()||(a.info("Payload size is too big ("+ht+" kb). Removing unnecessary events."),et=rt.filter(function(be){return Or.indexOf(be.e)===-1}),Nt()),Te()||(a.info("Payload size still too big ("+ht+" kb). Cropping fields.."),et.forEach(function(be){for(var Ce in be){var $e=be[Ce];typeof $e=="string"&&$e.length>51200&&(be[Ce]=$e.substring(0,51200))}}),Nt()),Ze};var Zr=function(rt){return rt.length<=57344},yo=function(rt,Ze,et,ht){if(et&&navigator&&navigator.sendBeacon&&navigator.sendBeacon(rt,Ze))ht();else if(v().fetch)v().fetch(rt,{method:"POST",body:Ze,headers:{"Content-Type":"text/plain"},keepalive:Zr(Ze)}).then(function(kt){return ht(null,kt.ok?null:"Error")}).catch(function(kt){return ht(null,kt)});else{if(v().XMLHttpRequest){var mt=new(v()).XMLHttpRequest;return mt.onreadystatechange=function(){if(mt.readyState===4)return ht(null,mt.status!==200?"error":void 0)},mt.open("POST",rt),mt.setRequestHeader("Content-Type","text/plain"),void mt.send(Ze)}ht()}},ho=Wr;function $r(rt,Ze){return function(et){if(Array.isArray(et))return et}(rt)||function(et,ht){var mt=et==null?null:typeof Symbol!="undefined"&&et[Symbol.iterator]||et["@@iterator"];if(mt!=null){var kt,Nt,Te=[],be=!0,Ce=!1;try{for(mt=mt.call(et);!(be=(kt=mt.next()).done)&&(Te.push(kt.value),!ht||Te.length!==ht);be=!0);}catch($e){Ce=!0,Nt=$e}finally{try{be||mt.return==null||mt.return()}finally{if(Ce)throw Nt}}return Te}}(rt,Ze)||function(et,ht){if(et){if(typeof et=="string")return co(et,ht);var mt=Object.prototype.toString.call(et).slice(8,-1);return mt==="Object"&&et.constructor&&(mt=et.constructor.name),mt==="Map"||mt==="Set"?Array.from(et):mt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mt)?co(et,ht):void 0}}(rt,Ze)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function co(rt,Ze){(Ze==null||Ze>rt.length)&&(Ze=rt.length);for(var et=0,ht=new Array(Ze);et<Ze;et++)ht[et]=rt[et];return ht}function io(rt,Ze){var et=Object.keys(rt);if(Object.getOwnPropertySymbols){var ht=Object.getOwnPropertySymbols(rt);Ze&&(ht=ht.filter(function(mt){return Object.getOwnPropertyDescriptor(rt,mt).enumerable})),et.push.apply(et,ht)}return et}function Tr(rt){for(var Ze=1;Ze<arguments.length;Ze++){var et=arguments[Ze]!=null?arguments[Ze]:{};Ze%2?io(Object(et),!0).forEach(function(ht){Xr(rt,ht,et[ht])}):Object.getOwnPropertyDescriptors?Object.defineProperties(rt,Object.getOwnPropertyDescriptors(et)):io(Object(et)).forEach(function(ht){Object.defineProperty(rt,ht,Object.getOwnPropertyDescriptor(et,ht))})}return rt}function Hr(rt){return Hr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ze){return typeof Ze}:function(Ze){return Ze&&typeof Symbol=="function"&&Ze.constructor===Symbol&&Ze!==Symbol.prototype?"symbol":typeof Ze},Hr(rt)}function Po(rt,Ze){if(!(rt instanceof Ze))throw new TypeError("Cannot call a class as a function")}function oo(rt,Ze){for(var et=0;et<Ze.length;et++){var ht=Ze[et];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(rt,ht.key,ht)}}function Xr(rt,Ze,et){return Ze in rt?Object.defineProperty(rt,Ze,{value:et,enumerable:!0,configurable:!0,writable:!0}):rt[Ze]=et,rt}var po=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id","player_instance_id"],Oo=["adplay","adplaying","adpause","adfirstquartile","admidpoint","adthirdquartile","adended","adresponse"],ri=["viewstart","error","ended","viewend"],Jt=function(){function rt(mt,kt){var Nt,Te,be,Ce,$e,ft,pt,Ct,St,Bt,Ut,fn,Qt,dn,In,Yn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Po(this,rt),Xr(this,"previousBeaconData",null),Xr(this,"lastEventTime",0),Xr(this,"rateLimited",!1),this.mux=mt,this.envKey=kt,this.options=Yn,this.eventQueue=new ho(sr(this.envKey,this.options)),this.sampleRate=(Nt=this.options.sampleRate)!==null&&Nt!==void 0?Nt:1,this.disableCookies=(Te=this.options.disableCookies)!==null&&Te!==void 0&&Te,this.respectDoNotTrack=(be=this.options.respectDoNotTrack)!==null&&be!==void 0&&be,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed:this.mux.NAME,mux_embed_version:this.mux.VERSION,viewer_application_name:(Ce=this.options.platform)===null||Ce===void 0?void 0:Ce.name,viewer_application_version:($e=this.options.platform)===null||$e===void 0?void 0:$e.version,viewer_application_engine:(ft=this.options.platform)===null||ft===void 0?void 0:ft.layout,viewer_device_name:(pt=this.options.platform)===null||pt===void 0?void 0:pt.product,viewer_device_category:"",viewer_device_manufacturer:(Ct=this.options.platform)===null||Ct===void 0?void 0:Ct.manufacturer,viewer_os_family:(St=this.options.platform)===null||St===void 0||(Bt=St.os)===null||Bt===void 0?void 0:Bt.family,viewer_os_architecture:(Ut=this.options.platform)===null||Ut===void 0||(fn=Ut.os)===null||fn===void 0?void 0:fn.architecture,viewer_os_version:(Qt=this.options.platform)===null||Qt===void 0||(dn=Qt.os)===null||dn===void 0?void 0:dn.version,viewer_connection_type:$t(),page_url:v()===null||v()===void 0||(In=v().location)===null||In===void 0?void 0:In.href},this.viewerData=this.disableCookies?{}:tr()}var Ze,et,ht;return Ze=rt,(et=[{key:"send",value:function(mt,kt){var Nt;if(mt&&kt!=null&&kt.view_id){if(this.respectDoNotTrack&&P())return a.info("Not sending `"+mt+"` because Do Not Track is enabled");if(!kt||Hr(kt)!=="object")return a.error("A data object was expected in send() but was not provided");var Te,be,Ce=this.disableCookies?{}:(Te=nn(),be=C.now(),Te.session_start&&(Te.sst=Te.session_start,delete Te.session_start),Te.session_id&&(Te.sid=Te.session_id,delete Te.session_id),Te.session_expires&&(Te.sex=Te.session_expires,delete Te.session_expires),(!Te.sex||Te.sex<be)&&(Te.sid=y(),Te.sst=be),Te.sex=be+15e5,Mn(Te),{session_id:Te.sid,session_start:Te.sst,session_expires:Te.sex}),$e=Tr(Tr(Tr(Tr(Tr({},this.pageLevelData),kt),Ce),this.viewerData),{},{event:mt,env_key:this.envKey});$e.user_id&&($e.viewer_user_id=$e.user_id,delete $e.user_id);var ft=((Nt=$e.mux_sample_number)!==null&&Nt!==void 0?Nt:0)>=this.sampleRate,pt=Pr(this._deduplicateBeaconData(mt,$e));if(this.lastEventTime=this.mux.utils.now(),ft)return a.info("Not sending event due to sample rate restriction",mt,$e,pt);if(this.envKey||a.info("Missing environment key (envKey) - beacons will be dropped if the video source is not a valid mux video URL",mt,$e,pt),!this.rateLimited){if(a.info("Sending event",mt,$e,pt),this.rateLimited=!this.eventQueue.queueEvent(mt,pt),this.mux.WINDOW_UNLOADING&&mt==="viewend")this.eventQueue.destroy(!0);else if(this.mux.WINDOW_HIDDEN&&mt==="hb"?this.eventQueue.flushEvents(!0):ri.indexOf(mt)>=0&&this.eventQueue.flushEvents(),this.rateLimited)return $e.event="eventrateexceeded",pt=Pr($e),this.eventQueue.queueEvent($e.event,pt),a.error("Beaconing disabled due to rate limit.")}}}},{key:"destroy",value:function(){this.eventQueue.destroy(!1)}},{key:"_deduplicateBeaconData",value:function(mt,kt){var Nt=this,Te={},be=kt.view_id;if(be==="-1"||mt==="viewstart"||mt==="viewend"||!this.previousBeaconData||this.mux.utils.now()-this.lastEventTime>=6e5)Te=Tr({},kt),be&&(this.previousBeaconData=Te),be&&mt==="viewend"&&(this.previousBeaconData=null);else{var Ce=mt.indexOf("request")===0;Object.entries(kt).forEach(function($e){var ft=$r($e,2),pt=ft[0],Ct=ft[1];Nt.previousBeaconData&&(Ct!==Nt.previousBeaconData[pt]||po.indexOf(pt)>-1||Nt.objectHasChanged(Ce,pt,Ct,Nt.previousBeaconData[pt])||Nt.eventRequiresKey(mt,pt))&&(Te[pt]=Ct,Nt.previousBeaconData[pt]=Ct)})}return Te}},{key:"objectHasChanged",value:function(mt,kt,Nt,Te){return!(!mt||kt.indexOf("request_")!==0||kt!=="request_response_headers"&&Hr(Nt)==="object"&&Hr(Te)==="object"&&Object.keys(Nt||{}).length===Object.keys(Te||{}).length)}},{key:"eventRequiresKey",value:function(mt,kt){return mt==="renditionchange"&&kt.indexOf("video_source_")===0||!(kt.indexOf("ad_id")!==0||!Oo.includes(mt))}}])&&oo(Ze.prototype,et),ht&&oo(Ze,ht),Object.defineProperty(Ze,"prototype",{writable:!1}),rt}();function Tn(rt,Ze){for(var et=0;et<Ze.length;et++){var ht=Ze[et];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(rt,ht.key,ht)}}function xn(rt,Ze,et){return Ze&&Tn(rt.prototype,Ze),et&&Tn(rt,et),Object.defineProperty(rt,"prototype",{writable:!1}),rt}var Xn=xn(function rt(Ze){(function(Ce,$e){if(!(Ce instanceof $e))throw new TypeError("Cannot call a class as a function")})(this,rt);var et=0,ht=0,mt=0,kt=0,Nt=0,Te=0,be=0;Ze.on("requestcompleted",function(Ce,$e){var ft,pt,Ct=$e.request_start,St=$e.request_response_start,Bt=$e.request_response_end,Ut=$e.request_bytes_loaded;if(kt++,St?(ft=St-(Ct!=null?Ct:0),pt=(Bt!=null?Bt:0)-St):pt=(Bt!=null?Bt:0)-(Ct!=null?Ct:0),pt>0&&Ut&&Ut>0){var fn=Ut/pt*8e3;Nt++,ht+=Ut,mt+=pt,Ze.data.view_min_request_throughput=Math.min(Ze.data.view_min_request_throughput||1/0,fn),Ze.data.view_average_request_throughput=ht/mt*8e3,Ze.data.view_request_count=kt,ft>0&&(et+=ft,Ze.data.view_max_request_latency=Math.max(Ze.data.view_max_request_latency||0,ft),Ze.data.view_average_request_latency=et/Nt)}}),Ze.on("requestfailed",function(Ce,$e){kt++,Te++,Ze.data.view_request_count=kt,Ze.data.view_request_failed_count=Te}),Ze.on("requestcanceled",function(Ce,$e){kt++,be++,Ze.data.view_request_count=kt,Ze.data.view_request_canceled_count=be})});function xt(rt,Ze){for(var et=0;et<Ze.length;et++){var ht=Ze[et];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(rt,ht.key,ht)}}function Ft(rt,Ze,et){return Ze&&xt(rt.prototype,Ze),et&&xt(rt,et),Object.defineProperty(rt,"prototype",{writable:!1}),rt}var zt=Ft(function rt(Ze){var et=this;(function(ht,mt){if(!(ht instanceof mt))throw new TypeError("Cannot call a class as a function")})(this,rt),Ze.on("before*",function(ht,mt){var kt=mt.viewer_time,Nt=C.now(),Te=et._lastEventTime;if(et._lastEventTime=Nt,Te&&Nt-Te>36e5){var be=Object.keys(Ze.data).reduce(function(Ce,$e){return $e.indexOf("video_")===0?Object.assign(Ce,function(ft,pt,Ct){return pt in ft?Object.defineProperty(ft,pt,{value:Ct,enumerable:!0,configurable:!0,writable:!0}):ft[pt]=Ct,ft}({},$e,Ze.data[$e])):Ce},{});Ze.mux.log.info("Received event after at least an hour inactivity, creating a new view"),Ze.emit("viewinit",Object.assign({viewer_time:kt},be)),Ze.playbackHeartbeat._playheadShouldBeProgressing&&ht.type!=="play"&&ht.type!=="adbreakstart"&&(Ze.emit("play",{viewer_time:kt}),ht.type!=="playing"&&Ze.emit("playing",{viewer_time:kt}))}})});function tn(rt){return tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ze){return typeof Ze}:function(Ze){return Ze&&typeof Symbol=="function"&&Ze.constructor===Symbol&&Ze!==Symbol.prototype?"symbol":typeof Ze},tn(rt)}function rn(rt,Ze){return function(et){if(Array.isArray(et))return et}(rt)||function(et,ht){var mt=et==null?null:typeof Symbol!="undefined"&&et[Symbol.iterator]||et["@@iterator"];if(mt!=null){var kt,Nt,Te=[],be=!0,Ce=!1;try{for(mt=mt.call(et);!(be=(kt=mt.next()).done)&&(Te.push(kt.value),!ht||Te.length!==ht);be=!0);}catch($e){Ce=!0,Nt=$e}finally{try{be||mt.return==null||mt.return()}finally{if(Ce)throw Nt}}return Te}}(rt,Ze)||function(et,ht){if(et){if(typeof et=="string")return ln(et,ht);var mt=Object.prototype.toString.call(et).slice(8,-1);return mt==="Object"&&et.constructor&&(mt=et.constructor.name),mt==="Map"||mt==="Set"?Array.from(et):mt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mt)?ln(et,ht):void 0}}(rt,Ze)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ln(rt,Ze){(Ze==null||Ze>rt.length)&&(Ze=rt.length);for(var et=0,ht=new Array(Ze);et<Ze;et++)ht[et]=rt[et];return ht}function En(rt,Ze){for(var et=0;et<Ze.length;et++){var ht=Ze[et];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(rt,ht.key,ht)}}function Wn(rt,Ze){return Wn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(et,ht){return et.__proto__=ht,et},Wn(rt,Ze)}function kn(rt){var Ze=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(et){return!1}}();return function(){var et,ht=or(rt);if(Ze){var mt=or(this).constructor;et=Reflect.construct(ht,arguments,mt)}else et=ht.apply(this,arguments);return Un(this,et)}}function Un(rt,Ze){if(Ze&&(tn(Ze)==="object"||typeof Ze=="function"))return Ze;if(Ze!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zn(rt)}function Zn(rt){if(rt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return rt}function or(rt){return or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ze){return Ze.__proto__||Object.getPrototypeOf(Ze)},or(rt)}var yt=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","adfirstquartile","admidpoint","adthirdquartile","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled","renditionchange"],Wt=function(rt){(function(Nt,Te){if(typeof Te!="function"&&Te!==null)throw new TypeError("Super expression must either be null or a function");Nt.prototype=Object.create(Te&&Te.prototype,{constructor:{value:Nt,writable:!0,configurable:!0}}),Object.defineProperty(Nt,"prototype",{writable:!1}),Te&&Wn(Nt,Te)})(kt,rt);var Ze,et,ht,mt=kn(kt);function kt(Nt,Te,be){var Ce;(function(St,Bt){if(!(St instanceof Bt))throw new TypeError("Cannot call a class as a function")})(this,kt),(Ce=mt.call(this)).DOM_CONTENT_LOADED_EVENT_END=x.domContentLoadedEventEnd(),Ce.NAVIGATION_START=x.navigationStart(),Ce.mux=Nt,Ce.id=Te,(be=Object.assign({debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,beaconDomain:"litix.io",sampleRate:1,disableCookies:!1,respectDoNotTrack:!1,disableRebufferTracking:!1,disablePlayheadRebufferTracking:!1,errorTranslator:function(St){return St}},be)).data=be.data||{},be.data.property_key&&(be.data.env_key=be.data.property_key,delete be.data.property_key),a.setLevel(be.debug?"debug":"warn"),Ce.getPlayheadTime=be.getPlayheadTime,Ce.getStateData=be.getStateData||function(){return{}},Ce.getAdData=be.getAdData||function(){},Ce.minimumRebufferDuration=be.minimumRebufferDuration,Ce.sustainedRebufferThreshold=be.sustainedRebufferThreshold,Ce.playbackHeartbeatTime=be.playbackHeartbeatTime,Ce.disableRebufferTracking=be.disableRebufferTracking,Ce.disableRebufferTracking&&Ce.mux.log.warn("Disabling rebuffer tracking. This should only be used in specific circumstances as a last resort when your player is known to unreliably track rebuffering."),Ce.disablePlayheadRebufferTracking=be.disablePlayheadRebufferTracking,Ce.errorTranslator=be.errorTranslator,Ce.playbackEventDispatcher=new Jt(Nt,be.data.env_key,be),Ce.data={player_instance_id:y(),mux_sample_rate:be.sampleRate,beacon_domain:be.beaconCollectionDomain?be.beaconCollectionDomain:be.beaconDomain},Ce.data.view_sequence_number=1,Ce.data.player_sequence_number=1,Ce.oldEmit=Ce.emit,Ce.emit=function(St,Bt){Bt=Object.assign({viewer_time:this.mux.utils.now()},Bt),this.oldEmit(St,Bt)};var $e=function(){this.data.view_start===void 0&&(this.data.view_start=this.mux.utils.now(),this.emit("viewstart"))}.bind(Zn(Ce));Ce.on("viewinit",function(St,Bt){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),Object.assign(this.data,Bt),this._initializeViewData(),this.one("play",$e),this.one("adbreakstart",$e)});var ft=function(St){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",St)}.bind(Zn(Ce));if(Ce.on("videochange",function(St,Bt){ft(Bt)}),Ce.on("programchange",function(St,Bt){this.data.player_is_paused&&this.mux.log.warn("The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information."),ft(Object.assign(Bt,{view_program_changed:!0})),$e(),this.emit("play"),this.emit("playing")}),Ce.on("fragmentchange",function(St,Bt){this.currentFragmentPDT=Bt.currentFragmentPDT,this.currentFragmentStart=Bt.currentFragmentStart}),Ce.on("destroy",Ce.destroy),typeof window!="undefined"&&typeof window.addEventListener=="function"&&typeof window.removeEventListener=="function"){var pt=function(){var St=Ce.data.view_start!==void 0;Ce.mux.WINDOW_HIDDEN=document.visibilityState==="hidden",St&&Ce.mux.WINDOW_HIDDEN&&(Ce.data.player_is_paused||Ce.emit("hb"))};window.addEventListener("visibilitychange",pt,!1);var Ct=function(St){St.persisted||Ce.destroy()};window.addEventListener("pagehide",Ct,!1),Ce.on("destroy",function(){window.removeEventListener("visibilitychange",pt),window.removeEventListener("pagehide",Ct)})}return Ce.on("playerready",function(St,Bt){Object.assign(this.data,Bt)}),yt.forEach(function(St){Ce.on(St,function(Bt,Ut){St.indexOf("ad")!==0&&this._updateStateData(),Object.assign(this.data,Ut),this._sanitizeData()}),Ce.on("after"+St,function(){(St!=="error"||this.errorTracker.viewErrored)&&this.send(St)})}),Ce.on("viewend",function(St,Bt){Object.assign(Ce.data,Bt)}),Ce.one("playerready",function(St){var Bt=this.mux.utils.now();this.data.player_init_time&&(this.data.player_startup_time=Bt-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time}),Ce.longResumeTracker=new zt(Zn(Ce)),Ce.errorTracker=new De(Zn(Ce)),new Ye(Zn(Ce)),Ce.seekingTracker=new ot(Zn(Ce)),Ce.playheadTime=new Ke(Zn(Ce)),Ce.playbackHeartbeat=new de(Zn(Ce)),new vt(Zn(Ce)),Ce.watchTimeTracker=new ye(Zn(Ce)),new Be(Zn(Ce)),Ce.adTracker=new Ae(Zn(Ce)),new Ne(Zn(Ce)),new Qe(Zn(Ce)),new Et(Zn(Ce)),new pe(Zn(Ce)),new Xn(Zn(Ce)),be.hlsjs&&Ce.addHLSJS(be),be.dashjs&&Ce.addDashJS(be),Ce.emit("viewinit",be.data),Ce}return Ze=kt,et=[{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.data.view_start!==void 0&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),window.clearTimeout(this._heartBeatTimeout))}},{key:"send",value:function(Nt){if(this.data.view_id){var Te=Object.assign({},this.data);if(Te.video_source_is_live===void 0&&(Te.player_source_duration===1/0||Te.video_source_duration===1/0?Te.video_source_is_live=!0:(Te.player_source_duration>0||Te.video_source_duration>0)&&(Te.video_source_is_live=!1)),Te.video_source_is_live||["player_program_time","player_manifest_newest_program_time","player_live_edge_program_time","player_program_time","video_holdback","video_part_holdback","video_target_duration","video_part_target_duration"].forEach(function(ft){Te[ft]=void 0}),Te.video_source_url=Te.video_source_url||Te.player_source_url,Te.video_source_url){var be=rn(A(Te.video_source_url),2),Ce=be[0],$e=be[1];Te.video_source_domain=$e,Te.video_source_hostname=Ce}delete Te.ad_request_id,this.playbackEventDispatcher.send(Nt,Te),this.data.view_sequence_number++,this.data.player_sequence_number++,this._restartHeartBeat(),Nt==="viewend"&&delete this.data.view_id}}},{key:"_updateStateData",value:function(){Object.assign(this.data,this.getStateData()),this.playheadTime._updatePlayheadTime(),this._sanitizeData()}},{key:"_sanitizeData",value:function(){var Nt=this;["player_width","player_height","video_source_width","video_source_height","player_playhead_time","video_source_bitrate"].forEach(function(Te){var be=parseInt(Nt.data[Te],10);Nt.data[Te]=isNaN(be)?void 0:be}),["player_source_url","video_source_url"].forEach(function(Te){if(Nt.data[Te]){var be=Nt.data[Te].toLowerCase();be.indexOf("data:")!==0&&be.indexOf("blob:")!==0||(Nt.data[Te]="MSE style URL")}})}},{key:"_resetVideoData",value:function(Nt,Te){var be=this;Object.keys(this.data).forEach(function(Ce){Ce.indexOf("video_")===0&&delete be.data[Ce]})}},{key:"_resetViewData",value:function(){var Nt=this;Object.keys(this.data).forEach(function(Te){Te.indexOf("view_")===0&&delete Nt.data[Te]}),this.data.view_sequence_number=1}},{key:"_resetErrorData",value:function(Nt,Te){delete this.data.player_error_code,delete this.data.player_error_message}},{key:"_initializeViewData",value:function(){var Nt=this,Te=this.data.view_id=y(),be=function(){Te===Nt.data.view_id&&I(Nt.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",be):be()}},{key:"_restartHeartBeat",value:function(){var Nt=this;window.clearTimeout(this._heartBeatTimeout),this.errorTracker.viewErrored||(this._heartBeatTimeout=window.setTimeout(function(){Nt.data.player_is_paused||Nt.emit("hb")},1e4))}},{key:"addHLSJS",value:function(Nt){Nt.hlsjs?this.hlsjs?this.mux.log.warn("An instance of HLS.js is already being monitored for this player."):(this.hlsjs=Nt.hlsjs,function(Te,be,Ce){var $e=arguments.length>4?arguments[4]:void 0,ft=Te.log,pt=Te.utils.secondsToMs,Ct=function(lr){var wn,vr=parseInt($e.version);return vr===1&&lr.programDateTime!==null&&(wn=lr.programDateTime),vr===0&&lr.pdt!==null&&(wn=lr.pdt),wn};if(x.exists()){var St=function(lr,wn){return Te.emit(be,lr,wn)},Bt=function(lr,wn){var vr=wn.levels,ur=wn.audioTracks,Dr=wn.url,xr=wn.stats,lo=wn.networkDetails,Io=wn.sessionData,Co={},zr={};vr.forEach(function(jo,it){Co[it]={width:jo.width,height:jo.height,bitrate:jo.bitrate,attrs:jo.attrs}}),ur.forEach(function(jo,it){zr[it]={name:jo.name,language:jo.lang,bitrate:jo.bitrate}});var Vo=L(xr),Ko=Vo.bytesLoaded,ei=Vo.requestStart,Wi=Vo.responseStart,Ci=Vo.responseEnd;St("requestcompleted",ne(ne({},Z(Io)),{},{request_event_type:lr,request_bytes_loaded:Ko,request_start:ei,request_response_start:Wi,request_response_end:Ci,request_type:"manifest",request_hostname:D(Dr),request_response_headers:W(lo),request_rendition_lists:{media:Co,audio:zr,video:{}}}))};Ce.on($e.Events.MANIFEST_LOADED,Bt);var Ut=function(lr,wn){var vr=wn.details,ur=wn.level,Dr=wn.networkDetails,xr=wn.stats,lo=L(xr),Io=lo.bytesLoaded,Co=lo.requestStart,zr=lo.responseStart,Vo=lo.responseEnd,Ko=vr.fragments[vr.fragments.length-1],ei=Ct(Ko)+pt(Ko.duration);St("requestcompleted",{request_event_type:lr,request_bytes_loaded:Io,request_start:Co,request_response_start:zr,request_response_end:Vo,request_current_level:ur,request_type:"manifest",request_hostname:D(vr.url),request_response_headers:W(Dr),video_holdback:vr.holdBack&&pt(vr.holdBack),video_part_holdback:vr.partHoldBack&&pt(vr.partHoldBack),video_part_target_duration:vr.partTarget&&pt(vr.partTarget),video_target_duration:vr.targetduration&&pt(vr.targetduration),video_source_is_live:vr.live,player_manifest_newest_program_time:isNaN(ei)?void 0:ei})};Ce.on($e.Events.LEVEL_LOADED,Ut);var fn=function(lr,wn){var vr=wn.details,ur=wn.networkDetails,Dr=wn.stats,xr=L(Dr),lo=xr.bytesLoaded,Io=xr.requestStart,Co=xr.responseStart,zr=xr.responseEnd;St("requestcompleted",{request_event_type:lr,request_bytes_loaded:lo,request_start:Io,request_response_start:Co,request_response_end:zr,request_type:"manifest",request_hostname:D(vr.url),request_response_headers:W(ur)})};Ce.on($e.Events.AUDIO_TRACK_LOADED,fn);var Qt=function(lr,wn){var vr=wn.stats,ur=wn.networkDetails,Dr=wn.frag;vr=vr||Dr.stats;var xr=L(vr),lo=xr.bytesLoaded,Io=xr.requestStart,Co=xr.responseStart,zr=xr.responseEnd,Vo=ur?W(ur):void 0,Ko={request_event_type:lr,request_bytes_loaded:lo,request_start:Io,request_response_start:Co,request_response_end:zr,request_hostname:ur?D(ur.responseURL):void 0,request_id:Vo?V(Vo):void 0,request_response_headers:Vo,request_media_duration:Dr.duration,request_url:ur==null?void 0:ur.responseURL};Dr.type==="main"?(Ko.request_type="media",Ko.request_current_level=Dr.level,Ko.request_video_width=(Ce.levels[Dr.level]||{}).width,Ko.request_video_height=(Ce.levels[Dr.level]||{}).height,Ko.request_labeled_bitrate=(Ce.levels[Dr.level]||{}).bitrate):Ko.request_type=Dr.type,St("requestcompleted",Ko)};Ce.on($e.Events.FRAG_LOADED,Qt);var dn=function(lr,wn){var vr=wn.frag,ur=vr.start,Dr={currentFragmentPDT:Ct(vr),currentFragmentStart:pt(ur)};St("fragmentchange",Dr)};Ce.on($e.Events.FRAG_CHANGED,dn);var In=function(lr,wn){var vr=wn.type,ur=wn.details,Dr=wn.response,xr=wn.fatal,lo=wn.frag,Io=wn.networkDetails,Co=(lo==null?void 0:lo.url)||wn.url||"",zr=Io?W(Io):void 0;if(ur!==$e.ErrorDetails.MANIFEST_LOAD_ERROR&&ur!==$e.ErrorDetails.MANIFEST_LOAD_TIMEOUT&&ur!==$e.ErrorDetails.FRAG_LOAD_ERROR&&ur!==$e.ErrorDetails.FRAG_LOAD_TIMEOUT&&ur!==$e.ErrorDetails.LEVEL_LOAD_ERROR&&ur!==$e.ErrorDetails.LEVEL_LOAD_TIMEOUT&&ur!==$e.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&ur!==$e.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT&&ur!==$e.ErrorDetails.SUBTITLE_LOAD_ERROR&&ur!==$e.ErrorDetails.SUBTITLE_LOAD_TIMEOUT&&ur!==$e.ErrorDetails.KEY_LOAD_ERROR&&ur!==$e.ErrorDetails.KEY_LOAD_TIMEOUT||St("requestfailed",{request_error:ur,request_url:Co,request_hostname:D(Co),request_id:zr?V(zr):void 0,request_type:ur===$e.ErrorDetails.FRAG_LOAD_ERROR||ur===$e.ErrorDetails.FRAG_LOAD_TIMEOUT?"media":ur===$e.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||ur===$e.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT?"audio":ur===$e.ErrorDetails.SUBTITLE_LOAD_ERROR||ur===$e.ErrorDetails.SUBTITLE_LOAD_TIMEOUT?"subtitle":ur===$e.ErrorDetails.KEY_LOAD_ERROR||ur===$e.ErrorDetails.KEY_LOAD_TIMEOUT?"encryption":"manifest",request_error_code:Dr==null?void 0:Dr.code,request_error_text:Dr==null?void 0:Dr.text}),xr){var Vo,Ko="".concat(Co?"url: ".concat(Co,`
`):"")+"".concat(Dr&&(Dr.code||Dr.text)?"response: ".concat(Dr.code,", ").concat(Dr.text,`
`):"")+"".concat(wn.reason?"failure reason: ".concat(wn.reason,`
`):"")+"".concat(wn.level?"level: ".concat(wn.level,`
`):"")+"".concat(wn.parent?"parent stream controller: ".concat(wn.parent,`
`):"")+"".concat(wn.buffer?"buffer length: ".concat(wn.buffer,`
`):"")+"".concat(wn.error?"error: ".concat(wn.error,`
`):"")+"".concat(wn.event?"event: ".concat(wn.event,`
`):"")+"".concat(wn.err?"error message: ".concat((Vo=wn.err)===null||Vo===void 0?void 0:Vo.message,`
`):"");St("error",{player_error_code:vr,player_error_message:ur,player_error_context:Ko})}};Ce.on($e.Events.ERROR,In);var Yn=function(lr,wn){var vr=wn.frag,ur=vr&&vr._url||"";St("requestcanceled",{request_event_type:lr,request_url:ur,request_type:"media",request_hostname:D(ur)})};Ce.on($e.Events.FRAG_LOAD_EMERGENCY_ABORTED,Yn);var pr=function(lr,wn){var vr=wn.level,ur=Ce.levels[vr];if(ur&&ur.attrs&&ur.attrs.BANDWIDTH){var Dr,xr=ur.attrs.BANDWIDTH,lo=parseFloat(ur.attrs["FRAME-RATE"]);isNaN(lo)||(Dr=lo),xr?St("renditionchange",{video_source_fps:Dr,video_source_bitrate:xr,video_source_width:ur.width,video_source_height:ur.height,video_source_rendition_name:ur.name,video_source_codec:ur==null?void 0:ur.videoCodec}):ft.warn("missing BANDWIDTH from HLS manifest parsed by HLS.js")}};Ce.on($e.Events.LEVEL_SWITCHED,pr),Ce._stopMuxMonitor=function(){Ce.off($e.Events.MANIFEST_LOADED,Bt),Ce.off($e.Events.LEVEL_LOADED,Ut),Ce.off($e.Events.AUDIO_TRACK_LOADED,fn),Ce.off($e.Events.FRAG_LOADED,Qt),Ce.off($e.Events.FRAG_CHANGED,dn),Ce.off($e.Events.ERROR,In),Ce.off($e.Events.FRAG_LOAD_EMERGENCY_ABORTED,Yn),Ce.off($e.Events.LEVEL_SWITCHED,pr),Ce.off($e.Events.DESTROYING,Ce._stopMuxMonitor),delete Ce._stopMuxMonitor},Ce.on($e.Events.DESTROYING,Ce._stopMuxMonitor)}else ft.warn("performance timing not supported. Not tracking HLS.js.")}(this.mux,this.id,Nt.hlsjs,{},Nt.Hls||window.Hls)):this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.")}},{key:"removeHLSJS",value:function(){var Nt;this.hlsjs&&((Nt=this.hlsjs)&&typeof Nt._stopMuxMonitor=="function"&&Nt._stopMuxMonitor(),this.hlsjs=void 0)}},{key:"addDashJS",value:function(Nt){Nt.dashjs?this.dashjs?this.mux.log.warn("An instance of Dash.js is already being monitored for this player."):(this.dashjs=Nt.dashjs,function(Te,be,Ce){var $e=Te.log;if(Ce&&Ce.on){var ft=function(Yn,pr){return Te.emit(be,Yn,pr)},pt=function(Yn){var pr=Yn.type,lr=(Yn.data||{}).url;ft("requestcompleted",{request_event_type:pr,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:"manifest",request_hostname:D(lr),request_url:lr})};Ce.on("manifestLoaded",pt);var Ct={},St=function(Yn){var pr=Yn.type,lr=Yn.fragmentModel,wn=(Yn.chunk||{}).mediaInfo||{},vr=wn.type,ur=wn.bitrateList,Dr={};(ur=ur||[]).forEach(function(Ci,jo){Dr[jo]={},Dr[jo].width=Ci.width,Dr[jo].height=Ci.height,Dr[jo].bitrate=Ci.bandwidth,Dr[jo].attrs={}}),vr==="video"?Ct.video=Dr:vr==="audio"?Ct.audio=Dr:Ct.media=Dr;var xr=J(lr,Ce),lo=xr.requestStart,Io=xr.requestResponseStart,Co=xr.requestResponseEnd,zr=xr.requestResponseHeaders,Vo=xr.requestMediaDuration,Ko=xr.requestHostname,ei=xr.requestUrl,Wi=xr.requestId;ft("requestcompleted",{request_event_type:pr,request_start:lo,request_response_start:Io,request_response_end:Co,request_bytes_loaded:-1,request_type:vr+"_init",request_response_headers:zr,request_hostname:Ko,request_id:Wi,request_url:ei,request_media_duration:Vo,request_rendition_lists:Ct})};Ce.on("initFragmentLoaded",St);var Bt=function(Yn){var pr=Yn.type,lr=Yn.fragmentModel,wn=Yn.chunk||{},vr=wn.mediaInfo,ur=wn.start,Dr=(vr||{}).type,xr=J(lr,Ce),lo=xr.requestStart,Io=xr.requestResponseStart,Co=xr.requestResponseEnd,zr=xr.requestBytesLoaded,Vo=xr.requestResponseHeaders,Ko=xr.requestMediaDuration,ei=xr.requestHostname,Wi=xr.requestUrl,Ci=xr.requestId,jo=te(Dr,Ce),it=jo.currentLevel,at=jo.renditionWidth,Ot=jo.renditionHeight,Kt=jo.renditionBitrate;ft("requestcompleted",{request_event_type:pr,request_start:lo,request_response_start:Io,request_response_end:Co,request_bytes_loaded:zr,request_type:Dr,request_response_headers:Vo,request_hostname:ei,request_id:Ci,request_url:Wi,request_media_start_time:ur,request_media_duration:Ko,request_current_level:it,request_labeled_bitrate:Kt,request_video_width:at,request_video_height:Ot})};Ce.on("mediaFragmentLoaded",Bt);var Ut={video:void 0,audio:void 0,totalBitrate:void 0},fn=function(){if(Ut.video&&typeof Ut.video.bitrate=="number"){if(Ut.video.width&&Ut.video.height){var Yn=Ut.video.bitrate;return Ut.audio&&typeof Ut.audio.bitrate=="number"&&(Yn+=Ut.audio.bitrate),Yn!==Ut.totalBitrate?(Ut.totalBitrate=Yn,{video_source_bitrate:Yn,video_source_height:Ut.video.height,video_source_width:Ut.video.width,video_source_codec:se(Ut.video.codec)}):void 0}$e.warn("have bitrate info for video but missing width/height")}},Qt=function(Yn,pr,lr){if(typeof Yn.newQuality=="number"){var wn=Yn.mediaType;if(wn==="audio"||wn==="video"){var vr=Ce.getBitrateInfoListFor(wn).find(function(Dr){return Dr.qualityIndex===Yn.newQuality});if(vr&&typeof vr.bitrate=="number"){Ut[wn]=ue(ue({},vr),{},{codec:Ce.getCurrentTrackFor(wn).codec});var ur=fn();ur&&ft("renditionchange",ur)}else $e.warn("missing bitrate info for ".concat(wn))}}else $e.warn("missing evt.newQuality in qualityChangeRendered event",Yn)};Ce.on("qualityChangeRendered",Qt);var dn=function(Yn){var pr=Yn.request,lr=Yn.mediaType;ft("requestcanceled",{request_event_type:(pr=pr||{}).type+"_"+pr.action,request_url:pr.url,request_type:lr,request_hostname:D(pr.url)})};Ce.on("fragmentLoadingAbandoned",dn);var In=function(Yn){var pr,lr,wn=Yn.error,vr=(wn==null||(pr=wn.data)===null||pr===void 0?void 0:pr.request)||{},ur=(wn==null||(lr=wn.data)===null||lr===void 0?void 0:lr.response)||{};(wn==null?void 0:wn.code)===27&&ft("requestfailed",{request_error:vr.type+"_"+vr.action,request_url:vr.url,request_hostname:D(vr.url),request_type:vr.mediaType,request_error_code:ur.status,request_error_text:ur.statusText});var Dr="".concat(vr!=null&&vr.url?"url: ".concat(vr.url,`
`):"")+"".concat(ur!=null&&ur.status||ur!=null&&ur.statusText?"response: ".concat(ur==null?void 0:ur.status,", ").concat(ur==null?void 0:ur.statusText,`
`):"");ft("error",{player_error_code:wn==null?void 0:wn.code,player_error_message:wn==null?void 0:wn.message,player_error_context:Dr})};Ce.on("error",In),Ce._stopMuxMonitor=function(){Ce.off("manifestLoaded",pt),Ce.off("initFragmentLoaded",St),Ce.off("mediaFragmentLoaded",Bt),Ce.off("qualityChangeRendered",Qt),Ce.off("error",In),Ce.off("fragmentLoadingAbandoned",dn),delete Ce._stopMuxMonitor}}else $e.warn("Invalid dash.js player reference. Monitoring blocked.")}(this.mux,this.id,Nt.dashjs)):this.mux.log.warn("You must pass a valid dashjs instance in order to track it.")}},{key:"removeDashJS",value:function(){var Nt;this.dashjs&&((Nt=this.dashjs)&&typeof Nt._stopMuxMonitor=="function"&&Nt._stopMuxMonitor(),this.dashjs=void 0)}}],et&&En(Ze.prototype,et),ht&&En(Ze,ht),Object.defineProperty(Ze,"prototype",{writable:!1}),kt}(fe),Zt=Wt,Xt=g(153),Dn=g.n(Xt);function Cn(rt){return Cn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ze){return typeof Ze}:function(Ze){return Ze&&typeof Symbol=="function"&&Ze.constructor===Symbol&&Ze!==Symbol.prototype?"symbol":typeof Ze},Cn(rt)}function On(rt,Ze){return function(et){if(Array.isArray(et))return et}(rt)||function(et,ht){var mt=et==null?null:typeof Symbol!="undefined"&&et[Symbol.iterator]||et["@@iterator"];if(mt!=null){var kt,Nt,Te=[],be=!0,Ce=!1;try{for(mt=mt.call(et);!(be=(kt=mt.next()).done)&&(Te.push(kt.value),!ht||Te.length!==ht);be=!0);}catch($e){Ce=!0,Nt=$e}finally{try{be||mt.return==null||mt.return()}finally{if(Ce)throw Nt}}return Te}}(rt,Ze)||function(et,ht){if(et){if(typeof et=="string")return zn(et,ht);var mt=Object.prototype.toString.call(et).slice(8,-1);return mt==="Object"&&et.constructor&&(mt=et.constructor.name),mt==="Map"||mt==="Set"?Array.from(et):mt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mt)?zn(et,ht):void 0}}(rt,Ze)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zn(rt,Ze){(Ze==null||Ze>rt.length)&&(Ze=rt.length);for(var et=0,ht=new Array(Ze);et<Ze;et++)ht[et]=rt[et];return ht}var Ir,no=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],Yr={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"};v()&&v().WeakMap&&(Ir=new WeakMap);var Mr="#EXT-X-TARGETDURATION",Qr="#EXT-X-PART-INF",_o="#EXT-X-SERVER-CONTROL",ci="#EXTINF",Uo="#EXT-X-PROGRAM-DATE-TIME",So="#EXT-X-VERSION",Yo="#EXT-X-SESSION-DATA",bo=function(rt){return this.buffer="",this.manifest={segments:[],serverControl:{},sessionData:{}},this.currentUri={},this.process(rt),this.manifest};bo.prototype.process=function(rt){var Ze;for(this.buffer+=rt,Ze=this.buffer.indexOf(`
`);Ze>-1;Ze=this.buffer.indexOf(`
`))this.processLine(this.buffer.substring(0,Ze)),this.buffer=this.buffer.substring(Ze+1)},bo.prototype.processLine=function(rt){var Ze=rt.indexOf(":"),et=Jo(rt,Ze),ht=et[0],mt=et.length===2?oi(et[1]):void 0;if(ht[0]!=="#")this.currentUri.uri=ht,this.manifest.segments.push(this.currentUri),this.manifest.targetDuration&&!("duration"in this.currentUri)&&(this.currentUri.duration=this.manifest.targetDuration),this.currentUri={};else switch(ht){case Mr:if(!isFinite(mt)||mt<0)return;this.manifest.targetDuration=mt,this.setHoldBack();break;case Qr:To(this.manifest,et),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),this.setHoldBack();break;case _o:To(this.manifest,et),this.setHoldBack();break;case ci:mt===0?this.currentUri.duration=.01:mt>0&&(this.currentUri.duration=mt);break;case Uo:var kt=mt,Nt=new Date(kt);this.manifest.dateTimeString||(this.manifest.dateTimeString=kt,this.manifest.dateTimeObject=Nt),this.currentUri.dateTimeString=kt,this.currentUri.dateTimeObject=Nt;break;case So:To(this.manifest,et);break;case Yo:var Te=ji(et[1]),be=Z(Te);Object.assign(this.manifest.sessionData,be)}},bo.prototype.setHoldBack=function(){var rt=this.manifest,Ze=rt.serverControl,et=rt.targetDuration,ht=rt.partTargetDuration;if(Ze){var mt="holdBack",kt="partHoldBack",Nt=et&&3*et,Te=ht&&2*ht;et&&!Ze.hasOwnProperty(mt)&&(Ze[mt]=Nt),Nt&&Ze[mt]<Nt&&(Ze[mt]=Nt),ht&&!Ze.hasOwnProperty(kt)&&(Ze[kt]=3*ht),ht&&Ze[kt]<Te&&(Ze[kt]=Te)}};var To=function(rt,Ze){var et,ht=vi(Ze[0].replace("#EXT-X-",""));ii(Ze[1])?(et={},et=Object.assign(pi(Ze[1]),et)):et=oi(Ze[1]),rt[ht]=et},vi=function(rt){return rt.toLowerCase().replace(/-(\w)/g,function(Ze){return Ze[1].toUpperCase()})},oi=function(rt){if(rt.toLowerCase()==="yes"||rt.toLowerCase()==="no")return rt.toLowerCase()==="yes";var Ze=rt.indexOf(":")!==-1?rt:parseFloat(rt);return isNaN(Ze)?rt:Ze},di=function(rt){var Ze={},et=rt.split("=");return et.length>1&&(Ze[vi(et[0])]=oi(et[1])),Ze},pi=function(rt){for(var Ze=rt.split(","),et={},ht=0;Ze.length>ht;ht++){var mt=Ze[ht],kt=di(mt);et=Object.assign(kt,et)}return et},ii=function(rt){return rt.indexOf("=")>-1},Jo=function(rt,Ze){return Ze===-1?[rt]:[rt.substring(0,Ze),rt.substring(Ze+1)]},ji=function(rt){var Ze={};if(rt){var et=rt.search(",");return[rt.slice(0,et),rt.slice(et+1)].forEach(function(ht,mt){for(var kt=ht.replace(/['"]+/g,"").split("="),Nt=0;Nt<kt.length;Nt++)kt[Nt]==="DATA-ID"&&(Ze["DATA-ID"]=kt[1-Nt]),kt[Nt]==="VALUE"&&(Ze.VALUE=kt[1-Nt])}),{data:Ze}}},Ei=bo,so={safeCall:function(rt,Ze,et,ht){var mt=ht;if(rt&&typeof rt[Ze]=="function")try{mt=rt[Ze].apply(rt,et)}catch(kt){a.info("safeCall error",kt)}return mt},safeIncrement:I,getComputedStyle:function(rt,Ze){var et;if(rt&&Ze&&v()&&typeof v().getComputedStyle=="function")return Ir&&Ir.has(rt)&&(et=Ir.get(rt)),et||(et=v().getComputedStyle(rt,null),Ir&&Ir.set(rt,et)),et.getPropertyValue(Ze)},secondsToMs:function(rt){return Math.floor(1e3*rt)},assign:Object.assign,headersStringToObject:B,cdnHeadersToRequestId:V,extractHostnameAndDomain:A,extractHostname:D,manifestParser:Ei,generateShortID:T,generateUUID:y,now:C.now},mi={PLAYER_READY:"playerready",VIEW_INIT:"viewinit",VIDEO_CHANGE:"videochange",PLAY:"play",PAUSE:"pause",PLAYING:"playing",TIME_UPDATE:"timeupdate",SEEKING:"seeking",SEEKED:"seeked",REBUFFER_START:"rebufferstart",REBUFFER_END:"rebufferend",ERROR:"error",ENDED:"ended",RENDITION_CHANGE:"renditionchange",ORIENTATION_CHANGE:"orientationchange",AD_REQUEST:"adrequest",AD_RESPONSE:"adresponse",AD_BREAK_START:"adbreakstart",AD_PLAY:"adplay",AD_PLAYING:"adplaying",AD_PAUSE:"adpause",AD_FIRST_QUARTILE:"adfirstquartile",AD_MID_POINT:"admidpoint",AD_THIRD_QUARTILE:"adthirdquartile",AD_ENDED:"adended",AD_BREAK_END:"adbreakend",AD_ERROR:"aderror",REQUEST_COMPLETED:"requestcompleted",REQUEST_FAILED:"requestfailed",REQUEST_CANCELLED:"requestcanceled"};function Mi(rt,Ze){return function(et){if(Array.isArray(et))return et}(rt)||function(et,ht){var mt=et==null?null:typeof Symbol!="undefined"&&et[Symbol.iterator]||et["@@iterator"];if(mt!=null){var kt,Nt,Te=[],be=!0,Ce=!1;try{for(mt=mt.call(et);!(be=(kt=mt.next()).done)&&(Te.push(kt.value),!ht||Te.length!==ht);be=!0);}catch($e){Ce=!0,Nt=$e}finally{try{be||mt.return==null||mt.return()}finally{if(Ce)throw Nt}}return Te}}(rt,Ze)||function(et,ht){if(et){if(typeof et=="string")return si(et,ht);var mt=Object.prototype.toString.call(et).slice(8,-1);return mt==="Object"&&et.constructor&&(mt=et.constructor.name),mt==="Map"||mt==="Set"?Array.from(et):mt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(mt)?si(et,ht):void 0}}(rt,Ze)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function si(rt,Ze){(Ze==null||Ze>rt.length)&&(Ze=rt.length);for(var et=0,ht=new Array(Ze);et<Ze;et++)ht[et]=rt[et];return ht}var Fo={},ai=function rt(Ze){var et=arguments;typeof Ze=="string"?rt.hasOwnProperty(Ze)?v().setTimeout(function(){et=Array.prototype.splice.call(et,1),rt[Ze].apply(null,et)},0):a.warn("`"+Ze+"` is an unknown task"):typeof Ze=="function"?v().setTimeout(function(){Ze(rt)},0):a.warn("`"+Ze+"` is invalid.")},qo={loaded:C.now(),NAME:"mux-embed",VERSION:"4.25.0",API_VERSION:"2.1",PLAYER_TRACKED:!1,monitor:function(rt,Ze){return function(et,ht,mt){var kt=On(S(ht),3),Nt=kt[0],Te=kt[1],be=kt[2],Ce=et.log,$e=et.utils.getComputedStyle,ft=et.utils.secondsToMs;if(!Nt)return Ce.error("No element was found with the `"+Te+"` query selector.");if(be!=="video"&&be!=="audio")return Ce.error("The element of `"+Te+"` was not a media element.");Nt.mux&&(Nt.mux.destroy(),delete Nt.mux,Ce.warn("Already monitoring this video element, replacing existing event listeners")),(mt=Object.assign({automaticErrorTracking:!0},mt)).data=Object.assign({player_software:"HTML5 Video Element",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:et.VERSION},mt.data),mt.getPlayheadTime=function(){return ft(Nt.currentTime)},mt.getStateData=function(){var Ct,St,Bt=this.hlsjs&&this.hlsjs.url,Ut=this.dashjs&&Cn(this.dashjs.getSource==="function")&&this.dashjs.getSource(),fn={player_is_paused:Nt.paused,player_playhead_time:ft(Nt.currentTime),player_width:parseInt($e(Nt,"width")),player_height:parseInt($e(Nt,"height")),player_autoplay_on:Nt.autoplay,player_preload_on:Nt.preload,player_language_code:Nt.lang,player_is_fullscreen:Dn()&&!!(Dn().fullscreenElement||Dn().webkitFullscreenElement||Dn().mozFullScreenElement||Dn().msFullscreenElement),video_poster_url:Nt.poster,video_source_url:Bt||Ut||Nt.currentSrc,video_source_duration:ft(Nt.duration),video_source_height:Nt.videoHeight,video_source_width:Nt.videoWidth,view_dropped_frame_count:(Ct=Nt)===null||Ct===void 0||(St=Ct.getVideoPlaybackQuality)===null||St===void 0?void 0:St.call(Ct).droppedVideoFrames},Qt=mt.getPlayheadTime();if(Nt.getStartDate&&Qt>0){var dn=Nt.getStartDate();if(dn&&typeof dn.getTime=="function"&&dn.getTime()){var In=dn.getTime();if(fn.player_program_time=In+Qt,Nt.seekable.length>0){var Yn=In+Nt.seekable.end(Nt.seekable.length-1);fn.player_live_edge_program_time=Yn}}}return fn},Nt.mux=Nt.mux||{},Nt.mux.deleted=!1,Nt.mux.emit=function(Ct,St){et.emit(Te,Ct,St)};var pt=function(){Ce.error("The monitor for this video element has already been destroyed.")};Nt.mux.destroy=function(){Object.keys(Nt.mux.listeners).forEach(function(Ct){Nt.removeEventListener(Ct,Nt.mux.listeners[Ct],!1)}),delete Nt.mux.listeners,Nt.mux.destroy=pt,Nt.mux.swapElement=pt,Nt.mux.emit=pt,Nt.mux.addHLSJS=pt,Nt.mux.addDashJS=pt,Nt.mux.removeHLSJS=pt,Nt.mux.removeDashJS=pt,Nt.mux.deleted=!0,et.emit(Te,"destroy")},Nt.mux.swapElement=function(Ct){var St=On(S(Ct),3),Bt=St[0],Ut=St[1],fn=St[2];return Bt?fn!=="video"&&fn!=="audio"?et.log.error("The element of `"+Ut+"` was not a media element."):(Bt.muxId=Nt.muxId,delete Nt.muxId,Bt.mux=Bt.mux||{},Bt.mux.listeners=Object.assign({},Nt.mux.listeners),delete Nt.mux.listeners,Object.keys(Bt.mux.listeners).forEach(function(Qt){Nt.removeEventListener(Qt,Bt.mux.listeners[Qt],!1),Bt.addEventListener(Qt,Bt.mux.listeners[Qt],!1)}),Bt.mux.swapElement=Nt.mux.swapElement,Bt.mux.destroy=Nt.mux.destroy,delete Nt.mux,void(Nt=Bt)):et.log.error("No element was found with the `"+Ut+"` query selector.")},Nt.mux.addHLSJS=function(Ct){et.addHLSJS(Te,Ct)},Nt.mux.addDashJS=function(Ct){et.addDashJS(Te,Ct)},Nt.mux.removeHLSJS=function(){et.removeHLSJS(Te)},Nt.mux.removeDashJS=function(){et.removeDashJS(Te)},et.init(Te,mt),et.emit(Te,"playerready"),Nt.paused||(et.emit(Te,"play"),Nt.readyState>2&&et.emit(Te,"playing")),Nt.mux.listeners={},no.forEach(function(Ct){(Ct!=="error"||mt.automaticErrorTracking)&&(Nt.mux.listeners[Ct]=function(){var St={};if(Ct==="error"){if(!Nt.error||Nt.error.code===1)return;St.player_error_code=Nt.error.code,St.player_error_message=Yr[Nt.error.code]||Nt.error.message}et.emit(Te,Ct,St)},Nt.addEventListener(Ct,Nt.mux.listeners[Ct],!1))})}(ai,rt,Ze)},destroyMonitor:function(rt){var Ze=Mi(S(rt),1)[0];Ze&&Ze.mux&&typeof Ze.mux.destroy=="function"?Ze.mux.destroy():a.error("A video element monitor for `"+rt+"` has not been initialized via `mux.monitor`.")},addHLSJS:function(rt,Ze){var et=w(rt);Fo[et]?Fo[et].addHLSJS(Ze):a.error("A monitor for `"+et+"` has not been initialized.")},addDashJS:function(rt,Ze){var et=w(rt);Fo[et]?Fo[et].addDashJS(Ze):a.error("A monitor for `"+et+"` has not been initialized.")},removeHLSJS:function(rt){var Ze=w(rt);Fo[Ze]?Fo[Ze].removeHLSJS():a.error("A monitor for `"+Ze+"` has not been initialized.")},removeDashJS:function(rt){var Ze=w(rt);Fo[Ze]?Fo[Ze].removeDashJS():a.error("A monitor for `"+Ze+"` has not been initialized.")},init:function(rt,Ze){P()&&Ze&&Ze.respectDoNotTrack&&a.info("The browser's Do Not Track flag is enabled - Mux beaconing is disabled.");var et=w(rt);Fo[et]=new Zt(ai,et,Ze)},emit:function(rt,Ze,et){var ht=w(rt);Fo[ht]?(Fo[ht].emit(Ze,et),Ze==="destroy"&&delete Fo[ht]):a.error("A monitor for `"+ht+"` has not been initialized.")},checkDoNotTrack:P,log:a,utils:so,events:mi,WINDOW_HIDDEN:!1,WINDOW_UNLOADING:!1};Object.assign(ai,qo),v()!==void 0&&typeof v().addEventListener=="function"&&v().addEventListener("pagehide",function(rt){rt.persisted||(ai.WINDOW_UNLOADING=!0)},!1);var wi=ai},655:function(c,_,g){var E,v;function y(T){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},y(T);/*!
 * JavaScript Cookie v2.1.3
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */}(function(T){var w=!1;if((v=typeof(E=T)=="function"?E.call(_,g,_,c):E)===void 0||(c.exports=v),w=!0,y(_)==="object"&&(c.exports=T(),w=!0),!w){var S=window.Cookies,O=window.Cookies=T();O.noConflict=function(){return window.Cookies=S,O}}})(function(){var T=function(){for(var w=0,S={};w<arguments.length;w++){var O=arguments[w];for(var p in O)S[p]=O[p]}return S};return function w(S){function O(p,d,a){var P;if(typeof document!="undefined"){if(arguments.length>1){if(typeof(a=T({path:"/"},O.defaults,a)).expires=="number"){var C=new Date;C.setMilliseconds(C.getMilliseconds()+864e5*a.expires),a.expires=C}try{P=JSON.stringify(d),/^[\{\[]/.test(P)&&(d=P)}catch(B){}return d=S.write?S.write(d,p):encodeURIComponent(String(d)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),p=(p=(p=encodeURIComponent(String(p))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[p,"=",d,a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}p||(P={});for(var D=document.cookie?document.cookie.split("; "):[],A=/(%[0-9A-Z]{2})+/g,x=0;x<D.length;x++){var I=D[x].split("="),N=I.slice(1).join("=");N.charAt(0)==='"'&&(N=N.slice(1,-1));try{var F=I[0].replace(A,decodeURIComponent);if(N=S.read?S.read(N,F):S(N,F)||N.replace(A,decodeURIComponent),this.json)try{N=JSON.parse(N)}catch(B){}if(p===F){P=N;break}p||(P[F]=N)}catch(B){}}return P}}return O.set=O,O.get=function(p){return O.call(O,p)},O.getJSON=function(){return O.apply({json:!0},[].slice.call(arguments))},O.defaults={},O.remove=function(p,d){O(p,"",T(d,{expires:-1}))},O.withConverter=w,O}(function(){})})},153:function(c,_,g){var E,v=g.g!==void 0?g.g:typeof window!="undefined"?window:{},y=g(558);typeof document!="undefined"?E=document:(E=v["__GLOBAL_DOCUMENT_CACHE@4"])||(E=v["__GLOBAL_DOCUMENT_CACHE@4"]=y),c.exports=E},48:function(c,_,g){var E;E=typeof window!="undefined"?window:g.g!==void 0?g.g:typeof self!="undefined"?self:{},c.exports=E},640:function(c,_,g){var E,v;(function(y,T){"use strict";E=function(){var w=function(){},S="undefined",O=typeof window!==S&&typeof window.navigator!==S&&/Trident\/|MSIE /.test(window.navigator.userAgent),p=["trace","debug","info","warn","error"];function d(B,V){var Z=B[V];if(typeof Z.bind=="function")return Z.bind(B);try{return Function.prototype.bind.call(Z,B)}catch(Y){return function(){return Function.prototype.apply.apply(Z,[B,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function P(B){return B==="debug"&&(B="log"),typeof console!==S&&(B==="trace"&&O?a:console[B]!==void 0?d(console,B):console.log!==void 0?d(console,"log"):w)}function C(B,V){for(var Z=0;Z<p.length;Z++){var Y=p[Z];this[Y]=Z<B?w:this.methodFactory(Y,B,V)}this.log=this.debug}function D(B,V,Z){return function(){typeof console!==S&&(C.call(this,V,Z),this[B].apply(this,arguments))}}function A(B,V,Z){return P(B)||D.apply(this,arguments)}function x(B,V,Z){var Y,ne=this;V=V==null?"WARN":V;var G="loglevel";function L(le){var J=(p[le]||"silent").toUpperCase();if(typeof window!==S&&G){try{return void(window.localStorage[G]=J)}catch(te){}try{window.document.cookie=encodeURIComponent(G)+"="+J+";"}catch(te){}}}function W(){var le;if(typeof window!==S&&G){try{le=window.localStorage[G]}catch(se){}if(typeof le===S)try{var J=window.document.cookie,te=J.indexOf(encodeURIComponent(G)+"=");te!==-1&&(le=/^([^;]+)/.exec(J.slice(te))[1])}catch(se){}return ne.levels[le]===void 0&&(le=void 0),le}}function ie(){if(typeof window!==S&&G){try{return void window.localStorage.removeItem(G)}catch(le){}try{window.document.cookie=encodeURIComponent(G)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(le){}}}typeof B=="string"?G+=":"+B:typeof B=="symbol"&&(G=void 0),ne.name=B,ne.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},ne.methodFactory=Z||A,ne.getLevel=function(){return Y},ne.setLevel=function(le,J){if(typeof le=="string"&&ne.levels[le.toUpperCase()]!==void 0&&(le=ne.levels[le.toUpperCase()]),!(typeof le=="number"&&le>=0&&le<=ne.levels.SILENT))throw"log.setLevel() called with invalid level: "+le;if(Y=le,J!==!1&&L(le),C.call(ne,le,B),typeof console===S&&le<ne.levels.SILENT)return"No console available for logging"},ne.setDefaultLevel=function(le){V=le,W()||ne.setLevel(le,!1)},ne.resetLevel=function(){ne.setLevel(V,!1),ie()},ne.enableAll=function(le){ne.setLevel(ne.levels.TRACE,le)},ne.disableAll=function(le){ne.setLevel(ne.levels.SILENT,le)};var ue=W();ue==null&&(ue=V),ne.setLevel(ue,!1)}var I=new x,N={};I.getLogger=function(B){if(typeof B!="symbol"&&typeof B!="string"||B==="")throw new TypeError("You must supply a name when creating a logger.");var V=N[B];return V||(V=N[B]=new x(B,I.getLevel(),I.methodFactory)),V};var F=typeof window!==S?window.log:void 0;return I.noConflict=function(){return typeof window!==S&&window.log===I&&(window.log=F),I},I.getLoggers=function(){return N},I.default=I,I},(v=typeof E=="function"?E.call(_,g,_,c):E)===void 0||(c.exports=v)})()},375:function(c,_){"use strict";var g=Object.prototype.hasOwnProperty;function E(y){try{return decodeURIComponent(y.replace(/\+/g," "))}catch(T){return null}}function v(y){try{return encodeURIComponent(y)}catch(T){return null}}_.stringify=function(y,T){T=T||"";var w,S,O=[];for(S in typeof T!="string"&&(T="?"),y)if(g.call(y,S)){if((w=y[S])||w!=null&&!isNaN(w)||(w=""),S=v(S),w=v(w),S===null||w===null)continue;O.push(S+"="+w)}return O.length?T+O.join("&"):""},_.parse=function(y){for(var T,w=/([^=?#&]+)=?([^&]*)/g,S={};T=w.exec(y);){var O=E(T[1]),p=E(T[2]);O===null||p===null||O in S||(S[O]=p)}return S}},558:function(){}},f={};function u(c){var _=f[c];if(_!==void 0)return _.exports;var g=f[c]={exports:{}};return o[c].call(g.exports,g,g.exports,u),g.exports}return u.n=function(c){var _=c&&c.__esModule?function(){return c.default}:function(){return c};return u.d(_,{a:_}),_},u.d=function(c,_){for(var g in _)u.o(_,g)&&!u.o(c,g)&&Object.defineProperty(c,g,{enumerable:!0,get:_[g]})},u.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(c){if(typeof window=="object")return window}}(),u.o=function(c,_){return Object.prototype.hasOwnProperty.call(c,_)},u(80)}()},z.exports=e()})()},27418:z=>{"use strict";/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var l=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function f(c){if(c==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(c)}function u(){try{if(!Object.assign)return!1;var c=new String("abc");if(c[5]="de",Object.getOwnPropertyNames(c)[0]==="5")return!1;for(var _={},g=0;g<10;g++)_["_"+String.fromCharCode(g)]=g;var E=Object.getOwnPropertyNames(_).map(function(y){return _[y]});if(E.join("")!=="0123456789")return!1;var v={};return"abcdefghijklmnopqrst".split("").forEach(function(y){v[y]=y}),Object.keys(Object.assign({},v)).join("")==="abcdefghijklmnopqrst"}catch(y){return!1}}z.exports=u()?Object.assign:function(c,_){for(var g,E=f(c),v,y=1;y<arguments.length;y++){g=Object(arguments[y]);for(var T in g)e.call(g,T)&&(E[T]=g[T]);if(l){v=l(g);for(var w=0;w<v.length;w++)o.call(g,v[w])&&(E[v[w]]=g[v[w]])}}return E}},70631:(z,l,e)=>{var o=typeof Map=="function"&&Map.prototype,f=Object.getOwnPropertyDescriptor&&o?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,u=o&&f&&typeof f.get=="function"?f.get:null,c=o&&Map.prototype.forEach,_=typeof Set=="function"&&Set.prototype,g=Object.getOwnPropertyDescriptor&&_?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,E=_&&g&&typeof g.get=="function"?g.get:null,v=_&&Set.prototype.forEach,y=typeof WeakMap=="function"&&WeakMap.prototype,T=y?WeakMap.prototype.has:null,w=typeof WeakSet=="function"&&WeakSet.prototype,S=w?WeakSet.prototype.has:null,O=typeof WeakRef=="function"&&WeakRef.prototype,p=O?WeakRef.prototype.deref:null,d=Boolean.prototype.valueOf,a=Object.prototype.toString,P=Function.prototype.toString,C=String.prototype.match,D=String.prototype.slice,A=String.prototype.replace,x=String.prototype.toUpperCase,I=String.prototype.toLowerCase,N=RegExp.prototype.test,F=Array.prototype.concat,B=Array.prototype.join,V=Array.prototype.slice,Z=Math.floor,Y=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ne=Object.getOwnPropertySymbols,G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,L=typeof Symbol=="function"&&typeof Symbol.iterator=="object",W=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===L||"symbol")?Symbol.toStringTag:null,ie=Object.prototype.propertyIsEnumerable,ue=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(ke){return ke.__proto__}:null);function le(ke,je){if(ke===1/0||ke===-1/0||ke!==ke||ke&&ke>-1e3&&ke<1e3||N.call(/e/,je))return je;var Je=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof ke=="number"){var tt=ke<0?-Z(-ke):Z(ke);if(tt!==ke){var Ae=String(tt),H=D.call(je,Ae.length+1);return A.call(Ae,Je,"$&_")+"."+A.call(A.call(H,/([0-9]{3})/g,"$&_"),/_$/,"")}}return A.call(je,Je,"$&_")}var J=e(24654),te=J.custom,se=Oe(te)?te:null;z.exports=function ke(je,Je,tt,Ae){var H=Je||{};if(Be(H,"quoteStyle")&&H.quoteStyle!=="single"&&H.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Be(H,"maxStringLength")&&(typeof H.maxStringLength=="number"?H.maxStringLength<0&&H.maxStringLength!==1/0:H.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Q=Be(H,"customInspect")?H.customInspect:!0;if(typeof Q!="boolean"&&Q!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Be(H,"indent")&&H.indent!==null&&H.indent!=="	"&&!(parseInt(H.indent,10)===H.indent&&H.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Be(H,"numericSeparator")&&typeof H.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var pe=H.numericSeparator;if(typeof je=="undefined")return"undefined";if(je===null)return"null";if(typeof je=="boolean")return je?"true":"false";if(typeof je=="string")return lt(je,H);if(typeof je=="number"){if(je===0)return 1/0/je>0?"0":"-0";var we=String(je);return pe?le(je,we):we}if(typeof je=="bigint"){var Le=String(je)+"n";return pe?le(je,Le):Le}var Ye=typeof H.depth=="undefined"?5:H.depth;if(typeof tt=="undefined"&&(tt=0),tt>=Ye&&Ye>0&&typeof je=="object")return ce(je)?"[Array]":"[Object]";var dt=He(H,tt);if(typeof Ae=="undefined")Ae=[];else if(Xe(Ae,je)>=0)return"[Circular]";function st(Wr,Zr,yo){if(Zr&&(Ae=V.call(Ae),Ae.push(Zr)),yo){var ho={depth:H.depth};return Be(H,"quoteStyle")&&(ho.quoteStyle=H.quoteStyle),ke(Wr,ho,tt+1,Ae)}return ke(Wr,H,tt+1,Ae)}if(typeof je=="function"&&!Ee(je)){var _t=Ke(je),Tt=me(je,st);return"[Function"+(_t?": "+_t:" (anonymous)")+"]"+(Tt.length>0?" { "+B.call(Tt,", ")+" }":"")}if(Oe(je)){var nn=L?A.call(String(je),/^(Symbol\(.*\))_[^)]*$/,"$1"):G.call(je);return typeof je=="object"&&!L?jt(nn):nn}if(Ne(je)){for(var Mn="<"+I.call(String(je.nodeName)),tr=je.attributes||[],sr=0;sr<tr.length;sr++)Mn+=" "+tr[sr].name+"="+ee(ae(tr[sr].value),"double",H);return Mn+=">",je.childNodes&&je.childNodes.length&&(Mn+="..."),Mn+="</"+I.call(String(je.nodeName))+">",Mn}if(ce(je)){if(je.length===0)return"[]";var Rt=me(je,st);return dt&&!Re(Rt)?"["+ot(Rt,dt)+"]":"[ "+B.call(Rt,", ")+" ]"}if(de(je)){var Mt=me(je,st);return!("cause"in Error.prototype)&&"cause"in je&&!ie.call(je,"cause")?"{ ["+String(je)+"] "+B.call(F.call("[cause]: "+st(je.cause),Mt),", ")+" }":Mt.length===0?"["+String(je)+"]":"{ ["+String(je)+"] "+B.call(Mt,", ")+" }"}if(typeof je=="object"&&Q){if(se&&typeof je[se]=="function"&&J)return J(je,{depth:Ye-tt});if(Q!=="symbol"&&typeof je.inspect=="function")return je.inspect()}if(ct(je)){var $t=[];return c&&c.call(je,function(Wr,Zr){$t.push(st(Zr,je,!0)+" => "+st(Wr,je))}),vt("Map",u.call(je),$t,dt)}if(ge(je)){var vn=[];return v&&v.call(je,function(Wr){vn.push(st(Wr,je))}),vt("Set",E.call(je),vn,dt)}if(Se(je))return en("WeakMap");if(Fe(je))return en("WeakSet");if(Qe(je))return en("WeakRef");if(ve(je))return jt(st(Number(je)));if(ye(je))return jt(st(Y.call(je)));if(De(je))return jt(d.call(je));if(_e(je))return jt(st(String(je)));if(!fe(je)&&!Ee(je)){var An=me(je,st),dr=ue?ue(je)===Object.prototype:je instanceof Object||je.constructor===Object,Pr=je instanceof Object?"":"null prototype",br=!dr&&W&&Object(je)===je&&W in je?D.call(We(je),8,-1):Pr?"Object":"",Or=dr||typeof je.constructor!="function"?"":je.constructor.name?je.constructor.name+" ":"",Lr=Or+(br||Pr?"["+B.call(F.call([],br||[],Pr||[]),": ")+"] ":"");return An.length===0?Lr+"{}":dt?Lr+"{"+ot(An,dt)+"}":Lr+"{ "+B.call(An,", ")+" }"}return String(je)};function ee(ke,je,Je){var tt=(Je.quoteStyle||je)==="double"?'"':"'";return tt+ke+tt}function ae(ke){return A.call(String(ke),/"/g,"&quot;")}function ce(ke){return We(ke)==="[object Array]"&&(!W||!(typeof ke=="object"&&W in ke))}function fe(ke){return We(ke)==="[object Date]"&&(!W||!(typeof ke=="object"&&W in ke))}function Ee(ke){return We(ke)==="[object RegExp]"&&(!W||!(typeof ke=="object"&&W in ke))}function de(ke){return We(ke)==="[object Error]"&&(!W||!(typeof ke=="object"&&W in ke))}function _e(ke){return We(ke)==="[object String]"&&(!W||!(typeof ke=="object"&&W in ke))}function ve(ke){return We(ke)==="[object Number]"&&(!W||!(typeof ke=="object"&&W in ke))}function De(ke){return We(ke)==="[object Boolean]"&&(!W||!(typeof ke=="object"&&W in ke))}function Oe(ke){if(L)return ke&&typeof ke=="object"&&ke instanceof Symbol;if(typeof ke=="symbol")return!0;if(!ke||typeof ke!="object"||!G)return!1;try{return G.call(ke),!0}catch(je){}return!1}function ye(ke){if(!ke||typeof ke!="object"||!Y)return!1;try{return Y.call(ke),!0}catch(je){}return!1}var ze=Object.prototype.hasOwnProperty||function(ke){return ke in this};function Be(ke,je){return ze.call(ke,je)}function We(ke){return a.call(ke)}function Ke(ke){if(ke.name)return ke.name;var je=C.call(P.call(ke),/^function\s*([\w$]+)/);return je?je[1]:null}function Xe(ke,je){if(ke.indexOf)return ke.indexOf(je);for(var Je=0,tt=ke.length;Je<tt;Je++)if(ke[Je]===je)return Je;return-1}function ct(ke){if(!u||!ke||typeof ke!="object")return!1;try{u.call(ke);try{E.call(ke)}catch(je){return!0}return ke instanceof Map}catch(je){}return!1}function Se(ke){if(!T||!ke||typeof ke!="object")return!1;try{T.call(ke,T);try{S.call(ke,S)}catch(je){return!0}return ke instanceof WeakMap}catch(je){}return!1}function Qe(ke){if(!p||!ke||typeof ke!="object")return!1;try{return p.call(ke),!0}catch(je){}return!1}function ge(ke){if(!E||!ke||typeof ke!="object")return!1;try{E.call(ke);try{u.call(ke)}catch(je){return!0}return ke instanceof Set}catch(je){}return!1}function Fe(ke){if(!S||!ke||typeof ke!="object")return!1;try{S.call(ke,S);try{T.call(ke,T)}catch(je){return!0}return ke instanceof WeakSet}catch(je){}return!1}function Ne(ke){return!ke||typeof ke!="object"?!1:typeof HTMLElement!="undefined"&&ke instanceof HTMLElement?!0:typeof ke.nodeName=="string"&&typeof ke.getAttribute=="function"}function lt(ke,je){if(ke.length>je.maxStringLength){var Je=ke.length-je.maxStringLength,tt="... "+Je+" more character"+(Je>1?"s":"");return lt(D.call(ke,0,je.maxStringLength),je)+tt}var Ae=A.call(A.call(ke,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Et);return ee(Ae,"single",je)}function Et(ke){var je=ke.charCodeAt(0),Je={8:"b",9:"t",10:"n",12:"f",13:"r"}[je];return Je?"\\"+Je:"\\x"+(je<16?"0":"")+x.call(je.toString(16))}function jt(ke){return"Object("+ke+")"}function en(ke){return ke+" { ? }"}function vt(ke,je,Je,tt){var Ae=tt?ot(Je,tt):B.call(Je,", ");return ke+" ("+je+") {"+Ae+"}"}function Re(ke){for(var je=0;je<ke.length;je++)if(Xe(ke[je],`
`)>=0)return!1;return!0}function He(ke,je){var Je;if(ke.indent==="	")Je="	";else if(typeof ke.indent=="number"&&ke.indent>0)Je=B.call(Array(ke.indent+1)," ");else return null;return{base:Je,prev:B.call(Array(je+1),Je)}}function ot(ke,je){if(ke.length===0)return"";var Je=`
`+je.prev+je.base;return Je+B.call(ke,","+Je)+`
`+je.prev}function me(ke,je){var Je=ce(ke),tt=[];if(Je){tt.length=ke.length;for(var Ae=0;Ae<ke.length;Ae++)tt[Ae]=Be(ke,Ae)?je(ke[Ae],ke):""}var H=typeof ne=="function"?ne(ke):[],Q;if(L){Q={};for(var pe=0;pe<H.length;pe++)Q["$"+H[pe]]=H[pe]}for(var we in ke)Be(ke,we)&&(Je&&String(Number(we))===we&&we<ke.length||L&&Q["$"+we]instanceof Symbol||(N.call(/[^\w$]/,we)?tt.push(je(we,ke)+": "+je(ke[we],ke)):tt.push(we+": "+je(ke[we],ke))));if(typeof ne=="function")for(var Le=0;Le<H.length;Le++)ie.call(ke,H[Le])&&tt.push("["+je(H[Le])+"]: "+je(ke[H[Le]],ke));return tt}},79430:function(z,l){var e,o,f;(function(u,c){o=[],e=c,f=typeof e=="function"?e.apply(l,o):e,f!==void 0&&(z.exports=f)})(this,function(){return function(u){function c(I){return I===" "||I==="	"||I===`
`||I==="\f"||I==="\r"}function _(I){var N,F=I.exec(u.substring(C));if(F)return N=F[0],C+=N.length,N}for(var g=u.length,E=/^[ \t\n\r\u000c]+/,v=/^[, \t\n\r\u000c]+/,y=/^[^ \t\n\r\u000c]+/,T=/[,]+$/,w=/^\d+$/,S=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,O,p,d,a,P,C=0,D=[];;){if(_(v),C>=g)return D;O=_(y),p=[],O.slice(-1)===","?(O=O.replace(T,""),x()):A()}function A(){for(_(E),d="",a="in descriptor";;){if(P=u.charAt(C),a==="in descriptor")if(c(P))d&&(p.push(d),d="",a="after descriptor");else if(P===","){C+=1,d&&p.push(d),x();return}else if(P==="(")d=d+P,a="in parens";else if(P===""){d&&p.push(d),x();return}else d=d+P;else if(a==="in parens")if(P===")")d=d+P,a="in descriptor";else if(P===""){p.push(d),x();return}else d=d+P;else if(a==="after descriptor"&&!c(P))if(P===""){x();return}else a="in descriptor",C-=1;C+=1}}function x(){var I=!1,N,F,B,V,Z={},Y,ne,G,L,W;for(V=0;V<p.length;V++)Y=p[V],ne=Y[Y.length-1],G=Y.substring(0,Y.length-1),L=parseInt(G,10),W=parseFloat(G),w.test(G)&&ne==="w"?((N||F)&&(I=!0),L===0?I=!0:N=L):S.test(G)&&ne==="x"?((N||F||B)&&(I=!0),W<0?I=!0:F=W):w.test(G)&&ne==="h"?((B||F)&&(I=!0),L===0?I=!0:B=L):I=!0;I?console&&console.log&&console.log("Invalid srcset descriptor found in '"+u+"' at '"+Y+"'."):(Z.url=O,N&&(Z.w=N),F&&(Z.d=F),B&&(Z.h=B),D.push(Z))}}})},74241:z=>{var l=String,e=function(){return{isColorSupported:!1,reset:l,bold:l,dim:l,italic:l,underline:l,inverse:l,hidden:l,strikethrough:l,black:l,red:l,green:l,yellow:l,blue:l,magenta:l,cyan:l,white:l,gray:l,bgBlack:l,bgRed:l,bgGreen:l,bgYellow:l,bgBlue:l,bgMagenta:l,bgCyan:l,bgWhite:l}};z.exports=e(),z.exports.createColors=e},41353:(z,l,e)=>{"use strict";let o=e(21019);class f extends o{constructor(c){super(c),this.type="atrule"}append(...c){return this.proxyOf.nodes||(this.nodes=[]),super.append(...c)}prepend(...c){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...c)}}z.exports=f,f.default=f,o.registerAtRule(f)},69932:(z,l,e)=>{"use strict";let o=e(65631);class f extends o{constructor(c){super(c),this.type="comment"}}z.exports=f,f.default=f},21019:(z,l,e)=>{"use strict";let{isClean:o,my:f}=e(65513),u=e(94258),c=e(69932),_=e(65631),g,E,v,y;function T(O){return O.map(p=>(p.nodes&&(p.nodes=T(p.nodes)),delete p.source,p))}function w(O){if(O[o]=!1,O.proxyOf.nodes)for(let p of O.proxyOf.nodes)w(p)}class S extends _{push(p){return p.parent=this,this.proxyOf.nodes.push(p),this}each(p){if(!this.proxyOf.nodes)return;let d=this.getIterator(),a,P;for(;this.indexes[d]<this.proxyOf.nodes.length&&(a=this.indexes[d],P=p(this.proxyOf.nodes[a],a),P!==!1);)this.indexes[d]+=1;return delete this.indexes[d],P}walk(p){return this.each((d,a)=>{let P;try{P=p(d,a)}catch(C){throw d.addToError(C)}return P!==!1&&d.walk&&(P=d.walk(p)),P})}walkDecls(p,d){return d?p instanceof RegExp?this.walk((a,P)=>{if(a.type==="decl"&&p.test(a.prop))return d(a,P)}):this.walk((a,P)=>{if(a.type==="decl"&&a.prop===p)return d(a,P)}):(d=p,this.walk((a,P)=>{if(a.type==="decl")return d(a,P)}))}walkRules(p,d){return d?p instanceof RegExp?this.walk((a,P)=>{if(a.type==="rule"&&p.test(a.selector))return d(a,P)}):this.walk((a,P)=>{if(a.type==="rule"&&a.selector===p)return d(a,P)}):(d=p,this.walk((a,P)=>{if(a.type==="rule")return d(a,P)}))}walkAtRules(p,d){return d?p instanceof RegExp?this.walk((a,P)=>{if(a.type==="atrule"&&p.test(a.name))return d(a,P)}):this.walk((a,P)=>{if(a.type==="atrule"&&a.name===p)return d(a,P)}):(d=p,this.walk((a,P)=>{if(a.type==="atrule")return d(a,P)}))}walkComments(p){return this.walk((d,a)=>{if(d.type==="comment")return p(d,a)})}append(...p){for(let d of p){let a=this.normalize(d,this.last);for(let P of a)this.proxyOf.nodes.push(P)}return this.markDirty(),this}prepend(...p){p=p.reverse();for(let d of p){let a=this.normalize(d,this.first,"prepend").reverse();for(let P of a)this.proxyOf.nodes.unshift(P);for(let P in this.indexes)this.indexes[P]=this.indexes[P]+a.length}return this.markDirty(),this}cleanRaws(p){if(super.cleanRaws(p),this.nodes)for(let d of this.nodes)d.cleanRaws(p)}insertBefore(p,d){let a=this.index(p),P=a===0?"prepend":!1,C=this.normalize(d,this.proxyOf.nodes[a],P).reverse();a=this.index(p);for(let A of C)this.proxyOf.nodes.splice(a,0,A);let D;for(let A in this.indexes)D=this.indexes[A],a<=D&&(this.indexes[A]=D+C.length);return this.markDirty(),this}insertAfter(p,d){let a=this.index(p),P=this.normalize(d,this.proxyOf.nodes[a]).reverse();a=this.index(p);for(let D of P)this.proxyOf.nodes.splice(a+1,0,D);let C;for(let D in this.indexes)C=this.indexes[D],a<C&&(this.indexes[D]=C+P.length);return this.markDirty(),this}removeChild(p){p=this.index(p),this.proxyOf.nodes[p].parent=void 0,this.proxyOf.nodes.splice(p,1);let d;for(let a in this.indexes)d=this.indexes[a],d>=p&&(this.indexes[a]=d-1);return this.markDirty(),this}removeAll(){for(let p of this.proxyOf.nodes)p.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}replaceValues(p,d,a){return a||(a=d,d={}),this.walkDecls(P=>{d.props&&!d.props.includes(P.prop)||d.fast&&!P.value.includes(d.fast)||(P.value=P.value.replace(p,a))}),this.markDirty(),this}every(p){return this.nodes.every(p)}some(p){return this.nodes.some(p)}index(p){return typeof p=="number"?p:(p.proxyOf&&(p=p.proxyOf),this.proxyOf.nodes.indexOf(p))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}normalize(p,d){if(typeof p=="string")p=T(g(p).nodes);else if(Array.isArray(p)){p=p.slice(0);for(let P of p)P.parent&&P.parent.removeChild(P,"ignore")}else if(p.type==="root"&&this.type!=="document"){p=p.nodes.slice(0);for(let P of p)P.parent&&P.parent.removeChild(P,"ignore")}else if(p.type)p=[p];else if(p.prop){if(typeof p.value=="undefined")throw new Error("Value field is missed in node creation");typeof p.value!="string"&&(p.value=String(p.value)),p=[new u(p)]}else if(p.selector)p=[new E(p)];else if(p.name)p=[new v(p)];else if(p.text)p=[new c(p)];else throw new Error("Unknown node type in node creation");return p.map(P=>(P[f]||S.rebuild(P),P=P.proxyOf,P.parent&&P.parent.removeChild(P),P[o]&&w(P),typeof P.raws.before=="undefined"&&d&&typeof d.raws.before!="undefined"&&(P.raws.before=d.raws.before.replace(/\S/g,"")),P.parent=this.proxyOf,P))}getProxyProcessor(){return{set(p,d,a){return p[d]===a||(p[d]=a,(d==="name"||d==="params"||d==="selector")&&p.markDirty()),!0},get(p,d){return d==="proxyOf"?p:p[d]?d==="each"||typeof d=="string"&&d.startsWith("walk")?(...a)=>p[d](...a.map(P=>typeof P=="function"?(C,D)=>P(C.toProxy(),D):P)):d==="every"||d==="some"?a=>p[d]((P,...C)=>a(P.toProxy(),...C)):d==="root"?()=>p.root().toProxy():d==="nodes"?p.nodes.map(a=>a.toProxy()):d==="first"||d==="last"?p[d].toProxy():p[d]:p[d]}}}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let p=this.lastEach;return this.indexes[p]=0,p}}S.registerParse=O=>{g=O},S.registerRule=O=>{E=O},S.registerAtRule=O=>{v=O},S.registerRoot=O=>{y=O},z.exports=S,S.default=S,S.rebuild=O=>{O.type==="atrule"?Object.setPrototypeOf(O,v.prototype):O.type==="rule"?Object.setPrototypeOf(O,E.prototype):O.type==="decl"?Object.setPrototypeOf(O,u.prototype):O.type==="comment"?Object.setPrototypeOf(O,c.prototype):O.type==="root"&&Object.setPrototypeOf(O,y.prototype),O[f]=!0,O.nodes&&O.nodes.forEach(p=>{S.rebuild(p)})}},42671:(z,l,e)=>{"use strict";let o=e(74241),f=e(22868);class u extends Error{constructor(_,g,E,v,y,T){super(_),this.name="CssSyntaxError",this.reason=_,y&&(this.file=y),v&&(this.source=v),T&&(this.plugin=T),typeof g!="undefined"&&typeof E!="undefined"&&(typeof g=="number"?(this.line=g,this.column=E):(this.line=g.line,this.column=g.column,this.endLine=E.line,this.endColumn=E.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,u)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line!="undefined"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(_){if(!this.source)return"";let g=this.source;_==null&&(_=o.isColorSupported),f&&_&&(g=f(g));let E=g.split(/\r?\n/),v=Math.max(this.line-3,0),y=Math.min(this.line+2,E.length),T=String(y).length,w,S;if(_){let{bold:O,red:p,gray:d}=o.createColors(!0);w=a=>O(p(a)),S=a=>d(a)}else w=S=O=>O;return E.slice(v,y).map((O,p)=>{let d=v+1+p,a=" "+(" "+d).slice(-T)+" | ";if(d===this.line){let P=S(a.replace(/\d/g," "))+O.slice(0,this.column-1).replace(/[^\t]/g," ");return w(">")+S(a)+O+`
 `+P+w("^")}return" "+S(a)+O}).join(`
`)}toString(){let _=this.showSourceCode();return _&&(_=`

`+_+`
`),this.name+": "+this.message+_}}z.exports=u,u.default=u},94258:(z,l,e)=>{"use strict";let o=e(65631);class f extends o{constructor(c){c&&typeof c.value!="undefined"&&typeof c.value!="string"&&(c=ko(ar({},c),{value:String(c.value)})),super(c),this.type="decl"}get variable(){return this.prop.startsWith("--")||this.prop[0]==="$"}}z.exports=f,f.default=f},26461:(z,l,e)=>{"use strict";let o=e(21019),f,u;class c extends o{constructor(g){super(ar({type:"document"},g)),this.nodes||(this.nodes=[])}toResult(g={}){return new f(new u,this,g).stringify()}}c.registerLazyResult=_=>{f=_},c.registerProcessor=_=>{u=_},z.exports=c,c.default=c},50250:(z,l,e)=>{"use strict";let o=e(94258),f=e(47981),u=e(69932),c=e(41353),_=e(5995),g=e(41025),E=e(31675);function v(y,T){if(Array.isArray(y))return y.map(d=>v(d));let O=y,{inputs:w}=O,S=gi(O,["inputs"]);if(w){T=[];for(let d of w){let a=ko(ar({},d),{__proto__:_.prototype});a.map&&(a.map=ko(ar({},a.map),{__proto__:f.prototype})),T.push(a)}}if(S.nodes&&(S.nodes=y.nodes.map(d=>v(d,T))),S.source){let p=S.source,{inputId:d}=p,a=gi(p,["inputId"]);S.source=a,d!=null&&(S.source.input=T[d])}if(S.type==="root")return new g(S);if(S.type==="decl")return new o(S);if(S.type==="rule")return new E(S);if(S.type==="comment")return new u(S);if(S.type==="atrule")return new c(S);throw new Error("Unknown node type: "+y.type)}z.exports=v,v.default=v},5995:(z,l,e)=>{"use strict";let{SourceMapConsumer:o,SourceMapGenerator:f}=e(70209),{fileURLToPath:u,pathToFileURL:c}=e(87414),{resolve:_,isAbsolute:g}=e(99830),{nanoid:E}=e(62961),v=e(22868),y=e(42671),T=e(47981),w=Symbol("fromOffsetCache"),S=!!(o&&f),O=!!(_&&g);class p{constructor(a,P={}){if(a===null||typeof a=="undefined"||typeof a=="object"&&!a.toString)throw new Error(`PostCSS received ${a} instead of CSS string`);if(this.css=a.toString(),this.css[0]==="\uFEFF"||this.css[0]==="\uFFFE"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,P.from&&(!O||/^\w+:\/\//.test(P.from)||g(P.from)?this.file=P.from:this.file=_(P.from)),O&&S){let C=new T(this.css,P);if(C.text){this.map=C;let D=C.consumer().file;!this.file&&D&&(this.file=this.mapResolve(D))}}this.file||(this.id="<input css "+E(6)+">"),this.map&&(this.map.file=this.from)}fromOffset(a){let P,C;if(this[w])C=this[w];else{let A=this.css.split(`
`);C=new Array(A.length);let x=0;for(let I=0,N=A.length;I<N;I++)C[I]=x,x+=A[I].length+1;this[w]=C}P=C[C.length-1];let D=0;if(a>=P)D=C.length-1;else{let A=C.length-2,x;for(;D<A;)if(x=D+(A-D>>1),a<C[x])A=x-1;else if(a>=C[x+1])D=x+1;else{D=x;break}}return{line:D+1,col:a-C[D]+1}}error(a,P,C,D={}){let A,x,I;if(P&&typeof P=="object"){let F=P,B=C;if(typeof F.offset=="number"){let V=this.fromOffset(F.offset);P=V.line,C=V.col}else P=F.line,C=F.column;if(typeof B.offset=="number"){let V=this.fromOffset(B.offset);x=V.line,I=V.col}else x=B.line,I=B.column}else if(!C){let F=this.fromOffset(P);P=F.line,C=F.col}let N=this.origin(P,C,x,I);return N?A=new y(a,N.endLine===void 0?N.line:{line:N.line,column:N.column},N.endLine===void 0?N.column:{line:N.endLine,column:N.endColumn},N.source,N.file,D.plugin):A=new y(a,x===void 0?P:{line:P,column:C},x===void 0?C:{line:x,column:I},this.css,this.file,D.plugin),A.input={line:P,column:C,endLine:x,endColumn:I,source:this.css},this.file&&(c&&(A.input.url=c(this.file).toString()),A.input.file=this.file),A}origin(a,P,C,D){if(!this.map)return!1;let A=this.map.consumer(),x=A.originalPositionFor({line:a,column:P});if(!x.source)return!1;let I;typeof C=="number"&&(I=A.originalPositionFor({line:C,column:D}));let N;g(x.source)?N=c(x.source):N=new URL(x.source,this.map.consumer().sourceRoot||c(this.map.mapFile));let F={url:N.toString(),line:x.line,column:x.column,endLine:I&&I.line,endColumn:I&&I.column};if(N.protocol==="file:")if(u)F.file=u(N);else throw new Error("file: protocol is not available in this PostCSS build");let B=A.sourceContentFor(x.source);return B&&(F.source=B),F}mapResolve(a){return/^\w+:\/\//.test(a)?a:_(this.map.consumer().sourceRoot||this.map.root||".",a)}get from(){return this.file||this.id}toJSON(){let a={};for(let P of["hasBOM","css","file","id"])this[P]!=null&&(a[P]=this[P]);return this.map&&(a.map=ar({},this.map),a.map.consumerCache&&(a.map.consumerCache=void 0)),a}}z.exports=p,p.default=p,v&&v.registerInput&&v.registerInput(p)},21939:(z,l,e)=>{"use strict";let{isClean:o,my:f}=e(65513),u=e(48505),c=e(67088),_=e(21019),g=e(26461),E=e(72448),v=e(83632),y=e(66939),T=e(41025);const w={document:"Document",root:"Root",atrule:"AtRule",rule:"Rule",decl:"Declaration",comment:"Comment"},S={postcssPlugin:!0,prepare:!0,Once:!0,Document:!0,Root:!0,Declaration:!0,Rule:!0,AtRule:!0,Comment:!0,DeclarationExit:!0,RuleExit:!0,AtRuleExit:!0,CommentExit:!0,RootExit:!0,DocumentExit:!0,OnceExit:!0},O={postcssPlugin:!0,prepare:!0,Once:!0},p=0;function d(x){return typeof x=="object"&&typeof x.then=="function"}function a(x){let I=!1,N=w[x.type];return x.type==="decl"?I=x.prop.toLowerCase():x.type==="atrule"&&(I=x.name.toLowerCase()),I&&x.append?[N,N+"-"+I,p,N+"Exit",N+"Exit-"+I]:I?[N,N+"-"+I,N+"Exit",N+"Exit-"+I]:x.append?[N,p,N+"Exit"]:[N,N+"Exit"]}function P(x){let I;return x.type==="document"?I=["Document",p,"DocumentExit"]:x.type==="root"?I=["Root",p,"RootExit"]:I=a(x),{node:x,events:I,eventIndex:0,visitors:[],visitorIndex:0,iterator:0}}function C(x){return x[o]=!1,x.nodes&&x.nodes.forEach(I=>C(I)),x}let D={};class A{constructor(I,N,F){this.stringified=!1,this.processed=!1;let B;if(typeof N=="object"&&N!==null&&(N.type==="root"||N.type==="document"))B=C(N);else if(N instanceof A||N instanceof v)B=C(N.root),N.map&&(typeof F.map=="undefined"&&(F.map={}),F.map.inline||(F.map.inline=!1),F.map.prev=N.map);else{let V=y;F.syntax&&(V=F.syntax.parse),F.parser&&(V=F.parser),V.parse&&(V=V.parse);try{B=V(N,F)}catch(Z){this.processed=!0,this.error=Z}B&&!B[f]&&_.rebuild(B)}this.result=new v(I,B,F),this.helpers=ko(ar({},D),{result:this.result,postcss:D}),this.plugins=this.processor.plugins.map(V=>typeof V=="object"&&V.prepare?ar(ar({},V),V.prepare(this.result)):V)}get[Symbol.toStringTag](){return"LazyResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.stringify().css}get content(){return this.stringify().content}get map(){return this.stringify().map}get root(){return this.sync().root}get messages(){return this.sync().messages}warnings(){return this.sync().warnings()}toString(){return this.css}then(I,N){return this.async().then(I,N)}catch(I){return this.async().catch(I)}finally(I){return this.async().then(I,I)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let I of this.plugins){let N=this.runOnRoot(I);if(d(N))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let I=this.result.root;for(;!I[o];)I[o]=!0,this.walkSync(I);if(this.listeners.OnceExit)if(I.type==="document")for(let N of I.nodes)this.visitSync(this.listeners.OnceExit,N);else this.visitSync(this.listeners.OnceExit,I)}return this.result}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let I=this.result.opts,N=c;I.syntax&&(N=I.syntax.stringify),I.stringifier&&(N=I.stringifier),N.stringify&&(N=N.stringify);let B=new u(N,this.result.root,this.result.opts).generate();return this.result.css=B[0],this.result.map=B[1],this.result}walkSync(I){I[o]=!0;let N=a(I);for(let F of N)if(F===p)I.nodes&&I.each(B=>{B[o]||this.walkSync(B)});else{let B=this.listeners[F];if(B&&this.visitSync(B,I.toProxy()))return}}visitSync(I,N){for(let[F,B]of I){this.result.lastPlugin=F;let V;try{V=B(N,this.helpers)}catch(Z){throw this.handleError(Z,N.proxyOf)}if(N.type!=="root"&&N.type!=="document"&&!N.parent)return!0;if(d(V))throw this.getAsyncError()}}runOnRoot(I){this.result.lastPlugin=I;try{if(typeof I=="object"&&I.Once){if(this.result.root.type==="document"){let N=this.result.root.nodes.map(F=>I.Once(F,this.helpers));return d(N[0])?Promise.all(N):N}return I.Once(this.result.root,this.helpers)}else if(typeof I=="function")return I(this.result.root,this.result)}catch(N){throw this.handleError(N)}}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(I,N){let F=this.result.lastPlugin;try{N&&N.addToError(I),this.error=I,I.name==="CssSyntaxError"&&!I.plugin?(I.plugin=F.postcssPlugin,I.setMessage()):F.postcssVersion}catch(B){console&&console.error&&console.error(B)}return I}runAsync(){return yu(this,null,function*(){this.plugin=0;for(let I=0;I<this.plugins.length;I++){let N=this.plugins[I],F=this.runOnRoot(N);if(d(F))try{yield F}catch(B){throw this.handleError(B)}}if(this.prepareVisitors(),this.hasListener){let I=this.result.root;for(;!I[o];){I[o]=!0;let N=[P(I)];for(;N.length>0;){let F=this.visitTick(N);if(d(F))try{yield F}catch(B){let V=N[N.length-1].node;throw this.handleError(B,V)}}}if(this.listeners.OnceExit)for(let[N,F]of this.listeners.OnceExit){this.result.lastPlugin=N;try{if(I.type==="document"){let B=I.nodes.map(V=>F(V,this.helpers));yield Promise.all(B)}else yield F(I,this.helpers)}catch(B){throw this.handleError(B)}}}return this.processed=!0,this.stringify()})}prepareVisitors(){this.listeners={};let I=(N,F,B)=>{this.listeners[F]||(this.listeners[F]=[]),this.listeners[F].push([N,B])};for(let N of this.plugins)if(typeof N=="object")for(let F in N){if(!S[F]&&/^[A-Z]/.test(F))throw new Error(`Unknown event ${F} in ${N.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!O[F])if(typeof N[F]=="object")for(let B in N[F])B==="*"?I(N,F,N[F][B]):I(N,F+"-"+B.toLowerCase(),N[F][B]);else typeof N[F]=="function"&&I(N,F,N[F])}this.hasListener=Object.keys(this.listeners).length>0}visitTick(I){let N=I[I.length-1],{node:F,visitors:B}=N;if(F.type!=="root"&&F.type!=="document"&&!F.parent){I.pop();return}if(B.length>0&&N.visitorIndex<B.length){let[Z,Y]=B[N.visitorIndex];N.visitorIndex+=1,N.visitorIndex===B.length&&(N.visitors=[],N.visitorIndex=0),this.result.lastPlugin=Z;try{return Y(F.toProxy(),this.helpers)}catch(ne){throw this.handleError(ne,F)}}if(N.iterator!==0){let Z=N.iterator,Y;for(;Y=F.nodes[F.indexes[Z]];)if(F.indexes[Z]+=1,!Y[o]){Y[o]=!0,I.push(P(Y));return}N.iterator=0,delete F.indexes[Z]}let V=N.events;for(;N.eventIndex<V.length;){let Z=V[N.eventIndex];if(N.eventIndex+=1,Z===p){F.nodes&&F.nodes.length&&(F[o]=!0,N.iterator=F.getIterator());return}else if(this.listeners[Z]){N.visitors=this.listeners[Z];return}}I.pop()}}A.registerPostcss=x=>{D=x},z.exports=A,A.default=A,T.registerLazyResult(A),g.registerLazyResult(A)},54715:z=>{"use strict";let l={split(e,o,f){let u=[],c="",_=!1,g=0,E=!1,v="",y=!1;for(let T of e)y?y=!1:T==="\\"?y=!0:E?T===v&&(E=!1):T==='"'||T==="'"?(E=!0,v=T):T==="("?g+=1:T===")"?g>0&&(g-=1):g===0&&o.includes(T)&&(_=!0),_?(c!==""&&u.push(c.trim()),c="",_=!1):c+=T;return(f||c!=="")&&u.push(c.trim()),u},space(e){let o=[" ",`
`,"	"];return l.split(e,o)},comma(e){return l.split(e,[","],!0)}};z.exports=l,l.default=l},48505:(z,l,e)=>{"use strict";let{SourceMapConsumer:o,SourceMapGenerator:f}=e(70209),{dirname:u,resolve:c,relative:_,sep:g}=e(99830),{pathToFileURL:E}=e(87414),v=e(5995),y=!!(o&&f),T=!!(u&&c&&_&&g);class w{constructor(O,p,d,a){this.stringify=O,this.mapOpts=d.map||{},this.root=p,this.opts=d,this.css=a,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute}isMap(){return typeof this.opts.map!="undefined"?!!this.opts.map:this.previous().length>0}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(O=>{if(O.source&&O.source.input.map){let p=O.source.input.map;this.previousMaps.includes(p)||this.previousMaps.push(p)}});else{let O=new v(this.css,this.opts);O.map&&this.previousMaps.push(O.map)}return this.previousMaps}isInline(){if(typeof this.mapOpts.inline!="undefined")return this.mapOpts.inline;let O=this.mapOpts.annotation;return typeof O!="undefined"&&O!==!0?!1:this.previous().length?this.previous().some(p=>p.inline):!0}isSourcesContent(){return typeof this.mapOpts.sourcesContent!="undefined"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(O=>O.withContent()):!0}clearAnnotation(){if(this.mapOpts.annotation!==!1)if(this.root){let O;for(let p=this.root.nodes.length-1;p>=0;p--)O=this.root.nodes[p],O.type==="comment"&&O.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(p)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}setSourcesContent(){let O={};if(this.root)this.root.walk(p=>{if(p.source){let d=p.source.input.from;if(d&&!O[d]){O[d]=!0;let a=this.usesFileUrls?this.toFileUrl(d):this.toUrl(this.path(d));this.map.setSourceContent(a,p.source.input.css)}}});else if(this.css){let p=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(p,this.css)}}applyPrevMaps(){for(let O of this.previous()){let p=this.toUrl(this.path(O.file)),d=O.root||u(O.file),a;this.mapOpts.sourcesContent===!1?(a=new o(O.text),a.sourcesContent&&(a.sourcesContent=a.sourcesContent.map(()=>null))):a=O.consumer(),this.map.applySourceMap(a,p,this.toUrl(this.path(d)))}}isAnnotation(){return this.isInline()?!0:typeof this.mapOpts.annotation!="undefined"?this.mapOpts.annotation:this.previous().length?this.previous().some(O=>O.annotation):!0}toBase64(O){return Buffer?Buffer.from(O).toString("base64"):window.btoa(unescape(encodeURIComponent(O)))}addAnnotation(){let O;this.isInline()?O="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?O=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?O=this.mapOpts.annotation(this.opts.to,this.root):O=this.outputFile()+".map";let p=`
`;this.css.includes(`\r
`)&&(p=`\r
`),this.css+=p+"/*# sourceMappingURL="+O+" */"}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}generateMap(){if(this.root)this.generateString();else if(this.previous().length===1){let O=this.previous()[0].consumer();O.file=this.outputFile(),this.map=f.fromSourceMap(O)}else this.map=new f({file:this.outputFile()}),this.map.addMapping({source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>",generated:{line:1,column:0},original:{line:1,column:0}});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}path(O){if(O.indexOf("<")===0||/^\w+:\/\//.test(O)||this.mapOpts.absolute)return O;let p=this.opts.to?u(this.opts.to):".";return typeof this.mapOpts.annotation=="string"&&(p=u(c(p,this.mapOpts.annotation))),O=_(p,O),O}toUrl(O){return g==="\\"&&(O=O.replace(/\\/g,"/")),encodeURI(O).replace(/[#?]/g,encodeURIComponent)}toFileUrl(O){if(E)return E(O).toString();throw new Error("`map.absolute` option is not available in this PostCSS build")}sourcePath(O){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(O.source.input.from):this.toUrl(this.path(O.source.input.from))}generateString(){this.css="",this.map=new f({file:this.outputFile()});let O=1,p=1,d="<no source>",a={source:"",generated:{line:0,column:0},original:{line:0,column:0}},P,C;this.stringify(this.root,(D,A,x)=>{if(this.css+=D,A&&x!=="end"&&(a.generated.line=O,a.generated.column=p-1,A.source&&A.source.start?(a.source=this.sourcePath(A),a.original.line=A.source.start.line,a.original.column=A.source.start.column-1,this.map.addMapping(a)):(a.source=d,a.original.line=1,a.original.column=0,this.map.addMapping(a))),P=D.match(/\n/g),P?(O+=P.length,C=D.lastIndexOf(`
`),p=D.length-C):p+=D.length,A&&x!=="start"){let I=A.parent||{raws:{}};(!(A.type==="decl"||A.type==="atrule"&&!A.nodes)||A!==I.last||I.raws.semicolon)&&(A.source&&A.source.end?(a.source=this.sourcePath(A),a.original.line=A.source.end.line,a.original.column=A.source.end.column-1,a.generated.line=O,a.generated.column=p-2,this.map.addMapping(a)):(a.source=d,a.original.line=1,a.original.column=0,a.generated.line=O,a.generated.column=p-1,this.map.addMapping(a)))}})}generate(){if(this.clearAnnotation(),T&&y&&this.isMap())return this.generateMap();{let O="";return this.stringify(this.root,p=>{O+=p}),[O]}}}z.exports=w},47647:(z,l,e)=>{"use strict";let o=e(48505),f=e(67088),u=e(72448),c=e(66939);const _=e(83632);class g{constructor(v,y,T){y=y.toString(),this.stringified=!1,this._processor=v,this._css=y,this._opts=T,this._map=void 0;let w,S=f;this.result=new _(this._processor,w,this._opts),this.result.css=y;let O=this;Object.defineProperty(this.result,"root",{get(){return O.root}});let p=new o(S,w,this._opts,y);if(p.isMap()){let[d,a]=p.generate();d&&(this.result.css=d),a&&(this.result.map=a)}}get[Symbol.toStringTag](){return"NoWorkResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.result.css}get content(){return this.result.css}get map(){return this.result.map}get root(){if(this._root)return this._root;let v,y=c;try{v=y(this._css,this._opts)}catch(T){this.error=T}if(this.error)throw this.error;return this._root=v,v}get messages(){return[]}warnings(){return[]}toString(){return this._css}then(v,y){return this.async().then(v,y)}catch(v){return this.async().catch(v)}finally(v){return this.async().then(v,v)}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}sync(){if(this.error)throw this.error;return this.result}}z.exports=g,g.default=g},65631:(z,l,e)=>{"use strict";let{isClean:o,my:f}=e(65513),u=e(42671),c=e(1062),_=e(67088);function g(v,y){let T=new v.constructor;for(let w in v){if(!Object.prototype.hasOwnProperty.call(v,w)||w==="proxyCache")continue;let S=v[w],O=typeof S;w==="parent"&&O==="object"?y&&(T[w]=y):w==="source"?T[w]=S:Array.isArray(S)?T[w]=S.map(p=>g(p,T)):(O==="object"&&S!==null&&(S=g(S)),T[w]=S)}return T}class E{constructor(y={}){this.raws={},this[o]=!1,this[f]=!0;for(let T in y)if(T==="nodes"){this.nodes=[];for(let w of y[T])typeof w.clone=="function"?this.append(w.clone()):this.append(w)}else this[T]=y[T]}error(y,T={}){if(this.source){let{start:w,end:S}=this.rangeBy(T);return this.source.input.error(y,{line:w.line,column:w.column},{line:S.line,column:S.column},T)}return new u(y)}warn(y,T,w){let S={node:this};for(let O in w)S[O]=w[O];return y.warn(T,S)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}toString(y=_){y.stringify&&(y=y.stringify);let T="";return y(this,w=>{T+=w}),T}assign(y={}){for(let T in y)this[T]=y[T];return this}clone(y={}){let T=g(this);for(let w in y)T[w]=y[w];return T}cloneBefore(y={}){let T=this.clone(y);return this.parent.insertBefore(this,T),T}cloneAfter(y={}){let T=this.clone(y);return this.parent.insertAfter(this,T),T}replaceWith(...y){if(this.parent){let T=this,w=!1;for(let S of y)S===this?w=!0:w?(this.parent.insertAfter(T,S),T=S):this.parent.insertBefore(T,S);w||this.remove()}return this}next(){if(!this.parent)return;let y=this.parent.index(this);return this.parent.nodes[y+1]}prev(){if(!this.parent)return;let y=this.parent.index(this);return this.parent.nodes[y-1]}before(y){return this.parent.insertBefore(this,y),this}after(y){return this.parent.insertAfter(this,y),this}root(){let y=this;for(;y.parent&&y.parent.type!=="document";)y=y.parent;return y}raw(y,T){return new c().raw(this,y,T)}cleanRaws(y){delete this.raws.before,delete this.raws.after,y||delete this.raws.between}toJSON(y,T){let w={},S=T==null;T=T||new Map;let O=0;for(let p in this){if(!Object.prototype.hasOwnProperty.call(this,p)||p==="parent"||p==="proxyCache")continue;let d=this[p];if(Array.isArray(d))w[p]=d.map(a=>typeof a=="object"&&a.toJSON?a.toJSON(null,T):a);else if(typeof d=="object"&&d.toJSON)w[p]=d.toJSON(null,T);else if(p==="source"){let a=T.get(d.input);a==null&&(a=O,T.set(d.input,O),O++),w[p]={inputId:a,start:d.start,end:d.end}}else w[p]=d}return S&&(w.inputs=[...T.keys()].map(p=>p.toJSON())),w}positionInside(y){let T=this.toString(),w=this.source.start.column,S=this.source.start.line;for(let O=0;O<y;O++)T[O]===`
`?(w=1,S+=1):w+=1;return{line:S,column:w}}positionBy(y){let T=this.source.start;if(y.index)T=this.positionInside(y.index);else if(y.word){let w=this.toString().indexOf(y.word);w!==-1&&(T=this.positionInside(w))}return T}rangeBy(y){let T={line:this.source.start.line,column:this.source.start.column},w=this.source.end?{line:this.source.end.line,column:this.source.end.column+1}:{line:T.line,column:T.column+1};if(y.word){let S=this.toString().indexOf(y.word);S!==-1&&(T=this.positionInside(S),w=this.positionInside(S+y.word.length))}else y.start?T={line:y.start.line,column:y.start.column}:y.index&&(T=this.positionInside(y.index)),y.end?w={line:y.end.line,column:y.end.column}:y.endIndex?w=this.positionInside(y.endIndex):y.index&&(w=this.positionInside(y.index+1));return(w.line<T.line||w.line===T.line&&w.column<=T.column)&&(w={line:T.line,column:T.column+1}),{start:T,end:w}}getProxyProcessor(){return{set(y,T,w){return y[T]===w||(y[T]=w,(T==="prop"||T==="value"||T==="name"||T==="params"||T==="important"||T==="text")&&y.markDirty()),!0},get(y,T){return T==="proxyOf"?y:T==="root"?()=>y.root().toProxy():y[T]}}}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}addToError(y){if(y.postcssNode=this,y.stack&&this.source&&/\n\s{4}at /.test(y.stack)){let T=this.source;y.stack=y.stack.replace(/\n\s{4}at /,`$&${T.input.from}:${T.start.line}:${T.start.column}$&`)}return y}markDirty(){if(this[o]){this[o]=!1;let y=this;for(;y=y.parent;)y[o]=!1}}get proxyOf(){return this}}z.exports=E,E.default=E},66939:(z,l,e)=>{"use strict";let o=e(21019),f=e(68867),u=e(5995);function c(_,g){let E=new u(_,g),v=new f(E);try{v.parse()}catch(y){throw y}return v.root}z.exports=c,c.default=c,o.registerParse(c)},68867:(z,l,e)=>{"use strict";let o=e(94258),f=e(83852),u=e(69932),c=e(41353),_=e(41025),g=e(31675);const E={empty:!0,space:!0};function v(T){for(let w=T.length-1;w>=0;w--){let S=T[w],O=S[3]||S[2];if(O)return O}}class y{constructor(w){this.input=w,this.root=new _,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:w,start:{offset:0,line:1,column:1}}}createTokenizer(){this.tokenizer=f(this.input)}parse(){let w;for(;!this.tokenizer.endOfFile();)switch(w=this.tokenizer.nextToken(),w[0]){case"space":this.spaces+=w[1];break;case";":this.freeSemicolon(w);break;case"}":this.end(w);break;case"comment":this.comment(w);break;case"at-word":this.atrule(w);break;case"{":this.emptyRule(w);break;default:this.other(w);break}this.endFile()}comment(w){let S=new u;this.init(S,w[2]),S.source.end=this.getPosition(w[3]||w[2]);let O=w[1].slice(2,-2);if(/^\s*$/.test(O))S.text="",S.raws.left=O,S.raws.right="";else{let p=O.match(/^(\s*)([^]*\S)(\s*)$/);S.text=p[2],S.raws.left=p[1],S.raws.right=p[3]}}emptyRule(w){let S=new g;this.init(S,w[2]),S.selector="",S.raws.between="",this.current=S}other(w){let S=!1,O=null,p=!1,d=null,a=[],P=w[1].startsWith("--"),C=[],D=w;for(;D;){if(O=D[0],C.push(D),O==="("||O==="[")d||(d=D),a.push(O==="("?")":"]");else if(P&&p&&O==="{")d||(d=D),a.push("}");else if(a.length===0)if(O===";")if(p){this.decl(C,P);return}else break;else if(O==="{"){this.rule(C);return}else if(O==="}"){this.tokenizer.back(C.pop()),S=!0;break}else O===":"&&(p=!0);else O===a[a.length-1]&&(a.pop(),a.length===0&&(d=null));D=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(S=!0),a.length>0&&this.unclosedBracket(d),S&&p){if(!P)for(;C.length&&(D=C[C.length-1][0],!(D!=="space"&&D!=="comment"));)this.tokenizer.back(C.pop());this.decl(C,P)}else this.unknownWord(C)}rule(w){w.pop();let S=new g;this.init(S,w[0][2]),S.raws.between=this.spacesAndCommentsFromEnd(w),this.raw(S,"selector",w),this.current=S}decl(w,S){let O=new o;this.init(O,w[0][2]);let p=w[w.length-1];for(p[0]===";"&&(this.semicolon=!0,w.pop()),O.source.end=this.getPosition(p[3]||p[2]||v(w));w[0][0]!=="word";)w.length===1&&this.unknownWord(w),O.raws.before+=w.shift()[1];for(O.source.start=this.getPosition(w[0][2]),O.prop="";w.length;){let D=w[0][0];if(D===":"||D==="space"||D==="comment")break;O.prop+=w.shift()[1]}O.raws.between="";let d;for(;w.length;)if(d=w.shift(),d[0]===":"){O.raws.between+=d[1];break}else d[0]==="word"&&/\w/.test(d[1])&&this.unknownWord([d]),O.raws.between+=d[1];(O.prop[0]==="_"||O.prop[0]==="*")&&(O.raws.before+=O.prop[0],O.prop=O.prop.slice(1));let a=[],P;for(;w.length&&(P=w[0][0],!(P!=="space"&&P!=="comment"));)a.push(w.shift());this.precheckMissedSemicolon(w);for(let D=w.length-1;D>=0;D--){if(d=w[D],d[1].toLowerCase()==="!important"){O.important=!0;let A=this.stringFrom(w,D);A=this.spacesFromEnd(w)+A,A!==" !important"&&(O.raws.important=A);break}else if(d[1].toLowerCase()==="important"){let A=w.slice(0),x="";for(let I=D;I>0;I--){let N=A[I][0];if(x.trim().indexOf("!")===0&&N!=="space")break;x=A.pop()[1]+x}x.trim().indexOf("!")===0&&(O.important=!0,O.raws.important=x,w=A)}if(d[0]!=="space"&&d[0]!=="comment")break}w.some(D=>D[0]!=="space"&&D[0]!=="comment")&&(O.raws.between+=a.map(D=>D[1]).join(""),a=[]),this.raw(O,"value",a.concat(w),S),O.value.includes(":")&&!S&&this.checkMissedSemicolon(w)}atrule(w){let S=new c;S.name=w[1].slice(1),S.name===""&&this.unnamedAtrule(S,w),this.init(S,w[2]);let O,p,d,a=!1,P=!1,C=[],D=[];for(;!this.tokenizer.endOfFile();){if(w=this.tokenizer.nextToken(),O=w[0],O==="("||O==="["?D.push(O==="("?")":"]"):O==="{"&&D.length>0?D.push("}"):O===D[D.length-1]&&D.pop(),D.length===0)if(O===";"){S.source.end=this.getPosition(w[2]),this.semicolon=!0;break}else if(O==="{"){P=!0;break}else if(O==="}"){if(C.length>0){for(d=C.length-1,p=C[d];p&&p[0]==="space";)p=C[--d];p&&(S.source.end=this.getPosition(p[3]||p[2]))}this.end(w);break}else C.push(w);else C.push(w);if(this.tokenizer.endOfFile()){a=!0;break}}S.raws.between=this.spacesAndCommentsFromEnd(C),C.length?(S.raws.afterName=this.spacesAndCommentsFromStart(C),this.raw(S,"params",C),a&&(w=C[C.length-1],S.source.end=this.getPosition(w[3]||w[2]),this.spaces=S.raws.between,S.raws.between="")):(S.raws.afterName="",S.params=""),P&&(S.nodes=[],this.current=S)}end(w){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(w[2]),this.current=this.current.parent):this.unexpectedClose(w)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces}freeSemicolon(w){if(this.spaces+=w[1],this.current.nodes){let S=this.current.nodes[this.current.nodes.length-1];S&&S.type==="rule"&&!S.raws.ownSemicolon&&(S.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(w){let S=this.input.fromOffset(w);return{offset:w,line:S.line,column:S.col}}init(w,S){this.current.push(w),w.source={start:this.getPosition(S),input:this.input},w.raws.before=this.spaces,this.spaces="",w.type!=="comment"&&(this.semicolon=!1)}raw(w,S,O,p){let d,a,P=O.length,C="",D=!0,A,x;for(let I=0;I<P;I+=1)d=O[I],a=d[0],a==="space"&&I===P-1&&!p?D=!1:a==="comment"?(x=O[I-1]?O[I-1][0]:"empty",A=O[I+1]?O[I+1][0]:"empty",!E[x]&&!E[A]?C.slice(-1)===","?D=!1:C+=d[1]:D=!1):C+=d[1];if(!D){let I=O.reduce((N,F)=>N+F[1],"");w.raws[S]={value:C,raw:I}}w[S]=C}spacesAndCommentsFromEnd(w){let S,O="";for(;w.length&&(S=w[w.length-1][0],!(S!=="space"&&S!=="comment"));)O=w.pop()[1]+O;return O}spacesAndCommentsFromStart(w){let S,O="";for(;w.length&&(S=w[0][0],!(S!=="space"&&S!=="comment"));)O+=w.shift()[1];return O}spacesFromEnd(w){let S,O="";for(;w.length&&(S=w[w.length-1][0],S==="space");)O=w.pop()[1]+O;return O}stringFrom(w,S){let O="";for(let p=S;p<w.length;p++)O+=w[p][1];return w.splice(S,w.length-S),O}colon(w){let S=0,O,p,d;for(let[a,P]of w.entries()){if(O=P,p=O[0],p==="("&&(S+=1),p===")"&&(S-=1),S===0&&p===":")if(!d)this.doubleColon(O);else{if(d[0]==="word"&&d[1]==="progid")continue;return a}d=O}return!1}unclosedBracket(w){throw this.input.error("Unclosed bracket",{offset:w[2]},{offset:w[2]+1})}unknownWord(w){throw this.input.error("Unknown word",{offset:w[0][2]},{offset:w[0][2]+w[0][1].length})}unexpectedClose(w){throw this.input.error("Unexpected }",{offset:w[2]},{offset:w[2]+1})}unclosedBlock(){let w=this.current.source.start;throw this.input.error("Unclosed block",w.line,w.column)}doubleColon(w){throw this.input.error("Double colon",{offset:w[2]},{offset:w[2]+w[1].length})}unnamedAtrule(w,S){throw this.input.error("At-rule without name",{offset:S[2]},{offset:S[2]+S[1].length})}precheckMissedSemicolon(){}checkMissedSemicolon(w){let S=this.colon(w);if(S===!1)return;let O=0,p;for(let d=S-1;d>=0&&(p=w[d],!(p[0]!=="space"&&(O+=1,O===2)));d--);throw this.input.error("Missed semicolon",p[0]==="word"?p[3]+1:p[2])}}z.exports=y},50020:(z,l,e)=>{"use strict";let o=e(42671),f=e(94258),u=e(21939),c=e(21019),_=e(71723),g=e(67088),E=e(50250),v=e(26461),y=e(11728),T=e(69932),w=e(41353),S=e(83632),O=e(5995),p=e(66939),d=e(54715),a=e(31675),P=e(41025),C=e(65631);function D(...A){return A.length===1&&Array.isArray(A[0])&&(A=A[0]),new _(A)}D.plugin=function(x,I){let N=!1;function F(...V){console&&console.warn&&!N&&(N=!0,console.warn(x+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(x+`: \u91CC\u9762 postcss.plugin \u88AB\u5F03\u7528. \u8FC1\u79FB\u6307\u5357:
https://www.w3ctech.com/topic/2226`));let Z=I(...V);return Z.postcssPlugin=x,Z.postcssVersion=new _().version,Z}let B;return Object.defineProperty(F,"postcss",{get(){return B||(B=F()),B}}),F.process=function(V,Z,Y){return D([F(Y)]).process(V,Z)},F},D.stringify=g,D.parse=p,D.fromJSON=E,D.list=d,D.comment=A=>new T(A),D.atRule=A=>new w(A),D.decl=A=>new f(A),D.rule=A=>new a(A),D.root=A=>new P(A),D.document=A=>new v(A),D.CssSyntaxError=o,D.Declaration=f,D.Container=c,D.Processor=_,D.Document=v,D.Comment=T,D.Warning=y,D.AtRule=w,D.Result=S,D.Input=O,D.Rule=a,D.Root=P,D.Node=C,u.registerPostcss(D),z.exports=D,D.default=D},47981:(z,l,e)=>{"use strict";let{SourceMapConsumer:o,SourceMapGenerator:f}=e(70209),{existsSync:u,readFileSync:c}=e(14777),{dirname:_,join:g}=e(99830);function E(y){return Buffer?Buffer.from(y,"base64").toString():window.atob(y)}class v{constructor(T,w){if(w.map===!1)return;this.loadAnnotation(T),this.inline=this.startWith(this.annotation,"data:");let S=w.map?w.map.prev:void 0,O=this.loadMap(w.from,S);!this.mapFile&&w.from&&(this.mapFile=w.from),this.mapFile&&(this.root=_(this.mapFile)),O&&(this.text=O)}consumer(){return this.consumerCache||(this.consumerCache=new o(this.text)),this.consumerCache}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}startWith(T,w){return T?T.substr(0,w.length)===w:!1}getAnnotationURL(T){return T.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}loadAnnotation(T){let w=T.match(/\/\*\s*# sourceMappingURL=/gm);if(!w)return;let S=T.lastIndexOf(w.pop()),O=T.indexOf("*/",S);S>-1&&O>-1&&(this.annotation=this.getAnnotationURL(T.substring(S,O)))}decodeInline(T){let w=/^data:application\/json;charset=utf-?8;base64,/,S=/^data:application\/json;base64,/,O=/^data:application\/json;charset=utf-?8,/,p=/^data:application\/json,/;if(O.test(T)||p.test(T))return decodeURIComponent(T.substr(RegExp.lastMatch.length));if(w.test(T)||S.test(T))return E(T.substr(RegExp.lastMatch.length));let d=T.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+d)}loadFile(T){if(this.root=_(T),u(T))return this.mapFile=T,c(T,"utf-8").toString().trim()}loadMap(T,w){if(w===!1)return!1;if(w){if(typeof w=="string")return w;if(typeof w=="function"){let S=w(T);if(S){let O=this.loadFile(S);if(!O)throw new Error("Unable to load previous source map: "+S.toString());return O}}else{if(w instanceof o)return f.fromSourceMap(w).toString();if(w instanceof f)return w.toString();if(this.isMap(w))return JSON.stringify(w);throw new Error("Unsupported previous source map format: "+w.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let S=this.annotation;return T&&(S=g(_(T),S)),this.loadFile(S)}}}isMap(T){return typeof T!="object"?!1:typeof T.mappings=="string"||typeof T._mappings=="string"||Array.isArray(T.sections)}}z.exports=v,v.default=v},71723:(z,l,e)=>{"use strict";let o=e(47647),f=e(21939),u=e(26461),c=e(41025);class _{constructor(E=[]){this.version="8.4.24",this.plugins=this.normalize(E)}use(E){return this.plugins=this.plugins.concat(this.normalize([E])),this}process(E,v={}){return this.plugins.length===0&&typeof v.parser=="undefined"&&typeof v.stringifier=="undefined"&&typeof v.syntax=="undefined"?new o(this,E,v):new f(this,E,v)}normalize(E){let v=[];for(let y of E)if(y.postcss===!0?y=y():y.postcss&&(y=y.postcss),typeof y=="object"&&Array.isArray(y.plugins))v=v.concat(y.plugins);else if(typeof y=="object"&&y.postcssPlugin)v.push(y);else if(typeof y=="function")v.push(y);else if(!(typeof y=="object"&&(y.parse||y.stringify)))throw new Error(y+" is not a PostCSS plugin");return v}}z.exports=_,_.default=_,c.registerProcessor(_),u.registerProcessor(_)},83632:(z,l,e)=>{"use strict";let o=e(11728);class f{constructor(c,_,g){this.processor=c,this.messages=[],this.root=_,this.opts=g,this.css=void 0,this.map=void 0}toString(){return this.css}warn(c,_={}){_.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(_.plugin=this.lastPlugin.postcssPlugin);let g=new o(c,_);return this.messages.push(g),g}warnings(){return this.messages.filter(c=>c.type==="warning")}get content(){return this.css}}z.exports=f,f.default=f},41025:(z,l,e)=>{"use strict";let o=e(21019),f,u;class c extends o{constructor(g){super(g),this.type="root",this.nodes||(this.nodes=[])}removeChild(g,E){let v=this.index(g);return!E&&v===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[v].raws.before),super.removeChild(g)}normalize(g,E,v){let y=super.normalize(g);if(E){if(v==="prepend")this.nodes.length>1?E.raws.before=this.nodes[1].raws.before:delete E.raws.before;else if(this.first!==E)for(let T of y)T.raws.before=E.raws.before}return y}toResult(g={}){return new f(new u,this,g).stringify()}}c.registerLazyResult=_=>{f=_},c.registerProcessor=_=>{u=_},z.exports=c,c.default=c,o.registerRoot(c)},31675:(z,l,e)=>{"use strict";let o=e(21019),f=e(54715);class u extends o{constructor(_){super(_),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return f.comma(this.selector)}set selectors(_){let g=this.selector?this.selector.match(/,\s*/):null,E=g?g[0]:","+this.raw("between","beforeOpen");this.selector=_.join(E)}}z.exports=u,u.default=u,o.registerRule(u)},1062:z=>{"use strict";const l={colon:": ",indent:"    ",beforeDecl:`
`,beforeRule:`
`,beforeOpen:" ",beforeClose:`
`,beforeComment:`
`,after:`
`,emptyBody:"",commentLeft:" ",commentRight:" ",semicolon:!1};function e(f){return f[0].toUpperCase()+f.slice(1)}class o{constructor(u){this.builder=u}stringify(u,c){if(!this[u.type])throw new Error("Unknown AST node type "+u.type+". Maybe you need to change PostCSS stringifier.");this[u.type](u,c)}document(u){this.body(u)}root(u){this.body(u),u.raws.after&&this.builder(u.raws.after)}comment(u){let c=this.raw(u,"left","commentLeft"),_=this.raw(u,"right","commentRight");this.builder("/*"+c+u.text+_+"*/",u)}decl(u,c){let _=this.raw(u,"between","colon"),g=u.prop+_+this.rawValue(u,"value");u.important&&(g+=u.raws.important||" !important"),c&&(g+=";"),this.builder(g,u)}rule(u){this.block(u,this.rawValue(u,"selector")),u.raws.ownSemicolon&&this.builder(u.raws.ownSemicolon,u,"end")}atrule(u,c){let _="@"+u.name,g=u.params?this.rawValue(u,"params"):"";if(typeof u.raws.afterName!="undefined"?_+=u.raws.afterName:g&&(_+=" "),u.nodes)this.block(u,_+g);else{let E=(u.raws.between||"")+(c?";":"");this.builder(_+g+E,u)}}body(u){let c=u.nodes.length-1;for(;c>0&&u.nodes[c].type==="comment";)c-=1;let _=this.raw(u,"semicolon");for(let g=0;g<u.nodes.length;g++){let E=u.nodes[g],v=this.raw(E,"before");v&&this.builder(v),this.stringify(E,c!==g||_)}}block(u,c){let _=this.raw(u,"between","beforeOpen");this.builder(c+_+"{",u,"start");let g;u.nodes&&u.nodes.length?(this.body(u),g=this.raw(u,"after")):g=this.raw(u,"after","emptyBody"),g&&this.builder(g),this.builder("}",u,"end")}raw(u,c,_){let g;if(_||(_=c),c&&(g=u.raws[c],typeof g!="undefined"))return g;let E=u.parent;if(_==="before"&&(!E||E.type==="root"&&E.first===u||E&&E.type==="document"))return"";if(!E)return l[_];let v=u.root();if(v.rawCache||(v.rawCache={}),typeof v.rawCache[_]!="undefined")return v.rawCache[_];if(_==="before"||_==="after")return this.beforeAfter(u,_);{let y="raw"+e(_);this[y]?g=this[y](v,u):v.walk(T=>{if(g=T.raws[c],typeof g!="undefined")return!1})}return typeof g=="undefined"&&(g=l[_]),v.rawCache[_]=g,g}rawSemicolon(u){let c;return u.walk(_=>{if(_.nodes&&_.nodes.length&&_.last.type==="decl"&&(c=_.raws.semicolon,typeof c!="undefined"))return!1}),c}rawEmptyBody(u){let c;return u.walk(_=>{if(_.nodes&&_.nodes.length===0&&(c=_.raws.after,typeof c!="undefined"))return!1}),c}rawIndent(u){if(u.raws.indent)return u.raws.indent;let c;return u.walk(_=>{let g=_.parent;if(g&&g!==u&&g.parent&&g.parent===u&&typeof _.raws.before!="undefined"){let E=_.raws.before.split(`
`);return c=E[E.length-1],c=c.replace(/\S/g,""),!1}}),c}rawBeforeComment(u,c){let _;return u.walkComments(g=>{if(typeof g.raws.before!="undefined")return _=g.raws.before,_.includes(`
`)&&(_=_.replace(/[^\n]+$/,"")),!1}),typeof _=="undefined"?_=this.raw(c,null,"beforeDecl"):_&&(_=_.replace(/\S/g,"")),_}rawBeforeDecl(u,c){let _;return u.walkDecls(g=>{if(typeof g.raws.before!="undefined")return _=g.raws.before,_.includes(`
`)&&(_=_.replace(/[^\n]+$/,"")),!1}),typeof _=="undefined"?_=this.raw(c,null,"beforeRule"):_&&(_=_.replace(/\S/g,"")),_}rawBeforeRule(u){let c;return u.walk(_=>{if(_.nodes&&(_.parent!==u||u.first!==_)&&typeof _.raws.before!="undefined")return c=_.raws.before,c.includes(`
`)&&(c=c.replace(/[^\n]+$/,"")),!1}),c&&(c=c.replace(/\S/g,"")),c}rawBeforeClose(u){let c;return u.walk(_=>{if(_.nodes&&_.nodes.length>0&&typeof _.raws.after!="undefined")return c=_.raws.after,c.includes(`
`)&&(c=c.replace(/[^\n]+$/,"")),!1}),c&&(c=c.replace(/\S/g,"")),c}rawBeforeOpen(u){let c;return u.walk(_=>{if(_.type!=="decl"&&(c=_.raws.between,typeof c!="undefined"))return!1}),c}rawColon(u){let c;return u.walkDecls(_=>{if(typeof _.raws.between!="undefined")return c=_.raws.between.replace(/[^\s:]/g,""),!1}),c}beforeAfter(u,c){let _;u.type==="decl"?_=this.raw(u,null,"beforeDecl"):u.type==="comment"?_=this.raw(u,null,"beforeComment"):c==="before"?_=this.raw(u,null,"beforeRule"):_=this.raw(u,null,"beforeClose");let g=u.parent,E=0;for(;g&&g.type!=="root";)E+=1,g=g.parent;if(_.includes(`
`)){let v=this.raw(u,null,"indent");if(v.length)for(let y=0;y<E;y++)_+=v}return _}rawValue(u,c){let _=u[c],g=u.raws[c];return g&&g.value===_?g.raw:_}}z.exports=o,o.default=o},67088:(z,l,e)=>{"use strict";let o=e(1062);function f(u,c){new o(c).stringify(u)}z.exports=f,f.default=f},65513:z=>{"use strict";z.exports.isClean=Symbol("isClean"),z.exports.my=Symbol("my")},83852:z=>{"use strict";const l="'".charCodeAt(0),e='"'.charCodeAt(0),o="\\".charCodeAt(0),f="/".charCodeAt(0),u=`
`.charCodeAt(0),c=" ".charCodeAt(0),_="\f".charCodeAt(0),g="	".charCodeAt(0),E="\r".charCodeAt(0),v="[".charCodeAt(0),y="]".charCodeAt(0),T="(".charCodeAt(0),w=")".charCodeAt(0),S="{".charCodeAt(0),O="}".charCodeAt(0),p=";".charCodeAt(0),d="*".charCodeAt(0),a=":".charCodeAt(0),P="@".charCodeAt(0),C=/[\t\n\f\r "#'()/;[\\\]{}]/g,D=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,A=/.[\n"'(/\\]/,x=/[\da-f]/i;z.exports=function(N,F={}){let B=N.css.valueOf(),V=F.ignoreErrors,Z,Y,ne,G,L,W,ie,ue,le,J,te=B.length,se=0,ee=[],ae=[];function ce(){return se}function fe(ve){throw N.error("Unclosed "+ve,se)}function Ee(){return ae.length===0&&se>=te}function de(ve){if(ae.length)return ae.pop();if(se>=te)return;let De=ve?ve.ignoreUnclosed:!1;switch(Z=B.charCodeAt(se),Z){case u:case c:case g:case E:case _:{Y=se;do Y+=1,Z=B.charCodeAt(Y);while(Z===c||Z===u||Z===g||Z===E||Z===_);J=["space",B.slice(se,Y)],se=Y-1;break}case v:case y:case S:case O:case a:case p:case w:{let Oe=String.fromCharCode(Z);J=[Oe,Oe,se];break}case T:{if(ue=ee.length?ee.pop()[1]:"",le=B.charCodeAt(se+1),ue==="url"&&le!==l&&le!==e&&le!==c&&le!==u&&le!==g&&le!==_&&le!==E){Y=se;do{if(W=!1,Y=B.indexOf(")",Y+1),Y===-1)if(V||De){Y=se;break}else fe("bracket");for(ie=Y;B.charCodeAt(ie-1)===o;)ie-=1,W=!W}while(W);J=["brackets",B.slice(se,Y+1),se,Y],se=Y}else Y=B.indexOf(")",se+1),G=B.slice(se,Y+1),Y===-1||A.test(G)?J=["(","(",se]:(J=["brackets",G,se,Y],se=Y);break}case l:case e:{ne=Z===l?"'":'"',Y=se;do{if(W=!1,Y=B.indexOf(ne,Y+1),Y===-1)if(V||De){Y=se+1;break}else fe("string");for(ie=Y;B.charCodeAt(ie-1)===o;)ie-=1,W=!W}while(W);J=["string",B.slice(se,Y+1),se,Y],se=Y;break}case P:{C.lastIndex=se+1,C.test(B),C.lastIndex===0?Y=B.length-1:Y=C.lastIndex-2,J=["at-word",B.slice(se,Y+1),se,Y],se=Y;break}case o:{for(Y=se,L=!0;B.charCodeAt(Y+1)===o;)Y+=1,L=!L;if(Z=B.charCodeAt(Y+1),L&&Z!==f&&Z!==c&&Z!==u&&Z!==g&&Z!==E&&Z!==_&&(Y+=1,x.test(B.charAt(Y)))){for(;x.test(B.charAt(Y+1));)Y+=1;B.charCodeAt(Y+1)===c&&(Y+=1)}J=["word",B.slice(se,Y+1),se,Y],se=Y;break}default:{Z===f&&B.charCodeAt(se+1)===d?(Y=B.indexOf("*/",se+2)+1,Y===0&&(V||De?Y=B.length:fe("comment")),J=["comment",B.slice(se,Y+1),se,Y],se=Y):(D.lastIndex=se+1,D.test(B),D.lastIndex===0?Y=B.length-1:Y=D.lastIndex-2,J=["word",B.slice(se,Y+1),se,Y],ee.push(J),se=Y);break}}return se++,J}function _e(ve){ae.push(ve)}return{back:_e,nextToken:de,endOfFile:Ee,position:ce}}},72448:z=>{"use strict";let l={};z.exports=function(o){l[o]||(l[o]=!0,typeof console!="undefined"&&console.warn&&console.warn(o))}},11728:z=>{"use strict";class l{constructor(o,f={}){if(this.type="warning",this.text=o,f.node&&f.node.source){let u=f.node.rangeBy(f);this.line=u.start.line,this.column=u.start.column,this.endLine=u.end.line,this.endColumn=u.end.column}for(let u in f)this[u]=f[u]}toString(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}z.exports=l,l.default=l},53836:(z,l,e)=>{l.__esModule=!0;var o=function(){function ee(ae,ce){for(var fe=0;fe<ce.length;fe++){var Ee=ce[fe];Ee.enumerable=Ee.enumerable||!1,Ee.configurable=!0,"value"in Ee&&(Ee.writable=!0),Object.defineProperty(ae,Ee.key,Ee)}}return function(ae,ce,fe){return ce&&ee(ae.prototype,ce),fe&&ee(ae,fe),ae}}(),f=Object.assign||function(ee){for(var ae=1;ae<arguments.length;ae++){var ce=arguments[ae];for(var fe in ce)Object.prototype.hasOwnProperty.call(ce,fe)&&(ee[fe]=ce[fe])}return ee},u=e(6400),c=e(98278),_=w(c),g=e(10251),E=w(g),v=e(27418),y=w(v),T=e(7937);function w(ee){return ee&&ee.__esModule?ee:{default:ee}}function S(ee,ae){if(!(ee instanceof ae))throw new TypeError("Cannot call a class as a function")}function O(ee,ae){if(!ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae&&(typeof ae=="object"||typeof ae=="function")?ae:ee}function p(ee,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ae);ee.prototype=Object.create(ae&&ae.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}),ae&&(Object.setPrototypeOf?Object.setPrototypeOf(ee,ae):ee.__proto__=ae)}function d(ee,ae,ce){return ae in ee?Object.defineProperty(ee,ae,{value:ce,enumerable:!0,configurable:!0,writable:!0}):ee[ae]=ce,ee}var a="data-preact-helmet",P=function(ae){return String(ae).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},C=function(ae,ce){for(var fe=ae.length-1;fe>=0;fe--){var Ee=ae[fe];if(Ee[ce])return Ee[ce]}return null},D=function(ae){var ce=C(ae,"title"),fe=C(ae,"titleTemplate");if(fe&&ce)return fe.replace(/%s/g,function(){return ce});var Ee=C(ae,"defaultTitle");return ce||Ee||""},A=function(ae){return C(ae,"onChangeClientState")||function(){}},x=function(ae,ce){return ce.filter(function(fe){return typeof fe[ae]!="undefined"}).map(function(fe){return fe[ae]}).reduce(function(fe,Ee){return f({},fe,Ee)},{})},I=function(ae,ce){return ce.filter(function(fe){return typeof fe[T.TAG_NAMES.BASE]!="undefined"}).map(function(fe){return fe[T.TAG_NAMES.BASE]}).reverse().reduce(function(fe,Ee){if(!fe.length)for(var de=Object.keys(Ee),_e=0;_e<de.length;_e++){var ve=de[_e],De=ve.toLowerCase();if(ae.indexOf(De)!==-1&&Ee[De])return fe.concat(Ee)}return fe},[])},N=function(ae,ce,fe){var Ee={};return fe.filter(function(de){return typeof de[ae]!="undefined"}).map(function(de){return de[ae]}).reverse().reduce(function(de,_e){var ve={};_e.filter(function(Be){for(var We=void 0,Ke=Object.keys(Be),Xe=0;Xe<Ke.length;Xe++){var ct=Ke[Xe],Se=ct.toLowerCase();ce.indexOf(Se)!==-1&&!(We===T.TAG_PROPERTIES.REL&&Be[We].toLowerCase()==="canonical")&&!(Se===T.TAG_PROPERTIES.REL&&Be[Se].toLowerCase()==="stylesheet")&&(We=Se),ce.indexOf(ct)!==-1&&(ct===T.TAG_PROPERTIES.INNER_HTML||ct===T.TAG_PROPERTIES.CSS_TEXT||ct===T.TAG_PROPERTIES.ITEM_PROP)&&(We=ct)}if(!We||!Be[We])return!1;var Qe=Be[We].toLowerCase();return Ee[We]||(Ee[We]={}),ve[We]||(ve[We]={}),Ee[We][Qe]?!1:(ve[We][Qe]=!0,!0)}).reverse().forEach(function(Be){return de.push(Be)});for(var De=Object.keys(ve),Oe=0;Oe<De.length;Oe++){var ye=De[Oe],ze=(0,y.default)({},Ee[ye],ve[ye]);Ee[ye]=ze}return de},[]).reverse()},F=function(ae,ce){document.title=ae||document.title,B(T.TAG_NAMES.TITLE,ce)},B=function(ae,ce){for(var fe=document.getElementsByTagName(ae)[0],Ee=fe.getAttribute(a),de=Ee?Ee.split(","):[],_e=[].concat(de),ve=Object.keys(ce),De=0;De<ve.length;De++){var Oe=ve[De],ye=ce[Oe]||"";fe.setAttribute(Oe,ye),de.indexOf(Oe)===-1&&de.push(Oe);var ze=_e.indexOf(Oe);ze!==-1&&_e.splice(ze,1)}for(var Be=_e.length-1;Be>=0;Be--)fe.removeAttribute(_e[Be]);de.length===_e.length?fe.removeAttribute(a):fe.setAttribute(a,de.join(","))},V=function(ae,ce){var fe=document.head||document.querySelector("head"),Ee=fe.querySelectorAll(ae+"["+a+"]"),de=Array.prototype.slice.call(Ee),_e=[],ve=void 0;return ce&&ce.length&&ce.forEach(function(De){var Oe=document.createElement(ae);for(var ye in De)if(De.hasOwnProperty(ye))if(ye==="innerHTML")Oe.innerHTML=De.innerHTML;else if(ye==="cssText")Oe.styleSheet?Oe.styleSheet.cssText=De.cssText:Oe.appendChild(document.createTextNode(De.cssText));else{var ze=typeof De[ye]=="undefined"?"":De[ye];Oe.setAttribute(ye,ze)}Oe.setAttribute(a,"true"),de.some(function(Be,We){return ve=We,Oe.isEqualNode(Be)})?de.splice(ve,1):_e.push(Oe)}),de.forEach(function(De){return De.parentNode.removeChild(De)}),_e.forEach(function(De){return fe.appendChild(De)}),{oldTags:de,newTags:_e}},Z=function(ae){return Object.keys(ae).reduce(function(ce,fe){var Ee=typeof ae[fe]!="undefined"?fe+'="'+ae[fe]+'"':""+fe;return ce?ce+" "+Ee:Ee},"")},Y=function(ae,ce,fe){var Ee=Z(fe);return Ee?"<"+ae+" "+a+" "+Ee+">"+P(ce)+"</"+ae+">":"<"+ae+" "+a+">"+P(ce)+"</"+ae+">"},ne=function(ae,ce){return ce.reduce(function(fe,Ee){var de=Object.keys(Ee).filter(function(De){return!(De==="innerHTML"||De==="cssText")}).reduce(function(De,Oe){var ye=typeof Ee[Oe]=="undefined"?Oe:Oe+'="'+P(Ee[Oe])+'"';return De?De+" "+ye:ye},""),_e=Ee.innerHTML||Ee.cssText||"",ve=[T.TAG_NAMES.NOSCRIPT,T.TAG_NAMES.SCRIPT,T.TAG_NAMES.STYLE].indexOf(ae)===-1;return fe+"<"+ae+" "+a+" "+de+(ve?">":">"+_e+"</"+ae+">")},"")},G=function(ae,ce,fe){var Ee=d({key:ce},a,!0),de=Object.keys(fe).reduce(function(_e,ve){return _e[ve]=fe[ve],_e},Ee);return[(0,u.h)(T.TAG_NAMES.TITLE,de,ce)]},L=function(ae,ce){return ce.map(function(fe,Ee){var de=d({key:Ee},a,!0);return Object.keys(fe).forEach(function(_e){var ve=_e;if(ve==="innerHTML"||ve==="cssText"){var De=fe.innerHTML||fe.cssText;de.dangerouslySetInnerHTML={__html:De}}else de[ve]=fe[_e]}),(0,u.h)(ae,de)})},W=function(ae,ce){switch(ae){case T.TAG_NAMES.TITLE:return{toComponent:function(){return G(ae,ce.title,ce.titleAttributes)},toString:function(){return Y(ae,ce.title,ce.titleAttributes)}};case T.TAG_NAMES.HTML:return{toComponent:function(){return ce},toString:function(){return Z(ce)}};default:return{toComponent:function(){return L(ae,ce)},toString:function(){return ne(ae,ce)}}}},ie=function(ae){var ce=ae.htmlAttributes,fe=ae.title,Ee=ae.titleAttributes,de=ae.baseTag,_e=ae.metaTags,ve=ae.linkTags,De=ae.scriptTags,Oe=ae.noscriptTags,ye=ae.styleTags;return{htmlAttributes:W(T.TAG_NAMES.HTML,ce),title:W(T.TAG_NAMES.TITLE,{title:fe,titleAttributes:Ee}),base:W(T.TAG_NAMES.BASE,de),meta:W(T.TAG_NAMES.META,_e),link:W(T.TAG_NAMES.LINK,ve),script:W(T.TAG_NAMES.SCRIPT,De),noscript:W(T.TAG_NAMES.NOSCRIPT,Oe),style:W(T.TAG_NAMES.STYLE,ye)}},ue=function(ae){var ce,fe;return fe=ce=function(Ee){p(de,Ee);function de(){return S(this,de),O(this,(de.__proto__||Object.getPrototypeOf(de)).apply(this,arguments))}return o(de,[{key:"shouldComponentUpdate",value:function(ve){var De=f({},ve);return(!De.children||!De.children.length)&&delete De.children,!(0,E.default)(this.props,De)}},{key:"render",value:function(){return(0,u.h)(ae,this.props)}}],[{key:"canUseDOM",set:function(ve){ae.canUseDOM=ve}}]),de}(u.Component),ce.peek=ae.peek,ce.rewind=function(){var Ee=ae.rewind();return Ee||(Ee=ie({htmlAttributes:{},title:"",titleAttributes:{},baseTag:[],metaTags:[],linkTags:[],scriptTags:[],noscriptTags:[],styleTags:[]})),Ee},fe},le=function(ae){return{htmlAttributes:x(T.TAG_NAMES.HTML,ae),title:D(ae),titleAttributes:x("titleAttributes",ae),baseTag:I([T.TAG_PROPERTIES.HREF],ae),metaTags:N(T.TAG_NAMES.META,[T.TAG_PROPERTIES.NAME,T.TAG_PROPERTIES.CHARSET,T.TAG_PROPERTIES.HTTPEQUIV,T.TAG_PROPERTIES.PROPERTY,T.TAG_PROPERTIES.ITEM_PROP],ae),linkTags:N(T.TAG_NAMES.LINK,[T.TAG_PROPERTIES.REL,T.TAG_PROPERTIES.HREF],ae),scriptTags:N(T.TAG_NAMES.SCRIPT,[T.TAG_PROPERTIES.SRC,T.TAG_PROPERTIES.INNER_HTML],ae),noscriptTags:N(T.TAG_NAMES.NOSCRIPT,[T.TAG_PROPERTIES.INNER_HTML],ae),styleTags:N(T.TAG_NAMES.STYLE,[T.TAG_PROPERTIES.CSS_TEXT],ae),onChangeClientState:A(ae)}},J=function(ae){var ce=ae.htmlAttributes,fe=ae.title,Ee=ae.titleAttributes,de=ae.baseTag,_e=ae.metaTags,ve=ae.linkTags,De=ae.scriptTags,Oe=ae.noscriptTags,ye=ae.styleTags,ze=ae.onChangeClientState;B("html",ce),F(fe,Ee);var Be={baseTag:V(T.TAG_NAMES.BASE,de),metaTags:V(T.TAG_NAMES.META,_e),linkTags:V(T.TAG_NAMES.LINK,ve),scriptTags:V(T.TAG_NAMES.SCRIPT,De),noscriptTags:V(T.TAG_NAMES.NOSCRIPT,Oe),styleTags:V(T.TAG_NAMES.STYLE,ye)},We={},Ke={};Object.keys(Be).forEach(function(Xe){var ct=Be[Xe],Se=ct.newTags,Qe=ct.oldTags;Se.length&&(We[Xe]=Se),Qe.length&&(Ke[Xe]=Be[Xe].oldTags)}),ze(ae,We,Ke)},te=function(){return null},se=(0,_.default)(le,J,ie)(te);l.default=ue(se),z.exports=l.default},7937:(z,l)=>{l.__esModule=!0;var e=l.TAG_NAMES={HTML:"htmlAttributes",TITLE:"title",BASE:"base",META:"meta",LINK:"link",SCRIPT:"script",NOSCRIPT:"noscript",STYLE:"style"},o=l.TAG_PROPERTIES={NAME:"name",CHARSET:"charset",HTTPEQUIV:"http-equiv",REL:"rel",HREF:"href",PROPERTY:"property",SRC:"src",INNER_HTML:"innerHTML",CSS_TEXT:"cssText",ITEM_PROP:"itemprop"},f=l.PREACT_TAG_MAP={charset:"charSet","http-equiv":"httpEquiv",itemprop:"itemProp",class:"className"}},20042:(z,l,e)=>{"use strict";e.r(l),e.d(l,{Link:()=>Z,Route:()=>Y,Router:()=>V,default:()=>ne,exec:()=>c,getCurrentUrl:()=>a,route:()=>P,subscribers:()=>O});var o=e(6400),f={};function u(G,L){for(var W in L)G[W]=L[W];return G}function c(G,L,W){var ie=/(?:\?([^#]*))?(#.*)?$/,ue=G.match(ie),le={},J;if(ue&&ue[1])for(var te=ue[1].split("&"),se=0;se<te.length;se++){var ee=te[se].split("=");le[decodeURIComponent(ee[0])]=decodeURIComponent(ee.slice(1).join("="))}G=E(G.replace(ie,"")),L=E(L||"");for(var ae=Math.max(G.length,L.length),ce=0;ce<ae;ce++)if(L[ce]&&L[ce].charAt(0)===":"){var fe=L[ce].replace(/(^:|[+*?]+$)/g,""),Ee=(L[ce].match(/[+*?]+$/)||f)[0]||"",de=~Ee.indexOf("+"),_e=~Ee.indexOf("*"),ve=G[ce]||"";if(!ve&&!_e&&(Ee.indexOf("?")<0||de)){J=!1;break}if(le[fe]=decodeURIComponent(ve),de||_e){le[fe]=G.slice(ce).map(decodeURIComponent).join("/");break}}else if(L[ce]!==G[ce]){J=!1;break}return W.default!==!0&&J===!1?!1:le}function _(G,L){return G.rank<L.rank?1:G.rank>L.rank?-1:G.index-L.index}function g(G,L){return G.index=L,G.rank=T(G),G.props}function E(G){return G.replace(/(^\/+|\/+$)/g,"").split("/")}function v(G){return G.charAt(0)==":"?1+"*+?".indexOf(G.charAt(G.length-1))||4:5}function y(G){return E(G).map(v).join("")}function T(G){return G.props.default?0:y(G.props.path)}var w=null,S=[],O=[],p={};function d(G,L){L===void 0&&(L="push"),w&&w[L]?w[L](G):typeof history!="undefined"&&history[L+"State"]&&history[L+"State"](null,null,G)}function a(){var G;return w&&w.location?G=w.location:w&&w.getCurrentLocation?G=w.getCurrentLocation():G=typeof location!="undefined"?location:p,""+(G.pathname||"")+(G.search||"")}function P(G,L){return L===void 0&&(L=!1),typeof G!="string"&&G.url&&(L=G.replace,G=G.url),C(G)&&d(G,L?"replace":"push"),D(G)}function C(G){for(var L=S.length;L--;)if(S[L].canRoute(G))return!0;return!1}function D(G){for(var L=!1,W=0;W<S.length;W++)S[W].routeTo(G)===!0&&(L=!0);for(var ie=O.length;ie--;)O[ie](G);return L}function A(G){if(!(!G||!G.getAttribute)){var L=G.getAttribute("href"),W=G.getAttribute("target");if(!(!L||!L.match(/^\//g)||W&&!W.match(/^_?self$/i)))return P(L)}}function x(G){if(!(G.ctrlKey||G.metaKey||G.altKey||G.shiftKey||G.button!==0))return A(G.currentTarget||G.target||this),I(G)}function I(G){return G&&(G.stopImmediatePropagation&&G.stopImmediatePropagation(),G.stopPropagation&&G.stopPropagation(),G.preventDefault()),!1}function N(G){if(!(G.ctrlKey||G.metaKey||G.altKey||G.shiftKey||G.button!==0)){var L=G.target;do if(String(L.nodeName).toUpperCase()==="A"&&L.getAttribute("href")){if(L.hasAttribute("native"))return;if(A(L))return I(G)}while(L=L.parentNode)}}var F=!1;function B(){F||(typeof addEventListener=="function"&&(w||addEventListener("popstate",function(){D(a())}),addEventListener("click",N)),F=!0)}var V=function(G){function L(W){G.call(this,W),W.history&&(w=W.history),this.state={url:W.url||a()},B()}return G&&(L.__proto__=G),L.prototype=Object.create(G&&G.prototype),L.prototype.constructor=L,L.prototype.shouldComponentUpdate=function(ie){return ie.static!==!0?!0:ie.url!==this.props.url||ie.onChange!==this.props.onChange},L.prototype.canRoute=function(ie){var ue=(0,o.toChildArray)(this.props.children);return this.getMatchingChildren(ue,ie,!1).length>0},L.prototype.routeTo=function(ie){this.setState({url:ie});var ue=this.canRoute(ie);return this.updating||this.forceUpdate(),ue},L.prototype.componentWillMount=function(){S.push(this),this.updating=!0},L.prototype.componentDidMount=function(){var ie=this;w&&(this.unlisten=w.listen(function(ue){ie.routeTo(""+(ue.pathname||"")+(ue.search||""))})),this.updating=!1},L.prototype.componentWillUnmount=function(){typeof this.unlisten=="function"&&this.unlisten(),S.splice(S.indexOf(this),1)},L.prototype.componentWillUpdate=function(){this.updating=!0},L.prototype.componentDidUpdate=function(){this.updating=!1},L.prototype.getMatchingChildren=function(ie,ue,le){return ie.filter(g).sort(_).map(function(J){var te=c(ue,J.props.path,J.props);if(te){if(le!==!1){var se={url:ue,matches:te};return u(se,te),delete se.ref,delete se.key,(0,o.cloneElement)(J,se)}return J}}).filter(Boolean)},L.prototype.render=function(ie,ue){var le=ie.children,J=ie.onChange,te=ue.url,se=this.getMatchingChildren((0,o.toChildArray)(le),te,!0),ee=se[0]||null,ae=this.previousUrl;return te!==ae&&(this.previousUrl=te,typeof J=="function"&&J({router:this,url:te,previous:ae,active:se,current:ee})),ee},L}(o.Component),Z=function(G){return(0,o.createElement)("a",u({onClick:x},G))},Y=function(G){return(0,o.createElement)(G.component,G)};V.subscribers=O,V.getCurrentUrl=a,V.route=P,V.Router=V,V.Route=Y,V.Link=Z,V.exec=c;const ne=V},56232:(z,l,e)=>{"use strict";var o;o={value:!0},o=l.qE=void 0;var f=Object.assign||function(w){for(var S=1;S<arguments.length;S++){var O=arguments[S];for(var p in O)Object.prototype.hasOwnProperty.call(O,p)&&(w[p]=O[p])}return w},u=e(6400),c=e(20042);function _(w,S){var O={};for(var p in w)S.indexOf(p)>=0||Object.prototype.hasOwnProperty.call(w,p)&&(O[p]=w[p]);return O}function g(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function E(w,S){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:w}function v(w,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);w.prototype=Object.create(S&&S.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(w,S):w.__proto__=S)}var y=l.qE=function(w){v(S,w);function S(){var O,p,d;g(this,S);for(var a=arguments.length,P=Array(a),C=0;C<a;C++)P[C]=arguments[C];return d=(O=(p=E(this,w.call.apply(w,[this].concat(P))),p),p.update=function(D){p.nextUrl=D,p.setState({})},O),E(p,d)}return S.prototype.componentDidMount=function(){c.subscribers.push(this.update)},S.prototype.componentWillUnmount=function(){c.subscribers.splice(c.subscribers.indexOf(this.update)>>>0,1)},S.prototype.render=function(p){var d=this.nextUrl||(0,c.getCurrentUrl)(),a=d.replace(/\?.+$/,"");return this.nextUrl=null,p.children({url:d,path:a,matches:(0,c.exec)(a,p.path,{})!==!1})},S}(u.Component),T=function(S){var O=S.activeClassName,p=S.path,d=_(S,["activeClassName","path"]);return(0,u.h)(y,{path:p||d.href},function(a){var P=a.matches;return(0,u.h)(c.Link,f({},d,{class:[d.class||d.className,P&&O].filter(Boolean).join(" ")}))})};o=T,o=y,y.Link=T},98278:(z,l,e)=>{"use strict";var o=e(6400);function f(g,E){var v={};for(var y in g)E.indexOf(y)>=0||Object.prototype.hasOwnProperty.call(g,y)&&(v[y]=g[y]);return v}function u(g,E){if(!(g instanceof E))throw new TypeError("Cannot call a class as a function")}function c(g,E){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:g}function _(g,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);g.prototype=Object.create(E&&E.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(g,E):g.__proto__=E)}z.exports=function(E,v,y){if(typeof E!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof v!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof y!="undefined"&&typeof y!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function T(S){return S.displayName||S.name||"Component"}return function(O){if(typeof O!="function")throw new Error("Expected WrappedComponent to be a React component.");var p=[],d=void 0;function a(){d=E(p.map(function(C){return C.props})),P.canUseDOM?v(d):y&&(d=y(d))}var P=function(C){_(D,C);function D(){return u(this,D),c(this,C.apply(this,arguments))}return D.peek=function(){return d},D.rewind=function(){if(D.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var x=d;return d=void 0,p=[],x},D.prototype.shouldComponentUpdate=function(x){var I=x.children,N=f(x,["children"]);return I&&I.length&&(N.children=I),w(N,this.props)},D.prototype.componentWillMount=function(){p.push(this),a()},D.prototype.componentDidUpdate=function(){a()},D.prototype.componentWillUnmount=function(){var x=p.indexOf(this);p.splice(x,1),a()},D.prototype.render=function(){return(0,o.h)(O,this.props)},D}(o.Component);return P.displayName="SideEffect("+T(O)+")",P.canUseDOM=!!(typeof window!="undefined"&&window.document&&window.document.createElement),P};function w(S,O){for(var p in S)if(!(p in O))return!0;for(var d in O)if(S[d]!==O[d])return!0;return!1}}},98661:(z,l,e)=>{"use strict";e.r(l),e.d(l,{Children:()=>S,Component:()=>o.Component,Fragment:()=>o.Fragment,PureComponent:()=>g,StrictMode:()=>Be,Suspense:()=>P,SuspenseList:()=>A,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>fe,cloneElement:()=>ve,createContext:()=>o.createContext,createElement:()=>o.createElement,createFactory:()=>de,createPortal:()=>F,createRef:()=>o.createRef,default:()=>Qe,findDOMNode:()=>Oe,flushSync:()=>ze,forwardRef:()=>T,hydrate:()=>W,isValidElement:()=>_e,lazy:()=>D,memo:()=>E,render:()=>L,startTransition:()=>We,unmountComponentAtNode:()=>De,unstable_batchedUpdates:()=>ye,useCallback:()=>f.I4,useContext:()=>f.qp,useDebugValue:()=>f.Qb,useDeferredValue:()=>Ke,useEffect:()=>f.d4,useErrorBoundary:()=>f.cO,useId:()=>f.Me,useImperativeHandle:()=>f.aP,useInsertionEffect:()=>ct,useLayoutEffect:()=>f.bt,useMemo:()=>f.Ye,useReducer:()=>f._Y,useRef:()=>f.sO,useState:()=>f.eJ,useSyncExternalStore:()=>Se,useTransition:()=>Xe,version:()=>Ee});var o=e(6400),f=e(30396);function u(ge,Fe){for(var Ne in Fe)ge[Ne]=Fe[Ne];return ge}function c(ge,Fe){for(var Ne in ge)if(Ne!=="__source"&&!(Ne in Fe))return!0;for(var lt in Fe)if(lt!=="__source"&&ge[lt]!==Fe[lt])return!0;return!1}function _(ge,Fe){return ge===Fe&&(ge!==0||1/ge==1/Fe)||ge!=ge&&Fe!=Fe}function g(ge){this.props=ge}function E(ge,Fe){function Ne(Et){var jt=this.props.ref,en=jt==Et.ref;return!en&&jt&&(jt.call?jt(null):jt.current=null),Fe?!Fe(this.props,Et)||!en:c(this.props,Et)}function lt(Et){return this.shouldComponentUpdate=Ne,(0,o.createElement)(ge,Et)}return lt.displayName="Memo("+(ge.displayName||ge.name)+")",lt.prototype.isReactComponent=!0,lt.__f=!0,lt}(g.prototype=new o.Component).isPureReactComponent=!0,g.prototype.shouldComponentUpdate=function(ge,Fe){return c(this.props,ge)||c(this.state,Fe)};var v=o.options.__b;o.options.__b=function(ge){ge.type&&ge.type.__f&&ge.ref&&(ge.props.ref=ge.ref,ge.ref=null),v&&v(ge)};var y=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function T(ge){function Fe(Ne){var lt=u({},Ne);return delete lt.ref,ge(lt,Ne.ref||null)}return Fe.$$typeof=y,Fe.render=Fe,Fe.prototype.isReactComponent=Fe.__f=!0,Fe.displayName="ForwardRef("+(ge.displayName||ge.name)+")",Fe}var w=function(ge,Fe){return ge==null?null:(0,o.toChildArray)((0,o.toChildArray)(ge).map(Fe))},S={map:w,forEach:w,count:function(ge){return ge?(0,o.toChildArray)(ge).length:0},only:function(ge){var Fe=(0,o.toChildArray)(ge);if(Fe.length!==1)throw"Children.only";return Fe[0]},toArray:o.toChildArray},O=o.options.__e;o.options.__e=function(ge,Fe,Ne,lt){if(ge.then){for(var Et,jt=Fe;jt=jt.__;)if((Et=jt.__c)&&Et.__c)return Fe.__e==null&&(Fe.__e=Ne.__e,Fe.__k=Ne.__k),Et.__c(ge,Fe)}O(ge,Fe,Ne,lt)};var p=o.options.unmount;function d(ge,Fe,Ne){return ge&&(ge.__c&&ge.__c.__H&&(ge.__c.__H.__.forEach(function(lt){typeof lt.__c=="function"&&lt.__c()}),ge.__c.__H=null),(ge=u({},ge)).__c!=null&&(ge.__c.__P===Ne&&(ge.__c.__P=Fe),ge.__c=null),ge.__k=ge.__k&&ge.__k.map(function(lt){return d(lt,Fe,Ne)})),ge}function a(ge,Fe,Ne){return ge&&(ge.__v=null,ge.__k=ge.__k&&ge.__k.map(function(lt){return a(lt,Fe,Ne)}),ge.__c&&ge.__c.__P===Fe&&(ge.__e&&Ne.insertBefore(ge.__e,ge.__d),ge.__c.__e=!0,ge.__c.__P=Ne)),ge}function P(){this.__u=0,this.t=null,this.__b=null}function C(ge){var Fe=ge.__.__c;return Fe&&Fe.__a&&Fe.__a(ge)}function D(ge){var Fe,Ne,lt;function Et(jt){if(Fe||(Fe=ge()).then(function(en){Ne=en.default||en},function(en){lt=en}),lt)throw lt;if(!Ne)throw Fe;return(0,o.createElement)(Ne,jt)}return Et.displayName="Lazy",Et.__f=!0,Et}function A(){this.u=null,this.o=null}o.options.unmount=function(ge){var Fe=ge.__c;Fe&&Fe.__R&&Fe.__R(),Fe&&ge.__h===!0&&(ge.type=null),p&&p(ge)},(P.prototype=new o.Component).__c=function(ge,Fe){var Ne=Fe.__c,lt=this;lt.t==null&&(lt.t=[]),lt.t.push(Ne);var Et=C(lt.__v),jt=!1,en=function(){jt||(jt=!0,Ne.__R=null,Et?Et(vt):vt())};Ne.__R=en;var vt=function(){if(!--lt.__u){if(lt.state.__a){var He=lt.state.__a;lt.__v.__k[0]=a(He,He.__c.__P,He.__c.__O)}var ot;for(lt.setState({__a:lt.__b=null});ot=lt.t.pop();)ot.forceUpdate()}},Re=Fe.__h===!0;lt.__u++||Re||lt.setState({__a:lt.__b=lt.__v.__k[0]}),ge.then(en,en)},P.prototype.componentWillUnmount=function(){this.t=[]},P.prototype.render=function(ge,Fe){if(this.__b){if(this.__v.__k){var Ne=document.createElement("div"),lt=this.__v.__k[0].__c;this.__v.__k[0]=d(this.__b,Ne,lt.__O=lt.__P)}this.__b=null}var Et=Fe.__a&&(0,o.createElement)(o.Fragment,null,ge.fallback);return Et&&(Et.__h=null),[(0,o.createElement)(o.Fragment,null,Fe.__a?null:ge.children),Et]};var x=function(ge,Fe,Ne){if(++Ne[1]===Ne[0]&&ge.o.delete(Fe),ge.props.revealOrder&&(ge.props.revealOrder[0]!=="t"||!ge.o.size))for(Ne=ge.u;Ne;){for(;Ne.length>3;)Ne.pop()();if(Ne[1]<Ne[0])break;ge.u=Ne=Ne[2]}};function I(ge){return this.getChildContext=function(){return ge.context},ge.children}function N(ge){var Fe=this,Ne=ge.i;Fe.componentWillUnmount=function(){(0,o.render)(null,Fe.l),Fe.l=null,Fe.i=null},Fe.i&&Fe.i!==Ne&&Fe.componentWillUnmount(),ge.__v?(Fe.l||(Fe.i=Ne,Fe.l={nodeType:1,parentNode:Ne,childNodes:[],appendChild:function(lt){this.childNodes.push(lt),Fe.i.appendChild(lt)},insertBefore:function(lt,Et){this.childNodes.push(lt),Fe.i.appendChild(lt)},removeChild:function(lt){this.childNodes.splice(this.childNodes.indexOf(lt)>>>1,1),Fe.i.removeChild(lt)}}),(0,o.render)((0,o.createElement)(I,{context:Fe.context},ge.__v),Fe.l)):Fe.l&&Fe.componentWillUnmount()}function F(ge,Fe){var Ne=(0,o.createElement)(N,{__v:ge,i:Fe});return Ne.containerInfo=Fe,Ne}(A.prototype=new o.Component).__a=function(ge){var Fe=this,Ne=C(Fe.__v),lt=Fe.o.get(ge);return lt[0]++,function(Et){var jt=function(){Fe.props.revealOrder?(lt.push(Et),x(Fe,ge,lt)):Et()};Ne?Ne(jt):jt()}},A.prototype.render=function(ge){this.u=null,this.o=new Map;var Fe=(0,o.toChildArray)(ge.children);ge.revealOrder&&ge.revealOrder[0]==="b"&&Fe.reverse();for(var Ne=Fe.length;Ne--;)this.o.set(Fe[Ne],this.u=[1,0,this.u]);return ge.children},A.prototype.componentDidUpdate=A.prototype.componentDidMount=function(){var ge=this;this.o.forEach(function(Fe,Ne){x(ge,Ne,Fe)})};var B=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,V=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Z=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Y=/[A-Z0-9]/g,ne=typeof document!="undefined",G=function(ge){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(ge)};function L(ge,Fe,Ne){return Fe.__k==null&&(Fe.textContent=""),(0,o.render)(ge,Fe),typeof Ne=="function"&&Ne(),ge?ge.__c:null}function W(ge,Fe,Ne){return(0,o.hydrate)(ge,Fe),typeof Ne=="function"&&Ne(),ge?ge.__c:null}o.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(ge){Object.defineProperty(o.Component.prototype,ge,{configurable:!0,get:function(){return this["UNSAFE_"+ge]},set:function(Fe){Object.defineProperty(this,ge,{configurable:!0,writable:!0,value:Fe})}})});var ie=o.options.event;function ue(){}function le(){return this.cancelBubble}function J(){return this.defaultPrevented}o.options.event=function(ge){return ie&&(ge=ie(ge)),ge.persist=ue,ge.isPropagationStopped=le,ge.isDefaultPrevented=J,ge.nativeEvent=ge};var te,se={configurable:!0,get:function(){return this.class}},ee=o.options.vnode;o.options.vnode=function(ge){var Fe=ge.type,Ne=ge.props,lt=Ne;if(typeof Fe=="string"){for(var Et in lt={},Ne){var jt=Ne[Et];if(!(Et==="value"&&"defaultValue"in Ne&&jt==null||ne&&Et==="children"&&Fe==="noscript")){var en=Et.toLowerCase();Et==="defaultValue"&&"value"in Ne&&Ne.value==null?Et="value":Et==="download"&&jt===!0?jt="":en==="ondoubleclick"?Et="ondblclick":en!=="onchange"||Fe!=="input"&&Fe!=="textarea"||G(Ne.type)?en==="onfocus"?Et="onfocusin":en==="onblur"?Et="onfocusout":Z.test(Et)?Et=en:Fe.indexOf("-")===-1&&V.test(Et)?Et=Et.replace(Y,"-$&").toLowerCase():jt===null&&(jt=void 0):en=Et="oninput",en==="oninput"&&lt[Et=en]&&(Et="oninputCapture"),lt[Et]=jt}}Fe=="select"&&lt.multiple&&Array.isArray(lt.value)&&(lt.value=(0,o.toChildArray)(Ne.children).forEach(function(vt){vt.props.selected=lt.value.indexOf(vt.props.value)!=-1})),Fe=="select"&&lt.defaultValue!=null&&(lt.value=(0,o.toChildArray)(Ne.children).forEach(function(vt){vt.props.selected=lt.multiple?lt.defaultValue.indexOf(vt.props.value)!=-1:lt.defaultValue==vt.props.value})),ge.props=lt,Ne.class!=Ne.className&&(se.enumerable="className"in Ne,Ne.className!=null&&(lt.class=Ne.className),Object.defineProperty(lt,"className",se))}ge.$$typeof=B,ee&&ee(ge)};var ae=o.options.__r;o.options.__r=function(ge){ae&&ae(ge),te=ge.__c};var ce=o.options.diffed;o.options.diffed=function(ge){ce&&ce(ge);var Fe=ge.props,Ne=ge.__e;Ne!=null&&ge.type==="textarea"&&"value"in Fe&&Fe.value!==Ne.value&&(Ne.value=Fe.value==null?"":Fe.value),te=null};var fe={ReactCurrentDispatcher:{current:{readContext:function(ge){return te.__n[ge.__c].props.value}}}},Ee="17.0.2";function de(ge){return o.createElement.bind(null,ge)}function _e(ge){return!!ge&&ge.$$typeof===B}function ve(ge){return _e(ge)?o.cloneElement.apply(null,arguments):ge}function De(ge){return!!ge.__k&&((0,o.render)(null,ge),!0)}function Oe(ge){return ge&&(ge.base||ge.nodeType===1&&ge)||null}var ye=function(ge,Fe){return ge(Fe)},ze=function(ge,Fe){return ge(Fe)},Be=o.Fragment;function We(ge){ge()}function Ke(ge){return ge}function Xe(){return[!1,We]}var ct=f.bt;function Se(ge,Fe){var Ne=Fe(),lt=(0,f.eJ)({h:{__:Ne,v:Fe}}),Et=lt[0].h,jt=lt[1];return(0,f.bt)(function(){Et.__=Ne,Et.v=Fe,_(Et.__,Fe())||jt({h:Et})},[ge,Ne,Fe]),(0,f.d4)(function(){return _(Et.__,Et.v())||jt({h:Et}),ge(function(){_(Et.__,Et.v())||jt({h:Et})})},[ge]),Ne}var Qe={useState:f.eJ,useId:f.Me,useReducer:f._Y,useEffect:f.d4,useLayoutEffect:f.bt,useInsertionEffect:ct,useTransition:Xe,useDeferredValue:Ke,useSyncExternalStore:Se,startTransition:We,useRef:f.sO,useImperativeHandle:f.aP,useMemo:f.Ye,useCallback:f.I4,useContext:f.qp,useDebugValue:f.Qb,version:"17.0.2",Children:S,render:L,hydrate:W,unmountComponentAtNode:De,createPortal:F,createElement:o.createElement,createContext:o.createContext,createFactory:de,cloneElement:ve,createRef:o.createRef,Fragment:o.Fragment,isValidElement:_e,findDOMNode:Oe,Component:o.Component,PureComponent:g,memo:E,forwardRef:T,flushSync:ze,unstable_batchedUpdates:ye,StrictMode:Be,Suspense:P,SuspenseList:A,lazy:D,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:fe}},14369:(z,l,e)=>{"use strict";e.r(l),e.d(l,{addHookName:()=>f});var o=e(6400);function f(u,c){return o.options.__a&&o.options.__a(c),u}typeof window!="undefined"&&window.__PREACT_DEVTOOLS__&&window.__PREACT_DEVTOOLS__.attachPreact("10.13.1",o.options,{Fragment:o.Fragment,Component:o.Component})},6400:(z,l,e)=>{"use strict";e.r(l),e.d(l,{Component:()=>D,Fragment:()=>C,cloneElement:()=>fe,createContext:()=>Ee,createElement:()=>d,createRef:()=>P,h:()=>d,hydrate:()=>ce,isValidElement:()=>c,options:()=>f,render:()=>ae,toChildArray:()=>V});var o,f,u,c,_,g,E,v,y,T={},w=[],S=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function O(de,_e){for(var ve in _e)de[ve]=_e[ve];return de}function p(de){var _e=de.parentNode;_e&&_e.removeChild(de)}function d(de,_e,ve){var De,Oe,ye,ze={};for(ye in _e)ye=="key"?De=_e[ye]:ye=="ref"?Oe=_e[ye]:ze[ye]=_e[ye];if(arguments.length>2&&(ze.children=arguments.length>3?o.call(arguments,2):ve),typeof de=="function"&&de.defaultProps!=null)for(ye in de.defaultProps)ze[ye]===void 0&&(ze[ye]=de.defaultProps[ye]);return a(de,ze,De,Oe,null)}function a(de,_e,ve,De,Oe){var ye={type:de,props:_e,key:ve,ref:De,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Oe==null?++u:Oe};return Oe==null&&f.vnode!=null&&f.vnode(ye),ye}function P(){return{current:null}}function C(de){return de.children}function D(de,_e){this.props=de,this.context=_e}function A(de,_e){if(_e==null)return de.__?A(de.__,de.__.__k.indexOf(de)+1):null;for(var ve;_e<de.__k.length;_e++)if((ve=de.__k[_e])!=null&&ve.__e!=null)return ve.__e;return typeof de.type=="function"?A(de):null}function x(de){var _e,ve;if((de=de.__)!=null&&de.__c!=null){for(de.__e=de.__c.base=null,_e=0;_e<de.__k.length;_e++)if((ve=de.__k[_e])!=null&&ve.__e!=null){de.__e=de.__c.base=ve.__e;break}return x(de)}}function I(de){(!de.__d&&(de.__d=!0)&&_.push(de)&&!N.__r++||g!==f.debounceRendering)&&((g=f.debounceRendering)||E)(N)}function N(){var de,_e,ve,De,Oe,ye,ze,Be;for(_.sort(v);de=_.shift();)de.__d&&(_e=_.length,De=void 0,Oe=void 0,ze=(ye=(ve=de).__v).__e,(Be=ve.__P)&&(De=[],(Oe=O({},ye)).__v=ye.__v+1,ue(Be,ye,Oe,ve.__n,Be.ownerSVGElement!==void 0,ye.__h!=null?[ze]:null,De,ze==null?A(ye):ze,ye.__h),le(De,ye),ye.__e!=ze&&x(ye)),_.length>_e&&_.sort(v));N.__r=0}function F(de,_e,ve,De,Oe,ye,ze,Be,We,Ke){var Xe,ct,Se,Qe,ge,Fe,Ne,lt=De&&De.__k||w,Et=lt.length;for(ve.__k=[],Xe=0;Xe<_e.length;Xe++)if((Qe=ve.__k[Xe]=(Qe=_e[Xe])==null||typeof Qe=="boolean"||typeof Qe=="function"?null:typeof Qe=="string"||typeof Qe=="number"||typeof Qe=="bigint"?a(null,Qe,null,null,Qe):Array.isArray(Qe)?a(C,{children:Qe},null,null,null):Qe.__b>0?a(Qe.type,Qe.props,Qe.key,Qe.ref?Qe.ref:null,Qe.__v):Qe)!=null){if(Qe.__=ve,Qe.__b=ve.__b+1,(Se=lt[Xe])===null||Se&&Qe.key==Se.key&&Qe.type===Se.type)lt[Xe]=void 0;else for(ct=0;ct<Et;ct++){if((Se=lt[ct])&&Qe.key==Se.key&&Qe.type===Se.type){lt[ct]=void 0;break}Se=null}ue(de,Qe,Se=Se||T,Oe,ye,ze,Be,We,Ke),ge=Qe.__e,(ct=Qe.ref)&&Se.ref!=ct&&(Ne||(Ne=[]),Se.ref&&Ne.push(Se.ref,null,Qe),Ne.push(ct,Qe.__c||ge,Qe)),ge!=null?(Fe==null&&(Fe=ge),typeof Qe.type=="function"&&Qe.__k===Se.__k?Qe.__d=We=B(Qe,We,de):We=Z(de,Qe,Se,lt,ge,We),typeof ve.type=="function"&&(ve.__d=We)):We&&Se.__e==We&&We.parentNode!=de&&(We=A(Se))}for(ve.__e=Fe,Xe=Et;Xe--;)lt[Xe]!=null&&(typeof ve.type=="function"&&lt[Xe].__e!=null&&lt[Xe].__e==ve.__d&&(ve.__d=Y(De).nextSibling),se(lt[Xe],lt[Xe]));if(Ne)for(Xe=0;Xe<Ne.length;Xe++)te(Ne[Xe],Ne[++Xe],Ne[++Xe])}function B(de,_e,ve){for(var De,Oe=de.__k,ye=0;Oe&&ye<Oe.length;ye++)(De=Oe[ye])&&(De.__=de,_e=typeof De.type=="function"?B(De,_e,ve):Z(ve,De,De,Oe,De.__e,_e));return _e}function V(de,_e){return _e=_e||[],de==null||typeof de=="boolean"||(Array.isArray(de)?de.some(function(ve){V(ve,_e)}):_e.push(de)),_e}function Z(de,_e,ve,De,Oe,ye){var ze,Be,We;if(_e.__d!==void 0)ze=_e.__d,_e.__d=void 0;else if(ve==null||Oe!=ye||Oe.parentNode==null)e:if(ye==null||ye.parentNode!==de)de.appendChild(Oe),ze=null;else{for(Be=ye,We=0;(Be=Be.nextSibling)&&We<De.length;We+=1)if(Be==Oe)break e;de.insertBefore(Oe,ye),ze=ye}return ze!==void 0?ze:Oe.nextSibling}function Y(de){var _e,ve,De;if(de.type==null||typeof de.type=="string")return de.__e;if(de.__k){for(_e=de.__k.length-1;_e>=0;_e--)if((ve=de.__k[_e])&&(De=Y(ve)))return De}return null}function ne(de,_e,ve,De,Oe){var ye;for(ye in ve)ye==="children"||ye==="key"||ye in _e||L(de,ye,null,ve[ye],De);for(ye in _e)Oe&&typeof _e[ye]!="function"||ye==="children"||ye==="key"||ye==="value"||ye==="checked"||ve[ye]===_e[ye]||L(de,ye,_e[ye],ve[ye],De)}function G(de,_e,ve){_e[0]==="-"?de.setProperty(_e,ve==null?"":ve):de[_e]=ve==null?"":typeof ve!="number"||S.test(_e)?ve:ve+"px"}function L(de,_e,ve,De,Oe){var ye;e:if(_e==="style")if(typeof ve=="string")de.style.cssText=ve;else{if(typeof De=="string"&&(de.style.cssText=De=""),De)for(_e in De)ve&&_e in ve||G(de.style,_e,"");if(ve)for(_e in ve)De&&ve[_e]===De[_e]||G(de.style,_e,ve[_e])}else if(_e[0]==="o"&&_e[1]==="n")ye=_e!==(_e=_e.replace(/Capture$/,"")),_e=_e.toLowerCase()in de?_e.toLowerCase().slice(2):_e.slice(2),de.l||(de.l={}),de.l[_e+ye]=ve,ve?De||de.addEventListener(_e,ye?ie:W,ye):de.removeEventListener(_e,ye?ie:W,ye);else if(_e!=="dangerouslySetInnerHTML"){if(Oe)_e=_e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(_e!=="width"&&_e!=="height"&&_e!=="href"&&_e!=="list"&&_e!=="form"&&_e!=="tabIndex"&&_e!=="download"&&_e in de)try{de[_e]=ve==null?"":ve;break e}catch(ze){}typeof ve=="function"||(ve==null||ve===!1&&_e.indexOf("-")==-1?de.removeAttribute(_e):de.setAttribute(_e,ve))}}function W(de){return this.l[de.type+!1](f.event?f.event(de):de)}function ie(de){return this.l[de.type+!0](f.event?f.event(de):de)}function ue(de,_e,ve,De,Oe,ye,ze,Be,We){var Ke,Xe,ct,Se,Qe,ge,Fe,Ne,lt,Et,jt,en,vt,Re,He,ot=_e.type;if(_e.constructor!==void 0)return null;ve.__h!=null&&(We=ve.__h,Be=_e.__e=ve.__e,_e.__h=null,ye=[Be]),(Ke=f.__b)&&Ke(_e);try{e:if(typeof ot=="function"){if(Ne=_e.props,lt=(Ke=ot.contextType)&&De[Ke.__c],Et=Ke?lt?lt.props.value:Ke.__:De,ve.__c?Fe=(Xe=_e.__c=ve.__c).__=Xe.__E:("prototype"in ot&&ot.prototype.render?_e.__c=Xe=new ot(Ne,Et):(_e.__c=Xe=new D(Ne,Et),Xe.constructor=ot,Xe.render=ee),lt&&lt.sub(Xe),Xe.props=Ne,Xe.state||(Xe.state={}),Xe.context=Et,Xe.__n=De,ct=Xe.__d=!0,Xe.__h=[],Xe._sb=[]),Xe.__s==null&&(Xe.__s=Xe.state),ot.getDerivedStateFromProps!=null&&(Xe.__s==Xe.state&&(Xe.__s=O({},Xe.__s)),O(Xe.__s,ot.getDerivedStateFromProps(Ne,Xe.__s))),Se=Xe.props,Qe=Xe.state,Xe.__v=_e,ct)ot.getDerivedStateFromProps==null&&Xe.componentWillMount!=null&&Xe.componentWillMount(),Xe.componentDidMount!=null&&Xe.__h.push(Xe.componentDidMount);else{if(ot.getDerivedStateFromProps==null&&Ne!==Se&&Xe.componentWillReceiveProps!=null&&Xe.componentWillReceiveProps(Ne,Et),!Xe.__e&&Xe.shouldComponentUpdate!=null&&Xe.shouldComponentUpdate(Ne,Xe.__s,Et)===!1||_e.__v===ve.__v){for(_e.__v!==ve.__v&&(Xe.props=Ne,Xe.state=Xe.__s,Xe.__d=!1),Xe.__e=!1,_e.__e=ve.__e,_e.__k=ve.__k,_e.__k.forEach(function(me){me&&(me.__=_e)}),jt=0;jt<Xe._sb.length;jt++)Xe.__h.push(Xe._sb[jt]);Xe._sb=[],Xe.__h.length&&ze.push(Xe);break e}Xe.componentWillUpdate!=null&&Xe.componentWillUpdate(Ne,Xe.__s,Et),Xe.componentDidUpdate!=null&&Xe.__h.push(function(){Xe.componentDidUpdate(Se,Qe,ge)})}if(Xe.context=Et,Xe.props=Ne,Xe.__P=de,en=f.__r,vt=0,"prototype"in ot&&ot.prototype.render){for(Xe.state=Xe.__s,Xe.__d=!1,en&&en(_e),Ke=Xe.render(Xe.props,Xe.state,Xe.context),Re=0;Re<Xe._sb.length;Re++)Xe.__h.push(Xe._sb[Re]);Xe._sb=[]}else do Xe.__d=!1,en&&en(_e),Ke=Xe.render(Xe.props,Xe.state,Xe.context),Xe.state=Xe.__s;while(Xe.__d&&++vt<25);Xe.state=Xe.__s,Xe.getChildContext!=null&&(De=O(O({},De),Xe.getChildContext())),ct||Xe.getSnapshotBeforeUpdate==null||(ge=Xe.getSnapshotBeforeUpdate(Se,Qe)),He=Ke!=null&&Ke.type===C&&Ke.key==null?Ke.props.children:Ke,F(de,Array.isArray(He)?He:[He],_e,ve,De,Oe,ye,ze,Be,We),Xe.base=_e.__e,_e.__h=null,Xe.__h.length&&ze.push(Xe),Fe&&(Xe.__E=Xe.__=null),Xe.__e=!1}else ye==null&&_e.__v===ve.__v?(_e.__k=ve.__k,_e.__e=ve.__e):_e.__e=J(ve.__e,_e,ve,De,Oe,ye,ze,We);(Ke=f.diffed)&&Ke(_e)}catch(me){_e.__v=null,(We||ye!=null)&&(_e.__e=Be,_e.__h=!!We,ye[ye.indexOf(Be)]=null),f.__e(me,_e,ve)}}function le(de,_e){f.__c&&f.__c(_e,de),de.some(function(ve){try{de=ve.__h,ve.__h=[],de.some(function(De){De.call(ve)})}catch(De){f.__e(De,ve.__v)}})}function J(de,_e,ve,De,Oe,ye,ze,Be){var We,Ke,Xe,ct=ve.props,Se=_e.props,Qe=_e.type,ge=0;if(Qe==="svg"&&(Oe=!0),ye!=null){for(;ge<ye.length;ge++)if((We=ye[ge])&&"setAttribute"in We==!!Qe&&(Qe?We.localName===Qe:We.nodeType===3)){de=We,ye[ge]=null;break}}if(de==null){if(Qe===null)return document.createTextNode(Se);de=Oe?document.createElementNS("http://www.w3.org/2000/svg",Qe):document.createElement(Qe,Se.is&&Se),ye=null,Be=!1}if(Qe===null)ct===Se||Be&&de.data===Se||(de.data=Se);else{if(ye=ye&&o.call(de.childNodes),Ke=(ct=ve.props||T).dangerouslySetInnerHTML,Xe=Se.dangerouslySetInnerHTML,!Be){if(ye!=null)for(ct={},ge=0;ge<de.attributes.length;ge++)ct[de.attributes[ge].name]=de.attributes[ge].value;(Xe||Ke)&&(Xe&&(Ke&&Xe.__html==Ke.__html||Xe.__html===de.innerHTML)||(de.innerHTML=Xe&&Xe.__html||""))}if(ne(de,Se,ct,Oe,Be),Xe)_e.__k=[];else if(ge=_e.props.children,F(de,Array.isArray(ge)?ge:[ge],_e,ve,De,Oe&&Qe!=="foreignObject",ye,ze,ye?ye[0]:ve.__k&&A(ve,0),Be),ye!=null)for(ge=ye.length;ge--;)ye[ge]!=null&&p(ye[ge]);Be||("value"in Se&&(ge=Se.value)!==void 0&&(ge!==de.value||Qe==="progress"&&!ge||Qe==="option"&&ge!==ct.value)&&L(de,"value",ge,ct.value,!1),"checked"in Se&&(ge=Se.checked)!==void 0&&ge!==de.checked&&L(de,"checked",ge,ct.checked,!1))}return de}function te(de,_e,ve){try{typeof de=="function"?de(_e):de.current=_e}catch(De){f.__e(De,ve)}}function se(de,_e,ve){var De,Oe;if(f.unmount&&f.unmount(de),(De=de.ref)&&(De.current&&De.current!==de.__e||te(De,null,_e)),(De=de.__c)!=null){if(De.componentWillUnmount)try{De.componentWillUnmount()}catch(ye){f.__e(ye,_e)}De.base=De.__P=null,de.__c=void 0}if(De=de.__k)for(Oe=0;Oe<De.length;Oe++)De[Oe]&&se(De[Oe],_e,ve||typeof de.type!="function");ve||de.__e==null||p(de.__e),de.__=de.__e=de.__d=void 0}function ee(de,_e,ve){return this.constructor(de,ve)}function ae(de,_e,ve){var De,Oe,ye;f.__&&f.__(de,_e),Oe=(De=typeof ve=="function")?null:ve&&ve.__k||_e.__k,ye=[],ue(_e,de=(!De&&ve||_e).__k=d(C,null,[de]),Oe||T,T,_e.ownerSVGElement!==void 0,!De&&ve?[ve]:Oe?null:_e.firstChild?o.call(_e.childNodes):null,ye,!De&&ve?ve:Oe?Oe.__e:_e.firstChild,De),le(ye,de)}function ce(de,_e){ae(de,_e,ce)}function fe(de,_e,ve){var De,Oe,ye,ze=O({},de.props);for(ye in _e)ye=="key"?De=_e[ye]:ye=="ref"?Oe=_e[ye]:ze[ye]=_e[ye];return arguments.length>2&&(ze.children=arguments.length>3?o.call(arguments,2):ve),a(de.type,ze,De||de.key,Oe||de.ref,null)}function Ee(de,_e){var ve={__c:_e="__cC"+y++,__:de,Consumer:function(De,Oe){return De.children(Oe)},Provider:function(De){var Oe,ye;return this.getChildContext||(Oe=[],(ye={})[_e]=this,this.getChildContext=function(){return ye},this.shouldComponentUpdate=function(ze){this.props.value!==ze.value&&Oe.some(function(Be){Be.__e=!0,I(Be)})},this.sub=function(ze){Oe.push(ze);var Be=ze.componentWillUnmount;ze.componentWillUnmount=function(){Oe.splice(Oe.indexOf(ze),1),Be&&Be.call(ze)}}),De.children}};return ve.Provider.__=ve.Consumer.contextType=ve}o=w.slice,f={__e:function(de,_e,ve,De){for(var Oe,ye,ze;_e=_e.__;)if((Oe=_e.__c)&&!Oe.__)try{if((ye=Oe.constructor)&&ye.getDerivedStateFromError!=null&&(Oe.setState(ye.getDerivedStateFromError(de)),ze=Oe.__d),Oe.componentDidCatch!=null&&(Oe.componentDidCatch(de,De||{}),ze=Oe.__d),ze)return Oe.__E=Oe}catch(Be){de=Be}throw de}},u=0,c=function(de){return de!=null&&de.constructor===void 0},D.prototype.setState=function(de,_e){var ve;ve=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=O({},this.state),typeof de=="function"&&(de=de(O({},ve),this.props)),de&&O(ve,de),de!=null&&this.__v&&(_e&&this._sb.push(_e),I(this))},D.prototype.forceUpdate=function(de){this.__v&&(this.__e=!0,de&&this.__h.push(de),I(this))},D.prototype.render=C,_=[],E=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,v=function(de,_e){return de.__v.__b-_e.__v.__b},N.__r=0,y=0},30396:(z,l,e)=>{"use strict";e.d(l,{I4:()=>I,Me:()=>V,Qb:()=>F,Ye:()=>x,_Y:()=>a,aP:()=>A,bt:()=>C,cO:()=>B,d4:()=>P,eJ:()=>d,qp:()=>N,sO:()=>D});var o=e(6400),f,u,c,_,g=0,E=[],v=[],y=o.options.__b,T=o.options.__r,w=o.options.diffed,S=o.options.__c,O=o.options.unmount;function p(ue,le){o.options.__h&&o.options.__h(u,ue,g||le),g=0;var J=u.__H||(u.__H={__:[],__h:[]});return ue>=J.__.length&&J.__.push({__V:v}),J.__[ue]}function d(ue){return g=1,a(ie,ue)}function a(ue,le,J){var te=p(f++,2);if(te.t=ue,!te.__c&&(te.__=[J?J(le):ie(void 0,le),function(ce){var fe=te.__N?te.__N[0]:te.__[0],Ee=te.t(fe,ce);fe!==Ee&&(te.__N=[Ee,te.__[1]],te.__c.setState({}))}],te.__c=u,!u.u)){var se=function(ce,fe,Ee){if(!te.__c.__H)return!0;var de=te.__c.__H.__.filter(function(ve){return ve.__c});if(de.every(function(ve){return!ve.__N}))return!ee||ee.call(this,ce,fe,Ee);var _e=!1;return de.forEach(function(ve){if(ve.__N){var De=ve.__[0];ve.__=ve.__N,ve.__N=void 0,De!==ve.__[0]&&(_e=!0)}}),!(!_e&&te.__c.props===ce)&&(!ee||ee.call(this,ce,fe,Ee))};u.u=!0;var ee=u.shouldComponentUpdate,ae=u.componentWillUpdate;u.componentWillUpdate=function(ce,fe,Ee){if(this.__e){var de=ee;ee=void 0,se(ce,fe,Ee),ee=de}ae&&ae.call(this,ce,fe,Ee)},u.shouldComponentUpdate=se}return te.__N||te.__}function P(ue,le){var J=p(f++,3);!o.options.__s&&W(J.__H,le)&&(J.__=ue,J.i=le,u.__H.__h.push(J))}function C(ue,le){var J=p(f++,4);!o.options.__s&&W(J.__H,le)&&(J.__=ue,J.i=le,u.__h.push(J))}function D(ue){return g=5,x(function(){return{current:ue}},[])}function A(ue,le,J){g=6,C(function(){return typeof ue=="function"?(ue(le()),function(){return ue(null)}):ue?(ue.current=le(),function(){return ue.current=null}):void 0},J==null?J:J.concat(ue))}function x(ue,le){var J=p(f++,7);return W(J.__H,le)?(J.__V=ue(),J.i=le,J.__h=ue,J.__V):J.__}function I(ue,le){return g=8,x(function(){return ue},le)}function N(ue){var le=u.context[ue.__c],J=p(f++,9);return J.c=ue,le?(J.__==null&&(J.__=!0,le.sub(u)),le.props.value):ue.__}function F(ue,le){o.options.useDebugValue&&o.options.useDebugValue(le?le(ue):ue)}function B(ue){var le=p(f++,10),J=d();return le.__=ue,u.componentDidCatch||(u.componentDidCatch=function(te,se){le.__&&le.__(te,se),J[1](te)}),[J[0],function(){J[1](void 0)}]}function V(){var ue=p(f++,11);if(!ue.__){for(var le=u.__v;le!==null&&!le.__m&&le.__!==null;)le=le.__;var J=le.__m||(le.__m=[0,0]);ue.__="P"+J[0]+"-"+J[1]++}return ue.__}function Z(){for(var ue;ue=E.shift();)if(ue.__P&&ue.__H)try{ue.__H.__h.forEach(G),ue.__H.__h.forEach(L),ue.__H.__h=[]}catch(le){ue.__H.__h=[],o.options.__e(le,ue.__v)}}o.options.__b=function(ue){u=null,y&&y(ue)},o.options.__r=function(ue){T&&T(ue),f=0;var le=(u=ue.__c).__H;le&&(c===u?(le.__h=[],u.__h=[],le.__.forEach(function(J){J.__N&&(J.__=J.__N),J.__V=v,J.__N=J.i=void 0})):(le.__h.forEach(G),le.__h.forEach(L),le.__h=[])),c=u},o.options.diffed=function(ue){w&&w(ue);var le=ue.__c;le&&le.__H&&(le.__H.__h.length&&(E.push(le)!==1&&_===o.options.requestAnimationFrame||((_=o.options.requestAnimationFrame)||ne)(Z)),le.__H.__.forEach(function(J){J.i&&(J.__H=J.i),J.__V!==v&&(J.__=J.__V),J.i=void 0,J.__V=v})),c=u=null},o.options.__c=function(ue,le){le.some(function(J){try{J.__h.forEach(G),J.__h=J.__h.filter(function(te){return!te.__||L(te)})}catch(te){le.some(function(se){se.__h&&(se.__h=[])}),le=[],o.options.__e(te,J.__v)}}),S&&S(ue,le)},o.options.unmount=function(ue){O&&O(ue);var le,J=ue.__c;J&&J.__H&&(J.__H.__.forEach(function(te){try{G(te)}catch(se){le=se}}),J.__H=void 0,le&&o.options.__e(le,J.__v))};var Y=typeof requestAnimationFrame=="function";function ne(ue){var le,J=function(){clearTimeout(te),Y&&cancelAnimationFrame(le),setTimeout(ue)},te=setTimeout(J,100);Y&&(le=requestAnimationFrame(J))}function G(ue){var le=u,J=ue.__c;typeof J=="function"&&(ue.__c=void 0,J()),u=le}function L(ue){var le=u;ue.__c=ue.__(),u=le}function W(ue,le){return!ue||ue.length!==le.length||le.some(function(J,te){return J!==ue[te]})}function ie(ue,le){return typeof le=="function"?le(ue):le}},92703:(z,l,e)=>{"use strict";var o=e(50414);function f(){}function u(){}u.resetWarningCache=f,z.exports=function(){function c(E,v,y,T,w,S){if(S!==o){var O=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw O.name="Invariant Violation",O}}c.isRequired=c;function _(){return c}var g={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:_,element:c,elementType:c,instanceOf:_,node:c,objectOf:_,oneOf:_,oneOfType:_,shape:_,exact:_,checkPropTypes:u,resetWarningCache:f};return g.PropTypes=g,g}},45697:(z,l,e)=>{if(!1)var o,f;else z.exports=e(92703)()},50414:z=>{"use strict";var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";z.exports=l},74971:function(z,l,e){z=e.nmd(z);var o;/*! https://mths.be/punycode v1.3.2 by @mathias */(function(f){var u=l&&!l.nodeType&&l,c=z&&!z.nodeType&&z,_=typeof e.g=="object"&&e.g;(_.global===_||_.window===_||_.self===_)&&(f=_);var g,E=2147483647,v=36,y=1,T=26,w=38,S=700,O=72,p=128,d="-",a=/^xn--/,P=/[^\x20-\x7E]/,C=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=v-y,x=Math.floor,I=String.fromCharCode,N;function F(J){throw RangeError(D[J])}function B(J,te){for(var se=J.length,ee=[];se--;)ee[se]=te(J[se]);return ee}function V(J,te){var se=J.split("@"),ee="";se.length>1&&(ee=se[0]+"@",J=se[1]),J=J.replace(C,".");var ae=J.split("."),ce=B(ae,te).join(".");return ee+ce}function Z(J){for(var te=[],se=0,ee=J.length,ae,ce;se<ee;)ae=J.charCodeAt(se++),ae>=55296&&ae<=56319&&se<ee?(ce=J.charCodeAt(se++),(ce&64512)==56320?te.push(((ae&1023)<<10)+(ce&1023)+65536):(te.push(ae),se--)):te.push(ae);return te}function Y(J){return B(J,function(te){var se="";return te>65535&&(te-=65536,se+=I(te>>>10&1023|55296),te=56320|te&1023),se+=I(te),se}).join("")}function ne(J){return J-48<10?J-22:J-65<26?J-65:J-97<26?J-97:v}function G(J,te){return J+22+75*(J<26)-((te!=0)<<5)}function L(J,te,se){var ee=0;for(J=se?x(J/S):J>>1,J+=x(J/te);J>A*T>>1;ee+=v)J=x(J/A);return x(ee+(A+1)*J/(J+w))}function W(J){var te=[],se=J.length,ee,ae=0,ce=p,fe=O,Ee,de,_e,ve,De,Oe,ye,ze,Be;for(Ee=J.lastIndexOf(d),Ee<0&&(Ee=0),de=0;de<Ee;++de)J.charCodeAt(de)>=128&&F("not-basic"),te.push(J.charCodeAt(de));for(_e=Ee>0?Ee+1:0;_e<se;){for(ve=ae,De=1,Oe=v;_e>=se&&F("invalid-input"),ye=ne(J.charCodeAt(_e++)),(ye>=v||ye>x((E-ae)/De))&&F("overflow"),ae+=ye*De,ze=Oe<=fe?y:Oe>=fe+T?T:Oe-fe,!(ye<ze);Oe+=v)Be=v-ze,De>x(E/Be)&&F("overflow"),De*=Be;ee=te.length+1,fe=L(ae-ve,ee,ve==0),x(ae/ee)>E-ce&&F("overflow"),ce+=x(ae/ee),ae%=ee,te.splice(ae++,0,ce)}return Y(te)}function ie(J){var te,se,ee,ae,ce,fe,Ee,de,_e,ve,De,Oe=[],ye,ze,Be,We;for(J=Z(J),ye=J.length,te=p,se=0,ce=O,fe=0;fe<ye;++fe)De=J[fe],De<128&&Oe.push(I(De));for(ee=ae=Oe.length,ae&&Oe.push(d);ee<ye;){for(Ee=E,fe=0;fe<ye;++fe)De=J[fe],De>=te&&De<Ee&&(Ee=De);for(ze=ee+1,Ee-te>x((E-se)/ze)&&F("overflow"),se+=(Ee-te)*ze,te=Ee,fe=0;fe<ye;++fe)if(De=J[fe],De<te&&++se>E&&F("overflow"),De==te){for(de=se,_e=v;ve=_e<=ce?y:_e>=ce+T?T:_e-ce,!(de<ve);_e+=v)We=de-ve,Be=v-ve,Oe.push(I(G(ve+We%Be,0))),de=x(We/Be);Oe.push(I(G(de,0))),ce=L(se,ze,ee==ae),se=0,++ee}++se,++te}return Oe.join("")}function ue(J){return V(J,function(te){return a.test(te)?W(te.slice(4).toLowerCase()):te})}function le(J){return V(J,function(te){return P.test(te)?"xn--"+ie(te):te})}g={version:"1.3.2",ucs2:{decode:Z,encode:Y},decode:W,encode:ie,toASCII:le,toUnicode:ue},o=function(){return g}.call(l,e,l,z),o!==void 0&&(z.exports=o)})(this)},92592:(z,l,e)=>{const o=e(47138),f=e(95115),u=e(6907),c=e(93776);function _(g,E,v,y,T){const w=[].slice.call(arguments,1),S=w.length,O=typeof w[S-1]=="function";if(!O&&!o())throw new Error("Callback required as last argument");if(O){if(S<2)throw new Error("Too few arguments provided");S===2?(T=v,v=E,E=y=void 0):S===3&&(E.getContext&&typeof T=="undefined"?(T=y,y=void 0):(T=y,y=v,v=E,E=void 0))}else{if(S<1)throw new Error("Too few arguments provided");return S===1?(v=E,E=y=void 0):S===2&&!E.getContext&&(y=v,v=E,E=void 0),new Promise(function(p,d){try{const a=f.create(v,y);p(g(a,E,y))}catch(a){d(a)}})}try{const p=f.create(v,y);T(null,g(p,E,y))}catch(p){T(p)}}l.create=f.create,l.toCanvas=_.bind(null,u.render),l.toDataURL=_.bind(null,u.renderToDataURL),l.toString=_.bind(null,function(g,E,v){return c.render(g,v)})},47138:z=>{z.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}},21845:(z,l,e)=>{const o=e(10242).getSymbolSize;l.getRowColCoords=function(u){if(u===1)return[];const c=Math.floor(u/7)+2,_=o(u),g=_===145?26:Math.ceil((_-13)/(2*c-2))*2,E=[_-7];for(let v=1;v<c-1;v++)E[v]=E[v-1]-g;return E.push(6),E.reverse()},l.getPositions=function(u){const c=[],_=l.getRowColCoords(u),g=_.length;for(let E=0;E<g;E++)for(let v=0;v<g;v++)E===0&&v===0||E===0&&v===g-1||E===g-1&&v===0||c.push([_[E],_[v]]);return c}},8260:(z,l,e)=>{const o=e(76910),f=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function u(c){this.mode=o.ALPHANUMERIC,this.data=c}u.getBitsLength=function(_){return 11*Math.floor(_/2)+6*(_%2)},u.prototype.getLength=function(){return this.data.length},u.prototype.getBitsLength=function(){return u.getBitsLength(this.data.length)},u.prototype.write=function(_){let g;for(g=0;g+2<=this.data.length;g+=2){let E=f.indexOf(this.data[g])*45;E+=f.indexOf(this.data[g+1]),_.put(E,11)}this.data.length%2&&_.put(f.indexOf(this.data[g]),6)},z.exports=u},97245:z=>{function l(){this.buffer=[],this.length=0}l.prototype={get:function(e){const o=Math.floor(e/8);return(this.buffer[o]>>>7-e%8&1)===1},put:function(e,o){for(let f=0;f<o;f++)this.putBit((e>>>o-f-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const o=Math.floor(this.length/8);this.buffer.length<=o&&this.buffer.push(0),e&&(this.buffer[o]|=128>>>this.length%8),this.length++}},z.exports=l},73280:z=>{function l(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}l.prototype.set=function(e,o,f,u){const c=e*this.size+o;this.data[c]=f,u&&(this.reservedBit[c]=!0)},l.prototype.get=function(e,o){return this.data[e*this.size+o]},l.prototype.xor=function(e,o,f){this.data[e*this.size+o]^=f},l.prototype.isReserved=function(e,o){return this.reservedBit[e*this.size+o]},z.exports=l},43424:(z,l,e)=>{const o=e(62378),f=e(76910);function u(c){this.mode=f.BYTE,typeof c=="string"&&(c=o(c)),this.data=new Uint8Array(c)}u.getBitsLength=function(_){return _*8},u.prototype.getLength=function(){return this.data.length},u.prototype.getBitsLength=function(){return u.getBitsLength(this.data.length)},u.prototype.write=function(c){for(let _=0,g=this.data.length;_<g;_++)c.put(this.data[_],8)},z.exports=u},35393:(z,l,e)=>{const o=e(64908),f=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],u=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];l.getBlocksCount=function(_,g){switch(g){case o.L:return f[(_-1)*4+0];case o.M:return f[(_-1)*4+1];case o.Q:return f[(_-1)*4+2];case o.H:return f[(_-1)*4+3];default:return}},l.getTotalCodewordsCount=function(_,g){switch(g){case o.L:return u[(_-1)*4+0];case o.M:return u[(_-1)*4+1];case o.Q:return u[(_-1)*4+2];case o.H:return u[(_-1)*4+3];default:return}}},64908:(z,l)=>{l.L={bit:1},l.M={bit:0},l.Q={bit:3},l.H={bit:2};function e(o){if(typeof o!="string")throw new Error("Param is not a string");switch(o.toLowerCase()){case"l":case"low":return l.L;case"m":case"medium":return l.M;case"q":case"quartile":return l.Q;case"h":case"high":return l.H;default:throw new Error("Unknown EC Level: "+o)}}l.isValid=function(f){return f&&typeof f.bit!="undefined"&&f.bit>=0&&f.bit<4},l.from=function(f,u){if(l.isValid(f))return f;try{return e(f)}catch(c){return u}}},76526:(z,l,e)=>{const o=e(10242).getSymbolSize,f=7;l.getPositions=function(c){const _=o(c);return[[0,0],[_-f,0],[0,_-f]]}},61642:(z,l,e)=>{const o=e(10242),f=1335,u=21522,c=o.getBCHDigit(f);l.getEncodedBits=function(g,E){const v=g.bit<<3|E;let y=v<<10;for(;o.getBCHDigit(y)-c>=0;)y^=f<<o.getBCHDigit(y)-c;return(v<<10|y)^u}},69729:(z,l)=>{const e=new Uint8Array(512),o=new Uint8Array(256);(function(){let u=1;for(let c=0;c<255;c++)e[c]=u,o[u]=c,u<<=1,u&256&&(u^=285);for(let c=255;c<512;c++)e[c]=e[c-255]})(),l.log=function(u){if(u<1)throw new Error("log("+u+")");return o[u]},l.exp=function(u){return e[u]},l.mul=function(u,c){return u===0||c===0?0:e[o[u]+o[c]]}},51018:(z,l,e)=>{const o=e(76910),f=e(10242);function u(c){this.mode=o.KANJI,this.data=c}u.getBitsLength=function(_){return _*13},u.prototype.getLength=function(){return this.data.length},u.prototype.getBitsLength=function(){return u.getBitsLength(this.data.length)},u.prototype.write=function(c){let _;for(_=0;_<this.data.length;_++){let g=f.toSJIS(this.data[_]);if(g>=33088&&g<=40956)g-=33088;else if(g>=57408&&g<=60351)g-=49472;else throw new Error("Invalid SJIS character: "+this.data[_]+`
Make sure your charset is UTF-8`);g=(g>>>8&255)*192+(g&255),c.put(g,13)}},z.exports=u},27126:(z,l)=>{l.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};l.isValid=function(u){return u!=null&&u!==""&&!isNaN(u)&&u>=0&&u<=7},l.from=function(u){return l.isValid(u)?parseInt(u,10):void 0},l.getPenaltyN1=function(u){const c=u.size;let _=0,g=0,E=0,v=null,y=null;for(let T=0;T<c;T++){g=E=0,v=y=null;for(let w=0;w<c;w++){let S=u.get(T,w);S===v?g++:(g>=5&&(_+=e.N1+(g-5)),v=S,g=1),S=u.get(w,T),S===y?E++:(E>=5&&(_+=e.N1+(E-5)),y=S,E=1)}g>=5&&(_+=e.N1+(g-5)),E>=5&&(_+=e.N1+(E-5))}return _},l.getPenaltyN2=function(u){const c=u.size;let _=0;for(let g=0;g<c-1;g++)for(let E=0;E<c-1;E++){const v=u.get(g,E)+u.get(g,E+1)+u.get(g+1,E)+u.get(g+1,E+1);(v===4||v===0)&&_++}return _*e.N2},l.getPenaltyN3=function(u){const c=u.size;let _=0,g=0,E=0;for(let v=0;v<c;v++){g=E=0;for(let y=0;y<c;y++)g=g<<1&2047|u.get(v,y),y>=10&&(g===1488||g===93)&&_++,E=E<<1&2047|u.get(y,v),y>=10&&(E===1488||E===93)&&_++}return _*e.N3},l.getPenaltyN4=function(u){let c=0;const _=u.data.length;for(let E=0;E<_;E++)c+=u.data[E];return Math.abs(Math.ceil(c*100/_/5)-10)*e.N4};function o(f,u,c){switch(f){case l.Patterns.PATTERN000:return(u+c)%2===0;case l.Patterns.PATTERN001:return u%2===0;case l.Patterns.PATTERN010:return c%3===0;case l.Patterns.PATTERN011:return(u+c)%3===0;case l.Patterns.PATTERN100:return(Math.floor(u/2)+Math.floor(c/3))%2===0;case l.Patterns.PATTERN101:return u*c%2+u*c%3===0;case l.Patterns.PATTERN110:return(u*c%2+u*c%3)%2===0;case l.Patterns.PATTERN111:return(u*c%3+(u+c)%2)%2===0;default:throw new Error("bad maskPattern:"+f)}}l.applyMask=function(u,c){const _=c.size;for(let g=0;g<_;g++)for(let E=0;E<_;E++)c.isReserved(E,g)||c.xor(E,g,o(u,E,g))},l.getBestMask=function(u,c){const _=Object.keys(l.Patterns).length;let g=0,E=1/0;for(let v=0;v<_;v++){c(v),l.applyMask(v,u);const y=l.getPenaltyN1(u)+l.getPenaltyN2(u)+l.getPenaltyN3(u)+l.getPenaltyN4(u);l.applyMask(v,u),y<E&&(E=y,g=v)}return g}},76910:(z,l,e)=>{const o=e(43114),f=e(7007);l.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},l.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},l.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},l.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},l.MIXED={bit:-1},l.getCharCountIndicator=function(_,g){if(!_.ccBits)throw new Error("Invalid mode: "+_);if(!o.isValid(g))throw new Error("Invalid version: "+g);return g>=1&&g<10?_.ccBits[0]:g<27?_.ccBits[1]:_.ccBits[2]},l.getBestModeForData=function(_){return f.testNumeric(_)?l.NUMERIC:f.testAlphanumeric(_)?l.ALPHANUMERIC:f.testKanji(_)?l.KANJI:l.BYTE},l.toString=function(_){if(_&&_.id)return _.id;throw new Error("Invalid mode")},l.isValid=function(_){return _&&_.bit&&_.ccBits};function u(c){if(typeof c!="string")throw new Error("Param is not a string");switch(c.toLowerCase()){case"numeric":return l.NUMERIC;case"alphanumeric":return l.ALPHANUMERIC;case"kanji":return l.KANJI;case"byte":return l.BYTE;default:throw new Error("Unknown mode: "+c)}}l.from=function(_,g){if(l.isValid(_))return _;try{return u(_)}catch(E){return g}}},41085:(z,l,e)=>{const o=e(76910);function f(u){this.mode=o.NUMERIC,this.data=u.toString()}f.getBitsLength=function(c){return 10*Math.floor(c/3)+(c%3?c%3*3+1:0)},f.prototype.getLength=function(){return this.data.length},f.prototype.getBitsLength=function(){return f.getBitsLength(this.data.length)},f.prototype.write=function(c){let _,g,E;for(_=0;_+3<=this.data.length;_+=3)g=this.data.substr(_,3),E=parseInt(g,10),c.put(E,10);const v=this.data.length-_;v>0&&(g=this.data.substr(_),E=parseInt(g,10),c.put(E,v*3+1))},z.exports=f},26143:(z,l,e)=>{const o=e(69729);l.mul=function(u,c){const _=new Uint8Array(u.length+c.length-1);for(let g=0;g<u.length;g++)for(let E=0;E<c.length;E++)_[g+E]^=o.mul(u[g],c[E]);return _},l.mod=function(u,c){let _=new Uint8Array(u);for(;_.length-c.length>=0;){const g=_[0];for(let v=0;v<c.length;v++)_[v]^=o.mul(c[v],g);let E=0;for(;E<_.length&&_[E]===0;)E++;_=_.slice(E)}return _},l.generateECPolynomial=function(u){let c=new Uint8Array([1]);for(let _=0;_<u;_++)c=l.mul(c,new Uint8Array([1,o.exp(_)]));return c}},95115:(z,l,e)=>{const o=e(10242),f=e(64908),u=e(97245),c=e(73280),_=e(21845),g=e(76526),E=e(27126),v=e(35393),y=e(52882),T=e(23103),w=e(61642),S=e(76910),O=e(16130);function p(N,F){const B=N.size,V=g.getPositions(F);for(let Z=0;Z<V.length;Z++){const Y=V[Z][0],ne=V[Z][1];for(let G=-1;G<=7;G++)if(!(Y+G<=-1||B<=Y+G))for(let L=-1;L<=7;L++)ne+L<=-1||B<=ne+L||(G>=0&&G<=6&&(L===0||L===6)||L>=0&&L<=6&&(G===0||G===6)||G>=2&&G<=4&&L>=2&&L<=4?N.set(Y+G,ne+L,!0,!0):N.set(Y+G,ne+L,!1,!0))}}function d(N){const F=N.size;for(let B=8;B<F-8;B++){const V=B%2===0;N.set(B,6,V,!0),N.set(6,B,V,!0)}}function a(N,F){const B=_.getPositions(F);for(let V=0;V<B.length;V++){const Z=B[V][0],Y=B[V][1];for(let ne=-2;ne<=2;ne++)for(let G=-2;G<=2;G++)ne===-2||ne===2||G===-2||G===2||ne===0&&G===0?N.set(Z+ne,Y+G,!0,!0):N.set(Z+ne,Y+G,!1,!0)}}function P(N,F){const B=N.size,V=T.getEncodedBits(F);let Z,Y,ne;for(let G=0;G<18;G++)Z=Math.floor(G/3),Y=G%3+B-8-3,ne=(V>>G&1)===1,N.set(Z,Y,ne,!0),N.set(Y,Z,ne,!0)}function C(N,F,B){const V=N.size,Z=w.getEncodedBits(F,B);let Y,ne;for(Y=0;Y<15;Y++)ne=(Z>>Y&1)===1,Y<6?N.set(Y,8,ne,!0):Y<8?N.set(Y+1,8,ne,!0):N.set(V-15+Y,8,ne,!0),Y<8?N.set(8,V-Y-1,ne,!0):Y<9?N.set(8,15-Y-1+1,ne,!0):N.set(8,15-Y-1,ne,!0);N.set(V-8,8,1,!0)}function D(N,F){const B=N.size;let V=-1,Z=B-1,Y=7,ne=0;for(let G=B-1;G>0;G-=2)for(G===6&&G--;;){for(let L=0;L<2;L++)if(!N.isReserved(Z,G-L)){let W=!1;ne<F.length&&(W=(F[ne]>>>Y&1)===1),N.set(Z,G-L,W),Y--,Y===-1&&(ne++,Y=7)}if(Z+=V,Z<0||B<=Z){Z-=V,V=-V;break}}}function A(N,F,B){const V=new u;B.forEach(function(L){V.put(L.mode.bit,4),V.put(L.getLength(),S.getCharCountIndicator(L.mode,N)),L.write(V)});const Z=o.getSymbolTotalCodewords(N),Y=v.getTotalCodewordsCount(N,F),ne=(Z-Y)*8;for(V.getLengthInBits()+4<=ne&&V.put(0,4);V.getLengthInBits()%8!==0;)V.putBit(0);const G=(ne-V.getLengthInBits())/8;for(let L=0;L<G;L++)V.put(L%2?17:236,8);return x(V,N,F)}function x(N,F,B){const V=o.getSymbolTotalCodewords(F),Z=v.getTotalCodewordsCount(F,B),Y=V-Z,ne=v.getBlocksCount(F,B),G=V%ne,L=ne-G,W=Math.floor(V/ne),ie=Math.floor(Y/ne),ue=ie+1,le=W-ie,J=new y(le);let te=0;const se=new Array(ne),ee=new Array(ne);let ae=0;const ce=new Uint8Array(N.buffer);for(let ve=0;ve<ne;ve++){const De=ve<L?ie:ue;se[ve]=ce.slice(te,te+De),ee[ve]=J.encode(se[ve]),te+=De,ae=Math.max(ae,De)}const fe=new Uint8Array(V);let Ee=0,de,_e;for(de=0;de<ae;de++)for(_e=0;_e<ne;_e++)de<se[_e].length&&(fe[Ee++]=se[_e][de]);for(de=0;de<le;de++)for(_e=0;_e<ne;_e++)fe[Ee++]=ee[_e][de];return fe}function I(N,F,B,V){let Z;if(Array.isArray(N))Z=O.fromArray(N);else if(typeof N=="string"){let W=F;if(!W){const ie=O.rawSplit(N);W=T.getBestVersionForData(ie,B)}Z=O.fromString(N,W||40)}else throw new Error("Invalid data");const Y=T.getBestVersionForData(Z,B);if(!Y)throw new Error("The amount of data is too big to be stored in a QR Code");if(!F)F=Y;else if(F<Y)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+Y+`.
`);const ne=A(F,B,Z),G=o.getSymbolSize(F),L=new c(G);return p(L,F),d(L),a(L,F),C(L,B,0),F>=7&&P(L,F),D(L,ne),isNaN(V)&&(V=E.getBestMask(L,C.bind(null,L,B))),E.applyMask(V,L),C(L,B,V),{modules:L,version:F,errorCorrectionLevel:B,maskPattern:V,segments:Z}}l.create=function(F,B){if(typeof F=="undefined"||F==="")throw new Error("No input text");let V=f.M,Z,Y;return typeof B!="undefined"&&(V=f.from(B.errorCorrectionLevel,f.M),Z=T.from(B.version),Y=E.from(B.maskPattern),B.toSJISFunc&&o.setToSJISFunction(B.toSJISFunc)),I(F,Z,V,Y)}},52882:(z,l,e)=>{const o=e(26143);function f(u){this.genPoly=void 0,this.degree=u,this.degree&&this.initialize(this.degree)}f.prototype.initialize=function(c){this.degree=c,this.genPoly=o.generateECPolynomial(this.degree)},f.prototype.encode=function(c){if(!this.genPoly)throw new Error("Encoder not initialized");const _=new Uint8Array(c.length+this.degree);_.set(c);const g=o.mod(_,this.genPoly),E=this.degree-g.length;if(E>0){const v=new Uint8Array(this.degree);return v.set(g,E),v}return g},z.exports=f},7007:(z,l)=>{const e="[0-9]+",o="[A-Z $%*+\\-./:]+";let f="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";f=f.replace(/u/g,"\\u");const u="(?:(?![A-Z0-9 $%*+\\-./:]|"+f+`)(?:.|[\r
]))+`;l.KANJI=new RegExp(f,"g"),l.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),l.BYTE=new RegExp(u,"g"),l.NUMERIC=new RegExp(e,"g"),l.ALPHANUMERIC=new RegExp(o,"g");const c=new RegExp("^"+f+"$"),_=new RegExp("^"+e+"$"),g=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");l.testKanji=function(v){return c.test(v)},l.testNumeric=function(v){return _.test(v)},l.testAlphanumeric=function(v){return g.test(v)}},16130:(z,l,e)=>{const o=e(76910),f=e(41085),u=e(8260),c=e(43424),_=e(51018),g=e(7007),E=e(10242),v=e(65987);function y(P){return unescape(encodeURIComponent(P)).length}function T(P,C,D){const A=[];let x;for(;(x=P.exec(D))!==null;)A.push({data:x[0],index:x.index,mode:C,length:x[0].length});return A}function w(P){const C=T(g.NUMERIC,o.NUMERIC,P),D=T(g.ALPHANUMERIC,o.ALPHANUMERIC,P);let A,x;return E.isKanjiModeEnabled()?(A=T(g.BYTE,o.BYTE,P),x=T(g.KANJI,o.KANJI,P)):(A=T(g.BYTE_KANJI,o.BYTE,P),x=[]),C.concat(D,A,x).sort(function(N,F){return N.index-F.index}).map(function(N){return{data:N.data,mode:N.mode,length:N.length}})}function S(P,C){switch(C){case o.NUMERIC:return f.getBitsLength(P);case o.ALPHANUMERIC:return u.getBitsLength(P);case o.KANJI:return _.getBitsLength(P);case o.BYTE:return c.getBitsLength(P)}}function O(P){return P.reduce(function(C,D){const A=C.length-1>=0?C[C.length-1]:null;return A&&A.mode===D.mode?(C[C.length-1].data+=D.data,C):(C.push(D),C)},[])}function p(P){const C=[];for(let D=0;D<P.length;D++){const A=P[D];switch(A.mode){case o.NUMERIC:C.push([A,{data:A.data,mode:o.ALPHANUMERIC,length:A.length},{data:A.data,mode:o.BYTE,length:A.length}]);break;case o.ALPHANUMERIC:C.push([A,{data:A.data,mode:o.BYTE,length:A.length}]);break;case o.KANJI:C.push([A,{data:A.data,mode:o.BYTE,length:y(A.data)}]);break;case o.BYTE:C.push([{data:A.data,mode:o.BYTE,length:y(A.data)}])}}return C}function d(P,C){const D={},A={start:{}};let x=["start"];for(let I=0;I<P.length;I++){const N=P[I],F=[];for(let B=0;B<N.length;B++){const V=N[B],Z=""+I+B;F.push(Z),D[Z]={node:V,lastCount:0},A[Z]={};for(let Y=0;Y<x.length;Y++){const ne=x[Y];D[ne]&&D[ne].node.mode===V.mode?(A[ne][Z]=S(D[ne].lastCount+V.length,V.mode)-S(D[ne].lastCount,V.mode),D[ne].lastCount+=V.length):(D[ne]&&(D[ne].lastCount=V.length),A[ne][Z]=S(V.length,V.mode)+4+o.getCharCountIndicator(V.mode,C))}}x=F}for(let I=0;I<x.length;I++)A[x[I]].end=0;return{map:A,table:D}}function a(P,C){let D;const A=o.getBestModeForData(P);if(D=o.from(C,A),D!==o.BYTE&&D.bit<A.bit)throw new Error('"'+P+'" cannot be encoded with mode '+o.toString(D)+`.
 Suggested mode is: `+o.toString(A));switch(D===o.KANJI&&!E.isKanjiModeEnabled()&&(D=o.BYTE),D){case o.NUMERIC:return new f(P);case o.ALPHANUMERIC:return new u(P);case o.KANJI:return new _(P);case o.BYTE:return new c(P)}}l.fromArray=function(C){return C.reduce(function(D,A){return typeof A=="string"?D.push(a(A,null)):A.data&&D.push(a(A.data,A.mode)),D},[])},l.fromString=function(C,D){const A=w(C,E.isKanjiModeEnabled()),x=p(A),I=d(x,D),N=v.find_path(I.map,"start","end"),F=[];for(let B=1;B<N.length-1;B++)F.push(I.table[N[B]].node);return l.fromArray(O(F))},l.rawSplit=function(C){return l.fromArray(w(C,E.isKanjiModeEnabled()))}},10242:(z,l)=>{let e;const o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];l.getSymbolSize=function(u){if(!u)throw new Error('"version" cannot be null or undefined');if(u<1||u>40)throw new Error('"version" should be in range from 1 to 40');return u*4+17},l.getSymbolTotalCodewords=function(u){return o[u]},l.getBCHDigit=function(f){let u=0;for(;f!==0;)u++,f>>>=1;return u},l.setToSJISFunction=function(u){if(typeof u!="function")throw new Error('"toSJISFunc" is not a valid function.');e=u},l.isKanjiModeEnabled=function(){return typeof e!="undefined"},l.toSJIS=function(u){return e(u)}},43114:(z,l)=>{l.isValid=function(o){return!isNaN(o)&&o>=1&&o<=40}},23103:(z,l,e)=>{const o=e(10242),f=e(35393),u=e(64908),c=e(76910),_=e(43114),g=7973,E=o.getBCHDigit(g);function v(S,O,p){for(let d=1;d<=40;d++)if(O<=l.getCapacity(d,p,S))return d}function y(S,O){return c.getCharCountIndicator(S,O)+4}function T(S,O){let p=0;return S.forEach(function(d){const a=y(d.mode,O);p+=a+d.getBitsLength()}),p}function w(S,O){for(let p=1;p<=40;p++)if(T(S,p)<=l.getCapacity(p,O,c.MIXED))return p}l.from=function(O,p){return _.isValid(O)?parseInt(O,10):p},l.getCapacity=function(O,p,d){if(!_.isValid(O))throw new Error("Invalid QR Code version");typeof d=="undefined"&&(d=c.BYTE);const a=o.getSymbolTotalCodewords(O),P=f.getTotalCodewordsCount(O,p),C=(a-P)*8;if(d===c.MIXED)return C;const D=C-y(d,O);switch(d){case c.NUMERIC:return Math.floor(D/10*3);case c.ALPHANUMERIC:return Math.floor(D/11*2);case c.KANJI:return Math.floor(D/13);case c.BYTE:default:return Math.floor(D/8)}},l.getBestVersionForData=function(O,p){let d;const a=u.from(p,u.M);if(Array.isArray(O)){if(O.length>1)return w(O,a);if(O.length===0)return 1;d=O[0]}else d=O;return v(d.mode,d.getLength(),a)},l.getEncodedBits=function(O){if(!_.isValid(O)||O<7)throw new Error("Invalid QR Code version");let p=O<<12;for(;o.getBCHDigit(p)-E>=0;)p^=g<<o.getBCHDigit(p)-E;return O<<12|p}},6907:(z,l,e)=>{const o=e(89653);function f(c,_,g){c.clearRect(0,0,_.width,_.height),_.style||(_.style={}),_.height=g,_.width=g,_.style.height=g+"px",_.style.width=g+"px"}function u(){try{return document.createElement("canvas")}catch(c){throw new Error("You need to specify a canvas element")}}l.render=function(_,g,E){let v=E,y=g;typeof v=="undefined"&&(!g||!g.getContext)&&(v=g,g=void 0),g||(y=u()),v=o.getOptions(v);const T=o.getImageWidth(_.modules.size,v),w=y.getContext("2d"),S=w.createImageData(T,T);return o.qrToImageData(S.data,_,v),f(w,y,T),w.putImageData(S,0,0),y},l.renderToDataURL=function(_,g,E){let v=E;typeof v=="undefined"&&(!g||!g.getContext)&&(v=g,g=void 0),v||(v={});const y=l.render(_,g,v),T=v.type||"image/png",w=v.rendererOpts||{};return y.toDataURL(T,w.quality)}},93776:(z,l,e)=>{const o=e(89653);function f(_,g){const E=_.a/255,v=g+'="'+_.hex+'"';return E<1?v+" "+g+'-opacity="'+E.toFixed(2).slice(1)+'"':v}function u(_,g,E){let v=_+g;return typeof E!="undefined"&&(v+=" "+E),v}function c(_,g,E){let v="",y=0,T=!1,w=0;for(let S=0;S<_.length;S++){const O=Math.floor(S%g),p=Math.floor(S/g);!O&&!T&&(T=!0),_[S]?(w++,S>0&&O>0&&_[S-1]||(v+=T?u("M",O+E,.5+p+E):u("m",y,0),y=0,T=!1),O+1<g&&_[S+1]||(v+=u("h",w),w=0)):y++}return v}l.render=function(g,E,v){const y=o.getOptions(E),T=g.modules.size,w=g.modules.data,S=T+y.margin*2,O=y.color.light.a?"<path "+f(y.color.light,"fill")+' d="M0 0h'+S+"v"+S+'H0z"/>':"",p="<path "+f(y.color.dark,"stroke")+' d="'+c(w,T,y.margin)+'"/>',d='viewBox="0 0 '+S+" "+S+'"',P='<svg xmlns="http://www.w3.org/2000/svg" '+(y.width?'width="'+y.width+'" height="'+y.width+'" ':"")+d+' shape-rendering="crispEdges">'+O+p+`</svg>
`;return typeof v=="function"&&v(null,P),P}},89653:(z,l)=>{function e(o){if(typeof o=="number"&&(o=o.toString()),typeof o!="string")throw new Error("Color should be defined as hex string");let f=o.slice().replace("#","").split("");if(f.length<3||f.length===5||f.length>8)throw new Error("Invalid hex color: "+o);(f.length===3||f.length===4)&&(f=Array.prototype.concat.apply([],f.map(function(c){return[c,c]}))),f.length===6&&f.push("F","F");const u=parseInt(f.join(""),16);return{r:u>>24&255,g:u>>16&255,b:u>>8&255,a:u&255,hex:"#"+f.slice(0,6).join("")}}l.getOptions=function(f){f||(f={}),f.color||(f.color={});const u=typeof f.margin=="undefined"||f.margin===null||f.margin<0?4:f.margin,c=f.width&&f.width>=21?f.width:void 0,_=f.scale||4;return{width:c,scale:c?4:_,margin:u,color:{dark:e(f.color.dark||"#000000ff"),light:e(f.color.light||"#ffffffff")},type:f.type,rendererOpts:f.rendererOpts||{}}},l.getScale=function(f,u){return u.width&&u.width>=f+u.margin*2?u.width/(f+u.margin*2):u.scale},l.getImageWidth=function(f,u){const c=l.getScale(f,u);return Math.floor((f+u.margin*2)*c)},l.qrToImageData=function(f,u,c){const _=u.modules.size,g=u.modules.data,E=l.getScale(_,c),v=Math.floor((_+c.margin*2)*E),y=c.margin*E,T=[c.color.light,c.color.dark];for(let w=0;w<v;w++)for(let S=0;S<v;S++){let O=(w*v+S)*4,p=c.color.light;if(w>=y&&S>=y&&w<v-y&&S<v-y){const d=Math.floor((w-y)/E),a=Math.floor((S-y)/E);p=T[g[d*_+a]?1:0]}f[O++]=p.r,f[O++]=p.g,f[O++]=p.b,f[O]=p.a}}},55798:z=>{"use strict";var l=String.prototype.replace,e=/%20/g,o={RFC1738:"RFC1738",RFC3986:"RFC3986"};z.exports={default:o.RFC3986,formatters:{RFC1738:function(f){return l.call(f,e,"+")},RFC3986:function(f){return String(f)}},RFC1738:o.RFC1738,RFC3986:o.RFC3986}},80129:(z,l,e)=>{"use strict";var o=e(58261),f=e(55235),u=e(55798);z.exports={formats:u,parse:f,stringify:o}},55235:(z,l,e)=>{"use strict";var o=e(12769),f=Object.prototype.hasOwnProperty,u=Array.isArray,c={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:o.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},_=function(O){return O.replace(/&#(\d+);/g,function(p,d){return String.fromCharCode(parseInt(d,10))})},g=function(O,p){return O&&typeof O=="string"&&p.comma&&O.indexOf(",")>-1?O.split(","):O},E="utf8=%26%2310003%3B",v="utf8=%E2%9C%93",y=function(p,d){var a={},P=d.ignoreQueryPrefix?p.replace(/^\?/,""):p,C=d.parameterLimit===1/0?void 0:d.parameterLimit,D=P.split(d.delimiter,C),A=-1,x,I=d.charset;if(d.charsetSentinel)for(x=0;x<D.length;++x)D[x].indexOf("utf8=")===0&&(D[x]===v?I="utf-8":D[x]===E&&(I="iso-8859-1"),A=x,x=D.length);for(x=0;x<D.length;++x)if(x!==A){var N=D[x],F=N.indexOf("]="),B=F===-1?N.indexOf("="):F+1,V,Z;B===-1?(V=d.decoder(N,c.decoder,I,"key"),Z=d.strictNullHandling?null:""):(V=d.decoder(N.slice(0,B),c.decoder,I,"key"),Z=o.maybeMap(g(N.slice(B+1),d),function(Y){return d.decoder(Y,c.decoder,I,"value")})),Z&&d.interpretNumericEntities&&I==="iso-8859-1"&&(Z=_(Z)),N.indexOf("[]=")>-1&&(Z=u(Z)?[Z]:Z),f.call(a,V)?a[V]=o.combine(a[V],Z):a[V]=Z}return a},T=function(O,p,d,a){for(var P=a?p:g(p,d),C=O.length-1;C>=0;--C){var D,A=O[C];if(A==="[]"&&d.parseArrays)D=[].concat(P);else{D=d.plainObjects?Object.create(null):{};var x=A.charAt(0)==="["&&A.charAt(A.length-1)==="]"?A.slice(1,-1):A,I=parseInt(x,10);!d.parseArrays&&x===""?D={0:P}:!isNaN(I)&&A!==x&&String(I)===x&&I>=0&&d.parseArrays&&I<=d.arrayLimit?(D=[],D[I]=P):x!=="__proto__"&&(D[x]=P)}P=D}return P},w=function(p,d,a,P){if(p){var C=a.allowDots?p.replace(/\.([^.[]+)/g,"[$1]"):p,D=/(\[[^[\]]*])/,A=/(\[[^[\]]*])/g,x=a.depth>0&&D.exec(C),I=x?C.slice(0,x.index):C,N=[];if(I){if(!a.plainObjects&&f.call(Object.prototype,I)&&!a.allowPrototypes)return;N.push(I)}for(var F=0;a.depth>0&&(x=A.exec(C))!==null&&F<a.depth;){if(F+=1,!a.plainObjects&&f.call(Object.prototype,x[1].slice(1,-1))&&!a.allowPrototypes)return;N.push(x[1])}return x&&N.push("["+C.slice(x.index)+"]"),T(N,d,a,P)}},S=function(p){if(!p)return c;if(p.decoder!==null&&p.decoder!==void 0&&typeof p.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof p.charset!="undefined"&&p.charset!=="utf-8"&&p.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var d=typeof p.charset=="undefined"?c.charset:p.charset;return{allowDots:typeof p.allowDots=="undefined"?c.allowDots:!!p.allowDots,allowPrototypes:typeof p.allowPrototypes=="boolean"?p.allowPrototypes:c.allowPrototypes,allowSparse:typeof p.allowSparse=="boolean"?p.allowSparse:c.allowSparse,arrayLimit:typeof p.arrayLimit=="number"?p.arrayLimit:c.arrayLimit,charset:d,charsetSentinel:typeof p.charsetSentinel=="boolean"?p.charsetSentinel:c.charsetSentinel,comma:typeof p.comma=="boolean"?p.comma:c.comma,decoder:typeof p.decoder=="function"?p.decoder:c.decoder,delimiter:typeof p.delimiter=="string"||o.isRegExp(p.delimiter)?p.delimiter:c.delimiter,depth:typeof p.depth=="number"||p.depth===!1?+p.depth:c.depth,ignoreQueryPrefix:p.ignoreQueryPrefix===!0,interpretNumericEntities:typeof p.interpretNumericEntities=="boolean"?p.interpretNumericEntities:c.interpretNumericEntities,parameterLimit:typeof p.parameterLimit=="number"?p.parameterLimit:c.parameterLimit,parseArrays:p.parseArrays!==!1,plainObjects:typeof p.plainObjects=="boolean"?p.plainObjects:c.plainObjects,strictNullHandling:typeof p.strictNullHandling=="boolean"?p.strictNullHandling:c.strictNullHandling}};z.exports=function(O,p){var d=S(p);if(O===""||O===null||typeof O=="undefined")return d.plainObjects?Object.create(null):{};for(var a=typeof O=="string"?y(O,d):O,P=d.plainObjects?Object.create(null):{},C=Object.keys(a),D=0;D<C.length;++D){var A=C[D],x=w(A,a[A],d,typeof O=="string");P=o.merge(P,x,d)}return d.allowSparse===!0?P:o.compact(P)}},58261:(z,l,e)=>{"use strict";var o=e(37478),f=e(12769),u=e(55798),c=Object.prototype.hasOwnProperty,_={brackets:function(C){return C+"[]"},comma:"comma",indices:function(C,D){return C+"["+D+"]"},repeat:function(C){return C}},g=Array.isArray,E=String.prototype.split,v=Array.prototype.push,y=function(P,C){v.apply(P,g(C)?C:[C])},T=Date.prototype.toISOString,w=u.default,S={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:f.encode,encodeValuesOnly:!1,format:w,formatter:u.formatters[w],indices:!1,serializeDate:function(C){return T.call(C)},skipNulls:!1,strictNullHandling:!1},O=function(C){return typeof C=="string"||typeof C=="number"||typeof C=="boolean"||typeof C=="symbol"||typeof C=="bigint"},p={},d=function P(C,D,A,x,I,N,F,B,V,Z,Y,ne,G,L,W,ie){for(var ue=C,le=ie,J=0,te=!1;(le=le.get(p))!==void 0&&!te;){var se=le.get(C);if(J+=1,typeof se!="undefined"){if(se===J)throw new RangeError("Cyclic object value");te=!0}typeof le.get(p)=="undefined"&&(J=0)}if(typeof B=="function"?ue=B(D,ue):ue instanceof Date?ue=Y(ue):A==="comma"&&g(ue)&&(ue=f.maybeMap(ue,function(We){return We instanceof Date?Y(We):We})),ue===null){if(I)return F&&!L?F(D,S.encoder,W,"key",ne):D;ue=""}if(O(ue)||f.isBuffer(ue)){if(F){var ee=L?D:F(D,S.encoder,W,"key",ne);if(A==="comma"&&L){for(var ae=E.call(String(ue),","),ce="",fe=0;fe<ae.length;++fe)ce+=(fe===0?"":",")+G(F(ae[fe],S.encoder,W,"value",ne));return[G(ee)+(x&&g(ue)&&ae.length===1?"[]":"")+"="+ce]}return[G(ee)+"="+G(F(ue,S.encoder,W,"value",ne))]}return[G(D)+"="+G(String(ue))]}var Ee=[];if(typeof ue=="undefined")return Ee;var de;if(A==="comma"&&g(ue))de=[{value:ue.length>0?ue.join(",")||null:void 0}];else if(g(B))de=B;else{var _e=Object.keys(ue);de=V?_e.sort(V):_e}for(var ve=x&&g(ue)&&ue.length===1?D+"[]":D,De=0;De<de.length;++De){var Oe=de[De],ye=typeof Oe=="object"&&typeof Oe.value!="undefined"?Oe.value:ue[Oe];if(!(N&&ye===null)){var ze=g(ue)?typeof A=="function"?A(ve,Oe):ve:ve+(Z?"."+Oe:"["+Oe+"]");ie.set(C,J);var Be=o();Be.set(p,ie),y(Ee,P(ye,ze,A,x,I,N,F,B,V,Z,Y,ne,G,L,W,Be))}}return Ee},a=function(C){if(!C)return S;if(C.encoder!==null&&typeof C.encoder!="undefined"&&typeof C.encoder!="function")throw new TypeError("Encoder has to be a function.");var D=C.charset||S.charset;if(typeof C.charset!="undefined"&&C.charset!=="utf-8"&&C.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var A=u.default;if(typeof C.format!="undefined"){if(!c.call(u.formatters,C.format))throw new TypeError("Unknown format option provided.");A=C.format}var x=u.formatters[A],I=S.filter;return(typeof C.filter=="function"||g(C.filter))&&(I=C.filter),{addQueryPrefix:typeof C.addQueryPrefix=="boolean"?C.addQueryPrefix:S.addQueryPrefix,allowDots:typeof C.allowDots=="undefined"?S.allowDots:!!C.allowDots,charset:D,charsetSentinel:typeof C.charsetSentinel=="boolean"?C.charsetSentinel:S.charsetSentinel,delimiter:typeof C.delimiter=="undefined"?S.delimiter:C.delimiter,encode:typeof C.encode=="boolean"?C.encode:S.encode,encoder:typeof C.encoder=="function"?C.encoder:S.encoder,encodeValuesOnly:typeof C.encodeValuesOnly=="boolean"?C.encodeValuesOnly:S.encodeValuesOnly,filter:I,format:A,formatter:x,serializeDate:typeof C.serializeDate=="function"?C.serializeDate:S.serializeDate,skipNulls:typeof C.skipNulls=="boolean"?C.skipNulls:S.skipNulls,sort:typeof C.sort=="function"?C.sort:null,strictNullHandling:typeof C.strictNullHandling=="boolean"?C.strictNullHandling:S.strictNullHandling}};z.exports=function(P,C){var D=P,A=a(C),x,I;typeof A.filter=="function"?(I=A.filter,D=I("",D)):g(A.filter)&&(I=A.filter,x=I);var N=[];if(typeof D!="object"||D===null)return"";var F;C&&C.arrayFormat in _?F=C.arrayFormat:C&&"indices"in C?F=C.indices?"indices":"repeat":F="indices";var B=_[F];if(C&&"commaRoundTrip"in C&&typeof C.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var V=B==="comma"&&C&&C.commaRoundTrip;x||(x=Object.keys(D)),A.sort&&x.sort(A.sort);for(var Z=o(),Y=0;Y<x.length;++Y){var ne=x[Y];A.skipNulls&&D[ne]===null||y(N,d(D[ne],ne,B,V,A.strictNullHandling,A.skipNulls,A.encode?A.encoder:null,A.filter,A.sort,A.allowDots,A.serializeDate,A.format,A.formatter,A.encodeValuesOnly,A.charset,Z))}var G=N.join(A.delimiter),L=A.addQueryPrefix===!0?"?":"";return A.charsetSentinel&&(A.charset==="iso-8859-1"?L+="utf8=%26%2310003%3B&":L+="utf8=%E2%9C%93&"),G.length>0?L+G:""}},12769:(z,l,e)=>{"use strict";var o=e(55798),f=Object.prototype.hasOwnProperty,u=Array.isArray,c=function(){for(var a=[],P=0;P<256;++P)a.push("%"+((P<16?"0":"")+P.toString(16)).toUpperCase());return a}(),_=function(P){for(;P.length>1;){var C=P.pop(),D=C.obj[C.prop];if(u(D)){for(var A=[],x=0;x<D.length;++x)typeof D[x]!="undefined"&&A.push(D[x]);C.obj[C.prop]=A}}},g=function(P,C){for(var D=C&&C.plainObjects?Object.create(null):{},A=0;A<P.length;++A)typeof P[A]!="undefined"&&(D[A]=P[A]);return D},E=function a(P,C,D){if(!C)return P;if(typeof C!="object"){if(u(P))P.push(C);else if(P&&typeof P=="object")(D&&(D.plainObjects||D.allowPrototypes)||!f.call(Object.prototype,C))&&(P[C]=!0);else return[P,C];return P}if(!P||typeof P!="object")return[P].concat(C);var A=P;return u(P)&&!u(C)&&(A=g(P,D)),u(P)&&u(C)?(C.forEach(function(x,I){if(f.call(P,I)){var N=P[I];N&&typeof N=="object"&&x&&typeof x=="object"?P[I]=a(N,x,D):P.push(x)}else P[I]=x}),P):Object.keys(C).reduce(function(x,I){var N=C[I];return f.call(x,I)?x[I]=a(x[I],N,D):x[I]=N,x},A)},v=function(P,C){return Object.keys(C).reduce(function(D,A){return D[A]=C[A],D},P)},y=function(a,P,C){var D=a.replace(/\+/g," ");if(C==="iso-8859-1")return D.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(D)}catch(A){return D}},T=function(P,C,D,A,x){if(P.length===0)return P;var I=P;if(typeof P=="symbol"?I=Symbol.prototype.toString.call(P):typeof P!="string"&&(I=String(P)),D==="iso-8859-1")return escape(I).replace(/%u[0-9a-f]{4}/gi,function(V){return"%26%23"+parseInt(V.slice(2),16)+"%3B"});for(var N="",F=0;F<I.length;++F){var B=I.charCodeAt(F);if(B===45||B===46||B===95||B===126||B>=48&&B<=57||B>=65&&B<=90||B>=97&&B<=122||x===o.RFC1738&&(B===40||B===41)){N+=I.charAt(F);continue}if(B<128){N=N+c[B];continue}if(B<2048){N=N+(c[192|B>>6]+c[128|B&63]);continue}if(B<55296||B>=57344){N=N+(c[224|B>>12]+c[128|B>>6&63]+c[128|B&63]);continue}F+=1,B=65536+((B&1023)<<10|I.charCodeAt(F)&1023),N+=c[240|B>>18]+c[128|B>>12&63]+c[128|B>>6&63]+c[128|B&63]}return N},w=function(P){for(var C=[{obj:{o:P},prop:"o"}],D=[],A=0;A<C.length;++A)for(var x=C[A],I=x.obj[x.prop],N=Object.keys(I),F=0;F<N.length;++F){var B=N[F],V=I[B];typeof V=="object"&&V!==null&&D.indexOf(V)===-1&&(C.push({obj:I,prop:B}),D.push(V))}return _(C),P},S=function(P){return Object.prototype.toString.call(P)==="[object RegExp]"},O=function(P){return!P||typeof P!="object"?!1:!!(P.constructor&&P.constructor.isBuffer&&P.constructor.isBuffer(P))},p=function(P,C){return[].concat(P,C)},d=function(P,C){if(u(P)){for(var D=[],A=0;A<P.length;A+=1)D.push(C(P[A]));return D}return C(P)};z.exports={arrayToObject:g,assign:v,combine:p,compact:w,decode:y,encode:T,isBuffer:O,isRegExp:S,maybeMap:d,merge:E}},62587:z=>{"use strict";function l(e,o){return Object.prototype.hasOwnProperty.call(e,o)}z.exports=function(e,o,f,u){o=o||"&",f=f||"=";var c={};if(typeof e!="string"||e.length===0)return c;var _=/\+/g;e=e.split(o);var g=1e3;u&&typeof u.maxKeys=="number"&&(g=u.maxKeys);var E=e.length;g>0&&E>g&&(E=g);for(var v=0;v<E;++v){var y=e[v].replace(_,"%20"),T=y.indexOf(f),w,S,O,p;T>=0?(w=y.substr(0,T),S=y.substr(T+1)):(w=y,S=""),O=decodeURIComponent(w),p=decodeURIComponent(S),l(c,O)?Array.isArray(c[O])?c[O].push(p):c[O]=[c[O],p]:c[O]=p}return c}},12361:z=>{"use strict";var l=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};z.exports=function(e,o,f,u){return o=o||"&",f=f||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(c){var _=encodeURIComponent(l(c))+f;return Array.isArray(e[c])?e[c].map(function(g){return _+encodeURIComponent(l(g))}).join(o):_+encodeURIComponent(l(e[c]))}).join(o):u?encodeURIComponent(l(u))+f+encodeURIComponent(l(e)):""}},17673:(z,l,e)=>{"use strict";l.decode=l.parse=e(62587),l.encode=l.stringify=e(12361)},35639:(z,l,e)=>{"use strict";var o;o={value:!0};var f=Object.assign||function(A){for(var x=1;x<arguments.length;x++){var I=arguments[x];for(var N in I)Object.prototype.hasOwnProperty.call(I,N)&&(A[N]=I[N])}return A},u=function(){function A(x,I){for(var N=0;N<I.length;N++){var F=I[N];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(x,F.key,F)}}return function(x,I,N){return I&&A(x.prototype,I),N&&A(x,N),x}}(),c=e(98661),_=v(c),g=e(45697),E=v(g);function v(A){return A&&A.__esModule?A:{default:A}}function y(A,x){var I={};for(var N in A)x.indexOf(N)>=0||Object.prototype.hasOwnProperty.call(A,N)&&(I[N]=A[N]);return I}function T(A,x){if(!(A instanceof x))throw new TypeError("Cannot call a class as a function")}function w(A,x){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:A}function S(A,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);A.prototype=Object.create(x&&x.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(A,x):A.__proto__=x)}var O={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},p=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],d=function(x){return p.forEach(function(I){return delete x[I]}),x},a=function(x,I){I.style.fontSize=x.fontSize,I.style.fontFamily=x.fontFamily,I.style.fontWeight=x.fontWeight,I.style.fontStyle=x.fontStyle,I.style.letterSpacing=x.letterSpacing,I.style.textTransform=x.textTransform},P=typeof window!="undefined"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,C=function(){return P?"_"+Math.random().toString(36).substr(2,12):void 0},D=function(A){S(x,A),u(x,null,[{key:"getDerivedStateFromProps",value:function(N,F){var B=N.id;return B!==F.prevId?{inputId:B||C(),prevId:B}:null}}]);function x(I){T(this,x);var N=w(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,I));return N.inputRef=function(F){N.input=F,typeof N.props.inputRef=="function"&&N.props.inputRef(F)},N.placeHolderSizerRef=function(F){N.placeHolderSizer=F},N.sizerRef=function(F){N.sizer=F},N.state={inputWidth:I.minWidth,inputId:I.id||C(),prevId:I.id},N}return u(x,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(N,F){F.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var N=this.input&&window.getComputedStyle(this.input);N&&(a(N,this.sizer),this.placeHolderSizer&&a(N,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth=="undefined")){var N=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?N=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:N=this.sizer.scrollWidth+2;var F=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;N+=F,N<this.props.minWidth&&(N=this.props.minWidth),N!==this.state.inputWidth&&this.setState({inputWidth:N})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var N=this.props.injectStyles;return P&&N?_.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var N=[this.props.defaultValue,this.props.value,""].reduce(function(Z,Y){return Z!=null?Z:Y}),F=f({},this.props.style);F.display||(F.display="inline-block");var B=f({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),V=y(this.props,[]);return d(V),V.className=this.props.inputClassName,V.id=this.state.inputId,V.style=B,_.default.createElement("div",{className:this.props.className,style:F},this.renderStyles(),_.default.createElement("input",f({},V,{ref:this.inputRef})),_.default.createElement("div",{ref:this.sizerRef,style:O},N),this.props.placeholder?_.default.createElement("div",{ref:this.placeHolderSizerRef,style:O},this.props.placeholder):null)}}]),x}(c.Component);D.propTypes={className:E.default.string,defaultValue:E.default.any,extraWidth:E.default.oneOfType([E.default.number,E.default.string]),id:E.default.string,injectStyles:E.default.bool,inputClassName:E.default.string,inputRef:E.default.func,inputStyle:E.default.object,minWidth:E.default.oneOfType([E.default.number,E.default.string]),onAutosize:E.default.func,onChange:E.default.func,placeholder:E.default.string,placeholderIsMinWidth:E.default.bool,style:E.default.object,value:E.default.any},D.defaultProps={minWidth:1,injectStyles:!0},l.Z=D},62372:(z,l,e)=>{"use strict";e.d(l,{XI:()=>He,sJ:()=>We});var o=e(98661);function f(me,ke){for(var je=0;je<ke.length;je++){var Je=ke[je];Je.enumerable=Je.enumerable||!1,Je.configurable=!0,"value"in Je&&(Je.writable=!0),Object.defineProperty(me,Je.key,Je)}}function u(me,ke,je){return ke&&f(me.prototype,ke),je&&f(me,je),me}function c(){return c=Object.assign||function(me){for(var ke=1;ke<arguments.length;ke++){var je=arguments[ke];for(var Je in je)Object.prototype.hasOwnProperty.call(je,Je)&&(me[Je]=je[Je])}return me},c.apply(this,arguments)}function _(me,ke){me.prototype=Object.create(ke.prototype),me.prototype.constructor=me,g(me,ke)}function g(me,ke){return g=Object.setPrototypeOf||function(Je,tt){return Je.__proto__=tt,Je},g(me,ke)}function E(me,ke){if(me==null)return{};var je={},Je=Object.keys(me),tt,Ae;for(Ae=0;Ae<Je.length;Ae++)tt=Je[Ae],!(ke.indexOf(tt)>=0)&&(je[tt]=me[tt]);return je}function v(me,ke){if(me){if(typeof me=="string")return y(me,ke);var je=Object.prototype.toString.call(me).slice(8,-1);if(je==="Object"&&me.constructor&&(je=me.constructor.name),je==="Map"||je==="Set")return Array.from(me);if(je==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(je))return y(me,ke)}}function y(me,ke){(ke==null||ke>me.length)&&(ke=me.length);for(var je=0,Je=new Array(ke);je<ke;je++)Je[je]=me[je];return Je}function T(me,ke){var je=typeof Symbol!="undefined"&&me[Symbol.iterator]||me["@@iterator"];if(je)return(je=je.call(me)).next.bind(je);if(Array.isArray(me)||(je=v(me))||ke&&me&&typeof me.length=="number"){je&&(me=je);var Je=0;return function(){return Je>=me.length?{done:!0}:{done:!1,value:me[Je++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(me){var ke=(0,o.useRef)(null);function je(Je){!Je||Je===ke.current||(ke.current=Je,me(Je))}return je}function S(me){var ke=(0,o.useRef)(me);return(0,o.useMemo)(function(){function je(tt){typeof tt=="function"?ke.current=tt(ke.current):ke.current=tt}function Je(){return ke.current}return[Je,je]},[])}function O(){var me=(0,o.useRef)([]);return(0,o.useMemo)(function(){function ke(){return me.current.length>0}function je(){for(var tt=T(me.current),Ae;!(Ae=tt()).done;){var H=Ae.value;H()}me.current=[]}function Je(tt){me.current.push(tt)}return{hasEventSubscriptions:ke,removeAllEventSubscriptions:je,addEventSubscription:Je}},[])}var p=typeof window!="undefined"?o.useLayoutEffect:o.useEffect;function d(me,ke){var je=(0,o.useRef)(me);return ke?(je.current=me,je):(je.current=null,je)}var a={top:0,left:0,right:1,bottom:1,width:1,height:1};function P(me){var ke=me===void 0?{}:me,je=ke.enabled,Je=je===void 0?!0:je,tt=ke.preventDefault,Ae=tt===void 0?!0:tt,H=useRef(null),Q=useState(a),pe=Q[0],we=Q[1];function Le(){we(a)}var Ye=pe!==a;function dt(st){if(Je){Ae&&st.preventDefault();var _t=st.clientX,Tt=st.clientY;we({top:Tt,left:_t,width:1,height:1,right:_t+1,bottom:Tt+1})}}return{hasMousePosition:Ye,resetMousePosition:Le,handleMouseEvent:dt,trigger:{getBounds:function(){return pe},getParent:H.current?function(){return H.current}:void 0},parentRef:H}}function C(me){return parseFloat(me.replace("px",""))}function D(me,ke,je){return me<ke?ke:me>je?je:me}function A(me){return me!=null}function x(){for(var me=arguments.length,ke=new Array(me),je=0;je<me;je++)ke[je]=arguments[je];return function(Je){for(var tt=T(ke),Ae;!(Ae=tt()).done;){var H=Ae.value;H&&(typeof H=="function"?H(Je):H.current=Je)}}}function I(me,ke){if(typeof me!="undefined")return ke||me.ResizeObserver}function N(me,ke){var je=[];if(!me||!ke||me===document.body)return je;var Je=ke.getComputedStyle(me),tt=Je.overflow,Ae=Je.overflowX,H=Je.overflowY;return[tt,Ae,H].some(function(Q){return["auto","scroll"].includes(Q)})&&je.push(me),[].concat(je,N(me.parentElement,ke))}function F(me){return"react-laag: Could not find a valid reference for the "+me+` element. There might be 2 causes:
   - Make sure that the 'ref' is set correctly on the `+me+` element when isOpen: true. Also make sure your component forwards the ref with "forwardRef()".
   - Make sure that you are actually rendering the `+me+" when the isOpen prop is set to true"}function B(me){var ke=me.enabled,je=me.onChange,Je=me.environment,tt=me.ResizeObserverPolyfill,Ae=me.overflowContainer,H=me.triggerOption,Q=I(Je,tt);(0,o.useEffect)(function(){},[Q]);var pe=(0,o.useRef)(null),we=!!H,Le=S({scrollContainers:[],trigger:null,layer:null}),Ye=Le[0],dt=Le[1],st=O(),_t=st.hasEventSubscriptions,Tt=st.addEventSubscription,nn=st.removeAllEventSubscriptions,Mn=(0,o.useCallback)(function(){var dr=Ye(),Pr=dr.layer,br=dr.trigger,Or=dr.scrollContainers,Lr=Or[0];if(!Pr)throw new Error(F("layer"));if(!br&&!we)throw new Error(F("trigger"));var Wr={top:0,left:0};if(Lr){var Zr=Lr.scrollLeft,yo=Lr.scrollTop;Wr={top:yo,left:Zr}}else{var ho=Je.scrollX,$r=Je.scrollY;Wr={top:$r,left:ho}}var co={left:0,top:0};if(Lr){var io=Je.getComputedStyle(Lr),Tr=io.borderLeftWidth,Hr=io.borderTopWidth;co={left:C(Tr)||0,top:C(Hr)||0}}je({layer:Pr,trigger:br,scrollContainers:Or,arrow:pe.current},Wr,co)},[Ye,je,Je,pe,we]),tr=(0,o.useCallback)(function(){var dr=Ye(),Pr=dr.trigger,br=dr.layer,Or=dr.scrollContainers;if(!br)throw new Error(F("layer"));if(!Pr&&!we)throw new Error(F("trigger"));if(Q){for(var Lr=!1,Wr=function(){if(!Lr){Lr=!0;return}Mn()},Zr=new Q(Wr),yo=0,ho=[Pr,br,document.body];yo<ho.length;yo++){var $r=ho[yo];$r&&Zr.observe($r)}Tt(function(){for(var Po=0,oo=[Pr,br,document.body];Po<oo.length;Po++){var Xr=oo[Po];Xr&&Zr.unobserve(Xr)}Zr.disconnect()})}for(var co=[Je].concat(Or),io=function(){var oo=Hr.value;oo.addEventListener("scroll",Mn),Tt(function(){return oo.removeEventListener("scroll",Mn)})},Tr=T(co),Hr;!(Hr=Tr()).done;)io()},[Ye,Tt,Mn,Je,Q,we]),sr=(0,o.useCallback)(function(An,dr){ke&&An&&An!==dr&&(nn(),tr(),Mn())},[nn,tr,Mn,ke]),Rt=w((0,o.useCallback)(function(An){var dr=Ye(),Pr=dr.layer;dt(function(br){return c({},br,{layer:An})}),sr(Pr,An)},[Ye,dt,sr])),Mt=(0,o.useCallback)(function(dr){var Pr=N(dr,Je),br=Pr[0];if(br){var Or=Je.getComputedStyle(br).position,Lr=["relative","absolute","fixed"].includes(Or)||Ae;Lr||(br.style.position="relative")}return Pr},[Je,Ae]),$t=w((0,o.useCallback)(function(An){var dr=Mt(An),Pr=Ye(),br=Pr.trigger;dt(function(Or){return c({},Or,{trigger:An,scrollContainers:dr})}),sr(br,An)},[Ye,dt,sr,Mt])),vn=H==null||H.getParent==null?void 0:H.getParent();return p(function(){vn&&dt(function(An){return c({},An,{scrollContainers:Mt(vn)})})},[vn,dt,Mt]),p(function(){return ke&&(_t()||tr()),function(){_t()&&nn()}},[ke,_t,tr,nn]),p(function(){ke&&Mn()}),{triggerRef:$t,layerRef:Rt,arrowRef:pe,closestScrollContainer:Ye().scrollContainers[0]||null}}var V=(0,o.createContext)({});function Z(me){var ke=me.children,je=me.registrations,Je=(0,o.useCallback)(function(Ae){return je.current.add(Ae),function(){return je.current.delete(Ae)}},[je]);return(0,o.createElement)(V.Provider,{value:Je},ke)}function Y(me,ke){for(var je=T(me),Je;!(Je=je()).done;){var tt=Je.value.shouldCloseWhenClickedOutside;if(!tt(ke))return!1}return!0}function ne(me){var ke=me.isOpen,je=me.onOutsideClick,Je=me.onParentClose,tt=(0,o.useRef)(null),Ae=(0,o.useRef)(null),H=(0,o.useRef)(new Set),Q=(0,o.useContext)(V),pe=(0,o.useCallback)(function(Le){var Ye=Le.target,dt=tt.current&&tt.current.contains(Ye),st=Ae.current&&Ae.current.contains(Ye),_t=Y(H.current,Le);return st&&_t&&H.current.forEach(function(Tt){var nn=Tt.closeChild;return nn()}),!dt&&!st&&_t},[tt,Ae,H]);return(0,o.useEffect)(function(){if(typeof Q=="function")return Q({shouldCloseWhenClickedOutside:pe,closeChild:function(){Je&&Je()}})},[Q,pe,Je,H]),(0,o.useEffect)(function(){var we=typeof Q=="function",Le=!ke||!je||we;if(Le)return;function Ye(dt){pe(dt)&&je()}return document.addEventListener("click",Ye,!0),function(){return document.removeEventListener("click",Ye,!0)}},[ke,je,pe,Q]),(0,o.useEffect)(function(){ke||H.current.forEach(function(we){var Le=we.closeChild;return Le()})},[ke]),{closeOnOutsideClickRefs:{trigger:tt,layer:Ae},registrations:H}}var G=["bottom-start","bottom-end","bottom-center","top-start","top-center","top-end","left-end","left-center","left-start","right-end","right-center","right-start","center"],L={top:"bottom",left:"right",bottom:"top",right:"left",center:"center"},W=function(){function me(je,Je,tt,Ae,H,Q,pe,we,Le){this.prop=void 0,this.opposite=void 0,this.isHorizontal=void 0,this.sizeProp=void 0,this.oppositeSizeProp=void 0,this.cssProp=void 0,this.oppositeCssProp=void 0,this.isCenter=void 0,this.isPush=void 0,this.prop=je,this.opposite=Je,this.isHorizontal=tt,this.sizeProp=Ae,this.oppositeSizeProp=H,this.cssProp=Q,this.oppositeCssProp=pe,this.isCenter=we,this.isPush=Le}var ke=me.prototype;return ke.factor=function(Je){return Je*(this.isPush?1:-1)},ke.isOppositeDirection=function(Je){return this.isHorizontal!==Je.isHorizontal},me}();function ie(me,ke){ke===void 0&&(ke=!0);var je=["left","right"].includes(me);return new W(me,ke?ie(L[me],!1):null,je,je?"width":"height",je?"height":"width",je?"left":"top",je?"top":"left",me==="center",!["right","bottom"].includes(me))}var ue={top:ie("top"),bottom:ie("bottom"),left:ie("left"),right:ie("right")},le=c({},ue,{center:ie("center")}),J=["top","left","bottom","right"],te=function(){function me(ke){return this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,Object.assign(this,ke)}return me.mergeSmallestSides=function(je){var Je=je[0],tt=je.slice(1);if(!Je)throw new Error("Please provide at least 1 bounds objects in order to merge");for(var Ae=Object.fromEntries(J.map(function(dt){return[dt,Je[dt]]})),H=T(tt),Q;!(Q=H()).done;)for(var pe=Q.value,we=T(J),Le;!(Le=we()).done;){var Ye=Le.value;Ae[Ye]=Math.min(Ae[Ye],pe[Ye])}return new me(Ae)},u(me,[{key:"allSidesArePositive",get:function(){var je=this;return J.every(function(Je){return je[Je]>=0})}},{key:"negativeSides",get:function(){var je=this;return Object.fromEntries(J.filter(function(Je){return je[Je]<0}).map(function(Je){return[Je,je[Je]]}))}}]),me}();function se(){for(var me=arguments.length,ke=new Array(me),je=0;je<me;je++)ke[je]=arguments[je];return ke.reduce(function(Je,tt){return Je+(tt?C(tt):0)},0)}function ee(me){var ke=me.top,je=me.left,Je=me.right,tt=me.bottom,Ae=me.width,H=me.height;return{top:ke,left:je,right:Je,bottom:tt,width:Ae,height:H}}var ae={top:0,left:0,right:0,bottom:0,width:0,height:0},ce=function(){me.create=function(Je){return new me(Je)},me.fromElement=function(Je,tt){tt===void 0&&(tt={});var Ae=tt,H=Ae.withTransform,Q=H===void 0?!0:H,pe=Ae.environment,we=pe===void 0?window:pe,Le=Ae.withScrollbars,Ye=Le===void 0?!0:Le,dt=ee(Je.getBoundingClientRect()),st=new me(dt);if(!Q){var _t=we.getComputedStyle(Je),Tt=_t.width,nn=_t.height,Mn=_t.boxSizing,tr=_t.borderLeft,sr=_t.borderRight,Rt=_t.borderTop,Mt=_t.borderBottom,$t=_t.paddingLeft,vn=_t.paddingRight,An=_t.paddingTop,dr=_t.paddingBottom,Pr=Mn==="border-box"?C(Tt):se(Tt,tr,sr,$t,vn),br=Mn==="border-box"?C(nn):se(nn,Rt,Mt,An,dr);st=new me(c({},st,{width:Pr,height:br}))}if(!Ye){var Or=st.width-Je.clientWidth,Lr=st.height-Je.clientHeight;return st.substract({right:Or,bottom:Lr})}return st},me.empty=function(){return new me},me.fromWindow=function(Je){var tt,Ae=(tt=Je==null?void 0:Je.document.scrollingElement)!=null?tt:Je==null?void 0:Je.document.documentElement,H=Ae!=null?Ae:{},Q=H.clientWidth,pe=Q===void 0?0:Q,we=H.clientHeight,Le=we===void 0?0:we;return new me({width:pe,height:Le,right:pe,bottom:Le})};function me(je){return je===void 0&&(je={}),this.top=void 0,this.left=void 0,this.right=void 0,this.bottom=void 0,this.width=void 0,this.height=void 0,Object.assign(this,ae,je)}var ke=me.prototype;return ke.toObject=function(){return ee(this)},ke.merge=function(Je){var tt=this.toObject();return new me(c({},tt,typeof Je=="function"?Je(tt):Je))},ke.substract=function(Je){for(var tt=this.toObject(),Ae=Object.entries(Je),H=0,Q=Ae;H<Q.length;H++){var pe=Q[H],we=pe[0],Le=pe[1];if(we in ue){var Ye=ue[we];tt[we]+=Ye.factor(Le),tt[Ye.isHorizontal?"width":"height"]-=Le}else tt[we]-=Le||0}return new me(tt)},ke.offsetsTo=function(Je){return new te({top:Je.top-this.top,bottom:this.bottom-Je.bottom,left:Je.left-this.left,right:this.right-Je.right})},ke.mapSides=function(Je){for(var tt=this.toObject(),Ae=Object.values(ue),H=0,Q=Ae;H<Q.length;H++){var pe=Q[H];tt[pe.prop]=Je(pe,tt[pe.prop])}return new me(tt)},u(me,[{key:"surface",get:function(){return this.width*this.height}}]),me}(),fe=function(){function me(je,Je,tt,Ae,H){this.primary=void 0,this.secondary=void 0,this.offsets=void 0,this.subjectsBounds=void 0,this._cachedLayerBounds=null,this._cachedContainerOffsets=null,this.primary=je,this.secondary=Je,this.offsets=H,this.setSubjectsBounds(tt,Ae)}var ke=me.prototype;return ke.setSubjectsBounds=function(Je,tt){if(!tt){this.subjectsBounds=Je;return}var Ae=typeof tt=="function"?tt(this.primary.prop):tt;this.subjectsBounds=Je.merge({layer:c({},Je.layer,Ae)})},ke.getLayerBounds=function(Je){if(Je===void 0&&(Je=0),this._cachedLayerBounds&&Je===0)return this._cachedLayerBounds;var tt=this.primary,Ae=this.secondary,H=this.subjectsBounds,Q=H.trigger,pe=H.layer,we=H.arrow,Le=tt.isHorizontal,Ye=tt.oppositeCssProp,dt=tt.oppositeSizeProp,st=tt.prop,_t=tt.opposite,Tt=ce.empty();Tt[_t.prop]=Q[st]-tt.factor(this.offsets.trigger),Tt[st]=Tt[_t.prop]-tt.factor(pe[tt.sizeProp]);var nn=this.offsets.arrow*2,Mn=Q[Ye]-(pe[dt]-we[dt])+nn,tr=Q[Ye]+(Q[dt]-we[dt])-nn;if(Ae.isPush||(Mn+=pe[dt],tr+=pe[dt]),Ae.isCenter){var sr=(Le?ue.top:ue.left).prop,Rt=(Le?ue.bottom:ue.right).prop;Tt[sr]=D(Q[sr]+Q[dt]/2-pe[dt]/2+Je,Mn,tr),Tt[Rt]=Tt[sr]+pe[dt]}else{var Mt=Ae,$t=Q[Mt.prop],vn=$t<Mn?Mn-$t:$t>tr?tr-$t:0;Tt[Mt.prop]=D($t+Je+vn,Mn,tr),Tt[Mt.opposite.prop]=Tt[Mt.prop]+Ae.factor(pe[dt])}Tt.width=Tt.right-Tt.left,Tt.height=Tt.bottom-Tt.top;var An=ce.create(Tt);return Je===0&&(this._cachedLayerBounds=An),An},ke.getLayerCollisionBounds=function(){var Je=this.offsets.container;return this.getLayerBounds().mapSides(function(tt,Ae){return Ae-=tt.factor(Je)}).merge(function(tt){var Ae=tt.width,H=tt.height;return{width:Ae+Je*2,height:H+Je*2}})},ke.getContainerOffsets=function(Je){if(this._cachedContainerOffsets&&!Je)return this._cachedContainerOffsets;var tt=this.subjectsBounds.merge({layer:Je||this.getLayerCollisionBounds()}),Ae=te.mergeSmallestSides(tt.layerOffsetsToScrollContainers);return Je||(this._cachedContainerOffsets=Ae),Ae},u(me,[{key:"type",get:function(){return this.primary.prop+"-"+(this.secondary.prop==="center"?"center":["bottom","right"].includes(this.secondary.prop)?"end":"start")}},{key:"triggerIsBigger",get:function(){var Je=this.secondary.isHorizontal,tt=this.subjectsBounds,Ae=tt.triggerHasBiggerWidth,H=tt.triggerHasBiggerHeight;return Je&&Ae||!Je&&H}},{key:"fitsContainer",get:function(){return this.getContainerOffsets().allSidesArePositive}},{key:"visibleSurface",get:function(){var Je=this.getLayerBounds(),tt=this.getContainerOffsets(Je),Ae=tt.negativeSides;for(var H in Ae)Ae[H]=-Ae[H];return Je.substract(Ae).surface}},{key:"secondaryOffsetSide",get:function(){var Je,tt,Ae=this,H=this.getContainerOffsets(),Q=(Je=(tt=Object.entries(H.negativeSides).map(function(we){var Le=we[0],Ye=we[1];return[ue[Le],Ye]}).filter(function(we){var Le=we[0];return Ae.primary.isOppositeDirection(Le)}).sort(function(we,Le){var Ye=we[1],dt=Le[1];return dt-Ye}))==null?void 0:tt[0])!=null?Je:[],pe=Q[0];return pe||null}}]),me}(),Ee=function(me){_(ke,me);function ke(){return me.apply(this,arguments)||this}var je=ke.prototype;return je.getLayerBounds=function(){var tt=this.subjectsBounds,Ae=tt.trigger,H=tt.layer,Q=ce.empty();return Q.top=Ae.top+Ae.height/2-H.height/2,Q.bottom=Q.top+H.height,Q.left=Ae.left+Ae.width/2-H.width/2,Q.right=Q.left+H.width,Q.width=Q.right-Q.left,Q.height=Q.bottom-Q.top,Q},ke}(fe);function de(me,ke,je){var Je=me.layer,tt=me.trigger,Ae=me.arrow,H=ke.primary.oppositeSizeProp,Q=ke.primary.isHorizontal?["top","bottom"]:["left","right"],pe=Q[0],we=Q[1],Le=Je[pe]+Je[H]/2-tt[pe]-Ae[H]/2-je,Ye=Je[we]-Je[H]/2-tt[we]+Ae[H]/2+je;return(Le<0?-Le:0)+(Ye>0?-Ye:0)}var _e={position:"absolute",willChange:"top, left",left:null,right:null,top:null,bottom:null};function ve(me,ke,je){var Je;if(ke.primary.isCenter)return _e;var tt=me.layer,Ae=me.trigger,H=me.arrow,Q=ke.primary.oppositeSizeProp,pe=Ae[Q]>tt[Q],we=je+H[Q]/2,Le=tt[Q]-H[Q]/2-je,Ye=de(me,ke,je),dt=ke.primary.prop,st=ke.primary.oppositeCssProp,_t=pe?tt[Q]/2+Ye:Ae[st]+Ae[Q]/2-tt[st];return c({},_e,(Je={},Je[dt]="100%",Je[st]=D(_t,we,Le),Je))}var De=function(){function me(je,Je,tt){this.placements=void 0,this.config=void 0,this.subjectsBounds=void 0,this.placements=je,this.config=Je,this.subjectsBounds=tt}me.getSidesFromPlacementType=function(Je){var tt=Je.split("-"),Ae=tt[0],H=tt[1],Q=ue[Ae],pe;return H==="center"?pe=le.center:Q.isHorizontal?pe=H==="start"?le.top:le.bottom:pe=H==="start"?le.left:le.right,[Q,pe]},me.create=function(Je,tt){var Ae={arrow:tt.arrowOffset,container:tt.containerOffset,trigger:tt.triggerOffset};function H(Q){Q===void 0&&(Q=tt.placement);var pe=me.getSidesFromPlacementType(Q),we=pe[0],Le=pe[1],Ye=ue[we.isHorizontal?tt.preferY:tt.preferX],dt=!we.isHorizontal&&Je.triggerHasBiggerWidth||we.isHorizontal&&Je.triggerHasBiggerHeight;function st(Tt,nn){return new fe(Tt,nn,Je,tt.layerDimensions,Ae)}var _t=[];return _t[0]=st(we,Le),_t[1]=st(we,Le.isCenter?Ye:le.center),_t[2]=st(we,le[(Le.opposite.isCenter?Ye.opposite:Le.opposite).prop]),_t[3]=st(Ye,dt?we:le[we.opposite.prop]),_t[4]=st(Ye,le.center),_t[5]=st(Ye,dt?le[we.opposite.prop]:we),_t[6]=st(ue[Ye.opposite.prop],dt?we:le[we.opposite.prop]),_t[7]=st(ue[Ye.opposite.prop],le.center),_t[8]=st(ue[Ye.opposite.prop],dt?le[we.opposite.prop]:we),_t[9]=st(ue[we.opposite.prop],Le),_t[10]=st(ue[we.opposite.prop],Le.isCenter?Ye:le.center),_t[11]=st(ue[we.opposite.prop],le[(Le.opposite.isCenter?Ye.opposite:Le.opposite).prop]),_t=_t.filter(function(Tt){return Tt.type===tt.placement||tt.possiblePlacements.includes(Tt.type)}),_t}return tt.placement==="center"?new me([new Ee(le.center,le.center,Je,tt.layerDimensions,Ae)].concat(H(tt.preferY+"-"+tt.preferX)),tt,Je):new me(H(),tt,Je)};var ke=me.prototype;return ke.filterPlacementsBySide=function(Je){return this.placements.filter(function(tt){return tt.primary===Je})},ke.findFirstPlacementThatFits=function(){return this.placements.find(function(Je){return Je.fitsContainer})},ke.placementWithBiggestVisibleSurface=function(){var Je=this.placements.map(function(Ae){return{placement:Ae,surface:Ae.visibleSurface}}).sort(function(Ae,H){return H.surface-Ae.surface}),tt=Je[0].placement;return tt},ke.findSuitablePlacement=function(){return this.config.auto?this.findFirstPlacementThatFits()||this.placementWithBiggestVisibleSurface():this.placements[0]},ke.getSecondaryOffset=function(Je){var tt=this.config,Ae=tt.auto,H=tt.snap;if(!Ae||H||Je instanceof Ee)return 0;var Q=this.filterPlacementsBySide(Je.primary),pe=Q.indexOf(Je)===0;if(pe&&Je.fitsContainer)return 0;var we=Q.find(function(Tt){return!Tt.fitsContainer});if(!we)return 0;var Le=we.secondaryOffsetSide;if(!Le)return 0;var Ye=Je.getContainerOffsets(),dt=Je.secondary,st;Je.triggerIsBigger||we===Je?st=Le.isPush?-1:1:st=dt===le.left||[le.top,le.center].includes(dt)&&Le.isPush?-1:1;var _t=Ye[Le.prop];return _t*st},ke.getStyles=function(Je,tt,Ae,H){var Q={willChange:"top, left, width, height"},pe=ve(this.subjectsBounds.merge({layer:Je}),tt,this.config.arrowOffset),we=this.config.overflowContainer?c({},Q,{position:"fixed",top:Je.top,left:Je.left}):c({},Q,{position:"absolute",top:Je.top-this.subjectsBounds.parent.top+Ae.top-H.top,left:Je.left-this.subjectsBounds.parent.left+Ae.left-H.left});return{arrow:pe,layer:we}},ke.getHasDisappeared=function(Je){var tt=this.config.overflowContainer?this.subjectsBounds.trigger:Je,Ae=te.mergeSmallestSides(this.subjectsBounds.offsetsToScrollContainers(tt,!0)),H=Object.entries(Ae.negativeSides),Q=H.some(function(pe){var we=pe[0],Le=pe[1],Ye=ue[we];return Le<=-tt[Ye.sizeProp]});return Q?"full":Ae.allSidesArePositive?null:"partial"},ke.result=function(Je,tt){var Ae=this.findSuitablePlacement(),H=this.getSecondaryOffset(Ae),Q=Ae.getLayerBounds(H),pe=this.getStyles(Q,Ae,Je,tt),we=Ae.primary.prop;return{styles:pe,layerSide:we,placement:Ae,layerBounds:Q,hasDisappeared:this.getHasDisappeared(Q)}},me}(),Oe=function(){function me(je,Je){this.overflowContainer=void 0,this.trigger=void 0,this.layer=void 0,this.arrow=void 0,this.parent=void 0,this.window=void 0,this.scrollContainers=void 0,this.overflowContainer=Je,Object.assign(this,je)}me.create=function(Je,tt,Ae,H,Q,pe,we,Le){var Ye=ce.fromWindow(Je);return new me({layer:ce.fromElement(tt,{environment:Je,withTransform:!1}),trigger:Le?ce.create(ee(Le())):ce.fromElement(Ae),arrow:Q?ce.fromElement(Q):ce.empty(),parent:H?ce.fromElement(H):Ye,window:Ye,scrollContainers:[Ye].concat(pe.map(function(dt){return ce.fromElement(dt,{withScrollbars:!1})}))},we)};var ke=me.prototype;return ke.merge=function(Je){return new me(c({},this,Je),this.overflowContainer)},ke.offsetsToScrollContainers=function(Je,tt){tt===void 0&&(tt=!1);var Ae=this.overflowContainer&&!tt?[this.window]:this.scrollContainers;return Ae.map(function(H){return H.offsetsTo(Je)})},u(me,[{key:"layerOffsetsToScrollContainers",get:function(){return this.offsetsToScrollContainers(this.layer)}},{key:"triggerHasBiggerWidth",get:function(){return this.trigger.width>this.layer.width}},{key:"triggerHasBiggerHeight",get:function(){return this.trigger.height>this.layer.height}}]),me}(),ye=null;function ze(me){typeof document!="undefined"&&(typeof me=="function"?ye=me():typeof me=="string"?ye=document.getElementById(me):ye=me)}var Be={auto:!1,arrowOffset:0,containerOffset:10,triggerOffset:0,overflowContainer:!0,placement:"top-center",possiblePlacements:G,preferX:"right",preferY:"bottom",snap:!1,container:void 0,trigger:void 0};function We(me){var ke,je=me.isOpen,Je=je===void 0?!1:je,tt=me.overflowContainer,Ae=tt===void 0?Be.overflowContainer:tt,H=me.environment,Q=H===void 0?typeof window!="undefined"?window:void 0:H,pe=me.ResizeObserver,we=me.placement,Le=we===void 0?Be.placement:we,Ye=me.possiblePlacements,dt=Ye===void 0?Be.possiblePlacements:Ye,st=me.preferX,_t=st===void 0?Be.preferX:st,Tt=me.preferY,nn=Tt===void 0?Be.preferY:Tt,Mn=me.auto,tr=Mn===void 0?Be.auto:Mn,sr=me.snap,Rt=sr===void 0?Be.snap:sr,Mt=me.triggerOffset,$t=Mt===void 0?Be.triggerOffset:Mt,vn=me.containerOffset,An=vn===void 0?Be.containerOffset:vn,dr=me.arrowOffset,Pr=dr===void 0?Be.arrowOffset:dr,br=me.container,Or=br===void 0?Be.container:br,Lr=me.layerDimensions,Wr=Lr===void 0?null:Lr,Zr=me.onDisappear,yo=me.onOutsideClick,ho=me.onParentClose,$r=me.trigger,co=(0,o.useState)(function(){return{layerSide:Le==="center"?"center":De.getSidesFromPlacementType(Le)[0].prop,styles:{layer:{position:Ae?"fixed":"absolute",top:0,left:0},arrow:{position:"absolute",top:0,left:0}}}}),io=co[0],Tr=co[1],Hr=(0,o.useRef)(null),Po=d(io,Je),oo=(0,o.useRef)({cancelled:!1});(0,o.useEffect)(function(){return function(){oo.current.cancelled=!0}},[]);var Xr=(0,o.useCallback)(function(tn,rn,ln){var En=tn.arrow,Wn=tn.layer,kn=tn.scrollContainers,Un=tn.trigger,Zn=kn[0],or=Oe.create(Q,Wn,Un,Zn,En,kn,Ae,$r==null?void 0:$r.getBounds),yt={placement:Le,possiblePlacements:dt,auto:tr,layerDimensions:Wr,arrowOffset:Pr,containerOffset:An,triggerOffset:$t,preferX:_t,preferY:nn,snap:Rt,overflowContainer:Ae},Wt=De.create(or,yt).result(rn,ln),Zt=Wt.hasDisappeared,Xt=Wt.layerSide,Dn=Wt.styles,Cn={layerSide:Xt,styles:Dn};if(!Po.current||Ke(Po.current,Cn)){Po.current=Cn,oo.current.cancelled=!0;var On={cancelled:!1};oo.current=On,Promise.resolve().then(function(){On.cancelled||Tr(Cn)})}A(Zt)&&A(Zr)&&Zr(Zt)},[Pr,tr,An,Q,Wr,Zr,Ae,Le,dt,_t,nn,Rt,$t,Po,$r]),po=B({ResizeObserverPolyfill:pe,environment:Q,enabled:Je,overflowContainer:Ae,onChange:Xr,triggerOption:$r}),Oo=po.triggerRef,ri=po.layerRef,Jt=po.arrowRef,Tn=po.closestScrollContainer,xn=ne({isOpen:Je,onOutsideClick:yo,onParentClose:ho}),Xn=xn.closeOnOutsideClickRefs,xt=xn.registrations,Ft={triggerProps:$r?{}:{ref:x(Oo,Xn.trigger,Hr)},layerProps:{ref:x(ri,Xn.layer),style:io.styles.layer},arrowProps:{ref:Jt,style:io.styles.arrow,layerSide:io.layerSide},layerSide:io.layerSide,triggerBounds:Je?$r?$r.getBounds():(ke=Hr.current)==null?void 0:ke.getBoundingClientRect():null,renderLayer:function(tn){return typeof document!="undefined"?(0,o.createPortal)((0,o.createElement)(Z,{registrations:xt,children:tn}),Ae||!Tn?ct(Or):Tn):null}};return Ft}function Ke(me,ke){if(me.layerSide!==ke.layerSide)return!0;for(var je=["position","top","left","right","bottom"],Je=0,tt=je;Je<tt.length;Je++){var Ae=tt[Je];if(me.styles.layer[Ae]!==ke.styles.layer[Ae]||me.styles.arrow[Ae]!==ke.styles.arrow[Ae])return!0}return!1}var Xe="layers";function ct(me){var ke;if(typeof me=="function"){if(ke=me(),!ke||!(ke instanceof HTMLElement))throw new Error("react-laag: You've passed a function to the 'container' prop, but it returned no valid HTMLElement")}else if(me instanceof HTMLElement)ke=me;else if(typeof me=="string"){if(ke=document.getElementById(me),!ke)throw new Error("react-laag: You've passed element with id '"+me+"' to the 'container' prop, but it returned no valid HTMLElement")}else{if(ye instanceof HTMLElement)return ye;ke=document.getElementById(Xe),ke||(ke=document.createElement("div"),ke.id=Xe,ke.style.cssText=`
        position: absolute;
        top: 0px;
        left: 0px;
        right: 0px;
      `,document.body.appendChild(ke))}return ke}var Se=null,Qe="left",ge="top",Fe="bottom",Ne="right";function lt(me,ke){return Math.tan(me*(Math.PI/180))*ke}function Et(me,ke,je,Je){var tt,Ae=(tt={},tt[Fe]="0 "+-Je+" "+ke+" "+me,tt[ge]="0 0 "+ke+" "+(me+Je),tt[Ne]=-Je+" 0 "+me+" "+ke,tt[Qe]="0 0 "+(me+Je)+" "+ke,tt);return Ae[je.prop]}function jt(me,ke,je,Je,tt){var Ae,H,Q,pe=Je/10*me*2,we=(Ae={},Ae[Fe]=[0,me],Ae[ge]=[0,0],Ae[Ne]=[me,ke],Ae[Qe]=[0,ke],Ae)[je.prop].join(" "),Le=je.isHorizontal?"V 0":"H "+ke,Ye=ke/2,dt=ke/2+lt(tt,me/8),st=me/8,_t=(H={},H[Fe]=["C",dt,st,Ye+pe,0,Ye,0],H[ge]=["C",dt,me-st,Ye+pe,me,Ye,me],H[Ne]=["C",st,ke-dt,0,Ye-pe,0,Ye],H[Qe]=["C",me-st,ke-dt,me,Ye-pe,me,Ye],H)[je.prop].join(" "),Tt=ke/2-lt(tt,me/8),nn=me/8,Mn=(Q={},Q[Fe]=["C",Ye-pe,0,Tt,nn,we],Q[ge]=["C",Ye-pe,me,Tt,me-nn,we],Q[Ne]=["C",0,Ye+pe,nn,ke-Tt,we],Q[Qe]=["C",me,Ye+pe,me-nn,ke-Tt,we],Q)[je.prop].join(" ");return["M",we,Le,_t,Mn].join(" ")}function en(me,ke,je,Je,tt){var Ae=lt(tt,je),H=Je.isPush?[0,je]:[me,me-je],Q=H[0],pe=H[1];return Je.isHorizontal?["M",Q,je,"V",ke-je,"L",pe,ke-je-Ae,"V",Ae+je,"Z"].join(" "):["M",je,Q,"H",ke-je,"L",ke-je-Ae,pe,"H",Ae+je,"Z"].join(" ")}var vt=null,Re;(function(me){me[me.ENTERING=0]="ENTERING",me[me.LEAVING=1]="LEAVING",me[me.IDLE=2]="IDLE"})(Re||(Re={}));function He(me){var ke=me===void 0?{}:me,je=ke.delayEnter,Je=je===void 0?0:je,tt=ke.delayLeave,Ae=tt===void 0?0:tt,H=ke.hideOnScroll,Q=H===void 0?!0:H,pe=(0,o.useState)(!1),we=pe[0],Le=pe[1],Ye=(0,o.useRef)(null),dt=(0,o.useRef)(Re.IDLE),st=(0,o.useRef)(!1),_t=(0,o.useCallback)(function(){clearTimeout(Ye.current),Ye.current=null,dt.current=Re.IDLE},[]);function Tt(){dt.current===Re.LEAVING&&Ye.current&&_t(),!we&&(dt.current=Re.ENTERING,Ye.current=window.setTimeout(function(){Le(!0),Ye.current=null,dt.current=Re.IDLE},Je))}function nn(tr,sr){if(dt.current===Re.ENTERING&&Ye.current&&_t(),!!we){if(sr){Le(!1),Ye.current=null,dt.current=Re.IDLE;return}dt.current=Re.LEAVING,Ye.current=window.setTimeout(function(){Le(!1),Ye.current=null,dt.current=Re.IDLE},Ae)}}(0,o.useEffect)(function(){function tr(){we&&Q&&(_t(),Le(!1))}return window.addEventListener("scroll",tr,!0),function(){window.removeEventListener("scroll",tr,!0),Ye.current&&clearTimeout(Ye.current)}},[we,Q,_t]);var Mn={onMouseEnter:Tt,onMouseLeave:nn,onTouchStart:function(){st.current=!1},onTouchMove:function(){st.current=!0},onTouchEnd:function(){!st.current&&!we&&Le(!0),st.current=!1}};return[we,Mn,function(){return nn(null,!0)}]}function ot(me){var ke=me.isOpen,je=me.children,Je=useState({isOpenInternal:ke,isLeaving:!1}),tt=Je[0],Ae=Je[1],H=useRef(!1);return useEffect(function(){ke?Ae({isOpenInternal:!0,isLeaving:!1}):H.current&&Ae({isOpenInternal:!1,isLeaving:!0})},[ke,Ae]),useEffect(function(){},[je]),useEffect(function(){H.current=!0},[]),!ke&&!tt.isOpenInternal&&!tt.isLeaving?null:je(tt.isOpenInternal,function(){tt.isOpenInternal||Ae(function(Q){return c({},Q,{isLeaving:!1})})},tt.isLeaving)}},1852:function(z,l,e){(function(o,f){z.exports=f(e(98661))})(typeof self!="undefined"?self:this,function(o){return function(f){function u(_){if(c[_])return c[_].exports;var g=c[_]={i:_,l:!1,exports:{}};return f[_].call(g.exports,g,g.exports,u),g.l=!0,g.exports}var c={};return u.m=f,u.c=c,u.d=function(_,g,E){u.o(_,g)||Object.defineProperty(_,g,{configurable:!1,enumerable:!0,get:E})},u.n=function(_){var g=_&&_.__esModule?function(){return _.default}:function(){return _};return u.d(g,"a",g),g},u.o=function(_,g){return Object.prototype.hasOwnProperty.call(_,g)},u.p="",u(u.s=7)}([function(f,u,c){"use strict";function _(Y,ne){return T(Y)||y(Y,ne)||E(Y,ne)||g()}function g(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(Y,ne){if(Y){if(typeof Y=="string")return v(Y,ne);var G=Object.prototype.toString.call(Y).slice(8,-1);return G==="Object"&&Y.constructor&&(G=Y.constructor.name),G==="Map"||G==="Set"?Array.from(Y):G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G)?v(Y,ne):void 0}}function v(Y,ne){(ne==null||ne>Y.length)&&(ne=Y.length);for(var G=0,L=new Array(ne);G<ne;G++)L[G]=Y[G];return L}function y(Y,ne){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(Y)){var G=[],L=!0,W=!1,ie=void 0;try{for(var ue,le=Y[Symbol.iterator]();!(L=(ue=le.next()).done)&&(G.push(ue.value),!ne||G.length!==ne);L=!0);}catch(J){W=!0,ie=J}finally{try{L||le.return==null||le.return()}finally{if(W)throw ie}}return G}}function T(Y){if(Array.isArray(Y))return Y}var w=c(1),S=c.n(w),O=c(8),p=c.n(O),d=c(2),a=c(10),P=c.n(a),C=c(3),D=c(6),A=function(Y){return Y.query||Object(C.a)(Y)},x=function(Y){if(!Y)return null;var ne=Object.keys(Y);return ne.length===0?null:ne.reduce(function(G,L){return G[Object(d.a)(L)]=Y[L],G},{})},I=function(){var Y=S.a.useRef(!1);return S.a.useEffect(function(){Y.current=!0},[]),Y.current},N=function(Y){var ne=S.a.useContext(D.a),G=function(){return x(Y)||x(ne)},L=S.a.useState(G),W=_(L,2),ie=W[0],ue=W[1];return S.a.useEffect(function(){var le=G();P()(ie,le)||ue(le)},[Y,ne]),ie},F=function(Y){var ne=function(){return A(Y)},G=S.a.useState(ne),L=_(G,2),W=L[0],ie=L[1];return S.a.useEffect(function(){var ue=ne();W!==ue&&ie(ue)},[Y]),W},B=function(Y,ne){var G=function(){return p()(Y,ne||{},!!ne)},L=S.a.useState(G),W=_(L,2),ie=W[0],ue=W[1],le=I();return S.a.useEffect(function(){return le&&ue(G()),function(){ie.dispose()}},[Y,ne]),ie},V=function(Y){var ne=S.a.useState(Y.matches),G=_(ne,2),L=G[0],W=G[1];return S.a.useEffect(function(){var ie=function(){W(Y.matches)};return Y.addListener(ie),ie(),function(){Y.removeListener(ie)}},[Y]),L},Z=function(Y,ne,G){var L=N(ne),W=F(Y);if(!W)throw new Error("Invalid or missing MediaQuery!");var ie=B(W,L),ue=V(ie),le=I();return S.a.useEffect(function(){le&&G&&G(ue)},[ue]),ue};u.a=Z},function(f,u){f.exports=o},function(f,u,c){"use strict";function _(T){return"-"+T.toLowerCase()}function g(T){if(y.hasOwnProperty(T))return y[T];var w=T.replace(E,_);return y[T]=v.test(w)?"-"+w:w}var E=/[A-Z]/g,v=/^ms-/,y={};u.a=g},function(f,u,c){"use strict";var _=c(2),g=c(11),E=function(w){return"not ".concat(w)},v=function(w,S){var O=Object(_.a)(w);return typeof S=="number"&&(S="".concat(S,"px")),S===!0?O:S===!1?E(O):"(".concat(O,": ").concat(S,")")},y=function(w){return w.join(" and ")},T=function(w){var S=[];return Object.keys(g.a.all).forEach(function(O){var p=w[O];p!=null&&S.push(v(O,p))}),y(S)};u.a=T},function(f,u,c){"use strict";f.exports=c(13)},function(f,u,c){"use strict";f.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(f,u,c){"use strict";var _=c(1),g=c.n(_),E=g.a.createContext();u.a=E},function(f,u,c){"use strict";Object.defineProperty(u,"__esModule",{value:!0});var _=c(0),g=c(17),E=c(3),v=c(6);c.d(u,"default",function(){return g.a}),c.d(u,"useMediaQuery",function(){return _.a}),c.d(u,"toQuery",function(){return E.a}),c.d(u,"Context",function(){return v.a})},function(f,u,c){"use strict";function _(y,T,w){function S(C){P&&P.addListener(C)}function O(C){P&&P.removeListener(C)}function p(C){a.matches=C.matches,a.media=C.media}function d(){P&&P.removeListener(p)}var a=this;if(v&&!w){var P=v.call(window,y);this.matches=P.matches,this.media=P.media,P.addListener(p)}else this.matches=E(y,T),this.media=y;this.addListener=S,this.removeListener=O,this.dispose=d}function g(y,T,w){return new _(y,T,w)}var E=c(9).match,v=typeof window!="undefined"?window.matchMedia:null;f.exports=g},function(f,u,c){"use strict";function _(d,a){return g(d).some(function(P){var C=P.inverse,D=P.type==="all"||a.type===P.type;if(D&&C||!D&&!C)return!1;var A=P.expressions.every(function(x){var I=x.feature,N=x.modifier,F=x.value,B=a[I];if(!B)return!1;switch(I){case"orientation":case"scan":return B.toLowerCase()===F.toLowerCase();case"width":case"height":case"device-width":case"device-height":F=y(F),B=y(B);break;case"resolution":F=v(F),B=v(B);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":F=E(F),B=E(B);break;case"grid":case"color":case"color-index":case"monochrome":F=parseInt(F,10)||1,B=parseInt(B,10)||0}switch(N){case"min":return B>=F;case"max":return B<=F;default:return B===F}});return A&&!C||!A&&C})}function g(d){return d.split(",").map(function(a){a=a.trim();var P=a.match(T),C=P[1],D=P[2],A=P[3]||"",x={};return x.inverse=!!C&&C.toLowerCase()==="not",x.type=D?D.toLowerCase():"all",A=A.match(/\([^\)]+\)/g)||[],x.expressions=A.map(function(I){var N=I.match(w),F=N[1].toLowerCase().match(S);return{modifier:F[1],feature:F[2],value:N[2]}}),x})}function E(d){var a,P=Number(d);return P||(a=d.match(/^(\d+)\s*\/\s*(\d+)$/),P=a[1]/a[2]),P}function v(d){var a=parseFloat(d);switch(String(d).match(p)[1]){case"dpcm":return a/2.54;case"dppx":return 96*a;default:return a}}function y(d){var a=parseFloat(d);switch(String(d).match(O)[1]){case"em":case"rem":return 16*a;case"cm":return 96*a/2.54;case"mm":return 96*a/2.54/10;case"in":return 96*a;case"pt":return 72*a;case"pc":return 72*a/12;default:return a}}u.match=_,u.parse=g;var T=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,w=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,S=/^(?:(min|max)-)?(.+)/,O=/(em|rem|px|cm|mm|in|pt|pc)?$/,p=/(dpi|dpcm|dppx)?$/},function(f,u,c){"use strict";function _(g,E){if(g===E)return!0;if(!g||!E)return!1;var v=Object.keys(g),y=Object.keys(E),T=v.length;if(y.length!==T)return!1;for(var w=0;w<T;w++){var S=v[w];if(g[S]!==E[S]||!Object.prototype.hasOwnProperty.call(E,S))return!1}return!0}f.exports=_},function(f,u,c){"use strict";function _(d,a){var P=Object.keys(d);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(d);a&&(C=C.filter(function(D){return Object.getOwnPropertyDescriptor(d,D).enumerable})),P.push.apply(P,C)}return P}function g(d){for(var a=1;a<arguments.length;a++){var P=arguments[a]!=null?arguments[a]:{};a%2?_(Object(P),!0).forEach(function(C){E(d,C,P[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(P)):_(Object(P)).forEach(function(C){Object.defineProperty(d,C,Object.getOwnPropertyDescriptor(P,C))})}return d}function E(d,a,P){return a in d?Object.defineProperty(d,a,{value:P,enumerable:!0,configurable:!0,writable:!0}):d[a]=P,d}var v=c(12),y=c.n(v),T=y.a.oneOfType([y.a.string,y.a.number]),w={orientation:y.a.oneOf(["portrait","landscape"]),scan:y.a.oneOf(["progressive","interlace"]),aspectRatio:y.a.string,deviceAspectRatio:y.a.string,height:T,deviceHeight:T,width:T,deviceWidth:T,color:y.a.bool,colorIndex:y.a.bool,monochrome:y.a.bool,resolution:T},S=g({minAspectRatio:y.a.string,maxAspectRatio:y.a.string,minDeviceAspectRatio:y.a.string,maxDeviceAspectRatio:y.a.string,minHeight:T,maxHeight:T,minDeviceHeight:T,maxDeviceHeight:T,minWidth:T,maxWidth:T,minDeviceWidth:T,maxDeviceWidth:T,minColor:y.a.number,maxColor:y.a.number,minColorIndex:y.a.number,maxColorIndex:y.a.number,minMonochrome:y.a.number,maxMonochrome:y.a.number,minResolution:T,maxResolution:T},w),O={all:y.a.bool,grid:y.a.bool,aural:y.a.bool,braille:y.a.bool,handheld:y.a.bool,print:y.a.bool,projection:y.a.bool,screen:y.a.bool,tty:y.a.bool,tv:y.a.bool,embossed:y.a.bool},p=g(g({},O),S);w.type=Object.keys(O),u.a={all:p,types:O,matchers:w,features:S}},function(f,u,c){var _=c(4);f.exports=c(14)(_.isElement,!0)},function(f,u,c){"use strict";(function(){function _(Ke){return typeof Ke=="string"||typeof Ke=="function"||Ke===N||Ke===ne||Ke===B||Ke===F||Ke===L||Ke===W||typeof Ke=="object"&&Ke!==null&&(Ke.$$typeof===ue||Ke.$$typeof===ie||Ke.$$typeof===V||Ke.$$typeof===Z||Ke.$$typeof===G||Ke.$$typeof===J||Ke.$$typeof===te||Ke.$$typeof===se||Ke.$$typeof===le)}function g(Ke){if(typeof Ke=="object"&&Ke!==null){var Xe=Ke.$$typeof;switch(Xe){case x:var ct=Ke.type;switch(ct){case Y:case ne:case N:case B:case F:case L:return ct;default:var Se=ct&&ct.$$typeof;switch(Se){case Z:case G:case ue:case ie:case V:return Se;default:return Xe}}case I:return Xe}}}function E(Ke){return We||(We=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),v(Ke)||g(Ke)===Y}function v(Ke){return g(Ke)===ne}function y(Ke){return g(Ke)===Z}function T(Ke){return g(Ke)===V}function w(Ke){return typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===x}function S(Ke){return g(Ke)===G}function O(Ke){return g(Ke)===N}function p(Ke){return g(Ke)===ue}function d(Ke){return g(Ke)===ie}function a(Ke){return g(Ke)===I}function P(Ke){return g(Ke)===B}function C(Ke){return g(Ke)===F}function D(Ke){return g(Ke)===L}var A=typeof Symbol=="function"&&Symbol.for,x=A?Symbol.for("react.element"):60103,I=A?Symbol.for("react.portal"):60106,N=A?Symbol.for("react.fragment"):60107,F=A?Symbol.for("react.strict_mode"):60108,B=A?Symbol.for("react.profiler"):60114,V=A?Symbol.for("react.provider"):60109,Z=A?Symbol.for("react.context"):60110,Y=A?Symbol.for("react.async_mode"):60111,ne=A?Symbol.for("react.concurrent_mode"):60111,G=A?Symbol.for("react.forward_ref"):60112,L=A?Symbol.for("react.suspense"):60113,W=A?Symbol.for("react.suspense_list"):60120,ie=A?Symbol.for("react.memo"):60115,ue=A?Symbol.for("react.lazy"):60116,le=A?Symbol.for("react.block"):60121,J=A?Symbol.for("react.fundamental"):60117,te=A?Symbol.for("react.responder"):60118,se=A?Symbol.for("react.scope"):60119,ee=Y,ae=ne,ce=Z,fe=V,Ee=x,de=G,_e=N,ve=ue,De=ie,Oe=I,ye=B,ze=F,Be=L,We=!1;u.AsyncMode=ee,u.ConcurrentMode=ae,u.ContextConsumer=ce,u.ContextProvider=fe,u.Element=Ee,u.ForwardRef=de,u.Fragment=_e,u.Lazy=ve,u.Memo=De,u.Portal=Oe,u.Profiler=ye,u.StrictMode=ze,u.Suspense=Be,u.isAsyncMode=E,u.isConcurrentMode=v,u.isContextConsumer=y,u.isContextProvider=T,u.isElement=w,u.isForwardRef=S,u.isFragment=O,u.isLazy=p,u.isMemo=d,u.isPortal=a,u.isProfiler=P,u.isStrictMode=C,u.isSuspense=D,u.isValidElementType=_,u.typeOf=g})()},function(f,u,c){"use strict";function _(){return null}var g=c(4),E=c(15),v=c(5),y=c(16),T=Function.call.bind(Object.prototype.hasOwnProperty),w=function(){};w=function(S){var O="Warning: "+S;typeof console!="undefined"&&console.error(O);try{throw new Error(O)}catch(p){}},f.exports=function(S,O){function p(J){var te=J&&(W&&J[W]||J[ie]);if(typeof te=="function")return te}function d(J,te){return J===te?J!==0||1/J==1/te:J!==J&&te!==te}function a(J){this.message=J,this.stack=""}function P(J){function te(ce,fe,Ee,de,_e,ve,De){if(de=de||ue,ve=ve||Ee,De!==v){if(O){var Oe=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw Oe.name="Invariant Violation",Oe}if(typeof console!="undefined"){var ye=de+":"+Ee;!se[ye]&&ee<3&&(w("You are manually calling a React.PropTypes validation function for the `"+ve+"` prop on `"+de+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),se[ye]=!0,ee++)}}return fe[Ee]==null?ce?new a(fe[Ee]===null?"The "+_e+" `"+ve+"` is marked as required in `"+de+"`, but its value is `null`.":"The "+_e+" `"+ve+"` is marked as required in `"+de+"`, but its value is `undefined`."):null:J(fe,Ee,de,_e,ve)}var se={},ee=0,ae=te.bind(null,!1);return ae.isRequired=te.bind(null,!0),ae}function C(J){function te(se,ee,ae,ce,fe,Ee){var de=se[ee];return Y(de)!==J?new a("Invalid "+ce+" `"+fe+"` of type `"+ne(de)+"` supplied to `"+ae+"`, expected `"+J+"`."):null}return P(te)}function D(J){function te(se,ee,ae,ce,fe){if(typeof J!="function")return new a("Property `"+fe+"` of component `"+ae+"` has invalid PropType notation inside arrayOf.");var Ee=se[ee];if(!Array.isArray(Ee))return new a("Invalid "+ce+" `"+fe+"` of type `"+Y(Ee)+"` supplied to `"+ae+"`, expected an array.");for(var de=0;de<Ee.length;de++){var _e=J(Ee,de,ae,ce,fe+"["+de+"]",v);if(_e instanceof Error)return _e}return null}return P(te)}function A(J){function te(se,ee,ae,ce,fe){if(!(se[ee]instanceof J)){var Ee=J.name||ue;return new a("Invalid "+ce+" `"+fe+"` of type `"+L(se[ee])+"` supplied to `"+ae+"`, expected instance of `"+Ee+"`.")}return null}return P(te)}function x(J){function te(se,ee,ae,ce,fe){for(var Ee=se[ee],de=0;de<J.length;de++)if(d(Ee,J[de]))return null;var _e=JSON.stringify(J,function(ve,De){return ne(De)==="symbol"?String(De):De});return new a("Invalid "+ce+" `"+fe+"` of value `"+String(Ee)+"` supplied to `"+ae+"`, expected one of "+_e+".")}return Array.isArray(J)?P(te):(w(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),_)}function I(J){function te(se,ee,ae,ce,fe){if(typeof J!="function")return new a("Property `"+fe+"` of component `"+ae+"` has invalid PropType notation inside objectOf.");var Ee=se[ee],de=Y(Ee);if(de!=="object")return new a("Invalid "+ce+" `"+fe+"` of type `"+de+"` supplied to `"+ae+"`, expected an object.");for(var _e in Ee)if(T(Ee,_e)){var ve=J(Ee,_e,ae,ce,fe+"."+_e,v);if(ve instanceof Error)return ve}return null}return P(te)}function N(J){function te(ae,ce,fe,Ee,de){for(var _e=0;_e<J.length;_e++)if((0,J[_e])(ae,ce,fe,Ee,de,v)==null)return null;return new a("Invalid "+Ee+" `"+de+"` supplied to `"+fe+"`.")}if(!Array.isArray(J))return w("Invalid argument supplied to oneOfType, expected an instance of array."),_;for(var se=0;se<J.length;se++){var ee=J[se];if(typeof ee!="function")return w("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+G(ee)+" at index "+se+"."),_}return P(te)}function F(J){function te(se,ee,ae,ce,fe){var Ee=se[ee],de=Y(Ee);if(de!=="object")return new a("Invalid "+ce+" `"+fe+"` of type `"+de+"` supplied to `"+ae+"`, expected `object`.");for(var _e in J){var ve=J[_e];if(ve){var De=ve(Ee,_e,ae,ce,fe+"."+_e,v);if(De)return De}}return null}return P(te)}function B(J){function te(se,ee,ae,ce,fe){var Ee=se[ee],de=Y(Ee);if(de!=="object")return new a("Invalid "+ce+" `"+fe+"` of type `"+de+"` supplied to `"+ae+"`, expected `object`.");var _e=E({},se[ee],J);for(var ve in _e){var De=J[ve];if(!De)return new a("Invalid "+ce+" `"+fe+"` key `"+ve+"` supplied to `"+ae+"`.\nBad object: "+JSON.stringify(se[ee],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(J),null,"  "));var Oe=De(Ee,ve,ae,ce,fe+"."+ve,v);if(Oe)return Oe}return null}return P(te)}function V(J){switch(typeof J){case"number":case"string":case"undefined":return!0;case"boolean":return!J;case"object":if(Array.isArray(J))return J.every(V);if(J===null||S(J))return!0;var te=p(J);if(!te)return!1;var se,ee=te.call(J);if(te!==J.entries){for(;!(se=ee.next()).done;)if(!V(se.value))return!1}else for(;!(se=ee.next()).done;){var ae=se.value;if(ae&&!V(ae[1]))return!1}return!0;default:return!1}}function Z(J,te){return J==="symbol"||!!te&&(te["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&te instanceof Symbol)}function Y(J){var te=typeof J;return Array.isArray(J)?"array":J instanceof RegExp?"object":Z(te,J)?"symbol":te}function ne(J){if(J==null)return""+J;var te=Y(J);if(te==="object"){if(J instanceof Date)return"date";if(J instanceof RegExp)return"regexp"}return te}function G(J){var te=ne(J);switch(te){case"array":case"object":return"an "+te;case"boolean":case"date":case"regexp":return"a "+te;default:return te}}function L(J){return J.constructor&&J.constructor.name?J.constructor.name:ue}var W=typeof Symbol=="function"&&Symbol.iterator,ie="@@iterator",ue="<<anonymous>>",le={array:C("array"),bool:C("boolean"),func:C("function"),number:C("number"),object:C("object"),string:C("string"),symbol:C("symbol"),any:function(){return P(_)}(),arrayOf:D,element:function(){function J(te,se,ee,ae,ce){var fe=te[se];return S(fe)?null:new a("Invalid "+ae+" `"+ce+"` of type `"+Y(fe)+"` supplied to `"+ee+"`, expected a single ReactElement.")}return P(J)}(),elementType:function(){function J(te,se,ee,ae,ce){var fe=te[se];return g.isValidElementType(fe)?null:new a("Invalid "+ae+" `"+ce+"` of type `"+Y(fe)+"` supplied to `"+ee+"`, expected a single ReactElement type.")}return P(J)}(),instanceOf:A,node:function(){function J(te,se,ee,ae,ce){return V(te[se])?null:new a("Invalid "+ae+" `"+ce+"` supplied to `"+ee+"`, expected a ReactNode.")}return P(J)}(),objectOf:I,oneOf:x,oneOfType:N,shape:F,exact:B};return a.prototype=Error.prototype,le.checkPropTypes=y,le.resetWarningCache=y.resetWarningCache,le.PropTypes=le,le}},function(f,u,c){"use strict";function _(y){if(y==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(y)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var g=Object.getOwnPropertySymbols,E=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;f.exports=function(){try{if(!Object.assign)return!1;var y=new String("abc");if(y[5]="de",Object.getOwnPropertyNames(y)[0]==="5")return!1;for(var T={},w=0;w<10;w++)T["_"+String.fromCharCode(w)]=w;if(Object.getOwnPropertyNames(T).map(function(O){return T[O]}).join("")!=="0123456789")return!1;var S={};return"abcdefghijklmnopqrst".split("").forEach(function(O){S[O]=O}),Object.keys(Object.assign({},S)).join("")==="abcdefghijklmnopqrst"}catch(O){return!1}}()?Object.assign:function(y,T){for(var w,S,O=_(y),p=1;p<arguments.length;p++){w=Object(arguments[p]);for(var d in w)E.call(w,d)&&(O[d]=w[d]);if(g){S=g(w);for(var a=0;a<S.length;a++)v.call(w,S[a])&&(O[S[a]]=w[S[a]])}}return O}},function(f,u,c){"use strict";function _(T,w,S,O,p){for(var d in T)if(y(T,d)){var a;try{if(typeof T[d]!="function"){var P=Error((O||"React class")+": "+S+" type `"+d+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof T[d]+"`.");throw P.name="Invariant Violation",P}a=T[d](w,d,O,S,null,E)}catch(D){a=D}if(!a||a instanceof Error||g((O||"React class")+": type specification of "+S+" `"+d+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof a+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),a instanceof Error&&!(a.message in v)){v[a.message]=!0;var C=p?p():"";g("Failed "+S+" type: "+a.message+(C!=null?C:""))}}}var g=function(){},E=c(5),v={},y=Function.call.bind(Object.prototype.hasOwnProperty);g=function(T){var w="Warning: "+T;typeof console!="undefined"&&console.error(w);try{throw new Error(w)}catch(S){}},_.resetWarningCache=function(){v={}},f.exports=_},function(f,u,c){"use strict";function _(y,T){if(y==null)return{};var w,S,O=g(y,T);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(y);for(S=0;S<p.length;S++)w=p[S],T.indexOf(w)>=0||Object.prototype.propertyIsEnumerable.call(y,w)&&(O[w]=y[w])}return O}function g(y,T){if(y==null)return{};var w,S,O={},p=Object.keys(y);for(S=0;S<p.length;S++)w=p[S],T.indexOf(w)>=0||(O[w]=y[w]);return O}function E(y){var T=y.children,w=y.device,S=y.onChange,O=_(y,["children","device","onChange"]),p=Object(v.a)(O,w,S);return typeof T=="function"?T(p):p?T:null}u.a=E;var v=c(0)}])})},91036:(z,l,e)=>{const o=e(35106),f=e(22997),{klona:u}=e(23059),{isPlainObject:c}=e(10977),_=e(9996),g=e(79430),{parse:E}=e(50020),v=e(8575),y=["img","audio","video","picture","svg","object","map","iframe","embed"],T=["script","style"];function w(D,A){D&&Object.keys(D).forEach(function(x){A(D[x],x)})}function S(D,A){return{}.hasOwnProperty.call(D,A)}function O(D,A){const x=[];return w(D,function(I){A(I)&&x.push(I)}),x}function p(D){for(const A in D)if(S(D,A))return!1;return!0}function d(D){return D.map(function(A){if(!A.url)throw new Error("URL missing");return A.url+(A.w?` ${A.w}w`:"")+(A.h?` ${A.h}h`:"")+(A.d?` ${A.d}x`:"")}).join(", ")}z.exports=P;const a=/^[^\0\t\n\f\r /<=>]+$/;function P(D,A,x){let I="",N="";function F(ve,De){const Oe=this;this.tag=ve,this.attribs=De||{},this.tagPosition=I.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){if(W.length){const ye=W[W.length-1];ye.text+=Oe.text}},this.updateParentNodeMediaChildren=function(){W.length&&y.includes(this.tag)&&W[W.length-1].mediaChildren.push(this.tag)}}A?(A=Object.assign({},P.defaults,A),A.parser?A.parser=Object.assign({},C,A.parser):A.parser=C):(A=P.defaults,A.parser=C),T.forEach(function(ve){A.allowedTags&&A.allowedTags.indexOf(ve)>-1&&!A.allowVulnerableTags&&console.warn(`

\u26A0\uFE0F Your \`allowedTags\` option includes, \`${ve}\`, which is inherently
vulnerable to XSS attacks. Please remove it from \`allowedTags\`.
Or, to disable this warning, add the \`allowVulnerableTags\` option
and ensure you are accounting for this risk.

`)});const B=A.nonTextTags||["script","style","textarea","option"];let V,Z;A.allowedAttributes&&(V={},Z={},w(A.allowedAttributes,function(ve,De){V[De]=[];const Oe=[];ve.forEach(function(ye){typeof ye=="string"&&ye.indexOf("*")>=0?Oe.push(f(ye).replace(/\\\*/g,".*")):V[De].push(ye)}),Z[De]=new RegExp("^("+Oe.join("|")+")$")}));const Y={};w(A.allowedClasses,function(ve,De){V&&(S(V,De)||(V[De]=[]),V[De].push("class")),Y[De]=ve});const ne={};let G;w(A.transformTags,function(ve,De){let Oe;typeof ve=="function"?Oe=ve:typeof ve=="string"&&(Oe=P.simpleTransform(ve)),De==="*"?G=Oe:ne[De]=Oe});let L,W,ie,ue,le,J,te=!1;ee();const se=new o.Parser({onopentag:function(ve,De){if(A.enforceHtmlBoundary&&ve==="html"&&ee(),le){J++;return}const Oe=new F(ve,De);W.push(Oe);let ye=!1;const ze=!!Oe.text;let Be;if(S(ne,ve)&&(Be=ne[ve](ve,De),Oe.attribs=De=Be.attribs,Be.text!==void 0&&(Oe.innerText=Be.text),ve!==Be.tagName&&(Oe.name=ve=Be.tagName,ue[L]=Be.tagName)),G&&(Be=G(ve,De),Oe.attribs=De=Be.attribs,ve!==Be.tagName&&(Oe.name=ve=Be.tagName,ue[L]=Be.tagName)),(A.allowedTags&&A.allowedTags.indexOf(ve)===-1||A.disallowedTagsMode==="recursiveEscape"&&!p(ie)||A.nestingLimit!=null&&L>=A.nestingLimit)&&(ye=!0,ie[L]=!0,A.disallowedTagsMode==="discard"&&B.indexOf(ve)!==-1&&(le=!0,J=1),ie[L]=!0),L++,ye){if(A.disallowedTagsMode==="discard")return;N=I,I=""}I+="<"+ve,(!V||S(V,ve)||V["*"])&&w(De,function(We,Ke){if(!a.test(Ke)){delete Oe.attribs[Ke];return}let Xe,ct=!1;if(!V||S(V,ve)&&V[ve].indexOf(Ke)!==-1||V["*"]&&V["*"].indexOf(Ke)!==-1||S(Z,ve)&&Z[ve].test(Ke)||Z["*"]&&Z["*"].test(Ke))ct=!0;else if(V&&V[ve]){for(const Se of V[ve])if(c(Se)&&Se.name&&Se.name===Ke){ct=!0;let Qe="";if(Se.multiple===!0){const ge=We.split(" ");for(const Fe of ge)Se.values.indexOf(Fe)!==-1&&(Qe===""?Qe=Fe:Qe+=" "+Fe)}else Se.values.indexOf(We)>=0&&(Qe=We);We=Qe}}if(ct){if(A.allowedSchemesAppliedToAttributes.indexOf(Ke)!==-1&&ce(ve,We)){delete Oe.attribs[Ke];return}if(ve==="iframe"&&Ke==="src"){let Se=!0;try{if(Xe=v.parse(We,!1,!0),Xe&&Xe.host===null&&Xe.protocol===null)Se=S(A,"allowIframeRelativeUrls")?A.allowIframeRelativeUrls:!A.allowedIframeHostnames&&!A.allowedIframeDomains;else if(A.allowedIframeHostnames||A.allowedIframeDomains){const ge=(A.allowedIframeHostnames||[]).find(function(Ne){return Ne===Xe.hostname}),Fe=(A.allowedIframeDomains||[]).find(function(Ne){return Xe.hostname===Ne||Xe.hostname.endsWith(`.${Ne}`)});Se=ge||Fe}}catch(Qe){Se=!1}if(!Se){delete Oe.attribs[Ke];return}}if(Ke==="srcset")try{if(Xe=g(We),Xe.forEach(function(Se){ce("srcset",Se.url)&&(Se.evil=!0)}),Xe=O(Xe,function(Se){return!Se.evil}),Xe.length)We=d(O(Xe,function(Se){return!Se.evil})),Oe.attribs[Ke]=We;else{delete Oe.attribs[Ke];return}}catch(Se){delete Oe.attribs[Ke];return}if(Ke==="class"){const Se=Y[ve],Qe=Y["*"];if(Se&&Qe?We=_e(We,_(Se,Qe)):We=_e(We,Se||Qe),!We.length){delete Oe.attribs[Ke];return}}if(Ke==="style")try{const Se=E(ve+" {"+We+"}"),Qe=fe(Se,A.allowedStyles);if(We=Ee(Qe),We.length===0){delete Oe.attribs[Ke];return}}catch(Se){delete Oe.attribs[Ke];return}I+=" "+Ke,We&&We.length&&(I+='="'+ae(We,!0)+'"')}else delete Oe.attribs[Ke]}),A.selfClosing.indexOf(ve)!==-1?I+=" />":(I+=">",Oe.innerText&&!ze&&!A.textFilter&&(I+=ae(Oe.innerText),te=!0)),ye&&(I=N+ae(I),N="")},ontext:function(ve){if(le)return;const De=W[W.length-1];let Oe;if(De&&(Oe=De.tag,ve=De.innerText!==void 0?De.innerText:ve),A.disallowedTagsMode==="discard"&&(Oe==="script"||Oe==="style"))I+=ve;else{const ye=ae(ve,!1);A.textFilter&&!te?I+=A.textFilter(ye,Oe):te||(I+=ye)}if(W.length){const ye=W[W.length-1];ye.text+=ve}},onclosetag:function(ve){if(le)if(J--,!J)le=!1;else return;const De=W.pop();if(!De)return;le=A.enforceHtmlBoundary?ve==="html":!1,L--;const Oe=ie[L];if(Oe){if(delete ie[L],A.disallowedTagsMode==="discard"){De.updateParentNodeText();return}N=I,I=""}if(ue[L]&&(ve=ue[L],delete ue[L]),A.exclusiveFilter&&A.exclusiveFilter(De)){I=I.substr(0,De.tagPosition);return}if(De.updateParentNodeMediaChildren(),De.updateParentNodeText(),A.selfClosing.indexOf(ve)!==-1){Oe&&(I=N,N="");return}I+="</"+ve+">",Oe&&(I=N+ae(I),N="")}},A.parser);return se.write(D),se.end(),I;function ee(){I="",L=0,W=[],ie={},ue={},le=!1,J=0}function ae(ve,De){return typeof ve!="string"&&(ve=ve+""),A.parser.decodeEntities&&(ve=ve.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),De&&(ve=ve.replace(/"/g,"&quot;"))),ve=ve.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),De&&(ve=ve.replace(/"/g,"&quot;")),ve}function ce(ve,De){De=De.replace(/[\x00-\x20]+/g,""),De=De.replace(/<!--.*?-->/g,"");const Oe=De.match(/^([a-zA-Z]+):/);if(!Oe)return De.match(/^[/\\]{2}/)?!A.allowProtocolRelative:!1;const ye=Oe[1].toLowerCase();return S(A.allowedSchemesByTag,ve)?A.allowedSchemesByTag[ve].indexOf(ye)===-1:!A.allowedSchemes||A.allowedSchemes.indexOf(ye)===-1}function fe(ve,De){if(!De)return ve;const Oe=u(ve),ye=ve.nodes[0];let ze;return De[ye.selector]&&De["*"]?ze=_(De[ye.selector],De["*"]):ze=De[ye.selector]||De["*"],ze&&(Oe.nodes[0].nodes=ye.nodes.reduce(de(ze),[])),Oe}function Ee(ve){return ve.nodes[0].nodes.reduce(function(De,Oe){return De.push(Oe.prop+":"+Oe.value),De},[]).join(";")}function de(ve){return function(De,Oe){return S(ve,Oe.prop)&&ve[Oe.prop].some(function(ze){return ze.test(Oe.value)})&&De.push(Oe),De}}function _e(ve,De){return De?(ve=ve.split(/\s+/),ve.filter(function(Oe){return De.indexOf(Oe)!==-1}).join(" ")):ve}}const C={decodeEntities:!0};P.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1},P.simpleTransform=function(D,A,x){return x=x===void 0?!0:x,A=A||{},function(I,N){let F;if(x)for(F in A)N[F]=A[F];else N=A;return{tagName:D,attribs:N}}}},22997:z=>{"use strict";z.exports=l=>{if(typeof l!="string")throw new TypeError("Expected a string");return l.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},16691:function(z,l,e){"use strict";var o=this&&this.__extends||function(){var _=function(g,E){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,y){v.__proto__=y}||function(v,y){for(var T in y)y.hasOwnProperty(T)&&(v[T]=y[T])},_(g,E)};return function(g,E){_(g,E);function v(){this.constructor=g}g.prototype=E===null?Object.create(E):(v.prototype=E.prototype,new v)}}(),f=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(l,"__esModule",{value:!0});var u=f(e(90819)),c=function(_){o(g,_);function g(E){E===void 0&&(E={});var v=_.call(this,function(y){for(var T,w=[],S=1;S<arguments.length;S++)w[S-1]=arguments[S];v.events.push([y].concat(w)),v._cbs[y]&&(T=v._cbs)[y].apply(T,w)})||this;return v._cbs=E,v.events=[],v}return g.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},g.prototype.restart=function(){var E;this._cbs.onreset&&this._cbs.onreset();for(var v=0;v<this.events.length;v++){var y=this.events[v],T=y[0],w=y.slice(1);this._cbs[T]&&(E=this._cbs)[T].apply(E,w)}},g}(u.default);l.CollectingHandler=c},57613:function(z,l,e){"use strict";var o=this&&this.__extends||function(){var a=function(P,C){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,A){D.__proto__=A}||function(D,A){for(var x in A)A.hasOwnProperty(x)&&(D[x]=A[x])},a(P,C)};return function(P,C){a(P,C);function D(){this.constructor=P}P.prototype=C===null?Object.create(C):(D.prototype=C.prototype,new D)}}(),f=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}},u=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var P={};if(a!=null)for(var C in a)Object.hasOwnProperty.call(a,C)&&(P[C]=a[C]);return P.default=a,P};Object.defineProperty(l,"__esModule",{value:!0});var c=f(e(47915)),_=u(e(89432)),g=e(16666),E=function(a){o(P,a);function P(C,D){var A=this;return typeof C=="object"&&C!==null&&(C=void 0,D=C),A=a.call(this,C,D)||this,A}return P.prototype.onend=function(){var C={},D=y(O,this.dom);if(D)if(D.name==="feed"){var A=D.children;C.type="atom",S(C,"id","id",A),S(C,"title","title",A);var x=w("href",y("link",A));x&&(C.link=x),S(C,"description","subtitle",A);var I=T("updated",A);I&&(C.updated=new Date(I)),S(C,"author","email",A,!0),C.items=v("entry",A).map(function(N){var F={},B=N.children;S(F,"id","id",B),S(F,"title","title",B);var V=w("href",y("link",B));V&&(F.link=V);var Z=T("summary",B)||T("content",B);Z&&(F.description=Z);var Y=T("updated",B);return Y&&(F.pubDate=new Date(Y)),F})}else{var A=y("channel",D.children).children;C.type=D.name.substr(0,3),C.id="",S(C,"title","title",A),S(C,"link","link",A),S(C,"description","description",A);var I=T("lastBuildDate",A);I&&(C.updated=new Date(I)),S(C,"author","managingEditor",A,!0),C.items=v("item",D.children).map(function(B){var V={},Z=B.children;S(V,"id","guid",Z),S(V,"title","title",Z),S(V,"link","link",Z),S(V,"description","description",Z);var Y=T("pubDate",Z);return Y&&(V.pubDate=new Date(Y)),V})}this.feed=C,this.handleCallback(D?null:Error("couldn't find root of feed"))},P}(c.default);l.FeedHandler=E;function v(a,P){return _.getElementsByTagName(a,P,!0)}function y(a,P){return _.getElementsByTagName(a,P,!0,1)[0]}function T(a,P,C){return C===void 0&&(C=!1),_.getText(_.getElementsByTagName(a,P,C,1)).trim()}function w(a,P){if(!P)return null;var C=P.attribs;return C[a]}function S(a,P,C,D,A){A===void 0&&(A=!1);var x=T(C,D,A);x&&(a[P]=x)}function O(a){return a==="rss"||a==="feed"||a==="rdf:RDF"}var p={xmlMode:!0};function d(a,P){P===void 0&&(P=p);var C=new E(P);return new g.Parser(C,P).end(a),C.feed}l.parseFeed=d},90819:(z,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});var e=function(){function o(f){this._func=f}return o.prototype.onattribute=function(f,u){this._func("onattribute",f,u)},o.prototype.oncdatastart=function(){this._func("oncdatastart")},o.prototype.oncdataend=function(){this._func("oncdataend")},o.prototype.ontext=function(f){this._func("ontext",f)},o.prototype.onprocessinginstruction=function(f,u){this._func("onprocessinginstruction",f,u)},o.prototype.oncomment=function(f){this._func("oncomment",f)},o.prototype.oncommentend=function(){this._func("oncommentend")},o.prototype.onclosetag=function(f){this._func("onclosetag",f)},o.prototype.onopentag=function(f,u){this._func("onopentag",f,u)},o.prototype.onopentagname=function(f){this._func("onopentagname",f)},o.prototype.onerror=function(f){this._func("onerror",f)},o.prototype.onend=function(){this._func("onend")},o.prototype.onparserinit=function(f){this._func("onparserinit",f)},o.prototype.onreset=function(){this._func("onreset")},o}();l.default=e},16666:function(z,l,e){"use strict";var o=this&&this.__extends||function(){var O=function(p,d){return O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,P){a.__proto__=P}||function(a,P){for(var C in P)P.hasOwnProperty(C)&&(a[C]=P[C])},O(p,d)};return function(p,d){O(p,d);function a(){this.constructor=p}p.prototype=d===null?Object.create(d):(a.prototype=d.prototype,new a)}}(),f=this&&this.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(l,"__esModule",{value:!0});var u=f(e(10034)),c=e(17187),_=new Set(["input","option","optgroup","select","button","datalist","textarea"]),g=new Set(["p"]),E={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:g,h1:g,h2:g,h3:g,h4:g,h5:g,h6:g,select:_,input:_,output:_,button:_,datalist:_,textarea:_,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:g,article:g,aside:g,blockquote:g,details:g,div:g,dl:g,fieldset:g,figcaption:g,figure:g,footer:g,form:g,header:g,hr:g,main:g,nav:g,ol:g,pre:g,section:g,table:g,ul:g,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},v=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),y=new Set(["math","svg"]),T=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),w=/\s|\//,S=function(O){o(p,O);function p(d,a){var P=O.call(this)||this;return P._tagname="",P._attribname="",P._attribvalue="",P._attribs=null,P._stack=[],P._foreignContext=[],P.startIndex=0,P.endIndex=null,P.parseChunk=p.prototype.write,P.done=p.prototype.end,P._options=a||{},P._cbs=d||{},P._tagname="",P._attribname="",P._attribvalue="",P._attribs=null,P._stack=[],P._foreignContext=[],P.startIndex=0,P.endIndex=null,P._lowerCaseTagNames="lowerCaseTags"in P._options?!!P._options.lowerCaseTags:!P._options.xmlMode,P._lowerCaseAttributeNames="lowerCaseAttributeNames"in P._options?!!P._options.lowerCaseAttributeNames:!P._options.xmlMode,P._tokenizer=new(P._options.Tokenizer||u.default)(P._options,P),P._cbs.onparserinit&&P._cbs.onparserinit(P),P}return p.prototype._updatePosition=function(d){this.endIndex===null?this._tokenizer._sectionStart<=d?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-d:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},p.prototype.ontext=function(d){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(d)},p.prototype.onopentagname=function(d){if(this._lowerCaseTagNames&&(d=d.toLowerCase()),this._tagname=d,!this._options.xmlMode&&Object.prototype.hasOwnProperty.call(E,d))for(var a=void 0;E[d].has(a=this._stack[this._stack.length-1]);this.onclosetag(a));(this._options.xmlMode||!v.has(d))&&(this._stack.push(d),y.has(d)?this._foreignContext.push(!0):T.has(d)&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(d),this._cbs.onopentag&&(this._attribs={})},p.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&v.has(this._tagname)&&this._cbs.onclosetag(this._tagname),this._tagname=""},p.prototype.onclosetag=function(d){if(this._updatePosition(1),this._lowerCaseTagNames&&(d=d.toLowerCase()),(y.has(d)||T.has(d))&&this._foreignContext.pop(),this._stack.length&&(this._options.xmlMode||!v.has(d))){var a=this._stack.lastIndexOf(d);if(a!==-1)if(this._cbs.onclosetag)for(a=this._stack.length-a;a--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=a;else d==="p"&&!this._options.xmlMode&&(this.onopentagname(d),this._closeCurrentTag())}else!this._options.xmlMode&&(d==="br"||d==="p")&&(this.onopentagname(d),this._closeCurrentTag())},p.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},p.prototype._closeCurrentTag=function(){var d=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===d&&(this._cbs.onclosetag&&this._cbs.onclosetag(d),this._stack.pop())},p.prototype.onattribname=function(d){this._lowerCaseAttributeNames&&(d=d.toLowerCase()),this._attribname=d},p.prototype.onattribdata=function(d){this._attribvalue+=d},p.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},p.prototype._getInstructionName=function(d){var a=d.search(w),P=a<0?d:d.substr(0,a);return this._lowerCaseTagNames&&(P=P.toLowerCase()),P},p.prototype.ondeclaration=function(d){if(this._cbs.onprocessinginstruction){var a=this._getInstructionName(d);this._cbs.onprocessinginstruction("!"+a,"!"+d)}},p.prototype.onprocessinginstruction=function(d){if(this._cbs.onprocessinginstruction){var a=this._getInstructionName(d);this._cbs.onprocessinginstruction("?"+a,"?"+d)}},p.prototype.oncomment=function(d){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(d),this._cbs.oncommentend&&this._cbs.oncommentend()},p.prototype.oncdata=function(d){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(d),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+d+"]]")},p.prototype.onerror=function(d){this._cbs.onerror&&this._cbs.onerror(d)},p.prototype.onend=function(){if(this._cbs.onclosetag)for(var d=this._stack.length;d>0;this._cbs.onclosetag(this._stack[--d]));this._cbs.onend&&this._cbs.onend()},p.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},p.prototype.parseComplete=function(d){this.reset(),this.end(d)},p.prototype.write=function(d){this._tokenizer.write(d)},p.prototype.end=function(d){this._tokenizer.end(d)},p.prototype.pause=function(){this._tokenizer.pause()},p.prototype.resume=function(){this._tokenizer.resume()},p}(c.EventEmitter);l.Parser=S},10034:function(z,l,e){"use strict";var o=this&&this.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(l,"__esModule",{value:!0});var f=o(e(26)),u=o(e(59323)),c=o(e(29591)),_=o(e(2586));function g(L){return L===" "||L===`
`||L==="	"||L==="\f"||L==="\r"}function E(L,W,ie){var ue=L.toLowerCase();return L===ue?function(le,J){J===ue?le._state=W:(le._state=ie,le._index--)}:function(le,J){J===ue||J===L?le._state=W:(le._state=ie,le._index--)}}function v(L,W){var ie=L.toLowerCase();return function(ue,le){le===ie||le===L?ue._state=W:(ue._state=3,ue._index--)}}var y=E("C",23,16),T=E("D",24,16),w=E("A",25,16),S=E("T",26,16),O=E("A",27,16),p=v("R",34),d=v("I",35),a=v("P",36),P=v("T",37),C=E("R",39,1),D=E("I",40,1),A=E("P",41,1),x=E("T",42,1),I=v("Y",44),N=v("L",45),F=v("E",46),B=E("Y",48,1),V=E("L",49,1),Z=E("E",50,1),Y=E("#",52,53),ne=E("X",55,54),G=function(){function L(W,ie){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1,this._cbs=ie,this._xmlMode=!!(W&&W.xmlMode),this._decodeEntities=!!(W&&W.decodeEntities)}return L.prototype.reset=function(){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1},L.prototype._stateText=function(W){W==="<"?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=2,this._sectionStart=this._index):this._decodeEntities&&this._special===1&&W==="&"&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=1,this._state=51,this._sectionStart=this._index)},L.prototype._stateBeforeTagName=function(W){W==="/"?this._state=5:W==="<"?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):W===">"||this._special!==1||g(W)?this._state=1:W==="!"?(this._state=15,this._sectionStart=this._index+1):W==="?"?(this._state=17,this._sectionStart=this._index+1):(this._state=!this._xmlMode&&(W==="s"||W==="S")?31:3,this._sectionStart=this._index)},L.prototype._stateInTagName=function(W){(W==="/"||W===">"||g(W))&&(this._emitToken("onopentagname"),this._state=8,this._index--)},L.prototype._stateBeforeClosingTagName=function(W){g(W)||(W===">"?this._state=1:this._special!==1?W==="s"||W==="S"?this._state=32:(this._state=1,this._index--):(this._state=6,this._sectionStart=this._index))},L.prototype._stateInClosingTagName=function(W){(W===">"||g(W))&&(this._emitToken("onclosetag"),this._state=7,this._index--)},L.prototype._stateAfterClosingTagName=function(W){W===">"&&(this._state=1,this._sectionStart=this._index+1)},L.prototype._stateBeforeAttributeName=function(W){W===">"?(this._cbs.onopentagend(),this._state=1,this._sectionStart=this._index+1):W==="/"?this._state=4:g(W)||(this._state=9,this._sectionStart=this._index)},L.prototype._stateInSelfClosingTag=function(W){W===">"?(this._cbs.onselfclosingtag(),this._state=1,this._sectionStart=this._index+1):g(W)||(this._state=8,this._index--)},L.prototype._stateInAttributeName=function(W){(W==="="||W==="/"||W===">"||g(W))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=10,this._index--)},L.prototype._stateAfterAttributeName=function(W){W==="="?this._state=11:W==="/"||W===">"?(this._cbs.onattribend(),this._state=8,this._index--):g(W)||(this._cbs.onattribend(),this._state=9,this._sectionStart=this._index)},L.prototype._stateBeforeAttributeValue=function(W){W==='"'?(this._state=12,this._sectionStart=this._index+1):W==="'"?(this._state=13,this._sectionStart=this._index+1):g(W)||(this._state=14,this._sectionStart=this._index,this._index--)},L.prototype._stateInAttributeValueDoubleQuotes=function(W){W==='"'?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&W==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},L.prototype._stateInAttributeValueSingleQuotes=function(W){W==="'"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&W==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},L.prototype._stateInAttributeValueNoQuotes=function(W){g(W)||W===">"?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8,this._index--):this._decodeEntities&&W==="&"&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},L.prototype._stateBeforeDeclaration=function(W){this._state=W==="["?22:W==="-"?18:16},L.prototype._stateInDeclaration=function(W){W===">"&&(this._cbs.ondeclaration(this._getSection()),this._state=1,this._sectionStart=this._index+1)},L.prototype._stateInProcessingInstruction=function(W){W===">"&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=1,this._sectionStart=this._index+1)},L.prototype._stateBeforeComment=function(W){W==="-"?(this._state=19,this._sectionStart=this._index+1):this._state=16},L.prototype._stateInComment=function(W){W==="-"&&(this._state=20)},L.prototype._stateAfterComment1=function(W){W==="-"?this._state=21:this._state=19},L.prototype._stateAfterComment2=function(W){W===">"?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):W!=="-"&&(this._state=19)},L.prototype._stateBeforeCdata6=function(W){W==="["?(this._state=28,this._sectionStart=this._index+1):(this._state=16,this._index--)},L.prototype._stateInCdata=function(W){W==="]"&&(this._state=29)},L.prototype._stateAfterCdata1=function(W){W==="]"?this._state=30:this._state=28},L.prototype._stateAfterCdata2=function(W){W===">"?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):W!=="]"&&(this._state=28)},L.prototype._stateBeforeSpecial=function(W){W==="c"||W==="C"?this._state=33:W==="t"||W==="T"?this._state=43:(this._state=3,this._index--)},L.prototype._stateBeforeSpecialEnd=function(W){this._special===2&&(W==="c"||W==="C")?this._state=38:this._special===3&&(W==="t"||W==="T")?this._state=47:this._state=1},L.prototype._stateBeforeScript5=function(W){(W==="/"||W===">"||g(W))&&(this._special=2),this._state=3,this._index--},L.prototype._stateAfterScript5=function(W){W===">"||g(W)?(this._special=1,this._state=6,this._sectionStart=this._index-6,this._index--):this._state=1},L.prototype._stateBeforeStyle4=function(W){(W==="/"||W===">"||g(W))&&(this._special=3),this._state=3,this._index--},L.prototype._stateAfterStyle4=function(W){W===">"||g(W)?(this._special=1,this._state=6,this._sectionStart=this._index-5,this._index--):this._state=1},L.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var W=this._buffer.substring(this._sectionStart+1,this._index),ie=this._xmlMode?_.default:u.default;Object.prototype.hasOwnProperty.call(ie,W)&&(this._emitPartial(ie[W]),this._sectionStart=this._index+1)}},L.prototype._parseLegacyEntity=function(){var W=this._sectionStart+1,ie=this._index-W;for(ie>6&&(ie=6);ie>=2;){var ue=this._buffer.substr(W,ie);if(Object.prototype.hasOwnProperty.call(c.default,ue)){this._emitPartial(c.default[ue]),this._sectionStart+=ie+1;return}else ie--}},L.prototype._stateInNamedEntity=function(W){W===";"?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(W<"a"||W>"z")&&(W<"A"||W>"Z")&&(W<"0"||W>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==1?W!=="="&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},L.prototype._decodeNumericEntity=function(W,ie){var ue=this._sectionStart+W;if(ue!==this._index){var le=this._buffer.substring(ue,this._index),J=parseInt(le,ie);this._emitPartial(f.default(J)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},L.prototype._stateInNumericEntity=function(W){W===";"?(this._decodeNumericEntity(2,10),this._sectionStart++):(W<"0"||W>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},L.prototype._stateInHexEntity=function(W){W===";"?(this._decodeNumericEntity(3,16),this._sectionStart++):(W<"a"||W>"f")&&(W<"A"||W>"F")&&(W<"0"||W>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},L.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(this._state===1?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},L.prototype.write=function(W){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=W,this._parse()},L.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var W=this._buffer.charAt(this._index);this._state===1?this._stateText(W):this._state===12?this._stateInAttributeValueDoubleQuotes(W):this._state===9?this._stateInAttributeName(W):this._state===19?this._stateInComment(W):this._state===8?this._stateBeforeAttributeName(W):this._state===3?this._stateInTagName(W):this._state===6?this._stateInClosingTagName(W):this._state===2?this._stateBeforeTagName(W):this._state===10?this._stateAfterAttributeName(W):this._state===13?this._stateInAttributeValueSingleQuotes(W):this._state===11?this._stateBeforeAttributeValue(W):this._state===5?this._stateBeforeClosingTagName(W):this._state===7?this._stateAfterClosingTagName(W):this._state===31?this._stateBeforeSpecial(W):this._state===20?this._stateAfterComment1(W):this._state===14?this._stateInAttributeValueNoQuotes(W):this._state===4?this._stateInSelfClosingTag(W):this._state===16?this._stateInDeclaration(W):this._state===15?this._stateBeforeDeclaration(W):this._state===21?this._stateAfterComment2(W):this._state===18?this._stateBeforeComment(W):this._state===32?this._stateBeforeSpecialEnd(W):this._state===38?C(this,W):this._state===39?D(this,W):this._state===40?A(this,W):this._state===33?p(this,W):this._state===34?d(this,W):this._state===35?a(this,W):this._state===36?P(this,W):this._state===37?this._stateBeforeScript5(W):this._state===41?x(this,W):this._state===42?this._stateAfterScript5(W):this._state===43?I(this,W):this._state===28?this._stateInCdata(W):this._state===44?N(this,W):this._state===45?F(this,W):this._state===46?this._stateBeforeStyle4(W):this._state===47?B(this,W):this._state===48?V(this,W):this._state===49?Z(this,W):this._state===50?this._stateAfterStyle4(W):this._state===17?this._stateInProcessingInstruction(W):this._state===53?this._stateInNamedEntity(W):this._state===22?y(this,W):this._state===51?Y(this,W):this._state===23?T(this,W):this._state===24?w(this,W):this._state===29?this._stateAfterCdata1(W):this._state===30?this._stateAfterCdata2(W):this._state===25?S(this,W):this._state===26?O(this,W):this._state===27?this._stateBeforeCdata6(W):this._state===55?this._stateInHexEntity(W):this._state===54?this._stateInNumericEntity(W):this._state===52?ne(this,W):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},L.prototype.pause=function(){this._running=!1},L.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},L.prototype.end=function(W){this._ended&&this._cbs.onerror(Error(".end() after done!")),W&&this.write(W),this._ended=!0,this._running&&this._finish()},L.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},L.prototype._handleTrailingData=function(){var W=this._buffer.substr(this._sectionStart);this._state===28||this._state===29||this._state===30?this._cbs.oncdata(W):this._state===19||this._state===20||this._state===21?this._cbs.oncomment(W):this._state===53&&!this._xmlMode?(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state===54&&!this._xmlMode?(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state===55&&!this._xmlMode?(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):this._state!==3&&this._state!==8&&this._state!==11&&this._state!==10&&this._state!==9&&this._state!==13&&this._state!==12&&this._state!==14&&this._state!==6&&this._cbs.ontext(W)},L.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},L.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},L.prototype._emitToken=function(W){this._cbs[W](this._getSection()),this._sectionStart=-1},L.prototype._emitPartial=function(W){this._baseState!==1?this._cbs.onattribdata(W):this._cbs.ontext(W)},L}();l.default=G},35106:function(z,l,e){"use strict";function o(w){for(var S in w)l.hasOwnProperty(S)||(l[S]=w[S])}var f=this&&this.__importStar||function(w){if(w&&w.__esModule)return w;var S={};if(w!=null)for(var O in w)Object.hasOwnProperty.call(w,O)&&(S[O]=w[O]);return S.default=w,S};Object.defineProperty(l,"__esModule",{value:!0});var u=e(16666);l.Parser=u.Parser;var c=e(47915);l.DomHandler=c.DomHandler,l.DefaultHandler=c.DomHandler;function _(w,S){var O=new c.DomHandler(void 0,S);return new u.Parser(O,S).end(w),O.dom}l.parseDOM=_;function g(w,S,O){var p=new c.DomHandler(w,S,O);return new u.Parser(p,S)}l.createDomStream=g;var E=e(10034);l.Tokenizer=E.default;var v=f(e(99960));l.ElementType=v,l.EVENTS={attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0},o(e(57613)),o(e(18036)),o(e(16691));var y=f(e(89432));l.DomUtils=y;var T=e(57613);l.RssHandler=T.FeedHandler},10977:(z,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0});/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function e(f){return Object.prototype.toString.call(f)==="[object Object]"}function o(f){var u,c;return e(f)===!1?!1:(u=f.constructor,u===void 0?!0:(c=u.prototype,!(e(c)===!1||c.hasOwnProperty("isPrototypeOf")===!1)))}l.isPlainObject=o},37478:(z,l,e)=>{"use strict";var o=e(40210),f=e(21924),u=e(70631),c=o("%TypeError%"),_=o("%WeakMap%",!0),g=o("%Map%",!0),E=f("WeakMap.prototype.get",!0),v=f("WeakMap.prototype.set",!0),y=f("WeakMap.prototype.has",!0),T=f("Map.prototype.get",!0),w=f("Map.prototype.set",!0),S=f("Map.prototype.has",!0),O=function(P,C){for(var D=P,A;(A=D.next)!==null;D=A)if(A.key===C)return D.next=A.next,A.next=P.next,P.next=A,A},p=function(P,C){var D=O(P,C);return D&&D.value},d=function(P,C,D){var A=O(P,C);A?A.value=D:P.next={key:C,next:P.next,value:D}},a=function(P,C){return!!O(P,C)};z.exports=function(){var C,D,A,x={assert:function(I){if(!x.has(I))throw new c("Side channel does not contain "+u(I))},get:function(I){if(_&&I&&(typeof I=="object"||typeof I=="function")){if(C)return E(C,I)}else if(g){if(D)return T(D,I)}else if(A)return p(A,I)},has:function(I){if(_&&I&&(typeof I=="object"||typeof I=="function")){if(C)return y(C,I)}else if(g){if(D)return S(D,I)}else if(A)return a(A,I);return!1},set:function(I,N){_&&I&&(typeof I=="object"||typeof I=="function")?(C||(C=new _),v(C,I,N)):g?(D||(D=new g),w(D,I,N)):(A||(A={key:{},next:null}),d(A,I,N))}};return x}},79546:(z,l,e)=>{var o=e(62195),f=[e(39627),e(58855),e(45580),e(8728)],u=[];z.exports=o.createStore(f,u)},62195:(z,l,e)=>{var o=e(69078),f=o.slice,u=o.pluck,c=o.each,_=o.bind,g=o.create,E=o.isList,v=o.isFunction,y=o.isObject;z.exports={createStore:S};var T={version:"2.0.12",enabled:!1,get:function(O,p){var d=this.storage.read(this._namespacePrefix+O);return this._deserialize(d,p)},set:function(O,p){return p===void 0?this.remove(O):(this.storage.write(this._namespacePrefix+O,this._serialize(p)),p)},remove:function(O){this.storage.remove(this._namespacePrefix+O)},each:function(O){var p=this;this.storage.each(function(d,a){O.call(p,p._deserialize(d),(a||"").replace(p._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(O){return this._namespacePrefix=="__storejs_"+O+"_"},createStore:function(){return S.apply(this,arguments)},addPlugin:function(O){this._addPlugin(O)},namespace:function(O){return S(this.storage,this.plugins,O)}};function w(){var O=typeof console=="undefined"?null:console;if(O){var p=O.warn?O.warn:O.log;p.apply(O,arguments)}}function S(O,p,d){d||(d=""),O&&!E(O)&&(O=[O]),p&&!E(p)&&(p=[p]);var a=d?"__storejs_"+d+"_":"",P=d?new RegExp("^"+a):null,C=/^[a-zA-Z0-9_\-]*$/;if(!C.test(d))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var D={_namespacePrefix:a,_namespaceRegexp:P,_testStorage:function(x){try{var I="__storejs__test__";x.write(I,I);var N=x.read(I)===I;return x.remove(I),N}catch(F){return!1}},_assignPluginFnProp:function(x,I){var N=this[I];this[I]=function(){var B=f(arguments,0),V=this;function Z(){if(N)return c(arguments,function(ne,G){B[G]=ne}),N.apply(V,B)}var Y=[Z].concat(B);return x.apply(V,Y)}},_serialize:function(x){return JSON.stringify(x)},_deserialize:function(x,I){if(!x)return I;var N="";try{N=JSON.parse(x)}catch(F){N=x}return N!==void 0?N:I},_addStorage:function(x){this.enabled||this._testStorage(x)&&(this.storage=x,this.enabled=!0)},_addPlugin:function(x){var I=this;if(E(x)){c(x,function(B){I._addPlugin(B)});return}var N=u(this.plugins,function(B){return x===B});if(!N){if(this.plugins.push(x),!v(x))throw new Error("Plugins must be function values that return objects");var F=x.call(this);if(!y(F))throw new Error("Plugins must return an object of function properties");c(F,function(B,V){if(!v(B))throw new Error("Bad plugin property: "+V+" from plugin "+x.name+". Plugins should only return functions.");I._assignPluginFnProp(B,V)})}},addStorage:function(x){w("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(x)}},A=g(D,T,{plugins:[]});return A.raw={},c(A,function(x,I){v(x)&&(A.raw[I]=_(A,x))}),c(O,function(x){A._addStorage(x)}),c(p,function(x){A._addPlugin(x)}),A}},69078:(z,l,e)=>{var o=_(),f=g(),u=E(),c=typeof window!="undefined"?window:e.g;z.exports={assign:o,create:f,trim:u,bind:v,slice:y,each:T,map:w,pluck:S,isList:O,isFunction:p,isObject:d,Global:c};function _(){return Object.assign?Object.assign:function(P,C,D,A){for(var x=1;x<arguments.length;x++)T(Object(arguments[x]),function(I,N){P[N]=I});return P}}function g(){if(Object.create)return function(C,D,A,x){var I=y(arguments,1);return o.apply(this,[Object.create(C)].concat(I))};{let P=function(){};var a=P;return function(D,A,x,I){var N=y(arguments,1);return P.prototype=D,o.apply(this,[new P].concat(N))}}}function E(){return String.prototype.trim?function(P){return String.prototype.trim.call(P)}:function(P){return P.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function v(a,P){return function(){return P.apply(a,Array.prototype.slice.call(arguments,0))}}function y(a,P){return Array.prototype.slice.call(a,P||0)}function T(a,P){S(a,function(C,D){return P(C,D),!1})}function w(a,P){var C=O(a)?[]:{};return S(a,function(D,A){return C[A]=P(D,A),!1}),C}function S(a,P){if(O(a)){for(var C=0;C<a.length;C++)if(P(a[C],C))return a[C]}else for(var D in a)if(a.hasOwnProperty(D)&&P(a[D],D))return a[D]}function O(a){return a!=null&&typeof a!="function"&&typeof a.length=="number"}function p(a){return a&&{}.toString.call(a)==="[object Function]"}function d(a){return a&&{}.toString.call(a)==="[object Object]"}},45580:(z,l,e)=>{var o=e(69078),f=o.Global,u=o.trim;z.exports={name:"cookieStorage",read:_,write:E,each:g,remove:v,clearAll:y};var c=f.document;function _(w){if(!w||!T(w))return null;var S="(?:^|.*;\\s*)"+escape(w).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(c.cookie.replace(new RegExp(S),"$1"))}function g(w){for(var S=c.cookie.split(/; ?/g),O=S.length-1;O>=0;O--)if(u(S[O])){var p=S[O].split("="),d=unescape(p[0]),a=unescape(p[1]);w(a,d)}}function E(w,S){w&&(c.cookie=escape(w)+"="+escape(S)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function v(w){!w||!T(w)||(c.cookie=escape(w)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function y(){g(function(w,S){v(S)})}function T(w){return new RegExp("(?:^|;\\s*)"+escape(w).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(c.cookie)}},39627:(z,l,e)=>{var o=e(69078),f=o.Global;z.exports={name:"localStorage",read:c,write:_,each:g,remove:E,clearAll:v};function u(){return f.localStorage}function c(y){return u().getItem(y)}function _(y,T){return u().setItem(y,T)}function g(y){for(var T=u().length-1;T>=0;T--){var w=u().key(T);y(c(w),w)}}function E(y){return u().removeItem(y)}function v(){return u().clear()}},8728:z=>{z.exports={name:"memoryStorage",read:e,write:o,each:f,remove:u,clearAll:c};var l={};function e(_){return l[_]}function o(_,g){l[_]=g}function f(_){for(var g in l)l.hasOwnProperty(g)&&_(l[g],g)}function u(_){delete l[_]}function c(_){l={}}},58855:(z,l,e)=>{var o=e(69078),f=o.Global;z.exports={name:"sessionStorage",read:c,write:_,each:g,remove:E,clearAll:v};function u(){return f.sessionStorage}function c(y){return u().getItem(y)}function _(y,T){return u().setItem(y,T)}function g(y){for(var T=u().length-1;T>=0;T--){var w=u().key(T);y(c(w),w)}}function E(y){return u().removeItem(y)}function v(){return u().clear()}},37903:z=>{"use strict";function l(g){return u(g)||f(g)||o(g)||e()}function e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o(g,E){if(g){if(typeof g=="string")return c(g,E);var v=Object.prototype.toString.call(g).slice(8,-1);if(v==="Object"&&g.constructor&&(v=g.constructor.name),v==="Map"||v==="Set")return Array.from(g);if(v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v))return c(g,E)}}function f(g){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(g))return Array.from(g)}function u(g){if(Array.isArray(g))return c(g)}function c(g,E){(E==null||E>g.length)&&(E=g.length);for(var v=0,y=new Array(E);v<E;v++)y[v]=g[v];return y}function _(){this._defaults=[]}["use","on","once","set","query","type","accept","auth","withCredentials","sortQuery","retry","ok","redirects","timeout","buffer","serialize","parse","ca","key","pfx","cert","disableTLSCerts"].forEach(function(g){_.prototype[g]=function(){for(var E=arguments.length,v=new Array(E),y=0;y<E;y++)v[y]=arguments[y];return this._defaults.push({fn:g,args:v}),this}}),_.prototype._setDefaults=function(g){this._defaults.forEach(function(E){g[E.fn].apply(g,l(E.args))})},z.exports=_},80569:(z,l,e)=>{"use strict";function o(x){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(N){return typeof N}:o=function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},o(x)}var f;typeof window!="undefined"?f=window:typeof self=="undefined"?(console.warn("Using browser-only version of superagent in non-browser environment"),f=void 0):f=self;var u=e(98767),c=e(4445),_=e(80129),g=e(28899),E=e(54960),v=e(81097),y=e(37903);function T(){}z.exports=function(x,I){return typeof I=="function"?new l.Request("GET",x).end(I):arguments.length===1?new l.Request("GET",x):new l.Request(x,I)},l=z.exports;var w=l;l.Request=D,w.getXHR=function(){if(f.XMLHttpRequest&&(!f.location||f.location.protocol!=="file:"||!f.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(x){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(x){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(x){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(x){}throw new Error("Browser-only version of superagent could not find XHR")};var S="".trim?function(x){return x.trim()}:function(x){return x.replace(/(^\s*|\s*$)/g,"")};function O(x){if(!E(x))return x;var I=[];for(var N in x)Object.prototype.hasOwnProperty.call(x,N)&&p(I,N,x[N]);return I.join("&")}function p(x,I,N){if(N!==void 0){if(N===null){x.push(encodeURI(I));return}if(Array.isArray(N))N.forEach(function(B){p(x,I,B)});else if(E(N))for(var F in N)Object.prototype.hasOwnProperty.call(N,F)&&p(x,"".concat(I,"[").concat(F,"]"),N[F]);else x.push(encodeURI(I)+"="+encodeURIComponent(N))}}w.serializeObject=O;function d(x){for(var I={},N=x.split("&"),F,B,V=0,Z=N.length;V<Z;++V)F=N[V],B=F.indexOf("="),B===-1?I[decodeURIComponent(F)]="":I[decodeURIComponent(F.slice(0,B))]=decodeURIComponent(F.slice(B+1));return I}w.parseString=d,w.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},w.serialize={"application/x-www-form-urlencoded":_.stringify,"application/json":c},w.parse={"application/x-www-form-urlencoded":d,"application/json":JSON.parse};function a(x){for(var I=x.split(/\r?\n/),N={},F,B,V,Z,Y=0,ne=I.length;Y<ne;++Y)B=I[Y],F=B.indexOf(":"),F!==-1&&(V=B.slice(0,F).toLowerCase(),Z=S(B.slice(F+1)),N[V]=Z);return N}function P(x){return/[/+]json($|[^-\w])/i.test(x)}function C(x){this.req=x,this.xhr=this.req.xhr,this.text=this.req.method!=="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text")||typeof this.xhr.responseType=="undefined"?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var I=this.xhr.status;I===1223&&(I=204),this._setStatusProperties(I),this.headers=a(this.xhr.getAllResponseHeaders()),this.header=this.headers,this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.text===null&&x._responseType?this.body=this.xhr.response:this.body=this.req.method==="HEAD"?null:this._parseBody(this.text?this.text:this.xhr.response)}v(C.prototype),C.prototype._parseBody=function(x){var I=w.parse[this.type];return this.req._parser?this.req._parser(this,x):(!I&&P(this.type)&&(I=w.parse["application/json"]),I&&x&&(x.length>0||x instanceof Object)?I(x):null)},C.prototype.toError=function(){var x=this.req,I=x.method,N=x.url,F="cannot ".concat(I," ").concat(N," (").concat(this.status,")"),B=new Error(F);return B.status=this.status,B.method=I,B.url=N,B},w.Response=C;function D(x,I){var N=this;this._query=this._query||[],this.method=x,this.url=I,this.header={},this._header={},this.on("end",function(){var F=null,B=null;try{B=new C(N)}catch(Z){return F=new Error("Parser is unable to parse the response"),F.parse=!0,F.original=Z,N.xhr?(F.rawResponse=typeof N.xhr.responseType=="undefined"?N.xhr.responseText:N.xhr.response,F.status=N.xhr.status?N.xhr.status:null,F.statusCode=F.status):(F.rawResponse=null,F.status=null),N.callback(F)}N.emit("response",B);var V;try{N._isResponseOK(B)||(V=new Error(B.statusText||B.text||"Unsuccessful HTTP response"))}catch(Z){V=Z}V?(V.original=F,V.response=B,V.status=B.status,N.callback(V,B)):N.callback(null,B)})}u(D.prototype),g(D.prototype),D.prototype.type=function(x){return this.set("Content-Type",w.types[x]||x),this},D.prototype.accept=function(x){return this.set("Accept",w.types[x]||x),this},D.prototype.auth=function(x,I,N){arguments.length===1&&(I=""),o(I)==="object"&&I!==null&&(N=I,I=""),N||(N={type:typeof btoa=="function"?"basic":"auto"});var F=function(V){if(typeof btoa=="function")return btoa(V);throw new Error("Cannot use basic auth, btoa is not a function")};return this._auth(x,I,N,F)},D.prototype.query=function(x){return typeof x!="string"&&(x=O(x)),x&&this._query.push(x),this},D.prototype.attach=function(x,I,N){if(I){if(this._data)throw new Error("superagent can't mix .send() and .attach()");this._getFormData().append(x,I,N||I.name)}return this},D.prototype._getFormData=function(){return this._formData||(this._formData=new f.FormData),this._formData},D.prototype.callback=function(x,I){if(this._shouldRetry(x,I))return this._retry();var N=this._callback;this.clearTimeout(),x&&(this._maxRetries&&(x.retries=this._retries-1),this.emit("error",x)),N(x,I)},D.prototype.crossDomainError=function(){var x=new Error(`Request has been terminated
Possible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.`);x.crossDomain=!0,x.status=this.status,x.method=this.method,x.url=this.url,this.callback(x)},D.prototype.agent=function(){return console.warn("This is not supported in browser version of superagent"),this},D.prototype.ca=D.prototype.agent,D.prototype.buffer=D.prototype.ca,D.prototype.write=function(){throw new Error("Streaming is not supported in browser version of superagent")},D.prototype.pipe=D.prototype.write,D.prototype._isHost=function(x){return x&&o(x)==="object"&&!Array.isArray(x)&&Object.prototype.toString.call(x)!=="[object Object]"},D.prototype.end=function(x){this._endCalled&&console.warn("Warning: .end() was called twice. This is not supported in superagent"),this._endCalled=!0,this._callback=x||T,this._finalizeQueryString(),this._end()},D.prototype._setUploadTimeout=function(){var x=this;this._uploadTimeout&&!this._uploadTimeoutTimer&&(this._uploadTimeoutTimer=setTimeout(function(){x._timeoutError("Upload timeout of ",x._uploadTimeout,"ETIMEDOUT")},this._uploadTimeout))},D.prototype._end=function(){if(this._aborted)return this.callback(new Error("The request has been aborted even before .end() was called"));var x=this;this.xhr=w.getXHR();var I=this.xhr,N=this._formData||this._data;this._setTimeouts(),I.onreadystatechange=function(){var Y=I.readyState;if(Y>=2&&x._responseTimeoutTimer&&clearTimeout(x._responseTimeoutTimer),Y===4){var ne;try{ne=I.status}catch(G){ne=0}if(!ne)return x.timedout||x._aborted?void 0:x.crossDomainError();x.emit("end")}};var F=function(ne,G){G.total>0&&(G.percent=G.loaded/G.total*100,G.percent===100&&clearTimeout(x._uploadTimeoutTimer)),G.direction=ne,x.emit("progress",G)};if(this.hasListeners("progress"))try{I.addEventListener("progress",F.bind(null,"download")),I.upload&&I.upload.addEventListener("progress",F.bind(null,"upload"))}catch(Y){}I.upload&&this._setUploadTimeout();try{this.username&&this.password?I.open(this.method,this.url,!0,this.username,this.password):I.open(this.method,this.url,!0)}catch(Y){return this.callback(Y)}if(this._withCredentials&&(I.withCredentials=!0),!this._formData&&this.method!=="GET"&&this.method!=="HEAD"&&typeof N!="string"&&!this._isHost(N)){var B=this._header["content-type"],V=this._serializer||w.serialize[B?B.split(";")[0]:""];!V&&P(B)&&(V=w.serialize["application/json"]),V&&(N=V(N))}for(var Z in this.header)this.header[Z]!==null&&Object.prototype.hasOwnProperty.call(this.header,Z)&&I.setRequestHeader(Z,this.header[Z]);this._responseType&&(I.responseType=this._responseType),this.emit("request",this),I.send(typeof N=="undefined"?null:N)},w.agent=function(){return new y},["GET","POST","OPTIONS","PATCH","PUT","DELETE"].forEach(function(x){y.prototype[x.toLowerCase()]=function(I,N){var F=new w.Request(x,I);return this._setDefaults(F),N&&F.end(N),F}}),y.prototype.del=y.prototype.delete,w.get=function(x,I,N){var F=w("GET",x);return typeof I=="function"&&(N=I,I=null),I&&F.query(I),N&&F.end(N),F},w.head=function(x,I,N){var F=w("HEAD",x);return typeof I=="function"&&(N=I,I=null),I&&F.query(I),N&&F.end(N),F},w.options=function(x,I,N){var F=w("OPTIONS",x);return typeof I=="function"&&(N=I,I=null),I&&F.send(I),N&&F.end(N),F};function A(x,I,N){var F=w("DELETE",x);return typeof I=="function"&&(N=I,I=null),I&&F.send(I),N&&F.end(N),F}w.del=A,w.delete=A,w.patch=function(x,I,N){var F=w("PATCH",x);return typeof I=="function"&&(N=I,I=null),I&&F.send(I),N&&F.end(N),F},w.post=function(x,I,N){var F=w("POST",x);return typeof I=="function"&&(N=I,I=null),I&&F.send(I),N&&F.end(N),F},w.put=function(x,I,N){var F=w("PUT",x);return typeof I=="function"&&(N=I,I=null),I&&F.send(I),N&&F.end(N),F}},54960:z=>{"use strict";function l(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?l=function(u){return typeof u}:l=function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},l(o)}function e(o){return o!==null&&l(o)==="object"}z.exports=e},28899:(z,l,e)=>{"use strict";function o(E){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?o=function(y){return typeof y}:o=function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},o(E)}var f=e(54960);z.exports=u;function u(E){if(E)return c(E)}function c(E){for(var v in u.prototype)Object.prototype.hasOwnProperty.call(u.prototype,v)&&(E[v]=u.prototype[v]);return E}u.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),clearTimeout(this._uploadTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,delete this._uploadTimeoutTimer,this},u.prototype.parse=function(E){return this._parser=E,this},u.prototype.responseType=function(E){return this._responseType=E,this},u.prototype.serialize=function(E){return this._serializer=E,this},u.prototype.timeout=function(E){if(!E||o(E)!=="object")return this._timeout=E,this._responseTimeout=0,this._uploadTimeout=0,this;for(var v in E)if(Object.prototype.hasOwnProperty.call(E,v))switch(v){case"deadline":this._timeout=E.deadline;break;case"response":this._responseTimeout=E.response;break;case"upload":this._uploadTimeout=E.upload;break;default:console.warn("Unknown timeout option",v)}return this},u.prototype.retry=function(E,v){return(arguments.length===0||E===!0)&&(E=1),E<=0&&(E=0),this._maxRetries=E,this._retries=0,this._retryCallback=v,this};var _=new Set(["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"]),g=new Set([408,413,429,500,502,503,504,521,522,524]);u.prototype._shouldRetry=function(E,v){if(!this._maxRetries||this._retries++>=this._maxRetries)return!1;if(this._retryCallback)try{var y=this._retryCallback(E,v);if(y===!0)return!0;if(y===!1)return!1}catch(T){console.error(T)}return!!(v&&v.status&&g.has(v.status)||E&&(E.code&&_.has(E.code)||E.timeout&&E.code==="ECONNABORTED"||E.crossDomain))},u.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this.timedoutError=null,this._end()},u.prototype.then=function(E,v){var y=this;if(!this._fullfilledPromise){var T=this;this._endCalled&&console.warn("Warning: superagent request was sent twice, because both .end() and .then() were called. Never call .end() if you use promises"),this._fullfilledPromise=new Promise(function(w,S){T.on("abort",function(){if(!(y._maxRetries&&y._maxRetries>y._retries)){if(y.timedout&&y.timedoutError){S(y.timedoutError);return}var O=new Error("Aborted");O.code="ABORTED",O.status=y.status,O.method=y.method,O.url=y.url,S(O)}}),T.end(function(O,p){O?S(O):w(p)})})}return this._fullfilledPromise.then(E,v)},u.prototype.catch=function(E){return this.then(void 0,E)},u.prototype.use=function(E){return E(this),this},u.prototype.ok=function(E){if(typeof E!="function")throw new Error("Callback required");return this._okCallback=E,this},u.prototype._isResponseOK=function(E){return E?this._okCallback?this._okCallback(E):E.status>=200&&E.status<300:!1},u.prototype.get=function(E){return this._header[E.toLowerCase()]},u.prototype.getHeader=u.prototype.get,u.prototype.set=function(E,v){if(f(E)){for(var y in E)Object.prototype.hasOwnProperty.call(E,y)&&this.set(y,E[y]);return this}return this._header[E.toLowerCase()]=v,this.header[E]=v,this},u.prototype.unset=function(E){return delete this._header[E.toLowerCase()],delete this.header[E],this},u.prototype.field=function(E,v){if(E==null)throw new Error(".field(name, val) name can not be empty");if(this._data)throw new Error(".field() can't be used if .send() is used. Please use only .send() or only .field() & .attach()");if(f(E)){for(var y in E)Object.prototype.hasOwnProperty.call(E,y)&&this.field(y,E[y]);return this}if(Array.isArray(v)){for(var T in v)Object.prototype.hasOwnProperty.call(v,T)&&this.field(E,v[T]);return this}if(v==null)throw new Error(".field(name, val) val can not be empty");return typeof v=="boolean"&&(v=String(v)),this._getFormData().append(E,v),this},u.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},u.prototype._auth=function(E,v,y,T){switch(y.type){case"basic":this.set("Authorization","Basic ".concat(T("".concat(E,":").concat(v))));break;case"auto":this.username=E,this.password=v;break;case"bearer":this.set("Authorization","Bearer ".concat(E));break;default:break}return this},u.prototype.withCredentials=function(E){return E===void 0&&(E=!0),this._withCredentials=E,this},u.prototype.redirects=function(E){return this._maxRedirects=E,this},u.prototype.maxResponseSize=function(E){if(typeof E!="number")throw new TypeError("Invalid argument");return this._maxResponseSize=E,this},u.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},u.prototype.send=function(E){var v=f(E),y=this._header["content-type"];if(this._formData)throw new Error(".send() can't be used if .attach() or .field() is used. Please use only .send() or only .field() & .attach()");if(v&&!this._data)Array.isArray(E)?this._data=[]:this._isHost(E)||(this._data={});else if(E&&this._data&&this._isHost(this._data))throw new Error("Can't merge these send calls");if(v&&f(this._data))for(var T in E)Object.prototype.hasOwnProperty.call(E,T)&&(this._data[T]=E[T]);else typeof E=="string"?(y||this.type("form"),y=this._header["content-type"],y&&(y=y.toLowerCase().trim()),y==="application/x-www-form-urlencoded"?this._data=this._data?"".concat(this._data,"&").concat(E):E:this._data=(this._data||"")+E):this._data=E;return!v||this._isHost(E)?this:(y||this.type("json"),this)},u.prototype.sortQuery=function(E){return this._sort=typeof E=="undefined"?!0:E,this},u.prototype._finalizeQueryString=function(){var E=this._query.join("&");if(E&&(this.url+=(this.url.includes("?")?"&":"?")+E),this._query.length=0,this._sort){var v=this.url.indexOf("?");if(v>=0){var y=this.url.slice(v+1).split("&");typeof this._sort=="function"?y.sort(this._sort):y.sort(),this.url=this.url.slice(0,v)+"?"+y.join("&")}}},u.prototype._appendQueryString=function(){console.warn("Unsupported")},u.prototype._timeoutError=function(E,v,y){if(!this._aborted){var T=new Error("".concat(E+v,"ms exceeded"));T.timeout=v,T.code="ECONNABORTED",T.errno=y,this.timedout=!0,this.timedoutError=T,this.abort(),this.callback(T)}},u.prototype._setTimeouts=function(){var E=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){E._timeoutError("Timeout of ",E._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){E._timeoutError("Response timeout of ",E._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},81097:(z,l,e)=>{"use strict";var o=e(64506);z.exports=f;function f(c){if(c)return u(c)}function u(c){for(var _ in f.prototype)Object.prototype.hasOwnProperty.call(f.prototype,_)&&(c[_]=f.prototype[_]);return c}f.prototype.get=function(c){return this.header[c.toLowerCase()]},f.prototype._setHeaderProperties=function(c){var _=c["content-type"]||"";this.type=o.type(_);var g=o.params(_);for(var E in g)Object.prototype.hasOwnProperty.call(g,E)&&(this[E]=g[E]);this.links={};try{c.link&&(this.links=o.parseLinks(c.link))}catch(v){}},f.prototype._setStatusProperties=function(c){var _=c/100|0;this.statusCode=c,this.status=this.statusCode,this.statusType=_,this.info=_===1,this.ok=_===2,this.redirect=_===3,this.clientError=_===4,this.serverError=_===5,this.error=_===4||_===5?this.toError():!1,this.created=c===201,this.accepted=c===202,this.noContent=c===204,this.badRequest=c===400,this.unauthorized=c===401,this.notAcceptable=c===406,this.forbidden=c===403,this.notFound=c===404,this.unprocessableEntity=c===422}},64506:(z,l)=>{"use strict";function e(u,c){var _;if(typeof Symbol=="undefined"||u[Symbol.iterator]==null){if(Array.isArray(u)||(_=o(u))||c&&u&&typeof u.length=="number"){_&&(u=_);var g=0,E=function(){};return{s:E,n:function(){return g>=u.length?{done:!0}:{done:!1,value:u[g++]}},e:function(S){throw S},f:E}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v=!0,y=!1,T;return{s:function(){_=u[Symbol.iterator]()},n:function(){var S=_.next();return v=S.done,S},e:function(S){y=!0,T=S},f:function(){try{!v&&_.return!=null&&_.return()}finally{if(y)throw T}}}}function o(u,c){if(u){if(typeof u=="string")return f(u,c);var _=Object.prototype.toString.call(u).slice(8,-1);if(_==="Object"&&u.constructor&&(_=u.constructor.name),_==="Map"||_==="Set")return Array.from(u);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return f(u,c)}}function f(u,c){(c==null||c>u.length)&&(c=u.length);for(var _=0,g=new Array(c);_<c;_++)g[_]=u[_];return g}l.type=function(u){return u.split(/ *; */).shift()},l.params=function(u){var c={},_=e(u.split(/ *; */)),g;try{for(_.s();!(g=_.n()).done;){var E=g.value,v=E.split(/ *= */),y=v.shift(),T=v.shift();y&&T&&(c[y]=T)}}catch(w){_.e(w)}finally{_.f()}return c},l.parseLinks=function(u){var c={},_=e(u.split(/ *, */)),g;try{for(_.s();!(g=_.n()).done;){var E=g.value,v=E.split(/ *; */),y=v[0].slice(1,-1),T=v[1].split(/ *= */)[1].slice(1,-1);c[T]=y}}catch(w){_.e(w)}finally{_.f()}return c},l.cleanHeader=function(u,c){return delete u["content-type"],delete u["content-length"],delete u["transfer-encoding"],delete u.host,c&&(delete u.authorization,delete u.cookie),u}},79253:(z,l,e)=>{"use strict";e.d(l,{ZP:()=>jo});function o(it){if(it==null)return window;if(it.toString()!=="[object Window]"){var at=it.ownerDocument;return at&&at.defaultView||window}return it}function f(it){var at=o(it).Element;return it instanceof at||it instanceof Element}function u(it){var at=o(it).HTMLElement;return it instanceof at||it instanceof HTMLElement}function c(it){if(typeof ShadowRoot=="undefined")return!1;var at=o(it).ShadowRoot;return it instanceof at||it instanceof ShadowRoot}var _=Math.max,g=Math.min,E=Math.round;function v(it,at){at===void 0&&(at=!1);var Ot=it.getBoundingClientRect(),Kt=1,un=1;if(u(it)&&at){var gn=it.offsetHeight,bn=it.offsetWidth;bn>0&&(Kt=E(Ot.width)/bn||1),gn>0&&(un=E(Ot.height)/gn||1)}return{width:Ot.width/Kt,height:Ot.height/un,top:Ot.top/un,right:Ot.right/Kt,bottom:Ot.bottom/un,left:Ot.left/Kt,x:Ot.left/Kt,y:Ot.top/un}}function y(it){var at=o(it),Ot=at.pageXOffset,Kt=at.pageYOffset;return{scrollLeft:Ot,scrollTop:Kt}}function T(it){return{scrollLeft:it.scrollLeft,scrollTop:it.scrollTop}}function w(it){return it===o(it)||!u(it)?y(it):T(it)}function S(it){return it?(it.nodeName||"").toLowerCase():null}function O(it){return((f(it)?it.ownerDocument:it.document)||window.document).documentElement}function p(it){return v(O(it)).left+y(it).scrollLeft}function d(it){return o(it).getComputedStyle(it)}function a(it){var at=d(it),Ot=at.overflow,Kt=at.overflowX,un=at.overflowY;return/auto|scroll|overlay|hidden/.test(Ot+un+Kt)}function P(it){var at=it.getBoundingClientRect(),Ot=E(at.width)/it.offsetWidth||1,Kt=E(at.height)/it.offsetHeight||1;return Ot!==1||Kt!==1}function C(it,at,Ot){Ot===void 0&&(Ot=!1);var Kt=u(at),un=u(at)&&P(at),gn=O(at),bn=v(it,un),Nn={scrollLeft:0,scrollTop:0},Hn={x:0,y:0};return(Kt||!Kt&&!Ot)&&((S(at)!=="body"||a(gn))&&(Nn=w(at)),u(at)?(Hn=v(at,!0),Hn.x+=at.clientLeft,Hn.y+=at.clientTop):gn&&(Hn.x=p(gn))),{x:bn.left+Nn.scrollLeft-Hn.x,y:bn.top+Nn.scrollTop-Hn.y,width:bn.width,height:bn.height}}function D(it){var at=v(it),Ot=it.offsetWidth,Kt=it.offsetHeight;return Math.abs(at.width-Ot)<=1&&(Ot=at.width),Math.abs(at.height-Kt)<=1&&(Kt=at.height),{x:it.offsetLeft,y:it.offsetTop,width:Ot,height:Kt}}function A(it){return S(it)==="html"?it:it.assignedSlot||it.parentNode||(c(it)?it.host:null)||O(it)}function x(it){return["html","body","#document"].indexOf(S(it))>=0?it.ownerDocument.body:u(it)&&a(it)?it:x(A(it))}function I(it,at){var Ot;at===void 0&&(at=[]);var Kt=x(it),un=Kt===((Ot=it.ownerDocument)==null?void 0:Ot.body),gn=o(Kt),bn=un?[gn].concat(gn.visualViewport||[],a(Kt)?Kt:[]):Kt,Nn=at.concat(bn);return un?Nn:Nn.concat(I(A(bn)))}function N(it){return["table","td","th"].indexOf(S(it))>=0}function F(it){return!u(it)||d(it).position==="fixed"?null:it.offsetParent}function B(it){var at=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,Ot=navigator.userAgent.indexOf("Trident")!==-1;if(Ot&&u(it)){var Kt=d(it);if(Kt.position==="fixed")return null}for(var un=A(it);u(un)&&["html","body"].indexOf(S(un))<0;){var gn=d(un);if(gn.transform!=="none"||gn.perspective!=="none"||gn.contain==="paint"||["transform","perspective"].indexOf(gn.willChange)!==-1||at&&gn.willChange==="filter"||at&&gn.filter&&gn.filter!=="none")return un;un=un.parentNode}return null}function V(it){for(var at=o(it),Ot=F(it);Ot&&N(Ot)&&d(Ot).position==="static";)Ot=F(Ot);return Ot&&(S(Ot)==="html"||S(Ot)==="body"&&d(Ot).position==="static")?at:Ot||B(it)||at}var Z="top",Y="bottom",ne="right",G="left",L="auto",W=[Z,Y,ne,G],ie="start",ue="end",le="clippingParents",J="viewport",te="popper",se="reference",ee=W.reduce(function(it,at){return it.concat([at+"-"+ie,at+"-"+ue])},[]),ae=[].concat(W,[L]).reduce(function(it,at){return it.concat([at,at+"-"+ie,at+"-"+ue])},[]),ce="beforeRead",fe="read",Ee="afterRead",de="beforeMain",_e="main",ve="afterMain",De="beforeWrite",Oe="write",ye="afterWrite",ze=[ce,fe,Ee,de,_e,ve,De,Oe,ye];function Be(it){var at=new Map,Ot=new Set,Kt=[];it.forEach(function(gn){at.set(gn.name,gn)});function un(gn){Ot.add(gn.name);var bn=[].concat(gn.requires||[],gn.requiresIfExists||[]);bn.forEach(function(Nn){if(!Ot.has(Nn)){var Hn=at.get(Nn);Hn&&un(Hn)}}),Kt.push(gn)}return it.forEach(function(gn){Ot.has(gn.name)||un(gn)}),Kt}function We(it){var at=Be(it);return ze.reduce(function(Ot,Kt){return Ot.concat(at.filter(function(un){return un.phase===Kt}))},[])}function Ke(it){var at;return function(){return at||(at=new Promise(function(Ot){Promise.resolve().then(function(){at=void 0,Ot(it())})})),at}}function Xe(it){var at=it.reduce(function(Ot,Kt){var un=Ot[Kt.name];return Ot[Kt.name]=un?Object.assign({},un,Kt,{options:Object.assign({},un.options,Kt.options),data:Object.assign({},un.data,Kt.data)}):Kt,Ot},{});return Object.keys(at).map(function(Ot){return at[Ot]})}var ct="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",Se="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",Qe={placement:"bottom",modifiers:[],strategy:"absolute"};function ge(){for(var it=arguments.length,at=new Array(it),Ot=0;Ot<it;Ot++)at[Ot]=arguments[Ot];return!at.some(function(Kt){return!(Kt&&typeof Kt.getBoundingClientRect=="function")})}function Fe(it){it===void 0&&(it={});var at=it,Ot=at.defaultModifiers,Kt=Ot===void 0?[]:Ot,un=at.defaultOptions,gn=un===void 0?Qe:un;return function(Nn,Hn,yr){yr===void 0&&(yr=gn);var Jn={placement:"bottom",orderedModifiers:[],options:Object.assign({},Qe,gn),modifiersData:{},elements:{reference:Nn,popper:Hn},attributes:{},styles:{}},Br=[],Kr=!1,Ar={state:Jn,setOptions:function(mr){var Fr=typeof mr=="function"?mr(Jn.options):mr;wr(),Jn.options=Object.assign({},gn,Jn.options,Fr),Jn.scrollParents={reference:f(Nn)?I(Nn):Nn.contextElement?I(Nn.contextElement):[],popper:I(Hn)};var Vr=We(Xe([].concat(Kt,Jn.options.modifiers)));if(Jn.orderedModifiers=Vr.filter(function(Ue){return Ue.enabled}),!1)var K,$,re,R,oe,he,Ie;return Rr(),Ar.update()},forceUpdate:function(){if(!Kr){var mr=Jn.elements,Fr=mr.reference,Vr=mr.popper;if(ge(Fr,Vr)){Jn.rects={reference:C(Fr,V(Vr),Jn.options.strategy==="fixed"),popper:D(Vr)},Jn.reset=!1,Jn.placement=Jn.options.placement,Jn.orderedModifiers.forEach(function(Ue){return Jn.modifiersData[Ue.name]=Object.assign({},Ue.data)});for(var K=0,$=0;$<Jn.orderedModifiers.length;$++){if(Jn.reset===!0){Jn.reset=!1,$=-1;continue}var re=Jn.orderedModifiers[$],R=re.fn,oe=re.options,he=oe===void 0?{}:oe,Ie=re.name;typeof R=="function"&&(Jn=R({state:Jn,options:he,name:Ie,instance:Ar})||Jn)}}}},update:Ke(function(){return new Promise(function(Sr){Ar.forceUpdate(),Sr(Jn)})}),destroy:function(){wr(),Kr=!0}};if(!ge(Nn,Hn))return Ar;Ar.setOptions(yr).then(function(Sr){!Kr&&yr.onFirstUpdate&&yr.onFirstUpdate(Sr)});function Rr(){Jn.orderedModifiers.forEach(function(Sr){var mr=Sr.name,Fr=Sr.options,Vr=Fr===void 0?{}:Fr,K=Sr.effect;if(typeof K=="function"){var $=K({state:Jn,name:mr,instance:Ar,options:Vr}),re=function(){};Br.push($||re)}})}function wr(){Br.forEach(function(Sr){return Sr()}),Br=[]}return Ar}}var Ne=null,lt={passive:!0};function Et(it){var at=it.state,Ot=it.instance,Kt=it.options,un=Kt.scroll,gn=un===void 0?!0:un,bn=Kt.resize,Nn=bn===void 0?!0:bn,Hn=o(at.elements.popper),yr=[].concat(at.scrollParents.reference,at.scrollParents.popper);return gn&&yr.forEach(function(Jn){Jn.addEventListener("scroll",Ot.update,lt)}),Nn&&Hn.addEventListener("resize",Ot.update,lt),function(){gn&&yr.forEach(function(Jn){Jn.removeEventListener("scroll",Ot.update,lt)}),Nn&&Hn.removeEventListener("resize",Ot.update,lt)}}const jt={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Et,data:{}};function en(it){return it.split("-")[0]}function vt(it){return it.split("-")[1]}function Re(it){return["top","bottom"].indexOf(it)>=0?"x":"y"}function He(it){var at=it.reference,Ot=it.element,Kt=it.placement,un=Kt?en(Kt):null,gn=Kt?vt(Kt):null,bn=at.x+at.width/2-Ot.width/2,Nn=at.y+at.height/2-Ot.height/2,Hn;switch(un){case Z:Hn={x:bn,y:at.y-Ot.height};break;case Y:Hn={x:bn,y:at.y+at.height};break;case ne:Hn={x:at.x+at.width,y:Nn};break;case G:Hn={x:at.x-Ot.width,y:Nn};break;default:Hn={x:at.x,y:at.y}}var yr=un?Re(un):null;if(yr!=null){var Jn=yr==="y"?"height":"width";switch(gn){case ie:Hn[yr]=Hn[yr]-(at[Jn]/2-Ot[Jn]/2);break;case ue:Hn[yr]=Hn[yr]+(at[Jn]/2-Ot[Jn]/2);break;default:}}return Hn}function ot(it){var at=it.state,Ot=it.name;at.modifiersData[Ot]=He({reference:at.rects.reference,element:at.rects.popper,strategy:"absolute",placement:at.placement})}const me={name:"popperOffsets",enabled:!0,phase:"read",fn:ot,data:{}};var ke={top:"auto",right:"auto",bottom:"auto",left:"auto"};function je(it){var at=it.x,Ot=it.y,Kt=window,un=Kt.devicePixelRatio||1;return{x:E(at*un)/un||0,y:E(Ot*un)/un||0}}function Je(it){var at,Ot=it.popper,Kt=it.popperRect,un=it.placement,gn=it.variation,bn=it.offsets,Nn=it.position,Hn=it.gpuAcceleration,yr=it.adaptive,Jn=it.roundOffsets,Br=it.isFixed,Kr=bn.x,Ar=Kr===void 0?0:Kr,Rr=bn.y,wr=Rr===void 0?0:Rr,Sr=typeof Jn=="function"?Jn({x:Ar,y:wr}):{x:Ar,y:wr};Ar=Sr.x,wr=Sr.y;var mr=bn.hasOwnProperty("x"),Fr=bn.hasOwnProperty("y"),Vr=G,K=Z,$=window;if(yr){var re=V(Ot),R="clientHeight",oe="clientWidth";if(re===o(Ot)&&(re=O(Ot),d(re).position!=="static"&&Nn==="absolute"&&(R="scrollHeight",oe="scrollWidth")),re=re,un===Z||(un===G||un===ne)&&gn===ue){K=Y;var he=Br&&$.visualViewport?$.visualViewport.height:re[R];wr-=he-Kt.height,wr*=Hn?1:-1}if(un===G||(un===Z||un===Y)&&gn===ue){Vr=ne;var Ie=Br&&$.visualViewport?$.visualViewport.width:re[oe];Ar-=Ie-Kt.width,Ar*=Hn?1:-1}}var Ue=Object.assign({position:Nn},yr&&ke),nt=Jn===!0?je({x:Ar,y:wr}):{x:Ar,y:wr};if(Ar=nt.x,wr=nt.y,Hn){var gt;return Object.assign({},Ue,(gt={},gt[K]=Fr?"0":"",gt[Vr]=mr?"0":"",gt.transform=($.devicePixelRatio||1)<=1?"translate("+Ar+"px, "+wr+"px)":"translate3d("+Ar+"px, "+wr+"px, 0)",gt))}return Object.assign({},Ue,(at={},at[K]=Fr?wr+"px":"",at[Vr]=mr?Ar+"px":"",at.transform="",at))}function tt(it){var at=it.state,Ot=it.options,Kt=Ot.gpuAcceleration,un=Kt===void 0?!0:Kt,gn=Ot.adaptive,bn=gn===void 0?!0:gn,Nn=Ot.roundOffsets,Hn=Nn===void 0?!0:Nn;if(!1)var yr;var Jn={placement:en(at.placement),variation:vt(at.placement),popper:at.elements.popper,popperRect:at.rects.popper,gpuAcceleration:un,isFixed:at.options.strategy==="fixed"};at.modifiersData.popperOffsets!=null&&(at.styles.popper=Object.assign({},at.styles.popper,Je(Object.assign({},Jn,{offsets:at.modifiersData.popperOffsets,position:at.options.strategy,adaptive:bn,roundOffsets:Hn})))),at.modifiersData.arrow!=null&&(at.styles.arrow=Object.assign({},at.styles.arrow,Je(Object.assign({},Jn,{offsets:at.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Hn})))),at.attributes.popper=Object.assign({},at.attributes.popper,{"data-popper-placement":at.placement})}const Ae={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:tt,data:{}};function H(it){var at=it.state;Object.keys(at.elements).forEach(function(Ot){var Kt=at.styles[Ot]||{},un=at.attributes[Ot]||{},gn=at.elements[Ot];!u(gn)||!S(gn)||(Object.assign(gn.style,Kt),Object.keys(un).forEach(function(bn){var Nn=un[bn];Nn===!1?gn.removeAttribute(bn):gn.setAttribute(bn,Nn===!0?"":Nn)}))})}function Q(it){var at=it.state,Ot={popper:{position:at.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(at.elements.popper.style,Ot.popper),at.styles=Ot,at.elements.arrow&&Object.assign(at.elements.arrow.style,Ot.arrow),function(){Object.keys(at.elements).forEach(function(Kt){var un=at.elements[Kt],gn=at.attributes[Kt]||{},bn=Object.keys(at.styles.hasOwnProperty(Kt)?at.styles[Kt]:Ot[Kt]),Nn=bn.reduce(function(Hn,yr){return Hn[yr]="",Hn},{});!u(un)||!S(un)||(Object.assign(un.style,Nn),Object.keys(gn).forEach(function(Hn){un.removeAttribute(Hn)}))})}}const pe={name:"applyStyles",enabled:!0,phase:"write",fn:H,effect:Q,requires:["computeStyles"]};function we(it,at,Ot){var Kt=en(it),un=[G,Z].indexOf(Kt)>=0?-1:1,gn=typeof Ot=="function"?Ot(Object.assign({},at,{placement:it})):Ot,bn=gn[0],Nn=gn[1];return bn=bn||0,Nn=(Nn||0)*un,[G,ne].indexOf(Kt)>=0?{x:Nn,y:bn}:{x:bn,y:Nn}}function Le(it){var at=it.state,Ot=it.options,Kt=it.name,un=Ot.offset,gn=un===void 0?[0,0]:un,bn=ae.reduce(function(Jn,Br){return Jn[Br]=we(Br,at.rects,gn),Jn},{}),Nn=bn[at.placement],Hn=Nn.x,yr=Nn.y;at.modifiersData.popperOffsets!=null&&(at.modifiersData.popperOffsets.x+=Hn,at.modifiersData.popperOffsets.y+=yr),at.modifiersData[Kt]=bn}const Ye={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Le};var dt={left:"right",right:"left",bottom:"top",top:"bottom"};function st(it){return it.replace(/left|right|bottom|top/g,function(at){return dt[at]})}var _t={start:"end",end:"start"};function Tt(it){return it.replace(/start|end/g,function(at){return _t[at]})}function nn(it){var at=o(it),Ot=O(it),Kt=at.visualViewport,un=Ot.clientWidth,gn=Ot.clientHeight,bn=0,Nn=0;return Kt&&(un=Kt.width,gn=Kt.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(bn=Kt.offsetLeft,Nn=Kt.offsetTop)),{width:un,height:gn,x:bn+p(it),y:Nn}}function Mn(it){var at,Ot=O(it),Kt=y(it),un=(at=it.ownerDocument)==null?void 0:at.body,gn=_(Ot.scrollWidth,Ot.clientWidth,un?un.scrollWidth:0,un?un.clientWidth:0),bn=_(Ot.scrollHeight,Ot.clientHeight,un?un.scrollHeight:0,un?un.clientHeight:0),Nn=-Kt.scrollLeft+p(it),Hn=-Kt.scrollTop;return d(un||Ot).direction==="rtl"&&(Nn+=_(Ot.clientWidth,un?un.clientWidth:0)-gn),{width:gn,height:bn,x:Nn,y:Hn}}function tr(it,at){var Ot=at.getRootNode&&at.getRootNode();if(it.contains(at))return!0;if(Ot&&c(Ot)){var Kt=at;do{if(Kt&&it.isSameNode(Kt))return!0;Kt=Kt.parentNode||Kt.host}while(Kt)}return!1}function sr(it){return Object.assign({},it,{left:it.x,top:it.y,right:it.x+it.width,bottom:it.y+it.height})}function Rt(it){var at=v(it);return at.top=at.top+it.clientTop,at.left=at.left+it.clientLeft,at.bottom=at.top+it.clientHeight,at.right=at.left+it.clientWidth,at.width=it.clientWidth,at.height=it.clientHeight,at.x=at.left,at.y=at.top,at}function Mt(it,at){return at===J?sr(nn(it)):f(at)?Rt(at):sr(Mn(O(it)))}function $t(it){var at=I(A(it)),Ot=["absolute","fixed"].indexOf(d(it).position)>=0,Kt=Ot&&u(it)?V(it):it;return f(Kt)?at.filter(function(un){return f(un)&&tr(un,Kt)&&S(un)!=="body"}):[]}function vn(it,at,Ot){var Kt=at==="clippingParents"?$t(it):[].concat(at),un=[].concat(Kt,[Ot]),gn=un[0],bn=un.reduce(function(Nn,Hn){var yr=Mt(it,Hn);return Nn.top=_(yr.top,Nn.top),Nn.right=g(yr.right,Nn.right),Nn.bottom=g(yr.bottom,Nn.bottom),Nn.left=_(yr.left,Nn.left),Nn},Mt(it,gn));return bn.width=bn.right-bn.left,bn.height=bn.bottom-bn.top,bn.x=bn.left,bn.y=bn.top,bn}function An(){return{top:0,right:0,bottom:0,left:0}}function dr(it){return Object.assign({},An(),it)}function Pr(it,at){return at.reduce(function(Ot,Kt){return Ot[Kt]=it,Ot},{})}function br(it,at){at===void 0&&(at={});var Ot=at,Kt=Ot.placement,un=Kt===void 0?it.placement:Kt,gn=Ot.boundary,bn=gn===void 0?le:gn,Nn=Ot.rootBoundary,Hn=Nn===void 0?J:Nn,yr=Ot.elementContext,Jn=yr===void 0?te:yr,Br=Ot.altBoundary,Kr=Br===void 0?!1:Br,Ar=Ot.padding,Rr=Ar===void 0?0:Ar,wr=dr(typeof Rr!="number"?Rr:Pr(Rr,W)),Sr=Jn===te?se:te,mr=it.rects.popper,Fr=it.elements[Kr?Sr:Jn],Vr=vn(f(Fr)?Fr:Fr.contextElement||O(it.elements.popper),bn,Hn),K=v(it.elements.reference),$=He({reference:K,element:mr,strategy:"absolute",placement:un}),re=sr(Object.assign({},mr,$)),R=Jn===te?re:K,oe={top:Vr.top-R.top+wr.top,bottom:R.bottom-Vr.bottom+wr.bottom,left:Vr.left-R.left+wr.left,right:R.right-Vr.right+wr.right},he=it.modifiersData.offset;if(Jn===te&&he){var Ie=he[un];Object.keys(oe).forEach(function(Ue){var nt=[ne,Y].indexOf(Ue)>=0?1:-1,gt=[Z,Y].indexOf(Ue)>=0?"y":"x";oe[Ue]+=Ie[gt]*nt})}return oe}function Or(it,at){at===void 0&&(at={});var Ot=at,Kt=Ot.placement,un=Ot.boundary,gn=Ot.rootBoundary,bn=Ot.padding,Nn=Ot.flipVariations,Hn=Ot.allowedAutoPlacements,yr=Hn===void 0?ae:Hn,Jn=vt(Kt),Br=Jn?Nn?ee:ee.filter(function(Rr){return vt(Rr)===Jn}):W,Kr=Br.filter(function(Rr){return yr.indexOf(Rr)>=0});Kr.length===0&&(Kr=Br);var Ar=Kr.reduce(function(Rr,wr){return Rr[wr]=br(it,{placement:wr,boundary:un,rootBoundary:gn,padding:bn})[en(wr)],Rr},{});return Object.keys(Ar).sort(function(Rr,wr){return Ar[Rr]-Ar[wr]})}function Lr(it){if(en(it)===L)return[];var at=st(it);return[Tt(it),at,Tt(at)]}function Wr(it){var at=it.state,Ot=it.options,Kt=it.name;if(!at.modifiersData[Kt]._skip){for(var un=Ot.mainAxis,gn=un===void 0?!0:un,bn=Ot.altAxis,Nn=bn===void 0?!0:bn,Hn=Ot.fallbackPlacements,yr=Ot.padding,Jn=Ot.boundary,Br=Ot.rootBoundary,Kr=Ot.altBoundary,Ar=Ot.flipVariations,Rr=Ar===void 0?!0:Ar,wr=Ot.allowedAutoPlacements,Sr=at.options.placement,mr=en(Sr),Fr=mr===Sr,Vr=Hn||(Fr||!Rr?[st(Sr)]:Lr(Sr)),K=[Sr].concat(Vr).reduce(function(fi,$o){return fi.concat(en($o)===L?Or(at,{placement:$o,boundary:Jn,rootBoundary:Br,padding:yr,flipVariations:Rr,allowedAutoPlacements:wr}):$o)},[]),$=at.rects.reference,re=at.rects.popper,R=new Map,oe=!0,he=K[0],Ie=0;Ie<K.length;Ie++){var Ue=K[Ie],nt=en(Ue),gt=vt(Ue)===ie,It=[Z,Y].indexOf(nt)>=0,Gt=It?"width":"height",yn=br(at,{placement:Ue,boundary:Jn,rootBoundary:Br,altBoundary:Kr,padding:yr}),pn=It?gt?ne:G:gt?Y:Z;$[Gt]>re[Gt]&&(pn=st(pn));var Kn=st(pn),sn=[];if(gn&&sn.push(yn[nt]<=0),Nn&&sn.push(yn[pn]<=0,yn[Kn]<=0),sn.every(function(fi){return fi})){he=Ue,oe=!1;break}R.set(Ue,sn)}if(oe)for(var Ur=Rr?3:1,Eo=function($o){var Li=K.find(function(Hi){var Gr=R.get(Hi);if(Gr)return Gr.slice(0,$o).every(function(Vi){return Vi})});if(Li)return he=Li,"break"},Xo=Ur;Xo>0;Xo--){var li=Eo(Xo);if(li==="break")break}at.placement!==he&&(at.modifiersData[Kt]._skip=!0,at.placement=he,at.reset=!0)}}const Zr={name:"flip",enabled:!0,phase:"main",fn:Wr,requiresIfExists:["offset"],data:{_skip:!1}};function yo(it){return it==="x"?"y":"x"}function ho(it,at,Ot){return _(it,g(at,Ot))}function $r(it,at,Ot){var Kt=ho(it,at,Ot);return Kt>Ot?Ot:Kt}function co(it){var at=it.state,Ot=it.options,Kt=it.name,un=Ot.mainAxis,gn=un===void 0?!0:un,bn=Ot.altAxis,Nn=bn===void 0?!1:bn,Hn=Ot.boundary,yr=Ot.rootBoundary,Jn=Ot.altBoundary,Br=Ot.padding,Kr=Ot.tether,Ar=Kr===void 0?!0:Kr,Rr=Ot.tetherOffset,wr=Rr===void 0?0:Rr,Sr=br(at,{boundary:Hn,rootBoundary:yr,padding:Br,altBoundary:Jn}),mr=en(at.placement),Fr=vt(at.placement),Vr=!Fr,K=Re(mr),$=yo(K),re=at.modifiersData.popperOffsets,R=at.rects.reference,oe=at.rects.popper,he=typeof wr=="function"?wr(Object.assign({},at.rects,{placement:at.placement})):wr,Ie=typeof he=="number"?{mainAxis:he,altAxis:he}:Object.assign({mainAxis:0,altAxis:0},he),Ue=at.modifiersData.offset?at.modifiersData.offset[at.placement]:null,nt={x:0,y:0};if(re){if(gn){var gt,It=K==="y"?Z:G,Gt=K==="y"?Y:ne,yn=K==="y"?"height":"width",pn=re[K],Kn=pn+Sr[It],sn=pn-Sr[Gt],Ur=Ar?-oe[yn]/2:0,Eo=Fr===ie?R[yn]:oe[yn],Xo=Fr===ie?-oe[yn]:-R[yn],li=at.elements.arrow,fi=Ar&&li?D(li):{width:0,height:0},$o=at.modifiersData["arrow#persistent"]?at.modifiersData["arrow#persistent"].padding:An(),Li=$o[It],Hi=$o[Gt],Gr=ho(0,R[yn],fi[yn]),Vi=Vr?R[yn]/2-Ur-Gr-Li-Ie.mainAxis:Eo-Gr-Li-Ie.mainAxis,ki=Vr?-R[yn]/2+Ur+Gr+Hi+Ie.mainAxis:Xo+Gr+Hi+Ie.mainAxis,ha=at.elements.arrow&&V(at.elements.arrow),Ss=ha?K==="y"?ha.clientTop||0:ha.clientLeft||0:0,Fa=(gt=Ue==null?void 0:Ue[K])!=null?gt:0,Pa=pn+Vi-Fa-Ss,Ts=pn+ki-Fa,ns=ho(Ar?g(Kn,Pa):Kn,pn,Ar?_(sn,Ts):sn);re[K]=ns,nt[K]=ns-pn}if(Nn){var Is,Bi=K==="x"?Z:G,Ki=K==="x"?Y:ne,go=re[$],pa=$==="y"?"height":"width",rs=go+Sr[Bi],Da=go-Sr[Ki],is=[Z,G].indexOf(mr)!==-1,Ds=(Is=Ue==null?void 0:Ue[$])!=null?Is:0,Ms=is?rs:go-R[pa]-oe[pa]-Ds+Ie.altAxis,as=is?go+R[pa]+oe[pa]-Ds-Ie.altAxis:Da,xs=Ar&&is?$r(Ms,go,as):ho(Ar?Ms:rs,go,Ar?as:Da);re[$]=xs,nt[$]=xs-go}at.modifiersData[Kt]=nt}}const io={name:"preventOverflow",enabled:!0,phase:"main",fn:co,requiresIfExists:["offset"]};var Tr=function(at,Ot){return at=typeof at=="function"?at(Object.assign({},Ot.rects,{placement:Ot.placement})):at,dr(typeof at!="number"?at:Pr(at,W))};function Hr(it){var at,Ot=it.state,Kt=it.name,un=it.options,gn=Ot.elements.arrow,bn=Ot.modifiersData.popperOffsets,Nn=en(Ot.placement),Hn=Re(Nn),yr=[G,ne].indexOf(Nn)>=0,Jn=yr?"height":"width";if(!(!gn||!bn)){var Br=Tr(un.padding,Ot),Kr=D(gn),Ar=Hn==="y"?Z:G,Rr=Hn==="y"?Y:ne,wr=Ot.rects.reference[Jn]+Ot.rects.reference[Hn]-bn[Hn]-Ot.rects.popper[Jn],Sr=bn[Hn]-Ot.rects.reference[Hn],mr=V(gn),Fr=mr?Hn==="y"?mr.clientHeight||0:mr.clientWidth||0:0,Vr=wr/2-Sr/2,K=Br[Ar],$=Fr-Kr[Jn]-Br[Rr],re=Fr/2-Kr[Jn]/2+Vr,R=ho(K,re,$),oe=Hn;Ot.modifiersData[Kt]=(at={},at[oe]=R,at.centerOffset=R-re,at)}}function Po(it){var at=it.state,Ot=it.options,Kt=Ot.element,un=Kt===void 0?"[data-popper-arrow]":Kt;un!=null&&(typeof un=="string"&&(un=at.elements.popper.querySelector(un),!un)||tr(at.elements.popper,un)&&(at.elements.arrow=un))}const oo={name:"arrow",enabled:!0,phase:"main",fn:Hr,effect:Po,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xr(it,at,Ot){return Ot===void 0&&(Ot={x:0,y:0}),{top:it.top-at.height-Ot.y,right:it.right-at.width+Ot.x,bottom:it.bottom-at.height+Ot.y,left:it.left-at.width-Ot.x}}function po(it){return[Z,ne,Y,G].some(function(at){return it[at]>=0})}function Oo(it){var at=it.state,Ot=it.name,Kt=at.rects.reference,un=at.rects.popper,gn=at.modifiersData.preventOverflow,bn=br(at,{elementContext:"reference"}),Nn=br(at,{altBoundary:!0}),Hn=Xr(bn,Kt),yr=Xr(Nn,un,gn),Jn=po(Hn),Br=po(yr);at.modifiersData[Ot]={referenceClippingOffsets:Hn,popperEscapeOffsets:yr,isReferenceHidden:Jn,hasPopperEscaped:Br},at.attributes.popper=Object.assign({},at.attributes.popper,{"data-popper-reference-hidden":Jn,"data-popper-escaped":Br})}var Jt=[jt,me,Ae,pe,Ye,Zr,io,oo,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Oo}],Tn=Fe({defaultModifiers:Jt}),xn='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',Xn="tippy-box",xt="tippy-content",Ft="tippy-backdrop",zt="tippy-arrow",tn="tippy-svg-arrow",rn={passive:!0,capture:!0},ln=function(){return document.body};function En(it,at){return{}.hasOwnProperty.call(it,at)}function Wn(it,at,Ot){if(Array.isArray(it)){var Kt=it[at];return Kt==null?Array.isArray(Ot)?Ot[at]:Ot:Kt}return it}function kn(it,at){var Ot={}.toString.call(it);return Ot.indexOf("[object")===0&&Ot.indexOf(at+"]")>-1}function Un(it,at){return typeof it=="function"?it.apply(void 0,at):it}function Zn(it,at){if(at===0)return it;var Ot;return function(Kt){clearTimeout(Ot),Ot=setTimeout(function(){it(Kt)},at)}}function or(it,at){var Ot=Object.assign({},it);return at.forEach(function(Kt){delete Ot[Kt]}),Ot}function yt(it){return it.split(/\s+/).filter(Boolean)}function Wt(it){return[].concat(it)}function Zt(it,at){it.indexOf(at)===-1&&it.push(at)}function Xt(it){return it.filter(function(at,Ot){return it.indexOf(at)===Ot})}function Dn(it){return it.split("-")[0]}function Cn(it){return[].slice.call(it)}function On(it){return Object.keys(it).reduce(function(at,Ot){return it[Ot]!==void 0&&(at[Ot]=it[Ot]),at},{})}function zn(){return document.createElement("div")}function Ir(it){return["Element","Fragment"].some(function(at){return kn(it,at)})}function no(it){return kn(it,"NodeList")}function Yr(it){return kn(it,"MouseEvent")}function Mr(it){return!!(it&&it._tippy&&it._tippy.reference===it)}function Qr(it){return Ir(it)?[it]:no(it)?Cn(it):Array.isArray(it)?it:Cn(document.querySelectorAll(it))}function _o(it,at){it.forEach(function(Ot){Ot&&(Ot.style.transitionDuration=at+"ms")})}function ci(it,at){it.forEach(function(Ot){Ot&&Ot.setAttribute("data-state",at)})}function Uo(it){var at,Ot=Wt(it),Kt=Ot[0];return Kt!=null&&(at=Kt.ownerDocument)!=null&&at.body?Kt.ownerDocument:document}function So(it,at){var Ot=at.clientX,Kt=at.clientY;return it.every(function(un){var gn=un.popperRect,bn=un.popperState,Nn=un.props,Hn=Nn.interactiveBorder,yr=Dn(bn.placement),Jn=bn.modifiersData.offset;if(!Jn)return!0;var Br=yr==="bottom"?Jn.top.y:0,Kr=yr==="top"?Jn.bottom.y:0,Ar=yr==="right"?Jn.left.x:0,Rr=yr==="left"?Jn.right.x:0,wr=gn.top-Kt+Br>Hn,Sr=Kt-gn.bottom-Kr>Hn,mr=gn.left-Ot+Ar>Hn,Fr=Ot-gn.right-Rr>Hn;return wr||Sr||mr||Fr})}function Yo(it,at,Ot){var Kt=at+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(un){it[Kt](un,Ot)})}function bo(it,at){for(var Ot=at;Ot;){var Kt;if(it.contains(Ot))return!0;Ot=Ot.getRootNode==null||(Kt=Ot.getRootNode())==null?void 0:Kt.host}return!1}var To={isTouch:!1},vi=0;function oi(){To.isTouch||(To.isTouch=!0,window.performance&&document.addEventListener("mousemove",di))}function di(){var it=performance.now();it-vi<20&&(To.isTouch=!1,document.removeEventListener("mousemove",di)),vi=it}function pi(){var it=document.activeElement;if(Mr(it)){var at=it._tippy;it.blur&&!at.state.isVisible&&it.blur()}}function ii(){document.addEventListener("touchstart",oi,rn),window.addEventListener("blur",pi)}var Jo=typeof window!="undefined"&&typeof document!="undefined",ji=Jo?!!window.msCrypto:!1;function Ei(it){var at=it==="destroy"?"n already-":" ";return[it+"() was called on a"+at+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function so(it){var at=/[ \t]{2,}/g,Ot=/^[ \t]*/gm;return it.replace(at," ").replace(Ot,"").trim()}function mi(it){return so(`
  %ctippy.js

  %c`+so(it)+`

  %c\u{1F477}\u200D This is a development-only message. It will be removed in production.
  `)}function Mi(it){return[mi(it),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}var si;function Fo(){si=new Set}function ai(it,at){if(it&&!si.has(at)){var Ot;si.add(at),(Ot=console).warn.apply(Ot,Mi(at))}}function qo(it,at){if(it&&!si.has(at)){var Ot;si.add(at),(Ot=console).error.apply(Ot,Mi(at))}}function wi(it){var at=!it,Ot=Object.prototype.toString.call(it)==="[object Object]"&&!it.addEventListener;qo(at,["tippy() was passed","`"+String(it)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),qo(Ot,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}var rt={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Ze={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},et=Object.assign({appendTo:ln,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},rt,Ze),ht=Object.keys(et),mt=function(at){var Ot=Object.keys(at);Ot.forEach(function(Kt){et[Kt]=at[Kt]})};function kt(it){var at=it.plugins||[],Ot=at.reduce(function(Kt,un){var gn=un.name,bn=un.defaultValue;if(gn){var Nn;Kt[gn]=it[gn]!==void 0?it[gn]:(Nn=et[gn])!=null?Nn:bn}return Kt},{});return Object.assign({},it,Ot)}function Nt(it,at){var Ot=at?Object.keys(kt(Object.assign({},et,{plugins:at}))):ht,Kt=Ot.reduce(function(un,gn){var bn=(it.getAttribute("data-tippy-"+gn)||"").trim();if(!bn)return un;if(gn==="content")un[gn]=bn;else try{un[gn]=JSON.parse(bn)}catch(Nn){un[gn]=bn}return un},{});return Kt}function Te(it,at){var Ot=Object.assign({},at,{content:Un(at.content,[it])},at.ignoreAttributes?{}:Nt(it,at.plugins));return Ot.aria=Object.assign({},et.aria,Ot.aria),Ot.aria={expanded:Ot.aria.expanded==="auto"?at.interactive:Ot.aria.expanded,content:Ot.aria.content==="auto"?at.interactive?null:"describedby":Ot.aria.content},Ot}function be(it,at){it===void 0&&(it={}),at===void 0&&(at=[]);var Ot=Object.keys(it);Ot.forEach(function(Kt){var un=or(et,Object.keys(rt)),gn=!En(un,Kt);gn&&(gn=at.filter(function(bn){return bn.name===Kt}).length===0),ai(gn,["`"+Kt+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.",`

`,`All props: https://atomiks.github.io/tippyjs/v6/all-props/
`,"Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))})}var Ce=function(){return"innerHTML"};function $e(it,at){it[Ce()]=at}function ft(it){var at=zn();return it===!0?at.className=zt:(at.className=tn,Ir(it)?at.appendChild(it):$e(at,it)),at}function pt(it,at){Ir(at.content)?($e(it,""),it.appendChild(at.content)):typeof at.content!="function"&&(at.allowHTML?$e(it,at.content):it.textContent=at.content)}function Ct(it){var at=it.firstElementChild,Ot=Cn(at.children);return{box:at,content:Ot.find(function(Kt){return Kt.classList.contains(xt)}),arrow:Ot.find(function(Kt){return Kt.classList.contains(zt)||Kt.classList.contains(tn)}),backdrop:Ot.find(function(Kt){return Kt.classList.contains(Ft)})}}function St(it){var at=zn(),Ot=zn();Ot.className=Xn,Ot.setAttribute("data-state","hidden"),Ot.setAttribute("tabindex","-1");var Kt=zn();Kt.className=xt,Kt.setAttribute("data-state","hidden"),pt(Kt,it.props),at.appendChild(Ot),Ot.appendChild(Kt),un(it.props,it.props);function un(gn,bn){var Nn=Ct(at),Hn=Nn.box,yr=Nn.content,Jn=Nn.arrow;bn.theme?Hn.setAttribute("data-theme",bn.theme):Hn.removeAttribute("data-theme"),typeof bn.animation=="string"?Hn.setAttribute("data-animation",bn.animation):Hn.removeAttribute("data-animation"),bn.inertia?Hn.setAttribute("data-inertia",""):Hn.removeAttribute("data-inertia"),Hn.style.maxWidth=typeof bn.maxWidth=="number"?bn.maxWidth+"px":bn.maxWidth,bn.role?Hn.setAttribute("role",bn.role):Hn.removeAttribute("role"),(gn.content!==bn.content||gn.allowHTML!==bn.allowHTML)&&pt(yr,it.props),bn.arrow?Jn?gn.arrow!==bn.arrow&&(Hn.removeChild(Jn),Hn.appendChild(ft(bn.arrow))):Hn.appendChild(ft(bn.arrow)):Jn&&Hn.removeChild(Jn)}return{popper:at,onUpdate:un}}St.$$tippy=!0;var Bt=1,Ut=[],fn=[];function Qt(it,at){var Ot=Te(it,Object.assign({},et,kt(On(at)))),Kt,un,gn,bn=!1,Nn=!1,Hn=!1,yr=!1,Jn,Br,Kr,Ar=[],Rr=Zn(Pa,Ot.interactiveDebounce),wr,Sr=Bt++,mr=null,Fr=Xt(Ot.plugins),Vr={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},K={id:Sr,reference:it,popper:zn(),popperInstance:mr,props:Ot,state:Vr,plugins:Fr,clearDelayTimeouts:Ms,setProps:as,setContent:xs,show:ud,hide:bu,hideWithInteractivity:cd,enable:is,disable:Ds,unmount:dd,destroy:$h};if(!Ot.render)return K;var $=Ot.render(K),re=$.popper,R=$.onUpdate;re.setAttribute("data-tippy-root",""),re.id="tippy-"+K.id,K.popper=re,it._tippy=K,re._tippy=K;var oe=Fr.map(function(Fn){return Fn.fn(K)}),he=it.hasAttribute("aria-expanded");return ha(),Ur(),pn(),Kn("onCreate",[K]),Ot.showOnCreate&&rs(),re.addEventListener("mouseenter",function(){K.props.interactive&&K.state.isVisible&&K.clearDelayTimeouts()}),re.addEventListener("mouseleave",function(){K.props.interactive&&K.props.trigger.indexOf("mouseenter")>=0&&It().addEventListener("mousemove",Rr)}),K;function Ie(){var Fn=K.props.touch;return Array.isArray(Fn)?Fn:[Fn,0]}function Ue(){return Ie()[0]==="hold"}function nt(){var Fn;return!!((Fn=K.props.render)!=null&&Fn.$$tippy)}function gt(){return wr||it}function It(){var Fn=gt().parentNode;return Fn?Uo(Fn):document}function Gt(){return Ct(re)}function yn(Fn){return K.state.isMounted&&!K.state.isVisible||To.isTouch||Jn&&Jn.type==="focus"?0:Wn(K.props.delay,Fn?0:1,et.delay)}function pn(Fn){Fn===void 0&&(Fn=!1),re.style.pointerEvents=K.props.interactive&&!Fn?"":"none",re.style.zIndex=""+K.props.zIndex}function Kn(Fn,jr,Jr){if(Jr===void 0&&(Jr=!0),oe.forEach(function(wo){wo[Fn]&&wo[Fn].apply(wo,jr)}),Jr){var Mo;(Mo=K.props)[Fn].apply(Mo,jr)}}function sn(){var Fn=K.props.aria;if(Fn.content){var jr="aria-"+Fn.content,Jr=re.id,Mo=Wt(K.props.triggerTarget||it);Mo.forEach(function(wo){var Oi=wo.getAttribute(jr);if(K.state.isVisible)wo.setAttribute(jr,Oi?Oi+" "+Jr:Jr);else{var $i=Oi&&Oi.replace(Jr,"").trim();$i?wo.setAttribute(jr,$i):wo.removeAttribute(jr)}})}}function Ur(){if(!(he||!K.props.aria.expanded)){var Fn=Wt(K.props.triggerTarget||it);Fn.forEach(function(jr){K.props.interactive?jr.setAttribute("aria-expanded",K.state.isVisible&&jr===gt()?"true":"false"):jr.removeAttribute("aria-expanded")})}}function Eo(){It().removeEventListener("mousemove",Rr),Ut=Ut.filter(function(Fn){return Fn!==Rr})}function Xo(Fn){if(!(To.isTouch&&(Hn||Fn.type==="mousedown"))){var jr=Fn.composedPath&&Fn.composedPath()[0]||Fn.target;if(!(K.props.interactive&&bo(re,jr))){if(Wt(K.props.triggerTarget||it).some(function(Jr){return bo(Jr,jr)})){if(To.isTouch||K.state.isVisible&&K.props.trigger.indexOf("click")>=0)return}else Kn("onClickOutside",[K,Fn]);K.props.hideOnClick===!0&&(K.clearDelayTimeouts(),K.hide(),Nn=!0,setTimeout(function(){Nn=!1}),K.state.isMounted||Li())}}}function li(){Hn=!0}function fi(){Hn=!1}function $o(){var Fn=It();Fn.addEventListener("mousedown",Xo,!0),Fn.addEventListener("touchend",Xo,rn),Fn.addEventListener("touchstart",fi,rn),Fn.addEventListener("touchmove",li,rn)}function Li(){var Fn=It();Fn.removeEventListener("mousedown",Xo,!0),Fn.removeEventListener("touchend",Xo,rn),Fn.removeEventListener("touchstart",fi,rn),Fn.removeEventListener("touchmove",li,rn)}function Hi(Fn,jr){Vi(Fn,function(){!K.state.isVisible&&re.parentNode&&re.parentNode.contains(re)&&jr()})}function Gr(Fn,jr){Vi(Fn,jr)}function Vi(Fn,jr){var Jr=Gt().box;function Mo(wo){wo.target===Jr&&(Yo(Jr,"remove",Mo),jr())}if(Fn===0)return jr();Yo(Jr,"remove",Br),Yo(Jr,"add",Mo),Br=Mo}function ki(Fn,jr,Jr){Jr===void 0&&(Jr=!1);var Mo=Wt(K.props.triggerTarget||it);Mo.forEach(function(wo){wo.addEventListener(Fn,jr,Jr),Ar.push({node:wo,eventType:Fn,handler:jr,options:Jr})})}function ha(){Ue()&&(ki("touchstart",Fa,{passive:!0}),ki("touchend",Ts,{passive:!0})),yt(K.props.trigger).forEach(function(Fn){if(Fn!=="manual")switch(ki(Fn,Fa),Fn){case"mouseenter":ki("mouseleave",Ts);break;case"focus":ki(ji?"focusout":"blur",ns);break;case"focusin":ki("focusout",ns);break}})}function Ss(){Ar.forEach(function(Fn){var jr=Fn.node,Jr=Fn.eventType,Mo=Fn.handler,wo=Fn.options;jr.removeEventListener(Jr,Mo,wo)}),Ar=[]}function Fa(Fn){var jr,Jr=!1;if(!(!K.state.isEnabled||Is(Fn)||Nn)){var Mo=((jr=Jn)==null?void 0:jr.type)==="focus";Jn=Fn,wr=Fn.currentTarget,Ur(),!K.state.isVisible&&Yr(Fn)&&Ut.forEach(function(wo){return wo(Fn)}),Fn.type==="click"&&(K.props.trigger.indexOf("mouseenter")<0||bn)&&K.props.hideOnClick!==!1&&K.state.isVisible?Jr=!0:rs(Fn),Fn.type==="click"&&(bn=!Jr),Jr&&!Mo&&Da(Fn)}}function Pa(Fn){var jr=Fn.target,Jr=gt().contains(jr)||re.contains(jr);if(!(Fn.type==="mousemove"&&Jr)){var Mo=pa().concat(re).map(function(wo){var Oi,$i=wo._tippy,Ma=(Oi=$i.popperInstance)==null?void 0:Oi.state;return Ma?{popperRect:wo.getBoundingClientRect(),popperState:Ma,props:Ot}:null}).filter(Boolean);So(Mo,Fn)&&(Eo(),Da(Fn))}}function Ts(Fn){var jr=Is(Fn)||K.props.trigger.indexOf("click")>=0&&bn;if(!jr){if(K.props.interactive){K.hideWithInteractivity(Fn);return}Da(Fn)}}function ns(Fn){K.props.trigger.indexOf("focusin")<0&&Fn.target!==gt()||K.props.interactive&&Fn.relatedTarget&&re.contains(Fn.relatedTarget)||Da(Fn)}function Is(Fn){return To.isTouch?Ue()!==Fn.type.indexOf("touch")>=0:!1}function Bi(){Ki();var Fn=K.props,jr=Fn.popperOptions,Jr=Fn.placement,Mo=Fn.offset,wo=Fn.getReferenceClientRect,Oi=Fn.moveTransition,$i=nt()?Ct(re).arrow:null,Ma=wo?{getBoundingClientRect:wo,contextElement:wo.contextElement||gt()}:it,Pu={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(As){var ja=As.state;if(nt()){var fd=Gt(),al=fd.box;["placement","reference-hidden","escaped"].forEach(function(ss){ss==="placement"?al.setAttribute("data-placement",ja.placement):ja.attributes.popper["data-popper-"+ss]?al.setAttribute("data-"+ss,""):al.removeAttribute("data-"+ss)}),ja.attributes.popper={}}}},xa=[{name:"offset",options:{offset:Mo}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Oi}},Pu];nt()&&$i&&xa.push({name:"arrow",options:{element:$i,padding:3}}),xa.push.apply(xa,(jr==null?void 0:jr.modifiers)||[]),K.popperInstance=Tn(Ma,re,Object.assign({},jr,{placement:Jr,onFirstUpdate:Kr,modifiers:xa}))}function Ki(){K.popperInstance&&(K.popperInstance.destroy(),K.popperInstance=null)}function go(){var Fn=K.props.appendTo,jr,Jr=gt();K.props.interactive&&Fn===ln||Fn==="parent"?jr=Jr.parentNode:jr=Un(Fn,[Jr]),jr.contains(re)||jr.appendChild(re),K.state.isMounted=!0,Bi()}function pa(){return Cn(re.querySelectorAll("[data-tippy-root]"))}function rs(Fn){K.clearDelayTimeouts(),Fn&&Kn("onTrigger",[K,Fn]),$o();var jr=yn(!0),Jr=Ie(),Mo=Jr[0],wo=Jr[1];To.isTouch&&Mo==="hold"&&wo&&(jr=wo),jr?Kt=setTimeout(function(){K.show()},jr):K.show()}function Da(Fn){if(K.clearDelayTimeouts(),Kn("onUntrigger",[K,Fn]),!K.state.isVisible){Li();return}if(!(K.props.trigger.indexOf("mouseenter")>=0&&K.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Fn.type)>=0&&bn)){var jr=yn(!1);jr?un=setTimeout(function(){K.state.isVisible&&K.hide()},jr):gn=requestAnimationFrame(function(){K.hide()})}}function is(){K.state.isEnabled=!0}function Ds(){K.hide(),K.state.isEnabled=!1}function Ms(){clearTimeout(Kt),clearTimeout(un),cancelAnimationFrame(gn)}function as(Fn){if(!K.state.isDestroyed){Kn("onBeforeUpdate",[K,Fn]),Ss();var jr=K.props,Jr=Te(it,Object.assign({},jr,On(Fn),{ignoreAttributes:!0}));K.props=Jr,ha(),jr.interactiveDebounce!==Jr.interactiveDebounce&&(Eo(),Rr=Zn(Pa,Jr.interactiveDebounce)),jr.triggerTarget&&!Jr.triggerTarget?Wt(jr.triggerTarget).forEach(function(Mo){Mo.removeAttribute("aria-expanded")}):Jr.triggerTarget&&it.removeAttribute("aria-expanded"),Ur(),pn(),R&&R(jr,Jr),K.popperInstance&&(Bi(),pa().forEach(function(Mo){requestAnimationFrame(Mo._tippy.popperInstance.forceUpdate)})),Kn("onAfterUpdate",[K,Fn])}}function xs(Fn){K.setProps({content:Fn})}function ud(){var Fn=K.state.isVisible,jr=K.state.isDestroyed,Jr=!K.state.isEnabled,Mo=To.isTouch&&!K.props.touch,wo=Wn(K.props.duration,0,et.duration);if(!(Fn||jr||Jr||Mo)&&!gt().hasAttribute("disabled")&&(Kn("onShow",[K],!1),K.props.onShow(K)!==!1)){if(K.state.isVisible=!0,nt()&&(re.style.visibility="visible"),pn(),$o(),K.state.isMounted||(re.style.transition="none"),nt()){var Oi=Gt(),$i=Oi.box,Ma=Oi.content;_o([$i,Ma],0)}Kr=function(){var xa;if(!(!K.state.isVisible||yr)){if(yr=!0,re.offsetHeight,re.style.transition=K.props.moveTransition,nt()&&K.props.animation){var Eu=Gt(),As=Eu.box,ja=Eu.content;_o([As,ja],wo),ci([As,ja],"visible")}sn(),Ur(),Zt(fn,K),(xa=K.popperInstance)==null||xa.forceUpdate(),Kn("onMount",[K]),K.props.animation&&nt()&&Gr(wo,function(){K.state.isShown=!0,Kn("onShown",[K])})}},go()}}function bu(){var Fn=!K.state.isVisible,jr=K.state.isDestroyed,Jr=!K.state.isEnabled,Mo=Wn(K.props.duration,1,et.duration);if(!(Fn||jr||Jr)&&(Kn("onHide",[K],!1),K.props.onHide(K)!==!1)){if(K.state.isVisible=!1,K.state.isShown=!1,yr=!1,bn=!1,nt()&&(re.style.visibility="hidden"),Eo(),Li(),pn(!0),nt()){var wo=Gt(),Oi=wo.box,$i=wo.content;K.props.animation&&(_o([Oi,$i],Mo),ci([Oi,$i],"hidden"))}sn(),Ur(),K.props.animation?nt()&&Hi(Mo,K.unmount):K.unmount()}}function cd(Fn){It().addEventListener("mousemove",Rr),Zt(Ut,Rr),Rr(Fn)}function dd(){K.state.isVisible&&K.hide(),K.state.isMounted&&(Ki(),pa().forEach(function(Fn){Fn._tippy.unmount()}),re.parentNode&&re.parentNode.removeChild(re),fn=fn.filter(function(Fn){return Fn!==K}),K.state.isMounted=!1,Kn("onHidden",[K]))}function $h(){K.state.isDestroyed||(K.clearDelayTimeouts(),K.unmount(),Ss(),delete it._tippy,K.state.isDestroyed=!0,Kn("onDestroy",[K]))}}function dn(it,at){at===void 0&&(at={});var Ot=et.plugins.concat(at.plugins||[]);ii();var Kt=Object.assign({},at,{plugins:Ot}),un=Qr(it);if(!1)var gn,bn;var Nn=un.reduce(function(Hn,yr){var Jn=yr&&Qt(yr,Kt);return Jn&&Hn.push(Jn),Hn},[]);return Ir(it)?Nn[0]:Nn}dn.defaultProps=et,dn.setDefaultProps=mt,dn.currentInput=To;var In=function(at){var Ot=at===void 0?{}:at,Kt=Ot.exclude,un=Ot.duration;fn.forEach(function(gn){var bn=!1;if(Kt&&(bn=Mr(Kt)?gn.reference===Kt:gn.popper===Kt.popper),!bn){var Nn=gn.props.duration;gn.setProps({duration:un}),gn.hide(),gn.state.isDestroyed||gn.setProps({duration:Nn})}})},Yn=Object.assign({},pe,{effect:function(at){var Ot=at.state,Kt={popper:{position:Ot.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(Ot.elements.popper.style,Kt.popper),Ot.styles=Kt,Ot.elements.arrow&&Object.assign(Ot.elements.arrow.style,Kt.arrow)}}),pr=function(at,Ot){var Kt;Ot===void 0&&(Ot={});var un=at,gn=[],bn=[],Nn,Hn=Ot.overrides,yr=[],Jn=!1;function Br(){bn=un.map(function(K){return Wt(K.props.triggerTarget||K.reference)}).reduce(function(K,$){return K.concat($)},[])}function Kr(){gn=un.map(function(K){return K.reference})}function Ar(K){un.forEach(function($){K?$.enable():$.disable()})}function Rr(K){return un.map(function($){var re=$.setProps;return $.setProps=function(R){re(R),$.reference===Nn&&K.setProps(R)},function(){$.setProps=re}})}function wr(K,$){var re=bn.indexOf($);if($!==Nn){Nn=$;var R=(Hn||[]).concat("content").reduce(function(oe,he){return oe[he]=un[re].props[he],oe},{});K.setProps(Object.assign({},R,{getReferenceClientRect:typeof R.getReferenceClientRect=="function"?R.getReferenceClientRect:function(){var oe;return(oe=gn[re])==null?void 0:oe.getBoundingClientRect()}}))}}Ar(!1),Kr(),Br();var Sr={fn:function(){return{onDestroy:function(){Ar(!0)},onHidden:function(){Nn=null},onClickOutside:function(re){re.props.showOnCreate&&!Jn&&(Jn=!0,Nn=null)},onShow:function(re){re.props.showOnCreate&&!Jn&&(Jn=!0,wr(re,gn[0]))},onTrigger:function(re,R){wr(re,R.currentTarget)}}}},mr=dn(zn(),Object.assign({},or(Ot,["overrides"]),{plugins:[Sr].concat(Ot.plugins||[]),triggerTarget:bn,popperOptions:Object.assign({},Ot.popperOptions,{modifiers:[].concat(((Kt=Ot.popperOptions)==null?void 0:Kt.modifiers)||[],[Yn])})})),Fr=mr.show;mr.show=function(K){if(Fr(),!Nn&&K==null)return wr(mr,gn[0]);if(!(Nn&&K==null)){if(typeof K=="number")return gn[K]&&wr(mr,gn[K]);if(un.indexOf(K)>=0){var $=K.reference;return wr(mr,$)}if(gn.indexOf(K)>=0)return wr(mr,K)}},mr.showNext=function(){var K=gn[0];if(!Nn)return mr.show(0);var $=gn.indexOf(Nn);mr.show(gn[$+1]||K)},mr.showPrevious=function(){var K=gn[gn.length-1];if(!Nn)return mr.show(K);var $=gn.indexOf(Nn),re=gn[$-1]||K;mr.show(re)};var Vr=mr.setProps;return mr.setProps=function(K){Hn=K.overrides||Hn,Vr(K)},mr.setInstances=function(K){Ar(!0),yr.forEach(function($){return $()}),un=K,Ar(!1),Kr(),Br(),yr=Rr(mr),mr.setProps({triggerTarget:bn})},yr=Rr(mr),mr},lr={mouseover:"mouseenter",focusin:"focus",click:"click"};function wn(it,at){var Ot=[],Kt=[],un=!1,gn=at.target,bn=or(at,["target"]),Nn=Object.assign({},bn,{trigger:"manual",touch:!1}),Hn=Object.assign({touch:et.touch},bn,{showOnCreate:!0}),yr=dn(it,Nn),Jn=Wt(yr);function Br(Sr){if(!(!Sr.target||un)){var mr=Sr.target.closest(gn);if(mr){var Fr=mr.getAttribute("data-tippy-trigger")||at.trigger||et.trigger;if(!mr._tippy&&!(Sr.type==="touchstart"&&typeof Hn.touch=="boolean")&&!(Sr.type!=="touchstart"&&Fr.indexOf(lr[Sr.type])<0)){var Vr=dn(mr,Hn);Vr&&(Kt=Kt.concat(Vr))}}}}function Kr(Sr,mr,Fr,Vr){Vr===void 0&&(Vr=!1),Sr.addEventListener(mr,Fr,Vr),Ot.push({node:Sr,eventType:mr,handler:Fr,options:Vr})}function Ar(Sr){var mr=Sr.reference;Kr(mr,"touchstart",Br,rn),Kr(mr,"mouseover",Br),Kr(mr,"focusin",Br),Kr(mr,"click",Br)}function Rr(){Ot.forEach(function(Sr){var mr=Sr.node,Fr=Sr.eventType,Vr=Sr.handler,K=Sr.options;mr.removeEventListener(Fr,Vr,K)}),Ot=[]}function wr(Sr){var mr=Sr.destroy,Fr=Sr.enable,Vr=Sr.disable;Sr.destroy=function(K){K===void 0&&(K=!0),K&&Kt.forEach(function($){$.destroy()}),Kt=[],Rr(),mr()},Sr.enable=function(){Fr(),Kt.forEach(function(K){return K.enable()}),un=!1},Sr.disable=function(){Vr(),Kt.forEach(function(K){return K.disable()}),un=!0},Ar(Sr)}return Jn.forEach(wr),yr}var vr={name:"animateFill",defaultValue:!1,fn:function(at){var Ot;if(!((Ot=at.props.render)!=null&&Ot.$$tippy))return{};var Kt=Ct(at.popper),un=Kt.box,gn=Kt.content,bn=at.props.animateFill?ur():null;return{onCreate:function(){bn&&(un.insertBefore(bn,un.firstElementChild),un.setAttribute("data-animatefill",""),un.style.overflow="hidden",at.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(bn){var Hn=un.style.transitionDuration,yr=Number(Hn.replace("ms",""));gn.style.transitionDelay=Math.round(yr/10)+"ms",bn.style.transitionDuration=Hn,ci([bn],"visible")}},onShow:function(){bn&&(bn.style.transitionDuration="0ms")},onHide:function(){bn&&ci([bn],"hidden")}}}};function ur(){var it=zn();return it.className=Ft,ci([it],"hidden"),it}var Dr={clientX:0,clientY:0},xr=[];function lo(it){var at=it.clientX,Ot=it.clientY;Dr={clientX:at,clientY:Ot}}function Io(it){it.addEventListener("mousemove",lo)}function Co(it){it.removeEventListener("mousemove",lo)}var zr={name:"followCursor",defaultValue:!1,fn:function(at){var Ot=at.reference,Kt=Uo(at.props.triggerTarget||Ot),un=!1,gn=!1,bn=!0,Nn=at.props;function Hn(){return at.props.followCursor==="initial"&&at.state.isVisible}function yr(){Kt.addEventListener("mousemove",Kr)}function Jn(){Kt.removeEventListener("mousemove",Kr)}function Br(){un=!0,at.setProps({getReferenceClientRect:null}),un=!1}function Kr(wr){var Sr=wr.target?Ot.contains(wr.target):!0,mr=at.props.followCursor,Fr=wr.clientX,Vr=wr.clientY,K=Ot.getBoundingClientRect(),$=Fr-K.left,re=Vr-K.top;(Sr||!at.props.interactive)&&at.setProps({getReferenceClientRect:function(){var oe=Ot.getBoundingClientRect(),he=Fr,Ie=Vr;mr==="initial"&&(he=oe.left+$,Ie=oe.top+re);var Ue=mr==="horizontal"?oe.top:Ie,nt=mr==="vertical"?oe.right:he,gt=mr==="horizontal"?oe.bottom:Ie,It=mr==="vertical"?oe.left:he;return{width:nt-It,height:gt-Ue,top:Ue,right:nt,bottom:gt,left:It}}})}function Ar(){at.props.followCursor&&(xr.push({instance:at,doc:Kt}),Io(Kt))}function Rr(){xr=xr.filter(function(wr){return wr.instance!==at}),xr.filter(function(wr){return wr.doc===Kt}).length===0&&Co(Kt)}return{onCreate:Ar,onDestroy:Rr,onBeforeUpdate:function(){Nn=at.props},onAfterUpdate:function(Sr,mr){var Fr=mr.followCursor;un||Fr!==void 0&&Nn.followCursor!==Fr&&(Rr(),Fr?(Ar(),at.state.isMounted&&!gn&&!Hn()&&yr()):(Jn(),Br()))},onMount:function(){at.props.followCursor&&!gn&&(bn&&(Kr(Dr),bn=!1),Hn()||yr())},onTrigger:function(Sr,mr){Yr(mr)&&(Dr={clientX:mr.clientX,clientY:mr.clientY}),gn=mr.type==="focus"},onHidden:function(){at.props.followCursor&&(Br(),Jn(),bn=!0)}}}};function Vo(it,at){var Ot;return{popperOptions:Object.assign({},it.popperOptions,{modifiers:[].concat((((Ot=it.popperOptions)==null?void 0:Ot.modifiers)||[]).filter(function(Kt){var un=Kt.name;return un!==at.name}),[at])})}}var Ko={name:"inlinePositioning",defaultValue:!1,fn:function(at){var Ot=at.reference;function Kt(){return!!at.props.inlinePositioning}var un,gn=-1,bn=!1,Nn=[],Hn={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(Ar){var Rr=Ar.state;Kt()&&(Nn.indexOf(Rr.placement)!==-1&&(Nn=[]),un!==Rr.placement&&Nn.indexOf(Rr.placement)===-1&&(Nn.push(Rr.placement),at.setProps({getReferenceClientRect:function(){return yr(Rr.placement)}})),un=Rr.placement)}};function yr(Kr){return ei(Dn(Kr),Ot.getBoundingClientRect(),Cn(Ot.getClientRects()),gn)}function Jn(Kr){bn=!0,at.setProps(Kr),bn=!1}function Br(){bn||Jn(Vo(at.props,Hn))}return{onCreate:Br,onAfterUpdate:Br,onTrigger:function(Ar,Rr){if(Yr(Rr)){var wr=Cn(at.reference.getClientRects()),Sr=wr.find(function(Fr){return Fr.left-2<=Rr.clientX&&Fr.right+2>=Rr.clientX&&Fr.top-2<=Rr.clientY&&Fr.bottom+2>=Rr.clientY}),mr=wr.indexOf(Sr);gn=mr>-1?mr:gn}},onHidden:function(){gn=-1}}}};function ei(it,at,Ot,Kt){if(Ot.length<2||it===null)return at;if(Ot.length===2&&Kt>=0&&Ot[0].left>Ot[1].right)return Ot[Kt]||at;switch(it){case"top":case"bottom":{var un=Ot[0],gn=Ot[Ot.length-1],bn=it==="top",Nn=un.top,Hn=gn.bottom,yr=bn?un.left:gn.left,Jn=bn?un.right:gn.right,Br=Jn-yr,Kr=Hn-Nn;return{top:Nn,bottom:Hn,left:yr,right:Jn,width:Br,height:Kr}}case"left":case"right":{var Ar=Math.min.apply(Math,Ot.map(function(re){return re.left})),Rr=Math.max.apply(Math,Ot.map(function(re){return re.right})),wr=Ot.filter(function(re){return it==="left"?re.left===Ar:re.right===Rr}),Sr=wr[0].top,mr=wr[wr.length-1].bottom,Fr=Ar,Vr=Rr,K=Vr-Fr,$=mr-Sr;return{top:Sr,bottom:mr,left:Fr,right:Vr,width:K,height:$}}default:return at}}var Wi={name:"sticky",defaultValue:!1,fn:function(at){var Ot=at.reference,Kt=at.popper;function un(){return at.popperInstance?at.popperInstance.state.elements.reference:Ot}function gn(yr){return at.props.sticky===!0||at.props.sticky===yr}var bn=null,Nn=null;function Hn(){var yr=gn("reference")?un().getBoundingClientRect():null,Jn=gn("popper")?Kt.getBoundingClientRect():null;(yr&&Ci(bn,yr)||Jn&&Ci(Nn,Jn))&&at.popperInstance&&at.popperInstance.update(),bn=yr,Nn=Jn,at.state.isMounted&&requestAnimationFrame(Hn)}return{onMount:function(){at.props.sticky&&Hn()}}}};function Ci(it,at){return it&&at?it.top!==at.top||it.right!==at.right||it.bottom!==at.bottom||it.left!==at.left:!0}dn.setDefaultProps({render:St});const jo=dn},8575:(z,l,e)=>{var o=e(74971);l.parse=P,l.resolve=D,l.resolveObject=A,l.format=C,l.Url=f;function f(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var u=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,_=["<",">",'"',"`"," ","\r",`
`,"	"],g=["{","}","|","\\","^","`"].concat(_),E=["'"].concat(g),v=["%","/","?",";","#"].concat(E),y=["/","?","#"],T=255,w=/^[a-z0-9A-Z_-]{0,63}$/,S=/^([a-z0-9A-Z_-]{0,63})(.*)$/,O={javascript:!0,"javascript:":!0},p={javascript:!0,"javascript:":!0},d={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},a=e(17673);function P(B,V,Z){if(B&&I(B)&&B instanceof f)return B;var Y=new f;return Y.parse(B,V,Z),Y}f.prototype.parse=function(B,V,Z){if(!x(B))throw new TypeError("Parameter 'url' must be a string, not "+typeof B);var Y=B;Y=Y.trim();var ne=u.exec(Y);if(ne){ne=ne[0];var G=ne.toLowerCase();this.protocol=G,Y=Y.substr(ne.length)}if(Z||ne||Y.match(/^\/\/[^@\/]+@[^@\/]+/)){var L=Y.substr(0,2)==="//";L&&!(ne&&p[ne])&&(Y=Y.substr(2),this.slashes=!0)}if(!p[ne]&&(L||ne&&!d[ne])){for(var W=-1,ie=0;ie<y.length;ie++){var ue=Y.indexOf(y[ie]);ue!==-1&&(W===-1||ue<W)&&(W=ue)}var le,J;W===-1?J=Y.lastIndexOf("@"):J=Y.lastIndexOf("@",W),J!==-1&&(le=Y.slice(0,J),Y=Y.slice(J+1),this.auth=decodeURIComponent(le)),W=-1;for(var ie=0;ie<v.length;ie++){var ue=Y.indexOf(v[ie]);ue!==-1&&(W===-1||ue<W)&&(W=ue)}W===-1&&(W=Y.length),this.host=Y.slice(0,W),Y=Y.slice(W),this.parseHost(),this.hostname=this.hostname||"";var te=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!te)for(var se=this.hostname.split(/\./),ie=0,ee=se.length;ie<ee;ie++){var ae=se[ie];if(ae&&!ae.match(w)){for(var ce="",fe=0,Ee=ae.length;fe<Ee;fe++)ae.charCodeAt(fe)>127?ce+="x":ce+=ae[fe];if(!ce.match(w)){var de=se.slice(0,ie),_e=se.slice(ie+1),ve=ae.match(S);ve&&(de.push(ve[1]),_e.unshift(ve[2])),_e.length&&(Y="/"+_e.join(".")+Y),this.hostname=de.join(".");break}}}if(this.hostname.length>T?this.hostname="":this.hostname=this.hostname.toLowerCase(),!te){for(var De=this.hostname.split("."),Oe=[],ie=0;ie<De.length;++ie){var ye=De[ie];Oe.push(ye.match(/[^A-Za-z0-9_-]/)?"xn--"+o.encode(ye):ye)}this.hostname=Oe.join(".")}var ze=this.port?":"+this.port:"",Be=this.hostname||"";this.host=Be+ze,this.href+=this.host,te&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Y[0]!=="/"&&(Y="/"+Y))}if(!O[G])for(var ie=0,ee=E.length;ie<ee;ie++){var We=E[ie],Ke=encodeURIComponent(We);Ke===We&&(Ke=escape(We)),Y=Y.split(We).join(Ke)}var Xe=Y.indexOf("#");Xe!==-1&&(this.hash=Y.substr(Xe),Y=Y.slice(0,Xe));var ct=Y.indexOf("?");if(ct!==-1?(this.search=Y.substr(ct),this.query=Y.substr(ct+1),V&&(this.query=a.parse(this.query)),Y=Y.slice(0,ct)):V&&(this.search="",this.query={}),Y&&(this.pathname=Y),d[G]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var ze=this.pathname||"",ye=this.search||"";this.path=ze+ye}return this.href=this.format(),this};function C(B){return x(B)&&(B=P(B)),B instanceof f?B.format():f.prototype.format.call(B)}f.prototype.format=function(){var B=this.auth||"";B&&(B=encodeURIComponent(B),B=B.replace(/%3A/i,":"),B+="@");var V=this.protocol||"",Z=this.pathname||"",Y=this.hash||"",ne=!1,G="";this.host?ne=B+this.host:this.hostname&&(ne=B+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(ne+=":"+this.port)),this.query&&I(this.query)&&Object.keys(this.query).length&&(G=a.stringify(this.query));var L=this.search||G&&"?"+G||"";return V&&V.substr(-1)!==":"&&(V+=":"),this.slashes||(!V||d[V])&&ne!==!1?(ne="//"+(ne||""),Z&&Z.charAt(0)!=="/"&&(Z="/"+Z)):ne||(ne=""),Y&&Y.charAt(0)!=="#"&&(Y="#"+Y),L&&L.charAt(0)!=="?"&&(L="?"+L),Z=Z.replace(/[?#]/g,function(W){return encodeURIComponent(W)}),L=L.replace("#","%23"),V+ne+Z+L+Y};function D(B,V){return P(B,!1,!0).resolve(V)}f.prototype.resolve=function(B){return this.resolveObject(P(B,!1,!0)).format()};function A(B,V){return B?P(B,!1,!0).resolveObject(V):V}f.prototype.resolveObject=function(B){if(x(B)){var V=new f;V.parse(B,!1,!0),B=V}var Z=new f;if(Object.keys(this).forEach(function(Ee){Z[Ee]=this[Ee]},this),Z.hash=B.hash,B.href==="")return Z.href=Z.format(),Z;if(B.slashes&&!B.protocol)return Object.keys(B).forEach(function(Ee){Ee!=="protocol"&&(Z[Ee]=B[Ee])}),d[Z.protocol]&&Z.hostname&&!Z.pathname&&(Z.path=Z.pathname="/"),Z.href=Z.format(),Z;if(B.protocol&&B.protocol!==Z.protocol){if(!d[B.protocol])return Object.keys(B).forEach(function(Ee){Z[Ee]=B[Ee]}),Z.href=Z.format(),Z;if(Z.protocol=B.protocol,!B.host&&!p[B.protocol]){for(var le=(B.pathname||"").split("/");le.length&&!(B.host=le.shift()););B.host||(B.host=""),B.hostname||(B.hostname=""),le[0]!==""&&le.unshift(""),le.length<2&&le.unshift(""),Z.pathname=le.join("/")}else Z.pathname=B.pathname;if(Z.search=B.search,Z.query=B.query,Z.host=B.host||"",Z.auth=B.auth,Z.hostname=B.hostname||B.host,Z.port=B.port,Z.pathname||Z.search){var Y=Z.pathname||"",ne=Z.search||"";Z.path=Y+ne}return Z.slashes=Z.slashes||B.slashes,Z.href=Z.format(),Z}var G=Z.pathname&&Z.pathname.charAt(0)==="/",L=B.host||B.pathname&&B.pathname.charAt(0)==="/",W=L||G||Z.host&&B.pathname,ie=W,ue=Z.pathname&&Z.pathname.split("/")||[],le=B.pathname&&B.pathname.split("/")||[],J=Z.protocol&&!d[Z.protocol];if(J&&(Z.hostname="",Z.port=null,Z.host&&(ue[0]===""?ue[0]=Z.host:ue.unshift(Z.host)),Z.host="",B.protocol&&(B.hostname=null,B.port=null,B.host&&(le[0]===""?le[0]=B.host:le.unshift(B.host)),B.host=null),W=W&&(le[0]===""||ue[0]==="")),L)Z.host=B.host||B.host===""?B.host:Z.host,Z.hostname=B.hostname||B.hostname===""?B.hostname:Z.hostname,Z.search=B.search,Z.query=B.query,ue=le;else if(le.length)ue||(ue=[]),ue.pop(),ue=ue.concat(le),Z.search=B.search,Z.query=B.query;else if(!F(B.search)){if(J){Z.hostname=Z.host=ue.shift();var te=Z.host&&Z.host.indexOf("@")>0?Z.host.split("@"):!1;te&&(Z.auth=te.shift(),Z.host=Z.hostname=te.shift())}return Z.search=B.search,Z.query=B.query,(!N(Z.pathname)||!N(Z.search))&&(Z.path=(Z.pathname?Z.pathname:"")+(Z.search?Z.search:"")),Z.href=Z.format(),Z}if(!ue.length)return Z.pathname=null,Z.search?Z.path="/"+Z.search:Z.path=null,Z.href=Z.format(),Z;for(var se=ue.slice(-1)[0],ee=(Z.host||B.host)&&(se==="."||se==="..")||se==="",ae=0,ce=ue.length;ce>=0;ce--)se=ue[ce],se=="."?ue.splice(ce,1):se===".."?(ue.splice(ce,1),ae++):ae&&(ue.splice(ce,1),ae--);if(!W&&!ie)for(;ae--;ae)ue.unshift("..");W&&ue[0]!==""&&(!ue[0]||ue[0].charAt(0)!=="/")&&ue.unshift(""),ee&&ue.join("/").substr(-1)!=="/"&&ue.push("");var fe=ue[0]===""||ue[0]&&ue[0].charAt(0)==="/";if(J){Z.hostname=Z.host=fe?"":ue.length?ue.shift():"";var te=Z.host&&Z.host.indexOf("@")>0?Z.host.split("@"):!1;te&&(Z.auth=te.shift(),Z.host=Z.hostname=te.shift())}return W=W||Z.host&&ue.length,W&&!fe&&ue.unshift(""),ue.length?Z.pathname=ue.join("/"):(Z.pathname=null,Z.path=null),(!N(Z.pathname)||!N(Z.search))&&(Z.path=(Z.pathname?Z.pathname:"")+(Z.search?Z.search:"")),Z.auth=B.auth||Z.auth,Z.slashes=Z.slashes||B.slashes,Z.href=Z.format(),Z},f.prototype.parseHost=function(){var B=this.host,V=c.exec(B);V&&(V=V[0],V!==":"&&(this.port=V.substr(1)),B=B.substr(0,B.length-V.length)),B&&(this.hostname=B)};function x(B){return typeof B=="string"}function I(B){return typeof B=="object"&&B!==null}function N(B){return B===null}function F(B){return B==null}},53250:(z,l,e)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=e(98661);function f(S,O){return S===O&&(S!==0||1/S===1/O)||S!==S&&O!==O}var u=typeof Object.is=="function"?Object.is:f,c=o.useState,_=o.useEffect,g=o.useLayoutEffect,E=o.useDebugValue;function v(S,O){var p=O(),d=c({inst:{value:p,getSnapshot:O}}),a=d[0].inst,P=d[1];return g(function(){a.value=p,a.getSnapshot=O,y(a)&&P({inst:a})},[S,p,O]),_(function(){return y(a)&&P({inst:a}),S(function(){y(a)&&P({inst:a})})},[S]),E(p),p}function y(S){var O=S.getSnapshot;S=S.value;try{var p=O();return!u(S,p)}catch(d){return!0}}function T(S,O){return O()}var w=typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"?T:v;l.useSyncExternalStore=o.useSyncExternalStore!==void 0?o.useSyncExternalStore:w},61688:(z,l,e)=>{"use strict";z.exports=e(53250)},45327:z=>{for(var l=[],e=0;e<256;++e)l[e]=(e+256).toString(16).substr(1);function o(f,u){var c=u||0,_=l;return _[f[c++]]+_[f[c++]]+_[f[c++]]+_[f[c++]]+"-"+_[f[c++]]+_[f[c++]]+"-"+_[f[c++]]+_[f[c++]]+"-"+_[f[c++]]+_[f[c++]]+"-"+_[f[c++]]+_[f[c++]]+_[f[c++]]+_[f[c++]]+_[f[c++]]+_[f[c++]]}z.exports=o},85217:z=>{var l=typeof crypto!="undefined"&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&msCrypto.getRandomValues.bind(msCrypto);if(l){var e=new Uint8Array(16);z.exports=function(){return l(e),e}}else{var o=new Array(16);z.exports=function(){for(var u=0,c;u<16;u++)u&3||(c=Math.random()*4294967296),o[u]=c>>>((u&3)<<3)&255;return o}}},71171:(z,l,e)=>{var o=e(85217),f=e(45327);function u(c,_,g){var E=_&&g||0;typeof c=="string"&&(_=c==="binary"?new Array(16):null,c=null),c=c||{};var v=c.random||(c.rng||o)();if(v[6]=v[6]&15|64,v[8]=v[8]&63|128,_)for(var y=0;y<16;++y)_[E+y]=v[y];return _||f(v)}z.exports=u},93235:(z,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=c;var o=f(e(65571));function f(_){return _&&_.__esModule?_:{default:_}}function u(_){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?u=function(E){return typeof E}:u=function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},u(_)}function c(_,g){(0,o.default)(_);var E,v;u(g)==="object"?(E=g.min||0,v=g.max):(E=arguments[1],v=arguments[2]);var y=encodeURI(_).split(/%..|./).length-1;return y>=E&&(typeof v=="undefined"||y<=v)}z.exports=l.default,z.exports.default=l.default},83868:(z,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=a;var o=g(e(65571)),f=g(e(84808)),u=g(e(93235)),c=g(e(10221)),_=g(e(61028));function g(P){return P&&P.__esModule?P:{default:P}}var E={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[]},v=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,y=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,T=/^[a-z\d]+$/,w=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,S=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,O=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i,p=254;function d(P){var C=P.replace(/^"(.+)"$/,"$1");if(!C.trim())return!1;var D=/[\.";<>]/.test(C);if(D){if(C===P)return!1;var A=C.split('"').length===C.split('\\"').length;if(!A)return!1}return!0}function a(P,C){if((0,o.default)(P),C=(0,f.default)(C,E),C.require_display_name||C.allow_display_name){var D=P.match(v);if(D){var A=D[1];if(P=P.replace(A,"").replace(/(^<|>$)/g,""),A.endsWith(" ")&&(A=A.substr(0,A.length-1)),!d(A))return!1}else if(C.require_display_name)return!1}if(!C.ignore_max_length&&P.length>p)return!1;var x=P.split("@"),I=x.pop(),N=I.toLowerCase();if(C.host_blacklist.includes(N))return!1;var F=x.join("@");if(C.domain_specific_validation&&(N==="gmail.com"||N==="googlemail.com")){F=F.toLowerCase();var B=F.split("+")[0];if(!(0,u.default)(B.replace(/\./g,""),{min:6,max:30}))return!1;for(var V=B.split("."),Z=0;Z<V.length;Z++)if(!T.test(V[Z]))return!1}if(C.ignore_max_length===!1&&(!(0,u.default)(F,{max:64})||!(0,u.default)(I,{max:254})))return!1;if(!(0,c.default)(I,{require_tld:C.require_tld})){if(!C.allow_ip_domain)return!1;if(!(0,_.default)(I)){if(!I.startsWith("[")||!I.endsWith("]"))return!1;var Y=I.substr(1,I.length-2);if(Y.length===0||!(0,_.default)(Y))return!1}}if(F[0]==='"')return F=F.slice(1,F.length-1),C.allow_utf8_local_part?O.test(F):w.test(F);for(var ne=C.allow_utf8_local_part?S:y,G=F.split("."),L=0;L<G.length;L++)if(!ne.test(G[L]))return!1;return!(C.blacklisted_chars&&F.search(new RegExp("[".concat(C.blacklisted_chars,"]+"),"g"))!==-1)}z.exports=l.default,z.exports.default=l.default},10221:(z,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=_;var o=u(e(65571)),f=u(e(84808));function u(g){return g&&g.__esModule?g:{default:g}}var c={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1};function _(g,E){(0,o.default)(g),E=(0,f.default)(E,c),E.allow_trailing_dot&&g[g.length-1]==="."&&(g=g.substring(0,g.length-1)),E.allow_wildcard===!0&&g.indexOf("*.")===0&&(g=g.substring(2));var v=g.split("."),y=v[v.length-1];return E.require_tld&&(v.length<2||!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(y)||/\s/.test(y))||!E.allow_numeric_tld&&/^\d+$/.test(y)?!1:v.every(function(T){return!(T.length>63||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(T)||/[\uff01-\uff5e]/.test(T)||/^-|-$/.test(T)||!E.allow_underscores&&/_/.test(T))})}z.exports=l.default,z.exports.default=l.default},61028:(z,l,e)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=v;var o=f(e(65571));function f(y){return y&&y.__esModule?y:{default:y}}var u="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",c="(".concat(u,"[.]){3}").concat(u),_=new RegExp("^".concat(c,"$")),g="(?:[0-9a-fA-F]{1,4})",E=new RegExp("^("+"(?:".concat(g,":){7}(?:").concat(g,"|:)|")+"(?:".concat(g,":){6}(?:").concat(c,"|:").concat(g,"|:)|")+"(?:".concat(g,":){5}(?::").concat(c,"|(:").concat(g,"){1,2}|:)|")+"(?:".concat(g,":){4}(?:(:").concat(g,"){0,1}:").concat(c,"|(:").concat(g,"){1,3}|:)|")+"(?:".concat(g,":){3}(?:(:").concat(g,"){0,2}:").concat(c,"|(:").concat(g,"){1,4}|:)|")+"(?:".concat(g,":){2}(?:(:").concat(g,"){0,3}:").concat(c,"|(:").concat(g,"){1,5}|:)|")+"(?:".concat(g,":){1}(?:(:").concat(g,"){0,4}:").concat(c,"|(:").concat(g,"){1,6}|:)|")+"(?::((?::".concat(g,"){0,5}:").concat(c,"|(?::").concat(g,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");function v(y){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if((0,o.default)(y),T=String(T),!T)return v(y,4)||v(y,6);if(T==="4"){if(!_.test(y))return!1;var w=y.split(".").sort(function(S,O){return S-O});return w[3]<=255}return T==="6"?!!E.test(y):!1}z.exports=l.default,z.exports.default=l.default},65571:(z,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=o;function e(f){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(c){return typeof c}:e=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},e(f)}function o(f){var u=typeof f=="string"||f instanceof String;if(!u){var c=e(f);throw f===null?c="null":c==="object"&&(c=f.constructor.name),new TypeError("Expected a string but received a ".concat(c))}}z.exports=l.default,z.exports.default=l.default},84808:(z,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.default=e;function e(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=arguments.length>1?arguments[1]:void 0;for(var u in f)typeof o[u]=="undefined"&&(o[u]=f[u]);return o}z.exports=l.default,z.exports.default=l.default},24654:()=>{},22868:()=>{},14777:()=>{},99830:()=>{},70209:()=>{},87414:()=>{},18036:()=>{},62961:z=>{let l="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",e=(f,u=21)=>(c=u)=>{let _="",g=c;for(;g--;)_+=f[Math.random()*f.length|0];return _},o=(f=21)=>{let u="",c=f;for(;c--;)u+=l[Math.random()*64|0];return u};z.exports={nanoid:o,customAlphabet:e}},39516:(z,l,e)=>{"use strict";e.d(l,{d:()=>O,f:()=>y});var o=e(98661),f=e(19946),u=e(12351),c=e(16723),_=e(23784),g=e(73781);let E=(0,o.createContext)(null);function v(){let p=(0,o.useContext)(E);if(p===null){let d=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(d,v),d}return p}function y(){let[p,d]=(0,o.useState)([]);return[p.length>0?p.join(" "):void 0,(0,o.useMemo)(()=>function(a){let P=(0,g.z)(D=>(d(A=>[...A,D]),()=>d(A=>{let x=A.slice(),I=x.indexOf(D);return I!==-1&&x.splice(I,1),x}))),C=(0,o.useMemo)(()=>({register:P,slot:a.slot,name:a.name,props:a.props}),[P,a.slot,a.name,a.props]);return o.default.createElement(E.Provider,{value:C},a.children)},[d])]}let T="p";function w(p,d){let a=(0,f.M)(),I=p,{id:P=`headlessui-description-${a}`}=I,C=gi(I,["id"]),D=v(),A=(0,_.T)(d);(0,c.e)(()=>D.register(P),[P,D.register]);let x=ko(ar({ref:A},D.props),{id:P});return(0,u.sY)({ourProps:x,theirProps:C,slot:D.slot||{},defaultTag:T,name:D.name||"Description"})}let S=(0,u.yV)(w),O=Object.assign(S,{})},13599:(z,l,e)=>{"use strict";e.d(l,{V:()=>or});var o=e(98661),f=e(32984),u=e(12351),c=e(23784),_=e(61363),g=e(64103),E=e(19946),v=e(82180),y=e(46045),T=e(77896);function w(yt){return T.O.isServer?null:yt instanceof Node?yt.ownerDocument:yt!=null&&yt.hasOwnProperty("current")&&yt.current instanceof Node?yt.current.ownerDocument:document}let S=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(yt=>`${yt}:not([tabindex='-1'])`).join(",");var O=(yt=>(yt[yt.First=1]="First",yt[yt.Previous=2]="Previous",yt[yt.Next=4]="Next",yt[yt.Last=8]="Last",yt[yt.WrapAround=16]="WrapAround",yt[yt.NoScroll=32]="NoScroll",yt))(O||{}),p=(yt=>(yt[yt.Error=0]="Error",yt[yt.Overflow=1]="Overflow",yt[yt.Success=2]="Success",yt[yt.Underflow=3]="Underflow",yt))(p||{}),d=(yt=>(yt[yt.Previous=-1]="Previous",yt[yt.Next=1]="Next",yt))(d||{});function a(yt=document.body){return yt==null?[]:Array.from(yt.querySelectorAll(S)).sort((Wt,Zt)=>Math.sign((Wt.tabIndex||Number.MAX_SAFE_INTEGER)-(Zt.tabIndex||Number.MAX_SAFE_INTEGER)))}var P=(yt=>(yt[yt.Strict=0]="Strict",yt[yt.Loose=1]="Loose",yt))(P||{});function C(yt,Wt=0){var Zt;return yt===((Zt=w(yt))==null?void 0:Zt.body)?!1:(0,f.E)(Wt,{[0](){return yt.matches(S)},[1](){let Xt=yt;for(;Xt!==null;){if(Xt.matches(S))return!0;Xt=Xt.parentElement}return!1}})}function D(yt){let Wt=m(yt);b().nextFrame(()=>{Wt&&!C(Wt.activeElement,0)&&x(yt)})}var A=(yt=>(yt[yt.Keyboard=0]="Keyboard",yt[yt.Mouse=1]="Mouse",yt))(A||{});typeof window!="undefined"&&typeof document!="undefined"&&(document.addEventListener("keydown",yt=>{yt.metaKey||yt.altKey||yt.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",yt=>{yt.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:yt.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function x(yt){yt==null||yt.focus({preventScroll:!0})}let I=["textarea","input"].join(",");function N(yt){var Wt,Zt;return(Zt=(Wt=yt==null?void 0:yt.matches)==null?void 0:Wt.call(yt,I))!=null?Zt:!1}function F(yt,Wt=Zt=>Zt){return yt.slice().sort((Zt,Xt)=>{let Dn=Wt(Zt),Cn=Wt(Xt);if(Dn===null||Cn===null)return 0;let On=Dn.compareDocumentPosition(Cn);return On&Node.DOCUMENT_POSITION_FOLLOWING?-1:On&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function B(yt,Wt){return V(a(),Wt,{relativeTo:yt})}function V(yt,Wt,{sorted:Zt=!0,relativeTo:Xt=null,skipElements:Dn=[]}={}){let Cn=Array.isArray(yt)?yt.length>0?yt[0].ownerDocument:document:yt.ownerDocument,On=Array.isArray(yt)?Zt?F(yt):yt:a(yt);Dn.length>0&&On.length>1&&(On=On.filter(_o=>!Dn.includes(_o))),Xt=Xt!=null?Xt:Cn.activeElement;let zn=(()=>{if(Wt&5)return 1;if(Wt&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),Ir=(()=>{if(Wt&1)return 0;if(Wt&2)return Math.max(0,On.indexOf(Xt))-1;if(Wt&4)return Math.max(0,On.indexOf(Xt))+1;if(Wt&8)return On.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),no=Wt&32?{preventScroll:!0}:{},Yr=0,Mr=On.length,Qr;do{if(Yr>=Mr||Yr+Mr<=0)return 0;let _o=Ir+Yr;if(Wt&16)_o=(_o+Mr)%Mr;else{if(_o<0)return 3;if(_o>=Mr)return 1}Qr=On[_o],Qr==null||Qr.focus(no),Yr+=zn}while(Qr!==Cn.activeElement);return Wt&6&&N(Qr)&&Qr.select(),2}var Z=e(73781),Y=e(3855);function ne(yt,Wt,Zt){let Xt=(0,Y.E)(Wt);(0,o.useEffect)(()=>{function Dn(Cn){Xt.current(Cn)}return window.addEventListener(yt,Dn,Zt),()=>window.removeEventListener(yt,Dn,Zt)},[yt,Zt])}var G=(yt=>(yt[yt.Forwards=0]="Forwards",yt[yt.Backwards=1]="Backwards",yt))(G||{});function L(){let yt=(0,o.useRef)(0);return ne("keydown",Wt=>{Wt.key==="Tab"&&(yt.current=Wt.shiftKey?1:0)},!0),yt}var W=e(14879);function ie(...yt){return(0,o.useMemo)(()=>w(...yt),[...yt])}function ue(yt,Wt,Zt,Xt){let Dn=(0,Y.E)(Zt);(0,o.useEffect)(()=>{yt=yt!=null?yt:window;function Cn(On){Dn.current(On)}return yt.addEventListener(Wt,Cn,Xt),()=>yt.removeEventListener(Wt,Cn,Xt)},[yt,Wt,Xt])}var le=e(81021);function J(yt,Wt){let Zt=(0,o.useRef)([]),Xt=(0,Z.z)(yt);(0,o.useEffect)(()=>{let Dn=[...Zt.current];for(let[Cn,On]of Wt.entries())if(Zt.current[Cn]!==On){let zn=Xt(Wt,Dn);return Zt.current=Wt,zn}},[Xt,...Wt])}var te=e(94192);function se(yt){function Wt(){document.readyState!=="loading"&&(yt(),document.removeEventListener("DOMContentLoaded",Wt))}typeof window!="undefined"&&typeof document!="undefined"&&(document.addEventListener("DOMContentLoaded",Wt),Wt())}function ee(yt){let Wt=(0,Z.z)(yt),Zt=(0,o.useRef)(!1);(0,o.useEffect)(()=>(Zt.current=!1,()=>{Zt.current=!0,(0,le.Y)(()=>{Zt.current&&Wt()})}),[Wt])}function ae(yt){if(!yt)return new Set;if(typeof yt=="function")return new Set(yt());let Wt=new Set;for(let Zt of yt.current)Zt.current instanceof HTMLElement&&Wt.add(Zt.current);return Wt}let ce="div";var fe=(yt=>(yt[yt.None=1]="None",yt[yt.InitialFocus=2]="InitialFocus",yt[yt.TabLock=4]="TabLock",yt[yt.FocusLock=8]="FocusLock",yt[yt.RestoreFocus=16]="RestoreFocus",yt[yt.All=30]="All",yt))(fe||{});function Ee(yt,Wt){let Zt=(0,o.useRef)(null),Xt=(0,c.T)(Zt,Wt),Uo=yt,{initialFocus:Dn,containers:Cn,features:On=30}=Uo,zn=gi(Uo,["initialFocus","containers","features"]);(0,v.H)()||(On=1);let Ir=ie(Zt);Oe({ownerDocument:Ir},!!(On&16));let no=ye({ownerDocument:Ir,container:Zt,initialFocus:Dn},!!(On&2));ze({ownerDocument:Ir,container:Zt,containers:Cn,previousActiveElement:no},!!(On&8));let Yr=L(),Mr=(0,Z.z)(So=>{let Yo=Zt.current;Yo&&(bo=>bo())(()=>{(0,f.E)(Yr.current,{[G.Forwards]:()=>{V(Yo,O.First,{skipElements:[So.relatedTarget]})},[G.Backwards]:()=>{V(Yo,O.Last,{skipElements:[So.relatedTarget]})}})})}),Qr=(0,te.G)(),_o=(0,o.useRef)(!1),ci={ref:Xt,onKeyDown(So){So.key=="Tab"&&(_o.current=!0,Qr.requestAnimationFrame(()=>{_o.current=!1}))},onBlur(So){let Yo=ae(Cn);Zt.current instanceof HTMLElement&&Yo.add(Zt.current);let bo=So.relatedTarget;bo instanceof HTMLElement&&bo.dataset.headlessuiFocusGuard!=="true"&&(Be(Yo,bo)||(_o.current?V(Zt.current,(0,f.E)(Yr.current,{[G.Forwards]:()=>O.Next,[G.Backwards]:()=>O.Previous})|O.WrapAround,{relativeTo:So.target}):So.target instanceof HTMLElement&&x(So.target)))}};return o.default.createElement(o.default.Fragment,null,!!(On&4)&&o.default.createElement(y._,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:Mr,features:y.A.Focusable}),(0,u.sY)({ourProps:ci,theirProps:zn,defaultTag:ce,name:"FocusTrap"}),!!(On&4)&&o.default.createElement(y._,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:Mr,features:y.A.Focusable}))}let de=(0,u.yV)(Ee),_e=Object.assign(de,{features:fe}),ve=[];se(()=>{function yt(Wt){Wt.target instanceof HTMLElement&&Wt.target!==document.body&&ve[0]!==Wt.target&&(ve.unshift(Wt.target),ve=ve.filter(Zt=>Zt!=null&&Zt.isConnected),ve.splice(10))}window.addEventListener("click",yt,{capture:!0}),window.addEventListener("mousedown",yt,{capture:!0}),window.addEventListener("focus",yt,{capture:!0}),document.body.addEventListener("click",yt,{capture:!0}),document.body.addEventListener("mousedown",yt,{capture:!0}),document.body.addEventListener("focus",yt,{capture:!0})});function De(yt=!0){let Wt=(0,o.useRef)(ve.slice());return J(([Zt],[Xt])=>{Xt===!0&&Zt===!1&&(0,le.Y)(()=>{Wt.current.splice(0)}),Xt===!1&&Zt===!0&&(Wt.current=ve.slice())},[yt,ve,Wt]),(0,Z.z)(()=>{var Zt;return(Zt=Wt.current.find(Xt=>Xt!=null&&Xt.isConnected))!=null?Zt:null})}function Oe({ownerDocument:yt},Wt){let Zt=De(Wt);J(()=>{Wt||(yt==null?void 0:yt.activeElement)===(yt==null?void 0:yt.body)&&x(Zt())},[Wt]),ee(()=>{Wt&&x(Zt())})}function ye({ownerDocument:yt,container:Wt,initialFocus:Zt},Xt){let Dn=(0,o.useRef)(null),Cn=(0,W.t)();return J(()=>{if(!Xt)return;let On=Wt.current;On&&(0,le.Y)(()=>{if(!Cn.current)return;let zn=yt==null?void 0:yt.activeElement;if(Zt!=null&&Zt.current){if((Zt==null?void 0:Zt.current)===zn){Dn.current=zn;return}}else if(On.contains(zn)){Dn.current=zn;return}Zt!=null&&Zt.current?x(Zt.current):V(On,O.First)===p.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),Dn.current=yt==null?void 0:yt.activeElement})},[Xt]),Dn}function ze({ownerDocument:yt,container:Wt,containers:Zt,previousActiveElement:Xt},Dn){let Cn=(0,W.t)();ue(yt==null?void 0:yt.defaultView,"focus",On=>{if(!Dn||!Cn.current)return;let zn=ae(Zt);Wt.current instanceof HTMLElement&&zn.add(Wt.current);let Ir=Xt.current;if(!Ir)return;let no=On.target;no&&no instanceof HTMLElement?Be(zn,no)?(Xt.current=no,x(no)):(On.preventDefault(),On.stopPropagation(),x(Ir)):x(Xt.current)},!0)}function Be(yt,Wt){for(let Zt of yt)if(Zt.contains(Wt))return!0;return!1}var We=e(16723);let Ke=(0,o.createContext)(!1);function Xe(){return(0,o.useContext)(Ke)}function ct(yt){return o.default.createElement(Ke.Provider,{value:yt.force},yt.children)}function Se(yt){let Wt=Xe(),Zt=(0,o.useContext)(Ne),Xt=ie(yt),[Dn,Cn]=(0,o.useState)(()=>{if(!Wt&&Zt!==null||T.O.isServer)return null;let On=Xt==null?void 0:Xt.getElementById("headlessui-portal-root");if(On)return On;if(Xt===null)return null;let zn=Xt.createElement("div");return zn.setAttribute("id","headlessui-portal-root"),Xt.body.appendChild(zn)});return(0,o.useEffect)(()=>{Dn!==null&&(Xt!=null&&Xt.body.contains(Dn)||Xt==null||Xt.body.appendChild(Dn))},[Dn,Xt]),(0,o.useEffect)(()=>{Wt||Zt!==null&&Cn(Zt.current)},[Zt,Cn,Wt]),Dn}let Qe=o.Fragment;function ge(yt,Wt){let Zt=yt,Xt=(0,o.useRef)(null),Dn=(0,c.T)((0,c.h)(Yr=>{Xt.current=Yr}),Wt),Cn=ie(Xt),On=Se(Xt),[zn]=(0,o.useState)(()=>{var Yr;return T.O.isServer?null:(Yr=Cn==null?void 0:Cn.createElement("div"))!=null?Yr:null}),Ir=(0,o.useContext)(Et),no=(0,v.H)();return(0,We.e)(()=>{!On||!zn||On.contains(zn)||(zn.setAttribute("data-headlessui-portal",""),On.appendChild(zn))},[On,zn]),(0,We.e)(()=>{if(zn&&Ir)return Ir.register(zn)},[Ir,zn]),ee(()=>{var Yr;!On||!zn||(zn instanceof Node&&On.contains(zn)&&On.removeChild(zn),On.childNodes.length<=0&&((Yr=On.parentElement)==null||Yr.removeChild(On)))}),no?!On||!zn?null:(0,o.createPortal)((0,u.sY)({ourProps:{ref:Dn},theirProps:Zt,defaultTag:Qe,name:"Portal"}),zn):null}let Fe=o.Fragment,Ne=(0,o.createContext)(null);function lt(yt,Wt){let Cn=yt,{target:Zt}=Cn,Xt=gi(Cn,["target"]),Dn={ref:(0,c.T)(Wt)};return o.default.createElement(Ne.Provider,{value:Zt},(0,u.sY)({ourProps:Dn,theirProps:Xt,defaultTag:Fe,name:"Popover.Group"}))}let Et=(0,o.createContext)(null);function jt(){let yt=(0,o.useContext)(Et),Wt=(0,o.useRef)([]),Zt=(0,Z.z)(Cn=>(Wt.current.push(Cn),yt&&yt.register(Cn),()=>Xt(Cn))),Xt=(0,Z.z)(Cn=>{let On=Wt.current.indexOf(Cn);On!==-1&&Wt.current.splice(On,1),yt&&yt.unregister(Cn)}),Dn=(0,o.useMemo)(()=>({register:Zt,unregister:Xt,portals:Wt}),[Zt,Xt,Wt]);return[Wt,(0,o.useMemo)(()=>function({children:Cn}){return o.default.createElement(Et.Provider,{value:Dn},Cn)},[Dn])]}let en=(0,u.yV)(ge),vt=(0,u.yV)(lt),Re=Object.assign(en,{Group:vt});var He=e(39516),ot=e(16567);let me=(0,o.createContext)(()=>{});me.displayName="StackContext";var ke=(yt=>(yt[yt.Add=0]="Add",yt[yt.Remove=1]="Remove",yt))(ke||{});function je(){return(0,o.useContext)(me)}function Je({children:yt,onUpdate:Wt,type:Zt,element:Xt,enabled:Dn}){let Cn=je(),On=(0,Z.z)((...zn)=>{Wt==null||Wt(...zn),Cn(...zn)});return(0,We.e)(()=>{let zn=Dn===void 0||Dn===!0;return zn&&On(0,Zt,Xt),()=>{zn&&On(1,Zt,Xt)}},[On,Zt,Xt,Dn]),o.default.createElement(me.Provider,{value:On},yt)}function tt(yt,Wt,Zt){let Xt=(0,Y.E)(Wt);(0,o.useEffect)(()=>{function Dn(Cn){Xt.current(Cn)}return document.addEventListener(yt,Dn,Zt),()=>document.removeEventListener(yt,Dn,Zt)},[yt,Zt])}function Ae(yt,Wt,Zt=!0){let Xt=(0,o.useRef)(!1);(0,o.useEffect)(()=>{requestAnimationFrame(()=>{Xt.current=Zt})},[Zt]);function Dn(On,zn){if(!Xt.current||On.defaultPrevented)return;let Ir=zn(On);if(Ir===null||!Ir.getRootNode().contains(Ir))return;let no=function Yr(Mr){return typeof Mr=="function"?Yr(Mr()):Array.isArray(Mr)||Mr instanceof Set?Mr:[Mr]}(yt);for(let Yr of no){if(Yr===null)continue;let Mr=Yr instanceof HTMLElement?Yr:Yr.current;if(Mr!=null&&Mr.contains(Ir)||On.composed&&On.composedPath().includes(Mr))return}return!C(Ir,P.Loose)&&Ir.tabIndex!==-1&&On.preventDefault(),Wt(On,Ir)}let Cn=(0,o.useRef)(null);tt("mousedown",On=>{var zn,Ir;Xt.current&&(Cn.current=((Ir=(zn=On.composedPath)==null?void 0:zn.call(On))==null?void 0:Ir[0])||On.target)},!0),tt("click",On=>{Cn.current&&(Dn(On,()=>Cn.current),Cn.current=null)},!0),ne("blur",On=>Dn(On,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function H(yt,Wt){return yt===Wt&&(yt!==0||1/yt===1/Wt)||yt!==yt&&Wt!==Wt}const Q=typeof Object.is=="function"?Object.is:H,{useState:pe,useEffect:we,useLayoutEffect:Le,useDebugValue:Ye}=o;let dt=null,st=null;function _t(yt,Wt,Zt){const Xt=Wt(),[{inst:Dn},Cn]=pe({inst:{value:Xt,getSnapshot:Wt}});return Le(()=>{Dn.value=Xt,Dn.getSnapshot=Wt,Tt(Dn)&&Cn({inst:Dn})},[yt,Xt,Wt]),we(()=>(Tt(Dn)&&Cn({inst:Dn}),yt(()=>{Tt(Dn)&&Cn({inst:Dn})})),[yt]),Ye(Xt),Xt}function Tt(yt){const Wt=yt.getSnapshot,Zt=yt.value;try{const Xt=Wt();return!Q(Zt,Xt)}catch(Xt){return!0}}function nn(yt,Wt,Zt){return Wt()}const Mn=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined",tr=!Mn,sr=tr?nn:_t,Rt=(yt=>yt.useSyncExternalStore)(o);function Mt(yt){return Rt(yt.subscribe,yt.getSnapshot,yt.getSnapshot)}var $t=e(9362);function vn(yt,Wt){let Zt=yt(),Xt=new Set;return{getSnapshot(){return Zt},subscribe(Dn){return Xt.add(Dn),()=>Xt.delete(Dn)},dispatch(Dn,...Cn){let On=Wt[Dn].call(Zt,...Cn);On&&(Zt=On,Xt.forEach(zn=>zn()))}}}function An(){let yt;return{before({doc:Wt}){var Zt;let Xt=Wt.documentElement;yt=((Zt=Wt.defaultView)!=null?Zt:window).innerWidth-Xt.clientWidth},after({doc:Wt,d:Zt}){let Xt=Wt.documentElement,Dn=Xt.clientWidth-Xt.offsetWidth,Cn=yt-Dn;Zt.style(Xt,"paddingRight",`${Cn}px`)}}}function dr(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Pr(){return/Android/gi.test(window.navigator.userAgent)}function br(){return dr()||Pr()}function Or(){if(!dr())return{};let yt;return{before(){yt=window.pageYOffset},after({doc:Wt,d:Zt,meta:Xt}){function Dn(On){return Xt.containers.flatMap(zn=>zn()).some(zn=>zn.contains(On))}Zt.style(Wt.body,"marginTop",`-${yt}px`),window.scrollTo(0,0);let Cn=null;Zt.addEventListener(Wt,"click",On=>{if(On.target instanceof HTMLElement)try{let zn=On.target.closest("a");if(!zn)return;let{hash:Ir}=new URL(zn.href),no=Wt.querySelector(Ir);no&&!Dn(no)&&(Cn=no)}catch(zn){}},!0),Zt.addEventListener(Wt,"touchmove",On=>{On.target instanceof HTMLElement&&!Dn(On.target)&&On.preventDefault()},{passive:!1}),Zt.add(()=>{window.scrollTo(0,window.pageYOffset+yt),Cn&&Cn.isConnected&&(Cn.scrollIntoView({block:"nearest"}),Cn=null)})}}}function Lr(){return{before({doc:yt,d:Wt}){Wt.style(yt.documentElement,"overflow","hidden")}}}function Wr(yt){let Wt={};for(let Zt of yt)Object.assign(Wt,Zt(Wt));return Wt}let Zr=vn(()=>new Map,{PUSH(yt,Wt){var Zt;let Xt=(Zt=this.get(yt))!=null?Zt:{doc:yt,count:0,d:(0,$t.k)(),meta:new Set};return Xt.count++,Xt.meta.add(Wt),this.set(yt,Xt),this},POP(yt,Wt){let Zt=this.get(yt);return Zt&&(Zt.count--,Zt.meta.delete(Wt)),this},SCROLL_PREVENT({doc:yt,d:Wt,meta:Zt}){let Xt={doc:yt,d:Wt,meta:Wr(Zt)},Dn=[Or(),An(),Lr()];Dn.forEach(({before:Cn})=>Cn==null?void 0:Cn(Xt)),Dn.forEach(({after:Cn})=>Cn==null?void 0:Cn(Xt))},SCROLL_ALLOW({d:yt}){yt.dispose()},TEARDOWN({doc:yt}){this.delete(yt)}});Zr.subscribe(()=>{let yt=Zr.getSnapshot(),Wt=new Map;for(let[Zt]of yt)Wt.set(Zt,Zt.documentElement.style.overflow);for(let Zt of yt.values()){let Xt=Wt.get(Zt.doc)==="hidden",Dn=Zt.count!==0;(Dn&&!Xt||!Dn&&Xt)&&Zr.dispatch(Zt.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",Zt),Zt.count===0&&Zr.dispatch("TEARDOWN",Zt)}});function yo(yt,Wt,Zt){let Xt=Mt(Zr),Dn=yt?Xt.get(yt):void 0,Cn=Dn?Dn.count>0:!1;return(0,We.e)(()=>{if(!(!yt||!Wt))return Zr.dispatch("PUSH",yt,Zt),()=>Zr.dispatch("POP",yt,Zt)},[Wt,yt]),Cn}let ho=new Map,$r=new Map;function co(yt,Wt=!0){(0,We.e)(()=>{var Zt;if(!Wt)return;let Xt=typeof yt=="function"?yt():yt.current;if(!Xt)return;function Dn(){var On;if(!Xt)return;let zn=(On=$r.get(Xt))!=null?On:1;if(zn===1?$r.delete(Xt):$r.set(Xt,zn-1),zn!==1)return;let Ir=ho.get(Xt);Ir&&(Ir["aria-hidden"]===null?Xt.removeAttribute("aria-hidden"):Xt.setAttribute("aria-hidden",Ir["aria-hidden"]),Xt.inert=Ir.inert,ho.delete(Xt))}let Cn=(Zt=$r.get(Xt))!=null?Zt:0;return $r.set(Xt,Cn+1),Cn!==0||(ho.set(Xt,{"aria-hidden":Xt.getAttribute("aria-hidden"),inert:Xt.inert}),Xt.setAttribute("aria-hidden","true"),Xt.inert=!0),Dn},[yt,Wt])}function io({defaultContainers:yt=[],portals:Wt}={}){let Zt=(0,o.useRef)(null),Xt=ie(Zt),Dn=(0,Z.z)(()=>{var Cn;let On=[];for(let zn of yt)zn!==null&&(zn instanceof HTMLElement?On.push(zn):"current"in zn&&zn.current instanceof HTMLElement&&On.push(zn.current));if(Wt!=null&&Wt.current)for(let zn of Wt.current)On.push(zn);for(let zn of(Cn=Xt==null?void 0:Xt.querySelectorAll("html > *, body > *"))!=null?Cn:[])zn!==document.body&&zn!==document.head&&zn instanceof HTMLElement&&zn.id!=="headlessui-portal-root"&&(zn.contains(Zt.current)||On.some(Ir=>zn.contains(Ir))||On.push(zn));return On});return{resolveContainers:Dn,contains:(0,Z.z)(Cn=>Dn().some(On=>On.contains(Cn))),mainTreeNodeRef:Zt,MainTreeNode:(0,o.useMemo)(()=>function(){return o.default.createElement(y._,{features:y.A.Hidden,ref:Zt})},[Zt])}}var Tr=(yt=>(yt[yt.Open=0]="Open",yt[yt.Closed=1]="Closed",yt))(Tr||{}),Hr=(yt=>(yt[yt.SetTitleId=0]="SetTitleId",yt))(Hr||{});let Po={[0](yt,Wt){return yt.titleId===Wt.id?yt:ko(ar({},yt),{titleId:Wt.id})}},oo=(0,o.createContext)(null);oo.displayName="DialogContext";function Xr(yt){let Wt=(0,o.useContext)(oo);if(Wt===null){let Zt=new Error(`<${yt} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(Zt,Xr),Zt}return Wt}function po(yt,Wt,Zt=()=>[document.body]){yo(yt,Wt,Xt=>{var Dn;return{containers:[...(Dn=Xt.containers)!=null?Dn:[],Zt]}})}function Oo(yt,Wt){return(0,f.E)(Wt.type,Po,yt,Wt)}let ri="div",Jt=u.AN.RenderStrategy|u.AN.Static;function Tn(yt,Wt){var Zt;let Xt=(0,E.M)(),Ce=yt,{id:Dn=`headlessui-dialog-${Xt}`,open:Cn,onClose:On,initialFocus:zn,__demoMode:Ir=!1}=Ce,no=gi(Ce,["id","open","onClose","initialFocus","__demoMode"]),[Yr,Mr]=(0,o.useState)(0),Qr=(0,ot.oJ)();Cn===void 0&&Qr!==null&&(Cn=(Qr&ot.ZM.Open)===ot.ZM.Open);let _o=(0,o.useRef)(null),ci=(0,c.T)(_o,Wt),Uo=ie(_o),So=yt.hasOwnProperty("open")||Qr!==null,Yo=yt.hasOwnProperty("onClose");if(!So&&!Yo)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!So)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!Yo)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof Cn!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${Cn}`);if(typeof On!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${On}`);let bo=Cn?0:1,[To,vi]=(0,o.useReducer)(Oo,{titleId:null,descriptionId:null,panelRef:(0,o.createRef)()}),oi=(0,Z.z)(()=>On(!1)),di=(0,Z.z)($e=>vi({type:0,id:$e})),pi=(0,v.H)()?Ir?!1:bo===0:!1,ii=Yr>1,Jo=(0,o.useContext)(oo)!==null,[ji,Ei]=jt(),{resolveContainers:so,mainTreeNodeRef:mi,MainTreeNode:Mi}=io({portals:ji,defaultContainers:[(Zt=To.panelRef.current)!=null?Zt:_o.current]}),si=ii?"parent":"leaf",Fo=Qr!==null?(Qr&ot.ZM.Closing)===ot.ZM.Closing:!1,ai=(()=>Jo||Fo?!1:pi)(),qo=(0,o.useCallback)(()=>{var $e,ft;return(ft=Array.from(($e=Uo==null?void 0:Uo.querySelectorAll("body > *"))!=null?$e:[]).find(pt=>pt.id==="headlessui-portal-root"?!1:pt.contains(mi.current)&&pt instanceof HTMLElement))!=null?ft:null},[mi]);co(qo,ai);let wi=(()=>ii?!0:pi)(),rt=(0,o.useCallback)(()=>{var $e,ft;return(ft=Array.from(($e=Uo==null?void 0:Uo.querySelectorAll("[data-headlessui-portal]"))!=null?$e:[]).find(pt=>pt.contains(mi.current)&&pt instanceof HTMLElement))!=null?ft:null},[mi]);co(rt,wi);let Ze=(()=>!(!pi||ii))();Ae(so,oi,Ze);let et=(()=>!(ii||bo!==0))();ue(Uo==null?void 0:Uo.defaultView,"keydown",$e=>{et&&($e.defaultPrevented||$e.key===_.R.Escape&&($e.preventDefault(),$e.stopPropagation(),oi()))});let ht=(()=>!(Fo||bo!==0||Jo))();po(Uo,ht,so),(0,o.useEffect)(()=>{if(bo!==0||!_o.current)return;let $e=new ResizeObserver(ft=>{for(let pt of ft){let Ct=pt.target.getBoundingClientRect();Ct.x===0&&Ct.y===0&&Ct.width===0&&Ct.height===0&&oi()}});return $e.observe(_o.current),()=>$e.disconnect()},[bo,_o,oi]);let[mt,kt]=(0,He.f)(),Nt=(0,o.useMemo)(()=>[{dialogState:bo,close:oi,setTitleId:di},To],[bo,To,oi,di]),Te=(0,o.useMemo)(()=>({open:bo===0}),[bo]),be={ref:ci,id:Dn,role:"dialog","aria-modal":bo===0?!0:void 0,"aria-labelledby":To.titleId,"aria-describedby":mt};return o.default.createElement(Je,{type:"Dialog",enabled:bo===0,element:_o,onUpdate:(0,Z.z)(($e,ft)=>{ft==="Dialog"&&(0,f.E)($e,{[ke.Add]:()=>Mr(pt=>pt+1),[ke.Remove]:()=>Mr(pt=>pt-1)})})},o.default.createElement(ct,{force:!0},o.default.createElement(Re,null,o.default.createElement(oo.Provider,{value:Nt},o.default.createElement(Re.Group,{target:_o},o.default.createElement(ct,{force:!1},o.default.createElement(kt,{slot:Te,name:"Dialog.Description"},o.default.createElement(_e,{initialFocus:zn,containers:so,features:pi?(0,f.E)(si,{parent:_e.features.RestoreFocus,leaf:_e.features.All&~_e.features.FocusLock}):_e.features.None},o.default.createElement(Ei,null,(0,u.sY)({ourProps:be,theirProps:no,slot:Te,defaultTag:ri,features:Jt,visible:bo===0,name:"Dialog"}))))))))),o.default.createElement(Mi,null))}let xn="div";function Xn(yt,Wt){let Zt=(0,E.M)(),Yr=yt,{id:Xt=`headlessui-dialog-overlay-${Zt}`}=Yr,Dn=gi(Yr,["id"]),[{dialogState:Cn,close:On}]=Xr("Dialog.Overlay"),zn=(0,c.T)(Wt),Ir=(0,Z.z)(Mr=>{if(Mr.target===Mr.currentTarget){if((0,g.P)(Mr.currentTarget))return Mr.preventDefault();Mr.preventDefault(),Mr.stopPropagation(),On()}}),no=(0,o.useMemo)(()=>({open:Cn===0}),[Cn]);return(0,u.sY)({ourProps:{ref:zn,id:Xt,"aria-hidden":!0,onClick:Ir},theirProps:Dn,slot:no,defaultTag:xn,name:"Dialog.Overlay"})}let xt="div";function Ft(yt,Wt){let Zt=(0,E.M)(),no=yt,{id:Xt=`headlessui-dialog-backdrop-${Zt}`}=no,Dn=gi(no,["id"]),[{dialogState:Cn},On]=Xr("Dialog.Backdrop"),zn=(0,c.T)(Wt);(0,o.useEffect)(()=>{if(On.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[On.panelRef]);let Ir=(0,o.useMemo)(()=>({open:Cn===0}),[Cn]);return o.default.createElement(ct,{force:!0},o.default.createElement(Re,null,(0,u.sY)({ourProps:{ref:zn,id:Xt,"aria-hidden":!0},theirProps:Dn,slot:Ir,defaultTag:xt,name:"Dialog.Backdrop"})))}let zt="div";function tn(yt,Wt){let Zt=(0,E.M)(),Yr=yt,{id:Xt=`headlessui-dialog-panel-${Zt}`}=Yr,Dn=gi(Yr,["id"]),[{dialogState:Cn},On]=Xr("Dialog.Panel"),zn=(0,c.T)(Wt,On.panelRef),Ir=(0,o.useMemo)(()=>({open:Cn===0}),[Cn]),no=(0,Z.z)(Mr=>{Mr.stopPropagation()});return(0,u.sY)({ourProps:{ref:zn,id:Xt,onClick:no},theirProps:Dn,slot:Ir,defaultTag:zt,name:"Dialog.Panel"})}let rn="h2";function ln(yt,Wt){let Zt=(0,E.M)(),no=yt,{id:Xt=`headlessui-dialog-title-${Zt}`}=no,Dn=gi(no,["id"]),[{dialogState:Cn,setTitleId:On}]=Xr("Dialog.Title"),zn=(0,c.T)(Wt);(0,o.useEffect)(()=>(On(Xt),()=>On(null)),[Xt,On]);let Ir=(0,o.useMemo)(()=>({open:Cn===0}),[Cn]);return(0,u.sY)({ourProps:{ref:zn,id:Xt},theirProps:Dn,slot:Ir,defaultTag:rn,name:"Dialog.Title"})}let En=(0,u.yV)(Tn),Wn=(0,u.yV)(Ft),kn=(0,u.yV)(tn),Un=(0,u.yV)(Xn),Zn=(0,u.yV)(ln),or=Object.assign(En,{Backdrop:Wn,Panel:kn,Overlay:Un,Title:Zn,Description:He.d})},61363:(z,l,e)=>{"use strict";e.d(l,{R:()=>o});var o=(f=>(f.Space=" ",f.Enter="Enter",f.Escape="Escape",f.Backspace="Backspace",f.Delete="Delete",f.ArrowLeft="ArrowLeft",f.ArrowUp="ArrowUp",f.ArrowRight="ArrowRight",f.ArrowDown="ArrowDown",f.Home="Home",f.End="End",f.PageUp="PageUp",f.PageDown="PageDown",f.Tab="Tab",f))(o||{})},5285:(z,l,e)=>{"use strict";e.d(l,{u:()=>ce});var o=e(98661),f=e(12351),u=e(16567),c=e(32984),_=e(14879),g=e(16723),E=e(3855),v=e(82180),y=e(23784);function T(fe){let Ee={called:!1};return(...de)=>{if(!Ee.called)return Ee.called=!0,fe(...de)}}var w=e(9362);function S(fe,...Ee){fe&&Ee.length>0&&fe.classList.add(...Ee)}function O(fe,...Ee){fe&&Ee.length>0&&fe.classList.remove(...Ee)}function p(fe,Ee){let de=(0,w.k)();if(!fe)return de.dispose;let{transitionDuration:_e,transitionDelay:ve}=getComputedStyle(fe),[De,Oe]=[_e,ve].map(ze=>{let[Be=0]=ze.split(",").filter(Boolean).map(We=>We.includes("ms")?parseFloat(We):parseFloat(We)*1e3).sort((We,Ke)=>Ke-We);return Be}),ye=De+Oe;if(ye!==0){de.group(Be=>{Be.setTimeout(()=>{Ee(),Be.dispose()},ye),Be.addEventListener(fe,"transitionrun",We=>{We.target===We.currentTarget&&Be.dispose()})});let ze=de.addEventListener(fe,"transitionend",Be=>{Be.target===Be.currentTarget&&(Ee(),ze())})}else Ee();return de.add(()=>Ee()),de.dispose}function d(fe,Ee,de,_e){let ve=de?"enter":"leave",De=(0,w.k)(),Oe=_e!==void 0?T(_e):()=>{};ve==="enter"&&(fe.removeAttribute("hidden"),fe.style.display="");let ye=(0,c.E)(ve,{enter:()=>Ee.enter,leave:()=>Ee.leave}),ze=(0,c.E)(ve,{enter:()=>Ee.enterTo,leave:()=>Ee.leaveTo}),Be=(0,c.E)(ve,{enter:()=>Ee.enterFrom,leave:()=>Ee.leaveFrom});return O(fe,...Ee.enter,...Ee.enterTo,...Ee.enterFrom,...Ee.leave,...Ee.leaveFrom,...Ee.leaveTo,...Ee.entered),S(fe,...ye,...Be),De.nextFrame(()=>{O(fe,...Be),S(fe,...ze),p(fe,()=>(O(fe,...ye),S(fe,...Ee.entered),Oe()))}),De.dispose}var a=e(94192);function P({container:fe,direction:Ee,classes:de,onStart:_e,onStop:ve}){let De=(0,_.t)(),Oe=(0,a.G)(),ye=(0,E.E)(Ee);(0,g.e)(()=>{let ze=(0,w.k)();Oe.add(ze.dispose);let Be=fe.current;if(Be&&ye.current!=="idle"&&De.current)return ze.dispose(),_e.current(ye.current),ze.add(d(Be,de.current,ye.current==="enter",()=>{ze.dispose(),ve.current(ye.current)})),ze.dispose},[Ee])}var C=e(73781),D=e(44067);function A(fe=0){let[Ee,de]=(0,o.useState)(fe),_e=(0,_.t)(),ve=(0,o.useCallback)(ze=>{_e.current&&de(Be=>Be|ze)},[Ee,_e]),De=(0,o.useCallback)(ze=>!!(Ee&ze),[Ee]),Oe=(0,o.useCallback)(ze=>{_e.current&&de(Be=>Be&~ze)},[de,_e]),ye=(0,o.useCallback)(ze=>{_e.current&&de(Be=>Be^ze)},[de]);return{flags:Ee,addFlag:ve,hasFlag:De,removeFlag:Oe,toggleFlag:ye}}function x(fe=""){return fe.split(" ").filter(Ee=>Ee.trim().length>1)}let I=(0,o.createContext)(null);I.displayName="TransitionContext";var N=(fe=>(fe.Visible="visible",fe.Hidden="hidden",fe))(N||{});function F(){let fe=(0,o.useContext)(I);if(fe===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return fe}function B(){let fe=(0,o.useContext)(V);if(fe===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return fe}let V=(0,o.createContext)(null);V.displayName="NestingContext";function Z(fe){return"children"in fe?Z(fe.children):fe.current.filter(({el:Ee})=>Ee.current!==null).filter(({state:Ee})=>Ee==="visible").length>0}function Y(fe,Ee){let de=(0,E.E)(fe),_e=(0,o.useRef)([]),ve=(0,_.t)(),De=(0,a.G)(),Oe=(0,C.z)((ct,Se=f.l4.Hidden)=>{let Qe=_e.current.findIndex(({el:ge})=>ge===ct);Qe!==-1&&((0,c.E)(Se,{[f.l4.Unmount](){_e.current.splice(Qe,1)},[f.l4.Hidden](){_e.current[Qe].state="hidden"}}),De.microTask(()=>{var ge;!Z(_e)&&ve.current&&((ge=de.current)==null||ge.call(de))}))}),ye=(0,C.z)(ct=>{let Se=_e.current.find(({el:Qe})=>Qe===ct);return Se?Se.state!=="visible"&&(Se.state="visible"):_e.current.push({el:ct,state:"visible"}),()=>Oe(ct,f.l4.Unmount)}),ze=(0,o.useRef)([]),Be=(0,o.useRef)(Promise.resolve()),We=(0,o.useRef)({enter:[],leave:[],idle:[]}),Ke=(0,C.z)((ct,Se,Qe)=>{ze.current.splice(0),Ee&&(Ee.chains.current[Se]=Ee.chains.current[Se].filter(([ge])=>ge!==ct)),Ee==null||Ee.chains.current[Se].push([ct,new Promise(ge=>{ze.current.push(ge)})]),Ee==null||Ee.chains.current[Se].push([ct,new Promise(ge=>{Promise.all(We.current[Se].map(([Fe,Ne])=>Ne)).then(()=>ge())})]),Se==="enter"?Be.current=Be.current.then(()=>Ee==null?void 0:Ee.wait.current).then(()=>Qe(Se)):Qe(Se)}),Xe=(0,C.z)((ct,Se,Qe)=>{Promise.all(We.current[Se].splice(0).map(([ge,Fe])=>Fe)).then(()=>{var ge;(ge=ze.current.shift())==null||ge()}).then(()=>Qe(Se))});return(0,o.useMemo)(()=>({children:_e,register:ye,unregister:Oe,onStart:Ke,onStop:Xe,wait:Be,chains:We}),[ye,Oe,_e,Ke,Xe,We,Be])}function ne(){}let G=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function L(fe){var Ee;let de={};for(let _e of G)de[_e]=(Ee=fe[_e])!=null?Ee:ne;return de}function W(fe){let Ee=(0,o.useRef)(L(fe));return(0,o.useEffect)(()=>{Ee.current=L(fe)},[fe]),Ee}let ie="div",ue=f.AN.RenderStrategy;function le(fe,Ee){let Le=fe,{beforeEnter:de,afterEnter:_e,beforeLeave:ve,afterLeave:De,enter:Oe,enterFrom:ye,enterTo:ze,entered:Be,leave:We,leaveFrom:Ke,leaveTo:Xe}=Le,ct=gi(Le,["beforeEnter","afterEnter","beforeLeave","afterLeave","enter","enterFrom","enterTo","entered","leave","leaveFrom","leaveTo"]),Se=(0,o.useRef)(null),Qe=(0,y.T)(Se,Ee),ge=ct.unmount?f.l4.Unmount:f.l4.Hidden,{show:Fe,appear:Ne,initial:lt}=F(),[Et,jt]=(0,o.useState)(Fe?"visible":"hidden"),en=B(),{register:vt,unregister:Re}=en,He=(0,o.useRef)(null);(0,o.useEffect)(()=>vt(Se),[vt,Se]),(0,o.useEffect)(()=>{if(ge===f.l4.Hidden&&Se.current){if(Fe&&Et!=="visible"){jt("visible");return}return(0,c.E)(Et,{hidden:()=>Re(Se),visible:()=>vt(Se)})}},[Et,Se,vt,Re,Fe,ge]);let ot=(0,E.E)({enter:x(Oe),enterFrom:x(ye),enterTo:x(ze),entered:x(Be),leave:x(We),leaveFrom:x(Ke),leaveTo:x(Xe)}),me=W({beforeEnter:de,afterEnter:_e,beforeLeave:ve,afterLeave:De}),ke=(0,v.H)();(0,o.useEffect)(()=>{if(ke&&Et==="visible"&&Se.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[Se,Et,ke]);let je=lt&&!Ne,Je=(()=>!ke||je||He.current===Fe?"idle":Fe?"enter":"leave")(),tt=A(0),Ae=(0,C.z)(Ye=>(0,c.E)(Ye,{enter:()=>{tt.addFlag(u.ZM.Opening),me.current.beforeEnter()},leave:()=>{tt.addFlag(u.ZM.Closing),me.current.beforeLeave()},idle:()=>{}})),H=(0,C.z)(Ye=>(0,c.E)(Ye,{enter:()=>{tt.removeFlag(u.ZM.Opening),me.current.afterEnter()},leave:()=>{tt.removeFlag(u.ZM.Closing),me.current.afterLeave()},idle:()=>{}})),Q=Y(()=>{jt("hidden"),Re(Se)},en);P({container:Se,classes:ot,direction:Je,onStart:(0,E.E)(Ye=>{Q.onStart(Se,Ye,Ae)}),onStop:(0,E.E)(Ye=>{Q.onStop(Se,Ye,H),Ye==="leave"&&!Z(Q)&&(jt("hidden"),Re(Se))})}),(0,o.useEffect)(()=>{je&&(ge===f.l4.Hidden?He.current=null:He.current=Fe)},[Fe,je,Et]);let pe=ct,we={ref:Qe};return Ne&&Fe&&lt&&(pe=ko(ar({},pe),{className:(0,D.A)(ct.className,...ot.current.enter,...ot.current.enterFrom)})),o.default.createElement(V.Provider,{value:Q},o.default.createElement(u.up,{value:(0,c.E)(Et,{visible:u.ZM.Open,hidden:u.ZM.Closed})|tt.flags},(0,f.sY)({ourProps:we,theirProps:pe,defaultTag:ie,features:ue,visible:Et==="visible",name:"Transition.Child"})))}function J(fe,Ee){let lt=fe,{show:de,appear:_e=!1,unmount:ve}=lt,De=gi(lt,["show","appear","unmount"]),Oe=(0,o.useRef)(null),ye=(0,y.T)(Oe,Ee);(0,v.H)();let ze=(0,u.oJ)();if(de===void 0&&ze!==null&&(de=(ze&u.ZM.Open)===u.ZM.Open),![!0,!1].includes(de))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[Be,We]=(0,o.useState)(de?"visible":"hidden"),Ke=Y(()=>{We("hidden")}),[Xe,ct]=(0,o.useState)(!0),Se=(0,o.useRef)([de]);(0,g.e)(()=>{Xe!==!1&&Se.current[Se.current.length-1]!==de&&(Se.current.push(de),ct(!1))},[Se,de]);let Qe=(0,o.useMemo)(()=>({show:de,appear:_e,initial:Xe}),[de,_e,Xe]);(0,o.useEffect)(()=>{if(de)We("visible");else if(!Z(Ke))We("hidden");else{let Et=Oe.current;if(!Et)return;let jt=Et.getBoundingClientRect();jt.x===0&&jt.y===0&&jt.width===0&&jt.height===0&&We("hidden")}},[de,Ke]);let ge={unmount:ve},Fe=(0,C.z)(()=>{var Et;Xe&&ct(!1),(Et=fe.beforeEnter)==null||Et.call(fe)}),Ne=(0,C.z)(()=>{var Et;Xe&&ct(!1),(Et=fe.beforeLeave)==null||Et.call(fe)});return o.default.createElement(V.Provider,{value:Ke},o.default.createElement(I.Provider,{value:Qe},(0,f.sY)({ourProps:ko(ar({},ge),{as:o.Fragment,children:o.default.createElement(ee,ko(ar(ar({ref:ye},ge),De),{beforeEnter:Fe,beforeLeave:Ne}))}),theirProps:{},defaultTag:o.Fragment,features:ue,visible:Be==="visible",name:"Transition"})))}function te(fe,Ee){let de=(0,o.useContext)(I)!==null,_e=(0,u.oJ)()!==null;return o.default.createElement(o.default.Fragment,null,!de&&_e?o.default.createElement(se,ar({ref:Ee},fe)):o.default.createElement(ee,ar({ref:Ee},fe)))}let se=(0,f.yV)(J),ee=(0,f.yV)(le),ae=(0,f.yV)(te),ce=Object.assign(se,{Child:ae,Root:se})},94192:(z,l,e)=>{"use strict";e.d(l,{G:()=>u});var o=e(98661),f=e(9362);function u(){let[c]=(0,o.useState)(f.k);return(0,o.useEffect)(()=>()=>c.dispose(),[c]),c}},73781:(z,l,e)=>{"use strict";e.d(l,{z:()=>u});var o=e(98661),f=e(3855);let u=function(c){let _=(0,f.E)(c);return o.default.useCallback((...g)=>_.current(...g),[_])}},19946:(z,l,e)=>{"use strict";e.d(l,{M:()=>g});var o=e(98661),f=e(16723),u=e(82180),c=e(77896),_;let g=(_=o.default.useId)!=null?_:function(){let E=(0,u.H)(),[v,y]=o.default.useState(E?()=>c.O.nextId():null);return(0,f.e)(()=>{v===null&&y(c.O.nextId())},[v]),v!=null?""+v:void 0}},14879:(z,l,e)=>{"use strict";e.d(l,{t:()=>u});var o=e(98661),f=e(16723);function u(){let c=(0,o.useRef)(!1);return(0,f.e)(()=>(c.current=!0,()=>{c.current=!1}),[]),c}},16723:(z,l,e)=>{"use strict";e.d(l,{e:()=>u});var o=e(98661),f=e(77896);let u=(c,_)=>{f.O.isServer?(0,o.useEffect)(c,_):(0,o.useLayoutEffect)(c,_)}},3855:(z,l,e)=>{"use strict";e.d(l,{E:()=>u});var o=e(98661),f=e(16723);function u(c){let _=(0,o.useRef)(c);return(0,f.e)(()=>{_.current=c},[c]),_}},82180:(z,l,e)=>{"use strict";e.d(l,{H:()=>u});var o=e(98661),f=e(77896);function u(){let[c,_]=(0,o.useState)(f.O.isHandoffComplete);return c&&f.O.isHandoffComplete===!1&&_(!1),(0,o.useEffect)(()=>{c!==!0&&_(!0)},[c]),(0,o.useEffect)(()=>f.O.handoff(),[]),c}},23784:(z,l,e)=>{"use strict";e.d(l,{T:()=>_,h:()=>c});var o=e(98661),f=e(73781);let u=Symbol();function c(g,E=!0){return Object.assign(g,{[u]:E})}function _(...g){let E=(0,o.useRef)(g);(0,o.useEffect)(()=>{E.current=g},[g]);let v=(0,f.z)(y=>{for(let T of E.current)T!=null&&(typeof T=="function"?T(y):T.current=y)});return g.every(y=>y==null||(y==null?void 0:y[u]))?void 0:v}},46045:(z,l,e)=>{"use strict";e.d(l,{A:()=>u,_:()=>_});var o=e(12351);let f="div";var u=(g=>(g[g.None=1]="None",g[g.Focusable=2]="Focusable",g[g.Hidden=4]="Hidden",g))(u||{});function c(g,E){let w=g,{features:v=1}=w,y=gi(w,["features"]),T={ref:E,"aria-hidden":(v&2)===2?!0:void 0,style:ar({position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},(v&4)===4&&(v&2)!==2&&{display:"none"})};return(0,o.sY)({ourProps:T,theirProps:y,slot:{},defaultTag:f,name:"Hidden"})}let _=(0,o.yV)(c)},16567:(z,l,e)=>{"use strict";e.d(l,{ZM:()=>u,oJ:()=>c,up:()=>_});var o=e(98661);let f=(0,o.createContext)(null);f.displayName="OpenClosedContext";var u=(g=>(g[g.Open=1]="Open",g[g.Closed=2]="Closed",g[g.Closing=4]="Closing",g[g.Opening=8]="Opening",g))(u||{});function c(){return(0,o.useContext)(f)}function _({value:g,children:E}){return o.default.createElement(f.Provider,{value:g},E)}},64103:(z,l,e)=>{"use strict";e.d(l,{P:()=>o});function o(u){let c=u.parentElement,_=null;for(;c&&!(c instanceof HTMLFieldSetElement);)c instanceof HTMLLegendElement&&(_=c),c=c.parentElement;let g=(c==null?void 0:c.getAttribute("disabled"))==="";return g&&f(_)?!1:g}function f(u){if(!u)return!1;let c=u.previousElementSibling;for(;c!==null;){if(c instanceof HTMLLegendElement)return!1;c=c.previousElementSibling}return!0}},44067:(z,l,e)=>{"use strict";e.d(l,{A:()=>o});function o(...f){return f.filter(Boolean).join(" ")}},9362:(z,l,e)=>{"use strict";e.d(l,{k:()=>f});var o=e(81021);function f(){let u=[],c={addEventListener(_,g,E,v){return _.addEventListener(g,E,v),c.add(()=>_.removeEventListener(g,E,v))},requestAnimationFrame(..._){let g=requestAnimationFrame(..._);return c.add(()=>cancelAnimationFrame(g))},nextFrame(..._){return c.requestAnimationFrame(()=>c.requestAnimationFrame(..._))},setTimeout(..._){let g=setTimeout(..._);return c.add(()=>clearTimeout(g))},microTask(..._){let g={current:!0};return(0,o.Y)(()=>{g.current&&_[0]()}),c.add(()=>{g.current=!1})},style(_,g,E){let v=_.style.getPropertyValue(g);return Object.assign(_.style,{[g]:E}),this.add(()=>{Object.assign(_.style,{[g]:v})})},group(_){let g=f();return _(g),this.add(()=>g.dispose())},add(_){return u.push(_),()=>{let g=u.indexOf(_);if(g>=0)for(let E of u.splice(g,1))E()}},dispose(){for(let _ of u.splice(0))_()}};return c}},77896:(z,l,e)=>{"use strict";e.d(l,{O:()=>_});var o=Object.defineProperty,f=(g,E,v)=>E in g?o(g,E,{enumerable:!0,configurable:!0,writable:!0,value:v}):g[E]=v,u=(g,E,v)=>(f(g,typeof E!="symbol"?E+"":E,v),v);class c{constructor(){u(this,"current",this.detect()),u(this,"handoffState","pending"),u(this,"currentId",0)}set(E){this.current!==E&&(this.handoffState="pending",this.currentId=0,this.current=E)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window=="undefined"||typeof document=="undefined"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}}let _=new c},32984:(z,l,e)=>{"use strict";e.d(l,{E:()=>o});function o(f,u,...c){if(f in u){let g=u[f];return typeof g=="function"?g(...c):g}let _=new Error(`Tried to handle "${f}" but there is no handler defined. Only defined handlers are: ${Object.keys(u).map(g=>`"${g}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(_,o),_}},81021:(z,l,e)=>{"use strict";e.d(l,{Y:()=>o});function o(f){typeof queueMicrotask=="function"?queueMicrotask(f):Promise.resolve().then(f).catch(u=>setTimeout(()=>{throw u}))}},12351:(z,l,e)=>{"use strict";e.d(l,{AN:()=>c,l4:()=>_,sY:()=>g,yV:()=>T});var o=e(98661),f=e(44067),u=e(32984),c=(O=>(O[O.None=0]="None",O[O.RenderStrategy=1]="RenderStrategy",O[O.Static=2]="Static",O))(c||{}),_=(O=>(O[O.Unmount=0]="Unmount",O[O.Hidden=1]="Hidden",O))(_||{});function g({ourProps:O,theirProps:p,slot:d,defaultTag:a,features:P,visible:C=!0,name:D}){let A=y(p,O);if(C)return E(A,d,a,D);let x=P!=null?P:0;if(x&2){let I=A,{static:F=!1}=I,B=gi(I,["static"]);if(F)return E(B,d,a,D)}if(x&1){let N=A,{unmount:F=!0}=N,B=gi(N,["unmount"]);return(0,u.E)(F?0:1,{[0](){return null},[1](){return E(ko(ar({},B),{hidden:!0,style:{display:"none"}}),d,a,D)}})}return E(A,d,a,D)}function E(O,p={},d,a){let F=S(O,["unmount","static"]),{as:P=d,children:C,refName:D="ref"}=F,A=gi(F,["as","children","refName"]),x=O.ref!==void 0?{[D]:O.ref}:{},I=typeof C=="function"?C(p):C;"className"in A&&A.className&&typeof A.className=="function"&&(A.className=A.className(p));let N={};if(p){let B=!1,V=[];for(let[Z,Y]of Object.entries(p))typeof Y=="boolean"&&(B=!0),Y===!0&&V.push(Z);B&&(N["data-headlessui-state"]=V.join(" "))}if(P===o.Fragment&&Object.keys(w(A)).length>0){if(!(0,o.isValidElement)(I)||Array.isArray(I)&&I.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${a} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(A).map(Y=>`  - ${Y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(Y=>`  - ${Y}`).join(`
`)].join(`
`));let B=I.props,V=typeof(B==null?void 0:B.className)=="function"?(...Y)=>(0,f.A)(B==null?void 0:B.className(...Y),A.className):(0,f.A)(B==null?void 0:B.className,A.className),Z=V?{className:V}:{};return(0,o.cloneElement)(I,Object.assign({},y(I.props,w(S(A,["ref"]))),N,x,v(I.ref,x.ref),Z))}return(0,o.createElement)(P,Object.assign({},S(A,["ref"]),P!==o.Fragment&&x,P!==o.Fragment&&N),I)}function v(...O){return{ref:O.every(p=>p==null)?void 0:p=>{for(let d of O)d!=null&&(typeof d=="function"?d(p):d.current=p)}}}function y(...O){var p;if(O.length===0)return{};if(O.length===1)return O[0];let d={},a={};for(let P of O)for(let C in P)C.startsWith("on")&&typeof P[C]=="function"?((p=a[C])!=null||(a[C]=[]),a[C].push(P[C])):d[C]=P[C];if(d.disabled||d["aria-disabled"])return Object.assign(d,Object.fromEntries(Object.keys(a).map(P=>[P,void 0])));for(let P in a)Object.assign(d,{[P](C,...D){let A=a[P];for(let x of A){if((C instanceof Event||(C==null?void 0:C.nativeEvent)instanceof Event)&&C.defaultPrevented)return;x(C,...D)}}});return d}function T(O){var p;return Object.assign((0,o.forwardRef)(O),{displayName:(p=O.displayName)!=null?p:O.name})}function w(O){let p=Object.assign({},O);for(let d in p)p[d]===void 0&&delete p[d];return p}function S(O,p=[]){let d=Object.assign({},O);for(let a of p)a in d&&delete d[a];return d}},5865:(z,l,e)=>{"use strict";e.d(l,{AW:()=>oo,Cf:()=>mi,DK:()=>rt,DS:()=>Fo,EG:()=>Wn,Jo:()=>Oo,K9:()=>Ze,ML:()=>so,NB:()=>wi,Ov:()=>et,P1:()=>d,QC:()=>Xn,S0:()=>ai,XP:()=>Zr,_4:()=>po,b5:()=>$r,hj:()=>fe,pr:()=>kn,tI:()=>Ft,u9:()=>Jt,vc:()=>qo,xh:()=>en,zK:()=>si});var o=e(2376),f=e(84348),u=e(60440),c=e(87823),_=e(16560),g=e(25804),E=e(53833);function v(Te){const{state:be,transaction:Ce}=Te;let{selection:$e}=Ce,{doc:ft}=Ce,{storedMarks:pt}=Ce;return ko(ar({},be),{apply:be.apply.bind(be),applyTransaction:be.applyTransaction.bind(be),filterTransaction:be.filterTransaction,plugins:be.plugins,schema:be.schema,reconfigure:be.reconfigure.bind(be),toJSON:be.toJSON.bind(be),get storedMarks(){return pt},get selection(){return $e},get doc(){return ft},get tr(){return $e=Ce.selection,ft=Ce.doc,pt=Ce.storedMarks,Ce}})}class y{constructor(be){this.editor=be.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=be.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:be,editor:Ce,state:$e}=this,{view:ft}=Ce,{tr:pt}=$e,Ct=this.buildProps(pt);return Object.fromEntries(Object.entries(be).map(([St,Bt])=>[St,(...fn)=>{const Qt=Bt(...fn)(Ct);return!pt.getMeta("preventDispatch")&&!this.hasCustomState&&ft.dispatch(pt),Qt}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(be,Ce=!0){const{rawCommands:$e,editor:ft,state:pt}=this,{view:Ct}=ft,St=[],Bt=!!be,Ut=be||pt.tr,fn=()=>(!Bt&&Ce&&!Ut.getMeta("preventDispatch")&&!this.hasCustomState&&Ct.dispatch(Ut),St.every(dn=>dn===!0)),Qt=ko(ar({},Object.fromEntries(Object.entries($e).map(([dn,In])=>[dn,(...pr)=>{const lr=this.buildProps(Ut,Ce),wn=In(...pr)(lr);return St.push(wn),Qt}]))),{run:fn});return Qt}createCan(be){const{rawCommands:Ce,state:$e}=this,ft=!1,pt=be||$e.tr,Ct=this.buildProps(pt,ft),St=Object.fromEntries(Object.entries(Ce).map(([Bt,Ut])=>[Bt,(...fn)=>Ut(...fn)(ko(ar({},Ct),{dispatch:void 0}))]));return ko(ar({},St),{chain:()=>this.createChain(pt,ft)})}buildProps(be,Ce=!0){const{rawCommands:$e,editor:ft,state:pt}=this,{view:Ct}=ft;pt.storedMarks&&be.setStoredMarks(pt.storedMarks);const St={tr:be,editor:ft,view:Ct,state:v({state:pt,transaction:be}),dispatch:Ce?()=>{}:void 0,chain:()=>this.createChain(be),can:()=>this.createCan(be),get commands(){return Object.fromEntries(Object.entries($e).map(([Bt,Ut])=>[Bt,(...fn)=>Ut(...fn)(St)]))}};return St}}class T{constructor(){this.callbacks={}}on(be,Ce){return this.callbacks[be]||(this.callbacks[be]=[]),this.callbacks[be].push(Ce),this}emit(be,...Ce){const $e=this.callbacks[be];return $e&&$e.forEach(ft=>ft.apply(this,Ce)),this}off(be,Ce){const $e=this.callbacks[be];return $e&&(Ce?this.callbacks[be]=$e.filter(ft=>ft!==Ce):delete this.callbacks[be]),this}removeAllListeners(){this.callbacks={}}}function w(Te,be,Ce){return Te.config[be]===void 0&&Te.parent?w(Te.parent,be,Ce):typeof Te.config[be]=="function"?Te.config[be].bind(ko(ar({},Ce),{parent:Te.parent?w(Te.parent,be,Ce):null})):Te.config[be]}function S(Te){const be=Te.filter(ft=>ft.type==="extension"),Ce=Te.filter(ft=>ft.type==="node"),$e=Te.filter(ft=>ft.type==="mark");return{baseExtensions:be,nodeExtensions:Ce,markExtensions:$e}}function O(Te){const be=[],{nodeExtensions:Ce,markExtensions:$e}=S(Te),ft=[...Ce,...$e],pt={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return Te.forEach(Ct=>{const St={name:Ct.name,options:Ct.options,storage:Ct.storage},Bt=w(Ct,"addGlobalAttributes",St);if(!Bt)return;Bt().forEach(fn=>{fn.types.forEach(Qt=>{Object.entries(fn.attributes).forEach(([dn,In])=>{be.push({type:Qt,name:dn,attribute:ar(ar({},pt),In)})})})})}),ft.forEach(Ct=>{const St={name:Ct.name,options:Ct.options,storage:Ct.storage},Bt=w(Ct,"addAttributes",St);if(!Bt)return;const Ut=Bt();Object.entries(Ut).forEach(([fn,Qt])=>{const dn=ar(ar({},pt),Qt);typeof(dn==null?void 0:dn.default)=="function"&&(dn.default=dn.default()),dn!=null&&dn.isRequired&&(dn==null?void 0:dn.default)===void 0&&delete dn.default,be.push({type:Ct.name,name:fn,attribute:dn})})}),be}function p(Te,be){if(typeof Te=="string"){if(!be.nodes[Te])throw Error(`There is no node type named '${Te}'. Maybe you forgot to add the extension?`);return be.nodes[Te]}return Te}function d(...Te){return Te.filter(be=>!!be).reduce((be,Ce)=>{const $e=ar({},be);return Object.entries(Ce).forEach(([ft,pt])=>{if(!$e[ft]){$e[ft]=pt;return}ft==="class"?$e[ft]=[$e[ft],pt].join(" "):ft==="style"?$e[ft]=[$e[ft],pt].join("; "):$e[ft]=pt}),$e},{})}function a(Te,be){return be.filter(Ce=>Ce.attribute.rendered).map(Ce=>Ce.attribute.renderHTML?Ce.attribute.renderHTML(Te.attrs)||{}:{[Ce.name]:Te.attrs[Ce.name]}).reduce((Ce,$e)=>d(Ce,$e),{})}function P(Te){return typeof Te=="function"}function C(Te,be=void 0,...Ce){return P(Te)?be?Te.bind(be)(...Ce):Te(...Ce):Te}function D(Te={}){return Object.keys(Te).length===0&&Te.constructor===Object}function A(Te){return typeof Te!="string"?Te:Te.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(Te):Te==="true"?!0:Te==="false"?!1:Te}function x(Te,be){return Te.style?Te:ko(ar({},Te),{getAttrs:Ce=>{const $e=Te.getAttrs?Te.getAttrs(Ce):Te.attrs;if($e===!1)return!1;const ft=be.reduce((pt,Ct)=>{const St=Ct.attribute.parseHTML?Ct.attribute.parseHTML(Ce):A(Ce.getAttribute(Ct.name));return St==null?pt:ko(ar({},pt),{[Ct.name]:St})},{});return ar(ar({},$e),ft)}})}function I(Te){return Object.fromEntries(Object.entries(Te).filter(([be,Ce])=>be==="attrs"&&D(Ce)?!1:Ce!=null))}function N(Te,be){var Ce;const $e=O(Te),{nodeExtensions:ft,markExtensions:pt}=S(Te),Ct=(Ce=ft.find(Ut=>w(Ut,"topNode")))===null||Ce===void 0?void 0:Ce.name,St=Object.fromEntries(ft.map(Ut=>{const fn=$e.filter(wn=>wn.type===Ut.name),Qt={name:Ut.name,options:Ut.options,storage:Ut.storage,editor:be},dn=Te.reduce((wn,vr)=>{const ur=w(vr,"extendNodeSchema",Qt);return ar(ar({},wn),ur?ur(Ut):{})},{}),In=I(ko(ar({},dn),{content:C(w(Ut,"content",Qt)),marks:C(w(Ut,"marks",Qt)),group:C(w(Ut,"group",Qt)),inline:C(w(Ut,"inline",Qt)),atom:C(w(Ut,"atom",Qt)),selectable:C(w(Ut,"selectable",Qt)),draggable:C(w(Ut,"draggable",Qt)),code:C(w(Ut,"code",Qt)),defining:C(w(Ut,"defining",Qt)),isolating:C(w(Ut,"isolating",Qt)),attrs:Object.fromEntries(fn.map(wn=>{var vr;return[wn.name,{default:(vr=wn==null?void 0:wn.attribute)===null||vr===void 0?void 0:vr.default}]}))})),Yn=C(w(Ut,"parseHTML",Qt));Yn&&(In.parseDOM=Yn.map(wn=>x(wn,fn)));const pr=w(Ut,"renderHTML",Qt);pr&&(In.toDOM=wn=>pr({node:wn,HTMLAttributes:a(wn,fn)}));const lr=w(Ut,"renderText",Qt);return lr&&(In.toText=lr),[Ut.name,In]})),Bt=Object.fromEntries(pt.map(Ut=>{const fn=$e.filter(lr=>lr.type===Ut.name),Qt={name:Ut.name,options:Ut.options,storage:Ut.storage,editor:be},dn=Te.reduce((lr,wn)=>{const vr=w(wn,"extendMarkSchema",Qt);return ar(ar({},lr),vr?vr(Ut):{})},{}),In=I(ko(ar({},dn),{inclusive:C(w(Ut,"inclusive",Qt)),excludes:C(w(Ut,"excludes",Qt)),group:C(w(Ut,"group",Qt)),spanning:C(w(Ut,"spanning",Qt)),code:C(w(Ut,"code",Qt)),attrs:Object.fromEntries(fn.map(lr=>{var wn;return[lr.name,{default:(wn=lr==null?void 0:lr.attribute)===null||wn===void 0?void 0:wn.default}]}))})),Yn=C(w(Ut,"parseHTML",Qt));Yn&&(In.parseDOM=Yn.map(lr=>x(lr,fn)));const pr=w(Ut,"renderHTML",Qt);return pr&&(In.toDOM=lr=>pr({mark:lr,HTMLAttributes:a(lr,fn)})),[Ut.name,In]}));return new c.V_({topNode:Ct,nodes:St,marks:Bt})}function F(Te,be){return be.nodes[Te]||be.marks[Te]||null}function B(Te,be){return Array.isArray(be)?be.some(Ce=>(typeof Ce=="string"?Ce:Ce.name)===Te.name):be}const V=(Te,be=500)=>{let Ce="";const $e=Te.parentOffset;return Te.parent.nodesBetween(Math.max(0,$e-be),$e,(ft,pt,Ct,St)=>{var Bt,Ut;const fn=((Ut=(Bt=ft.type.spec).toText)===null||Ut===void 0?void 0:Ut.call(Bt,{node:ft,pos:pt,parent:Ct,index:St}))||ft.textContent||"%leaf%";Ce+=fn.slice(0,Math.max(0,$e-pt))}),Ce};function Z(Te){return Object.prototype.toString.call(Te)==="[object RegExp]"}class Y{constructor(be){this.find=be.find,this.handler=be.handler}}const ne=(Te,be)=>{if(Z(be))return be.exec(Te);const Ce=be(Te);if(!Ce)return null;const $e=[Ce.text];return $e.index=Ce.index,$e.input=Te,$e.data=Ce.data,Ce.replaceWith&&(Ce.text.includes(Ce.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),$e.push(Ce.replaceWith)),$e};function G(Te){var be;const{editor:Ce,from:$e,to:ft,text:pt,rules:Ct,plugin:St}=Te,{view:Bt}=Ce;if(Bt.composing)return!1;const Ut=Bt.state.doc.resolve($e);if(Ut.parent.type.spec.code||!((be=Ut.nodeBefore||Ut.nodeAfter)===null||be===void 0)&&be.marks.find(dn=>dn.type.spec.code))return!1;let fn=!1;const Qt=V(Ut)+pt;return Ct.forEach(dn=>{if(fn)return;const In=ne(Qt,dn.find);if(!In)return;const Yn=Bt.state.tr,pr=v({state:Bt.state,transaction:Yn}),lr={from:$e-(In[0].length-pt.length),to:ft},{commands:wn,chain:vr,can:ur}=new y({editor:Ce,state:pr});dn.handler({state:pr,range:lr,match:In,commands:wn,chain:vr,can:ur})===null||!Yn.steps.length||(Yn.setMeta(St,{transform:Yn,from:$e,to:ft,text:pt}),Bt.dispatch(Yn),fn=!0)}),fn}function L(Te){const{editor:be,rules:Ce}=Te,$e=new o.Sy({state:{init(){return null},apply(ft,pt){const Ct=ft.getMeta($e);return Ct||(ft.selectionSet||ft.docChanged?null:pt)}},props:{handleTextInput(ft,pt,Ct,St){return G({editor:be,from:pt,to:Ct,text:St,rules:Ce,plugin:$e})},handleDOMEvents:{compositionend:ft=>(setTimeout(()=>{const{$cursor:pt}=ft.state.selection;pt&&G({editor:be,from:pt.pos,to:pt.pos,text:"",rules:Ce,plugin:$e})}),!1)},handleKeyDown(ft,pt){if(pt.key!=="Enter")return!1;const{$cursor:Ct}=ft.state.selection;return Ct?G({editor:be,from:Ct.pos,to:Ct.pos,text:`
`,rules:Ce,plugin:$e}):!1}},isInputRules:!0});return $e}function W(Te){return typeof Te=="number"}class ie{constructor(be){this.find=be.find,this.handler=be.handler}}const ue=(Te,be)=>{if(Z(be))return[...Te.matchAll(be)];const Ce=be(Te);return Ce?Ce.map($e=>{const ft=[$e.text];return ft.index=$e.index,ft.input=Te,ft.data=$e.data,$e.replaceWith&&($e.text.includes($e.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),ft.push($e.replaceWith)),ft}):[]};function le(Te){const{editor:be,state:Ce,from:$e,to:ft,rule:pt}=Te,{commands:Ct,chain:St,can:Bt}=new y({editor:be,state:Ce}),Ut=[];return Ce.doc.nodesBetween($e,ft,(Qt,dn)=>{if(!Qt.isTextblock||Qt.type.spec.code)return;const In=Math.max($e,dn),Yn=Math.min(ft,dn+Qt.content.size),pr=Qt.textBetween(In-dn,Yn-dn,void 0,"\uFFFC");ue(pr,pt.find).forEach(wn=>{if(wn.index===void 0)return;const vr=In+wn.index+1,ur=vr+wn[0].length,Dr={from:Ce.tr.mapping.map(vr),to:Ce.tr.mapping.map(ur)},xr=pt.handler({state:Ce,range:Dr,match:wn,commands:Ct,chain:St,can:Bt});Ut.push(xr)})}),Ut.every(Qt=>Qt!==null)}function J(Te){const{editor:be,rules:Ce}=Te;let $e=null,ft=!1,pt=!1;return Ce.map(St=>new o.Sy({view(Bt){const Ut=fn=>{var Qt;$e=!((Qt=Bt.dom.parentElement)===null||Qt===void 0)&&Qt.contains(fn.target)?Bt.dom.parentElement:null};return window.addEventListener("dragstart",Ut),{destroy(){window.removeEventListener("dragstart",Ut)}}},props:{handleDOMEvents:{drop:Bt=>(pt=$e===Bt.dom.parentElement,!1),paste:(Bt,Ut)=>{var fn;const Qt=(fn=Ut.clipboardData)===null||fn===void 0?void 0:fn.getData("text/html");return ft=!!(Qt!=null&&Qt.includes("data-pm-slice")),!1}}},appendTransaction:(Bt,Ut,fn)=>{const Qt=Bt[0],dn=Qt.getMeta("uiEvent")==="paste"&&!ft,In=Qt.getMeta("uiEvent")==="drop"&&!pt;if(!dn&&!In)return;const Yn=Ut.doc.content.findDiffStart(fn.doc.content),pr=Ut.doc.content.findDiffEnd(fn.doc.content);if(!W(Yn)||!pr||Yn===pr.b)return;const lr=fn.tr,wn=v({state:fn,transaction:lr});if(!(!le({editor:be,state:wn,from:Math.max(Yn-1,0),to:pr.b-1,rule:St})||!lr.steps.length))return lr}}))}function te(Te){const be=Te.filter((Ce,$e)=>Te.indexOf(Ce)!==$e);return[...new Set(be)]}class se{constructor(be,Ce){this.splittableMarks=[],this.editor=Ce,this.extensions=se.resolve(be),this.schema=N(this.extensions,Ce),this.extensions.forEach($e=>{var ft;this.editor.extensionStorage[$e.name]=$e.storage;const pt={name:$e.name,options:$e.options,storage:$e.storage,editor:this.editor,type:F($e.name,this.schema)};$e.type==="mark"&&(!((ft=C(w($e,"keepOnSplit",pt)))!==null&&ft!==void 0)||ft)&&this.splittableMarks.push($e.name);const Ct=w($e,"onBeforeCreate",pt);Ct&&this.editor.on("beforeCreate",Ct);const St=w($e,"onCreate",pt);St&&this.editor.on("create",St);const Bt=w($e,"onUpdate",pt);Bt&&this.editor.on("update",Bt);const Ut=w($e,"onSelectionUpdate",pt);Ut&&this.editor.on("selectionUpdate",Ut);const fn=w($e,"onTransaction",pt);fn&&this.editor.on("transaction",fn);const Qt=w($e,"onFocus",pt);Qt&&this.editor.on("focus",Qt);const dn=w($e,"onBlur",pt);dn&&this.editor.on("blur",dn);const In=w($e,"onDestroy",pt);In&&this.editor.on("destroy",In)})}static resolve(be){const Ce=se.sort(se.flatten(be)),$e=te(Ce.map(ft=>ft.name));return $e.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${$e.map(ft=>`'${ft}'`).join(", ")}]. This can lead to issues.`),Ce}static flatten(be){return be.map(Ce=>{const $e={name:Ce.name,options:Ce.options,storage:Ce.storage},ft=w(Ce,"addExtensions",$e);return ft?[Ce,...this.flatten(ft())]:Ce}).flat(10)}static sort(be){return be.sort(($e,ft)=>{const pt=w($e,"priority")||100,Ct=w(ft,"priority")||100;return pt>Ct?-1:pt<Ct?1:0})}get commands(){return this.extensions.reduce((be,Ce)=>{const $e={name:Ce.name,options:Ce.options,storage:Ce.storage,editor:this.editor,type:F(Ce.name,this.schema)},ft=w(Ce,"addCommands",$e);return ft?ar(ar({},be),ft()):be},{})}get plugins(){const{editor:be}=this,Ce=se.sort([...this.extensions].reverse()),$e=[],ft=[],pt=Ce.map(Ct=>{const St={name:Ct.name,options:Ct.options,storage:Ct.storage,editor:be,type:F(Ct.name,this.schema)},Bt=[],Ut=w(Ct,"addKeyboardShortcuts",St);let fn={};if(Ct.type==="mark"&&Ct.config.exitable&&(fn.ArrowRight=()=>qo.handleExit({editor:be,mark:Ct})),Ut){const pr=Object.fromEntries(Object.entries(Ut()).map(([lr,wn])=>[lr,()=>wn({editor:be})]));fn=ar(ar({},fn),pr)}const Qt=(0,u.h)(fn);Bt.push(Qt);const dn=w(Ct,"addInputRules",St);B(Ct,be.options.enableInputRules)&&dn&&$e.push(...dn());const In=w(Ct,"addPasteRules",St);B(Ct,be.options.enablePasteRules)&&In&&ft.push(...In());const Yn=w(Ct,"addProseMirrorPlugins",St);if(Yn){const pr=Yn();Bt.push(...pr)}return Bt}).flat();return[L({editor:be,rules:$e}),...J({editor:be,rules:ft}),...pt]}get attributes(){return O(this.extensions)}get nodeViews(){const{editor:be}=this,{nodeExtensions:Ce}=S(this.extensions);return Object.fromEntries(Ce.filter($e=>!!w($e,"addNodeView")).map($e=>{const ft=this.attributes.filter(Bt=>Bt.type===$e.name),pt={name:$e.name,options:$e.options,storage:$e.storage,editor:be,type:p($e.name,this.schema)},Ct=w($e,"addNodeView",pt);if(!Ct)return[];const St=(Bt,Ut,fn,Qt)=>{const dn=a(Bt,ft);return Ct()({editor:be,node:Bt,getPos:fn,decorations:Qt,HTMLAttributes:dn,extension:$e})};return[$e.name,St]}))}}function ee(Te){return Object.prototype.toString.call(Te).slice(8,-1)}function ae(Te){return ee(Te)!=="Object"?!1:Te.constructor===Object&&Object.getPrototypeOf(Te)===Object.prototype}function ce(Te,be){const Ce=ar({},Te);return ae(Te)&&ae(be)&&Object.keys(be).forEach($e=>{ae(be[$e])?$e in Te?Ce[$e]=ce(Te[$e],be[$e]):Object.assign(Ce,{[$e]:be[$e]}):Object.assign(Ce,{[$e]:be[$e]})}),Ce}class fe{constructor(be={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=ar(ar({},this.config),be),this.name=this.config.name,be.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=C(w(this,"addOptions",{name:this.name}))),this.storage=C(w(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(be={}){return new fe(be)}configure(be={}){const Ce=this.extend();return Ce.options=ce(this.options,be),Ce.storage=C(w(Ce,"addStorage",{name:Ce.name,options:Ce.options})),Ce}extend(be={}){const Ce=new fe(be);return Ce.parent=this,this.child=Ce,Ce.name=be.name?be.name:Ce.parent.name,be.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${Ce.name}".`),Ce.options=C(w(Ce,"addOptions",{name:Ce.name})),Ce.storage=C(w(Ce,"addStorage",{name:Ce.name,options:Ce.options})),Ce}}function Ee(Te,be,Ce){const{from:$e,to:ft}=be,{blockSeparator:pt=`

`,textSerializers:Ct={}}=Ce||{};let St="",Bt=!0;return Te.nodesBetween($e,ft,(Ut,fn,Qt,dn)=>{var In;const Yn=Ct==null?void 0:Ct[Ut.type.name];Yn?(Ut.isBlock&&!Bt&&(St+=pt,Bt=!0),Qt&&(St+=Yn({node:Ut,pos:fn,parent:Qt,index:dn,range:be}))):Ut.isText?(St+=(In=Ut==null?void 0:Ut.text)===null||In===void 0?void 0:In.slice(Math.max($e,fn)-fn,ft-fn),Bt=!1):Ut.isBlock&&!Bt&&(St+=pt,Bt=!0)}),St}function de(Te){return Object.fromEntries(Object.entries(Te.nodes).filter(([,be])=>be.spec.toText).map(([be,Ce])=>[be,Ce.spec.toText]))}const _e=fe.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:Te}=this,{state:be,schema:Ce}=Te,{doc:$e,selection:ft}=be,{ranges:pt}=ft,Ct=Math.min(...pt.map(fn=>fn.$from.pos)),St=Math.max(...pt.map(fn=>fn.$to.pos)),Bt=de(Ce);return Ee($e,{from:Ct,to:St},{textSerializers:Bt})}}})]}}),ve=()=>({editor:Te,view:be})=>(requestAnimationFrame(()=>{var Ce;Te.isDestroyed||(be.dom.blur(),(Ce=window==null?void 0:window.getSelection())===null||Ce===void 0||Ce.removeAllRanges())}),!0),De=(Te=!1)=>({commands:be})=>be.setContent("",Te),Oe=()=>({state:Te,tr:be,dispatch:Ce})=>{const{selection:$e}=be,{ranges:ft}=$e;return Ce&&ft.forEach(({$from:pt,$to:Ct})=>{Te.doc.nodesBetween(pt.pos,Ct.pos,(St,Bt)=>{if(St.type.isText)return;const{doc:Ut,mapping:fn}=be,Qt=Ut.resolve(fn.map(Bt)),dn=Ut.resolve(fn.map(Bt+St.nodeSize)),In=Qt.blockRange(dn);if(!In)return;const Yn=(0,_.k9)(In);if(St.type.isTextblock){const{defaultType:pr}=Qt.parent.contentMatchAt(Qt.index());be.setNodeMarkup(In.start,pr)}(Yn||Yn===0)&&be.lift(In,Yn)})}),!0},ye=Te=>be=>Te(be),ze=()=>({state:Te,dispatch:be})=>(0,g.mD)(Te,be),Be=()=>({tr:Te,dispatch:be})=>{const{selection:Ce}=Te,$e=Ce.$anchor.node();if($e.content.size>0)return!1;const ft=Te.selection.$anchor;for(let pt=ft.depth;pt>0;pt-=1)if(ft.node(pt).type===$e.type){if(be){const St=ft.before(pt),Bt=ft.after(pt);Te.delete(St,Bt).scrollIntoView()}return!0}return!1},We=Te=>({tr:be,state:Ce,dispatch:$e})=>{const ft=p(Te,Ce.schema),pt=be.selection.$anchor;for(let Ct=pt.depth;Ct>0;Ct-=1)if(pt.node(Ct).type===ft){if($e){const Bt=pt.before(Ct),Ut=pt.after(Ct);be.delete(Bt,Ut).scrollIntoView()}return!0}return!1},Ke=Te=>({tr:be,dispatch:Ce})=>{const{from:$e,to:ft}=Te;return Ce&&be.delete($e,ft),!0},Xe=()=>({state:Te,dispatch:be})=>(0,g.NE)(Te,be),ct=()=>({commands:Te})=>Te.keyboardShortcut("Enter"),Se=()=>({state:Te,dispatch:be})=>(0,g.uo)(Te,be);function Qe(Te,be,Ce={strict:!0}){const $e=Object.keys(be);return $e.length?$e.every(ft=>Ce.strict?be[ft]===Te[ft]:Z(be[ft])?be[ft].test(Te[ft]):be[ft]===Te[ft]):!0}function ge(Te,be,Ce={}){return Te.find($e=>$e.type===be&&Qe($e.attrs,Ce))}function Fe(Te,be,Ce={}){return!!ge(Te,be,Ce)}function Ne(Te,be,Ce={}){if(!Te||!be)return;let $e=Te.parent.childAfter(Te.parentOffset);if(Te.parentOffset===$e.offset&&$e.offset!==0&&($e=Te.parent.childBefore(Te.parentOffset)),!$e.node)return;const ft=ge([...$e.node.marks],be,Ce);if(!ft)return;let pt=$e.index,Ct=Te.start()+$e.offset,St=pt+1,Bt=Ct+$e.node.nodeSize;for(ge([...$e.node.marks],be,Ce);pt>0&&ft.isInSet(Te.parent.child(pt-1).marks);)pt-=1,Ct-=Te.parent.child(pt).nodeSize;for(;St<Te.parent.childCount&&Fe([...Te.parent.child(St).marks],be,Ce);)Bt+=Te.parent.child(St).nodeSize,St+=1;return{from:Ct,to:Bt}}function lt(Te,be){if(typeof Te=="string"){if(!be.marks[Te])throw Error(`There is no mark type named '${Te}'. Maybe you forgot to add the extension?`);return be.marks[Te]}return Te}const Et=(Te,be={})=>({tr:Ce,state:$e,dispatch:ft})=>{const pt=lt(Te,$e.schema),{doc:Ct,selection:St}=Ce,{$from:Bt,from:Ut,to:fn}=St;if(ft){const Qt=Ne(Bt,pt,be);if(Qt&&Qt.from<=Ut&&Qt.to>=fn){const dn=o.Bs.create(Ct,Qt.from,Qt.to);Ce.setSelection(dn)}}return!0},jt=Te=>be=>{const Ce=typeof Te=="function"?Te(be):Te;for(let $e=0;$e<Ce.length;$e+=1)if(Ce[$e](be))return!0;return!1};function en(Te){return Te instanceof o.Bs}function vt(Te=0,be=0,Ce=0){return Math.min(Math.max(Te,be),Ce)}function Re(Te,be=null){if(!be)return null;const Ce=o.Y1.atStart(Te),$e=o.Y1.atEnd(Te);if(be==="start"||be===!0)return Ce;if(be==="end")return $e;const ft=Ce.from,pt=$e.to;return be==="all"?o.Bs.create(Te,vt(0,ft,pt),vt(Te.content.size,ft,pt)):o.Bs.create(Te,vt(be,ft,pt),vt(be,ft,pt))}function He(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const ot=(Te=null,be={})=>({editor:Ce,view:$e,tr:ft,dispatch:pt})=>{be=ar({scrollIntoView:!0},be);const Ct=()=>{He()&&$e.dom.focus(),requestAnimationFrame(()=>{Ce.isDestroyed||($e.focus(),be!=null&&be.scrollIntoView&&Ce.commands.scrollIntoView())})};if($e.hasFocus()&&Te===null||Te===!1)return!0;if(pt&&Te===null&&!en(Ce.state.selection))return Ct(),!0;const St=Re(ft.doc,Te)||Ce.state.selection,Bt=Ce.state.selection.eq(St);return pt&&(Bt||ft.setSelection(St),Bt&&ft.storedMarks&&ft.setStoredMarks(ft.storedMarks),Ct()),!0},me=(Te,be)=>Ce=>Te.every(($e,ft)=>be($e,ko(ar({},Ce),{index:ft}))),ke=(Te,be)=>({tr:Ce,commands:$e})=>$e.insertContentAt({from:Ce.selection.from,to:Ce.selection.to},Te,be);function je(Te){const be=`<body>${Te}</body>`;return new window.DOMParser().parseFromString(be,"text/html").body}function Je(Te,be,Ce){if(Ce=ar({slice:!0,parseOptions:{}},Ce),typeof Te=="object"&&Te!==null)try{return Array.isArray(Te)&&Te.length>0?c.HY.fromArray(Te.map($e=>be.nodeFromJSON($e))):be.nodeFromJSON(Te)}catch($e){return console.warn("[tiptap warn]: Invalid content.","Passed value:",Te,"Error:",$e),Je("",be,Ce)}if(typeof Te=="string"){const $e=c.aw.fromSchema(be);return Ce.slice?$e.parseSlice(je(Te),Ce.parseOptions).content:$e.parse(je(Te),Ce.parseOptions)}return Je("",be,Ce)}function tt(Te,be,Ce){const $e=Te.steps.length-1;if($e<be)return;const ft=Te.steps[$e];if(!(ft instanceof _.Pu||ft instanceof _.FC))return;const pt=Te.mapping.maps[$e];let Ct=0;pt.forEach((St,Bt,Ut,fn)=>{Ct===0&&(Ct=fn)}),Te.setSelection(o.Y1.near(Te.doc.resolve(Ct),Ce))}const Ae=Te=>Te.toString().startsWith("<"),H=(Te,be,Ce)=>({tr:$e,dispatch:ft,editor:pt})=>{if(ft){Ce=ar({parseOptions:{},updateSelection:!0},Ce);const Ct=Je(be,pt.schema,{parseOptions:ar({preserveWhitespace:"full"},Ce.parseOptions)});if(Ct.toString()==="<>")return!0;let{from:St,to:Bt}=typeof Te=="number"?{from:Te,to:Te}:Te,Ut=!0,fn=!0;if((Ae(Ct)?Ct:[Ct]).forEach(dn=>{dn.check(),Ut=Ut?dn.isText&&dn.marks.length===0:!1,fn=fn?dn.isBlock:!1}),St===Bt&&fn){const{parent:dn}=$e.doc.resolve(St);dn.isTextblock&&!dn.type.spec.code&&!dn.childCount&&(St-=1,Bt+=1)}Ut?Array.isArray(be)?$e.insertText(be.map(dn=>dn.text||"").join(""),St,Bt):typeof be=="object"&&be&&be.text?$e.insertText(be.text,St,Bt):$e.insertText(be,St,Bt):$e.replaceWith(St,Bt,Ct),Ce.updateSelection&&tt($e,$e.steps.length-1,-1)}return!0},Q=()=>({state:Te,dispatch:be})=>(0,g.MI)(Te,be),pe=()=>({state:Te,dispatch:be})=>(0,g.Ig)(Te,be),we=()=>({state:Te,dispatch:be})=>(0,g.al)(Te,be),Le=()=>({state:Te,dispatch:be})=>(0,g.Y_)(Te,be);function Ye(){return typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1}function dt(Te){const be=Te.split(/-(?!$)/);let Ce=be[be.length-1];Ce==="Space"&&(Ce=" ");let $e,ft,pt,Ct;for(let St=0;St<be.length-1;St+=1){const Bt=be[St];if(/^(cmd|meta|m)$/i.test(Bt))Ct=!0;else if(/^a(lt)?$/i.test(Bt))$e=!0;else if(/^(c|ctrl|control)$/i.test(Bt))ft=!0;else if(/^s(hift)?$/i.test(Bt))pt=!0;else if(/^mod$/i.test(Bt))He()||Ye()?Ct=!0:ft=!0;else throw new Error(`Unrecognized modifier name: ${Bt}`)}return $e&&(Ce=`Alt-${Ce}`),ft&&(Ce=`Ctrl-${Ce}`),Ct&&(Ce=`Meta-${Ce}`),pt&&(Ce=`Shift-${Ce}`),Ce}const st=Te=>({editor:be,view:Ce,tr:$e,dispatch:ft})=>{const pt=dt(Te).split(/-(?!$)/),Ct=pt.find(Ut=>!["Alt","Ctrl","Meta","Shift"].includes(Ut)),St=new KeyboardEvent("keydown",{key:Ct==="Space"?" ":Ct,altKey:pt.includes("Alt"),ctrlKey:pt.includes("Ctrl"),metaKey:pt.includes("Meta"),shiftKey:pt.includes("Shift"),bubbles:!0,cancelable:!0}),Bt=be.captureTransaction(()=>{Ce.someProp("handleKeyDown",Ut=>Ut(Ce,St))});return Bt==null||Bt.steps.forEach(Ut=>{const fn=Ut.map($e.mapping);fn&&ft&&$e.maybeStep(fn)}),!0};function _t(Te,be,Ce={}){const{from:$e,to:ft,empty:pt}=Te.selection,Ct=be?p(be,Te.schema):null,St=[];Te.doc.nodesBetween($e,ft,(Qt,dn)=>{if(Qt.isText)return;const In=Math.max($e,dn),Yn=Math.min(ft,dn+Qt.nodeSize);St.push({node:Qt,from:In,to:Yn})});const Bt=ft-$e,Ut=St.filter(Qt=>Ct?Ct.name===Qt.node.type.name:!0).filter(Qt=>Qe(Qt.node.attrs,Ce,{strict:!1}));return pt?!!Ut.length:Ut.reduce((Qt,dn)=>Qt+dn.to-dn.from,0)>=Bt}const Tt=(Te,be={})=>({state:Ce,dispatch:$e})=>{const ft=p(Te,Ce.schema);return _t(Ce,ft,be)?(0,g.xb)(Ce,$e):!1},nn=()=>({state:Te,dispatch:be})=>(0,g.X0)(Te,be),Mn=Te=>({state:be,dispatch:Ce})=>{const $e=p(Te,be.schema);return(0,E.IB)($e)(be,Ce)},tr=()=>({state:Te,dispatch:be})=>(0,g.QK)(Te,be);function sr(Te,be){return be.nodes[Te]?"node":be.marks[Te]?"mark":null}function Rt(Te,be){const Ce=typeof be=="string"?[be]:be;return Object.keys(Te).reduce(($e,ft)=>(Ce.includes(ft)||($e[ft]=Te[ft]),$e),{})}const Mt=(Te,be)=>({tr:Ce,state:$e,dispatch:ft})=>{let pt=null,Ct=null;const St=sr(typeof Te=="string"?Te:Te.name,$e.schema);return St?(St==="node"&&(pt=p(Te,$e.schema)),St==="mark"&&(Ct=lt(Te,$e.schema)),ft&&Ce.selection.ranges.forEach(Bt=>{$e.doc.nodesBetween(Bt.$from.pos,Bt.$to.pos,(Ut,fn)=>{pt&&pt===Ut.type&&Ce.setNodeMarkup(fn,void 0,Rt(Ut.attrs,be)),Ct&&Ut.marks.length&&Ut.marks.forEach(Qt=>{Ct===Qt.type&&Ce.addMark(fn,fn+Ut.nodeSize,Ct.create(Rt(Qt.attrs,be)))})})}),!0):!1},$t=()=>({tr:Te,dispatch:be})=>(be&&Te.scrollIntoView(),!0),vn=()=>({tr:Te,commands:be})=>be.setTextSelection({from:0,to:Te.doc.content.size}),An=()=>({state:Te,dispatch:be})=>(0,g._M)(Te,be),dr=()=>({state:Te,dispatch:be})=>(0,g.o)(Te,be),Pr=()=>({state:Te,dispatch:be})=>(0,g.N0)(Te,be),br=()=>({state:Te,dispatch:be})=>(0,g.nw)(Te,be),Or=()=>({state:Te,dispatch:be})=>(0,g.U9)(Te,be);function Lr(Te,be,Ce={}){return Je(Te,be,{slice:!1,parseOptions:Ce})}const Wr=(Te,be=!1,Ce={})=>({tr:$e,editor:ft,dispatch:pt})=>{const{doc:Ct}=$e,St=Lr(Te,ft.schema,Ce);return pt&&$e.replaceWith(0,Ct.content.size,St).setMeta("preventUpdate",!be),!0};function Zr(Te,be){const Ce=new _.wx(Te);return be.forEach($e=>{$e.steps.forEach(ft=>{Ce.step(ft)})}),Ce}function yo(Te){for(let be=0;be<Te.edgeCount;be+=1){const{type:Ce}=Te.edge(be);if(Ce.isTextblock&&!Ce.hasRequiredAttrs())return Ce}return null}function ho(Te,be){const Ce=[];return Te.descendants(($e,ft)=>{be($e)&&Ce.push({node:$e,pos:ft})}),Ce}function $r(Te,be,Ce){const $e=[];return Te.nodesBetween(be.from,be.to,(ft,pt)=>{Ce(ft)&&$e.push({node:ft,pos:pt})}),$e}function co(Te,be){for(let Ce=Te.depth;Ce>0;Ce-=1){const $e=Te.node(Ce);if(be($e))return{pos:Ce>0?Te.before(Ce):0,start:Te.start(Ce),depth:Ce,node:$e}}}function io(Te){return be=>co(be.$from,Te)}function Tr(Te,be){const Ce=c.PW.fromSchema(be).serializeFragment(Te),ft=document.implementation.createHTMLDocument().createElement("div");return ft.appendChild(Ce),ft.innerHTML}function Hr(Te,be){const Ce=se.resolve(Te);return N(Ce,be)}function Po(Te,be){const Ce=Hr(be),$e=Node$1.fromJSON(Ce,Te);return Tr($e.content,Ce)}function oo(Te,be){const Ce=Hr(be),$e=je(Te);return c.aw.fromSchema(Ce).parse($e).toJSON()}function Xr(Te,be){const Ce={from:0,to:Te.content.size};return Ee(Te,Ce,be)}function po(Te,be,Ce){const{blockSeparator:$e=`

`,textSerializers:ft={}}=Ce||{},pt=Hr(be),Ct=c.NB.fromJSON(pt,Te);return Xr(Ct,{blockSeparator:$e,textSerializers:ar(ar({},de(pt)),ft)})}function Oo(Te,be){const Ce=lt(be,Te.schema),{from:$e,to:ft,empty:pt}=Te.selection,Ct=[];pt?(Te.storedMarks&&Ct.push(...Te.storedMarks),Ct.push(...Te.selection.$head.marks())):Te.doc.nodesBetween($e,ft,Bt=>{Ct.push(...Bt.marks)});const St=Ct.find(Bt=>Bt.type.name===Ce.name);return St?ar({},St.attrs):{}}function ri(Te,be){const Ce=p(be,Te.schema),{from:$e,to:ft}=Te.selection,pt=[];Te.doc.nodesBetween($e,ft,St=>{pt.push(St)});const Ct=pt.reverse().find(St=>St.type.name===Ce.name);return Ct?ar({},Ct.attrs):{}}function Jt(Te,be){const Ce=sr(typeof be=="string"?be:be.name,Te.schema);return Ce==="node"?ri(Te,be):Ce==="mark"?Oo(Te,be):{}}function Tn(Te,be=JSON.stringify){const Ce={};return Te.filter($e=>{const ft=be($e);return Object.prototype.hasOwnProperty.call(Ce,ft)?!1:Ce[ft]=!0})}function xn(Te){const be=Tn(Te);return be.length===1?be:be.filter((Ce,$e)=>!be.filter((pt,Ct)=>Ct!==$e).some(pt=>Ce.oldRange.from>=pt.oldRange.from&&Ce.oldRange.to<=pt.oldRange.to&&Ce.newRange.from>=pt.newRange.from&&Ce.newRange.to<=pt.newRange.to))}function Xn(Te){const{mapping:be,steps:Ce}=Te,$e=[];return be.maps.forEach((ft,pt)=>{const Ct=[];if(ft.ranges.length)ft.forEach((St,Bt)=>{Ct.push({from:St,to:Bt})});else{const{from:St,to:Bt}=Ce[pt];if(St===void 0||Bt===void 0)return;Ct.push({from:St,to:Bt})}Ct.forEach(({from:St,to:Bt})=>{const Ut=be.slice(pt).map(St,-1),fn=be.slice(pt).map(Bt),Qt=be.invert().map(Ut,-1),dn=be.invert().map(fn);$e.push({oldRange:{from:Qt,to:dn},newRange:{from:Ut,to:fn}})})}),xn($e)}function xt(Te,be=0){const $e=Te.type===Te.type.schema.topNodeType?0:1,ft=be,pt=ft+Te.nodeSize,Ct=Te.marks.map(Ut=>{const fn={type:Ut.type.name};return Object.keys(Ut.attrs).length&&(fn.attrs=ar({},Ut.attrs)),fn}),St=ar({},Te.attrs),Bt={type:Te.type.name,from:ft,to:pt};return Object.keys(St).length&&(Bt.attrs=St),Ct.length&&(Bt.marks=Ct),Te.content.childCount&&(Bt.content=[],Te.forEach((Ut,fn)=>{var Qt;(Qt=Bt.content)===null||Qt===void 0||Qt.push(xt(Ut,be+fn+$e))})),Te.text&&(Bt.text=Te.text),Bt}function Ft(Te,be,Ce){const $e=[];return Te===be?Ce.resolve(Te).marks().forEach(ft=>{const pt=Ce.resolve(Te-1),Ct=Ne(pt,ft.type);Ct&&$e.push(ar({mark:ft},Ct))}):Ce.nodesBetween(Te,be,(ft,pt)=>{$e.push(...ft.marks.map(Ct=>({from:pt,to:pt+ft.nodeSize,mark:Ct})))}),$e}function zt(Te,be,Ce){return Object.fromEntries(Object.entries(Ce).filter(([$e])=>{const ft=Te.find(pt=>pt.type===be&&pt.name===$e);return ft?ft.attribute.keepOnSplit:!1}))}function tn(Te,be,Ce={}){const{empty:$e,ranges:ft}=Te.selection,pt=be?lt(be,Te.schema):null;if($e)return!!(Te.storedMarks||Te.selection.$from.marks()).filter(Qt=>pt?pt.name===Qt.type.name:!0).find(Qt=>Qe(Qt.attrs,Ce,{strict:!1}));let Ct=0;const St=[];if(ft.forEach(({$from:Qt,$to:dn})=>{const In=Qt.pos,Yn=dn.pos;Te.doc.nodesBetween(In,Yn,(pr,lr)=>{if(!pr.isText&&!pr.marks.length)return;const wn=Math.max(In,lr),vr=Math.min(Yn,lr+pr.nodeSize),ur=vr-wn;Ct+=ur,St.push(...pr.marks.map(Dr=>({mark:Dr,from:wn,to:vr})))})}),Ct===0)return!1;const Bt=St.filter(Qt=>pt?pt.name===Qt.mark.type.name:!0).filter(Qt=>Qe(Qt.mark.attrs,Ce,{strict:!1})).reduce((Qt,dn)=>Qt+dn.to-dn.from,0),Ut=St.filter(Qt=>pt?Qt.mark.type!==pt&&Qt.mark.type.excludes(pt):!0).reduce((Qt,dn)=>Qt+dn.to-dn.from,0);return(Bt>0?Bt+Ut:Bt)>=Ct}function rn(Te,be,Ce={}){if(!be)return _t(Te,null,Ce)||tn(Te,null,Ce);const $e=sr(be,Te.schema);return $e==="node"?_t(Te,be,Ce):$e==="mark"?tn(Te,be,Ce):!1}function ln(Te,be){const{nodeExtensions:Ce}=S(be),$e=Ce.find(Ct=>Ct.name===Te);if(!$e)return!1;const ft={name:$e.name,options:$e.options,storage:$e.storage},pt=C(w($e,"group",ft));return typeof pt!="string"?!1:pt.split(" ").includes("list")}function En(Te){var be;const Ce=(be=Te.type.createAndFill())===null||be===void 0?void 0:be.toJSON(),$e=Te.toJSON();return JSON.stringify(Ce)===JSON.stringify($e)}function Wn(Te){return Te instanceof o.qv}function kn(Te,be,Ce){const ft=Te.state.doc.content.size,pt=vt(be,0,ft),Ct=vt(Ce,0,ft),St=Te.coordsAtPos(pt),Bt=Te.coordsAtPos(Ct,-1),Ut=Math.min(St.top,Bt.top),fn=Math.max(St.bottom,Bt.bottom),Qt=Math.min(St.left,Bt.left),dn=Math.max(St.right,Bt.right),In=dn-Qt,Yn=fn-Ut,wn={top:Ut,bottom:fn,left:Qt,right:dn,width:In,height:Yn,x:Qt,y:Ut};return ko(ar({},wn),{toJSON:()=>wn})}function Un(Te,be,Ce){var $e;const{selection:ft}=be;let pt=null;if(en(ft)&&(pt=ft.$cursor),pt){const St=($e=Te.storedMarks)!==null&&$e!==void 0?$e:pt.marks();return!!Ce.isInSet(St)||!St.some(Bt=>Bt.type.excludes(Ce))}const{ranges:Ct}=ft;return Ct.some(({$from:St,$to:Bt})=>{let Ut=St.depth===0?Te.doc.inlineContent&&Te.doc.type.allowsMarkType(Ce):!1;return Te.doc.nodesBetween(St.pos,Bt.pos,(fn,Qt,dn)=>{if(Ut)return!1;if(fn.isInline){const In=!dn||dn.type.allowsMarkType(Ce),Yn=!!Ce.isInSet(fn.marks)||!fn.marks.some(pr=>pr.type.excludes(Ce));Ut=In&&Yn}return!Ut}),Ut})}const Zn=(Te,be={})=>({tr:Ce,state:$e,dispatch:ft})=>{const{selection:pt}=Ce,{empty:Ct,ranges:St}=pt,Bt=lt(Te,$e.schema);if(ft)if(Ct){const Ut=Oo($e,Bt);Ce.addStoredMark(Bt.create(ar(ar({},Ut),be)))}else St.forEach(Ut=>{const fn=Ut.$from.pos,Qt=Ut.$to.pos;$e.doc.nodesBetween(fn,Qt,(dn,In)=>{const Yn=Math.max(In,fn),pr=Math.min(In+dn.nodeSize,Qt);dn.marks.find(wn=>wn.type===Bt)?dn.marks.forEach(wn=>{Bt===wn.type&&Ce.addMark(Yn,pr,Bt.create(ar(ar({},wn.attrs),be)))}):Ce.addMark(Yn,pr,Bt.create(be))})});return Un($e,Ce,Bt)},or=(Te,be)=>({tr:Ce})=>(Ce.setMeta(Te,be),!0),yt=(Te,be={})=>({state:Ce,dispatch:$e,chain:ft})=>{const pt=p(Te,Ce.schema);return pt.isTextblock?ft().command(({commands:Ct})=>(0,g.uJ)(pt,be)(Ce)?!0:Ct.clearNodes()).command(({state:Ct})=>(0,g.uJ)(pt,be)(Ct,$e)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},Wt=Te=>({tr:be,dispatch:Ce})=>{if(Ce){const{doc:$e}=be,ft=vt(Te,0,$e.content.size),pt=o.qv.create($e,ft);be.setSelection(pt)}return!0},Zt=Te=>({tr:be,dispatch:Ce})=>{if(Ce){const{doc:$e}=be,{from:ft,to:pt}=typeof Te=="number"?{from:Te,to:Te}:Te,Ct=o.Bs.atStart($e).from,St=o.Bs.atEnd($e).to,Bt=vt(ft,Ct,St),Ut=vt(pt,Ct,St),fn=o.Bs.create($e,Bt,Ut);be.setSelection(fn)}return!0},Xt=Te=>({state:be,dispatch:Ce})=>{const $e=p(Te,be.schema);return(0,E.bw)($e)(be,Ce)};function Dn(Te,be){const Ce=Te.storedMarks||Te.selection.$to.parentOffset&&Te.selection.$from.marks();if(Ce){const $e=Ce.filter(ft=>be==null?void 0:be.includes(ft.type.name));Te.tr.ensureMarks($e)}}const Cn=({keepMarks:Te=!0}={})=>({tr:be,state:Ce,dispatch:$e,editor:ft})=>{const{selection:pt,doc:Ct}=be,{$from:St,$to:Bt}=pt,Ut=ft.extensionManager.attributes,fn=zt(Ut,St.node().type.name,St.node().attrs);if(pt instanceof o.qv&&pt.node.isBlock)return!St.parentOffset||!(0,_.Ax)(Ct,St.pos)?!1:($e&&(Te&&Dn(Ce,ft.extensionManager.splittableMarks),be.split(St.pos).scrollIntoView()),!0);if(!St.parent.isBlock)return!1;if($e){const Qt=Bt.parentOffset===Bt.parent.content.size;pt instanceof o.Bs&&be.deleteSelection();const dn=St.depth===0?void 0:yo(St.node(-1).contentMatchAt(St.indexAfter(-1)));let In=Qt&&dn?[{type:dn,attrs:fn}]:void 0,Yn=(0,_.Ax)(be.doc,be.mapping.map(St.pos),1,In);if(!In&&!Yn&&(0,_.Ax)(be.doc,be.mapping.map(St.pos),1,dn?[{type:dn}]:void 0)&&(Yn=!0,In=dn?[{type:dn,attrs:fn}]:void 0),Yn&&(be.split(be.mapping.map(St.pos),1,In),dn&&!Qt&&!St.parentOffset&&St.parent.type!==dn)){const pr=be.mapping.map(St.before()),lr=be.doc.resolve(pr);St.node(-1).canReplaceWith(lr.index(),lr.index()+1,dn)&&be.setNodeMarkup(be.mapping.map(St.before()),dn)}Te&&Dn(Ce,ft.extensionManager.splittableMarks),be.scrollIntoView()}return!0},On=Te=>({tr:be,state:Ce,dispatch:$e,editor:ft})=>{var pt;const Ct=p(Te,Ce.schema),{$from:St,$to:Bt}=Ce.selection,Ut=Ce.selection.node;if(Ut&&Ut.isBlock||St.depth<2||!St.sameParent(Bt))return!1;const fn=St.node(-1);if(fn.type!==Ct)return!1;const Qt=ft.extensionManager.attributes;if(St.parent.content.size===0&&St.node(-1).childCount===St.indexAfter(-1)){if(St.depth===2||St.node(-3).type!==Ct||St.index(-2)!==St.node(-2).childCount-1)return!1;if($e){let lr=c.HY.empty;const wn=St.index(-1)?1:St.index(-2)?2:3;for(let Io=St.depth-wn;Io>=St.depth-3;Io-=1)lr=c.HY.from(St.node(Io).copy(lr));const vr=St.indexAfter(-1)<St.node(-2).childCount?1:St.indexAfter(-2)<St.node(-3).childCount?2:3,ur=zt(Qt,St.node().type.name,St.node().attrs),Dr=((pt=Ct.contentMatch.defaultType)===null||pt===void 0?void 0:pt.createAndFill(ur))||void 0;lr=lr.append(c.HY.from(Ct.createAndFill(null,Dr)||void 0));const xr=St.before(St.depth-(wn-1));be.replace(xr,St.after(-vr),new c.p2(lr,4-wn,0));let lo=-1;be.doc.nodesBetween(xr,be.doc.content.size,(Io,Co)=>{if(lo>-1)return!1;Io.isTextblock&&Io.content.size===0&&(lo=Co+1)}),lo>-1&&be.setSelection(o.Bs.near(be.doc.resolve(lo))),be.scrollIntoView()}return!0}const dn=Bt.pos===St.end()?fn.contentMatchAt(0).defaultType:null,In=zt(Qt,fn.type.name,fn.attrs),Yn=zt(Qt,St.node().type.name,St.node().attrs);be.delete(St.pos,Bt.pos);const pr=dn?[{type:Ct,attrs:In},{type:dn,attrs:Yn}]:[{type:Ct,attrs:In}];if(!(0,_.Ax)(be.doc,St.pos,2))return!1;if($e){const{selection:lr,storedMarks:wn}=Ce,{splittableMarks:vr}=ft.extensionManager,ur=wn||lr.$to.parentOffset&&lr.$from.marks();if(be.split(St.pos,2,pr).scrollIntoView(),!ur||!$e)return!0;const Dr=ur.filter(xr=>vr.includes(xr.type.name));be.ensureMarks(Dr)}return!0},zn=(Te,be)=>{const Ce=io(Ct=>Ct.type===be)(Te.selection);if(!Ce)return!0;const $e=Te.doc.resolve(Math.max(0,Ce.pos-1)).before(Ce.depth);if($e===void 0)return!0;const ft=Te.doc.nodeAt($e);return Ce.node.type===(ft==null?void 0:ft.type)&&(0,_.Mn)(Te.doc,Ce.pos)&&Te.join(Ce.pos),!0},Ir=(Te,be)=>{const Ce=io(Ct=>Ct.type===be)(Te.selection);if(!Ce)return!0;const $e=Te.doc.resolve(Ce.start).after(Ce.depth);if($e===void 0)return!0;const ft=Te.doc.nodeAt($e);return Ce.node.type===(ft==null?void 0:ft.type)&&(0,_.Mn)(Te.doc,$e)&&Te.join($e),!0};var To=Object.freeze({__proto__:null,blur:ve,clearContent:De,clearNodes:Oe,command:ye,createParagraphNear:ze,deleteCurrentNode:Be,deleteNode:We,deleteRange:Ke,deleteSelection:Xe,enter:ct,exitCode:Se,extendMarkRange:Et,first:jt,focus:ot,forEach:me,insertContent:ke,insertContentAt:H,joinUp:Q,joinDown:pe,joinBackward:we,joinForward:Le,keyboardShortcut:st,lift:Tt,liftEmptyBlock:nn,liftListItem:Mn,newlineInCode:tr,resetAttributes:Mt,scrollIntoView:$t,selectAll:vn,selectNodeBackward:An,selectNodeForward:dr,selectParentNode:Pr,selectTextblockEnd:br,selectTextblockStart:Or,setContent:Wr,setMark:Zn,setMeta:or,setNode:yt,setNodeSelection:Wt,setTextSelection:Zt,sinkListItem:Xt,splitBlock:Cn,splitListItem:On,toggleList:(Te,be,Ce,$e={})=>({editor:ft,tr:pt,state:Ct,dispatch:St,chain:Bt,commands:Ut,can:fn})=>{const{extensions:Qt,splittableMarks:dn}=ft.extensionManager,In=p(Te,Ct.schema),Yn=p(be,Ct.schema),{selection:pr,storedMarks:lr}=Ct,{$from:wn,$to:vr}=pr,ur=wn.blockRange(vr),Dr=lr||pr.$to.parentOffset&&pr.$from.marks();if(!ur)return!1;const xr=io(lo=>ln(lo.type.name,Qt))(pr);if(ur.depth>=1&&xr&&ur.depth-xr.depth<=1){if(xr.node.type===In)return Ut.liftListItem(Yn);if(ln(xr.node.type.name,Qt)&&In.validContent(xr.node.content)&&St)return Bt().command(()=>(pt.setNodeMarkup(xr.pos,In),!0)).command(()=>zn(pt,In)).command(()=>Ir(pt,In)).run()}return!Ce||!Dr||!St?Bt().command(()=>fn().wrapInList(In,$e)?!0:Ut.clearNodes()).wrapInList(In,$e).command(()=>zn(pt,In)).command(()=>Ir(pt,In)).run():Bt().command(()=>{const lo=fn().wrapInList(In,$e),Io=Dr.filter(Co=>dn.includes(Co.type.name));return pt.ensureMarks(Io),lo?!0:Ut.clearNodes()}).wrapInList(In,$e).command(()=>zn(pt,In)).command(()=>Ir(pt,In)).run()},toggleMark:(Te,be={},Ce={})=>({state:$e,commands:ft})=>{const{extendEmptyMarkRange:pt=!1}=Ce,Ct=lt(Te,$e.schema);return tn($e,Ct,be)?ft.unsetMark(Ct,{extendEmptyMarkRange:pt}):ft.setMark(Ct,be)},toggleNode:(Te,be,Ce={})=>({state:$e,commands:ft})=>{const pt=p(Te,$e.schema),Ct=p(be,$e.schema);return _t($e,pt,Ce)?ft.setNode(Ct):ft.setNode(pt,Ce)},toggleWrap:(Te,be={})=>({state:Ce,commands:$e})=>{const ft=p(Te,Ce.schema);return _t(Ce,ft,be)?$e.lift(ft):$e.wrapIn(ft,be)},undoInputRule:()=>({state:Te,dispatch:be})=>{const Ce=Te.plugins;for(let $e=0;$e<Ce.length;$e+=1){const ft=Ce[$e];let pt;if(ft.spec.isInputRules&&(pt=ft.getState(Te))){if(be){const Ct=Te.tr,St=pt.transform;for(let Bt=St.steps.length-1;Bt>=0;Bt-=1)Ct.step(St.steps[Bt].invert(St.docs[Bt]));if(pt.text){const Bt=Ct.doc.resolve(pt.from).marks();Ct.replaceWith(pt.from,pt.to,Te.schema.text(pt.text,Bt))}else Ct.delete(pt.from,pt.to)}return!0}}return!1},unsetAllMarks:()=>({tr:Te,dispatch:be})=>{const{selection:Ce}=Te,{empty:$e,ranges:ft}=Ce;return $e||be&&ft.forEach(pt=>{Te.removeMark(pt.$from.pos,pt.$to.pos)}),!0},unsetMark:(Te,be={})=>({tr:Ce,state:$e,dispatch:ft})=>{var pt;const{extendEmptyMarkRange:Ct=!1}=be,{selection:St}=Ce,Bt=lt(Te,$e.schema),{$from:Ut,empty:fn,ranges:Qt}=St;if(!ft)return!0;if(fn&&Ct){let{from:dn,to:In}=St;const Yn=(pt=Ut.marks().find(lr=>lr.type===Bt))===null||pt===void 0?void 0:pt.attrs,pr=Ne(Ut,Bt,Yn);pr&&(dn=pr.from,In=pr.to),Ce.removeMark(dn,In,Bt)}else Qt.forEach(dn=>{Ce.removeMark(dn.$from.pos,dn.$to.pos,Bt)});return Ce.removeStoredMark(Bt),!0},updateAttributes:(Te,be={})=>({tr:Ce,state:$e,dispatch:ft})=>{let pt=null,Ct=null;const St=sr(typeof Te=="string"?Te:Te.name,$e.schema);return St?(St==="node"&&(pt=p(Te,$e.schema)),St==="mark"&&(Ct=lt(Te,$e.schema)),ft&&Ce.selection.ranges.forEach(Bt=>{const Ut=Bt.$from.pos,fn=Bt.$to.pos;$e.doc.nodesBetween(Ut,fn,(Qt,dn)=>{pt&&pt===Qt.type&&Ce.setNodeMarkup(dn,void 0,ar(ar({},Qt.attrs),be)),Ct&&Qt.marks.length&&Qt.marks.forEach(In=>{if(Ct===In.type){const Yn=Math.max(dn,Ut),pr=Math.min(dn+Qt.nodeSize,fn);Ce.addMark(Yn,pr,Ct.create(ar(ar({},In.attrs),be)))}})})}),!0):!1},wrapIn:(Te,be={})=>({state:Ce,dispatch:$e})=>{const ft=p(Te,Ce.schema);return(0,g.ym)(ft,be)(Ce,$e)},wrapInList:(Te,be={})=>({state:Ce,dispatch:$e})=>{const ft=p(Te,Ce.schema);return(0,E.KI)(ft,be)(Ce,$e)}});const vi=fe.create({name:"commands",addCommands(){return ar({},To)}}),oi=fe.create({name:"editable",addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("editable"),props:{editable:()=>this.editor.options.editable}})]}}),di=fe.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:Te}=this;return[new o.Sy({key:new o.H$("focusEvents"),props:{handleDOMEvents:{focus:(be,Ce)=>{Te.isFocused=!0;const $e=Te.state.tr.setMeta("focus",{event:Ce}).setMeta("addToHistory",!1);return be.dispatch($e),!1},blur:(be,Ce)=>{Te.isFocused=!1;const $e=Te.state.tr.setMeta("blur",{event:Ce}).setMeta("addToHistory",!1);return be.dispatch($e),!1}}}})]}}),pi=fe.create({name:"keymap",addKeyboardShortcuts(){const Te=()=>this.editor.commands.first(({commands:Ct})=>[()=>Ct.undoInputRule(),()=>Ct.command(({tr:St})=>{const{selection:Bt,doc:Ut}=St,{empty:fn,$anchor:Qt}=Bt,{pos:dn,parent:In}=Qt,Yn=o.Y1.atStart(Ut).from===dn;return!fn||!Yn||!In.type.isTextblock||In.textContent.length?!1:Ct.clearNodes()}),()=>Ct.deleteSelection(),()=>Ct.joinBackward(),()=>Ct.selectNodeBackward()]),be=()=>this.editor.commands.first(({commands:Ct})=>[()=>Ct.deleteSelection(),()=>Ct.deleteCurrentNode(),()=>Ct.joinForward(),()=>Ct.selectNodeForward()]),$e={Enter:()=>this.editor.commands.first(({commands:Ct})=>[()=>Ct.newlineInCode(),()=>Ct.createParagraphNear(),()=>Ct.liftEmptyBlock(),()=>Ct.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:Te,"Mod-Backspace":Te,"Shift-Backspace":Te,Delete:be,"Mod-Delete":be,"Mod-a":()=>this.editor.commands.selectAll()},ft=ar({},$e),pt=ko(ar({},$e),{"Ctrl-h":Te,"Alt-Backspace":Te,"Ctrl-d":be,"Ctrl-Alt-Backspace":be,"Alt-Delete":be,"Alt-d":be,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()});return He()||Ye()?pt:ft},addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("clearDocument"),appendTransaction:(Te,be,Ce)=>{if(!(Te.some(Yn=>Yn.docChanged)&&!be.doc.eq(Ce.doc)))return;const{empty:ft,from:pt,to:Ct}=be.selection,St=o.Y1.atStart(be.doc).from,Bt=o.Y1.atEnd(be.doc).to;if(ft||!(pt===St&&Ct===Bt)||!(Ce.doc.textBetween(0,Ce.doc.content.size," "," ").length===0))return;const Qt=Ce.tr,dn=v({state:Ce,transaction:Qt}),{commands:In}=new y({editor:this.editor,state:dn});if(In.clearNodes(),!!Qt.steps.length)return Qt}})]}}),ii=fe.create({name:"tabindex",addProseMirrorPlugins(){return[new o.Sy({key:new o.H$("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var Jo=Object.freeze({__proto__:null,ClipboardTextSerializer:_e,Commands:vi,Editable:oi,FocusEvents:di,Keymap:pi,Tabindex:ii});const ji=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function Ei(Te,be){const Ce=document.querySelector("style[data-tiptap-style]");if(Ce!==null)return Ce;const $e=document.createElement("style");return be&&$e.setAttribute("nonce",be),$e.setAttribute("data-tiptap-style",""),$e.innerHTML=Te,document.getElementsByTagName("head")[0].appendChild($e),$e}class so extends T{constructor(be={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(be),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Ei(ji,this.options.injectNonce))}setOptions(be={}){this.options=ar(ar({},this.options),be),!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(be,Ce=!0){this.setOptions({editable:be}),Ce&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(be,Ce){const $e=P(Ce)?Ce(be,[...this.state.plugins]):[...this.state.plugins,be],ft=this.state.reconfigure({plugins:$e});this.view.updateState(ft)}unregisterPlugin(be){if(this.isDestroyed)return;const Ce=typeof be=="string"?`${be}$`:be.key,$e=this.state.reconfigure({plugins:this.state.plugins.filter(ft=>!ft.key.startsWith(Ce))});this.view.updateState($e)}createExtensionManager(){const Ce=[...this.options.enableCoreExtensions?Object.values(Jo):[],...this.options.extensions].filter($e=>["extension","node","mark"].includes($e==null?void 0:$e.type));this.extensionManager=new se(Ce,this)}createCommandManager(){this.commandManager=new y({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const be=Lr(this.options.content,this.schema,this.options.parseOptions),Ce=Re(be,this.options.autofocus);this.view=new f.tk(this.options.element,ko(ar({},this.options.editorProps),{dispatchTransaction:this.dispatchTransaction.bind(this),state:o.yy.create({doc:be,selection:Ce||void 0})}));const $e=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState($e),this.createNodeViews();const ft=this.view.dom;ft.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(be){this.isCapturingTransaction=!0,be(),this.isCapturingTransaction=!1;const Ce=this.capturedTransaction;return this.capturedTransaction=null,Ce}dispatchTransaction(be){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=be;return}be.steps.forEach(Ct=>{var St;return(St=this.capturedTransaction)===null||St===void 0?void 0:St.step(Ct)});return}const Ce=this.state.apply(be),$e=!this.state.selection.eq(Ce.selection);this.view.updateState(Ce),this.emit("transaction",{editor:this,transaction:be}),$e&&this.emit("selectionUpdate",{editor:this,transaction:be});const ft=be.getMeta("focus"),pt=be.getMeta("blur");ft&&this.emit("focus",{editor:this,event:ft.event,transaction:be}),pt&&this.emit("blur",{editor:this,event:pt.event,transaction:be}),!(!be.docChanged||be.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:be})}getAttributes(be){return Jt(this.state,be)}isActive(be,Ce){const $e=typeof be=="string"?be:null,ft=typeof be=="string"?Ce:be;return rn(this.state,$e,ft)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Tr(this.state.doc.content,this.schema)}getText(be){const{blockSeparator:Ce=`

`,textSerializers:$e={}}=be||{};return Xr(this.state.doc,{blockSeparator:Ce,textSerializers:ar(ar({},de(this.schema)),$e)})}get isEmpty(){return En(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var be;return!(!((be=this.view)===null||be===void 0)&&be.docView)}}function mi(Te){return new Y({find:Te.find,handler:({state:be,range:Ce,match:$e})=>{const ft=C(Te.getAttributes,void 0,$e);if(ft===!1||ft===null)return null;const{tr:pt}=be,Ct=$e[$e.length-1],St=$e[0];let Bt=Ce.to;if(Ct){const Ut=St.search(/\S/),fn=Ce.from+St.indexOf(Ct),Qt=fn+Ct.length;if(Ft(Ce.from,Ce.to,be.doc).filter(In=>In.mark.type.excluded.find(pr=>pr===Te.type&&pr!==In.mark.type)).filter(In=>In.to>fn).length)return null;Qt<Ce.to&&pt.delete(Qt,Ce.to),fn>Ce.from&&pt.delete(Ce.from+Ut,fn),Bt=Ce.from+Ut+Ct.length,pt.addMark(Ce.from+Ut,Bt,Te.type.create(ft||{})),pt.removeStoredMark(Te.type)}}})}function Mi(Te){return new Y({find:Te.find,handler:({state:be,range:Ce,match:$e})=>{const ft=C(Te.getAttributes,void 0,$e)||{},{tr:pt}=be,Ct=Ce.from;let St=Ce.to;if($e[1]){const Bt=$e[0].lastIndexOf($e[1]);let Ut=Ct+Bt;Ut>St?Ut=St:St=Ut+$e[1].length;const fn=$e[0][$e[0].length-1];pt.insertText(fn,Ct+$e[0].length-1),pt.replaceWith(Ut,St,Te.type.create(ft))}else $e[0]&&pt.replaceWith(Ct,St,Te.type.create(ft))}})}function si(Te){return new Y({find:Te.find,handler:({state:be,range:Ce,match:$e})=>{const ft=be.doc.resolve(Ce.from),pt=C(Te.getAttributes,void 0,$e)||{};if(!ft.node(-1).canReplaceWith(ft.index(-1),ft.indexAfter(-1),Te.type))return null;be.tr.delete(Ce.from,Ce.to).setBlockType(Ce.from,Ce.from,Te.type,pt)}})}function Fo(Te){return new Y({find:Te.find,handler:({state:be,range:Ce,match:$e})=>{let ft=Te.replace,pt=Ce.from;const Ct=Ce.to;if($e[1]){const St=$e[0].lastIndexOf($e[1]);ft+=$e[0].slice(St+$e[1].length),pt+=St;const Bt=pt-Ct;Bt>0&&(ft=$e[0].slice(St-Bt,St)+ft,pt=Ct)}be.tr.insertText(ft,pt,Ct)}})}function ai(Te){return new Y({find:Te.find,handler:({state:be,range:Ce,match:$e,chain:ft})=>{const pt=C(Te.getAttributes,void 0,$e)||{},Ct=be.tr.delete(Ce.from,Ce.to),Bt=Ct.doc.resolve(Ce.from).blockRange(),Ut=Bt&&(0,_.nd)(Bt,Te.type,pt);if(!Ut)return null;if(Ct.wrap(Bt,Ut),Te.keepMarks&&Te.editor){const{selection:Qt,storedMarks:dn}=be,{splittableMarks:In}=Te.editor.extensionManager,Yn=dn||Qt.$to.parentOffset&&Qt.$from.marks();if(Yn){const pr=Yn.filter(lr=>In.includes(lr.type.name));Ct.ensureMarks(pr)}}if(Te.keepAttributes){const Qt=Te.type.name==="bulletList"||Te.type.name==="orderedList"?"listItem":"taskList";ft().updateAttributes(Qt,pt).run()}const fn=Ct.doc.resolve(Ce.from-1).nodeBefore;fn&&fn.type===Te.type&&(0,_.Mn)(Ct.doc,Ce.from-1)&&(!Te.joinPredicate||Te.joinPredicate($e,fn))&&Ct.join(Ce.from-1)}})}class qo{constructor(be={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=ar(ar({},this.config),be),this.name=this.config.name,be.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=C(w(this,"addOptions",{name:this.name}))),this.storage=C(w(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(be={}){return new qo(be)}configure(be={}){const Ce=this.extend();return Ce.options=ce(this.options,be),Ce.storage=C(w(Ce,"addStorage",{name:Ce.name,options:Ce.options})),Ce}extend(be={}){const Ce=new qo(be);return Ce.parent=this,this.child=Ce,Ce.name=be.name?be.name:Ce.parent.name,be.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${Ce.name}".`),Ce.options=C(w(Ce,"addOptions",{name:Ce.name})),Ce.storage=C(w(Ce,"addStorage",{name:Ce.name,options:Ce.options})),Ce}static handleExit({editor:be,mark:Ce}){const{tr:$e}=be.state,ft=be.state.selection.$from;if(ft.pos===ft.end()){const Ct=ft.marks();if(!!!Ct.find(Ut=>(Ut==null?void 0:Ut.type.name)===Ce.name))return!1;const Bt=Ct.find(Ut=>(Ut==null?void 0:Ut.type.name)===Ce.name);return Bt&&$e.removeStoredMark(Bt),$e.insertText(" ",ft.pos),be.view.dispatch($e),!0}return!1}}class wi{constructor(be={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=ar(ar({},this.config),be),this.name=this.config.name,be.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=C(w(this,"addOptions",{name:this.name}))),this.storage=C(w(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(be={}){return new wi(be)}configure(be={}){const Ce=this.extend();return Ce.options=ce(this.options,be),Ce.storage=C(w(Ce,"addStorage",{name:Ce.name,options:Ce.options})),Ce}extend(be={}){const Ce=new wi(be);return Ce.parent=this,this.child=Ce,Ce.name=be.name?be.name:Ce.parent.name,be.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${Ce.name}".`),Ce.options=C(w(Ce,"addOptions",{name:Ce.name})),Ce.storage=C(w(Ce,"addStorage",{name:Ce.name,options:Ce.options})),Ce}}class rt{constructor(be,Ce,$e){this.isDragging=!1,this.component=be,this.editor=Ce.editor,this.options=ar({stopEvent:null,ignoreMutation:null},$e),this.extension=Ce.extension,this.node=Ce.node,this.decorations=Ce.decorations,this.getPos=Ce.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(be){var Ce,$e,ft,pt,Ct,St,Bt;const{view:Ut}=this.editor,fn=be.target,Qt=fn.nodeType===3?(Ce=fn.parentElement)===null||Ce===void 0?void 0:Ce.closest("[data-drag-handle]"):fn.closest("[data-drag-handle]");if(!this.dom||!(($e=this.contentDOM)===null||$e===void 0)&&$e.contains(fn)||!Qt)return;let dn=0,In=0;if(this.dom!==Qt){const lr=this.dom.getBoundingClientRect(),wn=Qt.getBoundingClientRect(),vr=(ft=be.offsetX)!==null&&ft!==void 0?ft:(pt=be.nativeEvent)===null||pt===void 0?void 0:pt.offsetX,ur=(Ct=be.offsetY)!==null&&Ct!==void 0?Ct:(St=be.nativeEvent)===null||St===void 0?void 0:St.offsetY;dn=wn.x-lr.x+vr,In=wn.y-lr.y+ur}(Bt=be.dataTransfer)===null||Bt===void 0||Bt.setDragImage(this.dom,dn,In);const Yn=o.qv.create(Ut.state.doc,this.getPos()),pr=Ut.state.tr.setSelection(Yn);Ut.dispatch(pr)}stopEvent(be){var Ce;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:be});const $e=be.target;if(!(this.dom.contains($e)&&!(!((Ce=this.contentDOM)===null||Ce===void 0)&&Ce.contains($e))))return!1;const pt=be.type.startsWith("drag"),Ct=be.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes($e.tagName)||$e.isContentEditable)&&!Ct&&!pt)return!0;const{isEditable:Bt}=this.editor,{isDragging:Ut}=this,fn=!!this.node.type.spec.draggable,Qt=o.qv.isSelectable(this.node),dn=be.type==="copy",In=be.type==="paste",Yn=be.type==="cut",pr=be.type==="mousedown";if(!fn&&Qt&&pt&&be.preventDefault(),fn&&pt&&!Ut)return be.preventDefault(),!1;if(fn&&Bt&&!Ut&&pr){const lr=$e.closest("[data-drag-handle]");lr&&(this.dom===lr||this.dom.contains(lr))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(Ut||Ct||dn||In||Yn||pr&&Qt)}ignoreMutation(be){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:be}):this.node.isLeaf||this.node.isAtom?!0:be.type==="selection"||this.dom.contains(be.target)&&be.type==="childList"&&He()&&this.editor.isFocused&&[...Array.from(be.addedNodes),...Array.from(be.removedNodes)].every($e=>$e.isContentEditable)?!1:this.contentDOM===be.target&&be.type==="attributes"?!0:!this.contentDOM.contains(be.target)}updateAttributes(be){this.editor.commands.command(({tr:Ce})=>{const $e=this.getPos();return Ce.setNodeMarkup($e,void 0,ar(ar({},this.node.attrs),be)),!0})}deleteNode(){const be=this.getPos(),Ce=be+this.node.nodeSize;this.editor.commands.deleteRange({from:be,to:Ce})}}function Ze(Te){return new ie({find:Te.find,handler:({state:be,range:Ce,match:$e})=>{const ft=C(Te.getAttributes,void 0,$e);if(ft===!1||ft===null)return null;const{tr:pt}=be,Ct=$e[$e.length-1],St=$e[0];let Bt=Ce.to;if(Ct){const Ut=St.search(/\S/),fn=Ce.from+St.indexOf(Ct),Qt=fn+Ct.length;if(Ft(Ce.from,Ce.to,be.doc).filter(In=>In.mark.type.excluded.find(pr=>pr===Te.type&&pr!==In.mark.type)).filter(In=>In.to>fn).length)return null;Qt<Ce.to&&pt.delete(Qt,Ce.to),fn>Ce.from&&pt.delete(Ce.from+Ut,fn),Bt=Ce.from+Ut+Ct.length,pt.addMark(Ce.from+Ut,Bt,Te.type.create(ft||{})),pt.removeStoredMark(Te.type)}}})}function et(Te){return Te.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function ht(Te){return typeof Te=="string"}function mt(Te){return new ie({find:Te.find,handler({match:be,chain:Ce,range:$e}){const ft=C(Te.getAttributes,void 0,be);if(ft===!1||ft===null)return null;be.input&&Ce().deleteRange($e).insertContentAt($e.from,{type:Te.type.name,attrs:ft})}})}function kt(Te){return new ie({find:Te.find,handler:({state:be,range:Ce,match:$e})=>{let ft=Te.replace,pt=Ce.from;const Ct=Ce.to;if($e[1]){const St=$e[0].lastIndexOf($e[1]);ft+=$e[0].slice(St+$e[1].length),pt+=St;const Bt=pt-Ct;Bt>0&&(ft=$e[0].slice(St-Bt,St)+ft,pt=Ct)}be.tr.insertText(ft,pt,Ct)}})}class Nt{constructor(be){this.transaction=be,this.currentStep=this.transaction.steps.length}map(be){let Ce=!1;return{position:this.transaction.steps.slice(this.currentStep).reduce((ft,pt)=>{const Ct=pt.getMap().mapResult(ft);return Ct.deleted&&(Ce=!0),Ct.pos},be),deleted:Ce}}}},9353:(z,l,e)=>{"use strict";e.d(l,{q3:()=>_});var o=e(5865),f=e(2376),u=e(79253);class c{constructor({editor:v,element:y,view:T,tippyOptions:w={},updateDelay:S=250,shouldShow:O}){this.preventHide=!1,this.shouldShow=({view:p,state:d,from:a,to:P})=>{const{doc:C,selection:D}=d,{empty:A}=D,x=!C.textBetween(a,P).length&&(0,o.xh)(d.selection),I=this.element.contains(document.activeElement);return!(!(p.hasFocus()||I)||A||x||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:p})=>{var d;if(this.preventHide){this.preventHide=!1;return}p!=null&&p.relatedTarget&&(!((d=this.element.parentNode)===null||d===void 0)&&d.contains(p.relatedTarget))||this.hide()},this.tippyBlurHandler=p=>{this.blurHandler({event:p})},this.handleDebouncedUpdate=(p,d)=>{this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(p,d)},this.updateDelay)},this.updateHandler=(p,d)=>{var a,P,C;const{state:D,composing:A}=p,{doc:x,selection:I}=D,N=d&&d.doc.eq(x)&&d.selection.eq(I);if(A||N)return;this.createTooltip();const{ranges:F}=I,B=Math.min(...F.map(Y=>Y.$from.pos)),V=Math.max(...F.map(Y=>Y.$to.pos));if(!((a=this.shouldShow)===null||a===void 0?void 0:a.call(this,{editor:this.editor,view:p,state:D,oldState:d,from:B,to:V}))){this.hide();return}(P=this.tippy)===null||P===void 0||P.setProps({getReferenceClientRect:((C=this.tippyOptions)===null||C===void 0?void 0:C.getReferenceClientRect)||(()=>{if((0,o.EG)(D.selection)){let Y=p.nodeDOM(B);const ne=Y.dataset.nodeViewWrapper?Y:Y.querySelector("[data-node-view-wrapper]");if(ne&&(Y=ne.firstChild),Y)return Y.getBoundingClientRect()}return(0,o.pr)(p,B,V)})}),this.show()},this.editor=v,this.element=y,this.view=T,this.updateDelay=S,O&&(this.shouldShow=O),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=w,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:v}=this.editor.options,y=!!v.parentElement;this.tippy||!y||(this.tippy=(0,u.ZP)(v,ar({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle"},this.tippyOptions)),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(v,y){const{state:T}=v,w=T.selection.$from.pos!==T.selection.$to.pos;if(this.updateDelay>0&&w){this.handleDebouncedUpdate(v,y);return}this.updateHandler(v,y)}show(){var v;(v=this.tippy)===null||v===void 0||v.show()}hide(){var v;(v=this.tippy)===null||v===void 0||v.hide()}destroy(){var v,y;!((v=this.tippy)===null||v===void 0)&&v.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(y=this.tippy)===null||y===void 0||y.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const _=E=>new f.Sy({key:typeof E.pluginKey=="string"?new f.H$(E.pluginKey):E.pluginKey,view:v=>new c(ar({view:v},E))}),g=o.hj.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[_({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}})},71284:(z,l,e)=>{"use strict";e.d(l,{M_:()=>a,NM:()=>c,T5:()=>O,fW:()=>C,jE:()=>A,kg:()=>v});var o=e(9353),f=e(98661),u=e(5865);const c=x=>{const[I,N]=(0,f.useState)(null);return(0,f.useEffect)(()=>{if(!I||x.editor.isDestroyed)return;const{pluginKey:F="bubbleMenu",editor:B,tippyOptions:V={},updateDelay:Z,shouldShow:Y=null}=x,ne=(0,o.q3)({updateDelay:Z,editor:B,element:I,pluginKey:F,shouldShow:Y,tippyOptions:V});return B.registerPlugin(ne),()=>B.unregisterPlugin(F)},[x.editor,I]),f.default.createElement("div",{ref:N,className:x.className,style:{visibility:"hidden"}},x.children)};class _ extends u.ML{constructor(){super(...arguments),this.contentComponent=null}}const g=({renderers:x})=>f.default.createElement(f.default.Fragment,null,Object.entries(x).map(([I,N])=>f.default.createPortal(N.reactElement,N.element,I)));class E extends f.default.Component{constructor(I){super(I),this.editorContentRef=f.default.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:I}=this.props;if(I&&I.options.element){if(I.contentComponent)return;const N=this.editorContentRef.current;N.append(...I.options.element.childNodes),I.setOptions({element:N}),I.contentComponent=this,I.createNodeViews(),this.initialized=!0}}maybeFlushSync(I){this.initialized?(0,f.flushSync)(I):I()}setRenderer(I,N){this.maybeFlushSync(()=>{this.setState(({renderers:F})=>({renderers:ko(ar({},F),{[I]:N})}))})}removeRenderer(I){this.maybeFlushSync(()=>{this.setState(({renderers:N})=>{const F=ar({},N);return delete F[I],{renderers:F}})})}componentWillUnmount(){const{editor:I}=this.props;if(!I||(this.initialized=!1,I.isDestroyed||I.view.setProps({nodeViews:{}}),I.contentComponent=null,!I.options.element.firstChild))return;const N=document.createElement("div");N.append(...I.options.element.childNodes),I.setOptions({element:N})}render(){const F=this.props,{editor:I}=F,N=gi(F,["editor"]);return f.default.createElement(f.default.Fragment,null,f.default.createElement("div",ar({ref:this.editorContentRef},N)),f.default.createElement(g,{renderers:this.state.renderers}))}}const v=f.default.memo(E),y=x=>{const[I,N]=useState(null);return useEffect(()=>{if(!I||x.editor.isDestroyed)return;const{pluginKey:F="floatingMenu",editor:B,tippyOptions:V={},shouldShow:Z=null}=x,Y=FloatingMenuPlugin({pluginKey:F,editor:B,element:I,tippyOptions:V,shouldShow:Z});return B.registerPlugin(Y),()=>B.unregisterPlugin(F)},[x.editor,I]),React.createElement("div",{ref:N,className:x.className,style:{visibility:"hidden"}},x.children)},T=(0,f.createContext)({onDragStart:void 0}),w=()=>(0,f.useContext)(T),S=x=>{const I=x.as||"div",{nodeViewContentRef:N}=w();return React.createElement(I,ko(ar({},x),{ref:N,"data-node-view-content":"",style:ar({whiteSpace:"pre-wrap"},x.style)}))},O=f.default.forwardRef((x,I)=>{const{onDragStart:N}=w(),F=x.as||"div";return f.default.createElement(F,ko(ar({},x),{ref:I,"data-node-view-wrapper":"",onDragStart:N,style:ar({whiteSpace:"normal"},x.style)}))});function p(x){return!!(typeof x=="function"&&x.prototype&&x.prototype.isReactComponent)}function d(x){var I;return typeof x=="object"&&((I=x.$$typeof)===null||I===void 0?void 0:I.toString())==="Symbol(react.forward_ref)"}class a{constructor(I,{editor:N,props:F={},as:B="div",className:V="",attrs:Z}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=I,this.editor=N,this.props=F,this.element=document.createElement(B),this.element.classList.add("react-renderer"),V&&this.element.classList.add(...V.split(" ")),Z&&Object.keys(Z).forEach(Y=>{this.element.setAttribute(Y,Z[Y])}),this.render()}render(){var I,N;const F=this.component,B=this.props;(p(F)||d(F))&&(B.ref=V=>{this.ref=V}),this.reactElement=f.default.createElement(F,ar({},B)),(N=(I=this.editor)===null||I===void 0?void 0:I.contentComponent)===null||N===void 0||N.setRenderer(this.id,this)}updateProps(I={}){this.props=ar(ar({},this.props),I),this.render()}destroy(){var I,N;(N=(I=this.editor)===null||I===void 0?void 0:I.contentComponent)===null||N===void 0||N.removeRenderer(this.id)}}class P extends u.DK{mount(){const I={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(V={})=>this.updateAttributes(V),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const V=Z=>Z.charAt(0).toUpperCase()+Z.substring(1);this.component.displayName=V(this.extension.name)}const N=V=>{const Z=this.component,Y=this.onDragStart.bind(this),ne=G=>{G&&this.contentDOMElement&&G.firstChild!==this.contentDOMElement&&G.appendChild(this.contentDOMElement)};return f.default.createElement(f.default.Fragment,null,f.default.createElement(T.Provider,{value:{onDragStart:Y,nodeViewContentRef:ne}},f.default.createElement(Z,ar({},V))))};N.displayName="ReactNodeView",this.contentDOMElement=this.node.isLeaf?null:document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");let F=this.node.isInline?"span":"div";this.options.as&&(F=this.options.as);const{className:B=""}=this.options;this.renderer=new a(N,{editor:this.editor,props:I,as:F,className:`node-${this.node.type.name} ${B}`.trim(),attrs:this.options.attrs})}get dom(){var I;if(this.renderer.element.firstElementChild&&!(!((I=this.renderer.element.firstElementChild)===null||I===void 0)&&I.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}update(I,N){const F=B=>{this.renderer.updateProps(B)};if(I.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const B=this.node,V=this.decorations;return this.node=I,this.decorations=N,this.options.update({oldNode:B,oldDecorations:V,newNode:I,newDecorations:N,updateProps:()=>F({node:I,decorations:N})})}return I===this.node&&this.decorations===N||(this.node=I,this.decorations=N,F({node:I,decorations:N})),!0}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}destroy(){this.renderer.destroy(),this.contentDOMElement=null}}function C(x,I){return N=>N.editor.contentComponent?new P(x,N,I):{}}function D(){const[,x]=(0,f.useState)(0);return()=>x(I=>I+1)}const A=(x={},I=[])=>{const[N,F]=(0,f.useState)(null),B=D(),{onBeforeCreate:V,onBlur:Z,onCreate:Y,onDestroy:ne,onFocus:G,onSelectionUpdate:L,onTransaction:W,onUpdate:ie}=x;return(0,f.useEffect)(()=>{N&&(V&&(N.off("beforeCreate"),N.on("beforeCreate",V)),Z&&(N.off("blur"),N.on("blur",Z)),Y&&(N.off("create"),N.on("create",Y)),ne&&(N.off("destroy"),N.on("destroy",ne)),G&&(N.off("focus"),N.on("focus",G)),L&&(N.off("selectionUpdate"),N.on("selectionUpdate",L)),W&&(N.off("transaction"),N.on("transaction",W)),ie&&(N.off("update"),N.on("update",ie)))},[V,Z,Y,ne,G,L,W,ie]),(0,f.useEffect)(()=>{let ue=!0;const le=new _(x);return F(le),le.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{ue&&B()})})}),()=>{le.destroy(),ue=!1}},I),N}},48583:(z,l,e)=>{"use strict";e.d(l,{KO:()=>T});var o=e(98661),f=e(15103);const u=(0,o.createContext)(void 0),c=w=>{const S=(0,o.useContext)(u);return(w==null?void 0:w.store)||S||(0,f.K7)()},_=({children:w,store:S})=>{const O=useRef();return!S&&!O.current&&(O.current=createStore()),createElement(u.Provider,{value:S||O.current},w)},g=w=>w instanceof Promise,E=o.default.use||(w=>{if(w.status==="pending")throw w;if(w.status==="fulfilled")return w.value;throw w.status==="rejected"?w.reason:(w.status="pending",w.then(S=>{w.status="fulfilled",w.value=S},S=>{w.status="rejected",w.reason=S}),w)});function v(w,S){const O=c(S),[[p,d,a],P]=(0,o.useReducer)(A=>{const x=O.get(w);return Object.is(A[0],x)&&A[1]===O&&A[2]===w?A:[x,O,w]},void 0,()=>[O.get(w),O,w]);let C=p;(d!==O||a!==w)&&(P(),C=O.get(w));const D=S==null?void 0:S.delay;return(0,o.useEffect)(()=>{const A=O.sub(w,()=>{if(typeof D=="number"){setTimeout(P,D);return}P()});return P(),A},[O,w,D]),(0,o.useDebugValue)(C),g(C)?E(C):C}function y(w,S){const O=c(S);return(0,o.useCallback)((...d)=>{if(!("write"in w))throw new Error("not writable atom");return O.set(w,...d)},[O,w])}function T(w,S){return[v(w,S),y(w,S)]}},15103:(z,l,e)=>{"use strict";e.d(l,{K7:()=>a,cn:()=>f});let o=0;function f(P,C){const D=`atom${++o}`,A={toString:()=>D};return typeof P=="function"?A.read=P:(A.init=P,A.read=x=>x(A),A.write=(x,I,N)=>I(A,typeof N=="function"?N(x(A)):N)),C&&(A.write=C),A}const u=P=>"init"in P,c=P=>!!P.write,_=new WeakMap,g=(P,C)=>{_.set(P,C),P.catch(()=>{}).finally(()=>_.delete(P))},E=(P,C)=>{const D=_.get(P);D&&(_.delete(P),D(C))},v=(P,C)=>{P.status="fulfilled",P.value=C},y=(P,C)=>{P.status="rejected",P.reason=C},T=(P,C)=>"v"in P&&"v"in C&&Object.is(P.v,C.v),w=(P,C)=>"e"in P&&"e"in C&&Object.is(P.e,C.e),S=P=>"v"in P&&P.v instanceof Promise,O=P=>{if("e"in P)throw P.e;return P.v},p=()=>{const P=new WeakMap,C=new WeakMap,D=new Map;let A,x,I;A=new Set,x=new Set,I=new Set;const N=ce=>P.get(ce),F=(ce,fe)=>{Object.freeze(fe);const Ee=P.get(ce);if(P.set(ce,fe),D.has(ce)||D.set(ce,Ee),Ee&&S(Ee)){const de="v"in fe?fe.v instanceof Promise?fe.v:Promise.resolve(fe.v):Promise.reject(fe.e);E(Ee.v,de)}},B=(ce,fe,Ee)=>{const de=new Map;let _e=!1;Ee.forEach(ve=>{const De=ve===ce?fe:N(ve);De?(de.set(ve,De),fe.d.get(ve)!==De&&(_e=!0)):console.warn("[Bug] atom state not found")}),(_e||fe.d.size!==de.size)&&(fe.d=de)},V=(ce,fe,Ee)=>{const de=N(ce),_e={d:(de==null?void 0:de.d)||new Map,v:fe};return Ee&&B(ce,_e,Ee),de&&T(de,_e)&&de.d===_e.d?de:(F(ce,_e),_e)},Z=(ce,fe,Ee)=>{const de=N(ce),_e={d:(de==null?void 0:de.d)||new Map,e:fe};return Ee&&B(ce,_e,Ee),de&&w(de,_e)&&de.d===_e.d?de:(F(ce,_e),_e)},Y=ce=>{const fe=N(ce);if(fe&&(fe.d.forEach((ye,ze)=>{ze!==ce&&!C.has(ze)&&Y(ze)}),Array.from(fe.d).every(([ye,ze])=>ye===ce||N(ye)===ze)))return fe;const Ee=new Set;let de=!0;const _e=ye=>{if(Ee.add(ye),ye===ce){const Be=N(ye);if(Be)return O(Be);if(u(ye))return ye.init;throw new Error("no atom init")}const ze=Y(ye);return O(ze)};let ve,De;const Oe={get signal(){return ve||(ve=new AbortController),ve.signal},get setSelf(){return c(ce)||console.warn("setSelf function cannot be used with read-only atom"),!De&&c(ce)&&(De=(...ye)=>{if(de&&console.warn("setSelf function cannot be called in sync"),!de)return le(ce,...ye)}),De}};try{const ye=ce.read(_e,Oe);if(ye instanceof Promise){let ze;const Be=new Promise((We,Ke)=>{let Xe=!1;ye.then(ct=>{Xe||(Xe=!0,V(ce,Be,Ee),v(Be,ct),We(ct))},ct=>{Xe||(Xe=!0,V(ce,Be,Ee),y(Be,ct),Ke(ct))}),ze=ct=>{Xe||(Xe=!0,ct.then(Se=>v(Be,Se),Se=>y(Be,Se)),We(ct))}});return Be.status="pending",g(Be,We=>{We&&ze(We),ve==null||ve.abort()}),V(ce,Be,Ee)}return V(ce,ye,Ee)}catch(ye){return Z(ce,ye,Ee)}finally{de=!1}},ne=ce=>O(Y(ce)),G=ce=>{let fe=C.get(ce);return fe||(fe=J(ce)),fe},L=(ce,fe)=>!fe.l.size&&(!fe.t.size||fe.t.size===1&&fe.t.has(ce)),W=ce=>{const fe=C.get(ce);fe&&L(ce,fe)&&te(ce)},ie=ce=>{const fe=C.get(ce);fe==null||fe.t.forEach(Ee=>{if(Ee!==ce){const de=N(Ee),_e=Y(Ee);(!de||!T(de,_e))&&ie(Ee)}})},ue=(ce,...fe)=>{let Ee=!0;const de=De=>O(Y(De)),_e=(De,...Oe)=>{let ye;if(De===ce){if(!u(De))throw new Error("atom not writable");const ze=N(De),Be=V(De,Oe[0]);(!ze||!T(ze,Be))&&ie(De)}else ye=ue(De,...Oe);return Ee||ee(),ye},ve=ce.write(de,_e,...fe);return Ee=!1,ve},le=(ce,...fe)=>{const Ee=ue(ce,...fe);return ee(),Ee},J=(ce,fe)=>{const Ee={t:new Set(fe&&[fe]),l:new Set};if(C.set(ce,Ee),I.add(ce),Y(ce).d.forEach((de,_e)=>{const ve=C.get(_e);ve?ve.t.add(ce):_e!==ce&&J(_e,ce)}),Y(ce),c(ce)&&ce.onMount){const de=ce.onMount((..._e)=>le(ce,..._e));de&&(Ee.u=de)}return Ee},te=ce=>{var fe;const Ee=(fe=C.get(ce))==null?void 0:fe.u;Ee&&Ee(),C.delete(ce),I.delete(ce);const de=N(ce);de?(S(de)&&E(de.v),de.d.forEach((_e,ve)=>{if(ve!==ce){const De=C.get(ve);De&&(De.t.delete(ce),L(ve,De)&&te(ve))}})):console.warn("[Bug] could not find atom state to unmount",ce)},se=(ce,fe,Ee)=>{const de=new Set(fe.d.keys());Ee==null||Ee.forEach((_e,ve)=>{if(de.has(ve)){de.delete(ve);return}const De=C.get(ve);De&&(De.t.delete(ce),L(ve,De)&&te(ve))}),de.forEach(_e=>{const ve=C.get(_e);ve?ve.t.add(ce):C.has(ce)&&J(_e,ce)})},ee=()=>{for(;D.size;){const ce=Array.from(D);D.clear(),ce.forEach(([fe,Ee])=>{const de=N(fe);if(de){de.d!==(Ee==null?void 0:Ee.d)&&se(fe,de,Ee==null?void 0:Ee.d);const _e=C.get(fe);_e&&!(Ee&&!S(Ee)&&(T(Ee,de)||w(Ee,de)))&&_e.l.forEach(ve=>ve())}else console.warn("[Bug] no atom state to flush")})}A.forEach(ce=>ce()),x.forEach(ce=>ce("state"))},ae=(ce,fe)=>{const Ee=G(ce);ee();const de=Ee.l;return de.add(fe),x.forEach(_e=>_e("sub")),()=>{de.delete(fe),W(ce),x.forEach(_e=>_e("unsub"))}};return{get:ne,set:le,sub:ae,dev_subscribe_state:ce=>(console.warn("[DEPRECATED] dev_subscribe_state is deprecated and will be removed in the next minor version. use dev_subscribe_store instead."),A.add(ce),()=>{A.delete(ce)}),dev_subscribe_store:ce=>(x.add(ce),()=>{x.delete(ce)}),dev_get_mounted_atoms:()=>I.values(),dev_get_atom_state:ce=>P.get(ce),dev_get_mounted:ce=>C.get(ce),dev_restore_atoms:ce=>{for(const[fe,Ee]of ce)u(fe)&&(V(fe,Ee),ie(fe));ee()}}};let d;const a=()=>(d||(d=p()),d)},95495:(z,l,e)=>{"use strict";e.d(l,{xu:()=>c});const o=Symbol();function f(te){const se=atom(te,(ee,ae,ce)=>{const fe=typeof ce=="function"?ce(ee(se)):ce;ae(se,fe===o?te:fe)});return se}function u(te,se){const ee=atom(te,(ae,ce,fe)=>ce(ee,se(ae(ee),fe)));return ee}function c(te,se){let ee=null;const ae=new Map,ce=fe=>{let Ee;if(se===void 0)Ee=ae.get(fe);else for(const[_e,ve]of ae)if(se(_e,fe)){Ee=ve;break}if(Ee!==void 0)if(ee!=null&&ee(Ee[1],fe))ce.remove(fe);else return Ee[0];const de=te(fe);return ae.set(fe,[de,Date.now()]),de};return ce.remove=fe=>{if(se===void 0)ae.delete(fe);else for(const[Ee]of ae)if(se(Ee,fe)){ae.delete(Ee);break}},ce.setShouldRemove=fe=>{if(ee=fe,!!ee)for(const[Ee,de]of ae)ee(de[1],Ee)&&ae.delete(Ee)},ce}const _=(te,se,ee)=>(se.has(ee)?se:se.set(ee,te())).get(ee),g=new WeakMap,E=(te,se,ee,ae)=>{const ce=_(()=>new WeakMap,g,se),fe=_(()=>new WeakMap,ce,ee);return _(te,fe,ae)};function v(te,se,ee=Object.is){return E(()=>{const ae=Symbol(),ce=([Ee,de])=>{if(de===ae)return se(Ee);const _e=se(Ee,de);return ee(de,_e)?de:_e},fe=atom(Ee=>{const de=Ee(fe),_e=Ee(te);return _e instanceof Promise||de instanceof Promise?Promise.all([_e,de]).then(ce):ce([_e,de])});return fe.init=ae,fe},te,se,ee)}const y=new WeakMap,T=(te,se)=>(y.has(se)?y:y.set(se,te())).get(se),w=te=>{if(typeof te!="object"||te===null)return;Object.freeze(te);const se=Object.getOwnPropertyNames(te);for(const ee of se){const ae=te[ee];w(ae)}return te};function S(te){return T(()=>atom(ee=>w(ee(te)),(ee,ae,ce)=>ae(te,ce)),te)}function O(te){return(...se)=>{const ee=te(...se),ae=ee.read;return ee.read=(ce,fe)=>w(ae(ce,fe)),ee}}const p=(te,se,ee)=>(se.has(ee)?se:se.set(ee,te())).get(ee),d=new WeakMap,a=(te,se,ee)=>{const ae=p(()=>new WeakMap,d,se);return p(te,ae,ee)},P={},C=te=>!!te.write,D=te=>typeof te=="function";function A(te,se){return a(()=>{const ee=new WeakMap,ae=(Ee,de)=>{let _e=ee.get(Ee);if(_e)return _e;const ve=de&&ee.get(de),De=[],Oe=[];return Ee.forEach((ye,ze)=>{const Be=se?se(ye):ze;Oe[ze]=Be;const We=ve&&ve.atomList[ve.keyList.indexOf(Be)];if(We){De[ze]=We;return}const Ke=ct=>{const Se=ct(ce),Qe=ct(te),Fe=ae(Qe,Se==null?void 0:Se.arr).keyList.indexOf(Be);if(Fe<0||Fe>=Qe.length){const Ne=Ee[ae(Ee).keyList.indexOf(Be)];if(Ne)return Ne;throw new Error("splitAtom: index out of bounds for read")}return Qe[Fe]},Xe=(ct,Se,Qe)=>{const ge=ct(ce),Fe=ct(te),lt=ae(Fe,ge==null?void 0:ge.arr).keyList.indexOf(Be);if(lt<0||lt>=Fe.length)throw new Error("splitAtom: index out of bounds for write");const Et=D(Qe)?Qe(Fe[lt]):Qe;Se(te,[...Fe.slice(0,lt),Et,...Fe.slice(lt+1)])};De[ze]=C(te)?atom(Ke,Xe):atom(Ke)}),ve&&ve.keyList.length===Oe.length&&ve.keyList.every((ye,ze)=>ye===Oe[ze])?_e=ve:_e={arr:Ee,atomList:De,keyList:Oe},ee.set(Ee,_e),_e},ce=atom(Ee=>{const de=Ee(ce),_e=Ee(te);return ae(_e,de==null?void 0:de.arr)});ce.debugPrivate=!0,ce.init=void 0;const fe=C(te)?atom(Ee=>Ee(ce).atomList,(Ee,de,_e)=>{switch(_e.type){case"remove":{const ve=Ee(fe).indexOf(_e.atom);if(ve>=0){const De=Ee(te);de(te,[...De.slice(0,ve),...De.slice(ve+1)])}break}case"insert":{const ve=_e.before?Ee(fe).indexOf(_e.before):Ee(fe).length;if(ve>=0){const De=Ee(te);de(te,[...De.slice(0,ve),_e.value,...De.slice(ve)])}break}case"move":{const ve=Ee(fe).indexOf(_e.atom),De=_e.before?Ee(fe).indexOf(_e.before):Ee(fe).length;if(ve>=0&&De>=0){const Oe=Ee(te);ve<De?de(te,[...Oe.slice(0,ve),...Oe.slice(ve+1,De),Oe[ve],...Oe.slice(De)]):de(te,[...Oe.slice(0,De),Oe[ve],...Oe.slice(De,ve),...Oe.slice(ve+1)])}break}}}):atom(Ee=>Ee(ce).atomList);return fe},te,se||P)}const x=(te,se)=>typeof se=="function"?se(te):se;function I(te){const se=Symbol(),ee=atom(se);ee.debugPrivate=!0;const ae=atom((ce,fe)=>{const Ee=ce(ee);return Ee!==se?Ee:te(ce,fe)},(ce,fe,Ee)=>{if(Ee===o)return fe(ee,se);const de=ce(ae);return de instanceof Promise?de.then(_e=>fe(ee,x(_e,Ee))):fe(ee,x(de,Ee))});return ae}const N=Symbol();function F(te){let se,ee;const ae={getItem:ce=>{var fe,Ee;const de=ve=>{if(ve=ve||"",se!==ve){try{ee=JSON.parse(ve)}catch(De){return N}se=ve}return ee},_e=(Ee=(fe=te())==null?void 0:fe.getItem(ce))!=null?Ee:null;return _e instanceof Promise?_e.then(de):de(_e)},setItem:(ce,fe)=>{var Ee;return(Ee=te())==null?void 0:Ee.setItem(ce,JSON.stringify(fe))},removeItem:ce=>{var fe;return(fe=te())==null?void 0:fe.removeItem(ce)}};return typeof window!="undefined"&&typeof window.addEventListener=="function"&&(ae.subscribe=(ce,fe)=>{const Ee=de=>{de.storageArea===te()&&de.key===ce&&de.newValue&&fe(JSON.parse(de.newValue))};return window.addEventListener("storage",Ee),()=>{window.removeEventListener("storage",Ee)}}),ae}const B=F(()=>typeof window!="undefined"?window.localStorage:void 0);function V(te,se,ee=B){const ae=atom(se);return ae.debugPrivate=!0,ae.onMount=fe=>{const Ee=ee.getItem(te);Ee instanceof Promise?Ee.then(_e=>fe(_e===N?se:_e)):fe(Ee===N?se:Ee);let de;return ee.subscribe&&(de=ee.subscribe(te,fe)),de},atom(fe=>fe(ae),(fe,Ee,de)=>{const _e=typeof de=="function"?de(fe(ae)):de;return _e===o?(Ee(ae,se),ee.removeItem(te)):(Ee(ae,_e),ee.setItem(te,_e))})}function Z(te,se){const ee=fe=>{if("e"in fe)throw fe.e;return fe.d},ae=atom(fe=>{var Ee;let de=te(fe);const _e=(Ee=de[Symbol.observable])==null?void 0:Ee.call(de);_e&&(de=_e);let ve;const De=()=>new Promise(Qe=>{ve=Qe}),Oe=se&&"initialValue"in se?{d:typeof se.initialValue=="function"?se.initialValue():se.initialValue}:De();let ye,ze;const Be=Qe=>{ze=Qe,ve==null||ve(Qe),ye==null||ye(Qe)};let We,Ke;const Xe=()=>!ye,ct=()=>{We&&(clearTimeout(Ke),We.unsubscribe()),We=de.subscribe({next:Qe=>Be({d:Qe}),error:Qe=>Be({e:Qe}),complete:()=>{}}),Xe()&&(se!=null&&se.unstable_timeout)&&(Ke=setTimeout(()=>{We&&(We.unsubscribe(),We=void 0)},se.unstable_timeout))};ct();const Se=atom(ze||Oe);return Se.debugPrivate=!0,Se.onMount=Qe=>(ye=Qe,ze&&Qe(ze),We?clearTimeout(Ke):ct(),()=>{ye=void 0,We&&(We.unsubscribe(),We=void 0)}),[Se,de,De,ct,Xe]});return ae.debugPrivate=!0,atom(fe=>{const[Ee]=fe(ae),de=fe(Ee);return de instanceof Promise?de.then(ee):ee(de)},(fe,Ee,de)=>{const[_e,ve,De,Oe,ye]=fe(ae);if("next"in ve)ye()&&(Ee(_e,De()),Oe()),ve.next(de);else throw new Error("observable is not subject")})}const Y=new WeakMap,ne=(te,se)=>(Y.has(se)?Y:Y.set(se,te())).get(se),G={state:"loading"};function L(te){return ne(()=>{const se=new WeakMap,ee=atom(0);ee.debugPrivate=!0;const ae=atom((ce,{setSelf:fe})=>{ce(ee);const Ee=ce(te);if(!(Ee instanceof Promise))return{state:"hasData",data:Ee};const de=se.get(Ee);return de||(se.set(Ee,G),Ee.then(_e=>{se.set(Ee,{state:"hasData",data:_e})},_e=>{se.set(Ee,{state:"hasError",error:_e})}).finally(fe),G)},(ce,fe)=>{fe(ee,Ee=>Ee+1)});return ae.debugPrivate=!0,atom(ce=>ce(ae))},te)}const W=(te,se,ee)=>(se.has(ee)?se:se.set(ee,te())).get(ee),ie=new WeakMap,ue=(te,se,ee)=>{const ae=W(()=>new WeakMap,ie,se);return W(te,ae,ee)},le=()=>{};function J(te,se=le){return ue(()=>{const ee=new WeakMap,ae=new WeakMap,ce=atom(0);ce.debugPrivate=!0;const fe=atom((Ee,{setSelf:de})=>{Ee(ce);const _e=Ee(fe),ve=Ee(te);if(ve===(_e==null?void 0:_e.p)){if(ee.has(ve))throw ee.get(ve);if(ae.has(ve))return{p:ve,v:ae.get(ve)}}return ve!==(_e==null?void 0:_e.p)&&ve.then(De=>ae.set(ve,De),De=>ee.set(ve,De)).finally(de),_e&&"v"in _e?{p:ve,f:se(_e.v)}:{p:ve,f:se()}},(Ee,de)=>{de(ce,_e=>_e+1)});return fe.init=void 0,fe.debugPrivate=!0,atom(Ee=>{const de=Ee(fe);return"v"in de?de.v:de.f})},te,se)}},25804:(z,l,e)=>{"use strict";e.d(l,{Ig:()=>C,MI:()=>P,N0:()=>Y,NE:()=>c,QK:()=>A,U9:()=>ie,X0:()=>F,Y_:()=>p,_M:()=>w,al:()=>g,mD:()=>N,nw:()=>ue,o:()=>d,uJ:()=>J,uo:()=>I,xb:()=>D,ym:()=>le});var o=e(16560),f=e(87823),u=e(2376);const c=(Oe,ye)=>Oe.selection.empty?!1:(ye&&ye(Oe.tr.deleteSelection().scrollIntoView()),!0);function _(Oe,ye){let{$cursor:ze}=Oe.selection;return!ze||(ye?!ye.endOfTextblock("backward",Oe):ze.parentOffset>0)?null:ze}const g=(Oe,ye,ze)=>{let Be=_(Oe,ze);if(!Be)return!1;let We=S(Be);if(!We){let Xe=Be.blockRange(),ct=Xe&&(0,o.k9)(Xe);return ct==null?!1:(ye&&ye(Oe.tr.lift(Xe,ct).scrollIntoView()),!0)}let Ke=We.nodeBefore;if(!Ke.type.spec.isolating&&L(Oe,We,ye))return!0;if(Be.parent.content.size==0&&(T(Ke,"end")||u.qv.isSelectable(Ke))){let Xe=(0,o.dR)(Oe.doc,Be.before(),Be.after(),f.p2.empty);if(Xe&&Xe.slice.size<Xe.to-Xe.from){if(ye){let ct=Oe.tr.step(Xe);ct.setSelection(T(Ke,"end")?u.Y1.findFrom(ct.doc.resolve(ct.mapping.map(We.pos,-1)),-1):u.qv.create(ct.doc,We.pos-Ke.nodeSize)),ye(ct.scrollIntoView())}return!0}}return Ke.isAtom&&We.depth==Be.depth-1?(ye&&ye(Oe.tr.delete(We.pos-Ke.nodeSize,We.pos).scrollIntoView()),!0):!1},E=(Oe,ye,ze)=>{let Be=_(Oe,ze);if(!Be)return!1;let We=S(Be);return We?y(Oe,We,ye):!1},v=(Oe,ye,ze)=>{let Be=O(Oe,ze);if(!Be)return!1;let We=a(Be);return We?y(Oe,We,ye):!1};function y(Oe,ye,ze){let Be=ye.nodeBefore,We=Be,Ke=ye.pos-1;for(;!We.isTextblock;Ke--){if(We.type.spec.isolating)return!1;let ge=We.lastChild;if(!ge)return!1;We=ge}let Xe=ye.nodeAfter,ct=Xe,Se=ye.pos+1;for(;!ct.isTextblock;Se++){if(ct.type.spec.isolating)return!1;let ge=ct.firstChild;if(!ge)return!1;ct=ge}let Qe=replaceStep(Oe.doc,Ke,Se,Slice.empty);if(!Qe||Qe.from!=Ke||Qe.slice.size>=Se-Ke)return!1;if(ze){let ge=Oe.tr.step(Qe);ge.setSelection(TextSelection.create(ge.doc,Ke)),ze(ge.scrollIntoView())}return!0}function T(Oe,ye,ze=!1){for(let Be=Oe;Be;Be=ye=="start"?Be.firstChild:Be.lastChild){if(Be.isTextblock)return!0;if(ze&&Be.childCount!=1)return!1}return!1}const w=(Oe,ye,ze)=>{let{$head:Be,empty:We}=Oe.selection,Ke=Be;if(!We)return!1;if(Be.parent.isTextblock){if(ze?!ze.endOfTextblock("backward",Oe):Be.parentOffset>0)return!1;Ke=S(Be)}let Xe=Ke&&Ke.nodeBefore;return!Xe||!u.qv.isSelectable(Xe)?!1:(ye&&ye(Oe.tr.setSelection(u.qv.create(Oe.doc,Ke.pos-Xe.nodeSize)).scrollIntoView()),!0)};function S(Oe){if(!Oe.parent.type.spec.isolating)for(let ye=Oe.depth-1;ye>=0;ye--){if(Oe.index(ye)>0)return Oe.doc.resolve(Oe.before(ye+1));if(Oe.node(ye).type.spec.isolating)break}return null}function O(Oe,ye){let{$cursor:ze}=Oe.selection;return!ze||(ye?!ye.endOfTextblock("forward",Oe):ze.parentOffset<ze.parent.content.size)?null:ze}const p=(Oe,ye,ze)=>{let Be=O(Oe,ze);if(!Be)return!1;let We=a(Be);if(!We)return!1;let Ke=We.nodeAfter;if(L(Oe,We,ye))return!0;if(Be.parent.content.size==0&&(T(Ke,"start")||u.qv.isSelectable(Ke))){let Xe=(0,o.dR)(Oe.doc,Be.before(),Be.after(),f.p2.empty);if(Xe&&Xe.slice.size<Xe.to-Xe.from){if(ye){let ct=Oe.tr.step(Xe);ct.setSelection(T(Ke,"start")?u.Y1.findFrom(ct.doc.resolve(ct.mapping.map(We.pos)),1):u.qv.create(ct.doc,ct.mapping.map(We.pos))),ye(ct.scrollIntoView())}return!0}}return Ke.isAtom&&We.depth==Be.depth-1?(ye&&ye(Oe.tr.delete(We.pos,We.pos+Ke.nodeSize).scrollIntoView()),!0):!1},d=(Oe,ye,ze)=>{let{$head:Be,empty:We}=Oe.selection,Ke=Be;if(!We)return!1;if(Be.parent.isTextblock){if(ze?!ze.endOfTextblock("forward",Oe):Be.parentOffset<Be.parent.content.size)return!1;Ke=a(Be)}let Xe=Ke&&Ke.nodeAfter;return!Xe||!u.qv.isSelectable(Xe)?!1:(ye&&ye(Oe.tr.setSelection(u.qv.create(Oe.doc,Ke.pos)).scrollIntoView()),!0)};function a(Oe){if(!Oe.parent.type.spec.isolating)for(let ye=Oe.depth-1;ye>=0;ye--){let ze=Oe.node(ye);if(Oe.index(ye)+1<ze.childCount)return Oe.doc.resolve(Oe.after(ye+1));if(ze.type.spec.isolating)break}return null}const P=(Oe,ye)=>{let ze=Oe.selection,Be=ze instanceof u.qv,We;if(Be){if(ze.node.isTextblock||!(0,o.Mn)(Oe.doc,ze.from))return!1;We=ze.from}else if(We=(0,o.GJ)(Oe.doc,ze.from,-1),We==null)return!1;if(ye){let Ke=Oe.tr.join(We);Be&&Ke.setSelection(u.qv.create(Ke.doc,We-Oe.doc.resolve(We).nodeBefore.nodeSize)),ye(Ke.scrollIntoView())}return!0},C=(Oe,ye)=>{let ze=Oe.selection,Be;if(ze instanceof u.qv){if(ze.node.isTextblock||!(0,o.Mn)(Oe.doc,ze.to))return!1;Be=ze.to}else if(Be=(0,o.GJ)(Oe.doc,ze.to,1),Be==null)return!1;return ye&&ye(Oe.tr.join(Be).scrollIntoView()),!0},D=(Oe,ye)=>{let{$from:ze,$to:Be}=Oe.selection,We=ze.blockRange(Be),Ke=We&&(0,o.k9)(We);return Ke==null?!1:(ye&&ye(Oe.tr.lift(We,Ke).scrollIntoView()),!0)},A=(Oe,ye)=>{let{$head:ze,$anchor:Be}=Oe.selection;return!ze.parent.type.spec.code||!ze.sameParent(Be)?!1:(ye&&ye(Oe.tr.insertText(`
`).scrollIntoView()),!0)};function x(Oe){for(let ye=0;ye<Oe.edgeCount;ye++){let{type:ze}=Oe.edge(ye);if(ze.isTextblock&&!ze.hasRequiredAttrs())return ze}return null}const I=(Oe,ye)=>{let{$head:ze,$anchor:Be}=Oe.selection;if(!ze.parent.type.spec.code||!ze.sameParent(Be))return!1;let We=ze.node(-1),Ke=ze.indexAfter(-1),Xe=x(We.contentMatchAt(Ke));if(!Xe||!We.canReplaceWith(Ke,Ke,Xe))return!1;if(ye){let ct=ze.after(),Se=Oe.tr.replaceWith(ct,ct,Xe.createAndFill());Se.setSelection(u.Y1.near(Se.doc.resolve(ct),1)),ye(Se.scrollIntoView())}return!0},N=(Oe,ye)=>{let ze=Oe.selection,{$from:Be,$to:We}=ze;if(ze instanceof u.C1||Be.parent.inlineContent||We.parent.inlineContent)return!1;let Ke=x(We.parent.contentMatchAt(We.indexAfter()));if(!Ke||!Ke.isTextblock)return!1;if(ye){let Xe=(!Be.parentOffset&&We.index()<We.parent.childCount?Be:We).pos,ct=Oe.tr.insert(Xe,Ke.createAndFill());ct.setSelection(u.Bs.create(ct.doc,Xe+1)),ye(ct.scrollIntoView())}return!0},F=(Oe,ye)=>{let{$cursor:ze}=Oe.selection;if(!ze||ze.parent.content.size)return!1;if(ze.depth>1&&ze.after()!=ze.end(-1)){let Ke=ze.before();if((0,o.Ax)(Oe.doc,Ke))return ye&&ye(Oe.tr.split(Ke).scrollIntoView()),!0}let Be=ze.blockRange(),We=Be&&(0,o.k9)(Be);return We==null?!1:(ye&&ye(Oe.tr.lift(Be,We).scrollIntoView()),!0)};function B(Oe){return(ye,ze)=>{let{$from:Be,$to:We}=ye.selection;if(ye.selection instanceof u.qv&&ye.selection.node.isBlock)return!Be.parentOffset||!(0,o.Ax)(ye.doc,Be.pos)?!1:(ze&&ze(ye.tr.split(Be.pos).scrollIntoView()),!0);if(!Be.parent.isBlock)return!1;if(ze){let Ke=We.parentOffset==We.parent.content.size,Xe=ye.tr;(ye.selection instanceof u.Bs||ye.selection instanceof u.C1)&&Xe.deleteSelection();let ct=Be.depth==0?null:x(Be.node(-1).contentMatchAt(Be.indexAfter(-1))),Se=Oe&&Oe(We.parent,Ke),Qe=Se?[Se]:Ke&&ct?[{type:ct}]:void 0,ge=(0,o.Ax)(Xe.doc,Xe.mapping.map(Be.pos),1,Qe);if(!Qe&&!ge&&(0,o.Ax)(Xe.doc,Xe.mapping.map(Be.pos),1,ct?[{type:ct}]:void 0)&&(ct&&(Qe=[{type:ct}]),ge=!0),ge&&(Xe.split(Xe.mapping.map(Be.pos),1,Qe),!Ke&&!Be.parentOffset&&Be.parent.type!=ct)){let Fe=Xe.mapping.map(Be.before()),Ne=Xe.doc.resolve(Fe);ct&&Be.node(-1).canReplaceWith(Ne.index(),Ne.index()+1,ct)&&Xe.setNodeMarkup(Xe.mapping.map(Be.before()),ct)}ze(Xe.scrollIntoView())}return!0}}const V=B(),Z=(Oe,ye)=>V(Oe,ye&&(ze=>{let Be=Oe.storedMarks||Oe.selection.$to.parentOffset&&Oe.selection.$from.marks();Be&&ze.ensureMarks(Be),ye(ze)})),Y=(Oe,ye)=>{let{$from:ze,to:Be}=Oe.selection,We,Ke=ze.sharedDepth(Be);return Ke==0?!1:(We=ze.before(Ke),ye&&ye(Oe.tr.setSelection(u.qv.create(Oe.doc,We))),!0)},ne=(Oe,ye)=>(ye&&ye(Oe.tr.setSelection(new u.C1(Oe.doc))),!0);function G(Oe,ye,ze){let Be=ye.nodeBefore,We=ye.nodeAfter,Ke=ye.index();return!Be||!We||!Be.type.compatibleContent(We.type)?!1:!Be.content.size&&ye.parent.canReplace(Ke-1,Ke)?(ze&&ze(Oe.tr.delete(ye.pos-Be.nodeSize,ye.pos).scrollIntoView()),!0):!ye.parent.canReplace(Ke,Ke+1)||!(We.isTextblock||(0,o.Mn)(Oe.doc,ye.pos))?!1:(ze&&ze(Oe.tr.clearIncompatible(ye.pos,Be.type,Be.contentMatchAt(Be.childCount)).join(ye.pos).scrollIntoView()),!0)}function L(Oe,ye,ze){let Be=ye.nodeBefore,We=ye.nodeAfter,Ke,Xe;if(Be.type.spec.isolating||We.type.spec.isolating)return!1;if(G(Oe,ye,ze))return!0;let ct=ye.parent.canReplace(ye.index(),ye.index()+1);if(ct&&(Ke=(Xe=Be.contentMatchAt(Be.childCount)).findWrapping(We.type))&&Xe.matchType(Ke[0]||We.type).validEnd){if(ze){let Fe=ye.pos+We.nodeSize,Ne=f.HY.empty;for(let jt=Ke.length-1;jt>=0;jt--)Ne=f.HY.from(Ke[jt].create(null,Ne));Ne=f.HY.from(Be.copy(Ne));let lt=Oe.tr.step(new o.FC(ye.pos-1,Fe,ye.pos,Fe,new f.p2(Ne,1,0),Ke.length,!0)),Et=Fe+2*Ke.length;(0,o.Mn)(lt.doc,Et)&&lt.join(Et),ze(lt.scrollIntoView())}return!0}let Se=u.Y1.findFrom(ye,1),Qe=Se&&Se.$from.blockRange(Se.$to),ge=Qe&&(0,o.k9)(Qe);if(ge!=null&&ge>=ye.depth)return ze&&ze(Oe.tr.lift(Qe,ge).scrollIntoView()),!0;if(ct&&T(We,"start",!0)&&T(Be,"end")){let Fe=Be,Ne=[];for(;Ne.push(Fe),!Fe.isTextblock;)Fe=Fe.lastChild;let lt=We,Et=1;for(;!lt.isTextblock;lt=lt.firstChild)Et++;if(Fe.canReplace(Fe.childCount,Fe.childCount,lt.content)){if(ze){let jt=f.HY.empty;for(let vt=Ne.length-1;vt>=0;vt--)jt=f.HY.from(Ne[vt].copy(jt));let en=Oe.tr.step(new o.FC(ye.pos-Ne.length,ye.pos+We.nodeSize,ye.pos+Et,ye.pos+We.nodeSize-Et,new f.p2(jt,Ne.length,0),0,!0));ze(en.scrollIntoView())}return!0}}return!1}function W(Oe){return function(ye,ze){let Be=ye.selection,We=Oe<0?Be.$from:Be.$to,Ke=We.depth;for(;We.node(Ke).isInline;){if(!Ke)return!1;Ke--}return We.node(Ke).isTextblock?(ze&&ze(ye.tr.setSelection(u.Bs.create(ye.doc,Oe<0?We.start(Ke):We.end(Ke)))),!0):!1}}const ie=W(-1),ue=W(1);function le(Oe,ye=null){return function(ze,Be){let{$from:We,$to:Ke}=ze.selection,Xe=We.blockRange(Ke),ct=Xe&&(0,o.nd)(Xe,Oe,ye);return ct?(Be&&Be(ze.tr.wrap(Xe,ct).scrollIntoView()),!0):!1}}function J(Oe,ye=null){return function(ze,Be){let We=!1;for(let Ke=0;Ke<ze.selection.ranges.length&&!We;Ke++){let{$from:{pos:Xe},$to:{pos:ct}}=ze.selection.ranges[Ke];ze.doc.nodesBetween(Xe,ct,(Se,Qe)=>{if(We)return!1;if(!(!Se.isTextblock||Se.hasMarkup(Oe,ye)))if(Se.type==Oe)We=!0;else{let ge=ze.doc.resolve(Qe),Fe=ge.index();We=ge.parent.canReplaceWith(Fe,Fe+1,Oe)}})}if(!We)return!1;if(Be){let Ke=ze.tr;for(let Xe=0;Xe<ze.selection.ranges.length;Xe++){let{$from:{pos:ct},$to:{pos:Se}}=ze.selection.ranges[Xe];Ke.setBlockType(ct,Se,Oe,ye)}Be(Ke.scrollIntoView())}return!0}}function te(Oe,ye,ze){for(let Be=0;Be<ye.length;Be++){let{$from:We,$to:Ke}=ye[Be],Xe=We.depth==0?Oe.inlineContent&&Oe.type.allowsMarkType(ze):!1;if(Oe.nodesBetween(We.pos,Ke.pos,ct=>{if(Xe)return!1;Xe=ct.inlineContent&&ct.type.allowsMarkType(ze)}),Xe)return!0}return!1}function se(Oe,ye=null){return function(ze,Be){let{empty:We,$cursor:Ke,ranges:Xe}=ze.selection;if(We&&!Ke||!te(ze.doc,Xe,Oe))return!1;if(Be)if(Ke)Oe.isInSet(ze.storedMarks||Ke.marks())?Be(ze.tr.removeStoredMark(Oe)):Be(ze.tr.addStoredMark(Oe.create(ye)));else{let ct=!1,Se=ze.tr;for(let Qe=0;!ct&&Qe<Xe.length;Qe++){let{$from:ge,$to:Fe}=Xe[Qe];ct=ze.doc.rangeHasMark(ge.pos,Fe.pos,Oe)}for(let Qe=0;Qe<Xe.length;Qe++){let{$from:ge,$to:Fe}=Xe[Qe];if(ct)Se.removeMark(ge.pos,Fe.pos,Oe);else{let Ne=ge.pos,lt=Fe.pos,Et=ge.nodeAfter,jt=Fe.nodeBefore,en=Et&&Et.isText?/^\s*/.exec(Et.text)[0].length:0,vt=jt&&jt.isText?/\s*$/.exec(jt.text)[0].length:0;Ne+en<lt&&(Ne+=en,lt-=vt),Se.addMark(Ne,lt,Oe.create(ye))}}Be(Se.scrollIntoView())}return!0}}function ee(Oe,ye){return ze=>{if(!ze.isGeneric)return Oe(ze);let Be=[];for(let Ke=0;Ke<ze.mapping.maps.length;Ke++){let Xe=ze.mapping.maps[Ke];for(let ct=0;ct<Be.length;ct++)Be[ct]=Xe.map(Be[ct]);Xe.forEach((ct,Se,Qe,ge)=>Be.push(Qe,ge))}let We=[];for(let Ke=0;Ke<Be.length;Ke+=2){let Xe=Be[Ke],ct=Be[Ke+1],Se=ze.doc.resolve(Xe),Qe=Se.sharedDepth(ct),ge=Se.node(Qe);for(let Fe=Se.indexAfter(Qe),Ne=Se.after(Qe+1);Ne<=ct;++Fe){let lt=ge.maybeChild(Fe);if(!lt)break;if(Fe&&We.indexOf(Ne)==-1){let Et=ge.child(Fe-1);Et.type==lt.type&&ye(Et,lt)&&We.push(Ne)}Ne+=lt.nodeSize}}We.sort((Ke,Xe)=>Ke-Xe);for(let Ke=We.length-1;Ke>=0;Ke--)canJoin(ze.doc,We[Ke])&&ze.join(We[Ke]);Oe(ze)}}function ae(Oe,ye){let ze=Array.isArray(ye)?Be=>ye.indexOf(Be.type.name)>-1:ye;return(Be,We,Ke)=>Oe(Be,We&&ee(We,ze),Ke)}function ce(...Oe){return function(ye,ze,Be){for(let We=0;We<Oe.length;We++)if(Oe[We](ye,ze,Be))return!0;return!1}}let fe=ce(c,g,w),Ee=ce(c,p,d);const de={Enter:ce(A,N,F,V),"Mod-Enter":I,Backspace:fe,"Mod-Backspace":fe,"Shift-Backspace":fe,Delete:Ee,"Mod-Delete":Ee,"Mod-a":ne},_e={"Ctrl-h":de.Backspace,"Alt-Backspace":de["Mod-Backspace"],"Ctrl-d":de.Delete,"Ctrl-Alt-Backspace":de["Mod-Delete"],"Alt-Delete":de["Mod-Delete"],"Alt-d":de["Mod-Delete"],"Ctrl-a":ie,"Ctrl-e":ue};for(let Oe in de)_e[Oe]=de[Oe];const ve=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform?os.platform()=="darwin":!1,De=null},60440:(z,l,e)=>{"use strict";e.d(l,{h:()=>E});var o=e(33952),f=e(2376);const u=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function c(y){let T=y.split(/-(?!$)/),w=T[T.length-1];w=="Space"&&(w=" ");let S,O,p,d;for(let a=0;a<T.length-1;a++){let P=T[a];if(/^(cmd|meta|m)$/i.test(P))d=!0;else if(/^a(lt)?$/i.test(P))S=!0;else if(/^(c|ctrl|control)$/i.test(P))O=!0;else if(/^s(hift)?$/i.test(P))p=!0;else if(/^mod$/i.test(P))u?d=!0:O=!0;else throw new Error("Unrecognized modifier name: "+P)}return S&&(w="Alt-"+w),O&&(w="Ctrl-"+w),d&&(w="Meta-"+w),p&&(w="Shift-"+w),w}function _(y){let T=Object.create(null);for(let w in y)T[c(w)]=y[w];return T}function g(y,T,w=!0){return T.altKey&&(y="Alt-"+y),T.ctrlKey&&(y="Ctrl-"+y),T.metaKey&&(y="Meta-"+y),w&&T.shiftKey&&(y="Shift-"+y),y}function E(y){return new f.Sy({props:{handleKeyDown:v(y)}})}function v(y){let T=_(y);return function(w,S){let O=(0,o.YG)(S),p,d=T[g(O,S)];if(d&&d(w.state,w.dispatch,w))return!0;if(O.length==1&&O!=" "){if(S.shiftKey){let a=T[g(O,S,!1)];if(a&&a(w.state,w.dispatch,w))return!0}if((S.shiftKey||S.altKey||S.metaKey||O.charCodeAt(0)>127)&&(p=o.ue[S.keyCode])&&p!=O){let a=T[g(p,S)];if(a&&a(w.state,w.dispatch,w))return!0}}return!1}}},87823:(z,l,e)=>{"use strict";e.d(l,{aw:()=>ct,PW:()=>je,HY:()=>_,vc:()=>y,ZU:()=>We,NB:()=>G,Ts:()=>Y,e4:()=>T,V_:()=>Ke,p2:()=>w});function o(Ae){this.content=Ae}o.prototype={constructor:o,find:function(Ae){for(var H=0;H<this.content.length;H+=2)if(this.content[H]===Ae)return H;return-1},get:function(Ae){var H=this.find(Ae);return H==-1?void 0:this.content[H+1]},update:function(Ae,H,Q){var pe=Q&&Q!=Ae?this.remove(Q):this,we=pe.find(Ae),Le=pe.content.slice();return we==-1?Le.push(Q||Ae,H):(Le[we+1]=H,Q&&(Le[we]=Q)),new o(Le)},remove:function(Ae){var H=this.find(Ae);if(H==-1)return this;var Q=this.content.slice();return Q.splice(H,2),new o(Q)},addToStart:function(Ae,H){return new o([Ae,H].concat(this.remove(Ae).content))},addToEnd:function(Ae,H){var Q=this.remove(Ae).content.slice();return Q.push(Ae,H),new o(Q)},addBefore:function(Ae,H,Q){var pe=this.remove(H),we=pe.content.slice(),Le=pe.find(Ae);return we.splice(Le==-1?we.length:Le,0,H,Q),new o(we)},forEach:function(Ae){for(var H=0;H<this.content.length;H+=2)Ae(this.content[H],this.content[H+1])},prepend:function(Ae){return Ae=o.from(Ae),Ae.size?new o(Ae.content.concat(this.subtract(Ae).content)):this},append:function(Ae){return Ae=o.from(Ae),Ae.size?new o(this.subtract(Ae).content.concat(Ae.content)):this},subtract:function(Ae){var H=this;Ae=o.from(Ae);for(var Q=0;Q<Ae.content.length;Q+=2)H=H.remove(Ae.content[Q]);return H},toObject:function(){var Ae={};return this.forEach(function(H,Q){Ae[H]=Q}),Ae},get size(){return this.content.length>>1}},o.from=function(Ae){if(Ae instanceof o)return Ae;var H=[];if(Ae)for(var Q in Ae)H.push(Q,Ae[Q]);return new o(H)};const f=o;function u(Ae,H,Q){for(let pe=0;;pe++){if(pe==Ae.childCount||pe==H.childCount)return Ae.childCount==H.childCount?null:Q;let we=Ae.child(pe),Le=H.child(pe);if(we==Le){Q+=we.nodeSize;continue}if(!we.sameMarkup(Le))return Q;if(we.isText&&we.text!=Le.text){for(let Ye=0;we.text[Ye]==Le.text[Ye];Ye++)Q++;return Q}if(we.content.size||Le.content.size){let Ye=u(we.content,Le.content,Q+1);if(Ye!=null)return Ye}Q+=we.nodeSize}}function c(Ae,H,Q,pe){for(let we=Ae.childCount,Le=H.childCount;;){if(we==0||Le==0)return we==Le?null:{a:Q,b:pe};let Ye=Ae.child(--we),dt=H.child(--Le),st=Ye.nodeSize;if(Ye==dt){Q-=st,pe-=st;continue}if(!Ye.sameMarkup(dt))return{a:Q,b:pe};if(Ye.isText&&Ye.text!=dt.text){let _t=0,Tt=Math.min(Ye.text.length,dt.text.length);for(;_t<Tt&&Ye.text[Ye.text.length-_t-1]==dt.text[dt.text.length-_t-1];)_t++,Q--,pe--;return{a:Q,b:pe}}if(Ye.content.size||dt.content.size){let _t=c(Ye.content,dt.content,Q-1,pe-1);if(_t)return _t}Q-=st,pe-=st}}class _{constructor(H,Q){if(this.content=H,this.size=Q||0,Q==null)for(let pe=0;pe<H.length;pe++)this.size+=H[pe].nodeSize}nodesBetween(H,Q,pe,we=0,Le){for(let Ye=0,dt=0;dt<Q;Ye++){let st=this.content[Ye],_t=dt+st.nodeSize;if(_t>H&&pe(st,we+dt,Le||null,Ye)!==!1&&st.content.size){let Tt=dt+1;st.nodesBetween(Math.max(0,H-Tt),Math.min(st.content.size,Q-Tt),pe,we+Tt)}dt=_t}}descendants(H){this.nodesBetween(0,this.size,H)}textBetween(H,Q,pe,we){let Le="",Ye=!0;return this.nodesBetween(H,Q,(dt,st)=>{dt.isText?(Le+=dt.text.slice(Math.max(H,st)-st,Q-st),Ye=!pe):dt.isLeaf?(we?Le+=typeof we=="function"?we(dt):we:dt.type.spec.leafText&&(Le+=dt.type.spec.leafText(dt)),Ye=!pe):!Ye&&dt.isBlock&&(Le+=pe,Ye=!0)},0),Le}append(H){if(!H.size)return this;if(!this.size)return H;let Q=this.lastChild,pe=H.firstChild,we=this.content.slice(),Le=0;for(Q.isText&&Q.sameMarkup(pe)&&(we[we.length-1]=Q.withText(Q.text+pe.text),Le=1);Le<H.content.length;Le++)we.push(H.content[Le]);return new _(we,this.size+H.size)}cut(H,Q=this.size){if(H==0&&Q==this.size)return this;let pe=[],we=0;if(Q>H)for(let Le=0,Ye=0;Ye<Q;Le++){let dt=this.content[Le],st=Ye+dt.nodeSize;st>H&&((Ye<H||st>Q)&&(dt.isText?dt=dt.cut(Math.max(0,H-Ye),Math.min(dt.text.length,Q-Ye)):dt=dt.cut(Math.max(0,H-Ye-1),Math.min(dt.content.size,Q-Ye-1))),pe.push(dt),we+=dt.nodeSize),Ye=st}return new _(pe,we)}cutByIndex(H,Q){return H==Q?_.empty:H==0&&Q==this.content.length?this:new _(this.content.slice(H,Q))}replaceChild(H,Q){let pe=this.content[H];if(pe==Q)return this;let we=this.content.slice(),Le=this.size+Q.nodeSize-pe.nodeSize;return we[H]=Q,new _(we,Le)}addToStart(H){return new _([H].concat(this.content),this.size+H.nodeSize)}addToEnd(H){return new _(this.content.concat(H),this.size+H.nodeSize)}eq(H){if(this.content.length!=H.content.length)return!1;for(let Q=0;Q<this.content.length;Q++)if(!this.content[Q].eq(H.content[Q]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(H){let Q=this.content[H];if(!Q)throw new RangeError("Index "+H+" out of range for "+this);return Q}maybeChild(H){return this.content[H]||null}forEach(H){for(let Q=0,pe=0;Q<this.content.length;Q++){let we=this.content[Q];H(we,pe,Q),pe+=we.nodeSize}}findDiffStart(H,Q=0){return u(this,H,Q)}findDiffEnd(H,Q=this.size,pe=H.size){return c(this,H,Q,pe)}findIndex(H,Q=-1){if(H==0)return E(0,H);if(H==this.size)return E(this.content.length,H);if(H>this.size||H<0)throw new RangeError(`Position ${H} outside of fragment (${this})`);for(let pe=0,we=0;;pe++){let Le=this.child(pe),Ye=we+Le.nodeSize;if(Ye>=H)return Ye==H||Q>0?E(pe+1,Ye):E(pe,we);we=Ye}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(H=>H.toJSON()):null}static fromJSON(H,Q){if(!Q)return _.empty;if(!Array.isArray(Q))throw new RangeError("Invalid input for Fragment.fromJSON");return new _(Q.map(H.nodeFromJSON))}static fromArray(H){if(!H.length)return _.empty;let Q,pe=0;for(let we=0;we<H.length;we++){let Le=H[we];pe+=Le.nodeSize,we&&Le.isText&&H[we-1].sameMarkup(Le)?(Q||(Q=H.slice(0,we)),Q[Q.length-1]=Le.withText(Q[Q.length-1].text+Le.text)):Q&&Q.push(Le)}return new _(Q||H,pe)}static from(H){if(!H)return _.empty;if(H instanceof _)return H;if(Array.isArray(H))return this.fromArray(H);if(H.attrs)return new _([H],H.nodeSize);throw new RangeError("Can not convert "+H+" to a Fragment"+(H.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}_.empty=new _([],0);const g={index:0,offset:0};function E(Ae,H){return g.index=Ae,g.offset=H,g}function v(Ae,H){if(Ae===H)return!0;if(!(Ae&&typeof Ae=="object")||!(H&&typeof H=="object"))return!1;let Q=Array.isArray(Ae);if(Array.isArray(H)!=Q)return!1;if(Q){if(Ae.length!=H.length)return!1;for(let pe=0;pe<Ae.length;pe++)if(!v(Ae[pe],H[pe]))return!1}else{for(let pe in Ae)if(!(pe in H)||!v(Ae[pe],H[pe]))return!1;for(let pe in H)if(!(pe in Ae))return!1}return!0}class y{constructor(H,Q){this.type=H,this.attrs=Q}addToSet(H){let Q,pe=!1;for(let we=0;we<H.length;we++){let Le=H[we];if(this.eq(Le))return H;if(this.type.excludes(Le.type))Q||(Q=H.slice(0,we));else{if(Le.type.excludes(this.type))return H;!pe&&Le.type.rank>this.type.rank&&(Q||(Q=H.slice(0,we)),Q.push(this),pe=!0),Q&&Q.push(Le)}}return Q||(Q=H.slice()),pe||Q.push(this),Q}removeFromSet(H){for(let Q=0;Q<H.length;Q++)if(this.eq(H[Q]))return H.slice(0,Q).concat(H.slice(Q+1));return H}isInSet(H){for(let Q=0;Q<H.length;Q++)if(this.eq(H[Q]))return!0;return!1}eq(H){return this==H||this.type==H.type&&v(this.attrs,H.attrs)}toJSON(){let H={type:this.type.name};for(let Q in this.attrs){H.attrs=this.attrs;break}return H}static fromJSON(H,Q){if(!Q)throw new RangeError("Invalid input for Mark.fromJSON");let pe=H.marks[Q.type];if(!pe)throw new RangeError(`There is no mark type ${Q.type} in this schema`);return pe.create(Q.attrs)}static sameSet(H,Q){if(H==Q)return!0;if(H.length!=Q.length)return!1;for(let pe=0;pe<H.length;pe++)if(!H[pe].eq(Q[pe]))return!1;return!0}static setFrom(H){if(!H||Array.isArray(H)&&H.length==0)return y.none;if(H instanceof y)return[H];let Q=H.slice();return Q.sort((pe,we)=>pe.type.rank-we.type.rank),Q}}y.none=[];class T extends Error{}class w{constructor(H,Q,pe){this.content=H,this.openStart=Q,this.openEnd=pe}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(H,Q){let pe=O(this.content,H+this.openStart,Q);return pe&&new w(pe,this.openStart,this.openEnd)}removeBetween(H,Q){return new w(S(this.content,H+this.openStart,Q+this.openStart),this.openStart,this.openEnd)}eq(H){return this.content.eq(H.content)&&this.openStart==H.openStart&&this.openEnd==H.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let H={content:this.content.toJSON()};return this.openStart>0&&(H.openStart=this.openStart),this.openEnd>0&&(H.openEnd=this.openEnd),H}static fromJSON(H,Q){if(!Q)return w.empty;let pe=Q.openStart||0,we=Q.openEnd||0;if(typeof pe!="number"||typeof we!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new w(_.fromJSON(H,Q.content),pe,we)}static maxOpen(H,Q=!0){let pe=0,we=0;for(let Le=H.firstChild;Le&&!Le.isLeaf&&(Q||!Le.type.spec.isolating);Le=Le.firstChild)pe++;for(let Le=H.lastChild;Le&&!Le.isLeaf&&(Q||!Le.type.spec.isolating);Le=Le.lastChild)we++;return new w(H,pe,we)}}w.empty=new w(_.empty,0,0);function S(Ae,H,Q){let{index:pe,offset:we}=Ae.findIndex(H),Le=Ae.maybeChild(pe),{index:Ye,offset:dt}=Ae.findIndex(Q);if(we==H||Le.isText){if(dt!=Q&&!Ae.child(Ye).isText)throw new RangeError("Removing non-flat range");return Ae.cut(0,H).append(Ae.cut(Q))}if(pe!=Ye)throw new RangeError("Removing non-flat range");return Ae.replaceChild(pe,Le.copy(S(Le.content,H-we-1,Q-we-1)))}function O(Ae,H,Q,pe){let{index:we,offset:Le}=Ae.findIndex(H),Ye=Ae.maybeChild(we);if(Le==H||Ye.isText)return pe&&!pe.canReplace(we,we,Q)?null:Ae.cut(0,H).append(Q).append(Ae.cut(H));let dt=O(Ye.content,H-Le-1,Q);return dt&&Ae.replaceChild(we,Ye.copy(dt))}function p(Ae,H,Q){if(Q.openStart>Ae.depth)throw new T("Inserted content deeper than insertion position");if(Ae.depth-Q.openStart!=H.depth-Q.openEnd)throw new T("Inconsistent open depths");return d(Ae,H,Q,0)}function d(Ae,H,Q,pe){let we=Ae.index(pe),Le=Ae.node(pe);if(we==H.index(pe)&&pe<Ae.depth-Q.openStart){let Ye=d(Ae,H,Q,pe+1);return Le.copy(Le.content.replaceChild(we,Ye))}else if(Q.content.size)if(!Q.openStart&&!Q.openEnd&&Ae.depth==pe&&H.depth==pe){let Ye=Ae.parent,dt=Ye.content;return A(Ye,dt.cut(0,Ae.parentOffset).append(Q.content).append(dt.cut(H.parentOffset)))}else{let{start:Ye,end:dt}=N(Q,Ae);return A(Le,x(Ae,Ye,dt,H,pe))}else return A(Le,I(Ae,H,pe))}function a(Ae,H){if(!H.type.compatibleContent(Ae.type))throw new T("Cannot join "+H.type.name+" onto "+Ae.type.name)}function P(Ae,H,Q){let pe=Ae.node(Q);return a(pe,H.node(Q)),pe}function C(Ae,H){let Q=H.length-1;Q>=0&&Ae.isText&&Ae.sameMarkup(H[Q])?H[Q]=Ae.withText(H[Q].text+Ae.text):H.push(Ae)}function D(Ae,H,Q,pe){let we=(H||Ae).node(Q),Le=0,Ye=H?H.index(Q):we.childCount;Ae&&(Le=Ae.index(Q),Ae.depth>Q?Le++:Ae.textOffset&&(C(Ae.nodeAfter,pe),Le++));for(let dt=Le;dt<Ye;dt++)C(we.child(dt),pe);H&&H.depth==Q&&H.textOffset&&C(H.nodeBefore,pe)}function A(Ae,H){return Ae.type.checkContent(H),Ae.copy(H)}function x(Ae,H,Q,pe,we){let Le=Ae.depth>we&&P(Ae,H,we+1),Ye=pe.depth>we&&P(Q,pe,we+1),dt=[];return D(null,Ae,we,dt),Le&&Ye&&H.index(we)==Q.index(we)?(a(Le,Ye),C(A(Le,x(Ae,H,Q,pe,we+1)),dt)):(Le&&C(A(Le,I(Ae,H,we+1)),dt),D(H,Q,we,dt),Ye&&C(A(Ye,I(Q,pe,we+1)),dt)),D(pe,null,we,dt),new _(dt)}function I(Ae,H,Q){let pe=[];if(D(null,Ae,Q,pe),Ae.depth>Q){let we=P(Ae,H,Q+1);C(A(we,I(Ae,H,Q+1)),pe)}return D(H,null,Q,pe),new _(pe)}function N(Ae,H){let Q=H.depth-Ae.openStart,we=H.node(Q).copy(Ae.content);for(let Le=Q-1;Le>=0;Le--)we=H.node(Le).copy(_.from(we));return{start:we.resolveNoCache(Ae.openStart+Q),end:we.resolveNoCache(we.content.size-Ae.openEnd-Q)}}class F{constructor(H,Q,pe){this.pos=H,this.path=Q,this.parentOffset=pe,this.depth=Q.length/3-1}resolveDepth(H){return H==null?this.depth:H<0?this.depth+H:H}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(H){return this.path[this.resolveDepth(H)*3]}index(H){return this.path[this.resolveDepth(H)*3+1]}indexAfter(H){return H=this.resolveDepth(H),this.index(H)+(H==this.depth&&!this.textOffset?0:1)}start(H){return H=this.resolveDepth(H),H==0?0:this.path[H*3-1]+1}end(H){return H=this.resolveDepth(H),this.start(H)+this.node(H).content.size}before(H){if(H=this.resolveDepth(H),!H)throw new RangeError("There is no position before the top-level node");return H==this.depth+1?this.pos:this.path[H*3-1]}after(H){if(H=this.resolveDepth(H),!H)throw new RangeError("There is no position after the top-level node");return H==this.depth+1?this.pos:this.path[H*3-1]+this.path[H*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let H=this.parent,Q=this.index(this.depth);if(Q==H.childCount)return null;let pe=this.pos-this.path[this.path.length-1],we=H.child(Q);return pe?H.child(Q).cut(pe):we}get nodeBefore(){let H=this.index(this.depth),Q=this.pos-this.path[this.path.length-1];return Q?this.parent.child(H).cut(0,Q):H==0?null:this.parent.child(H-1)}posAtIndex(H,Q){Q=this.resolveDepth(Q);let pe=this.path[Q*3],we=Q==0?0:this.path[Q*3-1]+1;for(let Le=0;Le<H;Le++)we+=pe.child(Le).nodeSize;return we}marks(){let H=this.parent,Q=this.index();if(H.content.size==0)return y.none;if(this.textOffset)return H.child(Q).marks;let pe=H.maybeChild(Q-1),we=H.maybeChild(Q);if(!pe){let dt=pe;pe=we,we=dt}let Le=pe.marks;for(var Ye=0;Ye<Le.length;Ye++)Le[Ye].type.spec.inclusive===!1&&(!we||!Le[Ye].isInSet(we.marks))&&(Le=Le[Ye--].removeFromSet(Le));return Le}marksAcross(H){let Q=this.parent.maybeChild(this.index());if(!Q||!Q.isInline)return null;let pe=Q.marks,we=H.parent.maybeChild(H.index());for(var Le=0;Le<pe.length;Le++)pe[Le].type.spec.inclusive===!1&&(!we||!pe[Le].isInSet(we.marks))&&(pe=pe[Le--].removeFromSet(pe));return pe}sharedDepth(H){for(let Q=this.depth;Q>0;Q--)if(this.start(Q)<=H&&this.end(Q)>=H)return Q;return 0}blockRange(H=this,Q){if(H.pos<this.pos)return H.blockRange(this);for(let pe=this.depth-(this.parent.inlineContent||this.pos==H.pos?1:0);pe>=0;pe--)if(H.pos<=this.end(pe)&&(!Q||Q(this.node(pe))))return new Y(this,H,pe);return null}sameParent(H){return this.pos-this.parentOffset==H.pos-H.parentOffset}max(H){return H.pos>this.pos?H:this}min(H){return H.pos<this.pos?H:this}toString(){let H="";for(let Q=1;Q<=this.depth;Q++)H+=(H?"/":"")+this.node(Q).type.name+"_"+this.index(Q-1);return H+":"+this.parentOffset}static resolve(H,Q){if(!(Q>=0&&Q<=H.content.size))throw new RangeError("Position "+Q+" out of range");let pe=[],we=0,Le=Q;for(let Ye=H;;){let{index:dt,offset:st}=Ye.content.findIndex(Le),_t=Le-st;if(pe.push(Ye,dt,we+st),!_t||(Ye=Ye.child(dt),Ye.isText))break;Le=_t-1,we+=st+1}return new F(Q,pe,Le)}static resolveCached(H,Q){for(let we=0;we<B.length;we++){let Le=B[we];if(Le.pos==Q&&Le.doc==H)return Le}let pe=B[V]=F.resolve(H,Q);return V=(V+1)%Z,pe}}let B=[],V=0,Z=12;class Y{constructor(H,Q,pe){this.$from=H,this.$to=Q,this.depth=pe}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const ne=Object.create(null);class G{constructor(H,Q,pe,we=y.none){this.type=H,this.attrs=Q,this.marks=we,this.content=pe||_.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(H){return this.content.child(H)}maybeChild(H){return this.content.maybeChild(H)}forEach(H){this.content.forEach(H)}nodesBetween(H,Q,pe,we=0){this.content.nodesBetween(H,Q,pe,we,this)}descendants(H){this.nodesBetween(0,this.content.size,H)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(H,Q,pe,we){return this.content.textBetween(H,Q,pe,we)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(H){return this==H||this.sameMarkup(H)&&this.content.eq(H.content)}sameMarkup(H){return this.hasMarkup(H.type,H.attrs,H.marks)}hasMarkup(H,Q,pe){return this.type==H&&v(this.attrs,Q||H.defaultAttrs||ne)&&y.sameSet(this.marks,pe||y.none)}copy(H=null){return H==this.content?this:new G(this.type,this.attrs,H,this.marks)}mark(H){return H==this.marks?this:new G(this.type,this.attrs,this.content,H)}cut(H,Q=this.content.size){return H==0&&Q==this.content.size?this:this.copy(this.content.cut(H,Q))}slice(H,Q=this.content.size,pe=!1){if(H==Q)return w.empty;let we=this.resolve(H),Le=this.resolve(Q),Ye=pe?0:we.sharedDepth(Q),dt=we.start(Ye),_t=we.node(Ye).content.cut(we.pos-dt,Le.pos-dt);return new w(_t,we.depth-Ye,Le.depth-Ye)}replace(H,Q,pe){return p(this.resolve(H),this.resolve(Q),pe)}nodeAt(H){for(let Q=this;;){let{index:pe,offset:we}=Q.content.findIndex(H);if(Q=Q.maybeChild(pe),!Q)return null;if(we==H||Q.isText)return Q;H-=we+1}}childAfter(H){let{index:Q,offset:pe}=this.content.findIndex(H);return{node:this.content.maybeChild(Q),index:Q,offset:pe}}childBefore(H){if(H==0)return{node:null,index:0,offset:0};let{index:Q,offset:pe}=this.content.findIndex(H);if(pe<H)return{node:this.content.child(Q),index:Q,offset:pe};let we=this.content.child(Q-1);return{node:we,index:Q-1,offset:pe-we.nodeSize}}resolve(H){return F.resolveCached(this,H)}resolveNoCache(H){return F.resolve(this,H)}rangeHasMark(H,Q,pe){let we=!1;return Q>H&&this.nodesBetween(H,Q,Le=>(pe.isInSet(Le.marks)&&(we=!0),!we)),we}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let H=this.type.name;return this.content.size&&(H+="("+this.content.toStringInner()+")"),W(this.marks,H)}contentMatchAt(H){let Q=this.type.contentMatch.matchFragment(this.content,0,H);if(!Q)throw new Error("Called contentMatchAt on a node with invalid content");return Q}canReplace(H,Q,pe=_.empty,we=0,Le=pe.childCount){let Ye=this.contentMatchAt(H).matchFragment(pe,we,Le),dt=Ye&&Ye.matchFragment(this.content,Q);if(!dt||!dt.validEnd)return!1;for(let st=we;st<Le;st++)if(!this.type.allowsMarks(pe.child(st).marks))return!1;return!0}canReplaceWith(H,Q,pe,we){if(we&&!this.type.allowsMarks(we))return!1;let Le=this.contentMatchAt(H).matchType(pe),Ye=Le&&Le.matchFragment(this.content,Q);return Ye?Ye.validEnd:!1}canAppend(H){return H.content.size?this.canReplace(this.childCount,this.childCount,H.content):this.type.compatibleContent(H.type)}check(){this.type.checkContent(this.content);let H=y.none;for(let Q=0;Q<this.marks.length;Q++)H=this.marks[Q].addToSet(H);if(!y.sameSet(H,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(Q=>Q.type.name)}`);this.content.forEach(Q=>Q.check())}toJSON(){let H={type:this.type.name};for(let Q in this.attrs){H.attrs=this.attrs;break}return this.content.size&&(H.content=this.content.toJSON()),this.marks.length&&(H.marks=this.marks.map(Q=>Q.toJSON())),H}static fromJSON(H,Q){if(!Q)throw new RangeError("Invalid input for Node.fromJSON");let pe=null;if(Q.marks){if(!Array.isArray(Q.marks))throw new RangeError("Invalid mark data for Node.fromJSON");pe=Q.marks.map(H.markFromJSON)}if(Q.type=="text"){if(typeof Q.text!="string")throw new RangeError("Invalid text node in JSON");return H.text(Q.text,pe)}let we=_.fromJSON(H,Q.content);return H.nodeType(Q.type).create(Q.attrs,we,pe)}}G.prototype.text=void 0;class L extends G{constructor(H,Q,pe,we){if(super(H,Q,null,we),!pe)throw new RangeError("Empty text nodes are not allowed");this.text=pe}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):W(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(H,Q){return this.text.slice(H,Q)}get nodeSize(){return this.text.length}mark(H){return H==this.marks?this:new L(this.type,this.attrs,this.text,H)}withText(H){return H==this.text?this:new L(this.type,this.attrs,H,this.marks)}cut(H=0,Q=this.text.length){return H==0&&Q==this.text.length?this:this.withText(this.text.slice(H,Q))}eq(H){return this.sameMarkup(H)&&this.text==H.text}toJSON(){let H=super.toJSON();return H.text=this.text,H}}function W(Ae,H){for(let Q=Ae.length-1;Q>=0;Q--)H=Ae[Q].type.name+"("+H+")";return H}class ie{constructor(H){this.validEnd=H,this.next=[],this.wrapCache=[]}static parse(H,Q){let pe=new ue(H,Q);if(pe.next==null)return ie.empty;let we=le(pe);pe.next&&pe.err("Unexpected trailing text");let Le=_e(fe(we));return ve(Le,pe),Le}matchType(H){for(let Q=0;Q<this.next.length;Q++)if(this.next[Q].type==H)return this.next[Q].next;return null}matchFragment(H,Q=0,pe=H.childCount){let we=this;for(let Le=Q;we&&Le<pe;Le++)we=we.matchType(H.child(Le).type);return we}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let H=0;H<this.next.length;H++){let{type:Q}=this.next[H];if(!(Q.isText||Q.hasRequiredAttrs()))return Q}return null}compatible(H){for(let Q=0;Q<this.next.length;Q++)for(let pe=0;pe<H.next.length;pe++)if(this.next[Q].type==H.next[pe].type)return!0;return!1}fillBefore(H,Q=!1,pe=0){let we=[this];function Le(Ye,dt){let st=Ye.matchFragment(H,pe);if(st&&(!Q||st.validEnd))return _.from(dt.map(_t=>_t.createAndFill()));for(let _t=0;_t<Ye.next.length;_t++){let{type:Tt,next:nn}=Ye.next[_t];if(!(Tt.isText||Tt.hasRequiredAttrs())&&we.indexOf(nn)==-1){we.push(nn);let Mn=Le(nn,dt.concat(Tt));if(Mn)return Mn}}return null}return Le(this,[])}findWrapping(H){for(let pe=0;pe<this.wrapCache.length;pe+=2)if(this.wrapCache[pe]==H)return this.wrapCache[pe+1];let Q=this.computeWrapping(H);return this.wrapCache.push(H,Q),Q}computeWrapping(H){let Q=Object.create(null),pe=[{match:this,type:null,via:null}];for(;pe.length;){let we=pe.shift(),Le=we.match;if(Le.matchType(H)){let Ye=[];for(let dt=we;dt.type;dt=dt.via)Ye.push(dt.type);return Ye.reverse()}for(let Ye=0;Ye<Le.next.length;Ye++){let{type:dt,next:st}=Le.next[Ye];!dt.isLeaf&&!dt.hasRequiredAttrs()&&!(dt.name in Q)&&(!we.type||st.validEnd)&&(pe.push({match:dt.contentMatch,type:dt,via:we}),Q[dt.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(H){if(H>=this.next.length)throw new RangeError(`There's no ${H}th edge in this content match`);return this.next[H]}toString(){let H=[];function Q(pe){H.push(pe);for(let we=0;we<pe.next.length;we++)H.indexOf(pe.next[we].next)==-1&&Q(pe.next[we].next)}return Q(this),H.map((pe,we)=>{let Le=we+(pe.validEnd?"*":" ")+" ";for(let Ye=0;Ye<pe.next.length;Ye++)Le+=(Ye?", ":"")+pe.next[Ye].type.name+"->"+H.indexOf(pe.next[Ye].next);return Le}).join(`
`)}}ie.empty=new ie(!0);class ue{constructor(H,Q){this.string=H,this.nodeTypes=Q,this.inline=null,this.pos=0,this.tokens=H.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(H){return this.next==H&&(this.pos++||!0)}err(H){throw new SyntaxError(H+" (in content expression '"+this.string+"')")}}function le(Ae){let H=[];do H.push(J(Ae));while(Ae.eat("|"));return H.length==1?H[0]:{type:"choice",exprs:H}}function J(Ae){let H=[];do H.push(te(Ae));while(Ae.next&&Ae.next!=")"&&Ae.next!="|");return H.length==1?H[0]:{type:"seq",exprs:H}}function te(Ae){let H=ce(Ae);for(;;)if(Ae.eat("+"))H={type:"plus",expr:H};else if(Ae.eat("*"))H={type:"star",expr:H};else if(Ae.eat("?"))H={type:"opt",expr:H};else if(Ae.eat("{"))H=ee(Ae,H);else break;return H}function se(Ae){/\D/.test(Ae.next)&&Ae.err("Expected number, got '"+Ae.next+"'");let H=Number(Ae.next);return Ae.pos++,H}function ee(Ae,H){let Q=se(Ae),pe=Q;return Ae.eat(",")&&(Ae.next!="}"?pe=se(Ae):pe=-1),Ae.eat("}")||Ae.err("Unclosed braced range"),{type:"range",min:Q,max:pe,expr:H}}function ae(Ae,H){let Q=Ae.nodeTypes,pe=Q[H];if(pe)return[pe];let we=[];for(let Le in Q){let Ye=Q[Le];Ye.groups.indexOf(H)>-1&&we.push(Ye)}return we.length==0&&Ae.err("No node type or group '"+H+"' found"),we}function ce(Ae){if(Ae.eat("(")){let H=le(Ae);return Ae.eat(")")||Ae.err("Missing closing paren"),H}else if(/\W/.test(Ae.next))Ae.err("Unexpected token '"+Ae.next+"'");else{let H=ae(Ae,Ae.next).map(Q=>(Ae.inline==null?Ae.inline=Q.isInline:Ae.inline!=Q.isInline&&Ae.err("Mixing inline and block content"),{type:"name",value:Q}));return Ae.pos++,H.length==1?H[0]:{type:"choice",exprs:H}}}function fe(Ae){let H=[[]];return we(Le(Ae,0),Q()),H;function Q(){return H.push([])-1}function pe(Ye,dt,st){let _t={term:st,to:dt};return H[Ye].push(_t),_t}function we(Ye,dt){Ye.forEach(st=>st.to=dt)}function Le(Ye,dt){if(Ye.type=="choice")return Ye.exprs.reduce((st,_t)=>st.concat(Le(_t,dt)),[]);if(Ye.type=="seq")for(let st=0;;st++){let _t=Le(Ye.exprs[st],dt);if(st==Ye.exprs.length-1)return _t;we(_t,dt=Q())}else if(Ye.type=="star"){let st=Q();return pe(dt,st),we(Le(Ye.expr,st),st),[pe(st)]}else if(Ye.type=="plus"){let st=Q();return we(Le(Ye.expr,dt),st),we(Le(Ye.expr,st),st),[pe(st)]}else{if(Ye.type=="opt")return[pe(dt)].concat(Le(Ye.expr,dt));if(Ye.type=="range"){let st=dt;for(let _t=0;_t<Ye.min;_t++){let Tt=Q();we(Le(Ye.expr,st),Tt),st=Tt}if(Ye.max==-1)we(Le(Ye.expr,st),st);else for(let _t=Ye.min;_t<Ye.max;_t++){let Tt=Q();pe(st,Tt),we(Le(Ye.expr,st),Tt),st=Tt}return[pe(st)]}else{if(Ye.type=="name")return[pe(dt,void 0,Ye.value)];throw new Error("Unknown expr type")}}}}function Ee(Ae,H){return H-Ae}function de(Ae,H){let Q=[];return pe(H),Q.sort(Ee);function pe(we){let Le=Ae[we];if(Le.length==1&&!Le[0].term)return pe(Le[0].to);Q.push(we);for(let Ye=0;Ye<Le.length;Ye++){let{term:dt,to:st}=Le[Ye];!dt&&Q.indexOf(st)==-1&&pe(st)}}}function _e(Ae){let H=Object.create(null);return Q(de(Ae,0));function Q(pe){let we=[];pe.forEach(Ye=>{Ae[Ye].forEach(({term:dt,to:st})=>{if(!dt)return;let _t;for(let Tt=0;Tt<we.length;Tt++)we[Tt][0]==dt&&(_t=we[Tt][1]);de(Ae,st).forEach(Tt=>{_t||we.push([dt,_t=[]]),_t.indexOf(Tt)==-1&&_t.push(Tt)})})});let Le=H[pe.join(",")]=new ie(pe.indexOf(Ae.length-1)>-1);for(let Ye=0;Ye<we.length;Ye++){let dt=we[Ye][1].sort(Ee);Le.next.push({type:we[Ye][0],next:H[dt.join(",")]||Q(dt)})}return Le}}function ve(Ae,H){for(let Q=0,pe=[Ae];Q<pe.length;Q++){let we=pe[Q],Le=!we.validEnd,Ye=[];for(let dt=0;dt<we.next.length;dt++){let{type:st,next:_t}=we.next[dt];Ye.push(st.name),Le&&!(st.isText||st.hasRequiredAttrs())&&(Le=!1),pe.indexOf(_t)==-1&&pe.push(_t)}Le&&H.err("Only non-generatable nodes ("+Ye.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function De(Ae){let H=Object.create(null);for(let Q in Ae){let pe=Ae[Q];if(!pe.hasDefault)return null;H[Q]=pe.default}return H}function Oe(Ae,H){let Q=Object.create(null);for(let pe in Ae){let we=H&&H[pe];if(we===void 0){let Le=Ae[pe];if(Le.hasDefault)we=Le.default;else throw new RangeError("No value supplied for attribute "+pe)}Q[pe]=we}return Q}function ye(Ae){let H=Object.create(null);if(Ae)for(let Q in Ae)H[Q]=new Be(Ae[Q]);return H}class ze{constructor(H,Q,pe){this.name=H,this.schema=Q,this.spec=pe,this.markSet=null,this.groups=pe.group?pe.group.split(" "):[],this.attrs=ye(pe.attrs),this.defaultAttrs=De(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(pe.inline||H=="text"),this.isText=H=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ie.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let H in this.attrs)if(this.attrs[H].isRequired)return!0;return!1}compatibleContent(H){return this==H||this.contentMatch.compatible(H.contentMatch)}computeAttrs(H){return!H&&this.defaultAttrs?this.defaultAttrs:Oe(this.attrs,H)}create(H=null,Q,pe){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new G(this,this.computeAttrs(H),_.from(Q),y.setFrom(pe))}createChecked(H=null,Q,pe){return Q=_.from(Q),this.checkContent(Q),new G(this,this.computeAttrs(H),Q,y.setFrom(pe))}createAndFill(H=null,Q,pe){if(H=this.computeAttrs(H),Q=_.from(Q),Q.size){let Ye=this.contentMatch.fillBefore(Q);if(!Ye)return null;Q=Ye.append(Q)}let we=this.contentMatch.matchFragment(Q),Le=we&&we.fillBefore(_.empty,!0);return Le?new G(this,H,Q.append(Le),y.setFrom(pe)):null}validContent(H){let Q=this.contentMatch.matchFragment(H);if(!Q||!Q.validEnd)return!1;for(let pe=0;pe<H.childCount;pe++)if(!this.allowsMarks(H.child(pe).marks))return!1;return!0}checkContent(H){if(!this.validContent(H))throw new RangeError(`Invalid content for node ${this.name}: ${H.toString().slice(0,50)}`)}allowsMarkType(H){return this.markSet==null||this.markSet.indexOf(H)>-1}allowsMarks(H){if(this.markSet==null)return!0;for(let Q=0;Q<H.length;Q++)if(!this.allowsMarkType(H[Q].type))return!1;return!0}allowedMarks(H){if(this.markSet==null)return H;let Q;for(let pe=0;pe<H.length;pe++)this.allowsMarkType(H[pe].type)?Q&&Q.push(H[pe]):Q||(Q=H.slice(0,pe));return Q?Q.length?Q:y.none:H}static compile(H,Q){let pe=Object.create(null);H.forEach((Le,Ye)=>pe[Le]=new ze(Le,Q,Ye));let we=Q.spec.topNode||"doc";if(!pe[we])throw new RangeError("Schema is missing its top node type ('"+we+"')");if(!pe.text)throw new RangeError("Every schema needs a 'text' type");for(let Le in pe.text.attrs)throw new RangeError("The text node type should not have attributes");return pe}}class Be{constructor(H){this.hasDefault=Object.prototype.hasOwnProperty.call(H,"default"),this.default=H.default}get isRequired(){return!this.hasDefault}}class We{constructor(H,Q,pe,we){this.name=H,this.rank=Q,this.schema=pe,this.spec=we,this.attrs=ye(we.attrs),this.excluded=null;let Le=De(this.attrs);this.instance=Le?new y(this,Le):null}create(H=null){return!H&&this.instance?this.instance:new y(this,Oe(this.attrs,H))}static compile(H,Q){let pe=Object.create(null),we=0;return H.forEach((Le,Ye)=>pe[Le]=new We(Le,we++,Q,Ye)),pe}removeFromSet(H){for(var Q=0;Q<H.length;Q++)H[Q].type==this&&(H=H.slice(0,Q).concat(H.slice(Q+1)),Q--);return H}isInSet(H){for(let Q=0;Q<H.length;Q++)if(H[Q].type==this)return H[Q]}excludes(H){return this.excluded.indexOf(H)>-1}}class Ke{constructor(H){this.cached=Object.create(null);let Q=this.spec={};for(let we in H)Q[we]=H[we];Q.nodes=f.from(H.nodes),Q.marks=f.from(H.marks||{}),this.nodes=ze.compile(this.spec.nodes,this),this.marks=We.compile(this.spec.marks,this);let pe=Object.create(null);for(let we in this.nodes){if(we in this.marks)throw new RangeError(we+" can not be both a node and a mark");let Le=this.nodes[we],Ye=Le.spec.content||"",dt=Le.spec.marks;Le.contentMatch=pe[Ye]||(pe[Ye]=ie.parse(Ye,this.nodes)),Le.inlineContent=Le.contentMatch.inlineContent,Le.markSet=dt=="_"?null:dt?Xe(this,dt.split(" ")):dt==""||!Le.inlineContent?[]:null}for(let we in this.marks){let Le=this.marks[we],Ye=Le.spec.excludes;Le.excluded=Ye==null?[Le]:Ye==""?[]:Xe(this,Ye.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(H,Q=null,pe,we){if(typeof H=="string")H=this.nodeType(H);else if(H instanceof ze){if(H.schema!=this)throw new RangeError("Node type from different schema used ("+H.name+")")}else throw new RangeError("Invalid node type: "+H);return H.createChecked(Q,pe,we)}text(H,Q){let pe=this.nodes.text;return new L(pe,pe.defaultAttrs,H,y.setFrom(Q))}mark(H,Q){return typeof H=="string"&&(H=this.marks[H]),H.create(Q)}nodeFromJSON(H){return G.fromJSON(this,H)}markFromJSON(H){return y.fromJSON(this,H)}nodeType(H){let Q=this.nodes[H];if(!Q)throw new RangeError("Unknown node type: "+H);return Q}}function Xe(Ae,H){let Q=[];for(let pe=0;pe<H.length;pe++){let we=H[pe],Le=Ae.marks[we],Ye=Le;if(Le)Q.push(Le);else for(let dt in Ae.marks){let st=Ae.marks[dt];(we=="_"||st.spec.group&&st.spec.group.split(" ").indexOf(we)>-1)&&Q.push(Ye=st)}if(!Ye)throw new SyntaxError("Unknown mark type: '"+H[pe]+"'")}return Q}class ct{constructor(H,Q){this.schema=H,this.rules=Q,this.tags=[],this.styles=[],Q.forEach(pe=>{pe.tag?this.tags.push(pe):pe.style&&this.styles.push(pe)}),this.normalizeLists=!this.tags.some(pe=>{if(!/^(ul|ol)\b/.test(pe.tag)||!pe.node)return!1;let we=H.nodes[pe.node];return we.contentMatch.matchType(we)})}parse(H,Q={}){let pe=new en(this,Q,!1);return pe.addAll(H,Q.from,Q.to),pe.finish()}parseSlice(H,Q={}){let pe=new en(this,Q,!0);return pe.addAll(H,Q.from,Q.to),w.maxOpen(pe.finish())}matchTag(H,Q,pe){for(let we=pe?this.tags.indexOf(pe)+1:0;we<this.tags.length;we++){let Le=this.tags[we];if(Re(H,Le.tag)&&(Le.namespace===void 0||H.namespaceURI==Le.namespace)&&(!Le.context||Q.matchesContext(Le.context))){if(Le.getAttrs){let Ye=Le.getAttrs(H);if(Ye===!1)continue;Le.attrs=Ye||void 0}return Le}}}matchStyle(H,Q,pe,we){for(let Le=we?this.styles.indexOf(we)+1:0;Le<this.styles.length;Le++){let Ye=this.styles[Le],dt=Ye.style;if(!(dt.indexOf(H)!=0||Ye.context&&!pe.matchesContext(Ye.context)||dt.length>H.length&&(dt.charCodeAt(H.length)!=61||dt.slice(H.length+1)!=Q))){if(Ye.getAttrs){let st=Ye.getAttrs(Q);if(st===!1)continue;Ye.attrs=st||void 0}return Ye}}}static schemaRules(H){let Q=[];function pe(we){let Le=we.priority==null?50:we.priority,Ye=0;for(;Ye<Q.length;Ye++){let dt=Q[Ye];if((dt.priority==null?50:dt.priority)<Le)break}Q.splice(Ye,0,we)}for(let we in H.marks){let Le=H.marks[we].spec.parseDOM;Le&&Le.forEach(Ye=>{pe(Ye=ot(Ye)),Ye.mark||Ye.ignore||Ye.clearMark||(Ye.mark=we)})}for(let we in H.nodes){let Le=H.nodes[we].spec.parseDOM;Le&&Le.forEach(Ye=>{pe(Ye=ot(Ye)),Ye.node||Ye.ignore||Ye.mark||(Ye.node=we)})}return Q}static fromSchema(H){return H.cached.domParser||(H.cached.domParser=new ct(H,ct.schemaRules(H)))}}const Se={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Qe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ge={ol:!0,ul:!0},Fe=1,Ne=2,lt=4;function Et(Ae,H,Q){return H!=null?(H?Fe:0)|(H==="full"?Ne:0):Ae&&Ae.whitespace=="pre"?Fe|Ne:Q&~lt}class jt{constructor(H,Q,pe,we,Le,Ye,dt){this.type=H,this.attrs=Q,this.marks=pe,this.pendingMarks=we,this.solid=Le,this.options=dt,this.content=[],this.activeMarks=y.none,this.stashMarks=[],this.match=Ye||(dt&lt?null:H.contentMatch)}findWrapping(H){if(!this.match){if(!this.type)return[];let Q=this.type.contentMatch.fillBefore(_.from(H));if(Q)this.match=this.type.contentMatch.matchFragment(Q);else{let pe=this.type.contentMatch,we;return(we=pe.findWrapping(H.type))?(this.match=pe,we):null}}return this.match.findWrapping(H.type)}finish(H){if(!(this.options&Fe)){let pe=this.content[this.content.length-1],we;if(pe&&pe.isText&&(we=/[ \t\r\n\u000c]+$/.exec(pe.text))){let Le=pe;pe.text.length==we[0].length?this.content.pop():this.content[this.content.length-1]=Le.withText(Le.text.slice(0,Le.text.length-we[0].length))}}let Q=_.from(this.content);return!H&&this.match&&(Q=Q.append(this.match.fillBefore(_.empty,!0))),this.type?this.type.create(this.attrs,Q,this.marks):Q}popFromStashMark(H){for(let Q=this.stashMarks.length-1;Q>=0;Q--)if(H.eq(this.stashMarks[Q]))return this.stashMarks.splice(Q,1)[0]}applyPending(H){for(let Q=0,pe=this.pendingMarks;Q<pe.length;Q++){let we=pe[Q];(this.type?this.type.allowsMarkType(we.type):me(we.type,H))&&!we.isInSet(this.activeMarks)&&(this.activeMarks=we.addToSet(this.activeMarks),this.pendingMarks=we.removeFromSet(this.pendingMarks))}}inlineContext(H){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:H.parentNode&&!Se.hasOwnProperty(H.parentNode.nodeName.toLowerCase())}}class en{constructor(H,Q,pe){this.parser=H,this.options=Q,this.isOpen=pe,this.open=0;let we=Q.topNode,Le,Ye=Et(null,Q.preserveWhitespace,0)|(pe?lt:0);we?Le=new jt(we.type,we.attrs,y.none,y.none,!0,Q.topMatch||we.type.contentMatch,Ye):pe?Le=new jt(null,null,y.none,y.none,!0,null,Ye):Le=new jt(H.schema.topNodeType,null,y.none,y.none,!0,null,Ye),this.nodes=[Le],this.find=Q.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(H){if(H.nodeType==3)this.addTextNode(H);else if(H.nodeType==1){let Q=H.getAttribute("style");if(!Q)this.addElement(H);else{let pe=this.readStyles(He(Q));if(!pe)return;let[we,Le]=pe,Ye=this.top;for(let dt=0;dt<Le.length;dt++)this.removePendingMark(Le[dt],Ye);for(let dt=0;dt<we.length;dt++)this.addPendingMark(we[dt]);this.addElement(H);for(let dt=0;dt<we.length;dt++)this.removePendingMark(we[dt],Ye);for(let dt=0;dt<Le.length;dt++)this.addPendingMark(Le[dt])}}}addTextNode(H){let Q=H.nodeValue,pe=this.top;if(pe.options&Ne||pe.inlineContext(H)||/[^ \t\r\n\u000c]/.test(Q)){if(pe.options&Fe)pe.options&Ne?Q=Q.replace(/\r\n?/g,`
`):Q=Q.replace(/\r?\n|\r/g," ");else if(Q=Q.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(Q)&&this.open==this.nodes.length-1){let we=pe.content[pe.content.length-1],Le=H.previousSibling;(!we||Le&&Le.nodeName=="BR"||we.isText&&/[ \t\r\n\u000c]$/.test(we.text))&&(Q=Q.slice(1))}Q&&this.insertNode(this.parser.schema.text(Q)),this.findInText(H)}else this.findInside(H)}addElement(H,Q){let pe=H.nodeName.toLowerCase(),we;ge.hasOwnProperty(pe)&&this.parser.normalizeLists&&vt(H);let Le=this.options.ruleFromNode&&this.options.ruleFromNode(H)||(we=this.parser.matchTag(H,this,Q));if(Le?Le.ignore:Qe.hasOwnProperty(pe))this.findInside(H),this.ignoreFallback(H);else if(!Le||Le.skip||Le.closeParent){Le&&Le.closeParent?this.open=Math.max(0,this.open-1):Le&&Le.skip.nodeType&&(H=Le.skip);let Ye,dt=this.top,st=this.needsBlock;if(Se.hasOwnProperty(pe))dt.content.length&&dt.content[0].isInline&&this.open&&(this.open--,dt=this.top),Ye=!0,dt.type||(this.needsBlock=!0);else if(!H.firstChild){this.leafFallback(H);return}this.addAll(H),Ye&&this.sync(dt),this.needsBlock=st}else this.addElementByRule(H,Le,Le.consuming===!1?we:void 0)}leafFallback(H){H.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(H.ownerDocument.createTextNode(`
`))}ignoreFallback(H){H.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(H){let Q=y.none,pe=y.none;e:for(let we=0;we<H.length;we+=2)for(let Le=void 0;;){let Ye=this.parser.matchStyle(H[we],H[we+1],this,Le);if(!Ye)continue e;if(Ye.ignore)return null;if(Ye.clearMark?this.top.pendingMarks.forEach(dt=>{Ye.clearMark(dt)&&(pe=dt.addToSet(pe))}):Q=this.parser.schema.marks[Ye.mark].create(Ye.attrs).addToSet(Q),Ye.consuming===!1)Le=Ye;else break}return[Q,pe]}addElementByRule(H,Q,pe){let we,Le,Ye;Q.node?(Le=this.parser.schema.nodes[Q.node],Le.isLeaf?this.insertNode(Le.create(Q.attrs))||this.leafFallback(H):we=this.enter(Le,Q.attrs||null,Q.preserveWhitespace)):(Ye=this.parser.schema.marks[Q.mark].create(Q.attrs),this.addPendingMark(Ye));let dt=this.top;if(Le&&Le.isLeaf)this.findInside(H);else if(pe)this.addElement(H,pe);else if(Q.getContent)this.findInside(H),Q.getContent(H,this.parser.schema).forEach(st=>this.insertNode(st));else{let st=H;typeof Q.contentElement=="string"?st=H.querySelector(Q.contentElement):typeof Q.contentElement=="function"?st=Q.contentElement(H):Q.contentElement&&(st=Q.contentElement),this.findAround(H,st,!0),this.addAll(st)}we&&this.sync(dt)&&this.open--,Ye&&this.removePendingMark(Ye,dt)}addAll(H,Q,pe){let we=Q||0;for(let Le=Q?H.childNodes[Q]:H.firstChild,Ye=pe==null?null:H.childNodes[pe];Le!=Ye;Le=Le.nextSibling,++we)this.findAtPoint(H,we),this.addDOM(Le);this.findAtPoint(H,we)}findPlace(H){let Q,pe;for(let we=this.open;we>=0;we--){let Le=this.nodes[we],Ye=Le.findWrapping(H);if(Ye&&(!Q||Q.length>Ye.length)&&(Q=Ye,pe=Le,!Ye.length)||Le.solid)break}if(!Q)return!1;this.sync(pe);for(let we=0;we<Q.length;we++)this.enterInner(Q[we],null,!1);return!0}insertNode(H){if(H.isInline&&this.needsBlock&&!this.top.type){let Q=this.textblockFromContext();Q&&this.enterInner(Q)}if(this.findPlace(H)){this.closeExtra();let Q=this.top;Q.applyPending(H.type),Q.match&&(Q.match=Q.match.matchType(H.type));let pe=Q.activeMarks;for(let we=0;we<H.marks.length;we++)(!Q.type||Q.type.allowsMarkType(H.marks[we].type))&&(pe=H.marks[we].addToSet(pe));return Q.content.push(H.mark(pe)),!0}return!1}enter(H,Q,pe){let we=this.findPlace(H.create(Q));return we&&this.enterInner(H,Q,!0,pe),we}enterInner(H,Q=null,pe=!1,we){this.closeExtra();let Le=this.top;Le.applyPending(H),Le.match=Le.match&&Le.match.matchType(H);let Ye=Et(H,we,Le.options);Le.options&lt&&Le.content.length==0&&(Ye|=lt),this.nodes.push(new jt(H,Q,Le.activeMarks,Le.pendingMarks,pe,null,Ye)),this.open++}closeExtra(H=!1){let Q=this.nodes.length-1;if(Q>this.open){for(;Q>this.open;Q--)this.nodes[Q-1].content.push(this.nodes[Q].finish(H));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(H){for(let Q=this.open;Q>=0;Q--)if(this.nodes[Q]==H)return this.open=Q,!0;return!1}get currentPos(){this.closeExtra();let H=0;for(let Q=this.open;Q>=0;Q--){let pe=this.nodes[Q].content;for(let we=pe.length-1;we>=0;we--)H+=pe[we].nodeSize;Q&&H++}return H}findAtPoint(H,Q){if(this.find)for(let pe=0;pe<this.find.length;pe++)this.find[pe].node==H&&this.find[pe].offset==Q&&(this.find[pe].pos=this.currentPos)}findInside(H){if(this.find)for(let Q=0;Q<this.find.length;Q++)this.find[Q].pos==null&&H.nodeType==1&&H.contains(this.find[Q].node)&&(this.find[Q].pos=this.currentPos)}findAround(H,Q,pe){if(H!=Q&&this.find)for(let we=0;we<this.find.length;we++)this.find[we].pos==null&&H.nodeType==1&&H.contains(this.find[we].node)&&Q.compareDocumentPosition(this.find[we].node)&(pe?2:4)&&(this.find[we].pos=this.currentPos)}findInText(H){if(this.find)for(let Q=0;Q<this.find.length;Q++)this.find[Q].node==H&&(this.find[Q].pos=this.currentPos-(H.nodeValue.length-this.find[Q].offset))}matchesContext(H){if(H.indexOf("|")>-1)return H.split(/\s*\|\s*/).some(this.matchesContext,this);let Q=H.split("/"),pe=this.options.context,we=!this.isOpen&&(!pe||pe.parent.type==this.nodes[0].type),Le=-(pe?pe.depth+1:0)+(we?0:1),Ye=(dt,st)=>{for(;dt>=0;dt--){let _t=Q[dt];if(_t==""){if(dt==Q.length-1||dt==0)continue;for(;st>=Le;st--)if(Ye(dt-1,st))return!0;return!1}else{let Tt=st>0||st==0&&we?this.nodes[st].type:pe&&st>=Le?pe.node(st-Le).type:null;if(!Tt||Tt.name!=_t&&Tt.groups.indexOf(_t)==-1)return!1;st--}}return!0};return Ye(Q.length-1,this.open)}textblockFromContext(){let H=this.options.context;if(H)for(let Q=H.depth;Q>=0;Q--){let pe=H.node(Q).contentMatchAt(H.indexAfter(Q)).defaultType;if(pe&&pe.isTextblock&&pe.defaultAttrs)return pe}for(let Q in this.parser.schema.nodes){let pe=this.parser.schema.nodes[Q];if(pe.isTextblock&&pe.defaultAttrs)return pe}}addPendingMark(H){let Q=ke(H,this.top.pendingMarks);Q&&this.top.stashMarks.push(Q),this.top.pendingMarks=H.addToSet(this.top.pendingMarks)}removePendingMark(H,Q){for(let pe=this.open;pe>=0;pe--){let we=this.nodes[pe];if(we.pendingMarks.lastIndexOf(H)>-1)we.pendingMarks=H.removeFromSet(we.pendingMarks);else{we.activeMarks=H.removeFromSet(we.activeMarks);let Ye=we.popFromStashMark(H);Ye&&we.type&&we.type.allowsMarkType(Ye.type)&&(we.activeMarks=Ye.addToSet(we.activeMarks))}if(we==Q)break}}}function vt(Ae){for(let H=Ae.firstChild,Q=null;H;H=H.nextSibling){let pe=H.nodeType==1?H.nodeName.toLowerCase():null;pe&&ge.hasOwnProperty(pe)&&Q?(Q.appendChild(H),H=Q):pe=="li"?Q=H:pe&&(Q=null)}}function Re(Ae,H){return(Ae.matches||Ae.msMatchesSelector||Ae.webkitMatchesSelector||Ae.mozMatchesSelector).call(Ae,H)}function He(Ae){let H=/\s*([\w-]+)\s*:\s*([^;]+)/g,Q,pe=[];for(;Q=H.exec(Ae);)pe.push(Q[1],Q[2].trim());return pe}function ot(Ae){let H={};for(let Q in Ae)H[Q]=Ae[Q];return H}function me(Ae,H){let Q=H.schema.nodes;for(let pe in Q){let we=Q[pe];if(!we.allowsMarkType(Ae))continue;let Le=[],Ye=dt=>{Le.push(dt);for(let st=0;st<dt.edgeCount;st++){let{type:_t,next:Tt}=dt.edge(st);if(_t==H||Le.indexOf(Tt)<0&&Ye(Tt))return!0}};if(Ye(we.contentMatch))return!0}}function ke(Ae,H){for(let Q=0;Q<H.length;Q++)if(Ae.eq(H[Q]))return H[Q]}class je{constructor(H,Q){this.nodes=H,this.marks=Q}serializeFragment(H,Q={},pe){pe||(pe=tt(Q).createDocumentFragment());let we=pe,Le=[];return H.forEach(Ye=>{if(Le.length||Ye.marks.length){let dt=0,st=0;for(;dt<Le.length&&st<Ye.marks.length;){let _t=Ye.marks[st];if(!this.marks[_t.type.name]){st++;continue}if(!_t.eq(Le[dt][0])||_t.type.spec.spanning===!1)break;dt++,st++}for(;dt<Le.length;)we=Le.pop()[1];for(;st<Ye.marks.length;){let _t=Ye.marks[st++],Tt=this.serializeMark(_t,Ye.isInline,Q);Tt&&(Le.push([_t,we]),we.appendChild(Tt.dom),we=Tt.contentDOM||Tt.dom)}}we.appendChild(this.serializeNodeInner(Ye,Q))}),pe}serializeNodeInner(H,Q){let{dom:pe,contentDOM:we}=je.renderSpec(tt(Q),this.nodes[H.type.name](H));if(we){if(H.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(H.content,Q,we)}return pe}serializeNode(H,Q={}){let pe=this.serializeNodeInner(H,Q);for(let we=H.marks.length-1;we>=0;we--){let Le=this.serializeMark(H.marks[we],H.isInline,Q);Le&&((Le.contentDOM||Le.dom).appendChild(pe),pe=Le.dom)}return pe}serializeMark(H,Q,pe={}){let we=this.marks[H.type.name];return we&&je.renderSpec(tt(pe),we(H,Q))}static renderSpec(H,Q,pe=null){if(typeof Q=="string")return{dom:H.createTextNode(Q)};if(Q.nodeType!=null)return{dom:Q};if(Q.dom&&Q.dom.nodeType!=null)return Q;let we=Q[0],Le=we.indexOf(" ");Le>0&&(pe=we.slice(0,Le),we=we.slice(Le+1));let Ye,dt=pe?H.createElementNS(pe,we):H.createElement(we),st=Q[1],_t=1;if(st&&typeof st=="object"&&st.nodeType==null&&!Array.isArray(st)){_t=2;for(let Tt in st)if(st[Tt]!=null){let nn=Tt.indexOf(" ");nn>0?dt.setAttributeNS(Tt.slice(0,nn),Tt.slice(nn+1),st[Tt]):dt.setAttribute(Tt,st[Tt])}}for(let Tt=_t;Tt<Q.length;Tt++){let nn=Q[Tt];if(nn===0){if(Tt<Q.length-1||Tt>_t)throw new RangeError("Content hole must be the only child of its parent node");return{dom:dt,contentDOM:dt}}else{let{dom:Mn,contentDOM:tr}=je.renderSpec(H,nn,pe);if(dt.appendChild(Mn),tr){if(Ye)throw new RangeError("Multiple content holes");Ye=tr}}}return{dom:dt,contentDOM:Ye}}static fromSchema(H){return H.cached.domSerializer||(H.cached.domSerializer=new je(this.nodesFromSchema(H),this.marksFromSchema(H)))}static nodesFromSchema(H){let Q=Je(H.nodes);return Q.text||(Q.text=pe=>pe.text),Q}static marksFromSchema(H){return Je(H.marks)}}function Je(Ae){let H={};for(let Q in Ae){let pe=Ae[Q].spec.toDOM;pe&&(H[Q]=pe)}return H}function tt(Ae){return Ae.document||window.document}},53833:(z,l,e)=>{"use strict";e.d(l,{IB:()=>p,KI:()=>w,bw:()=>P});var o=e(16560),f=e(87823);const u=["ol",0],c=["ul",0],_=["li",0],g={attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs(C){return{order:C.hasAttribute("start")?+C.getAttribute("start"):1}}}],toDOM(C){return C.attrs.order==1?u:["ol",{start:C.attrs.order},0]}},E={parseDOM:[{tag:"ul"}],toDOM(){return c}},v={parseDOM:[{tag:"li"}],toDOM(){return _},defining:!0};function y(C,D){let A={};for(let x in C)A[x]=C[x];for(let x in D)A[x]=D[x];return A}function T(C,D,A){return C.append({ordered_list:y(g,{content:"list_item+",group:A}),bullet_list:y(E,{content:"list_item+",group:A}),list_item:y(v,{content:D})})}function w(C,D=null){return function(A,x){let{$from:I,$to:N}=A.selection,F=I.blockRange(N),B=!1,V=F;if(!F)return!1;if(F.depth>=2&&I.node(F.depth-1).type.compatibleContent(C)&&F.startIndex==0){if(I.index(F.depth-1)==0)return!1;let Y=A.doc.resolve(F.start-2);V=new f.Ts(Y,Y,F.depth),F.endIndex<F.parent.childCount&&(F=new f.Ts(I,A.doc.resolve(N.end(F.depth)),F.depth)),B=!0}let Z=(0,o.nd)(V,C,D,F);return Z?(x&&x(S(A.tr,F,Z,B,C).scrollIntoView()),!0):!1}}function S(C,D,A,x,I){let N=f.HY.empty;for(let Y=A.length-1;Y>=0;Y--)N=f.HY.from(A[Y].type.create(A[Y].attrs,N));C.step(new o.FC(D.start-(x?2:0),D.end,D.start,D.end,new f.p2(N,0,0),A.length,!0));let F=0;for(let Y=0;Y<A.length;Y++)A[Y].type==I&&(F=Y+1);let B=A.length-F,V=D.start+A.length-(x?2:0),Z=D.parent;for(let Y=D.startIndex,ne=D.endIndex,G=!0;Y<ne;Y++,G=!1)!G&&(0,o.Ax)(C.doc,V,B)&&(C.split(V,B),V+=2*B),V+=Z.child(Y).nodeSize;return C}function O(C){return function(D,A){let{$from:x,$to:I,node:N}=D.selection;if(N&&N.isBlock||x.depth<2||!x.sameParent(I))return!1;let F=x.node(-1);if(F.type!=C)return!1;if(x.parent.content.size==0&&x.node(-1).childCount==x.indexAfter(-1)){if(x.depth==3||x.node(-3).type!=C||x.index(-2)!=x.node(-2).childCount-1)return!1;if(A){let Y=Fragment.empty,ne=x.index(-1)?1:x.index(-2)?2:3;for(let ue=x.depth-ne;ue>=x.depth-3;ue--)Y=Fragment.from(x.node(ue).copy(Y));let G=x.indexAfter(-1)<x.node(-2).childCount?1:x.indexAfter(-2)<x.node(-3).childCount?2:3;Y=Y.append(Fragment.from(C.createAndFill()));let L=x.before(x.depth-(ne-1)),W=D.tr.replace(L,x.after(-G),new Slice(Y,4-ne,0)),ie=-1;W.doc.nodesBetween(L,W.doc.content.size,(ue,le)=>{if(ie>-1)return!1;ue.isTextblock&&ue.content.size==0&&(ie=le+1)}),ie>-1&&W.setSelection(Selection.near(W.doc.resolve(ie))),A(W.scrollIntoView())}return!0}let B=I.pos==x.end()?F.contentMatchAt(0).defaultType:null,V=D.tr.delete(x.pos,I.pos),Z=B?[null,{type:B}]:void 0;return canSplit(V.doc,x.pos,2,Z)?(A&&A(V.split(x.pos,2,Z).scrollIntoView()),!0):!1}}function p(C){return function(D,A){let{$from:x,$to:I}=D.selection,N=x.blockRange(I,F=>F.childCount>0&&F.firstChild.type==C);return N?A?x.node(N.depth-1).type==C?d(D,A,C,N):a(D,A,N):!0:!1}}function d(C,D,A,x){let I=C.tr,N=x.end,F=x.$to.end(x.depth);N<F&&(I.step(new o.FC(N-1,F,N,F,new f.p2(f.HY.from(A.create(null,x.parent.copy())),1,0),1,!0)),x=new f.Ts(I.doc.resolve(x.$from.pos),I.doc.resolve(F),x.depth));const B=(0,o.k9)(x);if(B==null)return!1;I.lift(x,B);let V=I.mapping.map(N,-1)-1;return(0,o.Mn)(I.doc,V)&&I.join(V),D(I.scrollIntoView()),!0}function a(C,D,A){let x=C.tr,I=A.parent;for(let L=A.end,W=A.endIndex-1,ie=A.startIndex;W>ie;W--)L-=I.child(W).nodeSize,x.delete(L-1,L+1);let N=x.doc.resolve(A.start),F=N.nodeAfter;if(x.mapping.map(A.end)!=A.start+N.nodeAfter.nodeSize)return!1;let B=A.startIndex==0,V=A.endIndex==I.childCount,Z=N.node(-1),Y=N.index(-1);if(!Z.canReplace(Y+(B?0:1),Y+1,F.content.append(V?f.HY.empty:f.HY.from(I))))return!1;let ne=N.pos,G=ne+F.nodeSize;return x.step(new o.FC(ne-(B?1:0),G+(V?1:0),ne+1,G-1,new f.p2((B?f.HY.empty:f.HY.from(I.copy(f.HY.empty))).append(V?f.HY.empty:f.HY.from(I.copy(f.HY.empty))),B?0:1,V?0:1),B?0:1)),D(x.scrollIntoView()),!0}function P(C){return function(D,A){let{$from:x,$to:I}=D.selection,N=x.blockRange(I,Z=>Z.childCount>0&&Z.firstChild.type==C);if(!N)return!1;let F=N.startIndex;if(F==0)return!1;let B=N.parent,V=B.child(F-1);if(V.type!=C)return!1;if(A){let Z=V.lastChild&&V.lastChild.type==B.type,Y=f.HY.from(Z?C.create():null),ne=new f.p2(f.HY.from(C.create(null,f.HY.from(B.type.create(null,Y)))),Z?3:1,0),G=N.start,L=N.end;A(D.tr.step(new o.FC(G-(Z?3:1),L,G,L,ne,1,!0)).scrollIntoView())}return!0}}},2376:(z,l,e)=>{"use strict";e.d(l,{Bs:()=>v,C1:()=>S,H$:()=>ne,Sy:()=>V,Y1:()=>c,qv:()=>T,yy:()=>F});var o=e(87823),f=e(16560);const u=Object.create(null);class c{constructor(L,W,ie){this.$anchor=L,this.$head=W,this.ranges=ie||[new _(L.min(W),L.max(W))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let L=this.ranges;for(let W=0;W<L.length;W++)if(L[W].$from.pos!=L[W].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(L,W=o.p2.empty){let ie=W.content.lastChild,ue=null;for(let te=0;te<W.openEnd;te++)ue=ie,ie=ie.lastChild;let le=L.steps.length,J=this.ranges;for(let te=0;te<J.length;te++){let{$from:se,$to:ee}=J[te],ae=L.mapping.slice(le);L.replaceRange(ae.map(se.pos),ae.map(ee.pos),te?o.p2.empty:W),te==0&&d(L,le,(ie?ie.isInline:ue&&ue.isTextblock)?-1:1)}}replaceWith(L,W){let ie=L.steps.length,ue=this.ranges;for(let le=0;le<ue.length;le++){let{$from:J,$to:te}=ue[le],se=L.mapping.slice(ie),ee=se.map(J.pos),ae=se.map(te.pos);le?L.deleteRange(ee,ae):(L.replaceRangeWith(ee,ae,W),d(L,ie,W.isInline?-1:1))}}static findFrom(L,W,ie=!1){let ue=L.parent.inlineContent?new v(L):p(L.node(0),L.parent,L.pos,L.index(),W,ie);if(ue)return ue;for(let le=L.depth-1;le>=0;le--){let J=W<0?p(L.node(0),L.node(le),L.before(le+1),L.index(le),W,ie):p(L.node(0),L.node(le),L.after(le+1),L.index(le)+1,W,ie);if(J)return J}return null}static near(L,W=1){return this.findFrom(L,W)||this.findFrom(L,-W)||new S(L.node(0))}static atStart(L){return p(L,L,0,0,1)||new S(L)}static atEnd(L){return p(L,L,L.content.size,L.childCount,-1)||new S(L)}static fromJSON(L,W){if(!W||!W.type)throw new RangeError("Invalid input for Selection.fromJSON");let ie=u[W.type];if(!ie)throw new RangeError(`No selection type ${W.type} defined`);return ie.fromJSON(L,W)}static jsonID(L,W){if(L in u)throw new RangeError("Duplicate use of selection JSON ID "+L);return u[L]=W,W.prototype.jsonID=L,W}getBookmark(){return v.between(this.$anchor,this.$head).getBookmark()}}c.prototype.visible=!0;class _{constructor(L,W){this.$from=L,this.$to=W}}let g=!1;function E(G){!g&&!G.parent.inlineContent&&(g=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+G.parent.type.name+")"))}class v extends c{constructor(L,W=L){E(L),E(W),super(L,W)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(L,W){let ie=L.resolve(W.map(this.head));if(!ie.parent.inlineContent)return c.near(ie);let ue=L.resolve(W.map(this.anchor));return new v(ue.parent.inlineContent?ue:ie,ie)}replace(L,W=o.p2.empty){if(super.replace(L,W),W==o.p2.empty){let ie=this.$from.marksAcross(this.$to);ie&&L.ensureMarks(ie)}}eq(L){return L instanceof v&&L.anchor==this.anchor&&L.head==this.head}getBookmark(){return new y(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(L,W){if(typeof W.anchor!="number"||typeof W.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new v(L.resolve(W.anchor),L.resolve(W.head))}static create(L,W,ie=W){let ue=L.resolve(W);return new this(ue,ie==W?ue:L.resolve(ie))}static between(L,W,ie){let ue=L.pos-W.pos;if((!ie||ue)&&(ie=ue>=0?1:-1),!W.parent.inlineContent){let le=c.findFrom(W,ie,!0)||c.findFrom(W,-ie,!0);if(le)W=le.$head;else return c.near(W,ie)}return L.parent.inlineContent||(ue==0?L=W:(L=(c.findFrom(L,-ie,!0)||c.findFrom(L,ie,!0)).$anchor,L.pos<W.pos!=ue<0&&(L=W))),new v(L,W)}}c.jsonID("text",v);class y{constructor(L,W){this.anchor=L,this.head=W}map(L){return new y(L.map(this.anchor),L.map(this.head))}resolve(L){return v.between(L.resolve(this.anchor),L.resolve(this.head))}}class T extends c{constructor(L){let W=L.nodeAfter,ie=L.node(0).resolve(L.pos+W.nodeSize);super(L,ie),this.node=W}map(L,W){let{deleted:ie,pos:ue}=W.mapResult(this.anchor),le=L.resolve(ue);return ie?c.near(le):new T(le)}content(){return new o.p2(o.HY.from(this.node),0,0)}eq(L){return L instanceof T&&L.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new w(this.anchor)}static fromJSON(L,W){if(typeof W.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new T(L.resolve(W.anchor))}static create(L,W){return new T(L.resolve(W))}static isSelectable(L){return!L.isText&&L.type.spec.selectable!==!1}}T.prototype.visible=!1,c.jsonID("node",T);class w{constructor(L){this.anchor=L}map(L){let{deleted:W,pos:ie}=L.mapResult(this.anchor);return W?new y(ie,ie):new w(ie)}resolve(L){let W=L.resolve(this.anchor),ie=W.nodeAfter;return ie&&T.isSelectable(ie)?new T(W):c.near(W)}}class S extends c{constructor(L){super(L.resolve(0),L.resolve(L.content.size))}replace(L,W=o.p2.empty){if(W==o.p2.empty){L.delete(0,L.doc.content.size);let ie=c.atStart(L.doc);ie.eq(L.selection)||L.setSelection(ie)}else super.replace(L,W)}toJSON(){return{type:"all"}}static fromJSON(L){return new S(L)}map(L){return new S(L)}eq(L){return L instanceof S}getBookmark(){return O}}c.jsonID("all",S);const O={map(){return this},resolve(G){return new S(G)}};function p(G,L,W,ie,ue,le=!1){if(L.inlineContent)return v.create(G,W);for(let J=ie-(ue>0?0:1);ue>0?J<L.childCount:J>=0;J+=ue){let te=L.child(J);if(te.isAtom){if(!le&&T.isSelectable(te))return T.create(G,W-(ue<0?te.nodeSize:0))}else{let se=p(G,te,W+ue,ue<0?te.childCount:0,ue,le);if(se)return se}W+=te.nodeSize*ue}return null}function d(G,L,W){let ie=G.steps.length-1;if(ie<L)return;let ue=G.steps[ie];if(!(ue instanceof f.Pu||ue instanceof f.FC))return;let le=G.mapping.maps[ie],J;le.forEach((te,se,ee,ae)=>{J==null&&(J=ae)}),G.setSelection(c.near(G.doc.resolve(J),W))}const a=1,P=2,C=4;class D extends f.wx{constructor(L){super(L.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=L.selection,this.storedMarks=L.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(L){if(L.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=L,this.curSelectionFor=this.steps.length,this.updated=(this.updated|a)&~P,this.storedMarks=null,this}get selectionSet(){return(this.updated&a)>0}setStoredMarks(L){return this.storedMarks=L,this.updated|=P,this}ensureMarks(L){return o.vc.sameSet(this.storedMarks||this.selection.$from.marks(),L)||this.setStoredMarks(L),this}addStoredMark(L){return this.ensureMarks(L.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(L){return this.ensureMarks(L.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&P)>0}addStep(L,W){super.addStep(L,W),this.updated=this.updated&~P,this.storedMarks=null}setTime(L){return this.time=L,this}replaceSelection(L){return this.selection.replace(this,L),this}replaceSelectionWith(L,W=!0){let ie=this.selection;return W&&(L=L.mark(this.storedMarks||(ie.empty?ie.$from.marks():ie.$from.marksAcross(ie.$to)||o.vc.none))),ie.replaceWith(this,L),this}deleteSelection(){return this.selection.replace(this),this}insertText(L,W,ie){let ue=this.doc.type.schema;if(W==null)return L?this.replaceSelectionWith(ue.text(L),!0):this.deleteSelection();{if(ie==null&&(ie=W),ie=ie==null?W:ie,!L)return this.deleteRange(W,ie);let le=this.storedMarks;if(!le){let J=this.doc.resolve(W);le=ie==W?J.marks():J.marksAcross(this.doc.resolve(ie))}return this.replaceRangeWith(W,ie,ue.text(L,le)),this.selection.empty||this.setSelection(c.near(this.selection.$to)),this}}setMeta(L,W){return this.meta[typeof L=="string"?L:L.key]=W,this}getMeta(L){return this.meta[typeof L=="string"?L:L.key]}get isGeneric(){for(let L in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=C,this}get scrolledIntoView(){return(this.updated&C)>0}}function A(G,L){return!L||!G?G:G.bind(L)}class x{constructor(L,W,ie){this.name=L,this.init=A(W.init,ie),this.apply=A(W.apply,ie)}}const I=[new x("doc",{init(G){return G.doc||G.schema.topNodeType.createAndFill()},apply(G){return G.doc}}),new x("selection",{init(G,L){return G.selection||c.atStart(L.doc)},apply(G){return G.selection}}),new x("storedMarks",{init(G){return G.storedMarks||null},apply(G,L,W,ie){return ie.selection.$cursor?G.storedMarks:null}}),new x("scrollToSelection",{init(){return 0},apply(G,L){return G.scrolledIntoView?L+1:L}})];class N{constructor(L,W){this.schema=L,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=I.slice(),W&&W.forEach(ie=>{if(this.pluginsByKey[ie.key])throw new RangeError("Adding different instances of a keyed plugin ("+ie.key+")");this.plugins.push(ie),this.pluginsByKey[ie.key]=ie,ie.spec.state&&this.fields.push(new x(ie.key,ie.spec.state,ie))})}}class F{constructor(L){this.config=L}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(L){return this.applyTransaction(L).state}filterTransaction(L,W=-1){for(let ie=0;ie<this.config.plugins.length;ie++)if(ie!=W){let ue=this.config.plugins[ie];if(ue.spec.filterTransaction&&!ue.spec.filterTransaction.call(ue,L,this))return!1}return!0}applyTransaction(L){if(!this.filterTransaction(L))return{state:this,transactions:[]};let W=[L],ie=this.applyInner(L),ue=null;for(;;){let le=!1;for(let J=0;J<this.config.plugins.length;J++){let te=this.config.plugins[J];if(te.spec.appendTransaction){let se=ue?ue[J].n:0,ee=ue?ue[J].state:this,ae=se<W.length&&te.spec.appendTransaction.call(te,se?W.slice(se):W,ee,ie);if(ae&&ie.filterTransaction(ae,J)){if(ae.setMeta("appendedTransaction",L),!ue){ue=[];for(let ce=0;ce<this.config.plugins.length;ce++)ue.push(ce<J?{state:ie,n:W.length}:{state:this,n:0})}W.push(ae),ie=ie.applyInner(ae),le=!0}ue&&(ue[J]={state:ie,n:W.length})}}if(!le)return{state:ie,transactions:W}}}applyInner(L){if(!L.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let W=new F(this.config),ie=this.config.fields;for(let ue=0;ue<ie.length;ue++){let le=ie[ue];W[le.name]=le.apply(L,this[le.name],this,W)}return W}get tr(){return new D(this)}static create(L){let W=new N(L.doc?L.doc.type.schema:L.schema,L.plugins),ie=new F(W);for(let ue=0;ue<W.fields.length;ue++)ie[W.fields[ue].name]=W.fields[ue].init(L,ie);return ie}reconfigure(L){let W=new N(this.schema,L.plugins),ie=W.fields,ue=new F(W);for(let le=0;le<ie.length;le++){let J=ie[le].name;ue[J]=this.hasOwnProperty(J)?this[J]:ie[le].init(L,ue)}return ue}toJSON(L){let W={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(W.storedMarks=this.storedMarks.map(ie=>ie.toJSON())),L&&typeof L=="object")for(let ie in L){if(ie=="doc"||ie=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let ue=L[ie],le=ue.spec.state;le&&le.toJSON&&(W[ie]=le.toJSON.call(ue,this[ue.key]))}return W}static fromJSON(L,W,ie){if(!W)throw new RangeError("Invalid input for EditorState.fromJSON");if(!L.schema)throw new RangeError("Required config field 'schema' missing");let ue=new N(L.schema,L.plugins),le=new F(ue);return ue.fields.forEach(J=>{if(J.name=="doc")le.doc=o.NB.fromJSON(L.schema,W.doc);else if(J.name=="selection")le.selection=c.fromJSON(le.doc,W.selection);else if(J.name=="storedMarks")W.storedMarks&&(le.storedMarks=W.storedMarks.map(L.schema.markFromJSON));else{if(ie)for(let te in ie){let se=ie[te],ee=se.spec.state;if(se.key==J.name&&ee&&ee.fromJSON&&Object.prototype.hasOwnProperty.call(W,te)){le[J.name]=ee.fromJSON.call(se,L,W[te],le);return}}le[J.name]=J.init(L,le)}}),le}}function B(G,L,W){for(let ie in G){let ue=G[ie];ue instanceof Function?ue=ue.bind(L):ie=="handleDOMEvents"&&(ue=B(ue,L,{})),W[ie]=ue}return W}class V{constructor(L){this.spec=L,this.props={},L.props&&B(L.props,this,this.props),this.key=L.key?L.key.key:Y("plugin")}getState(L){return L[this.key]}}const Z=Object.create(null);function Y(G){return G in Z?G+"$"+ ++Z[G]:(Z[G]=0,G+"$")}class ne{constructor(L="key"){this.key=Y(L)}get(L){return L.config.pluginsByKey[this.key]}getState(L){return L[this.key]}}},16560:(z,l,e)=>{"use strict";e.d(l,{Ax:()=>ee,FC:()=>N,GJ:()=>Ee,Mn:()=>ce,Pu:()=>I,dR:()=>De,k9:()=>ne,nd:()=>L,nj:()=>ve,vs:()=>O,wx:()=>en});var o=e(87823);const f=65535,u=Math.pow(2,16);function c(vt,Re){return vt+Re*u}function _(vt){return vt&f}function g(vt){return(vt-(vt&f))/u}const E=1,v=2,y=4,T=8;class w{constructor(Re,He,ot){this.pos=Re,this.delInfo=He,this.recover=ot}get deleted(){return(this.delInfo&T)>0}get deletedBefore(){return(this.delInfo&(E|y))>0}get deletedAfter(){return(this.delInfo&(v|y))>0}get deletedAcross(){return(this.delInfo&y)>0}}class S{constructor(Re,He=!1){if(this.ranges=Re,this.inverted=He,!Re.length&&S.empty)return S.empty}recover(Re){let He=0,ot=_(Re);if(!this.inverted)for(let me=0;me<ot;me++)He+=this.ranges[me*3+2]-this.ranges[me*3+1];return this.ranges[ot*3]+He+g(Re)}mapResult(Re,He=1){return this._map(Re,He,!1)}map(Re,He=1){return this._map(Re,He,!0)}_map(Re,He,ot){let me=0,ke=this.inverted?2:1,je=this.inverted?1:2;for(let Je=0;Je<this.ranges.length;Je+=3){let tt=this.ranges[Je]-(this.inverted?me:0);if(tt>Re)break;let Ae=this.ranges[Je+ke],H=this.ranges[Je+je],Q=tt+Ae;if(Re<=Q){let pe=Ae?Re==tt?-1:Re==Q?1:He:He,we=tt+me+(pe<0?0:H);if(ot)return we;let Le=Re==(He<0?tt:Q)?null:c(Je/3,Re-tt),Ye=Re==tt?v:Re==Q?E:y;return(He<0?Re!=tt:Re!=Q)&&(Ye|=T),new w(we,Ye,Le)}me+=H-Ae}return ot?Re+me:new w(Re+me,0,null)}touches(Re,He){let ot=0,me=_(He),ke=this.inverted?2:1,je=this.inverted?1:2;for(let Je=0;Je<this.ranges.length;Je+=3){let tt=this.ranges[Je]-(this.inverted?ot:0);if(tt>Re)break;let Ae=this.ranges[Je+ke],H=tt+Ae;if(Re<=H&&Je==me*3)return!0;ot+=this.ranges[Je+je]-Ae}return!1}forEach(Re){let He=this.inverted?2:1,ot=this.inverted?1:2;for(let me=0,ke=0;me<this.ranges.length;me+=3){let je=this.ranges[me],Je=je-(this.inverted?ke:0),tt=je+(this.inverted?0:ke),Ae=this.ranges[me+He],H=this.ranges[me+ot];Re(Je,Je+Ae,tt,tt+H),ke+=H-Ae}}invert(){return new S(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(Re){return Re==0?S.empty:new S(Re<0?[0,-Re,0]:[0,0,Re])}}S.empty=new S([]);class O{constructor(Re=[],He,ot=0,me=Re.length){this.maps=Re,this.mirror=He,this.from=ot,this.to=me}slice(Re=0,He=this.maps.length){return new O(this.maps,this.mirror,Re,He)}copy(){return new O(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(Re,He){this.to=this.maps.push(Re),He!=null&&this.setMirror(this.maps.length-1,He)}appendMapping(Re){for(let He=0,ot=this.maps.length;He<Re.maps.length;He++){let me=Re.getMirror(He);this.appendMap(Re.maps[He],me!=null&&me<He?ot+me:void 0)}}getMirror(Re){if(this.mirror){for(let He=0;He<this.mirror.length;He++)if(this.mirror[He]==Re)return this.mirror[He+(He%2?-1:1)]}}setMirror(Re,He){this.mirror||(this.mirror=[]),this.mirror.push(Re,He)}appendMappingInverted(Re){for(let He=Re.maps.length-1,ot=this.maps.length+Re.maps.length;He>=0;He--){let me=Re.getMirror(He);this.appendMap(Re.maps[He].invert(),me!=null&&me>He?ot-me-1:void 0)}}invert(){let Re=new O;return Re.appendMappingInverted(this),Re}map(Re,He=1){if(this.mirror)return this._map(Re,He,!0);for(let ot=this.from;ot<this.to;ot++)Re=this.maps[ot].map(Re,He);return Re}mapResult(Re,He=1){return this._map(Re,He,!1)}_map(Re,He,ot){let me=0;for(let ke=this.from;ke<this.to;ke++){let je=this.maps[ke],Je=je.mapResult(Re,He);if(Je.recover!=null){let tt=this.getMirror(ke);if(tt!=null&&tt>ke&&tt<this.to){ke=tt,Re=this.maps[tt].recover(Je.recover);continue}}me|=Je.delInfo,Re=Je.pos}return ot?Re:new w(Re,me,null)}}const p=Object.create(null);class d{getMap(){return S.empty}merge(Re){return null}static fromJSON(Re,He){if(!He||!He.stepType)throw new RangeError("Invalid input for Step.fromJSON");let ot=p[He.stepType];if(!ot)throw new RangeError(`No step type ${He.stepType} defined`);return ot.fromJSON(Re,He)}static jsonID(Re,He){if(Re in p)throw new RangeError("Duplicate use of step JSON ID "+Re);return p[Re]=He,He.prototype.jsonID=Re,He}}class a{constructor(Re,He){this.doc=Re,this.failed=He}static ok(Re){return new a(Re,null)}static fail(Re){return new a(null,Re)}static fromReplace(Re,He,ot,me){try{return a.ok(Re.replace(He,ot,me))}catch(ke){if(ke instanceof o.e4)return a.fail(ke.message);throw ke}}}function P(vt,Re,He){let ot=[];for(let me=0;me<vt.childCount;me++){let ke=vt.child(me);ke.content.size&&(ke=ke.copy(P(ke.content,Re,ke))),ke.isInline&&(ke=Re(ke,He,me)),ot.push(ke)}return o.HY.fromArray(ot)}class C extends d{constructor(Re,He,ot){super(),this.from=Re,this.to=He,this.mark=ot}apply(Re){let He=Re.slice(this.from,this.to),ot=Re.resolve(this.from),me=ot.node(ot.sharedDepth(this.to)),ke=new o.p2(P(He.content,(je,Je)=>!je.isAtom||!Je.type.allowsMarkType(this.mark.type)?je:je.mark(this.mark.addToSet(je.marks)),me),He.openStart,He.openEnd);return a.fromReplace(Re,this.from,this.to,ke)}invert(){return new D(this.from,this.to,this.mark)}map(Re){let He=Re.mapResult(this.from,1),ot=Re.mapResult(this.to,-1);return He.deleted&&ot.deleted||He.pos>=ot.pos?null:new C(He.pos,ot.pos,this.mark)}merge(Re){return Re instanceof C&&Re.mark.eq(this.mark)&&this.from<=Re.to&&this.to>=Re.from?new C(Math.min(this.from,Re.from),Math.max(this.to,Re.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(Re,He){if(typeof He.from!="number"||typeof He.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new C(He.from,He.to,Re.markFromJSON(He.mark))}}d.jsonID("addMark",C);class D extends d{constructor(Re,He,ot){super(),this.from=Re,this.to=He,this.mark=ot}apply(Re){let He=Re.slice(this.from,this.to),ot=new o.p2(P(He.content,me=>me.mark(this.mark.removeFromSet(me.marks)),Re),He.openStart,He.openEnd);return a.fromReplace(Re,this.from,this.to,ot)}invert(){return new C(this.from,this.to,this.mark)}map(Re){let He=Re.mapResult(this.from,1),ot=Re.mapResult(this.to,-1);return He.deleted&&ot.deleted||He.pos>=ot.pos?null:new D(He.pos,ot.pos,this.mark)}merge(Re){return Re instanceof D&&Re.mark.eq(this.mark)&&this.from<=Re.to&&this.to>=Re.from?new D(Math.min(this.from,Re.from),Math.max(this.to,Re.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(Re,He){if(typeof He.from!="number"||typeof He.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new D(He.from,He.to,Re.markFromJSON(He.mark))}}d.jsonID("removeMark",D);class A extends d{constructor(Re,He){super(),this.pos=Re,this.mark=He}apply(Re){let He=Re.nodeAt(this.pos);if(!He)return a.fail("No node at mark step's position");let ot=He.type.create(He.attrs,null,this.mark.addToSet(He.marks));return a.fromReplace(Re,this.pos,this.pos+1,new o.p2(o.HY.from(ot),0,He.isLeaf?0:1))}invert(Re){let He=Re.nodeAt(this.pos);if(He){let ot=this.mark.addToSet(He.marks);if(ot.length==He.marks.length){for(let me=0;me<He.marks.length;me++)if(!He.marks[me].isInSet(ot))return new A(this.pos,He.marks[me]);return new A(this.pos,this.mark)}}return new x(this.pos,this.mark)}map(Re){let He=Re.mapResult(this.pos,1);return He.deletedAfter?null:new A(He.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(Re,He){if(typeof He.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new A(He.pos,Re.markFromJSON(He.mark))}}d.jsonID("addNodeMark",A);class x extends d{constructor(Re,He){super(),this.pos=Re,this.mark=He}apply(Re){let He=Re.nodeAt(this.pos);if(!He)return a.fail("No node at mark step's position");let ot=He.type.create(He.attrs,null,this.mark.removeFromSet(He.marks));return a.fromReplace(Re,this.pos,this.pos+1,new o.p2(o.HY.from(ot),0,He.isLeaf?0:1))}invert(Re){let He=Re.nodeAt(this.pos);return!He||!this.mark.isInSet(He.marks)?this:new A(this.pos,this.mark)}map(Re){let He=Re.mapResult(this.pos,1);return He.deletedAfter?null:new x(He.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(Re,He){if(typeof He.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new x(He.pos,Re.markFromJSON(He.mark))}}d.jsonID("removeNodeMark",x);class I extends d{constructor(Re,He,ot,me=!1){super(),this.from=Re,this.to=He,this.slice=ot,this.structure=me}apply(Re){return this.structure&&F(Re,this.from,this.to)?a.fail("Structure replace would overwrite content"):a.fromReplace(Re,this.from,this.to,this.slice)}getMap(){return new S([this.from,this.to-this.from,this.slice.size])}invert(Re){return new I(this.from,this.from+this.slice.size,Re.slice(this.from,this.to))}map(Re){let He=Re.mapResult(this.from,1),ot=Re.mapResult(this.to,-1);return He.deletedAcross&&ot.deletedAcross?null:new I(He.pos,Math.max(He.pos,ot.pos),this.slice)}merge(Re){if(!(Re instanceof I)||Re.structure||this.structure)return null;if(this.from+this.slice.size==Re.from&&!this.slice.openEnd&&!Re.slice.openStart){let He=this.slice.size+Re.slice.size==0?o.p2.empty:new o.p2(this.slice.content.append(Re.slice.content),this.slice.openStart,Re.slice.openEnd);return new I(this.from,this.to+(Re.to-Re.from),He,this.structure)}else if(Re.to==this.from&&!this.slice.openStart&&!Re.slice.openEnd){let He=this.slice.size+Re.slice.size==0?o.p2.empty:new o.p2(Re.slice.content.append(this.slice.content),Re.slice.openStart,this.slice.openEnd);return new I(Re.from,this.to,He,this.structure)}else return null}toJSON(){let Re={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(Re.slice=this.slice.toJSON()),this.structure&&(Re.structure=!0),Re}static fromJSON(Re,He){if(typeof He.from!="number"||typeof He.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new I(He.from,He.to,o.p2.fromJSON(Re,He.slice),!!He.structure)}}d.jsonID("replace",I);class N extends d{constructor(Re,He,ot,me,ke,je,Je=!1){super(),this.from=Re,this.to=He,this.gapFrom=ot,this.gapTo=me,this.slice=ke,this.insert=je,this.structure=Je}apply(Re){if(this.structure&&(F(Re,this.from,this.gapFrom)||F(Re,this.gapTo,this.to)))return a.fail("Structure gap-replace would overwrite content");let He=Re.slice(this.gapFrom,this.gapTo);if(He.openStart||He.openEnd)return a.fail("Gap is not a flat range");let ot=this.slice.insertAt(this.insert,He.content);return ot?a.fromReplace(Re,this.from,this.to,ot):a.fail("Content does not fit in gap")}getMap(){return new S([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(Re){let He=this.gapTo-this.gapFrom;return new N(this.from,this.from+this.slice.size+He,this.from+this.insert,this.from+this.insert+He,Re.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(Re){let He=Re.mapResult(this.from,1),ot=Re.mapResult(this.to,-1),me=Re.map(this.gapFrom,-1),ke=Re.map(this.gapTo,1);return He.deletedAcross&&ot.deletedAcross||me<He.pos||ke>ot.pos?null:new N(He.pos,ot.pos,me,ke,this.slice,this.insert,this.structure)}toJSON(){let Re={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(Re.slice=this.slice.toJSON()),this.structure&&(Re.structure=!0),Re}static fromJSON(Re,He){if(typeof He.from!="number"||typeof He.to!="number"||typeof He.gapFrom!="number"||typeof He.gapTo!="number"||typeof He.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new N(He.from,He.to,He.gapFrom,He.gapTo,o.p2.fromJSON(Re,He.slice),He.insert,!!He.structure)}}d.jsonID("replaceAround",N);function F(vt,Re,He){let ot=vt.resolve(Re),me=He-Re,ke=ot.depth;for(;me>0&&ke>0&&ot.indexAfter(ke)==ot.node(ke).childCount;)ke--,me--;if(me>0){let je=ot.node(ke).maybeChild(ot.indexAfter(ke));for(;me>0;){if(!je||je.isLeaf)return!0;je=je.firstChild,me--}}return!1}function B(vt,Re,He,ot){let me=[],ke=[],je,Je;vt.doc.nodesBetween(Re,He,(tt,Ae,H)=>{if(!tt.isInline)return;let Q=tt.marks;if(!ot.isInSet(Q)&&H.type.allowsMarkType(ot.type)){let pe=Math.max(Ae,Re),we=Math.min(Ae+tt.nodeSize,He),Le=ot.addToSet(Q);for(let Ye=0;Ye<Q.length;Ye++)Q[Ye].isInSet(Le)||(je&&je.to==pe&&je.mark.eq(Q[Ye])?je.to=we:me.push(je=new D(pe,we,Q[Ye])));Je&&Je.to==pe?Je.to=we:ke.push(Je=new C(pe,we,ot))}}),me.forEach(tt=>vt.step(tt)),ke.forEach(tt=>vt.step(tt))}function V(vt,Re,He,ot){let me=[],ke=0;vt.doc.nodesBetween(Re,He,(je,Je)=>{if(!je.isInline)return;ke++;let tt=null;if(ot instanceof o.ZU){let Ae=je.marks,H;for(;H=ot.isInSet(Ae);)(tt||(tt=[])).push(H),Ae=H.removeFromSet(Ae)}else ot?ot.isInSet(je.marks)&&(tt=[ot]):tt=je.marks;if(tt&&tt.length){let Ae=Math.min(Je+je.nodeSize,He);for(let H=0;H<tt.length;H++){let Q=tt[H],pe;for(let we=0;we<me.length;we++){let Le=me[we];Le.step==ke-1&&Q.eq(me[we].style)&&(pe=Le)}pe?(pe.to=Ae,pe.step=ke):me.push({style:Q,from:Math.max(Je,Re),to:Ae,step:ke})}}}),me.forEach(je=>vt.step(new D(je.from,je.to,je.style)))}function Z(vt,Re,He,ot=He.contentMatch){let me=vt.doc.nodeAt(Re),ke=[],je=Re+1;for(let Je=0;Je<me.childCount;Je++){let tt=me.child(Je),Ae=je+tt.nodeSize,H=ot.matchType(tt.type);if(!H)ke.push(new I(je,Ae,o.p2.empty));else{ot=H;for(let Q=0;Q<tt.marks.length;Q++)He.allowsMarkType(tt.marks[Q].type)||vt.step(new D(je,Ae,tt.marks[Q]))}je=Ae}if(!ot.validEnd){let Je=ot.fillBefore(o.HY.empty,!0);vt.replace(je,je,new o.p2(Je,0,0))}for(let Je=ke.length-1;Je>=0;Je--)vt.step(ke[Je])}function Y(vt,Re,He){return(Re==0||vt.canReplace(Re,vt.childCount))&&(He==vt.childCount||vt.canReplace(0,He))}function ne(vt){let He=vt.parent.content.cutByIndex(vt.startIndex,vt.endIndex);for(let ot=vt.depth;;--ot){let me=vt.$from.node(ot),ke=vt.$from.index(ot),je=vt.$to.indexAfter(ot);if(ot<vt.depth&&me.canReplace(ke,je,He))return ot;if(ot==0||me.type.spec.isolating||!Y(me,ke,je))break}return null}function G(vt,Re,He){let{$from:ot,$to:me,depth:ke}=Re,je=ot.before(ke+1),Je=me.after(ke+1),tt=je,Ae=Je,H=o.HY.empty,Q=0;for(let Le=ke,Ye=!1;Le>He;Le--)Ye||ot.index(Le)>0?(Ye=!0,H=o.HY.from(ot.node(Le).copy(H)),Q++):tt--;let pe=o.HY.empty,we=0;for(let Le=ke,Ye=!1;Le>He;Le--)Ye||me.after(Le+1)<me.end(Le)?(Ye=!0,pe=o.HY.from(me.node(Le).copy(pe)),we++):Ae++;vt.step(new N(tt,Ae,je,Je,new o.p2(H.append(pe),Q,we),H.size-Q,!0))}function L(vt,Re,He=null,ot=vt){let me=ie(vt,Re),ke=me&&ue(ot,Re);return ke?me.map(W).concat({type:Re,attrs:He}).concat(ke.map(W)):null}function W(vt){return{type:vt,attrs:null}}function ie(vt,Re){let{parent:He,startIndex:ot,endIndex:me}=vt,ke=He.contentMatchAt(ot).findWrapping(Re);if(!ke)return null;let je=ke.length?ke[0]:Re;return He.canReplaceWith(ot,me,je)?ke:null}function ue(vt,Re){let{parent:He,startIndex:ot,endIndex:me}=vt,ke=He.child(ot),je=Re.contentMatch.findWrapping(ke.type);if(!je)return null;let tt=(je.length?je[je.length-1]:Re).contentMatch;for(let Ae=ot;tt&&Ae<me;Ae++)tt=tt.matchType(He.child(Ae).type);return!tt||!tt.validEnd?null:je}function le(vt,Re,He){let ot=o.HY.empty;for(let je=He.length-1;je>=0;je--){if(ot.size){let Je=He[je].type.contentMatch.matchFragment(ot);if(!Je||!Je.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}ot=o.HY.from(He[je].type.create(He[je].attrs,ot))}let me=Re.start,ke=Re.end;vt.step(new N(me,ke,me,ke,new o.p2(ot,0,0),He.length,!0))}function J(vt,Re,He,ot,me){if(!ot.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let ke=vt.steps.length;vt.doc.nodesBetween(Re,He,(je,Je)=>{if(je.isTextblock&&!je.hasMarkup(ot,me)&&te(vt.doc,vt.mapping.slice(ke).map(Je),ot)){vt.clearIncompatible(vt.mapping.slice(ke).map(Je,1),ot);let tt=vt.mapping.slice(ke),Ae=tt.map(Je,1),H=tt.map(Je+je.nodeSize,1);return vt.step(new N(Ae,H,Ae+1,H-1,new o.p2(o.HY.from(ot.create(me,null,je.marks)),0,0),1,!0)),!1}})}function te(vt,Re,He){let ot=vt.resolve(Re),me=ot.index();return ot.parent.canReplaceWith(me,me+1,He)}function se(vt,Re,He,ot,me){let ke=vt.doc.nodeAt(Re);if(!ke)throw new RangeError("No node at given position");He||(He=ke.type);let je=He.create(ot,null,me||ke.marks);if(ke.isLeaf)return vt.replaceWith(Re,Re+ke.nodeSize,je);if(!He.validContent(ke.content))throw new RangeError("Invalid content for node type "+He.name);vt.step(new N(Re,Re+ke.nodeSize,Re+1,Re+ke.nodeSize-1,new o.p2(o.HY.from(je),0,0),1,!0))}function ee(vt,Re,He=1,ot){let me=vt.resolve(Re),ke=me.depth-He,je=ot&&ot[ot.length-1]||me.parent;if(ke<0||me.parent.type.spec.isolating||!me.parent.canReplace(me.index(),me.parent.childCount)||!je.type.validContent(me.parent.content.cutByIndex(me.index(),me.parent.childCount)))return!1;for(let Ae=me.depth-1,H=He-2;Ae>ke;Ae--,H--){let Q=me.node(Ae),pe=me.index(Ae);if(Q.type.spec.isolating)return!1;let we=Q.content.cutByIndex(pe,Q.childCount),Le=ot&&ot[H]||Q;if(Le!=Q&&(we=we.replaceChild(0,Le.type.create(Le.attrs))),!Q.canReplace(pe+1,Q.childCount)||!Le.type.validContent(we))return!1}let Je=me.indexAfter(ke),tt=ot&&ot[0];return me.node(ke).canReplaceWith(Je,Je,tt?tt.type:me.node(ke+1).type)}function ae(vt,Re,He=1,ot){let me=vt.doc.resolve(Re),ke=o.HY.empty,je=o.HY.empty;for(let Je=me.depth,tt=me.depth-He,Ae=He-1;Je>tt;Je--,Ae--){ke=o.HY.from(me.node(Je).copy(ke));let H=ot&&ot[Ae];je=o.HY.from(H?H.type.create(H.attrs,je):me.node(Je).copy(je))}vt.step(new I(Re,Re,new o.p2(ke.append(je),He,He),!0))}function ce(vt,Re){let He=vt.resolve(Re),ot=He.index();return fe(He.nodeBefore,He.nodeAfter)&&He.parent.canReplace(ot,ot+1)}function fe(vt,Re){return!!(vt&&Re&&!vt.isLeaf&&vt.canAppend(Re))}function Ee(vt,Re,He=-1){let ot=vt.resolve(Re);for(let me=ot.depth;;me--){let ke,je,Je=ot.index(me);if(me==ot.depth?(ke=ot.nodeBefore,je=ot.nodeAfter):He>0?(ke=ot.node(me+1),Je++,je=ot.node(me).maybeChild(Je)):(ke=ot.node(me).maybeChild(Je-1),je=ot.node(me+1)),ke&&!ke.isTextblock&&fe(ke,je)&&ot.node(me).canReplace(Je,Je+1))return Re;if(me==0)break;Re=He<0?ot.before(me):ot.after(me)}}function de(vt,Re,He){let ot=new I(Re-He,Re+He,o.p2.empty,!0);vt.step(ot)}function _e(vt,Re,He){let ot=vt.resolve(Re);if(ot.parent.canReplaceWith(ot.index(),ot.index(),He))return Re;if(ot.parentOffset==0)for(let me=ot.depth-1;me>=0;me--){let ke=ot.index(me);if(ot.node(me).canReplaceWith(ke,ke,He))return ot.before(me+1);if(ke>0)return null}if(ot.parentOffset==ot.parent.content.size)for(let me=ot.depth-1;me>=0;me--){let ke=ot.indexAfter(me);if(ot.node(me).canReplaceWith(ke,ke,He))return ot.after(me+1);if(ke<ot.node(me).childCount)return null}return null}function ve(vt,Re,He){let ot=vt.resolve(Re);if(!He.content.size)return Re;let me=He.content;for(let ke=0;ke<He.openStart;ke++)me=me.firstChild.content;for(let ke=1;ke<=(He.openStart==0&&He.size?2:1);ke++)for(let je=ot.depth;je>=0;je--){let Je=je==ot.depth?0:ot.pos<=(ot.start(je+1)+ot.end(je+1))/2?-1:1,tt=ot.index(je)+(Je>0?1:0),Ae=ot.node(je),H=!1;if(ke==1)H=Ae.canReplace(tt,tt,me);else{let Q=Ae.contentMatchAt(tt).findWrapping(me.firstChild.type);H=Q&&Ae.canReplaceWith(tt,tt,Q[0])}if(H)return Je==0?ot.pos:Je<0?ot.before(je+1):ot.after(je+1)}return null}function De(vt,Re,He=Re,ot=o.p2.empty){if(Re==He&&!ot.size)return null;let me=vt.resolve(Re),ke=vt.resolve(He);return Oe(me,ke,ot)?new I(Re,He,ot):new ye(me,ke,ot).fit()}function Oe(vt,Re,He){return!He.openStart&&!He.openEnd&&vt.start()==Re.start()&&vt.parent.canReplace(vt.index(),Re.index(),He.content)}class ye{constructor(Re,He,ot){this.$from=Re,this.$to=He,this.unplaced=ot,this.frontier=[],this.placed=o.HY.empty;for(let me=0;me<=Re.depth;me++){let ke=Re.node(me);this.frontier.push({type:ke.type,match:ke.contentMatchAt(Re.indexAfter(me))})}for(let me=Re.depth;me>0;me--)this.placed=o.HY.from(Re.node(me).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let Ae=this.findFittable();Ae?this.placeNodes(Ae):this.openMore()||this.dropNode()}let Re=this.mustMoveInline(),He=this.placed.size-this.depth-this.$from.depth,ot=this.$from,me=this.close(Re<0?this.$to:ot.doc.resolve(Re));if(!me)return null;let ke=this.placed,je=ot.depth,Je=me.depth;for(;je&&Je&&ke.childCount==1;)ke=ke.firstChild.content,je--,Je--;let tt=new o.p2(ke,je,Je);return Re>-1?new N(ot.pos,Re,this.$to.pos,this.$to.end(),tt,He):tt.size||ot.pos!=this.$to.pos?new I(ot.pos,me.pos,tt):null}findFittable(){let Re=this.unplaced.openStart;for(let He=this.unplaced.content,ot=0,me=this.unplaced.openEnd;ot<Re;ot++){let ke=He.firstChild;if(He.childCount>1&&(me=0),ke.type.spec.isolating&&me<=ot){Re=ot;break}He=ke.content}for(let He=1;He<=2;He++)for(let ot=He==1?Re:this.unplaced.openStart;ot>=0;ot--){let me,ke=null;ot?(ke=We(this.unplaced.content,ot-1).firstChild,me=ke.content):me=this.unplaced.content;let je=me.firstChild;for(let Je=this.depth;Je>=0;Je--){let{type:tt,match:Ae}=this.frontier[Je],H,Q=null;if(He==1&&(je?Ae.matchType(je.type)||(Q=Ae.fillBefore(o.HY.from(je),!1)):ke&&tt.compatibleContent(ke.type)))return{sliceDepth:ot,frontierDepth:Je,parent:ke,inject:Q};if(He==2&&je&&(H=Ae.findWrapping(je.type)))return{sliceDepth:ot,frontierDepth:Je,parent:ke,wrap:H};if(ke&&Ae.matchType(ke.type))break}}}openMore(){let{content:Re,openStart:He,openEnd:ot}=this.unplaced,me=We(Re,He);return!me.childCount||me.firstChild.isLeaf?!1:(this.unplaced=new o.p2(Re,He+1,Math.max(ot,me.size+He>=Re.size-ot?He+1:0)),!0)}dropNode(){let{content:Re,openStart:He,openEnd:ot}=this.unplaced,me=We(Re,He);if(me.childCount<=1&&He>0){let ke=Re.size-He<=He+me.size;this.unplaced=new o.p2(ze(Re,He-1,1),He-1,ke?He-1:ot)}else this.unplaced=new o.p2(ze(Re,He,1),He,ot)}placeNodes({sliceDepth:Re,frontierDepth:He,parent:ot,inject:me,wrap:ke}){for(;this.depth>He;)this.closeFrontierNode();if(ke)for(let Ye=0;Ye<ke.length;Ye++)this.openFrontierNode(ke[Ye]);let je=this.unplaced,Je=ot?ot.content:je.content,tt=je.openStart-Re,Ae=0,H=[],{match:Q,type:pe}=this.frontier[He];if(me){for(let Ye=0;Ye<me.childCount;Ye++)H.push(me.child(Ye));Q=Q.matchFragment(me)}let we=Je.size+Re-(je.content.size-je.openEnd);for(;Ae<Je.childCount;){let Ye=Je.child(Ae),dt=Q.matchType(Ye.type);if(!dt)break;Ae++,(Ae>1||tt==0||Ye.content.size)&&(Q=dt,H.push(Ke(Ye.mark(pe.allowedMarks(Ye.marks)),Ae==1?tt:0,Ae==Je.childCount?we:-1)))}let Le=Ae==Je.childCount;Le||(we=-1),this.placed=Be(this.placed,He,o.HY.from(H)),this.frontier[He].match=Q,Le&&we<0&&ot&&ot.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let Ye=0,dt=Je;Ye<we;Ye++){let st=dt.lastChild;this.frontier.push({type:st.type,match:st.contentMatchAt(st.childCount)}),dt=st.content}this.unplaced=Le?Re==0?o.p2.empty:new o.p2(ze(je.content,Re-1,1),Re-1,we<0?je.openEnd:Re-1):new o.p2(ze(je.content,Re,Ae),je.openStart,je.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let Re=this.frontier[this.depth],He;if(!Re.type.isTextblock||!Xe(this.$to,this.$to.depth,Re.type,Re.match,!1)||this.$to.depth==this.depth&&(He=this.findCloseLevel(this.$to))&&He.depth==this.depth)return-1;let{depth:ot}=this.$to,me=this.$to.after(ot);for(;ot>1&&me==this.$to.end(--ot);)++me;return me}findCloseLevel(Re){e:for(let He=Math.min(this.depth,Re.depth);He>=0;He--){let{match:ot,type:me}=this.frontier[He],ke=He<Re.depth&&Re.end(He+1)==Re.pos+(Re.depth-(He+1)),je=Xe(Re,He,me,ot,ke);if(je){for(let Je=He-1;Je>=0;Je--){let{match:tt,type:Ae}=this.frontier[Je],H=Xe(Re,Je,Ae,tt,!0);if(!H||H.childCount)continue e}return{depth:He,fit:je,move:ke?Re.doc.resolve(Re.after(He+1)):Re}}}}close(Re){let He=this.findCloseLevel(Re);if(!He)return null;for(;this.depth>He.depth;)this.closeFrontierNode();He.fit.childCount&&(this.placed=Be(this.placed,He.depth,He.fit)),Re=He.move;for(let ot=He.depth+1;ot<=Re.depth;ot++){let me=Re.node(ot),ke=me.type.contentMatch.fillBefore(me.content,!0,Re.index(ot));this.openFrontierNode(me.type,me.attrs,ke)}return Re}openFrontierNode(Re,He=null,ot){let me=this.frontier[this.depth];me.match=me.match.matchType(Re),this.placed=Be(this.placed,this.depth,o.HY.from(Re.create(He,ot))),this.frontier.push({type:Re,match:Re.contentMatch})}closeFrontierNode(){let He=this.frontier.pop().match.fillBefore(o.HY.empty,!0);He.childCount&&(this.placed=Be(this.placed,this.frontier.length,He))}}function ze(vt,Re,He){return Re==0?vt.cutByIndex(He,vt.childCount):vt.replaceChild(0,vt.firstChild.copy(ze(vt.firstChild.content,Re-1,He)))}function Be(vt,Re,He){return Re==0?vt.append(He):vt.replaceChild(vt.childCount-1,vt.lastChild.copy(Be(vt.lastChild.content,Re-1,He)))}function We(vt,Re){for(let He=0;He<Re;He++)vt=vt.firstChild.content;return vt}function Ke(vt,Re,He){if(Re<=0)return vt;let ot=vt.content;return Re>1&&(ot=ot.replaceChild(0,Ke(ot.firstChild,Re-1,ot.childCount==1?He-1:0))),Re>0&&(ot=vt.type.contentMatch.fillBefore(ot).append(ot),He<=0&&(ot=ot.append(vt.type.contentMatch.matchFragment(ot).fillBefore(o.HY.empty,!0)))),vt.copy(ot)}function Xe(vt,Re,He,ot,me){let ke=vt.node(Re),je=me?vt.indexAfter(Re):vt.index(Re);if(je==ke.childCount&&!He.compatibleContent(ke.type))return null;let Je=ot.fillBefore(ke.content,!0,je);return Je&&!ct(He,ke.content,je)?Je:null}function ct(vt,Re,He){for(let ot=He;ot<Re.childCount;ot++)if(!vt.allowsMarks(Re.child(ot).marks))return!0;return!1}function Se(vt){return vt.spec.defining||vt.spec.definingForContent}function Qe(vt,Re,He,ot){if(!ot.size)return vt.deleteRange(Re,He);let me=vt.doc.resolve(Re),ke=vt.doc.resolve(He);if(Oe(me,ke,ot))return vt.step(new I(Re,He,ot));let je=lt(me,vt.doc.resolve(He));je[je.length-1]==0&&je.pop();let Je=-(me.depth+1);je.unshift(Je);for(let pe=me.depth,we=me.pos-1;pe>0;pe--,we--){let Le=me.node(pe).type.spec;if(Le.defining||Le.definingAsContext||Le.isolating)break;je.indexOf(pe)>-1?Je=pe:me.before(pe)==we&&je.splice(1,0,-pe)}let tt=je.indexOf(Je),Ae=[],H=ot.openStart;for(let pe=ot.content,we=0;;we++){let Le=pe.firstChild;if(Ae.push(Le),we==ot.openStart)break;pe=Le.content}for(let pe=H-1;pe>=0;pe--){let we=Ae[pe].type,Le=Se(we);if(Le&&me.node(tt).type!=we)H=pe;else if(Le||!we.isTextblock)break}for(let pe=ot.openStart;pe>=0;pe--){let we=(pe+H+1)%(ot.openStart+1),Le=Ae[we];if(Le)for(let Ye=0;Ye<je.length;Ye++){let dt=je[(Ye+tt)%je.length],st=!0;dt<0&&(st=!1,dt=-dt);let _t=me.node(dt-1),Tt=me.index(dt-1);if(_t.canReplaceWith(Tt,Tt,Le.type,Le.marks))return vt.replace(me.before(dt),st?ke.after(dt):He,new o.p2(ge(ot.content,0,ot.openStart,we),we,ot.openEnd))}}let Q=vt.steps.length;for(let pe=je.length-1;pe>=0&&(vt.replace(Re,He,ot),!(vt.steps.length>Q));pe--){let we=je[pe];we<0||(Re=me.before(we),He=ke.after(we))}}function ge(vt,Re,He,ot,me){if(Re<He){let ke=vt.firstChild;vt=vt.replaceChild(0,ke.copy(ge(ke.content,Re+1,He,ot,ke)))}if(Re>ot){let ke=me.contentMatchAt(0),je=ke.fillBefore(vt).append(vt);vt=je.append(ke.matchFragment(je).fillBefore(o.HY.empty,!0))}return vt}function Fe(vt,Re,He,ot){if(!ot.isInline&&Re==He&&vt.doc.resolve(Re).parent.content.size){let me=_e(vt.doc,Re,ot.type);me!=null&&(Re=He=me)}vt.replaceRange(Re,He,new o.p2(o.HY.from(ot),0,0))}function Ne(vt,Re,He){let ot=vt.doc.resolve(Re),me=vt.doc.resolve(He),ke=lt(ot,me);for(let je=0;je<ke.length;je++){let Je=ke[je],tt=je==ke.length-1;if(tt&&Je==0||ot.node(Je).type.contentMatch.validEnd)return vt.delete(ot.start(Je),me.end(Je));if(Je>0&&(tt||ot.node(Je-1).canReplace(ot.index(Je-1),me.indexAfter(Je-1))))return vt.delete(ot.before(Je),me.after(Je))}for(let je=1;je<=ot.depth&&je<=me.depth;je++)if(Re-ot.start(je)==ot.depth-je&&He>ot.end(je)&&me.end(je)-He!=me.depth-je)return vt.delete(ot.before(je),He);vt.delete(Re,He)}function lt(vt,Re){let He=[],ot=Math.min(vt.depth,Re.depth);for(let me=ot;me>=0;me--){let ke=vt.start(me);if(ke<vt.pos-(vt.depth-me)||Re.end(me)>Re.pos+(Re.depth-me)||vt.node(me).type.spec.isolating||Re.node(me).type.spec.isolating)break;(ke==Re.start(me)||me==vt.depth&&me==Re.depth&&vt.parent.inlineContent&&Re.parent.inlineContent&&me&&Re.start(me-1)==ke-1)&&He.push(me)}return He}class Et extends d{constructor(Re,He,ot){super(),this.pos=Re,this.attr=He,this.value=ot}apply(Re){let He=Re.nodeAt(this.pos);if(!He)return a.fail("No node at attribute step's position");let ot=Object.create(null);for(let ke in He.attrs)ot[ke]=He.attrs[ke];ot[this.attr]=this.value;let me=He.type.create(ot,null,He.marks);return a.fromReplace(Re,this.pos,this.pos+1,new o.p2(o.HY.from(me),0,He.isLeaf?0:1))}getMap(){return S.empty}invert(Re){return new Et(this.pos,this.attr,Re.nodeAt(this.pos).attrs[this.attr])}map(Re){let He=Re.mapResult(this.pos,1);return He.deletedAfter?null:new Et(He.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(Re,He){if(typeof He.pos!="number"||typeof He.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Et(He.pos,He.attr,He.value)}}d.jsonID("attr",Et);let jt=class extends Error{};jt=function vt(Re){let He=Error.call(this,Re);return He.__proto__=vt.prototype,He},jt.prototype=Object.create(Error.prototype),jt.prototype.constructor=jt,jt.prototype.name="TransformError";class en{constructor(Re){this.doc=Re,this.steps=[],this.docs=[],this.mapping=new O}get before(){return this.docs.length?this.docs[0]:this.doc}step(Re){let He=this.maybeStep(Re);if(He.failed)throw new jt(He.failed);return this}maybeStep(Re){let He=Re.apply(this.doc);return He.failed||this.addStep(Re,He.doc),He}get docChanged(){return this.steps.length>0}addStep(Re,He){this.docs.push(this.doc),this.steps.push(Re),this.mapping.appendMap(Re.getMap()),this.doc=He}replace(Re,He=Re,ot=o.p2.empty){let me=De(this.doc,Re,He,ot);return me&&this.step(me),this}replaceWith(Re,He,ot){return this.replace(Re,He,new o.p2(o.HY.from(ot),0,0))}delete(Re,He){return this.replace(Re,He,o.p2.empty)}insert(Re,He){return this.replaceWith(Re,Re,He)}replaceRange(Re,He,ot){return Qe(this,Re,He,ot),this}replaceRangeWith(Re,He,ot){return Fe(this,Re,He,ot),this}deleteRange(Re,He){return Ne(this,Re,He),this}lift(Re,He){return G(this,Re,He),this}join(Re,He=1){return de(this,Re,He),this}wrap(Re,He){return le(this,Re,He),this}setBlockType(Re,He=Re,ot,me=null){return J(this,Re,He,ot,me),this}setNodeMarkup(Re,He,ot=null,me){return se(this,Re,He,ot,me),this}setNodeAttribute(Re,He,ot){return this.step(new Et(Re,He,ot)),this}addNodeMark(Re,He){return this.step(new A(Re,He)),this}removeNodeMark(Re,He){if(!(He instanceof o.vc)){let ot=this.doc.nodeAt(Re);if(!ot)throw new RangeError("No node at position "+Re);if(He=He.isInSet(ot.marks),!He)return this}return this.step(new x(Re,He)),this}split(Re,He=1,ot){return ae(this,Re,He,ot),this}addMark(Re,He,ot){return B(this,Re,He,ot),this}removeMark(Re,He,ot){return V(this,Re,He,ot),this}clearIncompatible(Re,He,ot){return Z(this,Re,He,ot),this}}},84348:(z,l,e)=>{"use strict";e.d(l,{EH:()=>dn,p:()=>Ut,tk:()=>Kr});var o=e(2376),f=e(87823),u=e(16560);const c=function(K){for(var $=0;;$++)if(K=K.previousSibling,!K)return $},_=function(K){let $=K.assignedSlot||K.parentNode;return $&&$.nodeType==11?$.host:$};let g=null;const E=function(K,$,re){let R=g||(g=document.createRange());return R.setEnd(K,re==null?K.nodeValue.length:re),R.setStart(K,$||0),R},v=function(K,$,re,R){return re&&(T(K,$,re,R,-1)||T(K,$,re,R,1))},y=/^(img|br|input|textarea|hr)$/i;function T(K,$,re,R,oe){for(;;){if(K==re&&$==R)return!0;if($==(oe<0?0:w(K))){let he=K.parentNode;if(!he||he.nodeType!=1||O(K)||y.test(K.nodeName)||K.contentEditable=="false")return!1;$=c(K)+(oe<0?0:1),K=he}else if(K.nodeType==1){if(K=K.childNodes[$+(oe<0?-1:0)],K.contentEditable=="false")return!1;$=oe<0?w(K):0}else return!1}}function w(K){return K.nodeType==3?K.nodeValue.length:K.childNodes.length}function S(K,$,re){for(let R=$==0,oe=$==w(K);R||oe;){if(K==re)return!0;let he=c(K);if(K=K.parentNode,!K)return!1;R=R&&he==0,oe=oe&&he==w(K)}}function O(K){let $;for(let re=K;re&&!($=re.pmViewDesc);re=re.parentNode);return $&&$.node&&$.node.isBlock&&($.dom==K||$.contentDOM==K)}const p=function(K){return K.focusNode&&v(K.focusNode,K.focusOffset,K.anchorNode,K.anchorOffset)};function d(K,$){let re=document.createEvent("Event");return re.initEvent("keydown",!0,!0),re.keyCode=K,re.key=re.code=$,re}function a(K){let $=K.activeElement;for(;$&&$.shadowRoot;)$=$.shadowRoot.activeElement;return $}const P=typeof navigator!="undefined"?navigator:null,C=typeof document!="undefined"?document:null,D=P&&P.userAgent||"",A=/Edge\/(\d+)/.exec(D),x=/MSIE \d/.exec(D),I=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(D),N=!!(x||I||A),F=x?document.documentMode:I?+I[1]:A?+A[1]:0,B=!N&&/gecko\/(\d+)/i.test(D);B&&+(/Firefox\/(\d+)/.exec(D)||[0,0])[1];const V=!N&&/Chrome\/(\d+)/.exec(D),Z=!!V,Y=V?+V[1]:0,ne=!N&&!!P&&/Apple Computer/.test(P.vendor),G=ne&&(/Mobile\/\w+/.test(D)||!!P&&P.maxTouchPoints>2),L=G||(P?/Mac/.test(P.platform):!1),W=/Android \d/.test(D),ie=!!C&&"webkitFontSmoothing"in C.documentElement.style,ue=ie?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function le(K){return{left:0,right:K.documentElement.clientWidth,top:0,bottom:K.documentElement.clientHeight}}function J(K,$){return typeof K=="number"?K:K[$]}function te(K){let $=K.getBoundingClientRect(),re=$.width/K.offsetWidth||1,R=$.height/K.offsetHeight||1;return{left:$.left,right:$.left+K.clientWidth*re,top:$.top,bottom:$.top+K.clientHeight*R}}function se(K,$,re){let R=K.someProp("scrollThreshold")||0,oe=K.someProp("scrollMargin")||5,he=K.dom.ownerDocument;for(let Ie=re||K.dom;Ie;Ie=_(Ie)){if(Ie.nodeType!=1)continue;let Ue=Ie,nt=Ue==he.body,gt=nt?le(he):te(Ue),It=0,Gt=0;if($.top<gt.top+J(R,"top")?Gt=-(gt.top-$.top+J(oe,"top")):$.bottom>gt.bottom-J(R,"bottom")&&(Gt=$.bottom-gt.bottom+J(oe,"bottom")),$.left<gt.left+J(R,"left")?It=-(gt.left-$.left+J(oe,"left")):$.right>gt.right-J(R,"right")&&(It=$.right-gt.right+J(oe,"right")),It||Gt)if(nt)he.defaultView.scrollBy(It,Gt);else{let yn=Ue.scrollLeft,pn=Ue.scrollTop;Gt&&(Ue.scrollTop+=Gt),It&&(Ue.scrollLeft+=It);let Kn=Ue.scrollLeft-yn,sn=Ue.scrollTop-pn;$={left:$.left-Kn,top:$.top-sn,right:$.right-Kn,bottom:$.bottom-sn}}if(nt)break}}function ee(K){let $=K.dom.getBoundingClientRect(),re=Math.max(0,$.top),R,oe;for(let he=($.left+$.right)/2,Ie=re+1;Ie<Math.min(innerHeight,$.bottom);Ie+=5){let Ue=K.root.elementFromPoint(he,Ie);if(!Ue||Ue==K.dom||!K.dom.contains(Ue))continue;let nt=Ue.getBoundingClientRect();if(nt.top>=re-20){R=Ue,oe=nt.top;break}}return{refDOM:R,refTop:oe,stack:ae(K.dom)}}function ae(K){let $=[],re=K.ownerDocument;for(let R=K;R&&($.push({dom:R,top:R.scrollTop,left:R.scrollLeft}),K!=re);R=_(R));return $}function ce({refDOM:K,refTop:$,stack:re}){let R=K?K.getBoundingClientRect().top:0;fe(re,R==0?0:R-$)}function fe(K,$){for(let re=0;re<K.length;re++){let{dom:R,top:oe,left:he}=K[re];R.scrollTop!=oe+$&&(R.scrollTop=oe+$),R.scrollLeft!=he&&(R.scrollLeft=he)}}let Ee=null;function de(K){if(K.setActive)return K.setActive();if(Ee)return K.focus(Ee);let $=ae(K);K.focus(Ee==null?{get preventScroll(){return Ee={preventScroll:!0},!0}}:void 0),Ee||(Ee=!1,fe($,0))}function _e(K,$){let re,R=2e8,oe,he=0,Ie=$.top,Ue=$.top;for(let nt=K.firstChild,gt=0;nt;nt=nt.nextSibling,gt++){let It;if(nt.nodeType==1)It=nt.getClientRects();else if(nt.nodeType==3)It=E(nt).getClientRects();else continue;for(let Gt=0;Gt<It.length;Gt++){let yn=It[Gt];if(yn.top<=Ie&&yn.bottom>=Ue){Ie=Math.max(yn.bottom,Ie),Ue=Math.min(yn.top,Ue);let pn=yn.left>$.left?yn.left-$.left:yn.right<$.left?$.left-yn.right:0;if(pn<R){re=nt,R=pn,oe=pn&&re.nodeType==3?{left:yn.right<$.left?yn.right:yn.left,top:$.top}:$,nt.nodeType==1&&pn&&(he=gt+($.left>=(yn.left+yn.right)/2?1:0));continue}}!re&&($.left>=yn.right&&$.top>=yn.top||$.left>=yn.left&&$.top>=yn.bottom)&&(he=gt+1)}}return re&&re.nodeType==3?ve(re,oe):!re||R&&re.nodeType==1?{node:K,offset:he}:_e(re,oe)}function ve(K,$){let re=K.nodeValue.length,R=document.createRange();for(let oe=0;oe<re;oe++){R.setEnd(K,oe+1),R.setStart(K,oe);let he=Ke(R,1);if(he.top!=he.bottom&&De($,he))return{node:K,offset:oe+($.left>=(he.left+he.right)/2?1:0)}}return{node:K,offset:0}}function De(K,$){return K.left>=$.left-1&&K.left<=$.right+1&&K.top>=$.top-1&&K.top<=$.bottom+1}function Oe(K,$){let re=K.parentNode;return re&&/^li$/i.test(re.nodeName)&&$.left<K.getBoundingClientRect().left?re:K}function ye(K,$,re){let{node:R,offset:oe}=_e($,re),he=-1;if(R.nodeType==1&&!R.firstChild){let Ie=R.getBoundingClientRect();he=Ie.left!=Ie.right&&re.left>(Ie.left+Ie.right)/2?1:-1}return K.docView.posFromDOM(R,oe,he)}function ze(K,$,re,R){let oe=-1;for(let he=$;he!=K.dom;){let Ie=K.docView.nearestDesc(he,!0);if(!Ie)return null;if(Ie.dom.nodeType==1&&(Ie.node.isBlock&&Ie.parent||!Ie.contentDOM)){let Ue=Ie.dom.getBoundingClientRect();if(Ie.node.isBlock&&Ie.parent&&(Ue.left>R.left||Ue.top>R.top?oe=Ie.posBefore:(Ue.right<R.left||Ue.bottom<R.top)&&(oe=Ie.posAfter)),!Ie.contentDOM&&oe<0)return(Ie.node.isBlock?R.top<(Ue.top+Ue.bottom)/2:R.left<(Ue.left+Ue.right)/2)?Ie.posBefore:Ie.posAfter}he=Ie.dom.parentNode}return oe>-1?oe:K.docView.posFromDOM($,re,-1)}function Be(K,$,re){let R=K.childNodes.length;if(R&&re.top<re.bottom)for(let oe=Math.max(0,Math.min(R-1,Math.floor(R*($.top-re.top)/(re.bottom-re.top))-2)),he=oe;;){let Ie=K.childNodes[he];if(Ie.nodeType==1){let Ue=Ie.getClientRects();for(let nt=0;nt<Ue.length;nt++){let gt=Ue[nt];if(De($,gt))return Be(Ie,$,gt)}}if((he=(he+1)%R)==oe)break}return K}function We(K,$){let re=K.dom.ownerDocument,R,oe=0;if(re.caretPositionFromPoint)try{let nt=re.caretPositionFromPoint($.left,$.top);nt&&({offsetNode:R,offset:oe}=nt)}catch(nt){}if(!R&&re.caretRangeFromPoint){let nt=re.caretRangeFromPoint($.left,$.top);nt&&({startContainer:R,startOffset:oe}=nt)}let he=(K.root.elementFromPoint?K.root:re).elementFromPoint($.left,$.top),Ie;if(!he||!K.dom.contains(he.nodeType!=1?he.parentNode:he)){let nt=K.dom.getBoundingClientRect();if(!De($,nt)||(he=Be(K.dom,$,nt),!he))return null}if(ne)for(let nt=he;R&&nt;nt=_(nt))nt.draggable&&(R=void 0);if(he=Oe(he,$),R){if(B&&R.nodeType==1&&(oe=Math.min(oe,R.childNodes.length),oe<R.childNodes.length)){let nt=R.childNodes[oe],gt;nt.nodeName=="IMG"&&(gt=nt.getBoundingClientRect()).right<=$.left&&gt.bottom>$.top&&oe++}R==K.dom&&oe==R.childNodes.length-1&&R.lastChild.nodeType==1&&$.top>R.lastChild.getBoundingClientRect().bottom?Ie=K.state.doc.content.size:(oe==0||R.nodeType!=1||R.childNodes[oe-1].nodeName!="BR")&&(Ie=ze(K,R,oe,$))}Ie==null&&(Ie=ye(K,he,$));let Ue=K.docView.nearestDesc(he,!0);return{pos:Ie,inside:Ue?Ue.posAtStart-Ue.border:-1}}function Ke(K,$){let re=K.getClientRects();return re.length?re[$<0?0:re.length-1]:K.getBoundingClientRect()}const Xe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function ct(K,$,re){let{node:R,offset:oe,atom:he}=K.docView.domFromPos($,re<0?-1:1),Ie=ie||B;if(R.nodeType==3)if(Ie&&(Xe.test(R.nodeValue)||(re<0?!oe:oe==R.nodeValue.length))){let nt=Ke(E(R,oe,oe),re);if(B&&oe&&/\s/.test(R.nodeValue[oe-1])&&oe<R.nodeValue.length){let gt=Ke(E(R,oe-1,oe-1),-1);if(gt.top==nt.top){let It=Ke(E(R,oe,oe+1),-1);if(It.top!=nt.top)return Se(It,It.left<gt.left)}}return nt}else{let nt=oe,gt=oe,It=re<0?1:-1;return re<0&&!oe?(gt++,It=-1):re>=0&&oe==R.nodeValue.length?(nt--,It=1):re<0?nt--:gt++,Se(Ke(E(R,nt,gt),1),It<0)}if(!K.state.doc.resolve($-(he||0)).parent.inlineContent){if(he==null&&oe&&(re<0||oe==w(R))){let nt=R.childNodes[oe-1];if(nt.nodeType==1)return Qe(nt.getBoundingClientRect(),!1)}if(he==null&&oe<w(R)){let nt=R.childNodes[oe];if(nt.nodeType==1)return Qe(nt.getBoundingClientRect(),!0)}return Qe(R.getBoundingClientRect(),re>=0)}if(he==null&&oe&&(re<0||oe==w(R))){let nt=R.childNodes[oe-1],gt=nt.nodeType==3?E(nt,w(nt)-(Ie?0:1)):nt.nodeType==1&&(nt.nodeName!="BR"||!nt.nextSibling)?nt:null;if(gt)return Se(Ke(gt,1),!1)}if(he==null&&oe<w(R)){let nt=R.childNodes[oe];for(;nt.pmViewDesc&&nt.pmViewDesc.ignoreForCoords;)nt=nt.nextSibling;let gt=nt?nt.nodeType==3?E(nt,0,Ie?0:1):nt.nodeType==1?nt:null:null;if(gt)return Se(Ke(gt,-1),!0)}return Se(Ke(R.nodeType==3?E(R):R,-re),re>=0)}function Se(K,$){if(K.width==0)return K;let re=$?K.left:K.right;return{top:K.top,bottom:K.bottom,left:re,right:re}}function Qe(K,$){if(K.height==0)return K;let re=$?K.top:K.bottom;return{top:re,bottom:re,left:K.left,right:K.right}}function ge(K,$,re){let R=K.state,oe=K.root.activeElement;R!=$&&K.updateState($),oe!=K.dom&&K.focus();try{return re()}finally{R!=$&&K.updateState(R),oe!=K.dom&&oe&&oe.focus()}}function Fe(K,$,re){let R=$.selection,oe=re=="up"?R.$from:R.$to;return ge(K,$,()=>{let{node:he}=K.docView.domFromPos(oe.pos,re=="up"?-1:1);for(;;){let Ue=K.docView.nearestDesc(he,!0);if(!Ue)break;if(Ue.node.isBlock){he=Ue.contentDOM||Ue.dom;break}he=Ue.dom.parentNode}let Ie=ct(K,oe.pos,1);for(let Ue=he.firstChild;Ue;Ue=Ue.nextSibling){let nt;if(Ue.nodeType==1)nt=Ue.getClientRects();else if(Ue.nodeType==3)nt=E(Ue,0,Ue.nodeValue.length).getClientRects();else continue;for(let gt=0;gt<nt.length;gt++){let It=nt[gt];if(It.bottom>It.top+1&&(re=="up"?Ie.top-It.top>(It.bottom-Ie.top)*2:It.bottom-Ie.bottom>(Ie.bottom-It.top)*2))return!1}}return!0})}const Ne=/[\u0590-\u08ac]/;function lt(K,$,re){let{$head:R}=$.selection;if(!R.parent.isTextblock)return!1;let oe=R.parentOffset,he=!oe,Ie=oe==R.parent.content.size,Ue=K.domSelection();return!Ne.test(R.parent.textContent)||!Ue.modify?re=="left"||re=="backward"?he:Ie:ge(K,$,()=>{let{focusNode:nt,focusOffset:gt,anchorNode:It,anchorOffset:Gt}=K.domSelectionRange(),yn=Ue.caretBidiLevel;Ue.modify("move",re,"character");let pn=R.depth?K.docView.domAfterPos(R.before()):K.dom,{focusNode:Kn,focusOffset:sn}=K.domSelectionRange(),Ur=Kn&&!pn.contains(Kn.nodeType==1?Kn:Kn.parentNode)||nt==Kn&&gt==sn;try{Ue.collapse(It,Gt),nt&&(nt!=It||gt!=Gt)&&Ue.extend&&Ue.extend(nt,gt)}catch(Eo){}return yn!=null&&(Ue.caretBidiLevel=yn),Ur})}let Et=null,jt=null,en=!1;function vt(K,$,re){return Et==$&&jt==re?en:(Et=$,jt=re,en=re=="up"||re=="down"?Fe(K,$,re):lt(K,$,re))}const Re=0,He=1,ot=2,me=3;class ke{constructor($,re,R,oe){this.parent=$,this.children=re,this.dom=R,this.contentDOM=oe,this.dirty=Re,R.pmViewDesc=this}matchesWidget($){return!1}matchesMark($){return!1}matchesNode($,re,R){return!1}matchesHack($){return!1}parseRule(){return null}stopEvent($){return!1}get size(){let $=0;for(let re=0;re<this.children.length;re++)$+=this.children[re].size;return $}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let $=0;$<this.children.length;$++)this.children[$].destroy()}posBeforeChild($){for(let re=0,R=this.posAtStart;;re++){let oe=this.children[re];if(oe==$)return R;R+=oe.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM($,re,R){if(this.contentDOM&&this.contentDOM.contains($.nodeType==1?$:$.parentNode))if(R<0){let he,Ie;if($==this.contentDOM)he=$.childNodes[re-1];else{for(;$.parentNode!=this.contentDOM;)$=$.parentNode;he=$.previousSibling}for(;he&&!((Ie=he.pmViewDesc)&&Ie.parent==this);)he=he.previousSibling;return he?this.posBeforeChild(Ie)+Ie.size:this.posAtStart}else{let he,Ie;if($==this.contentDOM)he=$.childNodes[re];else{for(;$.parentNode!=this.contentDOM;)$=$.parentNode;he=$.nextSibling}for(;he&&!((Ie=he.pmViewDesc)&&Ie.parent==this);)he=he.nextSibling;return he?this.posBeforeChild(Ie):this.posAtEnd}let oe;if($==this.dom&&this.contentDOM)oe=re>c(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))oe=$.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(re==0)for(let he=$;;he=he.parentNode){if(he==this.dom){oe=!1;break}if(he.previousSibling)break}if(oe==null&&re==$.childNodes.length)for(let he=$;;he=he.parentNode){if(he==this.dom){oe=!0;break}if(he.nextSibling)break}}return(oe==null?R>0:oe)?this.posAtEnd:this.posAtStart}nearestDesc($,re=!1){for(let R=!0,oe=$;oe;oe=oe.parentNode){let he=this.getDesc(oe),Ie;if(he&&(!re||he.node))if(R&&(Ie=he.nodeDOM)&&!(Ie.nodeType==1?Ie.contains($.nodeType==1?$:$.parentNode):Ie==$))R=!1;else return he}}getDesc($){let re=$.pmViewDesc;for(let R=re;R;R=R.parent)if(R==this)return re}posFromDOM($,re,R){for(let oe=$;oe;oe=oe.parentNode){let he=this.getDesc(oe);if(he)return he.localPosFromDOM($,re,R)}return-1}descAt($){for(let re=0,R=0;re<this.children.length;re++){let oe=this.children[re],he=R+oe.size;if(R==$&&he!=R){for(;!oe.border&&oe.children.length;)oe=oe.children[0];return oe}if($<he)return oe.descAt($-R-oe.border);R=he}}domFromPos($,re){if(!this.contentDOM)return{node:this.dom,offset:0,atom:$+1};let R=0,oe=0;for(let he=0;R<this.children.length;R++){let Ie=this.children[R],Ue=he+Ie.size;if(Ue>$||Ie instanceof pe){oe=$-he;break}he=Ue}if(oe)return this.children[R].domFromPos(oe-this.children[R].border,re);for(let he;R&&!(he=this.children[R-1]).size&&he instanceof je&&he.side>=0;R--);if(re<=0){let he,Ie=!0;for(;he=R?this.children[R-1]:null,!(!he||he.dom.parentNode==this.contentDOM);R--,Ie=!1);return he&&re&&Ie&&!he.border&&!he.domAtom?he.domFromPos(he.size,re):{node:this.contentDOM,offset:he?c(he.dom)+1:0}}else{let he,Ie=!0;for(;he=R<this.children.length?this.children[R]:null,!(!he||he.dom.parentNode==this.contentDOM);R++,Ie=!1);return he&&Ie&&!he.border&&!he.domAtom?he.domFromPos(0,re):{node:this.contentDOM,offset:he?c(he.dom):this.contentDOM.childNodes.length}}}parseRange($,re,R=0){if(this.children.length==0)return{node:this.contentDOM,from:$,to:re,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let oe=-1,he=-1;for(let Ie=R,Ue=0;;Ue++){let nt=this.children[Ue],gt=Ie+nt.size;if(oe==-1&&$<=gt){let It=Ie+nt.border;if($>=It&&re<=gt-nt.border&&nt.node&&nt.contentDOM&&this.contentDOM.contains(nt.contentDOM))return nt.parseRange($,re,It);$=Ie;for(let Gt=Ue;Gt>0;Gt--){let yn=this.children[Gt-1];if(yn.size&&yn.dom.parentNode==this.contentDOM&&!yn.emptyChildAt(1)){oe=c(yn.dom)+1;break}$-=yn.size}oe==-1&&(oe=0)}if(oe>-1&&(gt>re||Ue==this.children.length-1)){re=gt;for(let It=Ue+1;It<this.children.length;It++){let Gt=this.children[It];if(Gt.size&&Gt.dom.parentNode==this.contentDOM&&!Gt.emptyChildAt(-1)){he=c(Gt.dom);break}re+=Gt.size}he==-1&&(he=this.contentDOM.childNodes.length);break}Ie=gt}return{node:this.contentDOM,from:$,to:re,fromOffset:oe,toOffset:he}}emptyChildAt($){if(this.border||!this.contentDOM||!this.children.length)return!1;let re=this.children[$<0?0:this.children.length-1];return re.size==0||re.emptyChildAt($)}domAfterPos($){let{node:re,offset:R}=this.domFromPos($,0);if(re.nodeType!=1||R==re.childNodes.length)throw new RangeError("No node after pos "+$);return re.childNodes[R]}setSelection($,re,R,oe=!1){let he=Math.min($,re),Ie=Math.max($,re);for(let yn=0,pn=0;yn<this.children.length;yn++){let Kn=this.children[yn],sn=pn+Kn.size;if(he>pn&&Ie<sn)return Kn.setSelection($-pn-Kn.border,re-pn-Kn.border,R,oe);pn=sn}let Ue=this.domFromPos($,$?-1:1),nt=re==$?Ue:this.domFromPos(re,re?-1:1),gt=R.getSelection(),It=!1;if((B||ne)&&$==re){let{node:yn,offset:pn}=Ue;if(yn.nodeType==3){if(It=!!(pn&&yn.nodeValue[pn-1]==`
`),It&&pn==yn.nodeValue.length)for(let Kn=yn,sn;Kn;Kn=Kn.parentNode){if(sn=Kn.nextSibling){sn.nodeName=="BR"&&(Ue=nt={node:sn.parentNode,offset:c(sn)+1});break}let Ur=Kn.pmViewDesc;if(Ur&&Ur.node&&Ur.node.isBlock)break}}else{let Kn=yn.childNodes[pn-1];It=Kn&&(Kn.nodeName=="BR"||Kn.contentEditable=="false")}}if(B&&gt.focusNode&&gt.focusNode!=nt.node&&gt.focusNode.nodeType==1){let yn=gt.focusNode.childNodes[gt.focusOffset];yn&&yn.contentEditable=="false"&&(oe=!0)}if(!(oe||It&&ne)&&v(Ue.node,Ue.offset,gt.anchorNode,gt.anchorOffset)&&v(nt.node,nt.offset,gt.focusNode,gt.focusOffset))return;let Gt=!1;if((gt.extend||$==re)&&!It){gt.collapse(Ue.node,Ue.offset);try{$!=re&&gt.extend(nt.node,nt.offset),Gt=!0}catch(yn){}}if(!Gt){if($>re){let pn=Ue;Ue=nt,nt=pn}let yn=document.createRange();yn.setEnd(nt.node,nt.offset),yn.setStart(Ue.node,Ue.offset),gt.removeAllRanges(),gt.addRange(yn)}}ignoreMutation($){return!this.contentDOM&&$.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty($,re){for(let R=0,oe=0;oe<this.children.length;oe++){let he=this.children[oe],Ie=R+he.size;if(R==Ie?$<=Ie&&re>=R:$<Ie&&re>R){let Ue=R+he.border,nt=Ie-he.border;if($>=Ue&&re<=nt){this.dirty=$==R||re==Ie?ot:He,$==Ue&&re==nt&&(he.contentLost||he.dom.parentNode!=this.contentDOM)?he.dirty=me:he.markDirty($-Ue,re-Ue);return}else he.dirty=he.dom==he.contentDOM&&he.dom.parentNode==this.contentDOM&&!he.children.length?ot:me}R=Ie}this.dirty=ot}markParentsDirty(){let $=1;for(let re=this.parent;re;re=re.parent,$++){let R=$==1?ot:He;re.dirty<R&&(re.dirty=R)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class je extends ke{constructor($,re,R,oe){let he,Ie=re.type.toDOM;if(typeof Ie=="function"&&(Ie=Ie(R,()=>{if(!he)return oe;if(he.parent)return he.parent.posBeforeChild(he)})),!re.type.spec.raw){if(Ie.nodeType!=1){let Ue=document.createElement("span");Ue.appendChild(Ie),Ie=Ue}Ie.contentEditable="false",Ie.classList.add("ProseMirror-widget")}super($,[],Ie,null),this.widget=re,this.widget=re,he=this}matchesWidget($){return this.dirty==Re&&$.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent($){let re=this.widget.spec.stopEvent;return re?re($):!1}ignoreMutation($){return $.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class Je extends ke{constructor($,re,R,oe){super($,[],re,null),this.textDOM=R,this.text=oe}get size(){return this.text.length}localPosFromDOM($,re){return $!=this.textDOM?this.posAtStart+(re?this.size:0):this.posAtStart+re}domFromPos($){return{node:this.textDOM,offset:$}}ignoreMutation($){return $.type==="characterData"&&$.target.nodeValue==$.oldValue}}class tt extends ke{constructor($,re,R,oe){super($,[],R,oe),this.mark=re}static create($,re,R,oe){let he=oe.nodeViews[re.type.name],Ie=he&&he(re,oe,R);return(!Ie||!Ie.dom)&&(Ie=f.PW.renderSpec(document,re.type.spec.toDOM(re,R))),new tt($,re,Ie.dom,Ie.contentDOM||Ie.dom)}parseRule(){return this.dirty&me||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark($){return this.dirty!=me&&this.mark.eq($)}markDirty($,re){if(super.markDirty($,re),this.dirty!=Re){let R=this.parent;for(;!R.node;)R=R.parent;R.dirty<this.dirty&&(R.dirty=this.dirty),this.dirty=Re}}slice($,re,R){let oe=tt.create(this.parent,this.mark,!0,R),he=this.children,Ie=this.size;re<Ie&&(he=Pr(he,re,Ie,R)),$>0&&(he=Pr(he,0,$,R));for(let Ue=0;Ue<he.length;Ue++)he[Ue].parent=oe;return oe.children=he,oe}}class Ae extends ke{constructor($,re,R,oe,he,Ie,Ue,nt,gt){super($,[],he,Ie),this.node=re,this.outerDeco=R,this.innerDeco=oe,this.nodeDOM=Ue,Ie&&this.updateChildren(nt,gt)}static create($,re,R,oe,he,Ie){let Ue=he.nodeViews[re.type.name],nt,gt=Ue&&Ue(re,he,()=>{if(!nt)return Ie;if(nt.parent)return nt.parent.posBeforeChild(nt)},R,oe),It=gt&&gt.dom,Gt=gt&&gt.contentDOM;if(re.isText){if(!It)It=document.createTextNode(re.text);else if(It.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else It||({dom:It,contentDOM:Gt}=f.PW.renderSpec(document,re.type.spec.toDOM(re)));!Gt&&!re.isText&&It.nodeName!="BR"&&(It.hasAttribute("contenteditable")||(It.contentEditable="false"),re.type.spec.draggable&&(It.draggable=!0));let yn=It;return It=nn(It,R,re),gt?nt=new we($,re,R,oe,It,Gt||null,yn,gt,he,Ie+1):re.isText?new Q($,re,R,oe,It,yn,he):new Ae($,re,R,oe,It,Gt||null,yn,he,Ie+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let $={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&($.preserveWhitespace="full"),!this.contentDOM)$.getContent=()=>this.node.content;else if(!this.contentLost)$.contentElement=this.contentDOM;else{for(let re=this.children.length-1;re>=0;re--){let R=this.children[re];if(this.dom.contains(R.dom.parentNode)){$.contentElement=R.dom.parentNode;break}}$.contentElement||($.getContent=()=>f.HY.empty)}return $}matchesNode($,re,R){return this.dirty==Re&&$.eq(this.node)&&Mn(re,this.outerDeco)&&R.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren($,re){let R=this.node.inlineContent,oe=re,he=$.composing?this.localCompositionInfo($,re):null,Ie=he&&he.pos>-1?he:null,Ue=he&&he.pos<0,nt=new sr(this,Ie&&Ie.node,$);$t(this.node,this.innerDeco,(gt,It,Gt)=>{gt.spec.marks?nt.syncToMarks(gt.spec.marks,R,$):gt.type.side>=0&&!Gt&&nt.syncToMarks(It==this.node.childCount?f.vc.none:this.node.child(It).marks,R,$),nt.placeWidget(gt,$,oe)},(gt,It,Gt,yn)=>{nt.syncToMarks(gt.marks,R,$);let pn;nt.findNodeMatch(gt,It,Gt,yn)||Ue&&$.state.selection.from>oe&&$.state.selection.to<oe+gt.nodeSize&&(pn=nt.findIndexWithChild(he.node))>-1&&nt.updateNodeAt(gt,It,Gt,pn,$)||nt.updateNextNode(gt,It,Gt,$,yn)||nt.addNode(gt,It,Gt,$,oe),oe+=gt.nodeSize}),nt.syncToMarks([],R,$),this.node.isTextblock&&nt.addTextblockHacks(),nt.destroyRest(),(nt.changed||this.dirty==ot)&&(Ie&&this.protectLocalComposition($,Ie),Le(this.contentDOM,this.children,$),G&&vn(this.dom))}localCompositionInfo($,re){let{from:R,to:oe}=$.state.selection;if(!($.state.selection instanceof o.Bs)||R<re||oe>re+this.node.content.size)return null;let he=$.domSelectionRange(),Ie=An(he.focusNode,he.focusOffset);if(!Ie||!this.dom.contains(Ie.parentNode))return null;if(this.node.inlineContent){let Ue=Ie.nodeValue,nt=dr(this.node.content,Ue,R-re,oe-re);return nt<0?null:{node:Ie,pos:nt,text:Ue}}else return{node:Ie,pos:-1,text:""}}protectLocalComposition($,{node:re,pos:R,text:oe}){if(this.getDesc(re))return;let he=re;for(;he.parentNode!=this.contentDOM;he=he.parentNode){for(;he.previousSibling;)he.parentNode.removeChild(he.previousSibling);for(;he.nextSibling;)he.parentNode.removeChild(he.nextSibling);he.pmViewDesc&&(he.pmViewDesc=void 0)}let Ie=new Je(this,he,re,oe);$.input.compositionNodes.push(Ie),this.children=Pr(this.children,R,R+oe.length,$,Ie)}update($,re,R,oe){return this.dirty==me||!$.sameMarkup(this.node)?!1:(this.updateInner($,re,R,oe),!0)}updateInner($,re,R,oe){this.updateOuterDeco(re),this.node=$,this.innerDeco=R,this.contentDOM&&this.updateChildren(oe,this.posAtStart),this.dirty=Re}updateOuterDeco($){if(Mn($,this.outerDeco))return;let re=this.nodeDOM.nodeType!=1,R=this.dom;this.dom=_t(this.dom,this.nodeDOM,st(this.outerDeco,this.node,re),st($,this.node,re)),this.dom!=R&&(R.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=$}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function H(K,$,re,R,oe){return nn(R,$,K),new Ae(void 0,K,$,re,R,R,R,oe,0)}class Q extends Ae{constructor($,re,R,oe,he,Ie,Ue){super($,re,R,oe,he,null,Ie,Ue,0)}parseRule(){let $=this.nodeDOM.parentNode;for(;$&&$!=this.dom&&!$.pmIsDeco;)$=$.parentNode;return{skip:$||!0}}update($,re,R,oe){return this.dirty==me||this.dirty!=Re&&!this.inParent()||!$.sameMarkup(this.node)?!1:(this.updateOuterDeco(re),(this.dirty!=Re||$.text!=this.node.text)&&$.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=$.text,oe.trackWrites==this.nodeDOM&&(oe.trackWrites=null)),this.node=$,this.dirty=Re,!0)}inParent(){let $=this.parent.contentDOM;for(let re=this.nodeDOM;re;re=re.parentNode)if(re==$)return!0;return!1}domFromPos($){return{node:this.nodeDOM,offset:$}}localPosFromDOM($,re,R){return $==this.nodeDOM?this.posAtStart+Math.min(re,this.node.text.length):super.localPosFromDOM($,re,R)}ignoreMutation($){return $.type!="characterData"&&$.type!="selection"}slice($,re,R){let oe=this.node.cut($,re),he=document.createTextNode(oe.text);return new Q(this.parent,oe,this.outerDeco,this.innerDeco,he,he,R)}markDirty($,re){super.markDirty($,re),this.dom!=this.nodeDOM&&($==0||re==this.nodeDOM.nodeValue.length)&&(this.dirty=me)}get domAtom(){return!1}}class pe extends ke{parseRule(){return{ignore:!0}}matchesHack($){return this.dirty==Re&&this.dom.nodeName==$}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class we extends Ae{constructor($,re,R,oe,he,Ie,Ue,nt,gt,It){super($,re,R,oe,he,Ie,Ue,gt,It),this.spec=nt}update($,re,R,oe){if(this.dirty==me)return!1;if(this.spec.update){let he=this.spec.update($,re,R);return he&&this.updateInner($,re,R,oe),he}else return!this.contentDOM&&!$.isLeaf?!1:super.update($,re,R,oe)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection($,re,R,oe){this.spec.setSelection?this.spec.setSelection($,re,R):super.setSelection($,re,R,oe)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent($){return this.spec.stopEvent?this.spec.stopEvent($):!1}ignoreMutation($){return this.spec.ignoreMutation?this.spec.ignoreMutation($):super.ignoreMutation($)}}function Le(K,$,re){let R=K.firstChild,oe=!1;for(let he=0;he<$.length;he++){let Ie=$[he],Ue=Ie.dom;if(Ue.parentNode==K){for(;Ue!=R;)R=tr(R),oe=!0;R=R.nextSibling}else oe=!0,K.insertBefore(Ue,R);if(Ie instanceof tt){let nt=R?R.previousSibling:K.lastChild;Le(Ie.contentDOM,Ie.children,re),R=nt?nt.nextSibling:K.firstChild}}for(;R;)R=tr(R),oe=!0;oe&&re.trackWrites==K&&(re.trackWrites=null)}const Ye=function(K){K&&(this.nodeName=K)};Ye.prototype=Object.create(null);const dt=[new Ye];function st(K,$,re){if(K.length==0)return dt;let R=re?dt[0]:new Ye,oe=[R];for(let he=0;he<K.length;he++){let Ie=K[he].type.attrs;if(Ie){Ie.nodeName&&oe.push(R=new Ye(Ie.nodeName));for(let Ue in Ie){let nt=Ie[Ue];nt!=null&&(re&&oe.length==1&&oe.push(R=new Ye($.isInline?"span":"div")),Ue=="class"?R.class=(R.class?R.class+" ":"")+nt:Ue=="style"?R.style=(R.style?R.style+";":"")+nt:Ue!="nodeName"&&(R[Ue]=nt))}}}return oe}function _t(K,$,re,R){if(re==dt&&R==dt)return $;let oe=$;for(let he=0;he<R.length;he++){let Ie=R[he],Ue=re[he];if(he){let nt;Ue&&Ue.nodeName==Ie.nodeName&&oe!=K&&(nt=oe.parentNode)&&nt.nodeName.toLowerCase()==Ie.nodeName||(nt=document.createElement(Ie.nodeName),nt.pmIsDeco=!0,nt.appendChild(oe),Ue=dt[0]),oe=nt}Tt(oe,Ue||dt[0],Ie)}return oe}function Tt(K,$,re){for(let R in $)R!="class"&&R!="style"&&R!="nodeName"&&!(R in re)&&K.removeAttribute(R);for(let R in re)R!="class"&&R!="style"&&R!="nodeName"&&re[R]!=$[R]&&K.setAttribute(R,re[R]);if($.class!=re.class){let R=$.class?$.class.split(" ").filter(Boolean):[],oe=re.class?re.class.split(" ").filter(Boolean):[];for(let he=0;he<R.length;he++)oe.indexOf(R[he])==-1&&K.classList.remove(R[he]);for(let he=0;he<oe.length;he++)R.indexOf(oe[he])==-1&&K.classList.add(oe[he]);K.classList.length==0&&K.removeAttribute("class")}if($.style!=re.style){if($.style){let R=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,oe;for(;oe=R.exec($.style);)K.style.removeProperty(oe[1])}re.style&&(K.style.cssText+=re.style)}}function nn(K,$,re){return _t(K,K,dt,st($,re,K.nodeType!=1))}function Mn(K,$){if(K.length!=$.length)return!1;for(let re=0;re<K.length;re++)if(!K[re].type.eq($[re].type))return!1;return!0}function tr(K){let $=K.nextSibling;return K.parentNode.removeChild(K),$}class sr{constructor($,re,R){this.lock=re,this.view=R,this.index=0,this.stack=[],this.changed=!1,this.top=$,this.preMatch=Rt($.node.content,$)}destroyBetween($,re){if($!=re){for(let R=$;R<re;R++)this.top.children[R].destroy();this.top.children.splice($,re-$),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks($,re,R){let oe=0,he=this.stack.length>>1,Ie=Math.min(he,$.length);for(;oe<Ie&&(oe==he-1?this.top:this.stack[oe+1<<1]).matchesMark($[oe])&&$[oe].type.spec.spanning!==!1;)oe++;for(;oe<he;)this.destroyRest(),this.top.dirty=Re,this.index=this.stack.pop(),this.top=this.stack.pop(),he--;for(;he<$.length;){this.stack.push(this.top,this.index+1);let Ue=-1;for(let nt=this.index;nt<Math.min(this.index+3,this.top.children.length);nt++){let gt=this.top.children[nt];if(gt.matchesMark($[he])&&!this.isLocked(gt.dom)){Ue=nt;break}}if(Ue>-1)Ue>this.index&&(this.changed=!0,this.destroyBetween(this.index,Ue)),this.top=this.top.children[this.index];else{let nt=tt.create(this.top,$[he],re,R);this.top.children.splice(this.index,0,nt),this.top=nt,this.changed=!0}this.index=0,he++}}findNodeMatch($,re,R,oe){let he=-1,Ie;if(oe>=this.preMatch.index&&(Ie=this.preMatch.matches[oe-this.preMatch.index]).parent==this.top&&Ie.matchesNode($,re,R))he=this.top.children.indexOf(Ie,this.index);else for(let Ue=this.index,nt=Math.min(this.top.children.length,Ue+5);Ue<nt;Ue++){let gt=this.top.children[Ue];if(gt.matchesNode($,re,R)&&!this.preMatch.matched.has(gt)){he=Ue;break}}return he<0?!1:(this.destroyBetween(this.index,he),this.index++,!0)}updateNodeAt($,re,R,oe,he){let Ie=this.top.children[oe];return Ie.dirty==me&&Ie.dom==Ie.contentDOM&&(Ie.dirty=ot),Ie.update($,re,R,he)?(this.destroyBetween(this.index,oe),this.index++,!0):!1}findIndexWithChild($){for(;;){let re=$.parentNode;if(!re)return-1;if(re==this.top.contentDOM){let R=$.pmViewDesc;if(R){for(let oe=this.index;oe<this.top.children.length;oe++)if(this.top.children[oe]==R)return oe}return-1}$=re}}updateNextNode($,re,R,oe,he){for(let Ie=this.index;Ie<this.top.children.length;Ie++){let Ue=this.top.children[Ie];if(Ue instanceof Ae){let nt=this.preMatch.matched.get(Ue);if(nt!=null&&nt!=he)return!1;let gt=Ue.dom;if(!(this.isLocked(gt)&&!($.isText&&Ue.node&&Ue.node.isText&&Ue.nodeDOM.nodeValue==$.text&&Ue.dirty!=me&&Mn(re,Ue.outerDeco)))&&Ue.update($,re,R,oe))return this.destroyBetween(this.index,Ie),Ue.dom!=gt&&(this.changed=!0),this.index++,!0;break}}return!1}addNode($,re,R,oe,he){this.top.children.splice(this.index++,0,Ae.create(this.top,$,re,R,oe,he)),this.changed=!0}placeWidget($,re,R){let oe=this.index<this.top.children.length?this.top.children[this.index]:null;if(oe&&oe.matchesWidget($)&&($==oe.widget||!oe.widget.type.toDOM.parentNode))this.index++;else{let he=new je(this.top,$,re,R);this.top.children.splice(this.index++,0,he),this.changed=!0}}addTextblockHacks(){let $=this.top.children[this.index-1],re=this.top;for(;$ instanceof tt;)re=$,$=re.children[re.children.length-1];(!$||!($ instanceof Q)||/\n$/.test($.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test($.node.text))&&((ne||Z)&&$&&$.dom.contentEditable=="false"&&this.addHackNode("IMG",re),this.addHackNode("BR",this.top))}addHackNode($,re){if(re==this.top&&this.index<re.children.length&&re.children[this.index].matchesHack($))this.index++;else{let R=document.createElement($);$=="IMG"&&(R.className="ProseMirror-separator",R.alt=""),$=="BR"&&(R.className="ProseMirror-trailingBreak");let oe=new pe(this.top,[],R,null);re!=this.top?re.children.push(oe):re.children.splice(this.index++,0,oe),this.changed=!0}}isLocked($){return this.lock&&($==this.lock||$.nodeType==1&&$.contains(this.lock.parentNode))}}function Rt(K,$){let re=$,R=re.children.length,oe=K.childCount,he=new Map,Ie=[];e:for(;oe>0;){let Ue;for(;;)if(R){let gt=re.children[R-1];if(gt instanceof tt)re=gt,R=gt.children.length;else{Ue=gt,R--;break}}else{if(re==$)break e;R=re.parent.children.indexOf(re),re=re.parent}let nt=Ue.node;if(nt){if(nt!=K.child(oe-1))break;--oe,he.set(Ue,oe),Ie.push(Ue)}}return{index:oe,matched:he,matches:Ie.reverse()}}function Mt(K,$){return K.type.side-$.type.side}function $t(K,$,re,R){let oe=$.locals(K),he=0;if(oe.length==0){for(let gt=0;gt<K.childCount;gt++){let It=K.child(gt);R(It,oe,$.forChild(he,It),gt),he+=It.nodeSize}return}let Ie=0,Ue=[],nt=null;for(let gt=0;;){if(Ie<oe.length&&oe[Ie].to==he){let Kn=oe[Ie++],sn;for(;Ie<oe.length&&oe[Ie].to==he;)(sn||(sn=[Kn])).push(oe[Ie++]);if(sn){sn.sort(Mt);for(let Ur=0;Ur<sn.length;Ur++)re(sn[Ur],gt,!!nt)}else re(Kn,gt,!!nt)}let It,Gt;if(nt)Gt=-1,It=nt,nt=null;else if(gt<K.childCount)Gt=gt,It=K.child(gt++);else break;for(let Kn=0;Kn<Ue.length;Kn++)Ue[Kn].to<=he&&Ue.splice(Kn--,1);for(;Ie<oe.length&&oe[Ie].from<=he&&oe[Ie].to>he;)Ue.push(oe[Ie++]);let yn=he+It.nodeSize;if(It.isText){let Kn=yn;Ie<oe.length&&oe[Ie].from<Kn&&(Kn=oe[Ie].from);for(let sn=0;sn<Ue.length;sn++)Ue[sn].to<Kn&&(Kn=Ue[sn].to);Kn<yn&&(nt=It.cut(Kn-he),It=It.cut(0,Kn-he),yn=Kn,Gt=-1)}let pn=It.isInline&&!It.isLeaf?Ue.filter(Kn=>!Kn.inline):Ue.slice();R(It,pn,$.forChild(he,It),Gt),he=yn}}function vn(K){if(K.nodeName=="UL"||K.nodeName=="OL"){let $=K.style.cssText;K.style.cssText=$+"; list-style: square !important",window.getComputedStyle(K).listStyle,K.style.cssText=$}}function An(K,$){for(;;){if(K.nodeType==3)return K;if(K.nodeType==1&&$>0){if(K.childNodes.length>$&&K.childNodes[$].nodeType==3)return K.childNodes[$];K=K.childNodes[$-1],$=w(K)}else if(K.nodeType==1&&$<K.childNodes.length)K=K.childNodes[$],$=0;else return null}}function dr(K,$,re,R){for(let oe=0,he=0;oe<K.childCount&&he<=R;){let Ie=K.child(oe++),Ue=he;if(he+=Ie.nodeSize,!Ie.isText)continue;let nt=Ie.text;for(;oe<K.childCount;){let gt=K.child(oe++);if(he+=gt.nodeSize,!gt.isText)break;nt+=gt.text}if(he>=re){let gt=Ue<R?nt.lastIndexOf($,R-Ue-1):-1;if(gt>=0&&gt+$.length+Ue>=re)return Ue+gt;if(re==R&&nt.length>=R+$.length-Ue&&nt.slice(R-Ue,R-Ue+$.length)==$)return R}}return-1}function Pr(K,$,re,R,oe){let he=[];for(let Ie=0,Ue=0;Ie<K.length;Ie++){let nt=K[Ie],gt=Ue,It=Ue+=nt.size;gt>=re||It<=$?he.push(nt):(gt<$&&he.push(nt.slice(0,$-gt,R)),oe&&(he.push(oe),oe=void 0),It>re&&he.push(nt.slice(re-gt,nt.size,R)))}return he}function br(K,$=null){let re=K.domSelectionRange(),R=K.state.doc;if(!re.focusNode)return null;let oe=K.docView.nearestDesc(re.focusNode),he=oe&&oe.size==0,Ie=K.docView.posFromDOM(re.focusNode,re.focusOffset,1);if(Ie<0)return null;let Ue=R.resolve(Ie),nt,gt;if(p(re)){for(nt=Ue;oe&&!oe.node;)oe=oe.parent;let It=oe.node;if(oe&&It.isAtom&&o.qv.isSelectable(It)&&oe.parent&&!(It.isInline&&S(re.focusNode,re.focusOffset,oe.dom))){let Gt=oe.posBefore;gt=new o.qv(Ie==Gt?Ue:R.resolve(Gt))}}else{let It=K.docView.posFromDOM(re.anchorNode,re.anchorOffset,1);if(It<0)return null;nt=R.resolve(It)}if(!gt){let It=$=="pointer"||K.state.selection.head<Ue.pos&&!he?1:-1;gt=Hr(K,nt,Ue,It)}return gt}function Or(K){return K.editable?K.hasFocus():oo(K)&&document.activeElement&&document.activeElement.contains(K.dom)}function Lr(K,$=!1){let re=K.state.selection;if(io(K,re),!!Or(K)){if(!$&&K.input.mouseDown&&K.input.mouseDown.allowDefault&&Z){let R=K.domSelectionRange(),oe=K.domObserver.currentSelection;if(R.anchorNode&&oe.anchorNode&&v(R.anchorNode,R.anchorOffset,oe.anchorNode,oe.anchorOffset)){K.input.mouseDown.delayedSelectionSync=!0,K.domObserver.setCurSelection();return}}if(K.domObserver.disconnectSelection(),K.cursorWrapper)co(K);else{let{anchor:R,head:oe}=re,he,Ie;Wr&&!(re instanceof o.Bs)&&(re.$from.parent.inlineContent||(he=Zr(K,re.from)),!re.empty&&!re.$from.parent.inlineContent&&(Ie=Zr(K,re.to))),K.docView.setSelection(R,oe,K.root,$),Wr&&(he&&ho(he),Ie&&ho(Ie)),re.visible?K.dom.classList.remove("ProseMirror-hideselection"):(K.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&$r(K))}K.domObserver.setCurSelection(),K.domObserver.connectSelection()}}const Wr=ne||Z&&Y<63;function Zr(K,$){let{node:re,offset:R}=K.docView.domFromPos($,0),oe=R<re.childNodes.length?re.childNodes[R]:null,he=R?re.childNodes[R-1]:null;if(ne&&oe&&oe.contentEditable=="false")return yo(oe);if((!oe||oe.contentEditable=="false")&&(!he||he.contentEditable=="false")){if(oe)return yo(oe);if(he)return yo(he)}}function yo(K){return K.contentEditable="true",ne&&K.draggable&&(K.draggable=!1,K.wasDraggable=!0),K}function ho(K){K.contentEditable="false",K.wasDraggable&&(K.draggable=!0,K.wasDraggable=null)}function $r(K){let $=K.dom.ownerDocument;$.removeEventListener("selectionchange",K.input.hideSelectionGuard);let re=K.domSelectionRange(),R=re.anchorNode,oe=re.anchorOffset;$.addEventListener("selectionchange",K.input.hideSelectionGuard=()=>{(re.anchorNode!=R||re.anchorOffset!=oe)&&($.removeEventListener("selectionchange",K.input.hideSelectionGuard),setTimeout(()=>{(!Or(K)||K.state.selection.visible)&&K.dom.classList.remove("ProseMirror-hideselection")},20))})}function co(K){let $=K.domSelection(),re=document.createRange(),R=K.cursorWrapper.dom,oe=R.nodeName=="IMG";oe?re.setEnd(R.parentNode,c(R)+1):re.setEnd(R,0),re.collapse(!1),$.removeAllRanges(),$.addRange(re),!oe&&!K.state.selection.visible&&N&&F<=11&&(R.disabled=!0,R.disabled=!1)}function io(K,$){if($ instanceof o.qv){let re=K.docView.descAt($.from);re!=K.lastSelectedViewDesc&&(Tr(K),re&&re.selectNode(),K.lastSelectedViewDesc=re)}else Tr(K)}function Tr(K){K.lastSelectedViewDesc&&(K.lastSelectedViewDesc.parent&&K.lastSelectedViewDesc.deselectNode(),K.lastSelectedViewDesc=void 0)}function Hr(K,$,re,R){return K.someProp("createSelectionBetween",oe=>oe(K,$,re))||o.Bs.between($,re,R)}function Po(K){return K.editable&&!K.hasFocus()?!1:oo(K)}function oo(K){let $=K.domSelectionRange();if(!$.anchorNode)return!1;try{return K.dom.contains($.anchorNode.nodeType==3?$.anchorNode.parentNode:$.anchorNode)&&(K.editable||K.dom.contains($.focusNode.nodeType==3?$.focusNode.parentNode:$.focusNode))}catch(re){return!1}}function Xr(K){let $=K.docView.domFromPos(K.state.selection.anchor,0),re=K.domSelectionRange();return v($.node,$.offset,re.anchorNode,re.anchorOffset)}function po(K,$){let{$anchor:re,$head:R}=K.selection,oe=$>0?re.max(R):re.min(R),he=oe.parent.inlineContent?oe.depth?K.doc.resolve($>0?oe.after():oe.before()):null:oe;return he&&o.Y1.findFrom(he,$)}function Oo(K,$){return K.dispatch(K.state.tr.setSelection($).scrollIntoView()),!0}function ri(K,$,re){let R=K.state.selection;if(R instanceof o.Bs){if(!R.empty||re.indexOf("s")>-1)return!1;if(K.endOfTextblock($>0?"right":"left")){let oe=po(K.state,$);return oe&&oe instanceof o.qv?Oo(K,oe):!1}else if(!(L&&re.indexOf("m")>-1)){let oe=R.$head,he=oe.textOffset?null:$<0?oe.nodeBefore:oe.nodeAfter,Ie;if(!he||he.isText)return!1;let Ue=$<0?oe.pos-he.nodeSize:oe.pos;return he.isAtom||(Ie=K.docView.descAt(Ue))&&!Ie.contentDOM?o.qv.isSelectable(he)?Oo(K,new o.qv($<0?K.state.doc.resolve(oe.pos-he.nodeSize):oe)):ie?Oo(K,new o.Bs(K.state.doc.resolve($<0?Ue:Ue+he.nodeSize))):!1:!1}}else{if(R instanceof o.qv&&R.node.isInline)return Oo(K,new o.Bs($>0?R.$to:R.$from));{let oe=po(K.state,$);return oe?Oo(K,oe):!1}}}function Jt(K){return K.nodeType==3?K.nodeValue.length:K.childNodes.length}function Tn(K){let $=K.pmViewDesc;return $&&$.size==0&&(K.nextSibling||K.nodeName!="BR")}function xn(K){let $=K.domSelectionRange(),re=$.focusNode,R=$.focusOffset;if(!re)return;let oe,he,Ie=!1;for(B&&re.nodeType==1&&R<Jt(re)&&Tn(re.childNodes[R])&&(Ie=!0);;)if(R>0){if(re.nodeType!=1)break;{let Ue=re.childNodes[R-1];if(Tn(Ue))oe=re,he=--R;else if(Ue.nodeType==3)re=Ue,R=re.nodeValue.length;else break}}else{if(xt(re))break;{let Ue=re.previousSibling;for(;Ue&&Tn(Ue);)oe=re.parentNode,he=c(Ue),Ue=Ue.previousSibling;if(Ue)re=Ue,R=Jt(re);else{if(re=re.parentNode,re==K.dom)break;R=0}}}Ie?Ft(K,re,R):oe&&Ft(K,oe,he)}function Xn(K){let $=K.domSelectionRange(),re=$.focusNode,R=$.focusOffset;if(!re)return;let oe=Jt(re),he,Ie;for(;;)if(R<oe){if(re.nodeType!=1)break;let Ue=re.childNodes[R];if(Tn(Ue))he=re,Ie=++R;else break}else{if(xt(re))break;{let Ue=re.nextSibling;for(;Ue&&Tn(Ue);)he=Ue.parentNode,Ie=c(Ue)+1,Ue=Ue.nextSibling;if(Ue)re=Ue,R=0,oe=Jt(re);else{if(re=re.parentNode,re==K.dom)break;R=oe=0}}}he&&Ft(K,he,Ie)}function xt(K){let $=K.pmViewDesc;return $&&$.node&&$.node.isBlock}function Ft(K,$,re){let R=K.domSelection();if(p(R)){let he=document.createRange();he.setEnd($,re),he.setStart($,re),R.removeAllRanges(),R.addRange(he)}else R.extend&&R.extend($,re);K.domObserver.setCurSelection();let{state:oe}=K;setTimeout(()=>{K.state==oe&&Lr(K)},50)}function zt(K,$,re){let R=K.state.selection;if(R instanceof o.Bs&&!R.empty||re.indexOf("s")>-1||L&&re.indexOf("m")>-1)return!1;let{$from:oe,$to:he}=R;if(!oe.parent.inlineContent||K.endOfTextblock($<0?"up":"down")){let Ie=po(K.state,$);if(Ie&&Ie instanceof o.qv)return Oo(K,Ie)}if(!oe.parent.inlineContent){let Ie=$<0?oe:he,Ue=R instanceof o.C1?o.Y1.near(Ie,$):o.Y1.findFrom(Ie,$);return Ue?Oo(K,Ue):!1}return!1}function tn(K,$){if(!(K.state.selection instanceof o.Bs))return!0;let{$head:re,$anchor:R,empty:oe}=K.state.selection;if(!re.sameParent(R))return!0;if(!oe)return!1;if(K.endOfTextblock($>0?"forward":"backward"))return!0;let he=!re.textOffset&&($<0?re.nodeBefore:re.nodeAfter);if(he&&!he.isText){let Ie=K.state.tr;return $<0?Ie.delete(re.pos-he.nodeSize,re.pos):Ie.delete(re.pos,re.pos+he.nodeSize),K.dispatch(Ie),!0}return!1}function rn(K,$,re){K.domObserver.stop(),$.contentEditable=re,K.domObserver.start()}function ln(K){if(!ne||K.state.selection.$head.parentOffset>0)return!1;let{focusNode:$,focusOffset:re}=K.domSelectionRange();if($&&$.nodeType==1&&re==0&&$.firstChild&&$.firstChild.contentEditable=="false"){let R=$.firstChild;rn(K,R,"true"),setTimeout(()=>rn(K,R,"false"),20)}return!1}function En(K){let $="";return K.ctrlKey&&($+="c"),K.metaKey&&($+="m"),K.altKey&&($+="a"),K.shiftKey&&($+="s"),$}function Wn(K,$){let re=$.keyCode,R=En($);return re==8||L&&re==72&&R=="c"?tn(K,-1)||xn(K):re==46||L&&re==68&&R=="c"?tn(K,1)||Xn(K):re==13||re==27?!0:re==37||L&&re==66&&R=="c"?ri(K,-1,R)||xn(K):re==39||L&&re==70&&R=="c"?ri(K,1,R)||Xn(K):re==38||L&&re==80&&R=="c"?zt(K,-1,R)||xn(K):re==40||L&&re==78&&R=="c"?ln(K)||zt(K,1,R)||Xn(K):R==(L?"m":"c")&&(re==66||re==73||re==89||re==90)}function kn(K,$){K.someProp("transformCopied",pn=>{$=pn($,K)});let re=[],{content:R,openStart:oe,openEnd:he}=$;for(;oe>1&&he>1&&R.childCount==1&&R.firstChild.childCount==1;){oe--,he--;let pn=R.firstChild;re.push(pn.type.name,pn.attrs!=pn.type.defaultAttrs?pn.attrs:null),R=pn.content}let Ie=K.someProp("clipboardSerializer")||f.PW.fromSchema(K.state.schema),Ue=zn(),nt=Ue.createElement("div");nt.appendChild(Ie.serializeFragment(R,{document:Ue}));let gt=nt.firstChild,It,Gt=0;for(;gt&&gt.nodeType==1&&(It=Cn[gt.nodeName.toLowerCase()]);){for(let pn=It.length-1;pn>=0;pn--){let Kn=Ue.createElement(It[pn]);for(;nt.firstChild;)Kn.appendChild(nt.firstChild);nt.appendChild(Kn),Gt++}gt=nt.firstChild}gt&&gt.nodeType==1&&gt.setAttribute("data-pm-slice",`${oe} ${he}${Gt?` -${Gt}`:""} ${JSON.stringify(re)}`);let yn=K.someProp("clipboardTextSerializer",pn=>pn($,K))||$.content.textBetween(0,$.content.size,`

`);return{dom:nt,text:yn}}function Un(K,$,re,R,oe){let he=oe.parent.type.spec.code,Ie,Ue;if(!re&&!$)return null;let nt=$&&(R||he||!re);if(nt){if(K.someProp("transformPastedText",yn=>{$=yn($,he||R,K)}),he)return $?new f.p2(f.HY.from(K.state.schema.text($.replace(/\r\n?/g,`
`))),0,0):f.p2.empty;let Gt=K.someProp("clipboardTextParser",yn=>yn($,oe,R,K));if(Gt)Ue=Gt;else{let yn=oe.marks(),{schema:pn}=K.state,Kn=f.PW.fromSchema(pn);Ie=document.createElement("div"),$.split(/(?:\r\n?|\n)+/).forEach(sn=>{let Ur=Ie.appendChild(document.createElement("p"));sn&&Ur.appendChild(Kn.serializeNode(pn.text(sn,yn)))})}}else K.someProp("transformPastedHTML",Gt=>{re=Gt(re,K)}),Ie=Ir(re),ie&&no(Ie);let gt=Ie&&Ie.querySelector("[data-pm-slice]"),It=gt&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(gt.getAttribute("data-pm-slice")||"");if(It&&It[3])for(let Gt=+It[3];Gt>0;Gt--){let yn=Ie.firstChild;for(;yn&&yn.nodeType!=1;)yn=yn.nextSibling;if(!yn)break;Ie=yn}if(Ue||(Ue=(K.someProp("clipboardParser")||K.someProp("domParser")||f.aw.fromSchema(K.state.schema)).parseSlice(Ie,{preserveWhitespace:!!(nt||It),context:oe,ruleFromNode(yn){return yn.nodeName=="BR"&&!yn.nextSibling&&yn.parentNode&&!Zn.test(yn.parentNode.nodeName)?{ignore:!0}:null}})),It)Ue=Yr(Dn(Ue,+It[1],+It[2]),It[4]);else if(Ue=f.p2.maxOpen(or(Ue.content,oe),!0),Ue.openStart||Ue.openEnd){let Gt=0,yn=0;for(let pn=Ue.content.firstChild;Gt<Ue.openStart&&!pn.type.spec.isolating;Gt++,pn=pn.firstChild);for(let pn=Ue.content.lastChild;yn<Ue.openEnd&&!pn.type.spec.isolating;yn++,pn=pn.lastChild);Ue=Dn(Ue,Gt,yn)}return K.someProp("transformPasted",Gt=>{Ue=Gt(Ue,K)}),Ue}const Zn=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function or(K,$){if(K.childCount<2)return K;for(let re=$.depth;re>=0;re--){let oe=$.node(re).contentMatchAt($.index(re)),he,Ie=[];if(K.forEach(Ue=>{if(!Ie)return;let nt=oe.findWrapping(Ue.type),gt;if(!nt)return Ie=null;if(gt=Ie.length&&he.length&&Wt(nt,he,Ue,Ie[Ie.length-1],0))Ie[Ie.length-1]=gt;else{Ie.length&&(Ie[Ie.length-1]=Zt(Ie[Ie.length-1],he.length));let It=yt(Ue,nt);Ie.push(It),oe=oe.matchType(It.type),he=nt}}),Ie)return f.HY.from(Ie)}return K}function yt(K,$,re=0){for(let R=$.length-1;R>=re;R--)K=$[R].create(null,f.HY.from(K));return K}function Wt(K,$,re,R,oe){if(oe<K.length&&oe<$.length&&K[oe]==$[oe]){let he=Wt(K,$,re,R.lastChild,oe+1);if(he)return R.copy(R.content.replaceChild(R.childCount-1,he));if(R.contentMatchAt(R.childCount).matchType(oe==K.length-1?re.type:K[oe+1]))return R.copy(R.content.append(f.HY.from(yt(re,K,oe+1))))}}function Zt(K,$){if($==0)return K;let re=K.content.replaceChild(K.childCount-1,Zt(K.lastChild,$-1)),R=K.contentMatchAt(K.childCount).fillBefore(f.HY.empty,!0);return K.copy(re.append(R))}function Xt(K,$,re,R,oe,he){let Ie=$<0?K.firstChild:K.lastChild,Ue=Ie.content;return oe<R-1&&(Ue=Xt(Ue,$,re,R,oe+1,he)),oe>=re&&(Ue=$<0?Ie.contentMatchAt(0).fillBefore(Ue,K.childCount>1||he<=oe).append(Ue):Ue.append(Ie.contentMatchAt(Ie.childCount).fillBefore(f.HY.empty,!0))),K.replaceChild($<0?0:K.childCount-1,Ie.copy(Ue))}function Dn(K,$,re){return $<K.openStart&&(K=new f.p2(Xt(K.content,-1,$,K.openStart,0,K.openEnd),$,K.openEnd)),re<K.openEnd&&(K=new f.p2(Xt(K.content,1,re,K.openEnd,0,0),K.openStart,re)),K}const Cn={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let On=null;function zn(){return On||(On=document.implementation.createHTMLDocument("title"))}function Ir(K){let $=/^(\s*<meta [^>]*>)*/.exec(K);$&&(K=K.slice($[0].length));let re=zn().createElement("div"),R=/<([a-z][^>\s]+)/i.exec(K),oe;if((oe=R&&Cn[R[1].toLowerCase()])&&(K=oe.map(he=>"<"+he+">").join("")+K+oe.map(he=>"</"+he+">").reverse().join("")),re.innerHTML=K,oe)for(let he=0;he<oe.length;he++)re=re.querySelector(oe[he])||re;return re}function no(K){let $=K.querySelectorAll(Z?"span:not([class]):not([style])":"span.Apple-converted-space");for(let re=0;re<$.length;re++){let R=$[re];R.childNodes.length==1&&R.textContent=="\xA0"&&R.parentNode&&R.parentNode.replaceChild(K.ownerDocument.createTextNode(" "),R)}}function Yr(K,$){if(!K.size)return K;let re=K.content.firstChild.type.schema,R;try{R=JSON.parse($)}catch(Ue){return K}let{content:oe,openStart:he,openEnd:Ie}=K;for(let Ue=R.length-2;Ue>=0;Ue-=2){let nt=re.nodes[R[Ue]];if(!nt||nt.hasRequiredAttrs())break;oe=f.HY.from(nt.create(R[Ue+1],oe)),he++,Ie++}return new f.p2(oe,he,Ie)}const Mr={},Qr={},_o={touchstart:!0,touchmove:!0};class ci{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Uo(K){for(let $ in Mr){let re=Mr[$];K.dom.addEventListener($,K.input.eventHandlers[$]=R=>{vi(K,R)&&!To(K,R)&&(K.editable||!(R.type in Qr))&&re(K,R)},_o[$]?{passive:!0}:void 0)}ne&&K.dom.addEventListener("input",()=>null),bo(K)}function So(K,$){K.input.lastSelectionOrigin=$,K.input.lastSelectionTime=Date.now()}function Yo(K){K.domObserver.stop();for(let $ in K.input.eventHandlers)K.dom.removeEventListener($,K.input.eventHandlers[$]);clearTimeout(K.input.composingTimeout),clearTimeout(K.input.lastIOSEnterFallbackTimeout)}function bo(K){K.someProp("handleDOMEvents",$=>{for(let re in $)K.input.eventHandlers[re]||K.dom.addEventListener(re,K.input.eventHandlers[re]=R=>To(K,R))})}function To(K,$){return K.someProp("handleDOMEvents",re=>{let R=re[$.type];return R?R(K,$)||$.defaultPrevented:!1})}function vi(K,$){if(!$.bubbles)return!0;if($.defaultPrevented)return!1;for(let re=$.target;re!=K.dom;re=re.parentNode)if(!re||re.nodeType==11||re.pmViewDesc&&re.pmViewDesc.stopEvent($))return!1;return!0}function oi(K,$){!To(K,$)&&Mr[$.type]&&(K.editable||!($.type in Qr))&&Mr[$.type](K,$)}Qr.keydown=(K,$)=>{let re=$;if(K.input.shiftKey=re.keyCode==16||re.shiftKey,!wi(K,re)&&(K.input.lastKeyCode=re.keyCode,K.input.lastKeyCodeTime=Date.now(),!(W&&Z&&re.keyCode==13)))if(re.keyCode!=229&&K.domObserver.forceFlush(),G&&re.keyCode==13&&!re.ctrlKey&&!re.altKey&&!re.metaKey){let R=Date.now();K.input.lastIOSEnter=R,K.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{K.input.lastIOSEnter==R&&(K.someProp("handleKeyDown",oe=>oe(K,d(13,"Enter"))),K.input.lastIOSEnter=0)},200)}else K.someProp("handleKeyDown",R=>R(K,re))||Wn(K,re)?re.preventDefault():So(K,"key")},Qr.keyup=(K,$)=>{$.keyCode==16&&(K.input.shiftKey=!1)},Qr.keypress=(K,$)=>{let re=$;if(wi(K,re)||!re.charCode||re.ctrlKey&&!re.altKey||L&&re.metaKey)return;if(K.someProp("handleKeyPress",oe=>oe(K,re))){re.preventDefault();return}let R=K.state.selection;if(!(R instanceof o.Bs)||!R.$from.sameParent(R.$to)){let oe=String.fromCharCode(re.charCode);!/[\r\n]/.test(oe)&&!K.someProp("handleTextInput",he=>he(K,R.$from.pos,R.$to.pos,oe))&&K.dispatch(K.state.tr.insertText(oe).scrollIntoView()),re.preventDefault()}};function di(K){return{left:K.clientX,top:K.clientY}}function pi(K,$){let re=$.x-K.clientX,R=$.y-K.clientY;return re*re+R*R<100}function ii(K,$,re,R,oe){if(R==-1)return!1;let he=K.state.doc.resolve(R);for(let Ie=he.depth+1;Ie>0;Ie--)if(K.someProp($,Ue=>Ie>he.depth?Ue(K,re,he.nodeAfter,he.before(Ie),oe,!0):Ue(K,re,he.node(Ie),he.before(Ie),oe,!1)))return!0;return!1}function Jo(K,$,re){K.focused||K.focus();let R=K.state.tr.setSelection($);re=="pointer"&&R.setMeta("pointer",!0),K.dispatch(R)}function ji(K,$){if($==-1)return!1;let re=K.state.doc.resolve($),R=re.nodeAfter;return R&&R.isAtom&&o.qv.isSelectable(R)?(Jo(K,new o.qv(re),"pointer"),!0):!1}function Ei(K,$){if($==-1)return!1;let re=K.state.selection,R,oe;re instanceof o.qv&&(R=re.node);let he=K.state.doc.resolve($);for(let Ie=he.depth+1;Ie>0;Ie--){let Ue=Ie>he.depth?he.nodeAfter:he.node(Ie);if(o.qv.isSelectable(Ue)){R&&re.$from.depth>0&&Ie>=re.$from.depth&&he.before(re.$from.depth+1)==re.$from.pos?oe=he.before(re.$from.depth):oe=he.before(Ie);break}}return oe!=null?(Jo(K,o.qv.create(K.state.doc,oe),"pointer"),!0):!1}function so(K,$,re,R,oe){return ii(K,"handleClickOn",$,re,R)||K.someProp("handleClick",he=>he(K,$,R))||(oe?Ei(K,re):ji(K,re))}function mi(K,$,re,R){return ii(K,"handleDoubleClickOn",$,re,R)||K.someProp("handleDoubleClick",oe=>oe(K,$,R))}function Mi(K,$,re,R){return ii(K,"handleTripleClickOn",$,re,R)||K.someProp("handleTripleClick",oe=>oe(K,$,R))||si(K,re,R)}function si(K,$,re){if(re.button!=0)return!1;let R=K.state.doc;if($==-1)return R.inlineContent?(Jo(K,o.Bs.create(R,0,R.content.size),"pointer"),!0):!1;let oe=R.resolve($);for(let he=oe.depth+1;he>0;he--){let Ie=he>oe.depth?oe.nodeAfter:oe.node(he),Ue=oe.before(he);if(Ie.inlineContent)Jo(K,o.Bs.create(R,Ue+1,Ue+1+Ie.content.size),"pointer");else if(o.qv.isSelectable(Ie))Jo(K,o.qv.create(R,Ue),"pointer");else continue;return!0}}function Fo(K){return mt(K)}const ai=L?"metaKey":"ctrlKey";Mr.mousedown=(K,$)=>{let re=$;K.input.shiftKey=re.shiftKey;let R=Fo(K),oe=Date.now(),he="singleClick";oe-K.input.lastClick.time<500&&pi(re,K.input.lastClick)&&!re[ai]&&(K.input.lastClick.type=="singleClick"?he="doubleClick":K.input.lastClick.type=="doubleClick"&&(he="tripleClick")),K.input.lastClick={time:oe,x:re.clientX,y:re.clientY,type:he};let Ie=K.posAtCoords(di(re));Ie&&(he=="singleClick"?(K.input.mouseDown&&K.input.mouseDown.done(),K.input.mouseDown=new qo(K,Ie,re,!!R)):(he=="doubleClick"?mi:Mi)(K,Ie.pos,Ie.inside,re)?re.preventDefault():So(K,"pointer"))};class qo{constructor($,re,R,oe){this.view=$,this.pos=re,this.event=R,this.flushed=oe,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=$.state.doc,this.selectNode=!!R[ai],this.allowDefault=R.shiftKey;let he,Ie;if(re.inside>-1)he=$.state.doc.nodeAt(re.inside),Ie=re.inside;else{let It=$.state.doc.resolve(re.pos);he=It.parent,Ie=It.depth?It.before():0}const Ue=oe?null:R.target,nt=Ue?$.docView.nearestDesc(Ue,!0):null;this.target=nt?nt.dom:null;let{selection:gt}=$.state;(R.button==0&&he.type.spec.draggable&&he.type.spec.selectable!==!1||gt instanceof o.qv&&gt.from<=Ie&&gt.to>Ie)&&(this.mightDrag={node:he,pos:Ie,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&B&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),$.root.addEventListener("mouseup",this.up=this.up.bind(this)),$.root.addEventListener("mousemove",this.move=this.move.bind(this)),So($,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Lr(this.view)),this.view.input.mouseDown=null}up($){if(this.done(),!this.view.dom.contains($.target))return;let re=this.pos;this.view.state.doc!=this.startDoc&&(re=this.view.posAtCoords(di($))),this.updateAllowDefault($),this.allowDefault||!re?So(this.view,"pointer"):so(this.view,re.pos,re.inside,$,this.selectNode)?$.preventDefault():$.button==0&&(this.flushed||ne&&this.mightDrag&&!this.mightDrag.node.isAtom||Z&&!this.view.state.selection.visible&&Math.min(Math.abs(re.pos-this.view.state.selection.from),Math.abs(re.pos-this.view.state.selection.to))<=2)?(Jo(this.view,o.Y1.near(this.view.state.doc.resolve(re.pos)),"pointer"),$.preventDefault()):So(this.view,"pointer")}move($){this.updateAllowDefault($),So(this.view,"pointer"),$.buttons==0&&this.done()}updateAllowDefault($){!this.allowDefault&&(Math.abs(this.event.x-$.clientX)>4||Math.abs(this.event.y-$.clientY)>4)&&(this.allowDefault=!0)}}Mr.touchstart=K=>{K.input.lastTouch=Date.now(),Fo(K),So(K,"pointer")},Mr.touchmove=K=>{K.input.lastTouch=Date.now(),So(K,"pointer")},Mr.contextmenu=K=>Fo(K);function wi(K,$){return K.composing?!0:ne&&Math.abs($.timeStamp-K.input.compositionEndedAt)<500?(K.input.compositionEndedAt=-2e8,!0):!1}const rt=W?5e3:-1;Qr.compositionstart=Qr.compositionupdate=K=>{if(!K.composing){K.domObserver.flush();let{state:$}=K,re=$.selection.$from;if($.selection.empty&&($.storedMarks||!re.textOffset&&re.parentOffset&&re.nodeBefore.marks.some(R=>R.type.spec.inclusive===!1)))K.markCursor=K.state.storedMarks||re.marks(),mt(K,!0),K.markCursor=null;else if(mt(K),B&&$.selection.empty&&re.parentOffset&&!re.textOffset&&re.nodeBefore.marks.length){let R=K.domSelectionRange();for(let oe=R.focusNode,he=R.focusOffset;oe&&oe.nodeType==1&&he!=0;){let Ie=he<0?oe.lastChild:oe.childNodes[he-1];if(!Ie)break;if(Ie.nodeType==3){K.domSelection().collapse(Ie,Ie.nodeValue.length);break}else oe=Ie,he=-1}}K.input.composing=!0}Ze(K,rt)},Qr.compositionend=(K,$)=>{K.composing&&(K.input.composing=!1,K.input.compositionEndedAt=$.timeStamp,Ze(K,20))};function Ze(K,$){clearTimeout(K.input.composingTimeout),$>-1&&(K.input.composingTimeout=setTimeout(()=>mt(K),$))}function et(K){for(K.composing&&(K.input.composing=!1,K.input.compositionEndedAt=ht());K.input.compositionNodes.length>0;)K.input.compositionNodes.pop().markParentsDirty()}function ht(){let K=document.createEvent("Event");return K.initEvent("event",!0,!0),K.timeStamp}function mt(K,$=!1){if(!(W&&K.domObserver.flushingSoon>=0)){if(K.domObserver.forceFlush(),et(K),$||K.docView&&K.docView.dirty){let re=br(K);return re&&!re.eq(K.state.selection)?K.dispatch(K.state.tr.setSelection(re)):K.updateState(K.state),!0}return!1}}function kt(K,$){if(!K.dom.parentNode)return;let re=K.dom.parentNode.appendChild(document.createElement("div"));re.appendChild($),re.style.cssText="position: fixed; left: -10000px; top: 10px";let R=getSelection(),oe=document.createRange();oe.selectNodeContents($),K.dom.blur(),R.removeAllRanges(),R.addRange(oe),setTimeout(()=>{re.parentNode&&re.parentNode.removeChild(re),K.focus()},50)}const Nt=N&&F<15||G&&ue<604;Mr.copy=Qr.cut=(K,$)=>{let re=$,R=K.state.selection,oe=re.type=="cut";if(R.empty)return;let he=Nt?null:re.clipboardData,Ie=R.content(),{dom:Ue,text:nt}=kn(K,Ie);he?(re.preventDefault(),he.clearData(),he.setData("text/html",Ue.innerHTML),he.setData("text/plain",nt)):kt(K,Ue),oe&&K.dispatch(K.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Te(K){return K.openStart==0&&K.openEnd==0&&K.content.childCount==1?K.content.firstChild:null}function be(K,$){if(!K.dom.parentNode)return;let re=K.input.shiftKey||K.state.selection.$from.parent.type.spec.code,R=K.dom.parentNode.appendChild(document.createElement(re?"textarea":"div"));re||(R.contentEditable="true"),R.style.cssText="position: fixed; left: -10000px; top: 10px",R.focus(),setTimeout(()=>{K.focus(),R.parentNode&&R.parentNode.removeChild(R),re?Ce(K,R.value,null,K.input.shiftKey,$):Ce(K,R.textContent,R.innerHTML,K.input.shiftKey,$)},50)}function Ce(K,$,re,R,oe){let he=Un(K,$,re,R,K.state.selection.$from);if(K.someProp("handlePaste",nt=>nt(K,oe,he||f.p2.empty)))return!0;if(!he)return!1;let Ie=Te(he),Ue=Ie?K.state.tr.replaceSelectionWith(Ie,K.input.shiftKey):K.state.tr.replaceSelection(he);return K.dispatch(Ue.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Qr.paste=(K,$)=>{let re=$;if(K.composing&&!W)return;let R=Nt?null:re.clipboardData;R&&Ce(K,R.getData("text/plain"),R.getData("text/html"),K.input.shiftKey,re)?re.preventDefault():be(K,re)};class $e{constructor($,re){this.slice=$,this.move=re}}const ft=L?"altKey":"ctrlKey";Mr.dragstart=(K,$)=>{let re=$,R=K.input.mouseDown;if(R&&R.done(),!re.dataTransfer)return;let oe=K.state.selection,he=oe.empty?null:K.posAtCoords(di(re));if(!(he&&he.pos>=oe.from&&he.pos<=(oe instanceof o.qv?oe.to-1:oe.to))){if(R&&R.mightDrag)K.dispatch(K.state.tr.setSelection(o.qv.create(K.state.doc,R.mightDrag.pos)));else if(re.target&&re.target.nodeType==1){let gt=K.docView.nearestDesc(re.target,!0);gt&&gt.node.type.spec.draggable&&gt!=K.docView&&K.dispatch(K.state.tr.setSelection(o.qv.create(K.state.doc,gt.posBefore)))}}let Ie=K.state.selection.content(),{dom:Ue,text:nt}=kn(K,Ie);re.dataTransfer.clearData(),re.dataTransfer.setData(Nt?"Text":"text/html",Ue.innerHTML),re.dataTransfer.effectAllowed="copyMove",Nt||re.dataTransfer.setData("text/plain",nt),K.dragging=new $e(Ie,!re[ft])},Mr.dragend=K=>{let $=K.dragging;window.setTimeout(()=>{K.dragging==$&&(K.dragging=null)},50)},Qr.dragover=Qr.dragenter=(K,$)=>$.preventDefault(),Qr.drop=(K,$)=>{let re=$,R=K.dragging;if(K.dragging=null,!re.dataTransfer)return;let oe=K.posAtCoords(di(re));if(!oe)return;let he=K.state.doc.resolve(oe.pos),Ie=R&&R.slice;Ie?K.someProp("transformPasted",Kn=>{Ie=Kn(Ie,K)}):Ie=Un(K,re.dataTransfer.getData(Nt?"Text":"text/plain"),Nt?null:re.dataTransfer.getData("text/html"),!1,he);let Ue=!!(R&&!re[ft]);if(K.someProp("handleDrop",Kn=>Kn(K,re,Ie||f.p2.empty,Ue))){re.preventDefault();return}if(!Ie)return;re.preventDefault();let nt=Ie?(0,u.nj)(K.state.doc,he.pos,Ie):he.pos;nt==null&&(nt=he.pos);let gt=K.state.tr;Ue&&gt.deleteSelection();let It=gt.mapping.map(nt),Gt=Ie.openStart==0&&Ie.openEnd==0&&Ie.content.childCount==1,yn=gt.doc;if(Gt?gt.replaceRangeWith(It,It,Ie.content.firstChild):gt.replaceRange(It,It,Ie),gt.doc.eq(yn))return;let pn=gt.doc.resolve(It);if(Gt&&o.qv.isSelectable(Ie.content.firstChild)&&pn.nodeAfter&&pn.nodeAfter.sameMarkup(Ie.content.firstChild))gt.setSelection(new o.qv(pn));else{let Kn=gt.mapping.map(nt);gt.mapping.maps[gt.mapping.maps.length-1].forEach((sn,Ur,Eo,Xo)=>Kn=Xo),gt.setSelection(Hr(K,pn,gt.doc.resolve(Kn)))}K.focus(),K.dispatch(gt.setMeta("uiEvent","drop"))},Mr.focus=K=>{K.input.lastFocus=Date.now(),K.focused||(K.domObserver.stop(),K.dom.classList.add("ProseMirror-focused"),K.domObserver.start(),K.focused=!0,setTimeout(()=>{K.docView&&K.hasFocus()&&!K.domObserver.currentSelection.eq(K.domSelectionRange())&&Lr(K)},20))},Mr.blur=(K,$)=>{let re=$;K.focused&&(K.domObserver.stop(),K.dom.classList.remove("ProseMirror-focused"),K.domObserver.start(),re.relatedTarget&&K.dom.contains(re.relatedTarget)&&K.domObserver.currentSelection.clear(),K.focused=!1)},Mr.beforeinput=(K,$)=>{if(Z&&W&&$.inputType=="deleteContentBackward"){K.domObserver.flushSoon();let{domChangeCount:R}=K.input;setTimeout(()=>{if(K.input.domChangeCount!=R||(K.dom.blur(),K.focus(),K.someProp("handleKeyDown",he=>he(K,d(8,"Backspace")))))return;let{$cursor:oe}=K.state.selection;oe&&oe.pos>0&&K.dispatch(K.state.tr.delete(oe.pos-1,oe.pos).scrollIntoView())},50)}};for(let K in Qr)Mr[K]=Qr[K];function pt(K,$){if(K==$)return!0;for(let re in K)if(K[re]!==$[re])return!1;for(let re in $)if(!(re in K))return!1;return!0}class Ct{constructor($,re){this.toDOM=$,this.spec=re||Qt,this.side=this.spec.side||0}map($,re,R,oe){let{pos:he,deleted:Ie}=$.mapResult(re.from+oe,this.side<0?-1:1);return Ie?null:new Ut(he-R,he-R,this)}valid(){return!0}eq($){return this==$||$ instanceof Ct&&(this.spec.key&&this.spec.key==$.spec.key||this.toDOM==$.toDOM&&pt(this.spec,$.spec))}destroy($){this.spec.destroy&&this.spec.destroy($)}}class St{constructor($,re){this.attrs=$,this.spec=re||Qt}map($,re,R,oe){let he=$.map(re.from+oe,this.spec.inclusiveStart?-1:1)-R,Ie=$.map(re.to+oe,this.spec.inclusiveEnd?1:-1)-R;return he>=Ie?null:new Ut(he,Ie,this)}valid($,re){return re.from<re.to}eq($){return this==$||$ instanceof St&&pt(this.attrs,$.attrs)&&pt(this.spec,$.spec)}static is($){return $.type instanceof St}destroy(){}}class Bt{constructor($,re){this.attrs=$,this.spec=re||Qt}map($,re,R,oe){let he=$.mapResult(re.from+oe,1);if(he.deleted)return null;let Ie=$.mapResult(re.to+oe,-1);return Ie.deleted||Ie.pos<=he.pos?null:new Ut(he.pos-R,Ie.pos-R,this)}valid($,re){let{index:R,offset:oe}=$.content.findIndex(re.from),he;return oe==re.from&&!(he=$.child(R)).isText&&oe+he.nodeSize==re.to}eq($){return this==$||$ instanceof Bt&&pt(this.attrs,$.attrs)&&pt(this.spec,$.spec)}destroy(){}}class Ut{constructor($,re,R){this.from=$,this.to=re,this.type=R}copy($,re){return new Ut($,re,this.type)}eq($,re=0){return this.type.eq($.type)&&this.from+re==$.from&&this.to+re==$.to}map($,re,R){return this.type.map($,this,re,R)}static widget($,re,R){return new Ut($,$,new Ct(re,R))}static inline($,re,R,oe){return new Ut($,re,new St(R,oe))}static node($,re,R,oe){return new Ut($,re,new Bt(R,oe))}get spec(){return this.type.spec}get inline(){return this.type instanceof St}}const fn=[],Qt={};class dn{constructor($,re){this.local=$.length?$:fn,this.children=re.length?re:fn}static create($,re){return re.length?Dr(re,$,0,Qt):In}find($,re,R){let oe=[];return this.findInner($==null?0:$,re==null?1e9:re,oe,0,R),oe}findInner($,re,R,oe,he){for(let Ie=0;Ie<this.local.length;Ie++){let Ue=this.local[Ie];Ue.from<=re&&Ue.to>=$&&(!he||he(Ue.spec))&&R.push(Ue.copy(Ue.from+oe,Ue.to+oe))}for(let Ie=0;Ie<this.children.length;Ie+=3)if(this.children[Ie]<re&&this.children[Ie+1]>$){let Ue=this.children[Ie]+1;this.children[Ie+2].findInner($-Ue,re-Ue,R,oe+Ue,he)}}map($,re,R){return this==In||$.maps.length==0?this:this.mapInner($,re,0,0,R||Qt)}mapInner($,re,R,oe,he){let Ie;for(let Ue=0;Ue<this.local.length;Ue++){let nt=this.local[Ue].map($,R,oe);nt&&nt.type.valid(re,nt)?(Ie||(Ie=[])).push(nt):he.onRemove&&he.onRemove(this.local[Ue].spec)}return this.children.length?pr(this.children,Ie||[],$,re,R,oe,he):Ie?new dn(Ie.sort(xr),fn):In}add($,re){return re.length?this==In?dn.create($,re):this.addInner($,re,0):this}addInner($,re,R){let oe,he=0;$.forEach((Ue,nt)=>{let gt=nt+R,It;if(It=vr(re,Ue,gt)){for(oe||(oe=this.children.slice());he<oe.length&&oe[he]<nt;)he+=3;oe[he]==nt?oe[he+2]=oe[he+2].addInner(Ue,It,gt+1):oe.splice(he,0,nt,nt+Ue.nodeSize,Dr(It,Ue,gt+1,Qt)),he+=3}});let Ie=lr(he?ur(re):re,-R);for(let Ue=0;Ue<Ie.length;Ue++)Ie[Ue].type.valid($,Ie[Ue])||Ie.splice(Ue--,1);return new dn(Ie.length?this.local.concat(Ie).sort(xr):this.local,oe||this.children)}remove($){return $.length==0||this==In?this:this.removeInner($,0)}removeInner($,re){let R=this.children,oe=this.local;for(let he=0;he<R.length;he+=3){let Ie,Ue=R[he]+re,nt=R[he+1]+re;for(let It=0,Gt;It<$.length;It++)(Gt=$[It])&&Gt.from>Ue&&Gt.to<nt&&($[It]=null,(Ie||(Ie=[])).push(Gt));if(!Ie)continue;R==this.children&&(R=this.children.slice());let gt=R[he+2].removeInner(Ie,Ue+1);gt!=In?R[he+2]=gt:(R.splice(he,3),he-=3)}if(oe.length){for(let he=0,Ie;he<$.length;he++)if(Ie=$[he])for(let Ue=0;Ue<oe.length;Ue++)oe[Ue].eq(Ie,re)&&(oe==this.local&&(oe=this.local.slice()),oe.splice(Ue--,1))}return R==this.children&&oe==this.local?this:oe.length||R.length?new dn(oe,R):In}forChild($,re){if(this==In)return this;if(re.isLeaf)return dn.empty;let R,oe;for(let Ue=0;Ue<this.children.length;Ue+=3)if(this.children[Ue]>=$){this.children[Ue]==$&&(R=this.children[Ue+2]);break}let he=$+1,Ie=he+re.content.size;for(let Ue=0;Ue<this.local.length;Ue++){let nt=this.local[Ue];if(nt.from<Ie&&nt.to>he&&nt.type instanceof St){let gt=Math.max(he,nt.from)-he,It=Math.min(Ie,nt.to)-he;gt<It&&(oe||(oe=[])).push(nt.copy(gt,It))}}if(oe){let Ue=new dn(oe.sort(xr),fn);return R?new Yn([Ue,R]):Ue}return R||In}eq($){if(this==$)return!0;if(!($ instanceof dn)||this.local.length!=$.local.length||this.children.length!=$.children.length)return!1;for(let re=0;re<this.local.length;re++)if(!this.local[re].eq($.local[re]))return!1;for(let re=0;re<this.children.length;re+=3)if(this.children[re]!=$.children[re]||this.children[re+1]!=$.children[re+1]||!this.children[re+2].eq($.children[re+2]))return!1;return!0}locals($){return lo(this.localsInner($))}localsInner($){if(this==In)return fn;if($.inlineContent||!this.local.some(St.is))return this.local;let re=[];for(let R=0;R<this.local.length;R++)this.local[R].type instanceof St||re.push(this.local[R]);return re}}dn.empty=new dn([],[]),dn.removeOverlap=lo;const In=dn.empty;class Yn{constructor($){this.members=$}map($,re){const R=this.members.map(oe=>oe.map($,re,Qt));return Yn.from(R)}forChild($,re){if(re.isLeaf)return dn.empty;let R=[];for(let oe=0;oe<this.members.length;oe++){let he=this.members[oe].forChild($,re);he!=In&&(he instanceof Yn?R=R.concat(he.members):R.push(he))}return Yn.from(R)}eq($){if(!($ instanceof Yn)||$.members.length!=this.members.length)return!1;for(let re=0;re<this.members.length;re++)if(!this.members[re].eq($.members[re]))return!1;return!0}locals($){let re,R=!0;for(let oe=0;oe<this.members.length;oe++){let he=this.members[oe].localsInner($);if(he.length)if(!re)re=he;else{R&&(re=re.slice(),R=!1);for(let Ie=0;Ie<he.length;Ie++)re.push(he[Ie])}}return re?lo(R?re:re.sort(xr)):fn}static from($){switch($.length){case 0:return In;case 1:return $[0];default:return new Yn($.every(re=>re instanceof dn)?$:$.reduce((re,R)=>re.concat(R instanceof dn?R:R.members),[]))}}}function pr(K,$,re,R,oe,he,Ie){let Ue=K.slice();for(let gt=0,It=he;gt<re.maps.length;gt++){let Gt=0;re.maps[gt].forEach((yn,pn,Kn,sn)=>{let Ur=sn-Kn-(pn-yn);for(let Eo=0;Eo<Ue.length;Eo+=3){let Xo=Ue[Eo+1];if(Xo<0||yn>Xo+It-Gt)continue;let li=Ue[Eo]+It-Gt;pn>=li?Ue[Eo+1]=yn<=li?-2:-1:Kn>=oe&&Ur&&(Ue[Eo]+=Ur,Ue[Eo+1]+=Ur)}Gt+=Ur}),It=re.maps[gt].map(It,-1)}let nt=!1;for(let gt=0;gt<Ue.length;gt+=3)if(Ue[gt+1]<0){if(Ue[gt+1]==-2){nt=!0,Ue[gt+1]=-1;continue}let It=re.map(K[gt]+he),Gt=It-oe;if(Gt<0||Gt>=R.content.size){nt=!0;continue}let yn=re.map(K[gt+1]+he,-1),pn=yn-oe,{index:Kn,offset:sn}=R.content.findIndex(Gt),Ur=R.maybeChild(Kn);if(Ur&&sn==Gt&&sn+Ur.nodeSize==pn){let Eo=Ue[gt+2].mapInner(re,Ur,It+1,K[gt]+he+1,Ie);Eo!=In?(Ue[gt]=Gt,Ue[gt+1]=pn,Ue[gt+2]=Eo):(Ue[gt+1]=-2,nt=!0)}else nt=!0}if(nt){let gt=wn(Ue,K,$,re,oe,he,Ie),It=Dr(gt,R,0,Ie);$=It.local;for(let Gt=0;Gt<Ue.length;Gt+=3)Ue[Gt+1]<0&&(Ue.splice(Gt,3),Gt-=3);for(let Gt=0,yn=0;Gt<It.children.length;Gt+=3){let pn=It.children[Gt];for(;yn<Ue.length&&Ue[yn]<pn;)yn+=3;Ue.splice(yn,0,It.children[Gt],It.children[Gt+1],It.children[Gt+2])}}return new dn($.sort(xr),Ue)}function lr(K,$){if(!$||!K.length)return K;let re=[];for(let R=0;R<K.length;R++){let oe=K[R];re.push(new Ut(oe.from+$,oe.to+$,oe.type))}return re}function wn(K,$,re,R,oe,he,Ie){function Ue(nt,gt){for(let It=0;It<nt.local.length;It++){let Gt=nt.local[It].map(R,oe,gt);Gt?re.push(Gt):Ie.onRemove&&Ie.onRemove(nt.local[It].spec)}for(let It=0;It<nt.children.length;It+=3)Ue(nt.children[It+2],nt.children[It]+gt+1)}for(let nt=0;nt<K.length;nt+=3)K[nt+1]==-1&&Ue(K[nt+2],$[nt]+he+1);return re}function vr(K,$,re){if($.isLeaf)return null;let R=re+$.nodeSize,oe=null;for(let he=0,Ie;he<K.length;he++)(Ie=K[he])&&Ie.from>re&&Ie.to<R&&((oe||(oe=[])).push(Ie),K[he]=null);return oe}function ur(K){let $=[];for(let re=0;re<K.length;re++)K[re]!=null&&$.push(K[re]);return $}function Dr(K,$,re,R){let oe=[],he=!1;$.forEach((Ue,nt)=>{let gt=vr(K,Ue,nt+re);if(gt){he=!0;let It=Dr(gt,Ue,re+nt+1,R);It!=In&&oe.push(nt,nt+Ue.nodeSize,It)}});let Ie=lr(he?ur(K):K,-re).sort(xr);for(let Ue=0;Ue<Ie.length;Ue++)Ie[Ue].type.valid($,Ie[Ue])||(R.onRemove&&R.onRemove(Ie[Ue].spec),Ie.splice(Ue--,1));return Ie.length||oe.length?new dn(Ie,oe):In}function xr(K,$){return K.from-$.from||K.to-$.to}function lo(K){let $=K;for(let re=0;re<$.length-1;re++){let R=$[re];if(R.from!=R.to)for(let oe=re+1;oe<$.length;oe++){let he=$[oe];if(he.from==R.from){he.to!=R.to&&($==K&&($=K.slice()),$[oe]=he.copy(he.from,R.to),Io($,oe+1,he.copy(R.to,he.to)));continue}else{he.from<R.to&&($==K&&($=K.slice()),$[re]=R.copy(R.from,he.from),Io($,oe,R.copy(he.from,R.to)));break}}}return $}function Io(K,$,re){for(;$<K.length&&xr(re,K[$])>0;)$++;K.splice($,0,re)}function Co(K){let $=[];return K.someProp("decorations",re=>{let R=re(K.state);R&&R!=In&&$.push(R)}),K.cursorWrapper&&$.push(dn.create(K.state.doc,[K.cursorWrapper.deco])),Yn.from($)}const zr={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Vo=N&&F<=11;class Ko{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set($){this.anchorNode=$.anchorNode,this.anchorOffset=$.anchorOffset,this.focusNode=$.focusNode,this.focusOffset=$.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq($){return $.anchorNode==this.anchorNode&&$.anchorOffset==this.anchorOffset&&$.focusNode==this.focusNode&&$.focusOffset==this.focusOffset}}class ei{constructor($,re){this.view=$,this.handleDOMChange=re,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Ko,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(R=>{for(let oe=0;oe<R.length;oe++)this.queue.push(R[oe]);N&&F<=11&&R.some(oe=>oe.type=="childList"&&oe.removedNodes.length||oe.type=="characterData"&&oe.oldValue.length>oe.target.nodeValue.length)?this.flushSoon():this.flush()}),Vo&&(this.onCharData=R=>{this.queue.push({target:R.target,type:"characterData",oldValue:R.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,zr)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let $=this.observer.takeRecords();if($.length){for(let re=0;re<$.length;re++)this.queue.push($[re]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Po(this.view)){if(this.suppressingSelectionUpdates)return Lr(this.view);if(N&&F<=11&&!this.view.state.selection.empty){let $=this.view.domSelectionRange();if($.focusNode&&v($.focusNode,$.focusOffset,$.anchorNode,$.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange($){if(!$.focusNode)return!0;let re=new Set,R;for(let he=$.focusNode;he;he=_(he))re.add(he);for(let he=$.anchorNode;he;he=_(he))if(re.has(he)){R=he;break}let oe=R&&this.view.docView.nearestDesc(R);if(oe&&oe.ignoreMutation({type:"selection",target:R.nodeType==3?R.parentNode:R}))return this.setCurSelection(),!0}flush(){let{view:$}=this;if(!$.docView||this.flushingSoon>-1)return;let re=this.observer?this.observer.takeRecords():[];this.queue.length&&(re=this.queue.concat(re),this.queue.length=0);let R=$.domSelectionRange(),oe=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(R)&&Po($)&&!this.ignoreSelectionChange(R),he=-1,Ie=-1,Ue=!1,nt=[];if($.editable)for(let It=0;It<re.length;It++){let Gt=this.registerMutation(re[It],nt);Gt&&(he=he<0?Gt.from:Math.min(Gt.from,he),Ie=Ie<0?Gt.to:Math.max(Gt.to,Ie),Gt.typeOver&&(Ue=!0))}if(B&&nt.length>1){let It=nt.filter(Gt=>Gt.nodeName=="BR");if(It.length==2){let Gt=It[0],yn=It[1];Gt.parentNode&&Gt.parentNode.parentNode==yn.parentNode?yn.remove():Gt.remove()}}let gt=null;he<0&&oe&&$.input.lastFocus>Date.now()-200&&Math.max($.input.lastTouch,$.input.lastClick.time)<Date.now()-300&&p(R)&&(gt=br($))&&gt.eq(o.Y1.near($.state.doc.resolve(0),1))?($.input.lastFocus=0,Lr($),this.currentSelection.set(R),$.scrollToSelection()):(he>-1||oe)&&(he>-1&&($.docView.markDirty(he,Ie),jo($)),this.handleDOMChange(he,Ie,Ue,nt),$.docView&&$.docView.dirty?$.updateState($.state):this.currentSelection.eq(R)||Lr($),this.currentSelection.set(R))}registerMutation($,re){if(re.indexOf($.target)>-1)return null;let R=this.view.docView.nearestDesc($.target);if($.type=="attributes"&&(R==this.view.docView||$.attributeName=="contenteditable"||$.attributeName=="style"&&!$.oldValue&&!$.target.getAttribute("style"))||!R||R.ignoreMutation($))return null;if($.type=="childList"){for(let It=0;It<$.addedNodes.length;It++)re.push($.addedNodes[It]);if(R.contentDOM&&R.contentDOM!=R.dom&&!R.contentDOM.contains($.target))return{from:R.posBefore,to:R.posAfter};let oe=$.previousSibling,he=$.nextSibling;if(N&&F<=11&&$.addedNodes.length)for(let It=0;It<$.addedNodes.length;It++){let{previousSibling:Gt,nextSibling:yn}=$.addedNodes[It];(!Gt||Array.prototype.indexOf.call($.addedNodes,Gt)<0)&&(oe=Gt),(!yn||Array.prototype.indexOf.call($.addedNodes,yn)<0)&&(he=yn)}let Ie=oe&&oe.parentNode==$.target?c(oe)+1:0,Ue=R.localPosFromDOM($.target,Ie,-1),nt=he&&he.parentNode==$.target?c(he):$.target.childNodes.length,gt=R.localPosFromDOM($.target,nt,1);return{from:Ue,to:gt}}else return $.type=="attributes"?{from:R.posAtStart-R.border,to:R.posAtEnd+R.border}:{from:R.posAtStart,to:R.posAtEnd,typeOver:$.target.nodeValue==$.oldValue}}}let Wi=new WeakMap,Ci=!1;function jo(K){if(!Wi.has(K)&&(Wi.set(K,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(K.dom).whiteSpace)!==-1)){if(K.requiresGeckoHackNode=B,Ci)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Ci=!0}}function it(K){let $;function re(nt){nt.preventDefault(),nt.stopImmediatePropagation(),$=nt.getTargetRanges()[0]}K.dom.addEventListener("beforeinput",re,!0),document.execCommand("indent"),K.dom.removeEventListener("beforeinput",re,!0);let R=$.startContainer,oe=$.startOffset,he=$.endContainer,Ie=$.endOffset,Ue=K.domAtPos(K.state.selection.anchor);return v(Ue.node,Ue.offset,he,Ie)&&([R,oe,he,Ie]=[he,Ie,R,oe]),{anchorNode:R,anchorOffset:oe,focusNode:he,focusOffset:Ie}}function at(K,$,re){let{node:R,fromOffset:oe,toOffset:he,from:Ie,to:Ue}=K.docView.parseRange($,re),nt=K.domSelectionRange(),gt,It=nt.anchorNode;if(It&&K.dom.contains(It.nodeType==1?It:It.parentNode)&&(gt=[{node:It,offset:nt.anchorOffset}],p(nt)||gt.push({node:nt.focusNode,offset:nt.focusOffset})),Z&&K.input.lastKeyCode===8)for(let Ur=he;Ur>oe;Ur--){let Eo=R.childNodes[Ur-1],Xo=Eo.pmViewDesc;if(Eo.nodeName=="BR"&&!Xo){he=Ur;break}if(!Xo||Xo.size)break}let Gt=K.state.doc,yn=K.someProp("domParser")||f.aw.fromSchema(K.state.schema),pn=Gt.resolve(Ie),Kn=null,sn=yn.parse(R,{topNode:pn.parent,topMatch:pn.parent.contentMatchAt(pn.index()),topOpen:!0,from:oe,to:he,preserveWhitespace:pn.parent.type.whitespace=="pre"?"full":!0,findPositions:gt,ruleFromNode:Ot,context:pn});if(gt&&gt[0].pos!=null){let Ur=gt[0].pos,Eo=gt[1]&&gt[1].pos;Eo==null&&(Eo=Ur),Kn={anchor:Ur+Ie,head:Eo+Ie}}return{doc:sn,sel:Kn,from:Ie,to:Ue}}function Ot(K){let $=K.pmViewDesc;if($)return $.parseRule();if(K.nodeName=="BR"&&K.parentNode){if(ne&&/^(ul|ol)$/i.test(K.parentNode.nodeName)){let re=document.createElement("div");return re.appendChild(document.createElement("li")),{skip:re}}else if(K.parentNode.lastChild==K||ne&&/^(tr|table)$/i.test(K.parentNode.nodeName))return{ignore:!0}}else if(K.nodeName=="IMG"&&K.getAttribute("mark-placeholder"))return{ignore:!0};return null}function Kt(K,$,re,R,oe){if($<0){let Gr=K.input.lastSelectionTime>Date.now()-50?K.input.lastSelectionOrigin:null,Vi=br(K,Gr);if(Vi&&!K.state.selection.eq(Vi)){if(Z&&W&&K.input.lastKeyCode===13&&Date.now()-100<K.input.lastKeyCodeTime&&K.someProp("handleKeyDown",ha=>ha(K,d(13,"Enter"))))return;let ki=K.state.tr.setSelection(Vi);Gr=="pointer"?ki.setMeta("pointer",!0):Gr=="key"&&ki.scrollIntoView(),K.dispatch(ki)}return}let he=K.state.doc.resolve($),Ie=he.sharedDepth(re);$=he.before(Ie+1),re=K.state.doc.resolve(re).after(Ie+1);let Ue=K.state.selection,nt=at(K,$,re),gt=K.state.doc,It=gt.slice(nt.from,nt.to),Gt,yn;K.input.lastKeyCode===8&&Date.now()-100<K.input.lastKeyCodeTime?(Gt=K.state.selection.to,yn="end"):(Gt=K.state.selection.from,yn="start"),K.input.lastKeyCode=null;let pn=Hn(It.content,nt.doc.content,nt.from,Gt,yn);if((G&&K.input.lastIOSEnter>Date.now()-225||W)&&oe.some(Gr=>Gr.nodeName=="DIV"||Gr.nodeName=="P"||Gr.nodeName=="LI")&&(!pn||pn.endA>=pn.endB)&&K.someProp("handleKeyDown",Gr=>Gr(K,d(13,"Enter")))){K.input.lastIOSEnter=0;return}if(!pn)if(R&&Ue instanceof o.Bs&&!Ue.empty&&Ue.$head.sameParent(Ue.$anchor)&&!K.composing&&!(nt.sel&&nt.sel.anchor!=nt.sel.head))pn={start:Ue.from,endA:Ue.to,endB:Ue.to};else{if(nt.sel){let Gr=un(K,K.state.doc,nt.sel);Gr&&!Gr.eq(K.state.selection)&&K.dispatch(K.state.tr.setSelection(Gr))}return}if(Z&&K.cursorWrapper&&nt.sel&&nt.sel.anchor==K.cursorWrapper.deco.from&&nt.sel.head==nt.sel.anchor){let Gr=pn.endB-pn.start;nt.sel={anchor:nt.sel.anchor+Gr,head:nt.sel.anchor+Gr}}K.input.domChangeCount++,K.state.selection.from<K.state.selection.to&&pn.start==pn.endB&&K.state.selection instanceof o.Bs&&(pn.start>K.state.selection.from&&pn.start<=K.state.selection.from+2&&K.state.selection.from>=nt.from?pn.start=K.state.selection.from:pn.endA<K.state.selection.to&&pn.endA>=K.state.selection.to-2&&K.state.selection.to<=nt.to&&(pn.endB+=K.state.selection.to-pn.endA,pn.endA=K.state.selection.to)),N&&F<=11&&pn.endB==pn.start+1&&pn.endA==pn.start&&pn.start>nt.from&&nt.doc.textBetween(pn.start-nt.from-1,pn.start-nt.from+1)==" \xA0"&&(pn.start--,pn.endA--,pn.endB--);let Kn=nt.doc.resolveNoCache(pn.start-nt.from),sn=nt.doc.resolveNoCache(pn.endB-nt.from),Ur=gt.resolve(pn.start),Eo=Kn.sameParent(sn)&&Kn.parent.inlineContent&&Ur.end()>=pn.endA,Xo;if((G&&K.input.lastIOSEnter>Date.now()-225&&(!Eo||oe.some(Gr=>Gr.nodeName=="DIV"||Gr.nodeName=="P"))||!Eo&&Kn.pos<nt.doc.content.size&&(Xo=o.Y1.findFrom(nt.doc.resolve(Kn.pos+1),1,!0))&&Xo.head==sn.pos)&&K.someProp("handleKeyDown",Gr=>Gr(K,d(13,"Enter")))){K.input.lastIOSEnter=0;return}if(K.state.selection.anchor>pn.start&&bn(gt,pn.start,pn.endA,Kn,sn)&&K.someProp("handleKeyDown",Gr=>Gr(K,d(8,"Backspace")))){W&&Z&&K.domObserver.suppressSelectionUpdates();return}Z&&W&&pn.endB==pn.start&&(K.input.lastAndroidDelete=Date.now()),W&&!Eo&&Kn.start()!=sn.start()&&sn.parentOffset==0&&Kn.depth==sn.depth&&nt.sel&&nt.sel.anchor==nt.sel.head&&nt.sel.head==pn.endA&&(pn.endB-=2,sn=nt.doc.resolveNoCache(pn.endB-nt.from),setTimeout(()=>{K.someProp("handleKeyDown",function(Gr){return Gr(K,d(13,"Enter"))})},20));let li=pn.start,fi=pn.endA,$o,Li,Hi;if(Eo){if(Kn.pos==sn.pos)N&&F<=11&&Kn.parentOffset==0&&(K.domObserver.suppressSelectionUpdates(),setTimeout(()=>Lr(K),20)),$o=K.state.tr.delete(li,fi),Li=gt.resolve(pn.start).marksAcross(gt.resolve(pn.endA));else if(pn.endA==pn.endB&&(Hi=gn(Kn.parent.content.cut(Kn.parentOffset,sn.parentOffset),Ur.parent.content.cut(Ur.parentOffset,pn.endA-Ur.start()))))$o=K.state.tr,Hi.type=="add"?$o.addMark(li,fi,Hi.mark):$o.removeMark(li,fi,Hi.mark);else if(Kn.parent.child(Kn.index()).isText&&Kn.index()==sn.index()-(sn.textOffset?0:1)){let Gr=Kn.parent.textBetween(Kn.parentOffset,sn.parentOffset);if(K.someProp("handleTextInput",Vi=>Vi(K,li,fi,Gr)))return;$o=K.state.tr.insertText(Gr,li,fi)}}if($o||($o=K.state.tr.replace(li,fi,nt.doc.slice(pn.start-nt.from,pn.endB-nt.from))),nt.sel){let Gr=un(K,$o.doc,nt.sel);Gr&&!(Z&&W&&K.composing&&Gr.empty&&(pn.start!=pn.endB||K.input.lastAndroidDelete<Date.now()-100)&&(Gr.head==li||Gr.head==$o.mapping.map(fi)-1)||N&&Gr.empty&&Gr.head==li)&&$o.setSelection(Gr)}Li&&$o.ensureMarks(Li),K.dispatch($o.scrollIntoView())}function un(K,$,re){return Math.max(re.anchor,re.head)>$.content.size?null:Hr(K,$.resolve(re.anchor),$.resolve(re.head))}function gn(K,$){let re=K.firstChild.marks,R=$.firstChild.marks,oe=re,he=R,Ie,Ue,nt;for(let It=0;It<R.length;It++)oe=R[It].removeFromSet(oe);for(let It=0;It<re.length;It++)he=re[It].removeFromSet(he);if(oe.length==1&&he.length==0)Ue=oe[0],Ie="add",nt=It=>It.mark(Ue.addToSet(It.marks));else if(oe.length==0&&he.length==1)Ue=he[0],Ie="remove",nt=It=>It.mark(Ue.removeFromSet(It.marks));else return null;let gt=[];for(let It=0;It<$.childCount;It++)gt.push(nt($.child(It)));if(f.HY.from(gt).eq(K))return{mark:Ue,type:Ie}}function bn(K,$,re,R,oe){if(!R.parent.isTextblock||re-$<=oe.pos-R.pos||Nn(R,!0,!1)<oe.pos)return!1;let he=K.resolve($);if(he.parentOffset<he.parent.content.size||!he.parent.isTextblock)return!1;let Ie=K.resolve(Nn(he,!0,!0));return!Ie.parent.isTextblock||Ie.pos>re||Nn(Ie,!0,!1)<re?!1:R.parent.content.cut(R.parentOffset).eq(Ie.parent.content)}function Nn(K,$,re){let R=K.depth,oe=$?K.end():K.pos;for(;R>0&&($||K.indexAfter(R)==K.node(R).childCount);)R--,oe++,$=!1;if(re){let he=K.node(R).maybeChild(K.indexAfter(R));for(;he&&!he.isLeaf;)he=he.firstChild,oe++}return oe}function Hn(K,$,re,R,oe){let he=K.findDiffStart($,re);if(he==null)return null;let{a:Ie,b:Ue}=K.findDiffEnd($,re+K.size,re+$.size);if(oe=="end"){let nt=Math.max(0,he-Math.min(Ie,Ue));R-=Ie+nt-he}if(Ie<he&&K.size<$.size){let nt=R<=he&&R>=Ie?he-R:0;he-=nt,Ue=he+(Ue-Ie),Ie=he}else if(Ue<he){let nt=R<=he&&R>=Ue?he-R:0;he-=nt,Ie=he+(Ie-Ue),Ue=he}return{start:he,endA:Ie,endB:Ue}}const yr=null,Jn=null,Br=null;class Kr{constructor($,re){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new ci,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=re,this.state=re.state,this.directPlugins=re.plugins||[],this.directPlugins.forEach(Vr),this.dispatch=this.dispatch.bind(this),this.dom=$&&$.mount||document.createElement("div"),$&&($.appendChild?$.appendChild(this.dom):typeof $=="function"?$(this.dom):$.mount&&(this.mounted=!0)),this.editable=wr(this),Rr(this),this.nodeViews=mr(this),this.docView=H(this.state.doc,Ar(this),Co(this),this.dom,this),this.domObserver=new ei(this,(R,oe,he,Ie)=>Kt(this,R,oe,he,Ie)),this.domObserver.start(),Uo(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let $=this._props;this._props={};for(let re in $)this._props[re]=$[re];this._props.state=this.state}return this._props}update($){$.handleDOMEvents!=this._props.handleDOMEvents&&bo(this);let re=this._props;this._props=$,$.plugins&&($.plugins.forEach(Vr),this.directPlugins=$.plugins),this.updateStateInner($.state,re)}setProps($){let re={};for(let R in this._props)re[R]=this._props[R];re.state=this.state;for(let R in $)re[R]=$[R];this.update(re)}updateState($){this.updateStateInner($,this._props)}updateStateInner($,re){let R=this.state,oe=!1,he=!1;$.storedMarks&&this.composing&&(et(this),he=!0),this.state=$;let Ie=R.plugins!=$.plugins||this._props.plugins!=re.plugins;if(Ie||this._props.plugins!=re.plugins||this._props.nodeViews!=re.nodeViews){let yn=mr(this);Fr(yn,this.nodeViews)&&(this.nodeViews=yn,oe=!0)}(Ie||re.handleDOMEvents!=this._props.handleDOMEvents)&&bo(this),this.editable=wr(this),Rr(this);let Ue=Co(this),nt=Ar(this),gt=R.plugins!=$.plugins&&!R.doc.eq($.doc)?"reset":$.scrollToSelection>R.scrollToSelection?"to selection":"preserve",It=oe||!this.docView.matchesNode($.doc,nt,Ue);(It||!$.selection.eq(R.selection))&&(he=!0);let Gt=gt=="preserve"&&he&&this.dom.style.overflowAnchor==null&&ee(this);if(he){this.domObserver.stop();let yn=It&&(N||Z)&&!this.composing&&!R.selection.empty&&!$.selection.empty&&Sr(R.selection,$.selection);if(It){let pn=Z?this.trackWrites=this.domSelectionRange().focusNode:null;(oe||!this.docView.update($.doc,nt,Ue,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=H($.doc,nt,Ue,this.dom,this)),pn&&!this.trackWrites&&(yn=!0)}yn||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Xr(this))?Lr(this,yn):(io(this,$.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(R),gt=="reset"?this.dom.scrollTop=0:gt=="to selection"?this.scrollToSelection():Gt&&ce(Gt)}scrollToSelection(){let $=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",re=>re(this)))if(this.state.selection instanceof o.qv){let re=this.docView.domAfterPos(this.state.selection.from);re.nodeType==1&&se(this,re.getBoundingClientRect(),$)}else se(this,this.coordsAtPos(this.state.selection.head,1),$)}destroyPluginViews(){let $;for(;$=this.pluginViews.pop();)$.destroy&&$.destroy()}updatePluginViews($){if(!$||$.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let re=0;re<this.directPlugins.length;re++){let R=this.directPlugins[re];R.spec.view&&this.pluginViews.push(R.spec.view(this))}for(let re=0;re<this.state.plugins.length;re++){let R=this.state.plugins[re];R.spec.view&&this.pluginViews.push(R.spec.view(this))}}else for(let re=0;re<this.pluginViews.length;re++){let R=this.pluginViews[re];R.update&&R.update(this,$)}}someProp($,re){let R=this._props&&this._props[$],oe;if(R!=null&&(oe=re?re(R):R))return oe;for(let Ie=0;Ie<this.directPlugins.length;Ie++){let Ue=this.directPlugins[Ie].props[$];if(Ue!=null&&(oe=re?re(Ue):Ue))return oe}let he=this.state.plugins;if(he)for(let Ie=0;Ie<he.length;Ie++){let Ue=he[Ie].props[$];if(Ue!=null&&(oe=re?re(Ue):Ue))return oe}}hasFocus(){if(N){let $=this.root.activeElement;if($==this.dom)return!0;if(!$||!this.dom.contains($))return!1;for(;$&&this.dom!=$&&this.dom.contains($);){if($.contentEditable=="false")return!1;$=$.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&de(this.dom),Lr(this),this.domObserver.start()}get root(){let $=this._root;if($==null){for(let re=this.dom.parentNode;re;re=re.parentNode)if(re.nodeType==9||re.nodeType==11&&re.host)return re.getSelection||(Object.getPrototypeOf(re).getSelection=()=>re.ownerDocument.getSelection()),this._root=re}return $||document}posAtCoords($){return We(this,$)}coordsAtPos($,re=1){return ct(this,$,re)}domAtPos($,re=0){return this.docView.domFromPos($,re)}nodeDOM($){let re=this.docView.descAt($);return re?re.nodeDOM:null}posAtDOM($,re,R=-1){let oe=this.docView.posFromDOM($,re,R);if(oe==null)throw new RangeError("DOM position not inside the editor");return oe}endOfTextblock($,re){return vt(this,re||this.state,$)}pasteHTML($,re){return Ce(this,"",$,!1,re||new ClipboardEvent("paste"))}pasteText($,re){return Ce(this,$,null,!0,re||new ClipboardEvent("paste"))}destroy(){this.docView&&(Yo(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Co(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent($){return oi(this,$)}dispatch($){let re=this._props.dispatchTransaction;re?re.call(this,$):this.updateState(this.state.apply($))}domSelectionRange(){return ne&&this.root.nodeType===11&&a(this.dom.ownerDocument)==this.dom?it(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function Ar(K){let $=Object.create(null);return $.class="ProseMirror",$.contenteditable=String(K.editable),$.translate="no",K.someProp("attributes",re=>{if(typeof re=="function"&&(re=re(K.state)),re)for(let R in re)R=="class"&&($.class+=" "+re[R]),R=="style"?$.style=($.style?$.style+";":"")+re[R]:!$[R]&&R!="contenteditable"&&R!="nodeName"&&($[R]=String(re[R]))}),[Ut.node(0,K.state.doc.content.size,$)]}function Rr(K){if(K.markCursor){let $=document.createElement("img");$.className="ProseMirror-separator",$.setAttribute("mark-placeholder","true"),$.setAttribute("alt",""),K.cursorWrapper={dom:$,deco:Ut.widget(K.state.selection.head,$,{raw:!0,marks:K.markCursor})}}else K.cursorWrapper=null}function wr(K){return!K.someProp("editable",$=>$(K.state)===!1)}function Sr(K,$){let re=Math.min(K.$anchor.sharedDepth(K.head),$.$anchor.sharedDepth($.head));return K.$anchor.start(re)!=$.$anchor.start(re)}function mr(K){let $=Object.create(null);function re(R){for(let oe in R)Object.prototype.hasOwnProperty.call($,oe)||($[oe]=R[oe])}return K.someProp("nodeViews",re),K.someProp("markViews",re),$}function Fr(K,$){let re=0,R=0;for(let oe in K){if(K[oe]!=$[oe])return!0;re++}for(let oe in $)R++;return re!=R}function Vr(K){if(K.spec.state||K.spec.filterTransaction||K.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}},83757:(z,l,e)=>{"use strict";e.d(l,{ZP:()=>Je});var o=e(98661),f=e(61688);const u=()=>{},c=u(),_=Object,g=tt=>tt===c,E=tt=>typeof tt=="function",v=(tt,Ae)=>ar(ar({},tt),Ae),y=tt=>E(tt.then),T=new WeakMap;let w=0;const S=tt=>{const Ae=typeof tt,H=tt&&tt.constructor,Q=H==Date;let pe,we;if(_(tt)===tt&&!Q&&H!=RegExp){if(pe=T.get(tt),pe)return pe;if(pe=++w+"~",T.set(tt,pe),H==Array){for(pe="@",we=0;we<tt.length;we++)pe+=S(tt[we])+",";T.set(tt,pe)}if(H==_){pe="#";const Le=_.keys(tt).sort();for(;!g(we=Le.pop());)g(tt[we])||(pe+=we+":"+S(tt[we])+",");T.set(tt,pe)}}else pe=Q?tt.toJSON():Ae=="symbol"?tt.toString():Ae=="string"?JSON.stringify(tt):""+tt;return pe},O=new WeakMap,p={},d={},a="undefined",P=typeof window!=a,C=typeof document!=a,D=()=>P&&typeof window.requestAnimationFrame!=a,A=(tt,Ae)=>{const H=O.get(tt);return[()=>!g(Ae)&&tt.get(Ae)||p,Q=>{if(!g(Ae)){const pe=tt.get(Ae);Ae in d||(d[Ae]=pe),H[5](Ae,v(pe,Q),pe||p)}},H[6],()=>!g(Ae)&&Ae in d?d[Ae]:!g(Ae)&&tt.get(Ae)||p]};let x=!0;const I=()=>x,[N,F]=P&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[u,u],B=()=>{const tt=C&&document.visibilityState;return g(tt)||tt!=="hidden"},V=tt=>(C&&document.addEventListener("visibilitychange",tt),N("focus",tt),()=>{C&&document.removeEventListener("visibilitychange",tt),F("focus",tt)}),Z=tt=>{const Ae=()=>{x=!0,tt()},H=()=>{x=!1};return N("online",Ae),N("offline",H),()=>{F("online",Ae),F("offline",H)}},Y={isOnline:I,isVisible:B},ne={initFocus:V,initReconnect:Z},G=!o.default.useId,L=!P||"Deno"in window,W=tt=>D()?window.requestAnimationFrame(tt):setTimeout(tt,1),ie=L?o.useEffect:o.useLayoutEffect,ue=typeof navigator!="undefined"&&navigator.connection,le=!L&&ue&&(["slow-2g","2g"].includes(ue.effectiveType)||ue.saveData),J=tt=>{if(E(tt))try{tt=tt()}catch(H){tt=""}const Ae=tt;return tt=typeof tt=="string"?tt:(Array.isArray(tt)?tt.length:tt)?S(tt):"",[tt,Ae]};let te=0;const se=()=>++te,ee=0,ae=1,ce=2;var Ee={__proto__:null,ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:ee,MUTATE_EVENT:ce,RECONNECT_EVENT:ae};function de(...tt){return yu(this,null,function*(){const[Ae,H,Q,pe]=tt,we=v({populateCache:!0,throwOnError:!0},typeof pe=="boolean"?{revalidate:pe}:pe||{});let Le=we.populateCache;const Ye=we.rollbackOnError;let dt=we.optimisticData;const st=we.revalidate!==!1,_t=Mn=>typeof Ye=="function"?Ye(Mn):Ye!==!1,Tt=we.throwOnError;if(E(H)){const Mn=H,tr=[],sr=Ae.keys();for(const Rt of sr)!/^\$(inf|sub)\$/.test(Rt)&&Mn(Ae.get(Rt)._k)&&tr.push(Rt);return Promise.all(tr.map(nn))}return nn(H);function nn(Mn){return yu(this,null,function*(){const[tr]=J(Mn);if(!tr)return;const[sr,Rt]=A(Ae,tr),[Mt,$t,vn,An]=O.get(Ae),dr=Mt[tr],Pr=()=>st&&(delete vn[tr],delete An[tr],dr&&dr[0])?dr[0](ce).then(()=>sr().data):sr().data;if(tt.length<3)return Pr();let br=Q,Or;const Lr=se();$t[tr]=[Lr,0];const Wr=!g(dt),Zr=sr(),yo=Zr.data,ho=Zr._c,$r=g(ho)?yo:ho;if(Wr&&(dt=E(dt)?dt($r,yo):dt,Rt({data:dt,_c:$r})),E(br))try{br=br($r)}catch(io){Or=io}if(br&&y(br))if(br=yield br.catch(io=>{Or=io}),Lr!==$t[tr][0]){if(Or)throw Or;return br}else Or&&Wr&&_t(Or)&&(Le=!0,br=$r,Rt({data:br,_c:c}));Le&&(Or||(E(Le)&&(br=Le(br,$r)),Rt({data:br,error:c,_c:c}))),$t[tr][1]=se();const co=yield Pr();if(Rt({_c:c}),Or){if(Tt)throw Or;return}return Le?co:br})}})}const _e=(tt,Ae)=>{for(const H in tt)tt[H][0]&&tt[H][0](Ae)},ve=(tt,Ae)=>{if(!O.has(tt)){const H=v(ne,Ae),Q={},pe=de.bind(c,tt);let we=u;const Le={},Ye=(_t,Tt)=>{const nn=Le[_t]||[];return Le[_t]=nn,nn.push(Tt),()=>nn.splice(nn.indexOf(Tt),1)},dt=(_t,Tt,nn)=>{tt.set(_t,Tt);const Mn=Le[_t];if(Mn)for(const tr of Mn)tr(Tt,nn)},st=()=>{if(!O.has(tt)&&(O.set(tt,[Q,{},{},{},pe,dt,Ye]),!L)){const _t=H.initFocus(setTimeout.bind(c,_e.bind(c,Q,ee))),Tt=H.initReconnect(setTimeout.bind(c,_e.bind(c,Q,ae)));we=()=>{_t&&_t(),Tt&&Tt(),O.delete(tt)}}};return st(),[tt,pe,st,we]}return[tt,O.get(tt)[4]]},De=(tt,Ae,H,Q,pe)=>{const we=H.errorRetryCount,Le=pe.retryCount,Ye=~~((Math.random()+.5)*(1<<(Le<8?Le:8)))*H.errorRetryInterval;!g(we)&&Le>we||setTimeout(Q,Ye,pe)},Oe=(tt,Ae)=>S(tt)==S(Ae),[ye,ze]=ve(new Map),Be=v({onLoadingSlow:u,onSuccess:u,onError:u,onErrorRetry:De,onDiscarded:u,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:le?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:le?5e3:3e3,compare:Oe,isPaused:()=>!1,cache:ye,mutate:ze,fallback:{}},Y),We=(tt,Ae)=>{const H=v(tt,Ae);if(Ae){const{use:Q,fallback:pe}=tt,{use:we,fallback:Le}=Ae;Q&&we&&(H.use=Q.concat(we)),pe&&Le&&(H.fallback=v(pe,Le))}return H},Ke=(0,o.createContext)({}),Xe=tt=>{const{value:Ae}=tt,H=(0,o.useContext)(Ke),Q=E(Ae),pe=(0,o.useMemo)(()=>Q?Ae(H):Ae,[Q,H,Ae]),we=(0,o.useMemo)(()=>Q?pe:We(H,pe),[Q,H,pe]),Le=pe&&pe.provider,Ye=(0,o.useRef)(c);Le&&!Ye.current&&(Ye.current=ve(Le(we.cache||ye),pe));const dt=Ye.current;return dt&&(we.cache=dt[0],we.mutate=dt[1]),ie(()=>{if(dt)return dt[2]&&dt[2](),dt[3]},[]),(0,o.createElement)(Ke.Provider,v(tt,{value:we}))},ct=P&&window.__SWR_DEVTOOLS_USE__,Se=ct?window.__SWR_DEVTOOLS_USE__:[],Qe=()=>{ct&&(window.__SWR_DEVTOOLS_REACT__=o.default)},ge=tt=>E(tt[1])?[tt[0],tt[1],tt[2]||{}]:[tt[0],null,(tt[1]===null?tt[2]:tt[1])||{}],Fe=()=>v(Be,(0,o.useContext)(Ke)),Ne=(tt,Ae)=>{const[H,Q]=J(tt),[,,,pe]=O.get(ye);if(pe[H])return pe[H];const we=Ae(Q);return pe[H]=we,we},lt=tt=>(Ae,H,Q)=>tt(Ae,H&&((...we)=>{const[Le]=J(Ae),[,,,Ye]=O.get(ye),dt=Ye[Le];return g(dt)?H(...we):(delete Ye[Le],dt)}),Q),Et=Se.concat(lt),jt=tt=>function(...H){const Q=Fe(),[pe,we,Le]=ge(H),Ye=We(Q,Le);let dt=tt;const{use:st}=Ye,_t=(st||[]).concat(Et);for(let Tt=_t.length;Tt--;)dt=_t[Tt](dt);return dt(pe,we||Ye.fetcher||null,Ye)},en=tt=>{const Ae=useState({})[1],H=useRef(!1),Q=useRef(tt),pe=useRef({data:!1,error:!1,isValidating:!1}),we=useCallback(Le=>{let Ye=!1;const dt=Q.current;for(const st in Le){const _t=st;dt[_t]!==Le[_t]&&(dt[_t]=Le[_t],pe.current[_t]&&(Ye=!0))}Ye&&!H.current&&(G?Ae({}):React.startTransition(()=>Ae({})))},[Ae]);return ie(()=>(H.current=!1,()=>{H.current=!0})),[Q,pe.current,we]},vt=(tt,Ae,H)=>{const Q=Ae[tt]||(Ae[tt]=[]);return Q.push(H),()=>{const pe=Q.indexOf(H);pe>=0&&(Q[pe]=Q[Q.length-1],Q.pop())}},Re=(tt,Ae)=>(...H)=>{const[Q,pe,we]=ge(H),Le=(we.use||[]).concat(Ae);return tt(Q,pe,ko(ar({},we),{use:Le}))};Qe();const He=tt=>serialize(tt)[0],ot=o.default.use||(tt=>{if(tt.status==="pending")throw tt;if(tt.status==="fulfilled")return tt.value;throw tt.status==="rejected"?tt.reason:(tt.status="pending",tt.then(Ae=>{tt.status="fulfilled",tt.value=Ae},Ae=>{tt.status="rejected",tt.reason=Ae}),tt)}),me={dedupe:!0},ke=(tt,Ae,H)=>{const{cache:Q,compare:pe,suspense:we,fallbackData:Le,revalidateOnMount:Ye,revalidateIfStale:dt,refreshInterval:st,refreshWhenHidden:_t,refreshWhenOffline:Tt,keepPreviousData:nn}=H,[Mn,tr,sr,Rt]=O.get(Q),[Mt,$t]=J(tt),vn=(0,o.useRef)(!1),An=(0,o.useRef)(!1),dr=(0,o.useRef)(Mt),Pr=(0,o.useRef)(Ae),br=(0,o.useRef)(H),Or=()=>br.current,Lr=()=>Or().isVisible()&&Or().isOnline(),[Wr,Zr,yo,ho]=A(Q,Mt),$r=(0,o.useRef)({}).current,co=g(Le)?H.fallback[Mt]:Le,io=(tn,rn)=>{for(const ln in $r){const En=ln;if(En==="data"){if(!pe(tn[En],rn[En])&&(!g(tn[En])||!pe(Jt,rn[En])))return!1}else if(rn[En]!==tn[En])return!1}return!0},Tr=(0,o.useMemo)(()=>{const tn=(()=>!Mt||!Ae?!1:g(Ye)?Or().isPaused()||we?!1:g(dt)?!0:dt:Ye)(),rn=Zn=>{const or=v(Zn);return delete or._k,tn?ar({isValidating:!0,isLoading:!0},or):or},ln=Wr(),En=ho(),Wn=rn(ln),kn=ln===En?Wn:rn(En);let Un=Wn;return[()=>{const Zn=rn(Wr());return io(Zn,Un)?(Un.data=Zn.data,Un.isLoading=Zn.isLoading,Un.isValidating=Zn.isValidating,Un.error=Zn.error,Un):(Un=Zn,Zn)},()=>kn]},[Q,Mt]),Hr=(0,f.useSyncExternalStore)((0,o.useCallback)(tn=>yo(Mt,(rn,ln)=>{io(ln,rn)||tn()}),[Q,Mt]),Tr[0],Tr[1]),Po=!vn.current,oo=Mn[Mt]&&Mn[Mt].length>0,Xr=Hr.data,po=g(Xr)?co:Xr,Oo=Hr.error,ri=(0,o.useRef)(po),Jt=nn?g(Xr)?ri.current:Xr:po,Tn=(()=>oo&&!g(Oo)?!1:Po&&!g(Ye)?Ye:Or().isPaused()?!1:we?g(po)?!1:dt:g(po)||dt)(),xn=!!(Mt&&Ae&&Po&&Tn),Xn=g(Hr.isValidating)?xn:Hr.isValidating,xt=g(Hr.isLoading)?xn:Hr.isLoading,Ft=(0,o.useCallback)(tn=>yu(Kh,null,function*(){const rn=Pr.current;if(!Mt||!rn||An.current||Or().isPaused())return!1;let ln,En,Wn=!0;const kn=tn||{},Un=!sr[Mt]||!kn.dedupe,Zn=()=>G?!An.current&&Mt===dr.current&&vn.current:Mt===dr.current,or={isValidating:!1,isLoading:!1},yt=()=>{Zr(or)},Wt=()=>{const Xt=sr[Mt];Xt&&Xt[1]===En&&delete sr[Mt]},Zt={isValidating:!0};g(Wr().data)&&(Zt.isLoading=!0);try{if(Un&&(Zr(Zt),H.loadingTimeout&&g(Wr().data)&&setTimeout(()=>{Wn&&Zn()&&Or().onLoadingSlow(Mt,H)},H.loadingTimeout),sr[Mt]=[rn($t),se()]),[ln,En]=sr[Mt],ln=yield ln,Un&&setTimeout(Wt,H.dedupingInterval),!sr[Mt]||sr[Mt][1]!==En)return Un&&Zn()&&Or().onDiscarded(Mt),!1;or.error=c;const Xt=tr[Mt];if(!g(Xt)&&(En<=Xt[0]||En<=Xt[1]||Xt[1]===0))return yt(),Un&&Zn()&&Or().onDiscarded(Mt),!1;const Dn=Wr().data;or.data=pe(Dn,ln)?Dn:ln,Un&&Zn()&&Or().onSuccess(ln,Mt,H)}catch(Xt){Wt();const Dn=Or(),{shouldRetryOnError:Cn}=Dn;Dn.isPaused()||(or.error=Xt,Un&&Zn()&&(Dn.onError(Xt,Mt,Dn),(Cn===!0||E(Cn)&&Cn(Xt))&&Lr()&&Dn.onErrorRetry(Xt,Mt,Dn,On=>{const zn=Mn[Mt];zn&&zn[0]&&zn[0](Ee.ERROR_REVALIDATE_EVENT,On)},{retryCount:(kn.retryCount||0)+1,dedupe:!0})))}return Wn=!1,yt(),!0}),[Mt,Q]),zt=(0,o.useCallback)((...tn)=>de(Q,dr.current,...tn),[]);if(ie(()=>{Pr.current=Ae,br.current=H,g(Xr)||(ri.current=Xr)}),ie(()=>{if(!Mt)return;const tn=Ft.bind(c,me);let rn=0;const En=vt(Mt,Mn,(Wn,kn={})=>{if(Wn==Ee.FOCUS_EVENT){const Un=Date.now();Or().revalidateOnFocus&&Un>rn&&Lr()&&(rn=Un+Or().focusThrottleInterval,tn())}else if(Wn==Ee.RECONNECT_EVENT)Or().revalidateOnReconnect&&Lr()&&tn();else{if(Wn==Ee.MUTATE_EVENT)return Ft();if(Wn==Ee.ERROR_REVALIDATE_EVENT)return Ft(kn)}});return An.current=!1,dr.current=Mt,vn.current=!0,Zr({_k:$t}),Tn&&(g(po)||L?tn():W(tn)),()=>{An.current=!0,En()}},[Mt]),ie(()=>{let tn;function rn(){const En=E(st)?st(Wr().data):st;En&&tn!==-1&&(tn=setTimeout(ln,En))}function ln(){!Wr().error&&(_t||Or().isVisible())&&(Tt||Or().isOnline())?Ft(me).then(rn):rn()}return rn(),()=>{tn&&(clearTimeout(tn),tn=-1)}},[st,_t,Tt,Mt]),(0,o.useDebugValue)(Jt),we&&g(po)&&Mt){if(!G&&L)throw new Error("Fallback data is required when using suspense in SSR.");Pr.current=Ae,br.current=H,An.current=!1;const tn=Rt[Mt];if(!g(tn)){const rn=zt(tn);ot(rn)}if(g(Oo)){const rn=Ft(me);g(Jt)||(rn.status="fulfilled",rn.value=!0),ot(rn)}else throw Oo}return{mutate:zt,get data(){return $r.data=!0,Jt},get error(){return $r.error=!0,Oo},get isValidating(){return $r.isValidating=!0,Xn},get isLoading(){return $r.isLoading=!0,xt}}},je=_.defineProperty(Xe,"defaultValue",{value:Be}),Je=jt(ke)},33952:(z,l,e)=>{"use strict";e.d(l,{YG:()=>w,ue:()=>o});for(var o={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},f={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},u=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),c=typeof navigator!="undefined"&&/Apple Computer/.test(navigator.vendor),_=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),g=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),E=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),v=u&&(g||+u[1]<57)||_&&g,y=0;y<10;y++)o[48+y]=o[96+y]=String(y);for(var y=1;y<=24;y++)o[y+111]="F"+y;for(var y=65;y<=90;y++)o[y]=String.fromCharCode(y+32),f[y]=String.fromCharCode(y);for(var T in o)f.hasOwnProperty(T)||(f[T]=o[T]);function w(S){var O=v&&(S.ctrlKey||S.altKey||S.metaKey)||(c||E)&&S.shiftKey&&S.key&&S.key.length==1,p=!O&&S.key||(S.shiftKey?f:o)[S.keyCode]||S.key||"Unidentified";return p=="Esc"&&(p="Escape"),p=="Del"&&(p="Delete"),p=="Left"&&(p="ArrowLeft"),p=="Up"&&(p="ArrowUp"),p=="Right"&&(p="ArrowRight"),p=="Down"&&(p="ArrowDown"),p}},33600:z=>{"use strict";z.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},59323:z=>{"use strict";z.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223E","acd":"\u223F","acE":"\u223E\u0333","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","Acy":"\u0410","acy":"\u0430","AElig":"\xC6","aelig":"\xE6","af":"\u2061","Afr":"\u{1D504}","afr":"\u{1D51E}","Agrave":"\xC0","agrave":"\xE0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03B1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2A3F","amp":"&","AMP":"&","andand":"\u2A55","And":"\u2A53","and":"\u2227","andd":"\u2A5C","andslope":"\u2A58","andv":"\u2A5A","ang":"\u2220","ange":"\u29A4","angle":"\u2220","angmsdaa":"\u29A8","angmsdab":"\u29A9","angmsdac":"\u29AA","angmsdad":"\u29AB","angmsdae":"\u29AC","angmsdaf":"\u29AD","angmsdag":"\u29AE","angmsdah":"\u29AF","angmsd":"\u2221","angrt":"\u221F","angrtvb":"\u22BE","angrtvbd":"\u299D","angsph":"\u2222","angst":"\xC5","angzarr":"\u237C","Aogon":"\u0104","aogon":"\u0105","Aopf":"\u{1D538}","aopf":"\u{1D552}","apacir":"\u2A6F","ap":"\u2248","apE":"\u2A70","ape":"\u224A","apid":"\u224B","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224A","Aring":"\xC5","aring":"\xE5","Ascr":"\u{1D49C}","ascr":"\u{1D4B6}","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224D","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","awconint":"\u2233","awint":"\u2A11","backcong":"\u224C","backepsilon":"\u03F6","backprime":"\u2035","backsim":"\u223D","backsimeq":"\u22CD","Backslash":"\u2216","Barv":"\u2AE7","barvee":"\u22BD","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23B5","bbrktbrk":"\u23B6","bcong":"\u224C","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201E","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29B0","bepsi":"\u03F6","bernou":"\u212C","Bernoullis":"\u212C","Beta":"\u0392","beta":"\u03B2","beth":"\u2136","between":"\u226C","Bfr":"\u{1D505}","bfr":"\u{1D51F}","bigcap":"\u22C2","bigcirc":"\u25EF","bigcup":"\u22C3","bigodot":"\u2A00","bigoplus":"\u2A01","bigotimes":"\u2A02","bigsqcup":"\u2A06","bigstar":"\u2605","bigtriangledown":"\u25BD","bigtriangleup":"\u25B3","biguplus":"\u2A04","bigvee":"\u22C1","bigwedge":"\u22C0","bkarow":"\u290D","blacklozenge":"\u29EB","blacksquare":"\u25AA","blacktriangle":"\u25B4","blacktriangledown":"\u25BE","blacktriangleleft":"\u25C2","blacktriangleright":"\u25B8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20E5","bnequiv":"\u2261\u20E5","bNot":"\u2AED","bnot":"\u2310","Bopf":"\u{1D539}","bopf":"\u{1D553}","bot":"\u22A5","bottom":"\u22A5","bowtie":"\u22C8","boxbox":"\u29C9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250C","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252C","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229F","boxplus":"\u229E","boxtimes":"\u22A0","boxul":"\u2518","boxuL":"\u255B","boxUl":"\u255C","boxUL":"\u255D","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255A","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253C","boxvH":"\u256A","boxVh":"\u256B","boxVH":"\u256C","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251C","boxvR":"\u255E","boxVr":"\u255F","boxVR":"\u2560","bprime":"\u2035","breve":"\u02D8","Breve":"\u02D8","brvbar":"\xA6","bscr":"\u{1D4B7}","Bscr":"\u212C","bsemi":"\u204F","bsim":"\u223D","bsime":"\u22CD","bsolb":"\u29C5","bsol":"\\\\","bsolhsub":"\u27C8","bull":"\u2022","bullet":"\u2022","bump":"\u224E","bumpE":"\u2AAE","bumpe":"\u224F","Bumpeq":"\u224E","bumpeq":"\u224F","Cacute":"\u0106","cacute":"\u0107","capand":"\u2A44","capbrcup":"\u2A49","capcap":"\u2A4B","cap":"\u2229","Cap":"\u22D2","capcup":"\u2A47","capdot":"\u2A40","CapitalDifferentialD":"\u2145","caps":"\u2229\uFE00","caret":"\u2041","caron":"\u02C7","Cayleys":"\u212D","ccaps":"\u2A4D","Ccaron":"\u010C","ccaron":"\u010D","Ccedil":"\xC7","ccedil":"\xE7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2A4C","ccupssm":"\u2A50","Cdot":"\u010A","cdot":"\u010B","cedil":"\xB8","Cedilla":"\xB8","cemptyv":"\u29B2","cent":"\xA2","centerdot":"\xB7","CenterDot":"\xB7","cfr":"\u{1D520}","Cfr":"\u212D","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03A7","chi":"\u03C7","circ":"\u02C6","circeq":"\u2257","circlearrowleft":"\u21BA","circlearrowright":"\u21BB","circledast":"\u229B","circledcirc":"\u229A","circleddash":"\u229D","CircleDot":"\u2299","circledR":"\xAE","circledS":"\u24C8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25CB","cirE":"\u29C3","cire":"\u2257","cirfnint":"\u2A10","cirmid":"\u2AEF","cirscir":"\u29C2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201D","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2A74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2A6D","Congruent":"\u2261","conint":"\u222E","Conint":"\u222F","ContourIntegral":"\u222E","copf":"\u{1D554}","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xA9","COPY":"\xA9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21B5","cross":"\u2717","Cross":"\u2A2F","Cscr":"\u{1D49E}","cscr":"\u{1D4B8}","csub":"\u2ACF","csube":"\u2AD1","csup":"\u2AD0","csupe":"\u2AD2","ctdot":"\u22EF","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22DE","cuesc":"\u22DF","cularr":"\u21B6","cularrp":"\u293D","cupbrcap":"\u2A48","cupcap":"\u2A46","CupCap":"\u224D","cup":"\u222A","Cup":"\u22D3","cupcup":"\u2A4A","cupdot":"\u228D","cupor":"\u2A45","cups":"\u222A\uFE00","curarr":"\u21B7","curarrm":"\u293C","curlyeqprec":"\u22DE","curlyeqsucc":"\u22DF","curlyvee":"\u22CE","curlywedge":"\u22CF","curren":"\xA4","curvearrowleft":"\u21B6","curvearrowright":"\u21B7","cuvee":"\u22CE","cuwed":"\u22CF","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232D","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21A1","dArr":"\u21D3","dash":"\u2010","Dashv":"\u2AE4","dashv":"\u22A3","dbkarow":"\u290F","dblac":"\u02DD","Dcaron":"\u010E","dcaron":"\u010F","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21CA","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2A77","deg":"\xB0","Del":"\u2207","Delta":"\u0394","delta":"\u03B4","demptyv":"\u29B1","dfisht":"\u297F","Dfr":"\u{1D507}","dfr":"\u{1D521}","dHar":"\u2965","dharl":"\u21C3","dharr":"\u21C2","DiacriticalAcute":"\xB4","DiacriticalDot":"\u02D9","DiacriticalDoubleAcute":"\u02DD","DiacriticalGrave":"`","DiacriticalTilde":"\u02DC","diam":"\u22C4","diamond":"\u22C4","Diamond":"\u22C4","diamondsuit":"\u2666","diams":"\u2666","die":"\xA8","DifferentialD":"\u2146","digamma":"\u03DD","disin":"\u22F2","div":"\xF7","divide":"\xF7","divideontimes":"\u22C7","divonx":"\u22C7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231E","dlcrop":"\u230D","dollar":"$","Dopf":"\u{1D53B}","dopf":"\u{1D555}","Dot":"\xA8","dot":"\u02D9","DotDot":"\u20DC","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22A1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222F","DoubleDot":"\xA8","DoubleDownArrow":"\u21D3","DoubleLeftArrow":"\u21D0","DoubleLeftRightArrow":"\u21D4","DoubleLeftTee":"\u2AE4","DoubleLongLeftArrow":"\u27F8","DoubleLongLeftRightArrow":"\u27FA","DoubleLongRightArrow":"\u27F9","DoubleRightArrow":"\u21D2","DoubleRightTee":"\u22A8","DoubleUpArrow":"\u21D1","DoubleUpDownArrow":"\u21D5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21D3","DownArrowUpArrow":"\u21F5","DownBreve":"\u0311","downdownarrows":"\u21CA","downharpoonleft":"\u21C3","downharpoonright":"\u21C2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295E","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21BD","DownRightTeeVector":"\u295F","DownRightVectorBar":"\u2957","DownRightVector":"\u21C1","DownTeeArrow":"\u21A7","DownTee":"\u22A4","drbkarow":"\u2910","drcorn":"\u231F","drcrop":"\u230C","Dscr":"\u{1D49F}","dscr":"\u{1D4B9}","DScy":"\u0405","dscy":"\u0455","dsol":"\u29F6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22F1","dtri":"\u25BF","dtrif":"\u25BE","duarr":"\u21F5","duhar":"\u296F","dwangle":"\u29A6","DZcy":"\u040F","dzcy":"\u045F","dzigrarr":"\u27FF","Eacute":"\xC9","eacute":"\xE9","easter":"\u2A6E","Ecaron":"\u011A","ecaron":"\u011B","Ecirc":"\xCA","ecirc":"\xEA","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042D","ecy":"\u044D","eDDot":"\u2A77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\u{1D508}","efr":"\u{1D522}","eg":"\u2A9A","Egrave":"\xC8","egrave":"\xE8","egs":"\u2A96","egsdot":"\u2A98","el":"\u2A99","Element":"\u2208","elinters":"\u23E7","ell":"\u2113","els":"\u2A95","elsdot":"\u2A97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25FB","emptyv":"\u2205","EmptyVerySmallSquare":"\u25AB","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014A","eng":"\u014B","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\u{1D53C}","eopf":"\u{1D556}","epar":"\u22D5","eparsl":"\u29E3","eplus":"\u2A71","epsi":"\u03B5","Epsilon":"\u0395","epsilon":"\u03B5","epsiv":"\u03F5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2A96","eqslantless":"\u2A95","Equal":"\u2A75","equals":"=","EqualTilde":"\u2242","equest":"\u225F","Equilibrium":"\u21CC","equiv":"\u2261","equivDD":"\u2A78","eqvparsl":"\u29E5","erarr":"\u2971","erDot":"\u2253","escr":"\u212F","Escr":"\u2130","esdot":"\u2250","Esim":"\u2A73","esim":"\u2242","Eta":"\u0397","eta":"\u03B7","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","euro":"\u20AC","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\uFB03","fflig":"\uFB00","ffllig":"\uFB04","Ffr":"\u{1D509}","ffr":"\u{1D523}","filig":"\uFB01","FilledSmallSquare":"\u25FC","FilledVerySmallSquare":"\u25AA","fjlig":"fj","flat":"\u266D","fllig":"\uFB02","fltns":"\u25B1","fnof":"\u0192","Fopf":"\u{1D53D}","fopf":"\u{1D557}","forall":"\u2200","ForAll":"\u2200","fork":"\u22D4","forkv":"\u2AD9","Fouriertrf":"\u2131","fpartint":"\u2A0D","frac12":"\xBD","frac13":"\u2153","frac14":"\xBC","frac15":"\u2155","frac16":"\u2159","frac18":"\u215B","frac23":"\u2154","frac25":"\u2156","frac34":"\xBE","frac35":"\u2157","frac38":"\u215C","frac45":"\u2158","frac56":"\u215A","frac58":"\u215D","frac78":"\u215E","frasl":"\u2044","frown":"\u2322","fscr":"\u{1D4BB}","Fscr":"\u2131","gacute":"\u01F5","Gamma":"\u0393","gamma":"\u03B3","Gammad":"\u03DC","gammad":"\u03DD","gap":"\u2A86","Gbreve":"\u011E","gbreve":"\u011F","Gcedil":"\u0122","Gcirc":"\u011C","gcirc":"\u011D","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2A8C","gel":"\u22DB","geq":"\u2265","geqq":"\u2267","geqslant":"\u2A7E","gescc":"\u2AA9","ges":"\u2A7E","gesdot":"\u2A80","gesdoto":"\u2A82","gesdotol":"\u2A84","gesl":"\u22DB\uFE00","gesles":"\u2A94","Gfr":"\u{1D50A}","gfr":"\u{1D524}","gg":"\u226B","Gg":"\u22D9","ggg":"\u22D9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2AA5","gl":"\u2277","glE":"\u2A92","glj":"\u2AA4","gnap":"\u2A8A","gnapprox":"\u2A8A","gne":"\u2A88","gnE":"\u2269","gneq":"\u2A88","gneqq":"\u2269","gnsim":"\u22E7","Gopf":"\u{1D53E}","gopf":"\u{1D558}","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22DB","GreaterFullEqual":"\u2267","GreaterGreater":"\u2AA2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2A7E","GreaterTilde":"\u2273","Gscr":"\u{1D4A2}","gscr":"\u210A","gsim":"\u2273","gsime":"\u2A8E","gsiml":"\u2A90","gtcc":"\u2AA7","gtcir":"\u2A7A","gt":">","GT":">","Gt":"\u226B","gtdot":"\u22D7","gtlPar":"\u2995","gtquest":"\u2A7C","gtrapprox":"\u2A86","gtrarr":"\u2978","gtrdot":"\u22D7","gtreqless":"\u22DB","gtreqqless":"\u2A8C","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\uFE00","gvnE":"\u2269\uFE00","Hacek":"\u02C7","hairsp":"\u200A","half":"\xBD","hamilt":"\u210B","HARDcy":"\u042A","hardcy":"\u044A","harrcir":"\u2948","harr":"\u2194","hArr":"\u21D4","harrw":"\u21AD","Hat":"^","hbar":"\u210F","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22B9","hfr":"\u{1D525}","Hfr":"\u210C","HilbertSpace":"\u210B","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21FF","homtht":"\u223B","hookleftarrow":"\u21A9","hookrightarrow":"\u21AA","hopf":"\u{1D559}","Hopf":"\u210D","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\u{1D4BD}","Hscr":"\u210B","hslash":"\u210F","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224E","HumpEqual":"\u224F","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xCD","iacute":"\xED","ic":"\u2063","Icirc":"\xCE","icirc":"\xEE","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xA1","iff":"\u21D4","ifr":"\u{1D526}","Ifr":"\u2111","Igrave":"\xCC","igrave":"\xEC","ii":"\u2148","iiiint":"\u2A0C","iiint":"\u222D","iinfin":"\u29DC","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012A","imacr":"\u012B","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22B7","imped":"\u01B5","Implies":"\u21D2","incare":"\u2105","in":"\u2208","infin":"\u221E","infintie":"\u29DD","inodot":"\u0131","intcal":"\u22BA","int":"\u222B","Int":"\u222C","integers":"\u2124","Integral":"\u222B","intercal":"\u22BA","Intersection":"\u22C2","intlarhk":"\u2A17","intprod":"\u2A3C","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012E","iogon":"\u012F","Iopf":"\u{1D540}","iopf":"\u{1D55A}","Iota":"\u0399","iota":"\u03B9","iprod":"\u2A3C","iquest":"\xBF","iscr":"\u{1D4BE}","Iscr":"\u2110","isin":"\u2208","isindot":"\u22F5","isinE":"\u22F9","isins":"\u22F4","isinsv":"\u22F3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xCF","iuml":"\xEF","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\u{1D50D}","jfr":"\u{1D527}","jmath":"\u0237","Jopf":"\u{1D541}","jopf":"\u{1D55B}","Jscr":"\u{1D4A5}","jscr":"\u{1D4BF}","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039A","kappa":"\u03BA","kappav":"\u03F0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041A","kcy":"\u043A","Kfr":"\u{1D50E}","kfr":"\u{1D528}","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040C","kjcy":"\u045C","Kopf":"\u{1D542}","kopf":"\u{1D55C}","Kscr":"\u{1D4A6}","kscr":"\u{1D4C0}","lAarr":"\u21DA","Lacute":"\u0139","lacute":"\u013A","laemptyv":"\u29B4","lagran":"\u2112","Lambda":"\u039B","lambda":"\u03BB","lang":"\u27E8","Lang":"\u27EA","langd":"\u2991","langle":"\u27E8","lap":"\u2A85","Laplacetrf":"\u2112","laquo":"\xAB","larrb":"\u21E4","larrbfs":"\u291F","larr":"\u2190","Larr":"\u219E","lArr":"\u21D0","larrfs":"\u291D","larrhk":"\u21A9","larrlp":"\u21AB","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21A2","latail":"\u2919","lAtail":"\u291B","lat":"\u2AAB","late":"\u2AAD","lates":"\u2AAD\uFE00","lbarr":"\u290C","lBarr":"\u290E","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298B","lbrksld":"\u298F","lbrkslu":"\u298D","Lcaron":"\u013D","lcaron":"\u013E","Lcedil":"\u013B","lcedil":"\u013C","lceil":"\u2308","lcub":"{","Lcy":"\u041B","lcy":"\u043B","ldca":"\u2936","ldquo":"\u201C","ldquor":"\u201E","ldrdhar":"\u2967","ldrushar":"\u294B","ldsh":"\u21B2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27E8","LeftArrowBar":"\u21E4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21D0","LeftArrowRightArrow":"\u21C6","leftarrowtail":"\u21A2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27E6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21C3","LeftFloor":"\u230A","leftharpoondown":"\u21BD","leftharpoonup":"\u21BC","leftleftarrows":"\u21C7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21D4","leftrightarrows":"\u21C6","leftrightharpoons":"\u21CB","leftrightsquigarrow":"\u21AD","LeftRightVector":"\u294E","LeftTeeArrow":"\u21A4","LeftTee":"\u22A3","LeftTeeVector":"\u295A","leftthreetimes":"\u22CB","LeftTriangleBar":"\u29CF","LeftTriangle":"\u22B2","LeftTriangleEqual":"\u22B4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21BF","LeftVectorBar":"\u2952","LeftVector":"\u21BC","lEg":"\u2A8B","leg":"\u22DA","leq":"\u2264","leqq":"\u2266","leqslant":"\u2A7D","lescc":"\u2AA8","les":"\u2A7D","lesdot":"\u2A7F","lesdoto":"\u2A81","lesdotor":"\u2A83","lesg":"\u22DA\uFE00","lesges":"\u2A93","lessapprox":"\u2A85","lessdot":"\u22D6","lesseqgtr":"\u22DA","lesseqqgtr":"\u2A8B","LessEqualGreater":"\u22DA","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2AA1","lesssim":"\u2272","LessSlantEqual":"\u2A7D","LessTilde":"\u2272","lfisht":"\u297C","lfloor":"\u230A","Lfr":"\u{1D50F}","lfr":"\u{1D529}","lg":"\u2276","lgE":"\u2A91","lHar":"\u2962","lhard":"\u21BD","lharu":"\u21BC","lharul":"\u296A","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21C7","ll":"\u226A","Ll":"\u22D8","llcorner":"\u231E","Lleftarrow":"\u21DA","llhard":"\u296B","lltri":"\u25FA","Lmidot":"\u013F","lmidot":"\u0140","lmoustache":"\u23B0","lmoust":"\u23B0","lnap":"\u2A89","lnapprox":"\u2A89","lne":"\u2A87","lnE":"\u2268","lneq":"\u2A87","lneqq":"\u2268","lnsim":"\u22E6","loang":"\u27EC","loarr":"\u21FD","lobrk":"\u27E6","longleftarrow":"\u27F5","LongLeftArrow":"\u27F5","Longleftarrow":"\u27F8","longleftrightarrow":"\u27F7","LongLeftRightArrow":"\u27F7","Longleftrightarrow":"\u27FA","longmapsto":"\u27FC","longrightarrow":"\u27F6","LongRightArrow":"\u27F6","Longrightarrow":"\u27F9","looparrowleft":"\u21AB","looparrowright":"\u21AC","lopar":"\u2985","Lopf":"\u{1D543}","lopf":"\u{1D55D}","loplus":"\u2A2D","lotimes":"\u2A34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25CA","lozenge":"\u25CA","lozf":"\u29EB","lpar":"(","lparlt":"\u2993","lrarr":"\u21C6","lrcorner":"\u231F","lrhar":"\u21CB","lrhard":"\u296D","lrm":"\u200E","lrtri":"\u22BF","lsaquo":"\u2039","lscr":"\u{1D4C1}","Lscr":"\u2112","lsh":"\u21B0","Lsh":"\u21B0","lsim":"\u2272","lsime":"\u2A8D","lsimg":"\u2A8F","lsqb":"[","lsquo":"\u2018","lsquor":"\u201A","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2AA6","ltcir":"\u2A79","lt":"<","LT":"<","Lt":"\u226A","ltdot":"\u22D6","lthree":"\u22CB","ltimes":"\u22C9","ltlarr":"\u2976","ltquest":"\u2A7B","ltri":"\u25C3","ltrie":"\u22B4","ltrif":"\u25C2","ltrPar":"\u2996","lurdshar":"\u294A","luruhar":"\u2966","lvertneqq":"\u2268\uFE00","lvnE":"\u2268\uFE00","macr":"\xAF","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21A6","mapsto":"\u21A6","mapstodown":"\u21A7","mapstoleft":"\u21A4","mapstoup":"\u21A5","marker":"\u25AE","mcomma":"\u2A29","Mcy":"\u041C","mcy":"\u043C","mdash":"\u2014","mDDot":"\u223A","measuredangle":"\u2221","MediumSpace":"\u205F","Mellintrf":"\u2133","Mfr":"\u{1D510}","mfr":"\u{1D52A}","mho":"\u2127","micro":"\xB5","midast":"*","midcir":"\u2AF0","mid":"\u2223","middot":"\xB7","minusb":"\u229F","minus":"\u2212","minusd":"\u2238","minusdu":"\u2A2A","MinusPlus":"\u2213","mlcp":"\u2ADB","mldr":"\u2026","mnplus":"\u2213","models":"\u22A7","Mopf":"\u{1D544}","mopf":"\u{1D55E}","mp":"\u2213","mscr":"\u{1D4C2}","Mscr":"\u2133","mstpos":"\u223E","Mu":"\u039C","mu":"\u03BC","multimap":"\u22B8","mumap":"\u22B8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20D2","nap":"\u2249","napE":"\u2A70\u0338","napid":"\u224B\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266E","naturals":"\u2115","natur":"\u266E","nbsp":"\xA0","nbump":"\u224E\u0338","nbumpe":"\u224F\u0338","ncap":"\u2A43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2A6D\u0338","ncup":"\u2A42","Ncy":"\u041D","ncy":"\u043D","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21D7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200B","NegativeThickSpace":"\u200B","NegativeThinSpace":"\u200B","NegativeVeryThinSpace":"\u200B","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226B","NestedLessLess":"\u226A","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\u{1D511}","nfr":"\u{1D52B}","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2A7E\u0338","nges":"\u2A7E\u0338","nGg":"\u22D9\u0338","ngsim":"\u2275","nGt":"\u226B\u20D2","ngt":"\u226F","ngtr":"\u226F","nGtv":"\u226B\u0338","nharr":"\u21AE","nhArr":"\u21CE","nhpar":"\u2AF2","ni":"\u220B","nis":"\u22FC","nisd":"\u22FA","niv":"\u220B","NJcy":"\u040A","njcy":"\u045A","nlarr":"\u219A","nlArr":"\u21CD","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219A","nLeftarrow":"\u21CD","nleftrightarrow":"\u21AE","nLeftrightarrow":"\u21CE","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2A7D\u0338","nles":"\u2A7D\u0338","nless":"\u226E","nLl":"\u22D8\u0338","nlsim":"\u2274","nLt":"\u226A\u20D2","nlt":"\u226E","nltri":"\u22EA","nltrie":"\u22EC","nLtv":"\u226A\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xA0","nopf":"\u{1D55F}","Nopf":"\u2115","Not":"\u2AEC","not":"\xAC","NotCongruent":"\u2262","NotCupCap":"\u226D","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226F","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226B\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2A7E\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224E\u0338","NotHumpEqual":"\u224F\u0338","notin":"\u2209","notindot":"\u22F5\u0338","notinE":"\u22F9\u0338","notinva":"\u2209","notinvb":"\u22F7","notinvc":"\u22F6","NotLeftTriangleBar":"\u29CF\u0338","NotLeftTriangle":"\u22EA","NotLeftTriangleEqual":"\u22EC","NotLess":"\u226E","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226A\u0338","NotLessSlantEqual":"\u2A7D\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2AA2\u0338","NotNestedLessLess":"\u2AA1\u0338","notni":"\u220C","notniva":"\u220C","notnivb":"\u22FE","notnivc":"\u22FD","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2AAF\u0338","NotPrecedesSlantEqual":"\u22E0","NotReverseElement":"\u220C","NotRightTriangleBar":"\u29D0\u0338","NotRightTriangle":"\u22EB","NotRightTriangleEqual":"\u22ED","NotSquareSubset":"\u228F\u0338","NotSquareSubsetEqual":"\u22E2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22E3","NotSubset":"\u2282\u20D2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2AB0\u0338","NotSucceedsSlantEqual":"\u22E1","NotSucceedsTilde":"\u227F\u0338","NotSuperset":"\u2283\u20D2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2AFD\u20E5","npart":"\u2202\u0338","npolint":"\u2A14","npr":"\u2280","nprcue":"\u22E0","nprec":"\u2280","npreceq":"\u2AAF\u0338","npre":"\u2AAF\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219B","nrArr":"\u21CF","nrarrw":"\u219D\u0338","nrightarrow":"\u219B","nRightarrow":"\u21CF","nrtri":"\u22EB","nrtrie":"\u22ED","nsc":"\u2281","nsccue":"\u22E1","nsce":"\u2AB0\u0338","Nscr":"\u{1D4A9}","nscr":"\u{1D4C3}","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22E2","nsqsupe":"\u22E3","nsub":"\u2284","nsubE":"\u2AC5\u0338","nsube":"\u2288","nsubset":"\u2282\u20D2","nsubseteq":"\u2288","nsubseteqq":"\u2AC5\u0338","nsucc":"\u2281","nsucceq":"\u2AB0\u0338","nsup":"\u2285","nsupE":"\u2AC6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20D2","nsupseteq":"\u2289","nsupseteqq":"\u2AC6\u0338","ntgl":"\u2279","Ntilde":"\xD1","ntilde":"\xF1","ntlg":"\u2278","ntriangleleft":"\u22EA","ntrianglelefteq":"\u22EC","ntriangleright":"\u22EB","ntrianglerighteq":"\u22ED","Nu":"\u039D","nu":"\u03BD","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224D\u20D2","nvdash":"\u22AC","nvDash":"\u22AD","nVdash":"\u22AE","nVDash":"\u22AF","nvge":"\u2265\u20D2","nvgt":">\u20D2","nvHarr":"\u2904","nvinfin":"\u29DE","nvlArr":"\u2902","nvle":"\u2264\u20D2","nvlt":"<\u20D2","nvltrie":"\u22B4\u20D2","nvrArr":"\u2903","nvrtrie":"\u22B5\u20D2","nvsim":"\u223C\u20D2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21D6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xD3","oacute":"\xF3","oast":"\u229B","Ocirc":"\xD4","ocirc":"\xF4","ocir":"\u229A","Ocy":"\u041E","ocy":"\u043E","odash":"\u229D","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2A38","odot":"\u2299","odsold":"\u29BC","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29BF","Ofr":"\u{1D512}","ofr":"\u{1D52C}","ogon":"\u02DB","Ograve":"\xD2","ograve":"\xF2","ogt":"\u29C1","ohbar":"\u29B5","ohm":"\u03A9","oint":"\u222E","olarr":"\u21BA","olcir":"\u29BE","olcross":"\u29BB","oline":"\u203E","olt":"\u29C0","Omacr":"\u014C","omacr":"\u014D","Omega":"\u03A9","omega":"\u03C9","Omicron":"\u039F","omicron":"\u03BF","omid":"\u29B6","ominus":"\u2296","Oopf":"\u{1D546}","oopf":"\u{1D560}","opar":"\u29B7","OpenCurlyDoubleQuote":"\u201C","OpenCurlyQuote":"\u2018","operp":"\u29B9","oplus":"\u2295","orarr":"\u21BB","Or":"\u2A54","or":"\u2228","ord":"\u2A5D","order":"\u2134","orderof":"\u2134","ordf":"\xAA","ordm":"\xBA","origof":"\u22B6","oror":"\u2A56","orslope":"\u2A57","orv":"\u2A5B","oS":"\u24C8","Oscr":"\u{1D4AA}","oscr":"\u2134","Oslash":"\xD8","oslash":"\xF8","osol":"\u2298","Otilde":"\xD5","otilde":"\xF5","otimesas":"\u2A36","Otimes":"\u2A37","otimes":"\u2297","Ouml":"\xD6","ouml":"\xF6","ovbar":"\u233D","OverBar":"\u203E","OverBrace":"\u23DE","OverBracket":"\u23B4","OverParenthesis":"\u23DC","para":"\xB6","parallel":"\u2225","par":"\u2225","parsim":"\u2AF3","parsl":"\u2AFD","part":"\u2202","PartialD":"\u2202","Pcy":"\u041F","pcy":"\u043F","percnt":"%","period":".","permil":"\u2030","perp":"\u22A5","pertenk":"\u2031","Pfr":"\u{1D513}","pfr":"\u{1D52D}","Phi":"\u03A6","phi":"\u03C6","phiv":"\u03D5","phmmat":"\u2133","phone":"\u260E","Pi":"\u03A0","pi":"\u03C0","pitchfork":"\u22D4","piv":"\u03D6","planck":"\u210F","planckh":"\u210E","plankv":"\u210F","plusacir":"\u2A23","plusb":"\u229E","pluscir":"\u2A22","plus":"+","plusdo":"\u2214","plusdu":"\u2A25","pluse":"\u2A72","PlusMinus":"\xB1","plusmn":"\xB1","plussim":"\u2A26","plustwo":"\u2A27","pm":"\xB1","Poincareplane":"\u210C","pointint":"\u2A15","popf":"\u{1D561}","Popf":"\u2119","pound":"\xA3","prap":"\u2AB7","Pr":"\u2ABB","pr":"\u227A","prcue":"\u227C","precapprox":"\u2AB7","prec":"\u227A","preccurlyeq":"\u227C","Precedes":"\u227A","PrecedesEqual":"\u2AAF","PrecedesSlantEqual":"\u227C","PrecedesTilde":"\u227E","preceq":"\u2AAF","precnapprox":"\u2AB9","precneqq":"\u2AB5","precnsim":"\u22E8","pre":"\u2AAF","prE":"\u2AB3","precsim":"\u227E","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2AB9","prnE":"\u2AB5","prnsim":"\u22E8","prod":"\u220F","Product":"\u220F","profalar":"\u232E","profline":"\u2312","profsurf":"\u2313","prop":"\u221D","Proportional":"\u221D","Proportion":"\u2237","propto":"\u221D","prsim":"\u227E","prurel":"\u22B0","Pscr":"\u{1D4AB}","pscr":"\u{1D4C5}","Psi":"\u03A8","psi":"\u03C8","puncsp":"\u2008","Qfr":"\u{1D514}","qfr":"\u{1D52E}","qint":"\u2A0C","qopf":"\u{1D562}","Qopf":"\u211A","qprime":"\u2057","Qscr":"\u{1D4AC}","qscr":"\u{1D4C6}","quaternions":"\u210D","quatint":"\u2A16","quest":"?","questeq":"\u225F","quot":"\\"","QUOT":"\\"","rAarr":"\u21DB","race":"\u223D\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221A","raemptyv":"\u29B3","rang":"\u27E9","Rang":"\u27EB","rangd":"\u2992","range":"\u29A5","rangle":"\u27E9","raquo":"\xBB","rarrap":"\u2975","rarrb":"\u21E5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21A0","rArr":"\u21D2","rarrfs":"\u291E","rarrhk":"\u21AA","rarrlp":"\u21AC","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21A3","rarrw":"\u219D","ratail":"\u291A","rAtail":"\u291C","ratio":"\u2236","rationals":"\u211A","rbarr":"\u290D","rBarr":"\u290F","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298C","rbrksld":"\u298E","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201D","rdquor":"\u201D","rdsh":"\u21B3","real":"\u211C","realine":"\u211B","realpart":"\u211C","reals":"\u211D","Re":"\u211C","rect":"\u25AD","reg":"\xAE","REG":"\xAE","ReverseElement":"\u220B","ReverseEquilibrium":"\u21CB","ReverseUpEquilibrium":"\u296F","rfisht":"\u297D","rfloor":"\u230B","rfr":"\u{1D52F}","Rfr":"\u211C","rHar":"\u2964","rhard":"\u21C1","rharu":"\u21C0","rharul":"\u296C","Rho":"\u03A1","rho":"\u03C1","rhov":"\u03F1","RightAngleBracket":"\u27E9","RightArrowBar":"\u21E5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21D2","RightArrowLeftArrow":"\u21C4","rightarrowtail":"\u21A3","RightCeiling":"\u2309","RightDoubleBracket":"\u27E7","RightDownTeeVector":"\u295D","RightDownVectorBar":"\u2955","RightDownVector":"\u21C2","RightFloor":"\u230B","rightharpoondown":"\u21C1","rightharpoonup":"\u21C0","rightleftarrows":"\u21C4","rightleftharpoons":"\u21CC","rightrightarrows":"\u21C9","rightsquigarrow":"\u219D","RightTeeArrow":"\u21A6","RightTee":"\u22A2","RightTeeVector":"\u295B","rightthreetimes":"\u22CC","RightTriangleBar":"\u29D0","RightTriangle":"\u22B3","RightTriangleEqual":"\u22B5","RightUpDownVector":"\u294F","RightUpTeeVector":"\u295C","RightUpVectorBar":"\u2954","RightUpVector":"\u21BE","RightVectorBar":"\u2953","RightVector":"\u21C0","ring":"\u02DA","risingdotseq":"\u2253","rlarr":"\u21C4","rlhar":"\u21CC","rlm":"\u200F","rmoustache":"\u23B1","rmoust":"\u23B1","rnmid":"\u2AEE","roang":"\u27ED","roarr":"\u21FE","robrk":"\u27E7","ropar":"\u2986","ropf":"\u{1D563}","Ropf":"\u211D","roplus":"\u2A2E","rotimes":"\u2A35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2A12","rrarr":"\u21C9","Rrightarrow":"\u21DB","rsaquo":"\u203A","rscr":"\u{1D4C7}","Rscr":"\u211B","rsh":"\u21B1","Rsh":"\u21B1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22CC","rtimes":"\u22CA","rtri":"\u25B9","rtrie":"\u22B5","rtrif":"\u25B8","rtriltri":"\u29CE","RuleDelayed":"\u29F4","ruluhar":"\u2968","rx":"\u211E","Sacute":"\u015A","sacute":"\u015B","sbquo":"\u201A","scap":"\u2AB8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2ABC","sc":"\u227B","sccue":"\u227D","sce":"\u2AB0","scE":"\u2AB4","Scedil":"\u015E","scedil":"\u015F","Scirc":"\u015C","scirc":"\u015D","scnap":"\u2ABA","scnE":"\u2AB6","scnsim":"\u22E9","scpolint":"\u2A13","scsim":"\u227F","Scy":"\u0421","scy":"\u0441","sdotb":"\u22A1","sdot":"\u22C5","sdote":"\u2A66","searhk":"\u2925","searr":"\u2198","seArr":"\u21D8","searrow":"\u2198","sect":"\xA7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\u{1D516}","sfr":"\u{1D530}","sfrown":"\u2322","sharp":"\u266F","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xAD","Sigma":"\u03A3","sigma":"\u03C3","sigmaf":"\u03C2","sigmav":"\u03C2","sim":"\u223C","simdot":"\u2A6A","sime":"\u2243","simeq":"\u2243","simg":"\u2A9E","simgE":"\u2AA0","siml":"\u2A9D","simlE":"\u2A9F","simne":"\u2246","simplus":"\u2A24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2A33","smeparsl":"\u29E4","smid":"\u2223","smile":"\u2323","smt":"\u2AAA","smte":"\u2AAC","smtes":"\u2AAC\uFE00","SOFTcy":"\u042C","softcy":"\u044C","solbar":"\u233F","solb":"\u29C4","sol":"/","Sopf":"\u{1D54A}","sopf":"\u{1D564}","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\uFE00","sqcup":"\u2294","sqcups":"\u2294\uFE00","Sqrt":"\u221A","sqsub":"\u228F","sqsube":"\u2291","sqsubset":"\u228F","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25A1","Square":"\u25A1","SquareIntersection":"\u2293","SquareSubset":"\u228F","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25AA","squ":"\u25A1","squf":"\u25AA","srarr":"\u2192","Sscr":"\u{1D4AE}","sscr":"\u{1D4C8}","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22C6","Star":"\u22C6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03F5","straightphi":"\u03D5","strns":"\xAF","sub":"\u2282","Sub":"\u22D0","subdot":"\u2ABD","subE":"\u2AC5","sube":"\u2286","subedot":"\u2AC3","submult":"\u2AC1","subnE":"\u2ACB","subne":"\u228A","subplus":"\u2ABF","subrarr":"\u2979","subset":"\u2282","Subset":"\u22D0","subseteq":"\u2286","subseteqq":"\u2AC5","SubsetEqual":"\u2286","subsetneq":"\u228A","subsetneqq":"\u2ACB","subsim":"\u2AC7","subsub":"\u2AD5","subsup":"\u2AD3","succapprox":"\u2AB8","succ":"\u227B","succcurlyeq":"\u227D","Succeeds":"\u227B","SucceedsEqual":"\u2AB0","SucceedsSlantEqual":"\u227D","SucceedsTilde":"\u227F","succeq":"\u2AB0","succnapprox":"\u2ABA","succneqq":"\u2AB6","succnsim":"\u22E9","succsim":"\u227F","SuchThat":"\u220B","sum":"\u2211","Sum":"\u2211","sung":"\u266A","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","sup":"\u2283","Sup":"\u22D1","supdot":"\u2ABE","supdsub":"\u2AD8","supE":"\u2AC6","supe":"\u2287","supedot":"\u2AC4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27C9","suphsub":"\u2AD7","suplarr":"\u297B","supmult":"\u2AC2","supnE":"\u2ACC","supne":"\u228B","supplus":"\u2AC0","supset":"\u2283","Supset":"\u22D1","supseteq":"\u2287","supseteqq":"\u2AC6","supsetneq":"\u228B","supsetneqq":"\u2ACC","supsim":"\u2AC8","supsub":"\u2AD4","supsup":"\u2AD6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21D9","swarrow":"\u2199","swnwar":"\u292A","szlig":"\xDF","Tab":"\\t","target":"\u2316","Tau":"\u03A4","tau":"\u03C4","tbrk":"\u23B4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20DB","telrec":"\u2315","Tfr":"\u{1D517}","tfr":"\u{1D531}","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03B8","thetasym":"\u03D1","thetav":"\u03D1","thickapprox":"\u2248","thicksim":"\u223C","ThickSpace":"\u205F\u200A","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223C","THORN":"\xDE","thorn":"\xFE","tilde":"\u02DC","Tilde":"\u223C","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2A31","timesb":"\u22A0","times":"\xD7","timesd":"\u2A30","tint":"\u222D","toea":"\u2928","topbot":"\u2336","topcir":"\u2AF1","top":"\u22A4","Topf":"\u{1D54B}","topf":"\u{1D565}","topfork":"\u2ADA","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25B5","triangledown":"\u25BF","triangleleft":"\u25C3","trianglelefteq":"\u22B4","triangleq":"\u225C","triangleright":"\u25B9","trianglerighteq":"\u22B5","tridot":"\u25EC","trie":"\u225C","triminus":"\u2A3A","TripleDot":"\u20DB","triplus":"\u2A39","trisb":"\u29CD","tritime":"\u2A3B","trpezium":"\u23E2","Tscr":"\u{1D4AF}","tscr":"\u{1D4C9}","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040B","tshcy":"\u045B","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226C","twoheadleftarrow":"\u219E","twoheadrightarrow":"\u21A0","Uacute":"\xDA","uacute":"\xFA","uarr":"\u2191","Uarr":"\u219F","uArr":"\u21D1","Uarrocir":"\u2949","Ubrcy":"\u040E","ubrcy":"\u045E","Ubreve":"\u016C","ubreve":"\u016D","Ucirc":"\xDB","ucirc":"\xFB","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21C5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296E","ufisht":"\u297E","Ufr":"\u{1D518}","ufr":"\u{1D532}","Ugrave":"\xD9","ugrave":"\xF9","uHar":"\u2963","uharl":"\u21BF","uharr":"\u21BE","uhblk":"\u2580","ulcorn":"\u231C","ulcorner":"\u231C","ulcrop":"\u230F","ultri":"\u25F8","Umacr":"\u016A","umacr":"\u016B","uml":"\xA8","UnderBar":"_","UnderBrace":"\u23DF","UnderBracket":"\u23B5","UnderParenthesis":"\u23DD","Union":"\u22C3","UnionPlus":"\u228E","Uogon":"\u0172","uogon":"\u0173","Uopf":"\u{1D54C}","uopf":"\u{1D566}","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21D1","UpArrowDownArrow":"\u21C5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21D5","UpEquilibrium":"\u296E","upharpoonleft":"\u21BF","upharpoonright":"\u21BE","uplus":"\u228E","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03C5","Upsi":"\u03D2","upsih":"\u03D2","Upsilon":"\u03A5","upsilon":"\u03C5","UpTeeArrow":"\u21A5","UpTee":"\u22A5","upuparrows":"\u21C8","urcorn":"\u231D","urcorner":"\u231D","urcrop":"\u230E","Uring":"\u016E","uring":"\u016F","urtri":"\u25F9","Uscr":"\u{1D4B0}","uscr":"\u{1D4CA}","utdot":"\u22F0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25B5","utrif":"\u25B4","uuarr":"\u21C8","Uuml":"\xDC","uuml":"\xFC","uwangle":"\u29A7","vangrt":"\u299C","varepsilon":"\u03F5","varkappa":"\u03F0","varnothing":"\u2205","varphi":"\u03D5","varpi":"\u03D6","varpropto":"\u221D","varr":"\u2195","vArr":"\u21D5","varrho":"\u03F1","varsigma":"\u03C2","varsubsetneq":"\u228A\uFE00","varsubsetneqq":"\u2ACB\uFE00","varsupsetneq":"\u228B\uFE00","varsupsetneqq":"\u2ACC\uFE00","vartheta":"\u03D1","vartriangleleft":"\u22B2","vartriangleright":"\u22B3","vBar":"\u2AE8","Vbar":"\u2AEB","vBarv":"\u2AE9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22A2","vDash":"\u22A8","Vdash":"\u22A9","VDash":"\u22AB","Vdashl":"\u2AE6","veebar":"\u22BB","vee":"\u2228","Vee":"\u22C1","veeeq":"\u225A","vellip":"\u22EE","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200A","Vfr":"\u{1D519}","vfr":"\u{1D533}","vltri":"\u22B2","vnsub":"\u2282\u20D2","vnsup":"\u2283\u20D2","Vopf":"\u{1D54D}","vopf":"\u{1D567}","vprop":"\u221D","vrtri":"\u22B3","Vscr":"\u{1D4B1}","vscr":"\u{1D4CB}","vsubnE":"\u2ACB\uFE00","vsubne":"\u228A\uFE00","vsupnE":"\u2ACC\uFE00","vsupne":"\u228B\uFE00","Vvdash":"\u22AA","vzigzag":"\u299A","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2A5F","wedge":"\u2227","Wedge":"\u22C0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\u{1D51A}","wfr":"\u{1D534}","Wopf":"\u{1D54E}","wopf":"\u{1D568}","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\u{1D4B2}","wscr":"\u{1D4CC}","xcap":"\u22C2","xcirc":"\u25EF","xcup":"\u22C3","xdtri":"\u25BD","Xfr":"\u{1D51B}","xfr":"\u{1D535}","xharr":"\u27F7","xhArr":"\u27FA","Xi":"\u039E","xi":"\u03BE","xlarr":"\u27F5","xlArr":"\u27F8","xmap":"\u27FC","xnis":"\u22FB","xodot":"\u2A00","Xopf":"\u{1D54F}","xopf":"\u{1D569}","xoplus":"\u2A01","xotime":"\u2A02","xrarr":"\u27F6","xrArr":"\u27F9","Xscr":"\u{1D4B3}","xscr":"\u{1D4CD}","xsqcup":"\u2A06","xuplus":"\u2A04","xutri":"\u25B3","xvee":"\u22C1","xwedge":"\u22C0","Yacute":"\xDD","yacute":"\xFD","YAcy":"\u042F","yacy":"\u044F","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042B","ycy":"\u044B","yen":"\xA5","Yfr":"\u{1D51C}","yfr":"\u{1D536}","YIcy":"\u0407","yicy":"\u0457","Yopf":"\u{1D550}","yopf":"\u{1D56A}","Yscr":"\u{1D4B4}","yscr":"\u{1D4CE}","YUcy":"\u042E","yucy":"\u044E","yuml":"\xFF","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017A","Zcaron":"\u017D","zcaron":"\u017E","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017B","zdot":"\u017C","zeetrf":"\u2128","ZeroWidthSpace":"\u200B","Zeta":"\u0396","zeta":"\u03B6","zfr":"\u{1D537}","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21DD","zopf":"\u{1D56B}","Zopf":"\u2124","Zscr":"\u{1D4B5}","zscr":"\u{1D4CF}","zwj":"\u200D","zwnj":"\u200C"}')},29591:z=>{"use strict";z.exports=JSON.parse('{"Aacute":"\xC1","aacute":"\xE1","Acirc":"\xC2","acirc":"\xE2","acute":"\xB4","AElig":"\xC6","aelig":"\xE6","Agrave":"\xC0","agrave":"\xE0","amp":"&","AMP":"&","Aring":"\xC5","aring":"\xE5","Atilde":"\xC3","atilde":"\xE3","Auml":"\xC4","auml":"\xE4","brvbar":"\xA6","Ccedil":"\xC7","ccedil":"\xE7","cedil":"\xB8","cent":"\xA2","copy":"\xA9","COPY":"\xA9","curren":"\xA4","deg":"\xB0","divide":"\xF7","Eacute":"\xC9","eacute":"\xE9","Ecirc":"\xCA","ecirc":"\xEA","Egrave":"\xC8","egrave":"\xE8","ETH":"\xD0","eth":"\xF0","Euml":"\xCB","euml":"\xEB","frac12":"\xBD","frac14":"\xBC","frac34":"\xBE","gt":">","GT":">","Iacute":"\xCD","iacute":"\xED","Icirc":"\xCE","icirc":"\xEE","iexcl":"\xA1","Igrave":"\xCC","igrave":"\xEC","iquest":"\xBF","Iuml":"\xCF","iuml":"\xEF","laquo":"\xAB","lt":"<","LT":"<","macr":"\xAF","micro":"\xB5","middot":"\xB7","nbsp":"\xA0","not":"\xAC","Ntilde":"\xD1","ntilde":"\xF1","Oacute":"\xD3","oacute":"\xF3","Ocirc":"\xD4","ocirc":"\xF4","Ograve":"\xD2","ograve":"\xF2","ordf":"\xAA","ordm":"\xBA","Oslash":"\xD8","oslash":"\xF8","Otilde":"\xD5","otilde":"\xF5","Ouml":"\xD6","ouml":"\xF6","para":"\xB6","plusmn":"\xB1","pound":"\xA3","quot":"\\"","QUOT":"\\"","raquo":"\xBB","reg":"\xAE","REG":"\xAE","sect":"\xA7","shy":"\xAD","sup1":"\xB9","sup2":"\xB2","sup3":"\xB3","szlig":"\xDF","THORN":"\xDE","thorn":"\xFE","times":"\xD7","Uacute":"\xDA","uacute":"\xFA","Ucirc":"\xDB","ucirc":"\xFB","Ugrave":"\xD9","ugrave":"\xF9","uml":"\xA8","Uuml":"\xDC","uuml":"\xFC","Yacute":"\xDD","yacute":"\xFD","yen":"\xA5","yuml":"\xFF"}')},2586:z=>{"use strict";z.exports=JSON.parse(`{"amp":"&","apos":"'","gt":">","lt":"<","quot":"\\""}`)}},Bo={};function wt(z){var l=Bo[z];if(l!==void 0)return l.exports;var e=Bo[z]={id:z,loaded:!1,exports:{}};return Lo[z].call(e.exports,e,e.exports,wt),e.loaded=!0,e.exports}wt.m=Lo,wt.n=z=>{var l=z&&z.__esModule?()=>z.default:()=>z;return wt.d(l,{a:l}),l},(()=>{var z=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,l;wt.t=function(e,o){if(o&1&&(e=this(e)),o&8||typeof e=="object"&&e&&(o&4&&e.__esModule||o&16&&typeof e.then=="function"))return e;var f=Object.create(null);wt.r(f);var u={};l=l||[null,z({}),z([]),z(z)];for(var c=o&2&&e;typeof c=="object"&&!~l.indexOf(c);c=z(c))Object.getOwnPropertyNames(c).forEach(_=>u[_]=()=>e[_]);return u.default=()=>e,wt.d(f,u),f}})(),wt.d=(z,l)=>{for(var e in l)wt.o(l,e)&&!wt.o(z,e)&&Object.defineProperty(z,e,{enumerable:!0,get:l[e]})},wt.f={},wt.e=z=>Promise.all(Object.keys(wt.f).reduce((l,e)=>(wt.f[e](z,l),l),[])),wt.u=z=>""+z+"."+{156:"4a5e120616a9fa5bcef4",171:"94968a700370bff2c679",313:"a7e987177fba3e0b1a1a",411:"652ca3b230d5f693c337",486:"3838d389cb92e651d0e2",525:"ebd3c4ede1ab4e646db6",563:"cd92b285d7f0dcc1c6a0",631:"a568299cbb64dbeccf0c",661:"e28fb9533b5b13aaae81",679:"44b1419748dda962b647",695:"bbbd6d0714a71d30b863",707:"7c83eb406a0417ae2b8a",829:"08a71eb63346af48dc02",853:"3df1f5d9a0268e258fdd",918:"74c8f6de2b6c84439be6",936:"baf2748824c02ac36030",968:"019b5d923d658114b34d"}[z]+".chunk.js",wt.miniCssF=z=>""+z+"."+{156:"1ebef32be312774e4c14",411:"6155c11039f07f8e1411",525:"4220817376145220085f",661:"f8f19cfac1ae955e7dd3",707:"b30bd138ac153055ebdd",829:"620ff2ea405d85894bcf",853:"7f17ef46759c5d91e115"}[z]+".css",wt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(z){if(typeof window=="object")return window}}(),wt.hmd=z=>(z=Object.create(z),z.children||(z.children=[]),Object.defineProperty(z,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+z.id)}}),z),wt.o=(z,l)=>Object.prototype.hasOwnProperty.call(z,l),(()=>{var z={},l="substack:";wt.l=(e,o,f,u)=>{if(z[e]){z[e].push(o);return}var c,_;if(f!==void 0)for(var g=document.getElementsByTagName("script"),E=0;E<g.length;E++){var v=g[E];if(v.getAttribute("src")==e||v.getAttribute("data-webpack")==l+f){c=v;break}}c||(_=!0,c=document.createElement("script"),c.charset="utf-8",c.timeout=120,wt.nc&&c.setAttribute("nonce",wt.nc),c.setAttribute("data-webpack",l+f),c.src=e),z[e]=[o];var y=(w,S)=>{c.onerror=c.onload=null,clearTimeout(T);var O=z[e];if(delete z[e],c.parentNode&&c.parentNode.removeChild(c),O&&O.forEach(p=>p(S)),w)return w(S)},T=setTimeout(y.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=y.bind(null,c.onerror),c.onload=y.bind(null,c.onload),_&&document.head.appendChild(c)}})(),wt.r=z=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(z,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(z,"__esModule",{value:!0})},wt.nmd=z=>(z.paths=[],z.children||(z.children=[]),z),wt.j=179,wt.p="https://substackcdn.com/bundle/",(()=>{if(typeof document!="undefined"){var z=(f,u,c,_,g)=>{var E=document.createElement("link");E.rel="stylesheet",E.type="text/css";var v=y=>{if(E.onerror=E.onload=null,y.type==="load")_();else{var T=y&&(y.type==="load"?"missing":y.type),w=y&&y.target&&y.target.href||u,S=new Error("Loading CSS chunk "+f+` failed.
(`+w+")");S.code="CSS_CHUNK_LOAD_FAILED",S.type=T,S.request=w,E.parentNode&&E.parentNode.removeChild(E),g(S)}};return E.onerror=E.onload=v,E.href=u,c?c.parentNode.insertBefore(E,c.nextSibling):document.head.appendChild(E),E},l=(f,u)=>{for(var c=document.getElementsByTagName("link"),_=0;_<c.length;_++){var g=c[_],E=g.getAttribute("data-href")||g.getAttribute("href");if(g.rel==="stylesheet"&&(E===f||E===u))return g}for(var v=document.getElementsByTagName("style"),_=0;_<v.length;_++){var g=v[_],E=g.getAttribute("data-href");if(E===f||E===u)return g}},e=f=>new Promise((u,c)=>{var _=wt.miniCssF(f),g=wt.p+_;if(l(_,g))return u();z(f,g,null,u,c)}),o={179:0,661:0,313:0};wt.f.miniCss=(f,u)=>{var c={156:1,411:1,525:1,661:1,707:1,829:1,853:1};o[f]?u.push(o[f]):o[f]!==0&&c[f]&&u.push(o[f]=e(f).then(()=>{o[f]=0},_=>{throw delete o[f],_}))}}})(),(()=>{var z={179:0,661:0,313:0};wt.f.j=(o,f)=>{var u=wt.o(z,o)?z[o]:void 0;if(u!==0)if(u)f.push(u[2]);else if(o!=411){var c=new Promise((v,y)=>u=z[o]=[v,y]);f.push(u[2]=c);var _=wt.p+wt.u(o),g=new Error,E=v=>{if(wt.o(z,o)&&(u=z[o],u!==0&&(z[o]=void 0),u)){var y=v&&(v.type==="load"?"missing":v.type),T=v&&v.target&&v.target.src;g.message="Loading chunk "+o+` failed.
(`+y+": "+T+")",g.name="ChunkLoadError",g.type=y,g.request=T,u[1](g)}};wt.l(_,E,"chunk-"+o,o)}else z[o]=0};var l=(o,f)=>{var[u,c,_]=f,g,E,v=0;if(u.some(T=>z[T]!==0)){for(g in c)wt.o(c,g)&&(wt.m[g]=c[g]);if(_)var y=_(wt)}for(o&&o(f);v<u.length;v++)E=u[v],wt.o(z,E)&&z[E]&&z[E][0](),z[E]=0},e=self.webpackChunksubstack=self.webpackChunksubstack||[];e.forEach(l.bind(null,0)),e.push=l.bind(null,e.push.bind(e))})();var ia={};(()=>{"use strict";var z=wt(1824),l=wt(72496),e=wt(6400),o=wt(30396),f=wt(94184),u=wt.n(f),c=wt(1469),_=wt.n(c),g=wt(20042),E=wt(56232),v=wt(15045),y=wt(39419),T=wt(26059),w=wt(81243);const S=[["global_admin","Global Admin"],["owner","Owner"],["founding_sub","Founding Sub"],["paid_sub","Paid Sub"],["free_sub","Free Sub"],["non_sub","Non Sub"]];function O(n,t,r){return!t||!n?!1:r==="owner"?n.author_id===t.id:t.email===`${r}_for_${n.subdomain}@example.com`}const p=({setExpanded:n})=>(0,e.h)("div",{style:{cursor:"pointer",width:"30px",height:"30px",opacity:.5,color:"var(--background_pop)"},onClick:()=>n(!0)},(0,e.h)(w.Z,{height:30,stroke:"var(--background_pop)",fill:"var(--background_pop)"})),d=({pub:n,user:t,setExpanded:r})=>{const[i,s]=(0,o.eJ)("");return(0,e.h)("div",{style:{padding:"10px 20px",position:"relative",backgroundColor:"var(--web_bg_color)"}},(0,e.h)("div",null,"Sign in as",(0,e.h)("div",{style:{position:"absolute",top:7,right:7,cursor:"pointer"},onClick:()=>r(!1)},(0,e.h)(T.Z,{height:20}))),S.map(([M,k])=>(0,e.h)("div",null,(0,e.h)("a",{className:u()("button",O(n,t,M)?"primary":"outline"),style:{width:"100%",marginTop:3},onClick:()=>{window.location.href=(0,v.pathWithQuery)("/api/v1/debug/log-in-as",{user_type:M,orig_url:window.location.href})}},k))),(0,e.h)("form",{onSubmit:M=>{M.preventDefault(),i&&(window.location.href=(0,v.pathWithQuery)("/api/v1/debug/log-in-as",{custom_user:i,orig_url:window.location.href}))}},(0,e.h)("input",{value:i,onChange:M=>{var k;s((k=M.target)==null?void 0:k.value)},type:"email"}),(0,e.h)("button",{type:"submit"},"Log in as")))};class a extends e.Component{constructor(t,r){super(t,r),this.onDocumentMouseUp=i=>{!(0,y.isRootOrChild)(i.target,this.base)&&this.state.expanded&&this.setState({expanded:!1})},this.state={expanded:!1}}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp)}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp)}render({pub:t,user:r},{expanded:i}){var s;return null}}var P=wt(76193),C=wt(18597),D=wt(3258),A=wt(89018),x=wt(34755),I=Object.defineProperty,N=Object.defineProperties,F=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable,Y=(n,t,r)=>t in n?I(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ne=(n,t)=>{for(var r in t||(t={}))V.call(t,r)&&Y(n,r,t[r]);if(B)for(var r of B(t))Z.call(t,r)&&Y(n,r,t[r]);return n},G=(n,t)=>N(n,F(t)),L=(n,t)=>{var r={};for(var i in n)V.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&B)for(var i of B(n))t.indexOf(i)<0&&Z.call(n,i)&&(r[i]=n[i]);return r};const ie=n=>{var t=n,{svgParams:r}=t,i=L(t,["svgParams"]);return(0,e.h)(x.l,G(ne({},i),{name:"SubstackIcon",svgParams:ne({height:1e3,width:1e3,fill:A.substack_color,stroke:"none"},r)}),(0,e.h)("path",{d:"M764.166 348.371H236.319V419.402H764.166V348.371Z"}),(0,e.h)("path",{d:"M236.319 483.752V813.999L500.231 666.512L764.19 813.999V483.752H236.319Z"}),(0,e.h)("path",{d:"M764.166 213H236.319V284.019H764.166V213Z"}))};var ue=wt(33705),le=wt(20501),J=wt(43887);function te(n,t){return[...Array(2*n.length-1)].map((r,i)=>i%2?t:n[i/2])}const se=({publication:n})=>{switch(n==null?void 0:n.subdomain){case"activisionblizzard":return(0,e.h)(ce,null);default:return(0,e.h)(ae,null)}},ee=({publication:n})=>{const t=[(0,e.h)("a",{href:(0,v.getPrivacyUrl)({pub:n,utm_source:""}),target:"__blank"},"Privacy"),(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms"),(0,e.h)("a",{href:`${(0,le.getSubstackUrl)()}/ccpa#personal-data-collected`,target:"__blank"},"Collection notice")];return(n==null?void 0:n.subdomain)==="activisionblizzard"&&t.push((0,e.h)(e.Fragment,null,"Activision's"," ",(0,e.h)("a",{href:"https://www.activisionblizzard.com/legal/privacy-policy",target:"__blank"},"Privacy Policy"))),(0,e.h)(e.Fragment,null,te(t,(0,e.h)("span",null," \u2219 ")))},ae=()=>(0,e.h)(J.xv,{translated:!0,size:14,color:"tertiary",className:"tos"},"By registering you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", and our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice")),ce=()=>(0,e.h)(J.xv,{translated:!0,size:14,color:"tertiary",className:"tos"},"By registering you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice"),", and Activision's"," ",(0,e.h)("a",{href:"https://www.activisionblizzard.com/legal/privacy-policy",target:"__blank"},"Privacy Policy"));var fe=Object.defineProperty,Ee=(n,t,r)=>t in n?fe(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,de=(n,t,r)=>(Ee(n,typeof t!="symbol"?t+"":t,r),r),_e=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});class ve extends e.Component{constructor(){super(...arguments),de(this,"checkVisibility",()=>{if(!this.ref)return;const t=this.ref.getBoundingClientRect(),r=this.props.threshold||0,i=this.props.parent?this.props.parent.clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight),s=!(t.bottom<0-r||t.top>=i+r);(0,y.stateTransaction)(this,(M,k)=>_e(this,null,function*(){if(M.isVisible!==s)this.setState({isVisible:s});else if(!k.noDedupe)return;const U=s?"hadFirstVisible":"hadFirstInvisible",q=!M[U];q&&this.setState({[U]:!0}),(yield Promise.all([s&&k.onVisible&&k.onVisible(),s&&k.onFirstVisible&&q&&k.onFirstVisible(),!s&&k.onInvisible&&k.onInvisible(),!s&&k.onFirstInvisible&&q&&k.onFirstInvisible()])).reduce((Me,xe)=>xe===!0||Me)&&this.checkVisibility()}))})}componentDidMount(){return _e(this,null,function*(){typeof window!="undefined"&&(this.ref||(yield new Promise(t=>setTimeout(t,0))),this.checkVisibility(),(this.props.parent||window).addEventListener("scroll",this.checkVisibility))})}componentWillUnmount(){typeof window!="undefined"&&(this.props.parent||window).removeEventListener("scroll",this.checkVisibility)}render({className:t,children:r}){return(0,e.h)("div",{ref:i=>this.ref=i,className:u()("visibility-check",t)},r)}}const De={modalTitle:"frontend-components-app_install_modal-module__modalTitle--HauTj",qrCode:"frontend-components-app_install_modal-module__qrCode--ri0e5",divider:"frontend-components-app_install_modal-module__divider--LMfZC",dividerLine:"frontend-components-app_install_modal-module__dividerLine--czFeZ",appBadge:"frontend-components-app_install_modal-module__appBadge--aBeVu"},Oe=({publication:n,user:t,path:r,hideTerms:i,showIntrinioAttrib:s})=>{typeof i=="undefined"&&(i=!1);const M=(0,C.Tf)(),k="Start Writing",j=(0,P.isMobile)(),U=(0,P.isIos)(),q=(0,P.isAndroid)(),Pe=j&&(U||q),Me=t&&!t.reader_installed_at,xe=Pe&&Me;return(0,e.h)("div",{className:"footer-wrap publication-footer"},(0,e.h)(ve,{onVisible:()=>{(0,D.j)(D.FP.PUBLICATION_FOOTER_SEEN,{publication_id:n==null?void 0:n.id,user_id:t==null?void 0:t.id,source:ye(r)})}}),(0,e.h)("div",{className:u()("footer",{"themed-background":M})},(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"footer-blurbs"},(0,e.h)("div",{className:"footer-copyright-blurb"},"\xA9 ",new Date().getFullYear()," ",n&&n.copyright||"Substack Inc"),s&&(0,e.h)("div",{className:"footer-copyright-blurb"},"Market data by ",(0,e.h)("a",{href:"https://intrinio.com/"},"Intrinio")),!i&&(0,e.h)("div",{className:"footer-terms-blurb"},(0,e.h)(ee,{publication:n}))),(0,e.h)("div",{className:"footer-buttons"},(0,e.h)("a",{className:u()("footer-substack-cta","start-publishing",xe&&"app-upsell"),native:!0,href:t!=null&&t.has_publication?`${(0,v.getBaseUrl)({subdomain:"your"})}/publish`:`${(0,v.getSubstackUrl)()}/signup?${(0,v.serializeQuery)({utm_source:"substack",utm_medium:"web",utm_content:"footer"})}`},(0,e.h)(ie,null)," ",k),!xe&&(0,e.h)("a",{className:"footer-substack-cta get-the-app no-icon",native:!0,href:(0,v.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"web-footer-button"})},"Get the app"),xe&&U&&(0,e.h)("a",{className:De.appBadge,href:(0,v.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"web-footer-button",force:"ios"})},(0,e.h)("img",{className:"app-upsell",src:(0,v.imginary)("/img/app_page/app-store.png",160*2)})),xe&&q&&(0,e.h)("a",{className:De.appBadge,href:(0,v.getAppStoreRedirectUrl)({utm_campaign:"app-marketing",utm_content:"web-footer-button",force:"android"})},(0,e.h)("img",{className:"app-upsell",src:(0,v.imginary)("/img/app_page/google-play.png",160*2)}))),(0,e.h)("div",{className:"footer-slogan-blurb"},(0,e.h)("a",{href:`${(0,v.getSubstackUrl)()}`,native:!0},"Substack"),"\xA0is the home for great writing"))))};function ye(n){return n?n==="/"?"pub-homepage":n.startsWith("/p")?"pub-post":n:"unknown"}const ze=()=>h("div",{className:"footer-wrap www-footer"},h("div",{className:"home-footer"},h("div",{className:"footer-contain"},h("div",{className:"footer-info"},h("div",{className:"footer-info-col"},h("h3",null,"Read"),h("a",{href:"/discover?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Discover"),h("a",{href:"/app?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Get the app"),h("a",{href:"https://on.substack.com/s/stories?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Featured"),h("a",{href:"https://reader.substack.com?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Substack Reader"),h("a",{href:"/discover/category/culture/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in culture"),h("a",{href:"/discover/category/podcast/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top podcasts"),h("a",{href:"/discover/category/food/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in food & drink"),h("a",{href:"/discover/category/finance/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in finance"),h("a",{href:"/discover/category/sports/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in sports"),h("a",{href:"/discover/category/politics/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in politics"),h("a",{href:"/discover/category/technology/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in technology"),h("a",{href:"/discover/category/faith/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in faith"),h("a",{href:"/discover/category/business/paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Top in business"),h("a",{href:"/sitemap",native:!0},"Sitemap")),h("div",{className:"footer-info-col"},h("h3",null,"Writers"),h("a",{href:"/switch-to-substack?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Switch to Substack"),h("a",{href:"/ghost?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Switch from Ghost"),h("a",{href:"https://on.substack.com/p/start-a-substack-newsletter?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Get started"),h("a",{href:"/going-paid?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Go paid"),h("a",{href:"/podcasts?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For podcasts"),h("a",{href:"/for-bloggers?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For bloggers"),h("a",{href:"/investing-and-business?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For finance writers"),h("a",{href:"/book?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For authors"),h("a",{href:"/comic-book-creators?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For comic creators"),h("a",{href:"/food-writers?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For food writers"),h("a",{href:"/local-news?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"For local news")),h("div",{className:"footer-info-col"},h("h3",null,"Company"),h("a",{href:getAboutUrl(null,{params:{utm_source:"substack",utm_medium:"web",utm_content:"footer"}}),native:!0},"About"),h("a",{href:getSupportUrl()},"Help"),h("a",{href:"/jobs?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Jobs"),h("a",{href:"https://on.substack.com?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Blog"),h("a",{href:"/vulnerability-disclosure?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Vulnerability Policy"),h("a",{href:"/contact?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Contact")),h("div",{className:"footer-info-col"},h("h3",null,"Resources"),h("a",{href:"/resources?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Resource center"),h("a",{href:"/going-paid-guide?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Guide to going paid"),h("a",{href:"https://support.substack.com/hc/en-us?s=support%40substack.com",native:!0},"Help center"),h("a",{href:"/community-and-programs?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Community and programs"),h("a",{href:"/brand?utm_source=substack&utm_medium=web&utm_content=footer",native:!0},"Brand assets"))),h("div",{className:"logo-copy-wrapper"},h(SubstackIconNoPadding,{className:"navbar-logo-wordmark substack-logo-wordmark"}),h("div",{className:"slogan tw-mt-5"},"Substack is the home for great writing")))),h("div",{className:"footer-divider"}),h("div",{className:"footer-bottom-bar"},h("div",{className:"app-badges"},h("a",{className:"app-badge",href:getAppStoreUrl({utm_campaign:"app-marketing",utm_content:"www-footer"})},h("img",{src:imginary("/img/app_page/app-store-white.png?v=1",119*2),height:40,width:134,loading:"lazy"})),h("a",{className:"app-badge",href:getPlayStoreUrl({utm_campaign:"app-marketing",utm_content:"www-footer"})},h("img",{src:imginary("/img/app_page/google-play-white.png",119*2),height:40,width:134,loading:"lazy"}))),h("div",{className:"footer-bottom-links"},h("span",{className:"copyright bottom-item"},"\xA9 Substack Inc."),h("a",{className:"bottom-item",href:getPrivacyUrl(),native:!0},"Privacy"),h("a",{className:"bottom-item",href:"/tos",native:!0},"Terms"),h("a",{className:"bottom-item",href:`${getSubstackUrl()}/ccpa#personal-data-collected`,native:!0},"Collection notice"))));class Be extends e.Component{render({html:t,children:r,metadata:i}){return(0,e.h)("div",{className:"container-border"},(0,y.setMetaData)(i),(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"page typography"},r,(0,e.h)("div",{className:"body markup",dangerouslySetInnerHTML:{__html:t}}))))}}var We=wt(36808),Ke=wt(78710),Xe=wt(6385),ct=wt(4190),Se=wt(32076),Qe=wt(80569),ge=wt.n(Qe),Fe=wt(94930),Ne=wt(83322),lt=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const Et={};function jt(n,t,r,i,s){return lt(this,arguments,function*(M,k,j,{required:U=!1,group:q=!1,gift:Pe=!1},Me){if(!j){Me(null);return}j in Et||(Me({id:j,required:U,loading:!0}),Et[j]=yield vt(j));const xe=Et[j],Ve=xe&&xe.type==="FREE_TRIAL"&&k&&(yield Re(j));Ve&&Ve.length&&U?Me({id:xe&&xe.id||j,code:xe&&xe.code,name:xe&&xe.name,required:U,error:!0,message:"This coupon has already been redeemed by this user."}):(0,Fe.isCouponValid)(xe,{is_group:q,is_gift:Pe,paywallFreeTrialEnabled:M.paywall_free_trial_enabled})&&(M.plans||[]).filter(qe=>(0,Fe.isCouponValidForPlan)(xe,qe)).length>0?Me(Object.assign({required:U},xe)):Me(U?{id:xe&&xe.id||j,code:xe&&xe.code,name:xe&&xe.name,required:U,error:!0,message:"The coupon is not valid or has expired."}:null)})}function en(n){return lt(this,null,function*(){let t;try{if(t=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0})).body,t&&t.length&&n){const i=yield Re(t[0].id);if(i&&i.length)throw new AppError("User has already redeemed this free trial coupon")}}catch(r){return console.error("Failed to fetch coupons:",r),null}return t.length>0?t[0]:null})}function vt(n){return lt(this,null,function*(){try{return(yield ge().get(`/api/v1/coupon/${n}`)).body}catch(t){return console.error("Failed to fetch coupon:",t),null}})}function Re(n){return lt(this,null,function*(){try{return(yield ge().get(`/api/v1/coupon_redemption/${n}`).query()).body}catch(t){return console.error("Failed to fetch coupon redemptions:",t),null}})}function He(n){return lt(this,null,function*(){try{const r=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0,includeInvalid:!0})).body;if(!r||r.length===0){const i={name:"Want to keep reading?",description:"Subscribe now to get an exclusive 7-day free trial.",percent_or_trial:"on",trial_period_days:"7",percent_off:"",duration:"",duration_in_months:"",show_redeem_by:!1,redeem_by:"",show_code:!1,is_default:!1,is_group_default:!1,edu_only:!1,yearly_only:!1,group_only:!1,allowed_suffixes_checked:!1,type:"FREE_TRIAL"};yield request.post("/api/v1/coupon").send(i)}else r[0].valid===!1?yield request.put(`/api/v1/coupon/${r[0].id}`).send(Object.assign({},r[0],{is_default:!1,is_group_default:!1,valid:!0})):console.warn(`Coupon id ${r[0].id} already enabled but attempted to be enabled`);return 0}catch(t){return console.error("Failed to create free trial coupon:",t),1}})}function ot(){return lt(this,null,function*(){try{const t=(yield request.get("/api/v1/coupon").query({freeTrialCoupon:!0})).body;!t||t.length===0?console.error("No free trial coupon exists to disable"):yield request.put(`/api/v1/coupon/${t[0].id}`).send(Object.assign({},t[0],{is_default:!1,is_group_default:!1,valid:!1}))}catch(n){return console.error("Failed to disable free trial coupon:",n),null}})}var me=wt(51126),ke=wt(1852),je=wt(56242),Je=wt(7922),tt=Object.defineProperty,Ae=Object.defineProperties,H=Object.getOwnPropertyDescriptors,Q=Object.getOwnPropertySymbols,pe=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable,Le=(n,t,r)=>t in n?tt(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ye=(n,t)=>{for(var r in t||(t={}))pe.call(t,r)&&Le(n,r,t[r]);if(Q)for(var r of Q(t))we.call(t,r)&&Le(n,r,t[r]);return n},dt=(n,t)=>Ae(n,H(t)),st=(n,t)=>{var r={};for(var i in n)pe.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Q)for(var i of Q(n))t.indexOf(i)<0&&we.call(n,i)&&(r[i]=n[i]);return r};const _t=n=>{var t=n,{color:r="#1C110B",strokeWidth:i=1}=t,s=st(t,["color","strokeWidth"]);return h(SvgIcon,dt(Ye({},s),{name:"CaretRightIcon",svgParams:{height:14,width:8,viewBox:"0 0 8 14"}}),h("path",{d:"M1 13L7 7L1 1",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":i}))},Tt=null;var nn=Object.defineProperty,Mn=Object.defineProperties,tr=Object.getOwnPropertyDescriptors,sr=Object.getOwnPropertySymbols,Rt=Object.prototype.hasOwnProperty,Mt=Object.prototype.propertyIsEnumerable,$t=(n,t,r)=>t in n?nn(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,vn=(n,t)=>{for(var r in t||(t={}))Rt.call(t,r)&&$t(n,r,t[r]);if(sr)for(var r of sr(t))Mt.call(t,r)&&$t(n,r,t[r]);return n},An=(n,t)=>Mn(n,tr(t));const dr=n=>h(SvgIcon,An(vn({},n),{name:"LargePlusIcon",svgParams:{height:16,width:16,fill:"#78706C",stroke:"none"}}),h("rect",{x:"7",y:"1",width:"2",height:"14",rx:"1"}),h("rect",{x:"15",y:"7",width:"2",height:"14",rx:"1",transform:"rotate(90 15 7)"})),Pr=null;var br=wt(59736),Or=wt(65726),Lr=wt(81671),Wr=wt(85564),Zr=wt(84753),yo=wt(43174),ho=wt(89734),$r=wt.n(ho),co=wt(45578),io=wt(85928),Tr=wt.n(io),Hr=wt(23890),Po=Object.defineProperty,oo=Object.defineProperties,Xr=Object.getOwnPropertyDescriptors,po=Object.getOwnPropertySymbols,Oo=Object.prototype.hasOwnProperty,ri=Object.prototype.propertyIsEnumerable,Jt=(n,t,r)=>t in n?Po(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Tn=(n,t)=>{for(var r in t||(t={}))Oo.call(t,r)&&Jt(n,r,t[r]);if(po)for(var r of po(t))ri.call(t,r)&&Jt(n,r,t[r]);return n},xn=(n,t)=>oo(n,Xr(t));const xt=n=>(0,e.h)(x.l,xn(Tn({},n),{name:"PodcastIcon",svgParams:{height:19,width:19}}),(0,e.h)("path",{d:"M10.1505 3H8.61291C6.06527 3 4 4.9401 4 7.33333V10","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M8.89246 3H10.4301C12.9778 3 15.043 4.9401 15.043 7.33333V10.5","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3 12.1429V13.3571C3 14.5406 3.81359 15.5 4.81721 15.5H6.42473V10H4.81721C3.81359 10 3 10.9594 3 12.1429Z","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M16 12.1429V13.3571C16 14.5406 15.1864 15.5 14.1828 15.5H12.5753V10H14.1828C15.1864 10 16 10.9594 16 12.1429Z","stroke-linejoin":"round"})),Ft=()=>h(zt,null,h(PodcastIcon,{height:10,stroke:"white"}),"Podcast"),zt=({children:n,className:t})=>h("div",{className:cn("pill",t)},h("span",null,n)),tn=null,rn=({publication:n,logo_size:t=60,isStatic:r=!1,children:i})=>r?h(ln,{publication:n,logo_size:t,children:i}):h("div",{className:"publication card"},t&&h("figure",{className:"logo"},h(PubIcon,{pub:n,logo_url:n.logo_url,size:t})),h("div",{className:"title"},h("div",{className:"name"},n.name),h("div",{className:"description"},n.hero_text),i)),ln=({publication:n,logo_size:t=60,className:r="",children:i})=>h("table",{role:"presentation",className:classnames("publication","card",r,n.logo_url?"has-logo":"no-logo"),width:"auto",cellpadding:0,cellspacing:0,border:"0"},h("tr",{cellpadding:"0",height:"100%"},t&&h("td",{rowspan:"3",className:"logo"},h("figure",{className:"logo"},n.logo_url?h(PubIcon,{pub:n,logo_url:n.logo_url,size:t,isStatic:!0}):h(SubstackIcon,{isStatic:!0,fill:n.theme_var_background_pop||substack_color,width:t,height:t}))),h("td",null,h("table",{cellpadding:"0",cellspacing:"0"},h("tr",null,h("td",{className:"title"},n.name)),h("tr",{cellpadding:"0",height:"80%"},h("td",{className:"description"},n.hero_text)),i)))),En=null;var Wn=wt(84017),kn=Object.defineProperty,Un=Object.defineProperties,Zn=Object.getOwnPropertyDescriptors,or=Object.getOwnPropertySymbols,yt=Object.prototype.hasOwnProperty,Wt=Object.prototype.propertyIsEnumerable,Zt=(n,t,r)=>t in n?kn(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Xt=(n,t)=>{for(var r in t||(t={}))yt.call(t,r)&&Zt(n,r,t[r]);if(or)for(var r of or(t))Wt.call(t,r)&&Zt(n,r,t[r]);return n},Dn=(n,t)=>Un(n,Zn(t)),Cn=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const On=({onClick:n,checked:t})=>h("div",{className:"select-all"},h("input",{name:"all",type:"checkbox",onInput:n,checked:t}),h("label",{for:"all",onClick:n},"Select ",t?"none":"all")),zn=({disabled:n,onClick:t,children:r})=>h(Button,{type:"submit",className:"primary xl",disabled:n,onClick:t},r),Ir=({isStatic:n=!1,extraProps:t={},linkType:r=null,discoverable:i=null,text:s,icon:M=!0,onClick:k=null})=>{const j={};r!==null&&(j.type=r),i!==null&&(j.discoverable=i);const U=getFindTwitterPubsUrl(j);return h("div",Xt({className:"twitter-discover"},t),h("a",Dn(Xt({className:"twitter-link",href:U},k&&{onClick:k}),{native:!0}),h("div",{className:"inner"},M&&h(TwitterIcon,{stroke:"white",fill:"white",isStatic:n}),h("span",{className:"twitter-link-text"},s||"Find writers I follow"))))},no=({pub:n,checked:t,onToggle:r,isSubscribed:i,author:s,screenName:M})=>h("li",{className:"linked-pub"},h("div",{className:"linked-pub"},h("div",{className:"photo"},h("div",{className:"subscribed-status"},h("input",{type:"checkbox",checked:t||i,disabled:i,onInput:()=>r(n.id)})),h(UserProfilePhoto,{size:60,photo_url:s.photo_url}),h("div",{className:"twitter-handle"},h("span",{className:"author"},s==null?void 0:s.name),h("span",{className:"handle"}," @",M))),h("div",{className:"info"},h("div",{className:"publication-row"},h("a",{className:"publication",href:updateQuery(`${getBaseUrl(n)}/`,{utm_source:"substack",utm_medium:"web",utm_content:"discover-twitter"}),target:"_blank",native:!0},h(PubCard,{publication:n,logo_size:30},i?h("div",{className:"subscribed"},h(Pill,null,"Subscribed")):null)))))),Yr=({result:n,selectedPubs:t,onToggle:r})=>{var i;const{publicationAuthor:s,screen_name:M,publication_id:k}=n,{name:j,ownedPublications:U}=s,q=uniqBy(U,xe=>xe.id),Pe=sortBy(q,xe=>xe.latestPost[0]?dayjs(xe.latestPost[0].post_date).toDate():dayjs.unix(1).toDate()).reverse(),Me=s.photo_url||((i=U.find(xe=>xe.id===k))==null?void 0:i.logo_url);return Pe.map(xe=>{const Ve=xe.subscriptions.length;return h(no,{author:s,screenName:M,authorName:j,showLogo:Me!==s.photo_url,pub:xe,checked:t.has(xe.id),onToggle:r,isSubscribed:Ve})})},Mr=({user:n,freeSignupEmail:t,twitterEmail:r,twitterToken:i,onConfirmed:s,onSubscribed:M,formAction:k,pubIds:j,subscribeToken:U,redirect:q,showDiscover:Pe,editable:Me,showLogout:xe})=>{const Ve=(n==null?void 0:n.email)||t||r,[qe,Ge]=useState(!1),[ut,bt]=useState(!0),[Pt,At]=useState(Ve);j?q=updateQuery(q,{pubIds:j,t:i}):q=updateQuery(q,{t:i,d:ut});const Lt=Dt=>{const{userExists:Ht,subscribed:on}=Dt.body;on?M(on):Ht?Ht&&(window.location.href=pathWithQuery(`${getSubstackUrl()}/sign-in`,{with_password:!1,email:Pt,redirect:q})):s()};return h("div",{className:"twitter-publications container"},h("section",null,h("div",{className:"terms-check"},h(FancyForm,{onSuccess:Dt=>Lt(Dt),method:"post",action:k,loading:!1,autoLock:!0},h("input",{name:"t",type:"hidden",value:i}),j&&h("input",{name:"pubIds",type:"hidden",value:j}),U&&h("input",{name:"subscribeToken",type:"hidden",value:U}),h("input",{name:"email",type:"text",disabled:!Me&&Ve,value:Pt,onInput:Dt=>At(Dt.target.value)}),h("label",null,h("input",{type:"checkbox",checked:qe,onInput:()=>Ge(!qe)}),"I accept the"," ",h("a",{href:"/tos",target:"_blank",native:!0},"Terms of Use")),Pe&&h("label",null,h("input",{name:"allow_discover",type:"checkbox",checked:ut,onInput:()=>bt(!qe)}),"Allow people to find my publications via Twitter"),xe&&h("label",null,h("a",{className:"login-button",href:getSignoutUrl(),native:!0},"Not you?")),h(zn,{disabled:!qe},"Next \u2192")))))},Qr=()=>h("div",{className:"twitter-publications container landing"},h("h2",null,"Thousands of writers and readers are already on Substack"),h("section",null,h("p",null,"Connect with Twitter to find them and subscribe to their publications."," ",h("span",{className:"light"},"(We'll never post to your Twitter without permission or abuse your data.)")),h("div",{className:"banner"},h(Ir,null)))),_o=({user:n,stage:t,twitterEmail:r,freeSignupEmail:i,twitterToken:s})=>!s&&!n||t=="connect"?h(Qr,null):h(ci,Xt({},{user:n,stage:t,twitterEmail:r,freeSignupEmail:i,twitterToken:s})),ci=({user:n,stage:t,twitterEmail:r,freeSignupEmail:i,twitterToken:s,buttonText:M=null,onSignup:k=null,requireSignup:j=!0,needsEmailConfirm:U=!0,renderIfNoneFound:q=null,useProfilePrefix:Pe=!1})=>{const[Me,xe]=useState(null),[Ve,qe]=useState(null),[Ge,ut]=useState(null),[bt,Pt]=useState(null),[At,Lt]=useState(!U),[Dt,Ht]=useState(null),[on,hn]=useState(!1),[an,mn]=useState(new Set),[rr,Gn]=useState(null),Vn=getQueryItem("subscribed"),_n=Pe?"/profile":"";Vn?k?k():(ut(Vn.split(",")),route("/discover-twitter/success")):t&&t!=="connect"&&!Me&&!Ge&&route("/discover-twitter");const jn=qt=>{const Sn=new Set(an);an.has(qt)?Sn.delete(qt):Sn.add(qt),mn(Sn)},_r=qt=>flatten(qt.map(Sn=>{var Yt;return((Yt=Sn.publicationAuthor)==null?void 0:Yt.ownedPublications)||[]}));useEffect(()=>Cn(void 0,null,function*(){if(!on){hn(!0);try{const qt=yield request.get("/api/v1/twitter/publications"),{results:Sn,subscribeToken:Yt,needsConnect:ir,needsTwitterConfirm:Pn}=qt.body;if(ir)route("/discover-twitter/connect");else{const gr=_r(Sn),fr=new Set(gr.filter($n=>$n.subscriptions.length===0).map($n=>$n.id));let Nr;fr.size<=30?Nr=new Set(fr):Nr=new Set,xe(Sn),Ht(!1),Gn(Yt),qe(fr),mn(Nr),Pt(!Pn)}}catch(qt){Ht(qt)}hn(!1)}}),[]);let nr;Me&&(Me.length>0?bt?nr=`We found ${Me.length} account${Me.length>1?"s":""} you follow on Twitter`:nr=`Confirm your email to see ${Me.length} account${Me.length>1?"s":""} you follow on Twitter`:bt||(nr="Confirm your email to continue")),t==="confirm"&&(nr="Confirm your email"),Ge&&(nr="Success!");const qn=Me?_r(Me):null,Rn=()=>{Lt(!0),Pt(!0)},Bn=()=>Cn(void 0,null,function*(){hn(!0);try{const qt=yield request.post("/api/v1/twitter/subscribe").send({pubIds:[...an].join(","),t:s,subscribeToken:rr});if(k)k();else{const{subscribed:Sn}=qt.body;ut(Sn),route("/discover-twitter/success")}}catch(qt){console.error("error subscribing",qt)}hn(!1)}),cr=qt=>{ut(qt),route("/discover-twitter/success")},Ln=qt=>{let Sn;qt?Sn=new Set(Ve):Sn=new Set,mn(Sn)},er=()=>{!U||At?Bn():route("/discover-twitter/confirm")};return h("div",{className:"twitter-publications pub-list"},h("h2",{className:t},nr),on&&h("p",{className:"loading"},"Loading..."),Dt&&h(Fragment,null,h("p",{className:"error"},"Sorry, there was an error getting your results!"),h("div",{className:"banner"},h(Ir,null))),h(Router,null,Me&&!Ge&&bt&&!on&&h(bo,{path:`${_n}/discover-twitter`,results:Me,selectedPubs:an,subscribablePubs:Ve,onToggleChecked:jn,onToggleAll:Ln,onNext:er,loading:on,buttonText:M,requireSignup:j,renderIfNoneFound:q}),bt==!1&&h(Mr,{path:`${_n}/discover-twitter`,formAction:"/api/v1/twitter/confirm",redirect:"/api/v1/twitter/continue-confirm",user:n,onConfirmed:Rn,twitterEmail:r,twitterToken:s,freeSignupEmail:i,pubIds:[...an],showDiscover:!0}),!At&&h(Mr,{path:`${_n}/discover-twitter/confirm`,redirect:"/api/v1/twitter/continue-subscribe",formAction:"/api/v1/twitter/subscribe",user:n,onSubscribed:cr,twitterEmail:r,twitterToken:s,freeSignupEmail:i,pubIds:[...an],subscribeToken:rr,editable:!1,showLogout:!0}),Me&&Ge&&h(So,{path:`${_n}/discover-twitter/success`,user:n,subscribed:Ge,pubs:qn,results:Me})))},Uo=({pub:n,result:t})=>{const{hero_text:r,stripeAccount:i,logo_url:s}=n,{screen_name:M,publicationAuthor:{name:k,photo_url:j}}=t,U=i==null?void 0:i.plans;return h("li",{className:"linked-pub subscribed"},h("div",{className:"linked-pub"},h("div",{className:"photo"},h(UserProfilePhoto,{size:60,photo_url:s||j})),h("div",{className:"info"},h("div",{className:"publication-row"},h("div",{className:"publication"},h("div",{className:"name"},"@",M," - ",k),h("div",{className:"description"},r)),h("div",null,U&&h(LinkButton,{className:"outline small button",href:`${getBaseUrl(n)}/subscribe`,target:"_blank"},"Upgrade"))))))},So=({subscribed:n,pubs:t,results:r})=>{const i=uniqBy(t.filter(U=>n.find(q=>q===U.subdomain)),U=>U.id),[s,M]=partition(i,U=>{var q;return(q=U.stripeAccount)==null?void 0:q.plans}),k=[...s,...M].length>1,j=s.length>1;return h("ul",null,h("div",{className:"sign-up"},s.length>0?h(Fragment,null,j?`${s.length} of the newsletters`:k?"One of the newsletters":"The newsletter"," ","you subscribed to ",j?"have":"has"," a paid version. You can upgrade"," ",j?"those subscriptions":"that subscription"," now or later."):`You're subscribed to the free version of ${k?"these newsletters":"this newsletter"}.  Happy reading!`),[...s,...M].map(U=>{const q=r.find(Pe=>Pe.screen_name===U.twitterAccount.screen_name);return q?h(Uo,{pub:U,result:q}):null}))},Yo=({onNext:n})=>h("div",null,h("ul",null,h("p",null,"It doesn't appear anyone you follow on Twitter has a Substack yet. We'll let you know if that changes."),h(LinkButton,{className:"primary button",onClick:()=>{n()}},"Continue"))),bo=({results:n,selectedPubs:t,onNext:r,onToggleChecked:i,onToggleAll:s,subscribablePubs:M,loading:k,buttonText:j,requireSignup:U,renderIfNoneFound:q})=>{if(n.length===0)return q||h(Yo,{onNext:r});const Pe=sortBy(n,bt=>{var Pt;let At;return bt.publicationAuthor.ownedPublications?At=maxBy(bt.publicationAuthor.ownedPublications,Lt=>Lt.latestPost[0]?dayjs(Lt.latestPost[0].post_date).toDate():null):At=null,At!=null&&At.latestPost[0]?dayjs((Pt=At.latestPost[0])==null?void 0:Pt.post_date).toDate():dayjs.unix(1).toDate()}).reverse(),[Me,xe]=partition(Pe,bt=>(bt.publicationAuthor.ownedPublications||[]).some(Pt=>Pt.subscriptions.length===0)),Ve=M.size===t.size,qe=()=>{s(!Ve)},Ge=(!U||t.size>0)&&!k,ut=!U||M.size>0?h(zn,{onClick:r,disabled:!Ge},j?(t.size>0?"Subscribe and ":"")+j:"Sign up \u2192"):null;return h("div",null,h("section",{className:"sign-up"},"Subscribe to free newsletters from the people you already follow on Twitter"),h("ul",null,(!U||M.size>0)&&h(Fragment,null,(M.size>3||!U)&&ut,h("li",null,M.size<30&&h(On,{checked:Ve,onClick:qe}))),[...Me,...xe].map(bt=>h(Yr,{result:bt,selectedPubs:t,onToggle:i})),ut))};var To=Object.defineProperty,vi=Object.getOwnPropertySymbols,oi=Object.prototype.hasOwnProperty,di=Object.prototype.propertyIsEnumerable,pi=(n,t,r)=>t in n?To(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ii=(n,t)=>{for(var r in t||(t={}))oi.call(t,r)&&pi(n,r,t[r]);if(vi)for(var r of vi(t))di.call(t,r)&&pi(n,r,t[r]);return n};const Jo=(0,e.createContext)({});Jo.displayName="WWWContext";const ji=n=>{const t=r=>{const i=useContext(Jo);return h(n,ii(ii({},i),r))};return t.displayName=`withWWWContext(${n.name||n.displayName||"Anonymous"})`,t},Ei=()=>useContext(Jo);var so=wt(8479),mi=Object.defineProperty,Mi=Object.getOwnPropertySymbols,si=Object.prototype.hasOwnProperty,Fo=Object.prototype.propertyIsEnumerable,ai=(n,t,r)=>t in n?mi(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,qo=(n,t)=>{for(var r in t||(t={}))si.call(t,r)&&ai(n,r,t[r]);if(Mi)for(var r of Mi(t))Fo.call(t,r)&&ai(n,r,t[r]);return n},wi=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});function rt(n){const t=useWWWContext(),{categories:r,publications:i=[],categoryId:s,featuredPublications:M=[],communityPicksPublications:k=[],tastemakerPublications:j=[],user:U,categorySlug:q,rankingSlug:Pe,hasMore:Me,updateUrl:xe=!1,maxPublications:Ve,showTwitterBanner:qe,readerOnboardingModal:Ge}=qo(qo({},t),n),[ut,bt]=useState(r),[Pt,At]=useState(Ze(i,Ve)),[Lt,Dt]=useState(s),[Ht,on]=useState(Ze(M,Ve)),[hn,an]=useState(Ze(k,Ve)),[mn,rr]=useState(Ze(j,Ve)),[Gn,Vn]=useState(null),[_n,jn]=useState("paid"),[_r,nr]=useState(null),[qn,Rn]=useState(0),[Bn,cr]=useState(Me);useEffect(()=>{const Yt=Pe||"paid";jn(Yt),ut||et().then(({categories:ir,publications:Pn,featuredPublications:gr,communityPicksPublications:fr,tastemakerPublications:Nr})=>{bt(ir);const $n=getCategoryIdFromSlug(q,ir);return Dt($n),on(Ze(gr,Ve)),an(Ze(fr,Ve)),rr(Ze(Nr,Ve)),$n==="featured"?Pn:ht($n,Yt,0).then(({publications:Cr,more:Er})=>(Rn(0),Ve||cr(Er),Cr))}).then(ir=>{At(Ze(ir,Ve))})},[ut,q,Pe,Ve]);const Ln=useCallback(()=>{const Yt=qn+1;track(EVENTS.VIEWED_MORE_CATEGORY,{categoryId:Lt,ranking:_n,page:Yt}),ht(Lt,_n,Yt).then(({publications:ir,more:Pn})=>{const gr=new Set(Pt.map(fr=>fr.id));Rn(Yt),At(Pt.concat(ir.filter(fr=>!gr.has(fr.id)))),cr(Pn)})},[Lt,_n,qn,Pt,Rn,At,cr]),er=({categoryId:Yt,ranking:ir,categories:Pn})=>{track(EVENTS.CLICKED_CATEGORY,{categoryId:Yt,ranking:ir}),xe&&route(mt({categoryId:Yt,categories:Pn,ranking:ir}),!0),Sn({categoryId:Yt,ranking:ir})},qt=Yt=>{jn(Yt),xe&&route(mt({categoryId:Lt,categories:ut,ranking:Yt}),!0),Sn({categoryId:Lt,ranking:Yt})},Sn=useCallback(Yt=>wi(this,[Yt],function*({categoryId:ir,ranking:Pn}){if(Dt(ir),Rn(0),ir==="featured"||ir==="twitter"){Vn(null),nr(null),cr(!1),ir==="featured"&&At(Ze(Ht,Ve));return}Vn(ir),nr(Pn),At([]),cr(!1);const{publications:gr,more:fr}=yield ht(ir,Pn,0);Dt(ir),Vn(null),nr(null),jn(Pn),Rn(0),Ve||cr(fr),At(Ze(gr,Ve))}),[Vn,nr,Dt,Rn,cr,At,Ht,Ve]);return{categories:ut,publications:Lt==="featured"?Ht:Pt,categoryId:Lt,ranking:_n,loadingCategoryId:Gn,loadingRanking:_r,featuredPublications:Ht,user:U,categorySlug:q,rankingSlug:Pe,hasMore:Bn,viewMore:Ln,loadPublications:Sn,onCategoryClicked:er,getCategoryIdFromSlug,setCategoryId:Dt,setRanking:jn,onRankingChange:qt,maxPublications:Ve,showTwitterBanner:qe,readerOnboardingModal:Ge}}const Ze=(n,t)=>t?n.slice(0,t):n,et=()=>fetchJson("/api/v1/homepage/initial-category-data"),ht=(n,t="paid",r=0)=>fetchJson(`/api/v1/category/public/${n}/${t}?page=${r}`),mt=({categoryId:n,ranking:t,categories:r})=>{let i="";["twitter",COMMUNITY_PICKS_CATEGORY_NAME,TASTEMAKER_CATEGORY_NAME].includes(n)&&(i=n);const s=r.find(M=>M.id===n);return s!=null&&s.slug&&(i=`${s.slug}/${t}`),i?`/discover/category/${i}`:"/discover"},kt=({children:n,separator:t})=>{const r=[],i=(0,e.toChildArray)(n);return i.forEach((s,M)=>{r.push(s),M!==i.length-1&&r.push(t)}),(0,e.h)(e.Fragment,null,r)};var Nt=wt(95297),Te=Object.defineProperty,be=Object.getOwnPropertySymbols,Ce=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable,ft=(n,t,r)=>t in n?Te(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,pt=(n,t)=>{for(var r in t||(t={}))Ce.call(t,r)&&ft(n,r,t[r]);if(be)for(var r of be(t))$e.call(t,r)&&ft(n,r,t[r]);return n},Ct=(n,t)=>{var r={};for(var i in n)Ce.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&be)for(var i of be(n))t.indexOf(i)<0&&$e.call(n,i)&&(r[i]=n[i]);return r};function St(n){const t=!n.disable_monthly_subscriptions&&n.plans&&n.plans.filter(s=>s.interval==="month").sort((s,M)=>s.amount-M.amount)[0],r=n.plans&&n.plans.filter(s=>s.interval==="year").sort((s,M)=>s.amount-M.amount)[0],i=t||r;if(i)return(0,Ne.planBasePricing)(i)}const Bt={desktop:15,mobile:6};function Ut(n,{includePrice:t=!0,includeRankingDetail:r=!0,includeByline:i=!0,includeBadge:s=!1,rankingDetailOverrideText:M=null}={}){const{iTemplate:k}=I18N.i(n.language),j=(0,Ne.getByLine)(n);let U=null;return r&&(U=M||n.rankingDetail),(0,e.h)(kt,{separator:" \xB7 "},i&&j&&(0,e.h)(me.hs,{inline:!0,gap:4},k`By ${j}`,s&&(0,e.h)(Nt.s,{size:"sm",tier:n.author_bestseller_tier,userId:n.author_id})),U,t&&St(n))}const fn=({className:n,hasFeatured:t,categories:r,categoryId:i,categoryIds:s,loadingCategoryId:M,ranking:k,onCategoryClicked:j,defaultExpanded:U,isReaderOnboarding:q})=>{const[Pe,Me]=useState(U||!1),xe=useMediaQuery({query:"only screen and (max-width: 650px)"}),Ve=Bt[xe?"mobile":"desktop"],qe=Pe?r:r.slice(0,Ve),Ge=ut=>ut.id===i||(s==null?void 0:s.includes(ut.id));return h("div",{className:cn("categories",n)},t?h(Button,{className:cn({active:i==="featured"&&(!M||M==="featured"),loading:M==="featured"&&i!=="featured"}),onClick:()=>j({categoryId:"featured",ranking:"all",categories:r})},"Featured"):null,qe.map(ut=>h(Button,{key:ut.id,className:cn({active:Ge(ut)&&(!M||M===ut.id),loading:M===ut.id&&i!==ut.id}),onClick:()=>j({categoryId:ut.id,ranking:k,categories:r})},ut.id==="twitter"&&h(TwitterIcon,{width:xe?12:15,height:xe?12:15,strokeWidth:0}),toTitleCase(ut.canonical_name||""))),!q&&h(Button,{className:cn({active:i===COMMUNITY_PICKS_CATEGORY_NAME&&(!M||M===COMMUNITY_PICKS_CATEGORY_NAME),loading:M===COMMUNITY_PICKS_CATEGORY_NAME&&i!==COMMUNITY_PICKS_CATEGORY_NAME}),onClick:()=>j({categoryId:COMMUNITY_PICKS_CATEGORY_NAME,ranking:"all",categories:r})},"Writer favorites"),!q&&h(Button,{className:cn({active:i===TASTEMAKER_CATEGORY_NAME&&(!M||M===TASTEMAKER_CATEGORY_NAME),loading:M===TASTEMAKER_CATEGORY_NAME&&i!==TASTEMAKER_CATEGORY_NAME}),onClick:()=>j({categoryId:TASTEMAKER_CATEGORY_NAME,ranking:"all",categories:r})},"Featured recommenders"),r.length>Ve&&!Pe&&h(Button,{className:"show-more",onClick:()=>Me(!0)},h(LargePlusIcon,null)))},Qt=({publications:n,explanations:t,ranking:r,openInNew:i,startRankAt:s=0,source:M,onPublicationVisited:k=null,user:j,categoryId:U})=>h(Fragment,null,h("div",{className:"publications"},n.map((q,Pe)=>{var Me,xe,Ve;let qe=t&&t[Pe];if(!q)return;qe||(qe=[]);const Ge=qe.filter(on=>["posts.title","posts.subtitle"].includes(on.type)),ut=!!((xe=(Me=Ge[0])==null?void 0:Me.posts[0][0])!=null&&xe.slug);let bt;ut&&(bt=(Ve=Ge[0])==null?void 0:Ve.posts[0][0]);const Pt=qe.filter(on=>on.type==="description")[0],At=qe.filter(on=>["name","subdomain","hero_text","custom_domain","author_name"].includes(on.type)).length>0||!Pt&&!bt,Lt=qe.filter(on=>on.type==="description").map(on=>on.keyword),Dt=qe.filter(on=>["posts.title","posts.subtitle"].includes(on.type)).map(on=>on.keyword),Ht=getPubUrl(q,{params:{utm_source:M||"discover"},signedIn:!!j});return h("a",{key:q.id,className:"publication",href:Ht,native:!0,target:i?"_blank":null,onClick:on=>{trackPublicationVisit(q,M||"leaderboards",{position:Pe+1,category:U}),k&&k(q)},rel:"noopener"},r==="paid"?h("div",{className:"publication-rank"},Pe+1+s):null,h("div",{className:"publication-content"},h(PubIcon,{pub:q,href:Ht,logo_url:q.logo_url||q.author_photo_url,linkify:!1,belowTheFold:!0}),h("div",{className:"publication-text-area"},h("div",{className:"publication-title"},q.name),(At||bt)&&h("div",{className:"publication-description"},q.editorial_bio||dn(q.hero_text,Lt)),!At&&Pt&&!bt&&h("div",{className:"publication-description"},dn(Pt.sentence,Lt)),!At&&bt&&h("div",{className:"publication-explanation-box"},ut&&h("a",{className:"title",href:getPostUrl(q,bt)},h("div",{className:"post-preview-content"},h("div",{className:"left-flex"},h("p",{className:"title"},dn(bt.title,Dt)),h("p",{className:"subtitle"},dn(bt.subtitle,Dt))),h("div",{className:"right-flex"},h("img",{src:bt.cover_image,className:bt.cover_image?"":"no-preview"}))))),h("div",{className:"publication-author"},Ut(q)))))})));function dn(n,t){if(!n)return"";const r=new RegExp(t.join("|"),"ig"),i=n.split(r),s=[...n.matchAll(r)];return h("span",null,i.map((M,k)=>h(Fragment,null,M,k!==i.length-1&&h("b",null,s[k]))))}const In=({onCategoryClicked:n,categoryId:t,ranking:r,loadingRanking:i,categories:s})=>["featured","twitter",COMMUNITY_PICKS_CATEGORY_NAME,TASTEMAKER_CATEGORY_NAME].includes(t)?null:h("div",{className:"ranking-toggle"},h(LinkButton,{className:cn({active:r==="paid"&&!i||i==="paid",loading:i==="paid"&&r!=="paid"}),onClick:()=>n({categoryId:t,ranking:"paid",categories:s})},"Top paid"),"  \xB7  ",h(LinkButton,{className:cn({active:r==="all"&&!i||i==="all",loading:i==="all"&&r!=="all"}),onClick:()=>n({categoryId:t,ranking:"all",categories:s})},"All")),Yn=n=>{var t=n,{Component:r=pr}=t,i=Ct(t,["Component"]);const s=useLeaderboards(i);return s.categories?h(r,pt({},s)):null};class pr extends null{componentDidUpdate(t){if(this.props.categorySlug===t.categorySlug&&this.props.rankingSlug===t.rankingSlug)return;const r=getCategoryIdFromSlug(this.props.categorySlug,this.props.categories),i=this.props.rankingSlug||"paid";this.props.loadPublications({categoryId:r,ranking:i})}startReading(t){window.sessionStorage.setItem("initialJoinSubstack","true"),track(EVENTS.HOMEPAGE_READER_LINK_CLICKED,{url:getBaseReaderUrl()}),redirect(getBaseReaderUrl(),{event:t})}render({categories:t,publications:r,categoryId:i,loadingCategoryId:s,ranking:M,loadingRanking:k,onCategoryClicked:j,hasMore:U,viewMore:q,featuredPublications:Pe,underratedPublications:Me,tastemakerPublications:xe,maxPublications:Ve,showTwitterBanner:qe,user:Ge}){const ut=i==="featured",bt=i===COMMUNITY_PICKS_CATEGORY_NAME,Pt=i===TASTEMAKER_CATEGORY_NAME,At=i==="twitter",Lt=t.find(Dt=>Dt.id===i);return ut&&!Pe.length&&typeof window!="undefined"&&j({categoryId:COMMUNITY_PICKS_CATEGORY_NAME,ranking:"all",categories:t}),h("div",{className:cn("new-landing-page reader-landing-page page",{"category-featured":ut})},h("div",{className:"container"},h("div",{className:"landing-content"},h("div",{className:"landing-section landing-publications"},h("div",{className:"publications-header not-mobile"},h(In,{categories:t,categoryId:i,ranking:M,onCategoryClicked:j})),h(Qt,{publications:r,ranking:ut||bt||Pt?"all":M,categoryId:i}),M==="all"&&!ut&&!bt&&!Pt&&!At&&!Ve&&U&&h("div",{className:"view-more"},h(Button,{className:"primary top-pad",onClick:q},"View more")),Ve&&i!=="featured"&&h("div",{className:"see-all",style:{paddingLeft:M==="all"?"108px":"146px"}},h("a",{href:ut?getDiscoverCategoryUrl():[TASTEMAKER_CATEGORY_NAME,COMMUNITY_PICKS_CATEGORY_NAME].includes(i)?getDiscoverCategoryUrl({slug:i},M):getDiscoverCategoryUrl(Lt,M),native:!0},"See all"," ",h(CaretRightIcon,{width:7,height:11,color:"var(--color-primary-themed)",style:{marginLeft:"3px"}})))),h("div",{className:"landing-section landing-categories"},h("div",{className:"only-mobile"},h("div",{className:"mobile-toggle"},h(In,{categories:t,categoryId:i,ranking:M,onCategoryClicked:j}))),h(fn,{hasFeatured:Pe&&Pe.length>0,hasUnderrated:Me&&Me.length>0,hasTastemakers:xe&&xe.length>0,categories:t,categoryId:i,loadingCategoryId:s,onCategoryClicked:j,ranking:M,loadingRanking:k}))),qe&&i==="featured"&&!(Ge!=null&&Ge.has_linked_twitter)?h(TwitterBanner,null):null))}}const lr=null,wn="balance-text",vr=100,ur=10,Dr=4;function xr(n){Io(n)&&(n.style.maxWidth="",lo(n,n.clientHeight,0,n.clientWidth)),n.classList.add("visible")}function lo(n,t,r,i){if(i-r<Dr){n.clientHeight>t?n.style.maxWidth=`${i}px`:n.style.maxWidth=`${n.scrollWidth+1}px`;return}if(r>=i){n.style.maxWidth=`${i}px`;return}const s=(r+i)/2;n.style.maxWidth=`${s}px`,n.clientHeight>t?lo(n,t,s,i):lo(n,t,r,s)}function Io(n){var t;const r=n.innerHTML,i=n.textContent.split(" "),s=document.createElement("span");s.id="element-first-word",s.textContent=i.shift(),n.innerHTML="",n.appendChild(s),n.appendChild(document.createTextNode(` ${i.join(" ")}`));const M=((t=document.getElementById("element-first-word"))==null?void 0:t.offsetHeight)||s.offsetHeight,k=n.offsetHeight;return n.innerHTML=r,k-ur>M}class Co extends e.Component{constructor(t,r){super(t,r),this.debouncedRebalance=(0,y.debounce)(()=>this.rebalance(),vr)}componentDidMount(){this.rebalance(),typeof window!="undefined"&&window.addEventListener("resize",this.debouncedRebalance,!0)}componentDidUpdate(){this.rebalance()}componentWillUnmount(){typeof window!="undefined"&&window.removeEventListener("resize",this.debouncedRebalance,!0)}shouldComponentUpdate(t){return t.children!==this.props.children}rebalance(){typeof window!="undefined"&&this.base&&xr(this.base)}render({text:t}){return(0,e.h)("span",{className:wn,style:{display:"inline-block"}},t)}}var zr=wt(84040);const Ko=({allowAllDay:n,redirect:t,onCancel:r})=>{const[i,s]=(0,o.eJ)(!1);return(0,e.h)(Hr.ZP,{className:"customer-support-mode-form",analyticsName:"Customer Support Mode Form",action:"/api/v1/customer_support_mode",onSuccess:()=>document.location.href=t||"/",autoLock:!0},(0,e.h)(me.tu,{gap:8},(0,e.h)(J.xv.Meta,{className:"danger",weight:"semibold",color:"error"},"Danger"),(0,e.h)(J.xv.H2,null,"Support Mode"),(0,e.h)(J.xv.B3,null,"Be absolutely respectful to the writers on whose behalf you are working."),n&&(0,e.h)("label",null,(0,e.h)(me.gq,{gap:8},(0,e.h)("input",{type:"checkbox",defaultChecked:!1,onInput:M=>s(M.target.checked)})," ",(0,e.h)(J.xv.B3,null,"Allow access for the day because I'm doing Customer Support"))),i&&(0,e.h)("input",{type:"hidden",name:"all_pubs",value:"true"}),(0,e.h)("input",{type:"hidden",name:"minutes",value:i?10*60:30}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(me.gq,{gap:8,paddingTop:8},(0,e.h)(zr.zx,{priority:"destructive",type:"submit",id:"enter-support-mode"},"Enter support mode"),r&&(0,e.h)(zr.zx,{priority:"secondary",onClick:r},"Cancel"))))};var ei=wt(41406),Wi=wt(11851),Ci=Object.defineProperty,jo=Object.defineProperties,it=Object.getOwnPropertyDescriptors,at=Object.getOwnPropertySymbols,Ot=Object.prototype.hasOwnProperty,Kt=Object.prototype.propertyIsEnumerable,un=(n,t,r)=>t in n?Ci(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,gn=(n,t)=>{for(var r in t||(t={}))Ot.call(t,r)&&un(n,r,t[r]);if(at)for(var r of at(t))Kt.call(t,r)&&un(n,r,t[r]);return n},bn=(n,t)=>jo(n,it(t));const Hn=n=>(0,e.h)(x.l,bn(gn({},n),{name:"RightArrowIcon",svgParams:{height:20,width:20}}),(0,e.h)("path",{d:"M7.5 15L12.5 10L7.5 5","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));function yr({text:n,maxLines:t,ellipsesText:r="..."}){const i=(0,o.sO)(null),[s,M]=(0,o.eJ)(n);return(0,o.d4)(()=>{(()=>{if(!i.current)return;i.current.innerText="-";const U=(i.current.clientHeight+1)*t+1;let q=0,Pe=0,Me=n.length;for(;q<=Me;){if(Pe=Math.floor((q+Me)/2),i.current.innerText=n.slice(0,Pe),Pe===n.length&&i.current.clientHeight<=U){i.current.innerText="",M(n);return}i.current.clientHeight<=U?q=Pe+1:Me=Pe-1}const xe=n.slice(0,Pe-r.length-2);i.current.innerText="",M(xe+r)})()},[i,n,t,r]),(0,e.h)("div",{style:{position:"relative"}},(0,e.h)("div",null,s),(0,e.h)("div",{ref:i,style:{visibility:"hidden",position:"absolute",width:"100%"}}))}var Jn=wt(96789),Br=wt(79786),Kr=Object.defineProperty,Ar=Object.defineProperties,Rr=Object.getOwnPropertyDescriptors,wr=Object.getOwnPropertySymbols,Sr=Object.prototype.hasOwnProperty,mr=Object.prototype.propertyIsEnumerable,Fr=(n,t,r)=>t in n?Kr(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Vr=(n,t)=>{for(var r in t||(t={}))Sr.call(t,r)&&Fr(n,r,t[r]);if(wr)for(var r of wr(t))mr.call(t,r)&&Fr(n,r,t[r]);return n},K=(n,t)=>Ar(n,Rr(t)),$=(n,t,r)=>(Fr(n,typeof t!="symbol"?t+"":t,r),r),re=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const R="intro_popup_last_hidden_at";class oe extends e.Component{constructor(t,r){super(t,r)}componentDidMount(){this.shouldShow()?(typeof window!="undefined"&&((0,y.addClass)(document.documentElement,"has-intro-popup"),jt(this.props.publication,this.props.user,this.props.coupon,{required:!0},t=>this.setState({coupon:t}))),this.show()):(this.props.onHide&&this.props.onHide(),(0,z.a)({hide_intro_popup:!0}))}componentWillUnmount(){typeof window!="undefined"&&(0,y.removeClass)(document.documentElement,"has-intro-popup"),this.hide(!0)}shouldShow(){const{freeSignup:t,user:r,post:i,hidden:s,alwaysShow:M,showOnMount:k}=this.props;return M?!0:s?!1:k||this.state.signedUp?!0:!(this.isMarkedAsHidden()||!(i===null||i&&!(0,Xe.isPaidAudience)(i.audience))||t||r&&(r.is_free_subscribed||r.is_subscribed))}isShowing(){return typeof window!="undefined"&&(0,y.hasClass)(document.documentElement,"show-intro-popup")}show(){this.shouldShow()&&typeof window!="undefined"&&((0,y.addClass)(document.documentElement,"show-intro-popup"),(0,D.j)(D.FP.COVER_PAGE_SHOWN,{has_cover_photo:!!this.props.publication.cover_photo_url,has_free_signup_email:!!this.props.freeSignupEmail,has_free_signup:!!this.props.freeSignup}),this.props.alwaysShow||(0,D.XY)("pageview",{dl:`${document.location.origin}/welcome${document.location.search}`}))}hide(t){t||(this.markAsHidden(),setTimeout(()=>{(0,z.a)({hide_intro_popup:!0})},500)),this.props.onHide&&this.props.onHide(),!this.props.alwaysShow&&this.isShowing()&&(0,y.removeClass)(document.documentElement,"show-intro-popup")}isMarkedAsHidden(){const t=We.get(R);if(t){const r=new Date(t),i=new Date(Date.now()-24*60*60*1e3);if(r>i)return!0}return!1}markAsHidden(){We.set(R,new Date().toJSON(),{expires:365*10})}onFreeSignup(t){return re(this,null,function*(){(0,D.j)(D.FP.COVER_PAGE_EMAIL_SUBMITTED,{is_paying_sub:!!t.body.prompt_to_login,has_plans:!!this.props.publication.plans}),this.markAsHidden(),yield new Promise(i=>this.setState({signedUp:!0},i)),(0,z.a)({freeSignup:!0,freeSignupEmail:t.body.email});const r=this.props.alwaysShow?"/":document.location.href;t.body.prompt_to_login?setTimeout(()=>{document.location.href=(0,v.pathWithQuery)("/account/login",{redirect:r,email:t.body.email})},30):document.location.href=(0,v.pathWithQuery)("/subscribe",K(Vr(Vr({next:r,later:!0,just_signed_up:!0},t.body.subscription_id&&{subscription_id:t.body.subscription_id}),t.body.referral_token&&{referral_token:t.body.referral_token}),{coupon:this.props.coupon,requires_confirmation:t.body.requires_confirmation?"true":"",utm_source:"cover_page",email:t.body.email,skip_redirect_check:!0}))})}onMaybeLater(){(0,D.j)(D.FP.COVER_PAGE_MAYBE_LATER_CLICKED),this.hide()}onBecomePaying(){(0,D.j)(D.FP.COVER_PAGE_BECOME_PAYING_CLICKED),setTimeout(()=>{document.location.href="/subscribe"},30)}onLearnMore(){(0,D.j)(D.FP.COVER_PAGE_LEARN_MORE_CLICKED),setTimeout(()=>{document.location.href=(0,v.getAboutUrl)(this.props.publication)},30)}render({email:t,user:r,freeSignup:i,freeSignupEmail:s,publication:M,referralCode:k,blurbs:j,noBalance:U,isAudio:q},{coupon:Pe}){if(!this.shouldShow())return;const Me=(0,e.h)(Ue,{source:"cover_page",email:t,pub:M,user:r,freeSignup:i,freeSignupEmail:s,referralCode:k,forceSignup:(0,v.getQueryItem)("force"),coupon:Pe,onMaybeLater:()=>this.onMaybeLater(),onFreeSignup:xe=>this.onFreeSignup(xe),markAsHidden:this.markAsHidden,blurbs:j,noBalance:U,isAudio:q});return(0,e.h)("div",{className:"intro-popup default-intro-popup"},(0,e.h)("div",{className:"intro-popup-page intro-popup-page-0"},Me))}}$(oe,"contextType",ct.kx);const he=n=>h("div",{className:"intro-inline"},h(Ue,Vr({},n)));class Ie extends e.Component{constructor(t,r){super(t,r);const i=(0,v.getQueryItem)("referralCode"),s=(0,v.getQueryItem)("refSource"),M=this.props.iString("Learn More"),k=(0,v.getAboutUrl)(this.props.pub,{params:Vr(Vr({utm_source:"subscribe_email",utm_content:"learn_more"},i&&{referralCode:i}),s&&{refSource:s})});this.state={dismissalText:M,dismissalUrl:k,welcomePageOptOutText:this.context.getSettingFor("welcome_page_opt_out_text")}}componentDidMount(){this.props.source==="subscribe_page"&&(0,D.j)(D.FP.SUBSCRIBE_EMAIL_FULL_SCREEN_SHOWN),(0,D.j)(D.FP.FULL_EMAIL_FORM_SHOWN,{source:this.props.source})}onAuthorClicked(){(0,D.j)(D.FP.COVER_PAGE_AUTHOR_CLICKED),setTimeout(()=>{document.location.href=(0,v.getAboutUrl)(this.props.pub)},30)}render({email:t,pub:r,user:i,freeSignup:s,freeSignupEmail:M,referralCode:k,source:j,coupon:U,forceSignup:q,submitButtonText:Pe,onMaybeLater:Me,onFreeSignup:xe,noBalance:Ve,markAsHidden:qe,blurbs:Ge,iString:ut},{dismissalText:bt,dismissalUrl:Pt,welcomePageOptOutText:At}){const Lt=Ge?Ge.filter(Dt=>Dt.description!=""):[];return(0,e.h)("div",{className:"full-email-form"},(0,e.h)("div",{className:"vertically-centered"},Me&&!r.invite_only&&(0,e.h)("button",{className:"button close-welcome-modal",onClick:Me,"aria-label":"Close","data-testid":"close-welcome-modal"},(0,e.h)(T.Z,null)),(0,e.h)(gt,{pub:r,noBalance:Ve,verbose:!0}),U&&U.required&&(0,e.h)("p",{className:`coupon ${U.loading?"loading":""} ${U.error?"error":""}`},U.loading?ut("Loading coupon"):U.error?ut("Invalid coupon!"):ut("Valid coupon!"),` ${(U.name||U.id).toUpperCase()}`),r.invite_only&&(!i||!i.is_free_subscribed)?(0,e.h)(nt,{pub:r,user:i,freeSignupEmail:M}):[(0,e.h)(ei.Z,{email:t,freeSignup:s,freeSignupEmail:M,markWelcomePageAsHidden:qe,pub:r,referralCode:k,source:j,submitButtonText:Pe,user:i,onConfirmationRequired:r.payments_state==="enabled"?()=>null:void 0,onMaybeLater:Me,onSuccess:xe||(()=>document.location.href="/")}),!q&&(Me?(0,e.h)("a",{onClick:Dt=>Dt.preventDefault(),className:"no-styles"},(0,e.h)(Je.Z,{className:"maybe-later",onClick:Me},At==="No thanks"?ut("No thanks"):At,(0,e.h)(Hn,null))):(0,e.h)(Je.Z,{className:"maybe-later",href:Pt},bt,(0,e.h)(Hn,null)))],(0,e.h)(se,{publication:r}),!!(Lt!=null&&Lt.length)&&(0,e.h)("div",{className:"blurb-buffer"}),!!(Lt!=null&&Lt.length)&&(0,e.h)(me.gq,{className:"blurbs",gap:20},Lt.map(Dt=>(0,e.h)(me.tu,{gap:8,className:"blurb"},(0,e.h)(J.xv.B4,{className:"blurb-text"},(0,e.h)(yr,{maxLines:4,ellipsesText:"...\u201D",text:`\u201C${Dt.description}\u201D`})),(0,e.h)(J.xv.B4,{weight:"semibold",className:"blurb-text"},Dt.author_name||Dt.recommendingPublication.email_from_name||Dt.recommendingPublication.copyright,", ",(0,e.h)("a",{href:(0,v.getBaseUrl)(Dt.recommendingPublication)},Dt.recommendingPublication.name)))))))}}$(Ie,"contextType",Se.vz);const Ue=(0,Ke.fz)(Ie);class nt extends e.Component{constructor(){super(...arguments),$(this,"canTurnOnCustomerSupportMode",()=>{const t=this.props.user;return(t==null?void 0:t.is_global_admin)&&!(t!=null&&t.is_admin)}),$(this,"showCustomerSupportModeModal",()=>{var t;this.canTurnOnCustomerSupportMode()&&((t=this.customerSupportModeModal)==null||t.open())})}componentDidMount(){const t=this.props.freeSignupEmail||this.props.user&&this.props.user.email;t&&(this.emailInput.value=t)}renderCustomerSupportModeModal(){if(this.canTurnOnCustomerSupportMode())return(0,e.h)(Jn.p,{className:"account-info-customer-support-mode-modal",ref:t=>this.customerSupportModeModal=t},(0,e.h)(Ko,{redirect:(0,v.getQueryItem)("redirect")||"/publish/home",onCancel:t=>this.customerSupportModeModal.close(t)}))}render({pub:t,user:r,freeSignupEmail:i},{loading:s,success:M}){const k=i||r&&r.email;return(0,e.h)("div",{className:"intro-popup-invite-actions"},this.renderCustomerSupportModeModal(),(0,e.h)(Hr.ZP,{className:"subscription-request-form",ref:j=>this.form=j,noInlineErrors:!0,action:(0,v.pathWithQuery)("/api/v1/subscription/request"),noJsAction:(0,v.pathWithQuery)("/api/v1/subscription/request",{nojs:!0}),onSuccess:()=>this.setState({success:!0}),onError:j=>{this.setState({loading:!1}),alert((0,y.getNetworkErrorMessage)(j,"Failed to request a subscription"))}},(0,e.h)("input",{type:"hidden",name:"first_url",value:l.xY}),(0,e.h)("input",{type:"hidden",name:"first_referrer",value:l.ip}),(0,e.h)("input",{type:"hidden",name:"current_url",value:l.UE}),(0,e.h)("input",{type:"hidden",name:"current_referrer",value:l.xU}),!!k&&(0,y.inputPrefillHack)(),(0,e.h)(me.tu,{alignItems:"center"},(0,e.h)("input",{type:"email",name:"email",ref:j=>this.emailInput=j,readOnly:!!(k||s),disabled:!!(s||M||k),autoFocus:!k&&!(0,y.isMobileBrowser)(),placeholder:"Type your email\u2026"}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(Je.Z,{className:u()(M?"secondary":"primary"),type:"submit",disabled:!!(s||M),onClick:()=>{this.setState({loading:!0})}},(0,e.h)("b",{className:"button-text"},M?"Requested":"Subscribe")))),(0,e.h)(me.tu,{gap:12,paddingBottom:12,alignItems:"center",justifyContent:"center"},(0,e.h)(Wi.Z,{className:"private-lock-icon"}),(0,e.h)(me.tu,{gap:2},(0,e.h)(J.xv.B4,{weight:"semibold",className:"private-header"},"This Substack is private"),(0,e.h)(J.xv.B4,{className:"private-subtitle"},"Subscribe to see all their posts."))),this.canTurnOnCustomerSupportMode()&&(0,e.h)("p",null,(0,e.h)("a",{className:"account-info-admin",onClick:this.showCustomerSupportModeModal},(0,e.h)("b",null,"Support mode"))),(0,e.h)("a",{href:(0,v.getSigninUrl)({for_pub:t.subdomain,redirect:"/",change_user:!!(r||i)}),native:!0},"Already a member? ",(0,e.h)("b",null,r||i?"Switch accounts":"Sign in")))}}$(nt,"state",{loading:!1,success:!1});const gt=({pub:n,noBalance:t,verbose:r})=>{const{getSettingFor:i}=(0,Se.So)(),{iString:s,iTemplate:M}=(0,Ke.M1)(),k=i("display_welcome_page_details");return n.cover_photo_url?[(0,e.h)(Br.e,{className:"publication-cover-photo",src:n.cover_photo_url,imageProps:{quality:"auto:best"},maxWidth:1360,alt:n.name,loading:"eager"}),!n.hide_intro_title&&(0,e.h)("h1",{className:`publication-name with-cover${n.logo_url?"":" no-logo"}`},(0,e.h)(It,{pub:n,noBalance:t})),!n.hide_intro_subtitle&&(n.hero_text||!r)&&(0,e.h)("p",{className:u()("publication-tagline with-cover",{verbose:r})},!!n.hero_text&&(t?n.hero_text:(0,e.h)(Co,{text:n.hero_text}))),r&&(0,e.h)("div",{className:"publication-meta"},Ut(n,{includePrice:!1,includeBadge:!0,rankingDetailOverrideText:n.rankingDetailFreeSubscriberCount,includeRankingDetail:k}))].filter(j=>j):[n.logo_url&&(0,e.h)(Br.e,{className:"publication-logo",src:n.logo_url,imageProps:{quality:"auto:best"},maxWidth:264,alt:`${n.name} Logo`,loading:"eager"}),(0,e.h)("h1",{className:`publication-name${n.logo_url?"":" no-logo"}`},(0,e.h)(It,{pub:n,noBalance:t})),(n.hero_text||!r)&&(0,e.h)("p",{className:u()("publication-tagline",{verbose:r})},!!n.hero_text&&(t?n.hero_text:(0,e.h)(Co,{text:n.hero_text}))),r&&(0,e.h)("div",{className:"publication-meta"},Ut(n,{includePrice:!1,includeBadge:!0,rankingDetailOverrideText:n.rankingDetailFreeSubscriberCount,includeRankingDetail:k}))].filter(j=>j)},It=({pub:n,noBalance:t})=>t?n.name:(0,e.h)(Co,{text:n.name});function Gt(n,t){for(const[r,i]of Object.entries(t))i!=null&&(n[r]=i);return n}function yn(n){var t,r,i;return n.link_title||((t=n.postTag)==null?void 0:t.name)||((r=n.section)==null?void 0:r.name)||((i=n.post)==null?void 0:i.title)||""}function pn(n){var t;return n.postTag?"tag":n.section?"section":((t=n.post)==null?void 0:t.type)==="page"?"page":n.post?"post":"link"}function Kn(n,{isPodcastActive:t,isChatActive:r,isMeetingsActive:i,hasMultipleNewsletters:s,isChatEnabled:M,isFeedEnabled:k,isReaderReferralsLeaderboardActive:j}){var U;const q=n.filter(xe=>!xe.standard_key),Pe=new Map(n.filter(xe=>xe.standard_key).map(xe=>[xe.standard_key,xe]));for(const xe of q)(U=xe.section)!=null&&U.hide_from_navbar&&(xe.is_hidden=!0);const Me=[k&&{standard_key:"notes",link_title:"Notes",link_url:"/notes"},M&&{standard_key:"chat",link_title:"Chat",link_url:"/chat",is_hidden:!r},i&&{standard_key:"meetings",link_title:"Meetings",link_url:"/meetings"},...q,{standard_key:"archive",link_title:"Archive",link_url:"/archive"},s&&{standard_key:"newsletters",link_title:"Newsletters",link_url:"/newsletters",is_hidden:!0},j&&{standard_key:"leaderboard",link_title:"Leaderboard",link_url:"/leaderboard"},{standard_key:"about",link_title:"About",link_url:"/about"}].filter(xe=>!!xe);for(const xe of Me)if(xe.standard_key){const Ve=Pe.get(xe.standard_key);Ve&&Gt(xe,Ve)}return Me}var sn=wt(98661),Ur=wt(63270),Eo=Object.defineProperty,Xo=Object.defineProperties,li=Object.getOwnPropertyDescriptors,fi=Object.getOwnPropertySymbols,$o=Object.prototype.hasOwnProperty,Li=Object.prototype.propertyIsEnumerable,Hi=(n,t,r)=>t in n?Eo(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Gr=(n,t)=>{for(var r in t||(t={}))$o.call(t,r)&&Hi(n,r,t[r]);if(fi)for(var r of fi(t))Li.call(t,r)&&Hi(n,r,t[r]);return n},Vi=(n,t)=>Xo(n,li(t)),ki;const ha=typeof window!="undefined"&&window._preloads||ct.xu,Ss=typeof window!="undefined"?(ki=window._preloads)==null?void 0:ki.siteConfigs:{},Fa=(n,t)=>Gr(Gr({},(0,ct.ng)(n,t)),(0,Ur.Xz)(n)),Pa=(0,e.createContext)(Fa(Ss,ha));Pa.displayName="ExperimentsAndSiteConfigContext";function Ts({siteConfigs:n={},experimentInfo:t,children:r}){const i=t||ha,s=(0,o.Ye)(()=>Fa(n,i),[n,i]);return(0,e.h)(Pa.Provider,{value:s},r)}function ns(){return useContext(Pa)}const Is=n=>{const t=forwardRef((r,i)=>{const s=ns();return h(n,Vi(Gr(Gr({},s),r),{ref:i}))});return t.displayName=`withExperimentsAndSiteConfigContext(${n.displayName||n.name||"Anonymous"})`,t};var Bi=wt(44396),Ki=wt(19826),go=wt(87021);const pa=(0,go.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),rs=(0,go.Z)("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]),Da=(0,go.Z)("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);var is=Object.defineProperty,Ds=Object.defineProperties,Ms=Object.getOwnPropertyDescriptors,as=Object.getOwnPropertySymbols,xs=Object.prototype.hasOwnProperty,ud=Object.prototype.propertyIsEnumerable,bu=(n,t,r)=>t in n?is(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,cd=(n,t)=>{for(var r in t||(t={}))xs.call(t,r)&&bu(n,r,t[r]);if(as)for(var r of as(t))ud.call(t,r)&&bu(n,r,t[r]);return n},dd=(n,t)=>Ds(n,Ms(t));const Fn=n=>(0,e.h)(x.l,dd(cd({},n),{name:"LucideTabActivity",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M13.73 21C13.5542 21.3031 13.3018 21.5547 12.9982 21.7295C12.6946 21.9044 12.3504 21.9965 12 21.9965C11.6496 21.9965 11.3054 21.9044 11.0018 21.7295C10.6982 21.5547 10.4458 21.3031 10.27 21M18 8C18 6.4087 17.3679 4.88258 16.2426 3.75736C15.1174 2.63214 13.5913 2 12 2C10.4087 2 8.88258 2.63214 7.75736 3.75736C6.63214 4.88258 6 6.4087 6 8C6 15 3 17 3 17H21C21 17 18 15 18 8Z","stroke-linecap":"round","stroke-linejoin":"round"}));var jr=Object.defineProperty,Jr=Object.defineProperties,Mo=Object.getOwnPropertyDescriptors,wo=Object.getOwnPropertySymbols,Oi=Object.prototype.hasOwnProperty,$i=Object.prototype.propertyIsEnumerable,Ma=(n,t,r)=>t in n?jr(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Pu=(n,t)=>{for(var r in t||(t={}))Oi.call(t,r)&&Ma(n,r,t[r]);if(wo)for(var r of wo(t))$i.call(t,r)&&Ma(n,r,t[r]);return n},xa=(n,t)=>Jr(n,Mo(t));const As=n=>(0,e.h)(x.l,xa(Pu({},n),{name:"LucideTabChat",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M3 3H17C18.1046 3 19 3.89543 19 5V9.75008H11C9.89543 9.75008 9 10.6455 9 11.7501V16.7501C9 16.8314 9.00486 16.9117 9.0143 16.9905L4.65547 19.8964C4.58901 19.9407 4.5 19.893 4.5 19.8131V15H3C1.89543 15 1 14.1046 1 13V5C1 3.89543 1.89543 3 3 3Z"}),(0,e.h)("path",{d:"M11 9.75L20.5 9.75C21.6046 9.75 22.5 10.6454 22.5 11.75V16.75C22.5 17.8546 21.6046 18.75 20.5 18.75H20V22.3108C20 22.3911 19.91 22.4387 19.8437 22.3934L14.5 18.75L11 18.75C9.89543 18.75 9 17.8546 9 16.75L9 11.75C9 10.6454 9.89543 9.75 11 9.75Z"}));var ja=Object.defineProperty,fd=Object.defineProperties,al=Object.getOwnPropertyDescriptors,ss=Object.getOwnPropertySymbols,IE=Object.prototype.hasOwnProperty,DE=Object.prototype.propertyIsEnumerable,zh=(n,t,r)=>t in n?ja(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ME=(n,t)=>{for(var r in t||(t={}))IE.call(t,r)&&zh(n,r,t[r]);if(ss)for(var r of ss(t))DE.call(t,r)&&zh(n,r,t[r]);return n},xE=(n,t)=>fd(n,al(t));const AE=n=>(0,e.h)(x.l,xE(ME({},n),{name:"LucideTabBrowse",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M16.2398 7.75977L14.1198 14.1198L7.75977 16.2398L9.87977 9.87977L16.2398 7.75977Z","stroke-linecap":"round","stroke-linejoin":"round"}));var NE=Object.defineProperty,RE=Object.defineProperties,LE=Object.getOwnPropertyDescriptors,Gh=Object.getOwnPropertySymbols,kE=Object.prototype.hasOwnProperty,BE=Object.prototype.propertyIsEnumerable,Zh=(n,t,r)=>t in n?NE(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,UE=(n,t)=>{for(var r in t||(t={}))kE.call(t,r)&&Zh(n,r,t[r]);if(Gh)for(var r of Gh(t))BE.call(t,r)&&Zh(n,r,t[r]);return n},FE=(n,t)=>RE(n,LE(t));const jE=n=>(0,e.h)(x.l,FE(UE({},n),{name:"LucideTabInbox",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M22 12L16 12L14 15L10 15L8 12L2 12","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M5.45 5.11L2.10583 11.7886C2.03624 11.9276 2 12.0809 2 12.2364L2 18C2 18.5304 2.21071 19.0391 2.58579 19.4142C2.96086 19.7893 3.46957 20 4 20L20 20C20.5304 20 21.0391 19.7893 21.4142 19.4142C21.7893 19.0391 22 18.5304 22 18V12.2364C22 12.0809 21.9638 11.9276 21.8942 11.7886L18.55 5.11C18.3844 4.77679 18.1292 4.49637 17.813 4.30028C17.4967 4.10419 17.1321 4.0002 16.76 4L7.24 4C6.86792 4.0002 6.50326 4.10419 6.18705 4.30028C5.87083 4.49637 5.61558 4.77679 5.45 5.11Z","stroke-linecap":"round","stroke-linejoin":"round"}));var WE=Object.defineProperty,HE=Object.defineProperties,VE=Object.getOwnPropertyDescriptors,Yh=Object.getOwnPropertySymbols,KE=Object.prototype.hasOwnProperty,$E=Object.prototype.propertyIsEnumerable,Jh=(n,t,r)=>t in n?WE(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,zE=(n,t)=>{for(var r in t||(t={}))KE.call(t,r)&&Jh(n,r,t[r]);if(Yh)for(var r of Yh(t))$E.call(t,r)&&Jh(n,r,t[r]);return n},GE=(n,t)=>HE(n,VE(t));const ZE=n=>(0,e.h)(x.l,GE(zE({},n),{name:"LucideTabNotes",svgParams:{height:24,width:24,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M9.82746 10.2663H17.2941M10.2039 14.533H14.4706M6 19.1L2.42832 18.1872C1.53922 17.949 1.0116 17.0351 1.24983 16.146L4.52816 3.91113C4.76639 3.02202 5.68029 2.49438 6.5694 2.73262L19 6M6.00001 7.66666V20.3331C6.00001 21.2536 6.74619 21.9998 7.66665 21.9998L20.3333 22C21.2538 22 22 21.2538 22 20.3333V7.66666C22 6.74619 21.2538 5.99999 20.3333 5.99999H7.66667C6.7462 5.99999 6.00001 6.74619 6.00001 7.66666Z","stroke-linecap":"round","stroke-linejoin":"round"})),Xh=(0,e.createContext)(!1);var wu=wt(85065);function YE(n,t){if(n){if(!n.has_publication&&!n.subdomain)return{type:"no-dashboard",url:(0,v.getStartPublishingUrl)(t)};if(n.subdomain)return{type:"dashboard",url:(0,v.getDashboardUrlForSubdomain)(n.subdomain,{params:t})}}return null}function JE(n,t){return n!=null&&n.profile_set_up_at?(0,v.getReaderProfileUrl)(n,t):(0,v.getProfileSetupUrl)(t!=null&&t.utm_source?{utm_source:t.utm_source}:void 0)}var Vt=wt(13045),Qh=wt(47585);const hd={badge:"frontend-components-NavBadge-module__badge--afZUN",dotContainer:"frontend-components-NavBadge-module__dotContainer--_daQd",dot:"frontend-components-NavBadge-module__dot--CFI7y",responsive:"frontend-components-NavBadge-module__responsive--DecFZ",binary:"frontend-components-NavBadge-module__binary--nccbG"};function XE({className:n,responsive:t,count:r}){return(0,e.h)(me.hs,{alignItems:"center",justifyContent:"center",radius:12,className:u()(hd.badge,t&&hd.responsive,!r&&hd.binary,n)},r&&(0,e.h)(J.xv.Digit,{color:"bg-light"},r<100?r:"99+"))}var Cu=wt(74285);const ea="user-menu",QE=`https://support.substack.com/hc/en-us/?utm_source=${ea}`,Ou=40;function qE({className:n,user:t,pub:r,enableCustomerServiceMode:i,disableCustomerServiceMode:s,freeSignup:M,fixedTooltip:k,showBadge:j=!0}){const[U,q]=(0,Ki.EJ)(),{activityUnreadCount:Pe}=(0,wu.lR)(),Me=(0,o.qp)(Xh);let xe="",Ve="";t&&(xe=t!=null&&t.profile_set_up_at&&t.name?t.name:t.email,Ve=t!=null&&t.profile_set_up_at?t.name?t.email:null:"Set up your profile");const qe=({active:Lt})=>{(0,D.j)(Lt?D.FP.USER_MENU_OPENED:D.FP.USER_MENU_DISMISSED)},Ge=t?YE(t,{utm_source:ea}):null,ut=r&&(M||t&&(t.is_subscribed||t.is_free_subscribed)),bt=JE(t,{utm_source:ea}),Pt=!1,At=(0,Bi.XA)()&&!Me;return(0,e.h)(e.Fragment,null,t?(0,e.h)(Je.Z,{className:u()(n,"user-indicator small-no-margin no-active-fade signed-in reader2-tappable-bg",{"force-desktop":Me}),onClick:q},At&&j&&Pe>0&&(0,e.h)(Qh.in,{className:u()("user-indicator-badge",Pe<10&&"user-indicator-badge-circle")},(0,e.h)(Vt.hs,{alignItems:"center",justifyContent:"center"},Pe<100?Pe:"99+")),(0,e.h)(pa,{className:u()("user-indicator-icon",{"force-desktop":Me}),size:20,strokeWidth:2}),(0,e.h)("img",{className:u()("menu-trigger-image",{"force-desktop":Me}),src:(0,v.imginary)((0,v.getUserPhotoUrl)(t),2*Ou,{height:2*Ou,crop:"fill"})}),(0,e.h)(Cu.h,null,(0,e.h)("div",{className:"user-indicator-dropdown-menu"},(0,e.h)(Ki.ZP,{className:u()({"fixed-tooltip":k}),ref:U,useDrawerOnMobile:!0,noTail:!0,noPlace:!0,preventScrollBehindDrawer:!0,backdropDismiss:!0,onToggle:qe},(0,e.h)("div",{className:"menu-scroll-container"},(0,e.h)("a",{href:bt,className:"profile-header",onClick:()=>(0,D.j)(D.FP.USER_MENU_PROFILE_CLICKED)},(0,e.h)("img",{className:"header-user-image",src:(0,v.imginary)((0,v.getUserPhotoUrl)(t),2*Ou,{height:2*Ou,crop:"fill"})}),(0,e.h)("div",{className:"labels"},(0,e.h)("div",{className:"h1"},xe),Ve&&(0,e.h)("div",{className:"h2"},Ve))),(0,e.h)("hr",null),t&&(0,e.h)(e.Fragment,null,(0,e.h)(zi,{url:(0,v.getBaseReaderUrl)({utm_source:ea}),analyticsEvent:D.FP.USER_MENU_READER_CLICKED},(0,e.h)(Ns,{Icon:jE})," Inbox"),(0,e.h)(zi,{url:(0,v.getFeedUrl)({utm_source:ea}),analyticsEvent:D.FP.USER_MENU_FEED_CLICKED},(0,e.h)(Ns,{Icon:ZE})," Notes"),(0,e.h)(zi,{url:(0,v.getDiscoverCategoryUrl)(),analyticsEvent:D.FP.USER_MENU_DISCOVER_CLICKED},(0,e.h)(Ns,{Icon:AE})," Explore"),(0,e.h)(zi,{url:(0,v.getChatUrl)(),analyticsEvent:D.FP.USER_MENU_CHAT_CLICKED},(0,e.h)(Ns,{Icon:As})," Chat"),(0,e.h)(zi,{url:(0,v.getNotificationsUrl)({utm_source:ea}),analyticsEvent:D.FP.USER_MENU_ACTIVITY_CLICKED},(0,e.h)(Ns,{Icon:Fn})," Activity",Pe>0?(0,e.h)(XE,{className:"indicator-badge",count:Pe}):null),(0,e.h)(zi,{url:Ge.url},(0,e.h)(Ns,{Icon:Ge.type==="no-dashboard"?rs:Da,className:"start-writing-icon"})," ",Ge.type==="no-dashboard"?"Start writing":"Writer dashboard")),(0,e.h)("hr",null),ut&&(0,e.h)(zi,{className:"secondary-item",url:(0,v.pathWithQuery)("/account",{utm_source:ea}),analyticsEvent:D.FP.USER_MENU_MANAGE_SUBSCRIPTION_CLICKED},"Manage subscription"),(0,e.h)(zi,{className:"secondary-item",url:(0,v.getGlobalAccountSettingsUrl)({utm_source:ea}),analyticsEvent:D.FP.USER_MENU_ACCOUNT_SETTINGS_CLICKED},"Settings"),(0,e.h)(zi,{className:"secondary-item",url:QE},"Support"),(0,e.h)(zi,{className:"secondary-item",url:(0,v.getSignoutUrl)({utm_source:ea,for_pub:r==null?void 0:r.subdomain})},"Sign out"),i&&(0,e.h)(zi,{className:"secondary-item",onClick:()=>{var Lt;(Lt=U.current)==null||Lt.close(),i()}},"Enter support mode"),s&&(0,e.h)(zi,{className:"secondary-item",onClick:s},"Exit support mode"),r&&(t==null?void 0:t.is_global_admin)&&(0,e.h)(zi,{className:"secondary-item",url:`${(0,v.getBaseUrl)({subdomain:"admin"})}/publications/${r.id}`},"Open in underground"),!(t!=null&&t.reader_installed_at)&&(0,e.h)(e.Fragment,null,(0,e.h)("hr",null),(0,e.h)(zi,{className:"special-item",url:(0,v.getAppMarketingUrl)({utm_campaign:"app-marketing",utm_content:"user-menu-link"})},"Get the app ",(0,e.h)(ue.Z,{className:"item-badge branded",color:A.substack_color}))),(0,e.h)("hr",null),(0,e.h)("div",{className:"terms-footer"},(0,e.h)("a",{href:(0,v.getHomeUrl)({utm_source:ea})},"About"),(0,e.h)("a",{href:(0,v.getPrivacyUrl)({pub:r,utm_source:ea})},"Privacy"),(0,e.h)("a",{href:(0,v.getTermsUrl)({utm_source:ea})},"Terms"),(0,e.h)("a",{href:(0,v.getInfoCollectionUrl)({utm_source:ea})},"Collection notice"))))))):(0,e.h)(Je.Z,{href:(0,v.getSigninUrl)({for_pub:r==null?void 0:r.subdomain}),native:"true",className:u()("sign-in-link outline-grayscale",{"rounded-btn":Pt,"force-desktop":Me})},"Sign in"))}function zi({className:n,url:t,analyticsEvent:r,onClick:i,children:s}){return(0,e.h)("a",{className:`indicator-menu-item ${n}`,onClick:M=>{r&&(0,D.j)(r),i&&i(M)},href:t,native:!0},s)}const e2=20;function Ns({Icon:n,className:t}){return(0,e.h)(n,{className:u()(t,"indicator-item-icon"),height:e2,stroke:"var(--color-primary)",strokeWidth:2})}var t2=Object.defineProperty,n2=Object.defineProperties,r2=Object.getOwnPropertyDescriptors,Su=Object.getOwnPropertySymbols,qh=Object.prototype.hasOwnProperty,ep=Object.prototype.propertyIsEnumerable,tp=(n,t,r)=>t in n?t2(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,np=(n,t)=>{for(var r in t||(t={}))qh.call(t,r)&&tp(n,r,t[r]);if(Su)for(var r of Su(t))ep.call(t,r)&&tp(n,r,t[r]);return n},o2=(n,t)=>n2(n,r2(t)),i2=(n,t)=>{var r={};for(var i in n)qh.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Su)for(var i of Su(n))t.indexOf(i)<0&&ep.call(n,i)&&(r[i]=n[i]);return r};const Tu=(0,e.createContext)({country:"US"});Tu.displayName="LocaleContext";function a2(){return useContext(Tu)}function s2(n){var t=n,{children:r}=t,i=i2(t,["children"]);const s=(0,o.Ye)(()=>i,Object.values(i));return(0,e.h)(Tu.Provider,{value:s},r)}function QH(n){const t=forwardRef((r,i)=>{const s=a2();return h(n,o2(np(np({},s),r),{ref:i}))});return t.displayName=`withLocaleContext(${n.displayName||n.name||"Anonymous"})`,t}const l2=(0,go.Z)("Bell",[["path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9",key:"oql5b8"}],["path",{d:"M13.73 21a2 2 0 0 1-3.46 0",key:"6o5tke"}]]);var Do=wt(76235),sl=wt(11688),u2=wt(5285),c2=wt(27484),Rs=wt.n(c2),ls=wt(67963);const us={alert:"frontend-reader2-NotificationsAlert-module__alert--pio6x",close:"frontend-reader2-NotificationsAlert-module__close--ca0Tb",transition:"frontend-reader2-NotificationsAlert-module__transition--YdW2_",enterFrom:"frontend-reader2-NotificationsAlert-module__enterFrom--xNnVz",enterTo:"frontend-reader2-NotificationsAlert-module__enterTo--teWcO",leaveFrom:"frontend-reader2-NotificationsAlert-module__leaveFrom--U2sE5",leaveTo:"frontend-reader2-NotificationsAlert-module__leaveTo--l0D4x"},d2=n=>{const t=["comment_audience","comment_id","community_comment_id","created_at","id","mention_id","publication_id","sender_count","target_comment_id","target_community_comment_id","target_community_post_id","target_post_id","target_user_id","type"];(0,D.j)(D.FP.NOTIFICATIONS_ALERT_SHOWN,t.reduce((r,i)=>(r[i]=n==null?void 0:n[i],r),{}))};function f2(){var n;const{activityUnreadCount:t}=(0,wu.lR)(),{exposeExperiment:r,getExperimentVariant:i}=(0,ct.jc)(),{isLoading:s,result:M,refetch:k}=(0,so.ib)({pathname:"/api/v1/activity-feed-web",query:{limit:1},auto:!1});(0,o.d4)(()=>{t>0&&k()},[t]);const[j,U]=(0,o.eJ)(!1),[q,Pe]=(0,o.eJ)(!1),{isLoading:Me,fetch:xe,result:Ve}=(0,sl.Oe)({module:"./MiniNotificationsViewer",onRequest:()=>Promise.all([wt.e(936),wt.e(525)]).then(wt.bind(wt,23525)),fetchImmediately:!1}),qe=Rs()(),{userSettings:Ge,changeSetting:ut}=(0,ls.SE)(),bt=(n=M==null?void 0:M.activityItems)==null?void 0:n[0],Pt=bt!=null&&bt.created_at?Rs()(bt==null?void 0:bt.created_at):qe.subtract(100,"year"),At=Ge!=null&&Ge.last_notification_alert_shown_at?Rs()(Ge.last_notification_alert_shown_at):qe.subtract(100,"year"),Lt=qe.diff(Pt,"day")<7&&Pt.diff(At,"hour")>2,Dt=(0,o.sO)(null),Ht=2e3,on=6e3,hn=()=>{Dt.current&&window.clearTimeout(Dt.current)},an=()=>{hn(),Dt.current=window.setTimeout(()=>{U(!1)},on)};return(0,o.d4)(()=>{Lt&&t>0&&(r("notification_alert_improved"),i("notification_alert_improved")==="treatment"&&(Ve&&!j?window.setTimeout(()=>{U(!0),ut("last_notification_alert_shown_at",Rs()().toISOString()),d2(bt),an()},Ht):!Ve&&!Me&&xe()))},[s,M,t,Me,Lt,j,U]),(0,e.h)(e.Fragment,null,(j||q)&&(0,e.h)(u2.u,{style:{position:"fixed",left:"auto",right:20,top:92,zIndex:100},appear:!0,show:j,beforeEnter:()=>Pe(!0),afterLeave:()=>Pe(!1),enter:us.transition,enterFrom:us.enterFrom,enterTo:us.enterTo,leave:us.transition,leaveFrom:us.leaveFrom,leaveTo:us.leaveTo},(0,e.h)(me.hs,{radius:12,border:"detail",className:us.alert,onMouseEnter:hn,onMouseLeave:an,shadow:"lg",bg:"elevated"},(0,e.h)(sl.cr,{module:"./MiniNotificationsViewer",resolve:mn=>mn.MiniNotificationsStack,onRequest:()=>Promise.all([wt.e(936),wt.e(525)]).then(wt.bind(wt,23525)),result:M,isReadOnly:!0}))))}var pd=wt(95042);function h2({fill:n="outline",canShowAlerts:t=!1}){const r=(0,wu.lR)(),i=(0,Ur.xR)(),s=(0,so.ib)({pathname:"/api/v1/activity-feed-web",query:{limit:12},auto:!1});return(0,o.d4)(()=>{r.activityUnreadCount>0&&(0,D.j)(D.FP.NOTIFICATIONS_UNREAD_SHOWN,{unreadCount:r.activityUnreadCount})},[r.activityUnreadCount]),(0,e.h)(e.Fragment,null,(0,e.h)(Do.v2,{trigger:(0,e.h)(zr.hU,{className:pd.Z.trigger,"aria-label":"View activity",size:40,fill:n,priority:"secondary",onMouseEnter:()=>Promise.all([wt.e(936),wt.e(525)]).then(wt.bind(wt,23525))},(0,e.h)(l2,{"aria-hidden":!0,size:20,strokeWidth:2}),r.activityUnreadCount>0&&(0,e.h)(Qh.in,{className:u()(pd.Z.badge,r.activityUnreadCount<10&&pd.Z.circle)},(0,e.h)(me.hs,{alignItems:"center",justifyContent:"center"},r.activityUnreadCount<100?r.activityUnreadCount:"99+"))),onOpen:()=>s.refetch(),maxHeight:"fit-content",padding:0},(0,e.h)(sl.cr,{module:"./activity/MiniNotificationsViewer",resolve:M=>M.MiniNotificationsViewer,onRequest:()=>Promise.all([wt.e(936),wt.e(525)]).then(wt.bind(wt,23525)),resource:s,whileLoading:(0,e.h)(me.hs,{style:{width:400}})})),t&&i.getConfigFor("show_first_notification_enabled")&&(0,e.h)(f2,null))}var p2=wt(91041),ti=wt(75425);const rp={menuIcon:"frontend-components-NavbarUserWidget-module__menuIcon--pfoYD"},op=(0,go.Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}]]);var m2=wt(89581),Wa=wt(33510),md=wt(63295),_d=wt(12650),zo=wt(56838);const Si={searchWrapper:"frontend-components-SearchDropdown-module__searchWrapper--jiwxN",marginLeft:"frontend-components-SearchDropdown-module__marginLeft--LiyjJ",marginRight:"frontend-components-SearchDropdown-module__marginRight--Tlx3l",active:"frontend-components-SearchDropdown-module__active--hNTQl",trigger:"frontend-components-SearchDropdown-module__trigger--wXpGv",searcher:"frontend-components-SearchDropdown-module__searcher--bDFD3",dropdown:"frontend-components-SearchDropdown-module__dropdown--tuM0W",result:"frontend-components-SearchDropdown-module__result--V2s6P",loading:"frontend-components-SearchDropdown-module__loading--gQSd8",empty:"frontend-components-SearchDropdown-module__empty--TO__M",more:"frontend-components-SearchDropdown-module__more--d1sdD",seeMore:"frontend-components-SearchDropdown-module__seeMore--MOD9q",photo:"frontend-components-SearchDropdown-module__photo--uWFMi",metadata:"frontend-components-SearchDropdown-module__metadata--HrJ45",paddingRight:"frontend-components-SearchDropdown-module__paddingRight--TfT7R"};var _2=Object.defineProperty,g2=Object.defineProperties,v2=Object.getOwnPropertyDescriptors,ip=Object.getOwnPropertySymbols,y2=Object.prototype.hasOwnProperty,b2=Object.prototype.propertyIsEnumerable,ap=(n,t,r)=>t in n?_2(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,sp=(n,t)=>{for(var r in t||(t={}))y2.call(t,r)&&ap(n,r,t[r]);if(ip)for(var r of ip(t))b2.call(t,r)&&ap(n,r,t[r]);return n},lp=(n,t)=>g2(n,v2(t));const up=({pub:n,isSignedIn:t})=>{var r;const[i,s]=(0,o.eJ)(!1),[M,k]=(0,o.eJ)(""),{getConfigFor:j}=(0,Ur.xR)(),U=!!((r=j("platform_searcher_enabled"))!=null&&r),{result:q,refetch:Pe,error:Me,isLoading:xe,hasLoadedOnce:Ve}=(0,so.ib)({pathname:"/api/v1/post/search",query:{query:M,focusedPublicationId:n.id,page:0,numberFocused:3,numberPlatform:2,includePlatformResults:String(U)},deps:[M],auto:!1}),qe=(U?q==null?void 0:q.focused:q==null?void 0:q.results)||[],Ge=U?(q==null?void 0:q.results)||[]:[],ut=(q==null?void 0:q.publications)||[],{triggerProps:bt,layerProps:Pt,renderLayer:At,isOpen:Lt,setOpen:Dt}=(0,m2.x)({layerOptions:{auto:!0,possiblePlacements:["bottom-start","bottom-end","bottom-center"],placement:"bottom-start"}});(0,o.d4)(()=>{if(M.length){Dt(!0);const hn=setTimeout(Pe,300);return()=>clearTimeout(hn)}Dt(!1)},[M,Dt]);const Ht=(0,o.sO)(null),on=(0,o.I4)(hn=>{if(hn.key==="Enter"){if(!Lt||!M||!i)return;window.location.href=(0,v.getDiscoverSearchUrl)({query:M,params:{focusedPublicationId:n.id}})}else if(hn.key==="Escape"){if(!i)return;k(""),s(!1),Dt(!1)}},[i,Lt,M]);return(0,e.h)(e.Fragment,null,(0,e.h)(me.gq,lp(sp({},bt),{className:u()(Si.searchWrapper,i&&Si.active,t?Si.marginLeft:Si.marginRight),style:{width:i?"400px":"40px"},paddingLeft:i?16:0,alignItems:"center",justifyContent:i?"space-between":"center",onClick:i?void 0:()=>{s(!i),i||(setTimeout(()=>{var hn;(hn=Ht.current)==null||hn.focus()},10),k(""))},gap:4}),(0,e.h)(op,{className:Si.trigger,"area-hidden":!0,size:20,strokeWidth:2}),i&&(0,e.h)("input",{ref:Ht,className:u()(Si.searcher),placeholder:"Search...",value:M,onChange:hn=>{k(hn.target.value)},onKeyDown:on})),Lt&&At((0,e.h)(me.tu,lp(sp({},Pt),{radius:12,className:Si.dropdown,border:"detail-themed"}),!Ve||xe&&!qe.length&&!Ge.length?(0,e.h)(me.gq,{radius:12,paddingY:20,className:Si.loading,justifyContent:"center"},(0,e.h)(Wa.Sv,{size:40})):Me?(0,e.h)(me.gq,{radius:12,className:Si.error,justifyContent:"start"},(0,e.h)(J.xv.B3,{color:"pub-primary-text"},"Something went wrong.")):!qe.length&&!Ge.length?(0,e.h)(me.gq,{radius:12,padding:20,className:Si.empty,justifyContent:"start"},(0,e.h)(J.xv.B3,{color:"pub-primary-text"},"Search for ",(0,e.h)("b",null,'"',M,'"'))):(0,e.h)(e.Fragment,null,qe.map((hn,an)=>(0,e.h)(cp,{key:hn.id,pub:n,post:hn,isFirst:an===0,isLast:!Ge.length&&an===qe.length-1,hideBottomBorder:Ge.length>0})),Ge.length>0&&(0,e.h)(me.gq,{className:Si.more,paddingX:24,paddingY:8},(0,e.h)(J.xv.B4,{weight:"semibold",color:"pub-primary-text"},qe.length?"More results from across Substack":`No results found on ${n.name}. More results from across Substack`)),Ge.map((hn,an)=>{const mn=ut.find(rr=>rr.id===hn.publication_id);return mn?(0,e.h)(cp,{key:hn.id,pub:mn,post:hn,isLast:an===Ge.length-1,includePublication:!0}):null}),(0,e.h)(me.gq,{className:Si.seeMore,paddingX:24,paddingY:12,onClick:()=>{window.location.href=(0,v.getDiscoverSearchUrl)({query:M,params:{focusedPublicationId:n.id}})}},(0,e.h)(J.xv.B4,{color:"pub-primary-text",weight:"semibold"},"See more results..."))))))},cp=({pub:n,post:t,includePublication:r=!1,hideBottomBorder:i=!1,isLast:s=!1,isFirst:M=!1})=>{var k;const j=(k=t.reactions["\u2764"])!=null?k:0;return(0,e.h)(me.gq,{paddingX:12,onClick:()=>{window.location.href=(0,v.getPostUrl)(n,t)},width:"100%"},(0,e.h)(me.tu,{marginHeight:4,paddingTop:M?12:8,paddingBottom:s?12:8,borderBottom:i?void 0:"detail-themed"},(0,e.h)(me.gq,{className:Si.result,gap:16,padding:12,radius:12},t.cover_image&&(0,e.h)("img",{src:(0,v.imginary)(t.cover_image,120,{height:80,smartCrop:!0}),alt:t.cover_image_alt||"",className:Si.photo}),(0,e.h)(me.tu,{gap:4,className:Si.metadata},r&&(0,e.h)(J.xv.Meta,null,n.name),(0,e.h)(J.xv.H4,{color:"pub-primary-text"},t.title),!!t.subtitle&&(0,e.h)(J.xv.B4,{color:"pub-primary-text"},t.subtitle),(0,e.h)(me.gq,{alignItems:"center",gap:4},(0,e.h)(J.xv.Meta,{color:"pub-secondary-text",className:u()(Si.paddingRight,"ufi-preamble-label","post-date")},(0,e.h)("time",{dateTime:Tr()(t.post_date).toISOString()},(0,zo.fh)({post:t,showDatetime:!1}))),j>0&&(0,e.h)(e.Fragment,null,(0,e.h)(_d.Z,{stroke:"var(--color-light-secondary-themed)",fill:"transparent",height:16}),(0,e.h)(J.xv.Meta,{color:"pub-secondary-text",className:Si.paddingRight},j)),t.comment_count>0&&(0,e.h)(e.Fragment,null,(0,e.h)(md.Z,{stroke:"var(--color-light-secondary-themed)",fill:"transparent",height:16}),(0,e.h)(J.xv.Meta,{color:"pub-secondary-text"},t.comment_count)))))))};var Iu=wt(96098);const P2={pubAccentTheme:"frontend-components-PubAccentTheme-module__pubAccentTheme--MukJ3"};function E2({children:n}){return(0,e.h)("div",{className:P2.pubAccentTheme},n)}const dp=(0,go.Z)("Plus",[["line",{x1:"12",x2:"12",y1:"5",y2:"19",key:"pwfkuu"}],["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}]]);var w2=Object.defineProperty,C2=Object.defineProperties,O2=Object.getOwnPropertyDescriptors,Du=Object.getOwnPropertySymbols,fp=Object.prototype.hasOwnProperty,hp=Object.prototype.propertyIsEnumerable,pp=(n,t,r)=>t in n?w2(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,mp=(n,t)=>{for(var r in t||(t={}))fp.call(t,r)&&pp(n,r,t[r]);if(Du)for(var r of Du(t))hp.call(t,r)&&pp(n,r,t[r]);return n},_p=(n,t)=>C2(n,O2(t)),S2=(n,t)=>{var r={};for(var i in n)fp.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Du)for(var i of Du(n))t.indexOf(i)<0&&hp.call(n,i)&&(r[i]=n[i]);return r},Mu=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const Ha=wt(6378),T2=({className:n,baseRef:t,user:r,freeSignup:i,freeSignupEmail:s,pub:M,hide_subscribe_cta:k,showCustomerSupportModeModal:j,hideCta:U,hideNotifications:q,hideUserIndicator:Pe,hideSearch:Me,isPublishContext:xe,isMeetingsActive:Ve,fixedTooltip:qe=!0})=>{const Ge=(0,o.sO)(null),{getSettingFor:ut}=(0,Se.So)(),[bt,Pt]=(0,o.eJ)(!1),[At,Lt]=(0,o.eJ)(!1),Dt=(0,ti.pm)(),Ht=(r==null?void 0:r.is_global_admin)&&!(r!=null&&r.is_admin),on=(r==null?void 0:r.is_global_admin)&&(r==null?void 0:r.is_admin)&&!(r!=null&&r.is_author),hn=(0,ct.jc)(),an=(0,o.I4)(()=>Mu(void 0,null,function*(){try{yield ge().del("/api/v1/customer_support_mode"),document.location.href="/"}catch(Vn){alert((0,y.getNetworkErrorMessage)(Vn))}}),[]),mn=()=>Mu(void 0,null,function*(){Pt(!0);try{yield ge().post("/api/v1/subscription/reactivate").send({}),Lt(!0),Dt.popToast(Vn=>(0,e.h)(ti.FN,_p(mp({},Vn),{text:"Your subscription has been renewed!"})))}catch(Vn){console.error("Failed to set to renew:",Vn),alert((0,y.getNetworkErrorMessage)(Vn))}finally{Pt(!1)}}),rr=(0,o.I4)(()=>Mu(void 0,null,function*(){var Vn;(Vn=Ge.current)==null||Vn.open()}),[Ge]),Gn=xe?E2:Iu.h;return(0,e.h)("div",{className:u()("navbar-buttons",n),ref:t},(0,e.h)(Gn,null,(0,e.h)(Ur.QA.Consumer,null,Vn=>(0,e.h)(Tu.Consumer,null,_n=>(0,e.h)(e.Fragment,null,!Me&&!(0,y.isMobileBrowser)()&&!r&&(0,e.h)(up,{pub:M,isSignedIn:!1}),!U&&D2({pub:M,user:r,freeSignup:i,freeSignupEmail:s,hide_subscribe_cta:k,viralGiftsConfig:M.viralGiftsConfig,isPublishContext:xe,localeContext:_n,siteConfigContext:Vn,isMeetingsActive:Ve,getSettingFor:ut,renewing:bt,renewed:At,setToRenew:mn,experiments:hn}),!Me&&!(0,y.isMobileBrowser)()&&r&&(0,e.h)(up,{pub:M,isSignedIn:!0}),!q&&r&&!(0,y.isMobileBrowser)()&&(0,e.h)(h2,{fill:"borderless",canShowAlerts:!M||xe}),!Pe&&(0,e.h)(qE,{pub:M,user:r,enableCustomerServiceMode:Ht?rr:null,disableCustomerServiceMode:on?an:null,fixedTooltip:qe}))))),Ht&&(0,e.h)(Cu.h,null,(0,e.h)(Jn.p,{className:"account-info-customer-support-mode-modal",ref:Ge,openByDefault:j&&Ht},(0,e.h)(Ko,{redirect:(0,v.getQueryItem)("redirect")||"/publish/home",onCancel:Vn=>{var _n;return(_n=Ge.current)==null?void 0:_n.close(Vn)}}))))},I2=({pub:n,dashboardPubs:t})=>{const r=(0,Bi.XA)(),{getConfigFor:i}=(0,Ur.xR)();return(0,e.h)(p2.a,{priority:"primary",fill:"outline",size:r?"small":"medium",menuItems:t.map(({logo_url:s,name:M,subdomain:k})=>(0,e.h)(Do.sN,{className:rp.menuItem,href:(0,v.getDashboardUrlForSubdomain)(k,{params:{utm_source:"substack",utm_context:"dashboard_pub_switcher"}}),icon:(0,e.h)("img",{className:rp.menuIcon,width:20,src:(0,v.imginary)(s||"/img/substack-nomargin.png",20)}),priority:n.subdomain===k?"selected":"primary"},M)),href:(0,le.getDashboardHomeUrl)(n,{addBase:!0}),localNavigation:!1,"data-testid":"menu-dashboard-button",additionalMenuProps:{useMobileBottomSheet:!0,mobileBottomSheetTitle:"Dashboard",mobileBottomSheetSubtitle:"Select a publication"}},"Dashboard")},gp=({dashboardPubs:n,pub:t})=>n.length>1?(0,e.h)(I2,{pub:t,dashboardPubs:n}):(0,e.h)(aa,{className:"outline",href:(0,le.getDashboardHomeUrl)(t,{addBase:!0}),"data-testid":"menu-dashboard-button"},"Dashboard");function D2({user:n,pub:t,freeSignup:r,freeSignupEmail:i,hide_subscribe_cta:s,isPublishContext:M,isMeetingsActive:k,siteConfigContext:j,getSettingFor:U,renewing:q,renewed:Pe,setToRenew:Me,experiments:xe}){var Ve,qe,Ge,ut,bt,Pt,At,Lt,Dt,Ht;t.invite_only&&!(n!=null&&n.subscription_id||n!=null&&n.is_free_subscribed)&&(s=!0);const on=n==null?void 0:n.is_contributor,hn=(n==null?void 0:n.is_subscribed)||on,an=(n==null?void 0:n.is_free_subscribed)||r,{getExperimentVariant:mn,exposeExperiment:rr}=xe,Gn=Ha.paymentsAreEnabled(t)&&hn&&["gift","comp"].includes(n.subscription_type)&&Tr()(n.subscription_expiry).subtract(30,"days").isBeforeNow(),Vn=Ha.paymentsAreEnabled(t)&&Ha.userIsFreeOnly(n)&&n.comp_expired_recently,_n=(n==null?void 0:n.is_free_subscribed)&&(n==null?void 0:n.is_paused),jn=((Ve=n==null?void 0:n.dashboard_pubs)==null?void 0:Ve.length)===1;if(on){const _r=(n==null?void 0:n.dashboard_pubs)||[];return M&&_r.length===1?[]:!t.has_posts&&!(0,y.isMobileBrowser)()?[(0,e.h)(aa,{className:"primary fill new-post-btn",onClick:()=>{(0,D.j)(D.FP.NAV_BAR_CTA_CLICKED,{type:"new-post"}),(0,y.redirect)((0,v.getCreatePostUrl)(t,{type:"newsletter"}),{local_navigation:!1})}},"New post"),(0,e.h)(gp,{dashboardPubs:_r,pub:t,useNewDashLink:jn})]:(0,e.h)(gp,{dashboardPubs:_r,pub:t,useNewDashLink:jn})}else{if(_n)return(0,e.h)(aa,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,D.j)(D.FP.NAV_BAR_CTA_CLICKED,{type:"unpause-subscription"}),(0,y.redirect)((0,v.getCancelOrUncancelUrl)(t,{addBase:!0}),{local_navigation:!1})}},"Unpause My Subscription");if(Gn||Vn){if(!s)return(0,e.h)(aa,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,D.j)(D.FP.NAV_BAR_CTA_CLICKED,{type:"continue-support"}),(0,y.redirect)((0,v.getSubscribeUrl)(t,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:(0,v.getQueryItem)("referring_pub_ids"),addBase:!0,selectedPlanId:Gn&&(n!=null&&n.is_founding)?t.plans.find(_r=>_r.metadata.founding).id:null}),{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},"Subscribe"),(0,e.h)("span",{className:"desktop-only"},"Continue your support"))}else if(Ha.paymentsAreEnabled(t)&&an&&!hn&&!["thebulwark"].includes(t.subdomain)){if(!s)return(0,e.h)(aa,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,D.j)(D.FP.NAV_BAR_CTA_CLICKED,{type:"upgrade-subscription"}),(0,y.redirect)((0,v.getSubscribeUrl)(t,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:(0,v.getQueryItem)("referring_pub_ids"),addBase:!0}),{local_navigation:!1})}},(0,Ne.getSubscribeText)(t,{isFreeSubscribed:!0,isMobile:(0,y.isMobileBrowser)()}))}else if(Ha.paymentsAreEnabled(t)?!hn:!(an||hn)){if(!s){const _r=(ut=(Ge=(qe=(0,v.getQueryItem)("referring_pub_ids"))==null?void 0:qe.split)==null?void 0:Ge.call(qe,","))==null?void 0:ut[0],nr=(At=(Pt=(bt=(0,v.getQueryItem)("referring_pub_ids"))==null?void 0:bt.split)==null?void 0:Pt.call(bt,","))==null?void 0:At.slice(1);return(0,e.h)(aa,{"data-testid":"noncontributor-cta-button",onClick:()=>Mu(this,null,function*(){const qn=n&&!n.is_magic&&n.email||i;if((0,D.j)(D.FP.NAV_BAR_CTA_CLICKED,{type:"free-subscription"}),qn){let Rn;try{Rn=(yield ge().post("/api/v1/free").send({source:"menu",email:qn,first_url:l.xY,first_referrer:l.ip,current_url:l.UE,current_referrer:l.xU,referring_pub_id:_r,additional_referring_pub_ids:nr})).body.referral_token}catch(Bn){(0,D.j)(D.FP.FREE_SIGNUP_FAILED,{reason:Bn.message})}window.location.href=(0,v.getSubscribeUrl)(t,{utm_source:"menu",simple:!0,next:document.location.href,skip_redirect_check:!0,just_signed_up:!0,addBase:!0,referral_token:Rn})}else window.location.href=(0,v.getSubscribeUrl)(t,{utm_source:"menu",simple:!0,next:document.location.href,referring_pub_ids:(0,v.getQueryItem)("referring_pub_ids"),addBase:!0})})},(0,e.h)(Vt.gq,{gap:8},(0,e.h)(dp,{size:20}),(0,Ne.getSubscribeText)(t,{isFreeSubscribed:an,isMobile:(0,y.isMobileBrowser)()})))}}else{if(t.invite_only&&hn&&n.invites<t.subscriber_invites)return(0,e.h)(aa,{"data-testid":"noncontributor-cta-button",className:"primary",onClick:()=>{(0,D.j)(D.FP.NAV_BAR_CTA_CLICKED,{type:"invite"}),(0,y.redirect)((0,v.getInviteUrl)(t),{local_navigation:!1})}},(0,e.h)("span",null,(0,Ne.pluralize)(t.subscriber_invites-n.invites,"invite")," left"));if(Ha.paymentsAreEnabled(t)&&k&&!j.getConfigFor("hide_book_a_meeting_button"))return(0,e.h)(aa,{"data-testid":"noncontributor-cta-button",className:"primary",onClick:()=>{(0,D.j)(D.FP.NAV_BAR_CTA_CLICKED,{type:"book-meeting"}),(0,y.redirect)((0,le.getMeetingsUrl)(t,{params:{source:"navbar-cta"},referrer:typeof window!="undefined"&&window.location.href}),{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},"Book meeting"),(0,e.h)("span",{className:"desktop-only"},"Book a meeting"));if(Ha.paymentsAreEnabled(t)&&n.is_subscribed&&n.subscription_unsubscribed_at&&!["gift","comp"].includes(n.subscription_type))return(0,e.h)(aa,{"data-testid":"noncontributor-cta-button",className:"secondary subscribe-cta subscribe-btn outline",onClick:()=>{(0,D.j)(D.FP.NAV_BAR_CTA_CLICKED,{type:"renew"}),Me()},disabled:q||Pe,style:{visibility:Pe?"hidden":"visible"}},(0,e.h)("span",{className:"mobile-only"},"Renew"),(0,e.h)("span",{className:"desktop-only"},"Renew subscription"));if(Ha.paymentsAreEnabled(t)&&!n.is_founding&&Tr()(n.subscription_first_payment_at).isBefore(Tr()().subtract(48,"hours"))&&((Ht=(Dt=(Lt=t==null?void 0:t.plans)==null?void 0:Lt.find(_r=>_r.metadata.founding))==null?void 0:Dt.metadata)==null?void 0:Ht.short_description)==="Founding Member")return(0,e.h)(aa,{"data-testid":"noncontributor-cta-button",className:"secondary subscribe-cta subscribe-btn outline",onClick:()=>{(0,D.j)(D.FP.NAV_BAR_CTA_CLICKED,{type:"founding-upgrade"}),(0,y.redirect)((0,v.getSubscribeUrl)(t,{utm_source:"menu",next:document.location.href,addBase:!0,selectedPlanId:t.plans.find(_r=>_r.metadata.founding).id}),{local_navigation:!1})}},(0,e.h)("span",{className:"mobile-only"},"Upgrade"),(0,e.h)("span",{className:"desktop-only"},"Upgrade to founding"));if(t.payments_state==="disabled"&&!t.invite_only&&U("payment_pledges_enabled")&&an&&!(n!=null&&n.is_pledged))return(0,e.h)(aa,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,D.j)(D.FP.NAV_BAR_CTA_CLICKED,{type:"pledge-subscription"}),(0,y.redirect)((0,v.getSubscribeUrl)(t,{utm_source:"menu",next:document.location.href,addBase:!0}),{local_navigation:!1})}},"Pledge your support");if(t.is_on_substack&&!(n!=null&&n.has_publication))return(0,e.h)(aa,{"data-testid":"noncontributor-cta-button",onClick:()=>{(0,D.j)(D.FP.NAV_BAR_CTA_CLICKED,{type:"start-publishing"}),(0,y.redirect)((0,v.getStartPublishingUrl)({utm_source:"menu"}),{local_navigation:!1})}},"Start publishing")}}return null}function aa(n){var t=n,{className:r="primary subscribe-cta subscribe-btn"}=t,i=S2(t,["className"]);const s=(0,o.qp)(Xh),M=!1;return(0,e.h)(Je.Z,_p(mp({},i),{className:u()(r,{"rounded-btn":M,"force-desktop":s})}))}const M2=T2;var x2=wt(49336),A2=wt(56743),ll=wt(2564);const ul={subMenuTrigger:"frontend-components-overflow_menu-module__subMenuTrigger--JlX0X",subMenuItem:"frontend-components-overflow_menu-module__subMenuItem--qQKuE",disabled:"frontend-components-overflow_menu-module__disabled--vUsqk",logo:"frontend-components-overflow_menu-module__logo--t5DOx",chevron:"frontend-components-overflow_menu-module__chevron--sly1d"},vp=10,N2=250;function R2({className:n,items:t,menuItemClassName:r,selectedMenuItemClassName:i,selectedSlug:s,pub:M}){const k=(0,o.sO)(null),[j,U]=(0,o.eJ)(!1),[q,Pe]=(0,o.eJ)(!1);function Me(qe){const{scrollLeft:Ge,scrollWidth:ut,clientWidth:bt}=qe;U(Ge>vp),Pe(ut-(bt+Ge)>vp)}const xe=qe=>Me(qe.target),Ve=qe=>()=>{const{current:Ge}=k;Ge&&Ge.scrollBy({left:qe*N2,behavior:"smooth"})};return(0,o.d4)(()=>{Me(k.current)},[]),(0,e.h)("div",{className:u()("overflow-list-container",n)},(0,e.h)("div",{className:u()("section-bar",{scroll:!0,"overflow-left":j,"overflow-right":q})},(0,e.h)("div",{className:"overflow-items",ref:k,onScroll:xe},t.map(({label:qe,href:Ge,slug:ut,isNative:bt,onClick:Pt,noFollow:At,subItems:Lt})=>Lt?(0,e.h)(Do.v2,{trigger:(0,e.h)("div",{className:u()("menu-item",{selected:ut===s},r,i&&{[i]:ut===s})},(0,e.h)(Or.Z,{className:ul.subMenuTrigger,onClick:Pt,native:bt,rel:At?"nofollow":null},(0,e.h)("span",{className:"overflow-item-text"},qe),(0,e.h)(x2.Z,{className:ul.chevron,size:16}))),layerOptions:{placement:"bottom-start",triggerOffset:6},hideOnScroll:!0,useMobileBottomSheet:!0,mobileBottomSheetTitle:qe},Lt.map(({label:Dt,href:Ht,slug:on,isNative:hn,onClick:an,noFollow:mn,logoUrl:rr})=>{const Gn=parseInt(on)===(M==null?void 0:M.id);return(0,e.h)(Do.sN,{icon:(0,e.h)("img",{className:ul.logo,width:20,src:(0,v.imginary)(rr||"/img/substack-nomargin.png",40)}),href:Ht,onClick:an,native:hn,rel:mn?"nofollow":void 0,priority:"primary",disabled:Gn,className:u()(ul.subMenuItem,{[ul.disabled]:Gn})},Dt)})):(0,e.h)("div",{className:u()("menu-item",{selected:ut===s},r,i&&{[i]:ut===s})},(0,e.h)(Or.Z,{href:Ge,onClick:Pt,native:bt,rel:At?"nofollow":null},(0,e.h)("span",{className:"overflow-item-text"},qe))))),(0,e.h)("div",{className:"left-button"},(0,e.h)("div",{role:"button",className:"scroll-button-hitbox",onClick:Ve(-1)},(0,e.h)(A2.Z,{strokeWidth:1.5}))),(0,e.h)("div",{className:"right-button"},(0,e.h)("div",{role:"button",className:"scroll-button-hitbox",onClick:Ve(1)},(0,e.h)(ll.Z,{strokeWidth:1.5})))))}const yp=(n,t)=>n.subItems?new F2(n,t):n.base_url?new L2(n):n.name&&n.id&&n.url?new U2(n,t):n.isPodcast?new k2(n):new B2(n,t);class cl{constructor(t,r){this._obj=t,this._pub=r}truncatedName(){return(0,Ne.truncateText)(this._obj.name,30)}isNewsletter(){throw new Error("not implemented")}isPodcast(){throw new Error("not implemented")}isSelected(t,r){throw new Error("not implemented")}isNative(){throw new Error("not implemented")}homepageUrl(){throw new Error("not implemented")}noFollow(){return!1}subItems(){return null}get item(){return this._obj}}class L2 extends cl{isNewsletter(){return this._obj.type==="newsletter"}isPodcast(){return this._obj.type==="podcast"}isSelected(t){return this._obj.id===t.id}isNative(){return!0}logoUrl(){return this._obj.logo_url}homepageUrl(){return(0,le.getBaseUrl)(this._obj)}}class k2 extends cl{isPodcast(){return!0}isSelected(t,r){return this._obj.id===r}isNative(){return!0}homepageUrl(){return(0,le.getBaseUrl)(this._obj)}}class B2 extends cl{constructor(t,r){super(t,r),this._homepageUrl=(0,le.getSectionUrl)(r,{section:t})}isPodcast(){return this._obj.is_podcast}isSelected(t,r){return this._obj.id===r}isNative(){return!0}homepageUrl(){return this._homepageUrl}logoUrl(){var t,r,i;if(this._obj.is_podcast){const s=(t=this._pub.sections)==null?void 0:t.find(M=>M.id===this._obj.id);return(i=(r=s==null?void 0:s.podcastSettings)==null?void 0:r.podcast_art_url)!=null?i:this._obj.logo_url}return this._obj.logo_url}}class U2 extends cl{constructor(t,r){super(t,r),this._maybeNoFollow=t.noFollow,this._pubTier=(r==null?void 0:r.tier)||0}isNewsletter(){return!1}isPodcast(){return!1}isSelected(t,r){return[this._obj.id,this._obj.url].includes(r)}isNative(){return!0}noFollow(){return this._maybeNoFollow&&this._pubTier<2}homepageUrl(){return this._obj.url}}class F2 extends cl{isNewsletter(){return!1}isPodcast(){return!1}isSelected(t,r){return[this._obj.id,this._obj.url].includes(r)}isNative(){return!1}homepageUrl(){return null}subItems(){return this._obj.subItems.map(t=>yp(t,this._pub))}}const j2=({pub:n,selectedSectionId:t,sectionRawItems:r,isPublishContext:i})=>{const s=r.map(k=>yp(k,n)),M=k=>{var j,U;return{label:k.truncatedName(),href:k.homepageUrl(),slug:k.item.id,isNative:k.isNative(),noFollow:k.noFollow(),logoUrl:(j=k.logoUrl)==null?void 0:j.call(k),subItems:(U=k.subItems())==null?void 0:U.map(M)}};return(0,e.h)(R2,{items:s.map(M),className:u()("sections-overflow",{"publish-menu":i}),selectedSlug:t,useHorizontalScrolling:i,pub:n})};var W2=Object.defineProperty,bp=Object.getOwnPropertySymbols,H2=Object.prototype.hasOwnProperty,V2=Object.prototype.propertyIsEnumerable,gd=(n,t,r)=>t in n?W2(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,K2=(n,t)=>{for(var r in t||(t={}))H2.call(t,r)&&gd(n,r,t[r]);if(bp)for(var r of bp(t))V2.call(t,r)&&gd(n,r,t[r]);return n},Va=(n,t,r)=>(gd(n,typeof t!="symbol"?t+"":t,r),r),vd,Pp,yd,Ep;const bd=wt(6378),wp=(n,t)=>{var r,i;return((r=n.sibling_rank)!=null?r:1/0)-((i=t.sibling_rank)!=null?i:1/0)||(n.name<t.name?-1:n.name>t.name?1:0)};class xu extends e.Component{constructor(){super(...arguments),Va(this,"menuHeight",0),Va(this,"state",{animated:!0,hiding:!!(typeof window!="undefined"&&((Pp=(vd=window.location.hash)==null?void 0:vd.startsWith)!=null&&Pp.call(vd,"#footnote")||(Ep=(yd=window.location.hash)==null?void 0:yd.startsWith)!=null&&Ep.call(yd,"#tiktok")))}),Va(this,"onClick",t=>{var r,i;((r=t.target)!=null&&r.classList.contains("footnote-number")||(i=t.target)!=null&&i.classList.contains("footnote-anchor"))&&(this.setState({hiding:!0}),setTimeout(this.hide,0))}),Va(this,"onResize",()=>{if(this.menuHeight=this.menuContent?this.menuContent.getBoundingClientRect().height:0,!this.buttonsContainer)return;const t=this.largeMenuPubTitle?this.largeMenuPubTitle.getBoundingClientRect().width:0,r=document.body.clientWidth,i=this.buttonsContainer.getBoundingClientRect().width,s=r>630,M=s?24*2:12*2,k=s&&.5*r-i-M>.5*t;this.setState({buttonsContainerWidth:k?`${i}px`:"auto",centerTitle:k})}),Va(this,"onScroll",()=>{if(this.props.always_show){this.menuTop=0,this.menuContent.style.position="fixed",this.menuContent.style.top="";return}if(this.state.hiding)return;const t=this.scrollTop;this.scrollTop=document.documentElement.scrollTop||document.body.scrollTop;const r=Math.max(this.scrollTop,0);if(this.scrollTop<=0||(0,y.maxScroll)()<=0)this.menuTop=0,this.menuContent.style.position="fixed",this.menuContent.style.top="";else if(!(this.scrollTop>=(0,y.maxScroll)()))if(this.scrollTop<t){const i=Math.max(this.scrollTop-this.menuHeight,0);this.menuTop>r?(this.menuTop=r,this.menuContent.style.position="fixed",this.menuContent.style.top=""):(!this.menuTop||this.menuTop<i)&&(this.menuTop=i,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="")}else this.scrollTop>t&&(this.menuContent.style.position==="fixed"&&this.menuTop>=0?(this.menuTop=r,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position=""):this.menuTop<r-this.menuHeight&&this.menuContent.style.position!=="fixed"&&(this.menuTop=-this.menuHeight,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="fixed"))}),Va(this,"onHeadlineClick",t=>{this.publicationPicker?(t.preventDefault(),this.publicationPicker.open()):(0,D.j)(D.FP.NAV_BAR_HOME_LINK_CLICKED)}),Va(this,"hide",()=>{const t=Math.max(document.documentElement.scrollTop||document.body.scrollTop,0);this.menuTop=t-this.menuHeight,this.menuContent.style.top=`${this.menuTop}px`,this.menuContent.style.position="",this.setState({hiding:!1})})}componentDidMount(){typeof window!="undefined"&&(window.addEventListener("scroll",this.onScroll),window.addEventListener("click",this.onClick),window.addEventListener("resize",this.onResize),this.onResize(),this.onScroll())}componentWillUnmount(){typeof window!="undefined"&&(window.removeEventListener("scroll",this.onScroll),window.removeEventListener("click",this.onClick),window.removeEventListener("resize",this.onResize))}shouldShowSectionsNavBar(){return!this.props.isPostView&&!this.props.lowChrome&&!this.props.hideSections}isContributor(){return this.props.user&&this.props.user.is_contributor}isSubscribed(){return bd.userIsPaidSubscriber(this.props.user)||this.isContributor()}isFreeSubscribed(){return this.props.user&&this.props.user.is_free_subscribed||this.props.freeSignup}render({className:t,user:r,freeSignup:i,freeSignupEmail:s,pub:M,publicationPicker:k,publicationPickerPath:j,lowChrome:U,hide_subscribe_cta:q,isPublishContext:Pe,hideTitle:Me,showCustomerSupportModeModal:xe,signupForFreeVariant:Ve,isMeetingsActive:qe,hideNavbarSearch:Ge},{animated:ut,buttonsContainerWidth:bt,centerTitle:Pt}){const At=!k&&(M==null?void 0:M.parent_publication)||M,Lt=typeof window=="undefined";return(0,e.h)("div",{"data-testid":"navbar",className:u()("main-menu",t,{animated:ut,"with-nav":this.shouldShowSectionsNavBar(),"low-chrome":U})},(0,e.h)("div",{className:"main-menu-content",ref:Dt=>this.menuContent=Dt},(0,e.h)("div",{className:"topbar"},(0,e.h)("div",{className:"topbar-content"},k&&!U&&(M.parent_publication||M.child_publications.length>0)&&(0,e.h)(Ki.ZP,{ref:Dt=>this.publicationPicker=Dt,className:"publication-picker",noPlace:!0,noTail:!0},[M,M.parent_publication].concat(M.child_publications.concat(M.sibling_publications).sort((Dt,Ht)=>Dt.name.toLowerCase().localeCompare(Ht.name.toLowerCase()))).filter(Dt=>Dt).map(Dt=>(0,e.h)("a",{href:Dt.base_url+(Dt.id===M.id?"/":j||"/")},Dt.name))),!U&&(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:u()("navbar-logo-container",At.logo_url?"":"no-logo"),style:{width:bt}},At.logo_url&&(0,e.h)("a",{href:(0,le.getBaseUrl)(At),onClick:this.onHeadlineClick},(0,e.h)("img",{className:"navbar-logo",src:(0,le.imginary)(At.logo_url,96)}))),!Me&&(0,e.h)("h1",{className:u()("navbar-title",{"left-align":!Pt,loading:Lt})},(0,e.h)("a",{className:"navbar-title-link",href:(0,le.getBaseUrl)(At),ref:Dt=>this.largeMenuPubTitle=Dt},At.logo_url_wide?(0,e.h)("img",{className:`navbar-logo-wordmark ${At?"":"substack-logo-wordmark"}`,src:(0,le.imginary)(At?At.logo_url_wide:"/img/substack_wordmark.png?v=2",null,{height:28*2,crop:"limit",leadingSegments:["e_trim:10:white","e_trim:10:transparent"]}),alt:At?At.name:"Substack"}):At.name),!Pe&&M.parent_publication&&(0,e.h)($2,{title:M.name})),(0,e.h)(M2,{baseRef:Dt=>this.buttonsContainer=Dt,user:r,freeSignup:i,freeSignupEmail:s,hide_subscribe_cta:q,isPublishContext:Pe,pub:M,hideSearch:Pe||!!Ge,signupForFreeVariant:Ve,showCustomerSupportModeModal:xe,isMeetingsActive:qe}))),this.shouldShowSectionsNavBar()&&(0,e.h)(z2,K2({},this.props)))),(0,e.h)("div",{className:"topbar-spacer"}))}}Va(xu,"contextType",Pa);const $2=({title:n})=>{const t=(0,Bi.XA)();return(0,e.h)(J.xv,{size:t?14:24,weight:"light",as:"span"},(0,e.h)("span",null," | "),n)};function z2({isPublishContext:n,pub:t,user:r,isChatActive:i,isMeetingsActive:s,hasMeetingsBooked:M,selectedSectionId:k}){const{getConfigFor:j}=(0,Ur.xR)(),{getSettingFor:U}=(0,Se.So)(),q=U("notes_feed_enabled"),Pe=!!(U("reader_referrals_enabled")&&U("reader_referrals_leaderboard_enabled")),Me=j("group_sections_and_podcasts_in_menu"),xe=Kn(t.navigationBarItems||[],{isFeedEnabled:q,isPodcastActive:t.podcast_enabled&&t.show_pub_podcast_tab,isChatActive:i,isChatEnabled:!!t.threads_v2_enabled,isMeetingsActive:s,hasMultipleNewsletters:t.sections&&t.sections.length>0,isReaderReferralsLeaderboardActive:Pe}).filter(qe=>!qe.is_hidden),Ve=n?G2({isAdmin:!!(r!=null&&r.is_admin),pub:t,showMeetings:s||M}):Z2({groupNewsletters:Me,navBarItems:xe,pub:t});return(0,e.h)(j2,{pub:t,selectedSectionId:k,sectionRawItems:Ve,isPublishContext:n})}const G2=({isAdmin:n,pub:t,showMeetings:r})=>{const i=[];return i.push({id:"/publish/home",url:(0,le.getDashboardHomeUrl)(t,{addBase:!0}),name:"Home"}),i.push({id:"/publish/posts",url:"/publish/posts",name:"Posts"},{id:"/publish/podcasting",url:(0,v.getPodcastingUrl)(t,{addBase:!0}),name:"Podcast"},{id:"/publish/subscribers",url:(0,v.getSubscriberStatsUrl)(t,{addBase:!0}),name:"Subscribers"}),n&&(i.push({id:"/publish/stats",url:"/publish/stats",name:"Stats"}),i.push({id:"/publish/recommendations",url:"/publish/recommendations",name:"Recommendations"}),r&&i.push({id:"/publish/meetings",url:"/publish/meetings",name:"Meetings"}),i.push({id:"/publish/settings",url:(0,le.getPublishSettingsUrl)(t,{addBase:!0}),name:"Settings"})),i},Z2=({groupNewsletters:n=!1,navBarItems:t,pub:r})=>{var i,s;const M=[];let k=[];if((i=r.child_publications)!=null&&i.length)M.push({id:"/home",url:"/",name:"Home"}),k.push(...r.child_publications.sort(wp));else if(r.parent_publication||(s=r.sibling_publications)!=null&&s.length){const j=[r,...r.sibling_publications].sort(wp).map(U=>U.id===r.id&&!bd.isBulwarkPub(r)?{id:"/home",url:"/",name:r.name}:U);M.push({id:"/parent",url:(0,le.getBaseUrl)(r.parent_publication),name:"Home"}),k.push(...j)}else M.push({id:"/home",url:"/",name:"Home"}),r.podcast_enabled&&r.show_pub_podcast_tab&&k.push({id:"/podcast",url:"/podcast",name:"Podcast",isPodcast:!0});for(const j of t){const U=pn(j);j.section?k.push(j.section):k.push({id:(0,le.getNavigationBarItemUrl)(r.parent_publication||r,j,{addBase:!1}),url:(0,le.getNavigationBarItemUrl)(r.parent_publication||r,j,{addBase:!j.standard_key}),name:yn(j),noFollow:!j.standard_key&&U==="link"})}return n?k=Cp({items:k,groups:[{name:"Newsletters",condition:j=>Y2(j)},{name:"Podcasts",condition:j=>J2(j)}]}):bd.isBulwarkPub(r)&&(k=Cp({items:k,groups:[{name:"Newsletters",condition:j=>j.type==="newsletter"},{name:"Podcasts",condition:j=>j.type==="podcast"}]})),[...M,...k]},Y2=n=>!n.subItems&&!n.base_url&&!(n.name&&n.id&&n.url)&&!n.is_podcast,J2=n=>n.isPodcast||!n.subItems&&!n.base_url&&!(n.name&&n.id&&n.url)&&n.is_podcast,Cp=({items:n,groups:t})=>{const r=[];let i=n;for(const s of t){const M=i.filter(s.condition);M.length>0&&(r.push({name:s.name,subItems:M}),i=i.filter(k=>!s.condition(k)))}return[...r,...i]},Op=({pub:n,url:t})=>{var r,i;if(!t.includes("api.substack.com"))return null;if(t.includes(`/feed/podcast/${n.id}.rss`))return n.podcast_title||n.name;if(t.includes(`/feed/podcast/${n.id}/s/`)){const s=(i=(r=t.match(new RegExp("\\/feed\\/podcast\\/\\d+\\/s\\/(?<sectionId>\\d+)\\.rss")))==null?void 0:r.groups)==null?void 0:i.sectionId;if(!s)return"Unknown section";const M=n.sections.find(k=>k.id===parseInt(s));return M?M.name:"Unknown Section"}return"another podcast"},Sp=({pub:n,url:t})=>t.includes("api.substack.com")?t.includes(`/feed/podcast/${n.id}/s/`)||t.includes(`/feed/podcast/${n.id}.rss`):!1,X2=n=>{if(!n)return{can_syndicate:!1,hover_text:"Cannot find podcast"};if(!n.podcast_enabled)return{can_syndicate:!1,hover_text:"This podcast is not currently enabled."};if(!n.podcast_feed_url)return{can_syndicate:!0,hover_text:null};const t=Op({pub:n,url:n.podcast_feed_url});return t?{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${t}.`}:{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${n.podcast_feed_url}.`}},Q2=({pub:n,section:t})=>{var r;if(!t.is_podcast)return{can_syndicate:!1,hover_text:"This section is not currently set up as a podcast."};const i=((r=t.podcastSettings)==null?void 0:r.podcast_feed_url)||null;if(!i)return{can_syndicate:!0,hover_text:null};const s=Op({pub:n,url:i});return s?{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${s}.`}:{can_syndicate:!1,hover_text:`This podcast is currently redirecting to ${i}.`}},eV=({pub:n})=>{var t;const r=[];if(n.podcast_enabled||n.podcast_title){const i=X2(n);r.push({name:n.podcast_title||n.name,description:n.podcast_description||"",can_publish_to:i.can_syndicate,hover_text:i.hover_text,publication_id:n.id,section_id:null})}for(const i of(t=n.sections)!=null?t:[]){if(!i.is_podcast)continue;const s=Q2({pub:n,section:i});r.push({name:i.name,description:i.description,can_publish_to:s.can_syndicate,hover_text:s.hover_text,publication_id:n.id,section_id:i.id})}return r},q2=n=>!n||!n.podcast_enabled?!1:n.podcast_feed_url?!Sp({pub:n,url:n.podcast_feed_url}):!0,ew=({pub:n,section:t})=>{var r;if(!t.is_podcast)return!1;const i=((r=t.podcastSettings)==null?void 0:r.podcast_feed_url)||null;return i?!Sp({pub:n,url:i}):!0},tV=(n,t=0)=>t?tw(n,t):n.email_disabled?"none":n.receive_podcast_emails?"all":"allButPodcasts",tw=(n,t)=>{var r;return!n.email_settings||!n.email_settings[t]?null:n.email_settings[t]==="disabled"?"none":(r=n.section_podcasts_enabled)!=null&&r.includes(t)?"all":"allButPodcasts"},nw=({pub:n,includeMainPub:t})=>{var r;if(!n)return[];const i=[];return t&&i.push({name:n.name,description:n.hero_text,logoUrl:n.logo_url,sectionId:null,linkUrl:(0,v.getArchiveUrl)(n),defaultOn:!0}),(r=n.sections)==null||r.forEach(s=>{i.push({name:s.name,description:s.description,logoUrl:s.logo_url,sectionId:s.id,linkUrl:(0,le.getSectionUrl)(n,{section:s}),defaultOn:s.is_default_on})}),i};var rw=Object.defineProperty,ow=Object.defineProperties,iw=Object.getOwnPropertyDescriptors,Tp=Object.getOwnPropertySymbols,aw=Object.prototype.hasOwnProperty,sw=Object.prototype.propertyIsEnumerable,Ip=(n,t,r)=>t in n?rw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,lw=(n,t)=>{for(var r in t||(t={}))aw.call(t,r)&&Ip(n,r,t[r]);if(Tp)for(var r of Tp(t))sw.call(t,r)&&Ip(n,r,t[r]);return n},uw=(n,t)=>ow(n,iw(t));const Dp=n=>(0,e.h)(x.l,uw(lw({},n),{name:"FilledCircleCheckmarkIcon",svgParams:{height:24,width:24}}),(0,e.h)("circle",{className:"filled-checkmark-icon-circle",cx:"12",cy:"12",r:"12",fill:"#419E4E",stroke:"none"}),(0,e.h)("path",{d:"M7 11.7222L10.8462 16L17 9",stroke:n.stroke||"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}));var cw=Object.defineProperty,dw=Object.defineProperties,fw=Object.getOwnPropertyDescriptors,Mp=Object.getOwnPropertySymbols,hw=Object.prototype.hasOwnProperty,pw=Object.prototype.propertyIsEnumerable,xp=(n,t,r)=>t in n?cw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ap=(n,t)=>{for(var r in t||(t={}))hw.call(t,r)&&xp(n,r,t[r]);if(Mp)for(var r of Mp(t))pw.call(t,r)&&xp(n,r,t[r]);return n},Np=(n,t)=>dw(n,fw(t)),Pd=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const Ti=()=>{const n=(0,ke.useMediaQuery)({query:"only screen and (max-width: 1024px)"}),t=(0,ke.useMediaQuery)({query:"only screen and (max-width: 768px)"});let r;return typeof window=="undefined"?r=(0,P.isMobile)()?"mobile":"desktop":r=t?"mobile":n?"tablet":"desktop",{breakpoint:r,isMobile:r==="mobile",isTablet:r==="tablet",isDesktop:r==="desktop"}},rV=({pubId:n})=>{const[t,r]=useState([]),[i,s]=useState([]),[M,k]=useState([]),[j,U]=useState([]),[q,Pe]=useState(!1),[Me,xe]=useState([]),[Ve,qe]=useState([]);return useEffect(()=>{request.get("/api/v1/publication_user/homepage_preview").then(({body:Ge})=>{r(Ge)}),request.get("/api/v1/homepage_links").then(({body:Ge})=>s(Ge)),request.get("/api/v1/archive").query({sort:"new",limit:13}).then(({body:Ge})=>{k(Ge),Pe(!0)}),request.get("/api/v1/archive").query({sort:"pinned"}).then(({body:Ge})=>U(Ge)),request.get(`/api/v1/recommendations/from/${n}`).query({limit:5}).then(Ge=>{xe(Ge.body)}),request.get("/api/v1/archive").query({sort:"top",limit:6}).then(({body:Ge})=>qe(Ge))},[n]),useMemo(()=>({contributors:t,homepageLinks:i,newPosts:M,pinnedPosts:j,postsLoaded:q,recommendations:Me,topPosts:Ve}),[t,i,M,j,q,Me,Ve])},oV=()=>{const[n,t]=useState([]),[r,i]=useState({}),[s,M]=useState({});return useEffect(()=>{(()=>Pd(void 0,null,function*(){for(const j of n){if(j.post_source==="section"&&j.section_id&&!r[j.section_id]){const{body:U}=yield request.get("/api/v1/archive").query({section_id:j.section_id,sort:"new",limit:13});i(q=>Np(Ap({},q),{[String(j.section_id)]:U}))}if(j.post_source==="tag"&&j.post_tag_id&&!s[j.post_tag_id]){const{body:U}=yield request.get("/api/v1/archive").query({post_tag_id:j.post_tag_id,sort:"new",limit:13});M(q=>Np(Ap({},q),{[String(j.post_tag_id)]:U}))}}}))()},[n,r,s]),{contentBlocks:n,onChangeContentBlocks:t,postsBySectionId:r,postsByTagId:s}},mw=n=>{const[t,r]=(0,o.eJ)(n.newPosts),[i,s]=(0,o.eJ)(n.pinnedPosts),[M,k]=(0,o.eJ)(n.topPosts),j=new Set((i||[]).map(Pe=>Pe.id)),U=(i||[]).concat((t||[]).filter(Pe=>!j.has(Pe.id)));(0,o.d4)(()=>{var Pe,Me,xe;((Pe=n.newPosts)==null?void 0:Pe.length)!==t.length&&r(n.newPosts),((Me=n.pinnedPosts)==null?void 0:Me.length)!==i.length&&s(n.pinnedPosts),((xe=n.topPosts)==null?void 0:xe.length)!==M.length&&k(n.topPosts)},[n.newPosts,n.pinnedPosts,n.topPosts,t==null?void 0:t.length,i==null?void 0:i.length,M==null?void 0:M.length]);const q=(0,o.I4)(({post:Pe})=>{if(!Pe)return;const Me=[{list:M,setter:k},{list:i,setter:s},{list:t,setter:r}];for(const xe of Me){if(!xe.list)return;const Ve=xe.list.findIndex(qe=>qe.id===Pe.id);if(Ve!==-1){const qe=[...xe.list];qe.splice(Ve,1,Pe),xe.setter(qe)}}},[t,i,M]);return{posts:U,topPosts:M,onChange:q}},iV=({bodyId:n})=>{const[t,r]=useState(null),[i,s]=useState(null);return useEffect(()=>{n==="grid-groups"&&(i||Pd(void 0,null,function*(){try{const k=yield request.get("/api/v1/publication/sections");s(k.body)}catch(k){console.error(k)}}),t||Pd(void 0,null,function*(){try{const k=yield request.get("/api/v1/publication/post-tag");r(k.body)}catch(k){console.error(k)}}))},[n,t,i]),{postTags:t,sections:i}},yi={img:"frontend-components-newsletter_item-module__img--bS4yt",container:"frontend-components-newsletter_item-module__container--Og_JT",selectableContainer:"frontend-components-newsletter_item-module__selectableContainer--OyGeq",selectedContainer:"frontend-components-newsletter_item-module__selectedContainer--itkCr",clickableContainer:"frontend-components-newsletter_item-module__clickableContainer--NsLAs",containerMobile:"frontend-components-newsletter_item-module__containerMobile--C2ytw",imgMobile:"frontend-components-newsletter_item-module__imgMobile--yC2u_",selector:"frontend-components-newsletter_item-module__selector--IAwcD",unselected:"frontend-components-newsletter_item-module__unselected--PYQqC",seeLatest:"frontend-components-newsletter_item-module__seeLatest--hTMpM"},_w=({newsletter:n,hideLink:t=!1,onToggle:r,onClick:i})=>{const{isMobile:s}=Ti();i&&r&&console.error("you cannot pass both onToggle and onClick");const M=j=>{j.stopPropagation(),r==null||r({sectionId:n.sectionId,isSelected:!n.selected})},k=!!r;return s?(0,e.h)(gw,{newsletter:n,hideLink:t,onClick:i,onToggle:r}):(0,e.h)(Vt.tu,{className:u()(yi.container,{[yi.selectedContainer]:k&&n.selected,[yi.selectableContainer]:k,[yi.clickableContainer]:!!i}),justifyContent:"space-between",radius:12,padding:16,onClick:k?M:i!=null?i:void 0},k&&n.selected?(0,e.h)(Dp,{className:u()(yi.selector)}):k?(0,e.h)("div",{className:u()(yi.unselected,yi.selector)}):null,(0,e.h)(Vt.tu,{gap:24},n.logoUrl&&(0,e.h)("div",{className:yi.img},n.logoUrl&&(0,e.h)("img",{className:yi.img,src:(0,v.imginary)(n.logoUrl,64)})),(0,e.h)(Vt.tu,{gap:8},(0,e.h)(Vt.xv.H3,{paddingRight:n.logoUrl?0:32,weight:"semibold",color:"pub-primary-text",clamp:2},n.name),(0,e.h)(Vt.xv.B4,{color:"pub-secondary-text",clamp:4},n.description))),!t&&(0,e.h)(Vt.xv,{translated:!0,size:14,weight:"semibold",font:"text",color:"pub-secondary-text"},(0,e.h)("a",{className:yi.seeLatest,href:n.linkUrl,native:!0},"See the latest")))},gw=({newsletter:n,hideLink:t,onClick:r,onToggle:i})=>{const s=!!i,M=k=>{k.stopPropagation(),i==null||i({sectionId:n.sectionId,isSelected:!n.selected})};return(0,e.h)(Vt.tu,{className:u()(yi.containerMobile,{[yi.selectedContainer]:s&&n.selected,[yi.selectableContainer]:s,[yi.clickableContainer]:!!M}),justifyContent:"space-between",radius:12,padding:16,onClick:s?M:r!=null?r:void 0},s&&n.selected?(0,e.h)(Dp,{className:u()(yi.selector)}):s?(0,e.h)("div",{className:u()(yi.unselected,yi.selector)}):null,(0,e.h)(Vt.tu,{gap:8},(0,e.h)(Vt.gq,{gap:8},n.logoUrl&&(0,e.h)("img",{className:yi.imgMobile,src:(0,v.imginary)(n.logoUrl,64)}),(0,e.h)(Vt.xv,{paddingRight:32,size:16,weight:"semibold",color:"primary",font:"text",clamp:2},n.name)),(0,e.h)(Vt.xv.B4,{color:"secondary",clamp:2,font:"text"},n.description)),!t&&(0,e.h)(Vt.xv,{translated:!0,size:14,weight:"semibold",font:"text",color:"pub-secondary-text"},(0,e.h)("a",{href:n.linkUrl,native:!0},"See the latest")))},vw={container:"frontend-components-newsletter_item_list-module__container--UOq1t"},yw=({newsletters:n,hideLinks:t,onNewsletterClick:r,justifyItems:i})=>{const{iString:s}=(0,Ke.M1)();return(0,e.h)(me.gq,{className:vw.container,wrap:"wrap",justifyContent:i,gap:24},n.length===0&&(0,e.h)("div",null,s("No additional newsletters")),n.map((M,k)=>(0,e.h)(_w,{newsletter:M,key:k,hideLink:t,onToggle:r?({sectionId:j,isSelected:U})=>{r({sectionId:j,isSelected:U})}:void 0,onClick:t?void 0:()=>{(0,y.redirect)(M.linkUrl,{local_navigation:!1})}})))},Ed={container:"frontend-components-newsletters_page-module__container--VhY3a",newsletterList:"frontend-components-newsletters_page-module__newsletterList--zmZNt",accountLink:"frontend-components-newsletters_page-module__accountLink--TyIAl"};var bw=Object.defineProperty,Pw=Object.defineProperties,Ew=Object.getOwnPropertyDescriptors,Rp=Object.getOwnPropertySymbols,ww=Object.prototype.hasOwnProperty,Cw=Object.prototype.propertyIsEnumerable,Lp=(n,t,r)=>t in n?bw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ow=(n,t)=>{for(var r in t||(t={}))ww.call(t,r)&&Lp(n,r,t[r]);if(Rp)for(var r of Rp(t))Cw.call(t,r)&&Lp(n,r,t[r]);return n},Sw=(n,t)=>Pw(n,Ew(t));const Tw=({pub:n,user:t})=>{const r=nw({pub:n,includeMainPub:!0}).map(i=>Sw(Ow({},i),{linkUrl:(0,v.updateQuery)(i.linkUrl,{utm_source:"newsletter_page"}),selected:i.defaultOn}));return r.length===0?(typeof window!="undefined"&&(window.location.href=(0,le.getBaseUrl)(n)),(0,e.h)("div",null,"loading...")):(0,e.h)("div",{className:u()("page","typography",Ed.container)},(0,e.h)(Vt.tu,null,(0,e.h)(Vt.gq,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(Vt.tu,{gap:8,paddingBottom:40,paddingTop:48},(0,e.h)(Vt.xv.H1,{size:32,lineHeight:40,color:"pub-primary-text"},"Newsletters"),(0,e.h)(Vt.xv.B3,{size:16,lineHeight:20,color:"pub-secondary-text"},"Get the best of ",n.name," in your inbox.",t!=null&&t.is_subscribed?(0,e.h)(e.Fragment,null," ","You can manage your subscription in your ",(0,e.h)("a",{className:Ed.accountLink,href:(0,v.getPubAccountSettingsUrl)(n),native:!0},"account settings"),"."):"")),(!t||!t.is_subscribed)&&(0,e.h)(Vt.zx,{priority:"primary-theme",href:(0,v.getSubscribeUrl)(n,{addBase:!0,utm_source:"newsletter_page"}),localNavigation:!1},"Subscribe")),(0,e.h)(Vt.iz,{weight:1,priority:"detail-themed"}),(0,e.h)("div",{className:Ed.newsletterList},(0,e.h)(yw,{newsletters:r,hideLinks:!1,justifyItems:"start"}))))};var Iw=wt(92643),Au=wt(10174),wd=wt(72307),Cd=wt(71720);function Dw({user:n=void 0,pub:t=null,children:r=void 0,siteConfigs:i={},hasThemedBackground:s=void 0,language:M="en",country:k=void 0,experimentInfo:j={},portalRoot:U=void 0,shouldLoad:q=void 0,shouldPollNotifications:Pe=!1,publicationSettings:Me={},userSettings:xe=void 0}){q===void 0&&(q=!!n);const Ve=(0,wd.lV)(!!n);return(0,e.h)(s2,{country:k},(0,e.h)(Ke._7,{language:M},(0,e.h)(C.ze,{value:{hasThemedBackground:s}},(0,e.h)(Ur.vC,{siteConfigs:i},(0,e.h)(ct.Vt,{siteConfigs:i,experimentInfo:j},(0,e.h)(Ts,{siteConfigs:i,experimentInfo:j},(0,e.h)(Se.Iz,{settings:Me},(0,e.h)(wu.N$,{shouldLoad:q,shouldPoll:Pe},(0,e.h)(Cu.X,{root:U},(0,e.h)(ls.dr,{defaultValue:n,settings:xe},(0,e.h)(Iw.am,null,(0,e.h)(ti.VW,null,(0,e.h)(wd.e.Provider,{value:Ve},(0,e.h)(Au.Au,null,(0,e.h)(Cd.G.Provider,{value:t},r)))))))))))))))}var cs=wt(4605);function Mw(){return(0,e.h)(sl.cr,{module:"../feed/PublicationPage",onRequest:()=>wt.e(853).then(wt.bind(wt,88853)),resolve:n=>n.PublicationFeedPage,whileLoading:(0,e.h)(xw,null)})}function xw(){return(0,e.h)(Iu.h,null,(0,e.h)(me.hs,{bg:"primary",style:{minHeight:800}}))}var Aw=Object.defineProperty,Nw=Object.defineProperties,Rw=Object.getOwnPropertyDescriptors,kp=Object.getOwnPropertySymbols,Lw=Object.prototype.hasOwnProperty,kw=Object.prototype.propertyIsEnumerable,Bp=(n,t,r)=>t in n?Aw(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Bw=(n,t)=>{for(var r in t||(t={}))Lw.call(t,r)&&Bp(n,r,t[r]);if(kp)for(var r of kp(t))kw.call(t,r)&&Bp(n,r,t[r]);return n},Uw=(n,t)=>Nw(n,Rw(t));function Fw(){const n=(0,ti.pm)();return(0,o.d4)(()=>{const t=new URL(location.toString());t.searchParams.get("founding-member-confirmation")&&(t.searchParams.delete("founding-member-confirmation"),history.replaceState({},"",t),n.popToast(i=>(0,e.h)(ti.FN,Uw(Bw({},i),{text:"You upgraded to a founding tier subscription. Thank you!"}))))},[]),null}var dl=wt(63030),Ls=wt(71375),Up=wt(16527),sa=wt(92271);const Od={wrapper:"frontend-lib-ProfileSetupToast-module__wrapper--C8ueg",headerRow:"frontend-lib-ProfileSetupToast-module__headerRow--oL8ne",header:"frontend-lib-ProfileSetupToast-module__header--uTXIc"};var jw=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const Ww=(n,t,r,i,s)=>{if(!t)return null;switch(n){case"post-login":return t.profile_set_up_at?{title:"Your account is now set up",body:"You now have a profile and are able to leave comments on all of your subscriptions.",ctaText:"Check out profile",ctaLink:(0,v.getReaderProfileUrl)(t,{utm_source:"profile_toast",noBase:r}),ctaVariant:"secondary"}:null;case"post-subscribe-prompt":return i?{title:"Finish setting up your account",body:"Tell us more about yourself and find more things to read, so you can participate in the community",ctaText:"Finish setting up",ctaLink:(0,v.getReaderOnboardingUrl)(t,{isAbbreviated:!0,redirect:document.location.href,postRedirectToast:"post-subscribe-success",pubId:i?i.id:null}),ctaVariant:"themed-primary"}:null;case"post-subscribe-success":return!i||!t.profile_set_up_at?null:{title:`Welcome to ${i?i.name:""}`,body:(0,e.h)("span",null,"You will start receiving updates in your inbox. You can also read the"," ",(0,e.h)("a",{href:i?(0,v.getArchiveUrl)(i):null},"full archives")," in the website or check out your profile."),ctaText:"Check out profile",ctaLink:(0,v.getReaderProfileUrl)(t,{utm_source:"profile_toast",noBase:r}),ctaVariant:"secondary"};case"start-writing":return{title:(0,e.h)(me.tu,{alignItems:"center"},(0,e.h)("img",{width:195,src:(0,le.imginary)("/img/reader_onboarding/jobpage_penholder.png",195)}),(0,e.h)(J.xv.H3,{align:"center"},"Want to start writing on Substack?")),body:(0,e.h)(J.xv.B3,{align:"center",paddingBottom:20},(0,e.h)("span",null,"Congrats on subscribing to your ",(0,Ne.numberToOrdinal)(s)," Substack! Start your own"," ",(0,e.h)("b",null,"in 5 minutes or less"))),ctaText:"Start Writing",ctaLink:(0,v.getStartPublishingUrl)({utm_source:"profile_toast"}),ctaVariant:"themed-primary"};default:return null}};function Hw({user:n,pub:t=null,noBase:r=!1}){const i=(0,ti.pm)();return(0,o.d4)(()=>{function s(){return jw(this,null,function*(){yield ge().put("/api/v1/user-setting").send({type:"has_seen_reader_to_writer_upsell",value_bool:!0})})}const M=new URL(location.toString()),k=M.searchParams.get("profile-setup-message");if(!k)return;const j=k==="start-writing"?Number(M.searchParams.get("nthPub")):void 0;if(M.searchParams.delete("nthPub"),M.searchParams.delete("profile-setup-message"),history.replaceState({},"",M),!(k!=="post-subscribe-prompt"))return;const q=Ww(k,n,r,t,j);q&&(k==="start-writing"&&s(),i.popToast(({onClose:Pe})=>(0,e.h)(me.tu,{className:Od.wrapper,justifyContent:"space-between"},(0,e.h)(me.tu,{gap:8},(0,e.h)(me.gq,{className:Od.headerRow,justifyContent:"space-between",alignItems:"center"},(0,e.h)(sa.z,{look:"flex",onClick:Pe},(0,e.h)(Ls.Z,{size:20}))),(0,e.h)(J.xv.H3,{className:Od.header},q.title),q.body),(0,e.h)(sa.z,{variant:q.ctaVariant,fill:"filled",onClick:Me=>{(0,Up.Q)(Me,q.ctaLink,{native:!0}),Pe()}},q.ctaText)),{ttl:null}))},[]),null}var xi=wt(58884);const Vw=["sort"],Kw=["sort","selection"];function Fp(n,t){let r;try{r=new URL(`${location.protocol}//${location.host}${n}`)}catch(i){r=new URL(n)}for(const i of r.searchParams.keys())(t?Kw:Vw).includes(i)||r.searchParams.delete(i);return r.toString()}function $w({previous:n,url:t}){var r,i;if(typeof window=="undefined")return;const s=Fp(t,!1),M=Fp(t,!0),{head:k}=document;(r=k.querySelector("link[rel=canonical]"))==null||r.setAttribute("href",s),(i=k.querySelector('meta[property="og:url"]'))==null||i.setAttribute("content",M),(0,D.jA)({previous:n,url:t})}var jp=wt(35225),zw=wt(3312),Sd=wt.n(zw),Gw=wt(92592),Td=wt(82771),Zw=wt(28175),Wp=wt.n(Zw),Hp=wt(80587);const Yw=(0,go.Z)("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]),Jw=(0,go.Z)("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]),Id=(0,go.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var fl=wt(99869);const Vp=(0,go.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Xw=(0,go.Z)("CircleSlash2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M22 2 2 22",key:"y4kqgn"}]]);var Kp=wt(5149),Qw=wt(49770),$p=wt(17048);const qw=(0,go.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var Nu=wt(13639),la=wt(80332);const eC=(0,go.Z)("CornerDownRight",[["polyline",{points:"15 10 20 15 15 20",key:"1q7qjw"}],["path",{d:"M4 4v7a4 4 0 0 0 4 4h12",key:"z08zvw"}]]);var tC=Object.defineProperty,nC=Object.defineProperties,rC=Object.getOwnPropertyDescriptors,zp=Object.getOwnPropertySymbols,oC=Object.prototype.hasOwnProperty,iC=Object.prototype.propertyIsEnumerable,Gp=(n,t,r)=>t in n?tC(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,aC=(n,t)=>{for(var r in t||(t={}))oC.call(t,r)&&Gp(n,r,t[r]);if(zp)for(var r of zp(t))iC.call(t,r)&&Gp(n,r,t[r]);return n},sC=(n,t)=>nC(n,rC(t));const lC=n=>(0,e.h)(x.l,sC(aC({},n),{name:"LucideCornerDownRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(eC,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var Zp=wt(85344),Dd=wt(86602),Yp=wt(15748),uC=wt(62372);const cC={popoverBase:"frontend-pencraft-Popover-module__popoverBase--Nykv6"};var dC=Object.defineProperty,fC=Object.defineProperties,hC=Object.getOwnPropertyDescriptors,Ru=Object.getOwnPropertySymbols,Jp=Object.prototype.hasOwnProperty,Xp=Object.prototype.propertyIsEnumerable,Qp=(n,t,r)=>t in n?dC(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ks=(n,t)=>{for(var r in t||(t={}))Jp.call(t,r)&&Qp(n,r,t[r]);if(Ru)for(var r of Ru(t))Xp.call(t,r)&&Qp(n,r,t[r]);return n},pC=(n,t)=>fC(n,hC(t)),mC=(n,t)=>{var r={};for(var i in n)Jp.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Ru)for(var i of Ru(n))t.indexOf(i)<0&&Xp.call(n,i)&&(r[i]=n[i]);return r};const qp=n=>{var t=n,{className:r="",children:i,layerClassName:s,hideOnScroll:M=!1,onClose:k}=t,j=mC(t,["className","children","layerClassName","hideOnScroll","onClose"]);const[U,q]=(0,o.eJ)(!1),Pe=gC(ks({open:U,onClose:()=>{q(!1),k==null||k()},hideOnScroll:M,className:s},j));return _C({hideOnScroll:M,setOpen:q,open:U}),(0,e.h)("div",pC(ks({className:r},Pe.triggerProps),{onClick:Me=>{q(!U),Me.stopPropagation()}}),typeof i=="function"?i({isOpen:U}):i,Pe.layer)};function _C({hideOnScroll:n,setOpen:t,open:r}){const i=(0,o.I4)(s=>{requestAnimationFrame(()=>{var M;const j=(M=s.target.classList)==null?void 0:M.contains("popoverLayerForScrollDetection");r&&n&&!j&&t(!1)})},[n,t,r]);(0,o.d4)(()=>{if(n)return window.addEventListener("scroll",i,!0),()=>{window.removeEventListener("scroll",i,!0)}},[i,n])}function gC({open:n,onClose:t,disabled:r,possiblePlacements:i=["top-center","bottom-center","top-start","bottom-start","top-end","bottom-end"],preferPlacement:s,snap:M=!1,onOpen:k,content:j,className:U,layerOptions:q,closeOnOutsideClick:Pe=!0}){const Me=(0,o.sO)(!1);(0,o.d4)(()=>{n&&!Me.current&&k&&(Me.current=!0,k())},[n,k]);const{triggerProps:xe,layerProps:Ve,renderLayer:qe}=(0,uC.sJ)(ks(ks(ks({isOpen:r?!1:n,overflowContainer:!1,auto:!0,snap:M,possiblePlacements:i,placement:s,containerOffset:10,triggerOffset:8},Pe&&{onOutsideClick:()=>t()}),s&&{placement:s}),q));return{triggerProps:xe,layer:n&&qe((0,e.h)("div",ks({className:u()("popoverLayerForScrollDetection",cC.popoverBase,U)},Ve),typeof j=="function"?j({closePopover:t}):j))}}var Bs=wt(10186),sV=wt(28599),lV=wt(10928),uV=wt(44908),cV=wt(73955),dV=wt(71171),vC=wt(23279),Lu=wt.n(vC);const Md={searchContainer:"frontend-components-Search-module__searchContainer--OJHUw",medium:"frontend-components-Search-module__medium--Sri_d",small:"frontend-components-Search-module__small--tPvnS",searchInput:"frontend-components-Search-module__searchInput--w1uCz"};var yC=Object.defineProperty,ku=Object.getOwnPropertySymbols,em=Object.prototype.hasOwnProperty,tm=Object.prototype.propertyIsEnumerable,nm=(n,t,r)=>t in n?yC(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,bC=(n,t)=>{for(var r in t||(t={}))em.call(t,r)&&nm(n,r,t[r]);if(ku)for(var r of ku(t))tm.call(t,r)&&nm(n,r,t[r]);return n},PC=(n,t)=>{var r={};for(var i in n)em.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&ku)for(var i of ku(n))t.indexOf(i)<0&&tm.call(n,i)&&(r[i]=n[i]);return r};function EC({items:n,getKeys:t,sort:r=!0,sortFunc:i,deps:s}){const M=(Me,xe)=>{const Ve=t(Me),qe=t(xe);for(let Ge=0;Ge<Math.min(Ve.length,qe.length);Ge++){const ut=Ve[Ge].localeCompare(qe[Ge]);if(ut!==0)return ut}return Ve.length-qe.length},[k,j]=(0,o.eJ)(""),U=(0,o.Ye)(()=>Lu()(j,100),[j]),q=k.trim(),Pe=(0,o.Ye)(()=>{if(!q)return n;let Me=n.filter(xe=>t(xe).some(qe=>qe.toLowerCase().includes(q.toLowerCase())));if(r||i){const xe=i||M;Me=Me.sort(xe)}return Me},s?[q,...s]:[q,n]);return{setQuery:U,filteredItems:Pe,hasFiltered:q!==""}}function wC(n){var t=n,{setQuery:r,placeholder:i="Search...",size:s="medium"}=t,M=PC(t,["setQuery","placeholder","size"]);const k=U=>{r(U.currentTarget.value)},j=(0,o.sO)(null);return(0,e.h)(me.hs,bC({className:u()(Md.searchContainer,Md[s]),bg:"secondary",paddingX:s==="small"?12:16,gap:8,alignItems:"center",onClick:()=>{var U;return(U=j.current)==null?void 0:U.focus()}},M),(0,e.h)(op,{size:s==="small"?16:20,color:"var(--color-secondary)"}),(0,e.h)("input",{type:"search",className:Md.searchInput,ref:j,placeholder:i,onInput:k}))}var fV=wt(21125),CC=(n=>(n.CONTRIBUTOR="contributor",n.FOUNDING="founding",n.PAID="paid",n.FREE="free_subscriber",n))(CC||{}),OC=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const hV=n=>{const t=useUserSettings();useEffect(()=>{const r=()=>OC(void 0,null,function*(){try{yield fetchJson("/api/v1/user-setting",{method:"PUT",json:{type:"last_home_tab",value_text:n}})}catch(i){}});t!=null&&t.user_id&&t.last_home_tab!==n&&r()},[t,n])};var pV=wt(95582),mV=wt(11533),ta=wt(62246),_V=wt(65414);function gV({title:n,body:t,children:r}){return h(FlexColumn,{flex:"grow",alignItems:"center",justifyContent:"center",gap:16,padding:20},h(MessageCircle,{stroke:"var(--color-secondary)"}),h(SC,{title:n,body:t},r))}function SC({title:n,body:t,children:r}){return h(FlexColumn,{gap:8,alignItems:"center"},h(Text.B4,{weight:"semibold",color:"secondary",align:"center"},n),h(Text.B4,{color:"secondary",align:"center"},t),r)}var TC=Object.defineProperty,IC=Object.defineProperties,DC=Object.getOwnPropertyDescriptors,rm=Object.getOwnPropertySymbols,MC=Object.prototype.hasOwnProperty,xC=Object.prototype.propertyIsEnumerable,om=(n,t,r)=>t in n?TC(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,AC=(n,t)=>{for(var r in t||(t={}))MC.call(t,r)&&om(n,r,t[r]);if(rm)for(var r of rm(t))xC.call(t,r)&&om(n,r,t[r]);return n},NC=(n,t)=>IC(n,DC(t));function vV(n){return h(LazyComponent,NC(AC({},n),{module:"./ChatTextEditor",resolve:t=>t.ChatTextEditor,onRequest:()=>Promise.all([wt.e(313),wt.e(171),wt.e(679),wt.e(156)]).then(wt.bind(wt,35156))}))}var yV=wt(50292),xd=wt(68262);const bV={columnsContainer:"frontend-reader2-ChatPage-module__columnsContainer--vSo7y",pubChatColumn:"frontend-reader2-ChatPage-module__pubChatColumn--TGWIO",pubChatFull:"frontend-reader2-ChatPage-module__pubChatFull--SgFBJ",chatPublication:"frontend-reader2-ChatPage-module__chatPublication--vTh0w",selected:"frontend-reader2-ChatPage-module__selected--qTKem",currentVisibilityBox:"frontend-reader2-ChatPage-module__currentVisibilityBox--wzRt6",headerPubLink:"frontend-reader2-ChatPage-module__headerPubLink--CNIMt",sidebarPubName:"frontend-reader2-ChatPage-module__sidebarPubName--_d42t",sidebarChatText:"frontend-reader2-ChatPage-module__sidebarChatText--mgmc1",headerPubIcon:"frontend-reader2-ChatPage-module__headerPubIcon--UDOLY",inputBox:"frontend-reader2-ChatPage-module__inputBox--PSYZ5",modalContext:"frontend-reader2-ChatPage-module__modalContext--PpHDJ",textInputInset:"frontend-reader2-ChatPage-module__textInputInset--ieJk5",invisible:"frontend-reader2-ChatPage-module__invisible--CAUpR",textInput:"frontend-reader2-ChatPage-module__textInput--G9KKe",latestButton:"frontend-reader2-ChatPage-module__latestButton--zG35Y",submitButton:"frontend-reader2-ChatPage-module__submitButton--G9Oqa",newThreadButton:"frontend-reader2-ChatPage-module__newThreadButton--FBBiq",roundedFooterPlaceholder:"frontend-reader2-ChatPage-module__roundedFooterPlaceholder--T3lK7",addImage:"frontend-reader2-ChatPage-module__addImage--zUuSW",quoteReplyComposer:"frontend-reader2-ChatPage-module__quoteReplyComposer--CcUzS",composerLinkPreview:"frontend-reader2-ChatPage-module__composerLinkPreview--_zuKv",imageBox:"frontend-reader2-ChatPage-module__imageBox--GmsiK",image:"frontend-reader2-ChatPage-module__image--fF4sS",deleteFile:"frontend-reader2-ChatPage-module__deleteFile--yFMKJ",deleteQuote:"frontend-reader2-ChatPage-module__deleteQuote--MAU9f",communityViewContainer:"frontend-reader2-ChatPage-module__communityViewContainer--jcdQX",modalColumn:"frontend-reader2-ChatPage-module__modalColumn--ZMWSC",visibilityDropdown:"frontend-reader2-ChatPage-module__visibilityDropdown--jficQ",visibilityDropdownText:"frontend-reader2-ChatPage-module__visibilityDropdownText--EVLZC",loadingBubble:"frontend-reader2-ChatPage-module__loadingBubble--Q0iQy",loadingComposer:"frontend-reader2-ChatPage-module__loadingComposer--UAgpV",messageSquareIcon:"frontend-reader2-ChatPage-module__messageSquareIcon--tg8dR",paywall:"frontend-reader2-ChatPage-module__paywall--eejvK",footer:"frontend-reader2-ChatPage-module__footer--F2GfP",disabled:"frontend-reader2-ChatPage-module__disabled--UZZTE",header:"frontend-reader2-ChatPage-module__header--JYlUY",modalChatEditor:"frontend-reader2-ChatPage-module__modalChatEditor--__z0U"};var RC=Object.defineProperty,LC=Object.defineProperties,kC=Object.getOwnPropertyDescriptors,Bu=Object.getOwnPropertySymbols,im=Object.prototype.hasOwnProperty,am=Object.prototype.propertyIsEnumerable,sm=(n,t,r)=>t in n?RC(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Qn=(n,t)=>{for(var r in t||(t={}))im.call(t,r)&&sm(n,r,t[r]);if(Bu)for(var r of Bu(t))am.call(t,r)&&sm(n,r,t[r]);return n},hr=(n,t)=>LC(n,kC(t)),lm=(n,t)=>{var r={};for(var i in n)im.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Bu)for(var i of Bu(n))t.indexOf(i)<0&&am.call(n,i)&&(r[i]=n[i]);return r},na=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const BC=30,UC=2,FC=5,jC=5,WC=6,HC=1;function PV({}){var n,t,r;useNavContextAndTitle("Chat",{shouldShowGetAppPill:!1});const{user:i,userSettings:s,changeSetting:M}=useUserContext(),k=s.newest_seen_chat_item_published_at;useStickyTab("chat");const[j,U]=useRouter(),[q,Pe,Me,xe]=(n=j.path.match(/^\/chat(?:\/(\d+)(?:\/post\/([^\/]+)(?:\/reply\/([^\/]+))?)?)?$/))!=null?n:[],Ve=Number(Pe),qe=new URL(j.url,"https://monograph.dev"),Ge=(t=qe.searchParams)==null?void 0:t.get("targetReplyId"),ut=!!((r=qe.searchParams)!=null&&r.get("showTarget")),bt=useSubscriptionsContext(),Pt=Bn=>{var cr;const{publicationUserMap:Ln}=(cr=bt.result)!=null?cr:{publicationUserMap:new Map},er=Ln.get(Bn);return!!(er&&["contributor","admin"].includes(er.role))},[At,Lt]=useThunkReducer(dO,{user:i,inbox:{threads:[],isLoading:!0},communityPosts:new Map,communityComments:new Map,chats:new Map,comments:new Map,replies:new Map});useEffect(()=>{let Bn;const cr=()=>{if(!document.hidden){const Ln=Dm({changeSetting:M,storedNewestSeenChatItemPublishedAt:k});Lt(pO({maybeUpdateNewestSeenChatSetting:Ln}))}Bn=setTimeout(cr,BC*1e3+yO(UC))};return cr(),()=>{Bn&&clearTimeout(Bn)}},[Lt,k,M]);const Dt=At.inbox.isLoading,Ht=useMemo(()=>{const Bn=[];for(const cr of At.inbox.threads){if(!cr.communityPostId&&Pt(cr.publication.id)){Bn.push(hr(Qn({},cr),{communityPost:null,user:i}));continue}const Ln=cr.communityPostId&&At.communityPosts.get(cr.communityPostId);Ln&&!Ln.isNew&&Bn.push(Qn(Qn({},cr),Ln))}return Bn},[At.inbox.threads,At.communityPosts,i]),on=Bn=>{var cr,Ln,er;return[Bn.publication.name,...Bn.publication.contributors.map(qt=>qt.name),(cr=Bn.user)==null?void 0:cr.name,(er=(Ln=Bn.communityPost)==null?void 0:Ln.body)==null?void 0:er.substring(0,80)].filter(Boolean)},{setQuery:hn,filteredItems:an}=useSearch({items:Ht,getKeys:on}),[mn,rr]=useState(new Map),Gn=new Map((Ht||[]).map(Bn=>mn.has(Bn.publication.id)?[Bn.publication.id,mn.get(Bn.publication.id)]:Bn.lastViewedAt?[Bn.publication.id,dayjs(Bn.lastViewedAt)]:null).filter(Boolean));useEffect(()=>{typeof Ve!="number"||isNaN(Ve)||(fetch(`/api/v1/community/publications/${Ve}/seen`,{method:"POST"}).then(()=>{}),rr(mn.set(Ve,dayjs())))},[Ve]),useEffect(()=>{Dt||track(EVENTS.THREADS_INBOX_SCREEN_VIEWED,{unread_count:Ht.filter(Bn=>cm(Bn,Gn)).length,thread_count:Ht.length})},[Dt]);const Vn=(Bn,cr,Ln,er)=>{U(pathWithQuery(`/chat${Bn!=null?`/${Bn}`:""}${cr!=null?`/post/${cr}`:""}${Ln!=null?`/reply/${Ln}`:""}`,{targetReplyId:er}))},_n=Bn=>{Vn(Bn)},jn=Bn=>{Vn(Ve,Bn)},_r=(Bn,cr=null)=>{Vn(Ve,Me,Bn,cr)},nr=useMemo(()=>({dispatch:Lt}),[]),qn=useRef(null);qn.current!==Ve&&(qn.current=null);const Rn=!!qn.current;return useEffect(()=>{if(!Dt&&Ht.length&&!Ve){const Bn=Ht[0].publication.id;qn.current=Bn,Vn(Bn)}},[Dt]),h(ym.Provider,{value:nr},h(FlexRow,{className:css.columnsContainer,flex:"grow"},setMetaData({title:"Chat | Substack",description:"Chat with your favorite writers on Substack",image:imginary("/img/reader/chat-page-thumb.jpg")}),h(FlexColumn,{overflowY:"auto",borderRight:"detail",width:350},h(FlexColumn,{flex:"auto",padding:20,borderBottom:"detail"},h(SearchBox,{setQuery:hn,placeholder:"Search chats..."})),Dt?h(VC,null):an.length>0?h(PageStack2,{gap:0},an.map(Bn=>(Bn.communityPost&&Bn.user||Pt(Bn.publication.id))&&h($C,{key:Bn.publication.id,item:Bn,onSelect:_n,isSelected:Ve===Bn.publication.id,isUnread:cm(Bn,Gn)}))):Ht.length>0?h(FlexColumn,{paddingTop:8},h(FlexColumn,{justifyContent:"center",alignItems:"center",flex:"fill",padding:32},h(TextZero,{title:"No chats found",body:"Please try again with a different search term."}))):h(FlexColumn,{justifyContent:"center",alignItems:"center",flex:"grow",paddingX:32},h(ChatZero,{title:"You don\u2019t have any threads",body:"When one of your subscriptions starts a new thread, it will appear here."}))),xe!=null?h(hm,{key:"replies",postId:Me,pubId:Ve,parentCommentId:xe,state:At,onBack:()=>_r(null,xe),navigateToChat:()=>jn(null),targetReplyId:Ge,showTarget:ut,isAutoSelected:Rn}):Me!=null?h(hm,{key:"comments",postId:Me,pubId:Ve,state:At,onBack:()=>jn(null),onSelect:_r,navigateToChat:()=>jn(null),targetReplyId:Ge,showTarget:ut,isAutoSelected:Rn}):Ve?h(ZC,{key:Ve,pubId:Ve,state:At,onSelect:jn,isAutoSelected:Rn}):Dt?h(um,null):h(ChatZero,{title:"Click on a chat in the sidebar to get started.",body:"Once you do, it will appear here."})))}function um(){return h(FlexColumn,null,h(FlexBox,{paddingX:24},h(FlexBox,{justifyContent:"space-between",alignItems:"center",borderBottom:"detail",className:css.header,gap:8,flex:"grow",paddingTop:8},h(Placeholder,{type:"circle",size:40}),h(Placeholder,{type:"bar",width:300,height:20}),h(Placeholder,{type:"circle",size:40}))),h(Ad,{direction:"column-reverse"},h(ds,{numberToLoad:2})),h(FlexBox,{justifyContent:"center",alignItems:"center",borderTop:"detail",className:css.footer},h(Placeholder,{type:"bar",height:48,width:360,className:css.roundedFooterPlaceholder})))}function VC(){return h(PageStack2,null,Array(8).fill(0).map(()=>h(KC,null)))}function KC(){return h(FlexBox,{gap:16,padding:16},h(Placeholder,{type:"circle",size:40}),h(FlexColumn,{gap:8,flex:"grow"},h(Placeholder,{type:"bar",maxWidth:100}),h(Placeholder,{type:"bar",maxWidth:300}),h(Placeholder,{type:"bar",maxWidth:200})))}function $C({item:n,onSelect:t,isSelected:r,isUnread:i}){return h(FlexRow,{onClick:()=>t(n.publication.id),className:classnames(css.chatPublication,{[css.selected]:r}),alignItems:"start",gap:16,padding:20},n.user&&h(AvatarWithPub,{user:n.user,size:56,pub:n.publication}),h(FlexColumn,{gap:4,flex:"grow",minWidth:0},h(FlexBox,{justifyContent:"space-between",alignItems:"center",gap:8},h(Text.Meta,{className:css.sidebarPubName,ellipsis:!0},n.publication.name),n.communityPost&&h(Text.Meta,{ellipsis:!0},dayjs(n.communityPost.created_at).fromNowShort()),i&&h(UnreadDot,null)),h(Text,{clamp:2,size:14,isParagraph:!0,className:css.sidebarChatText},n.user&&h(Text.B4,{as:"span",color:"primary",weight:"semibold"},n.user.name,":"," "),n.communityPost&&h(Text.B4,{as:"span",color:"secondary"},h(zC,{post:n.communityPost})))))}function zC({post:n}){var t;const{isPaid:r,isFounding:i,isAuthor:s}=useSubscriptionStatus(n.publication_id);return n.reported_by_user?h("em",null,"You flagged this thread."):!(i||s)&&n.audience==="only_founding"?h("em",null,"started a thread for founding subscribers."):!(r||i||s)&&n.audience==="only_paid"?h("em",null,"started a thread for paid subscribers."):n.link_url?h(GC,{linkMetadata:n.link_metadata}):n.media_assets&&((t=n.media_assets)==null?void 0:t.length)>0?h(Fragment,null,h("em",null,`shared ${n.media_assets.length} ${n.media_assets.length>1?"photos":"photo"}.`),n.body&&` ${n.body}`):h(Fragment,null,n.body)}function GC({linkMetadata:n}){return h(Fragment,null,h("em",null,"shared a link."),n&&` "${n.title}"`)}function cm(n,t){if(!n.communityPost)return!1;const r=t.get(n.publication.id);return r?dayjs(n.communityPost.created_at).isAfter(r):!0}function ZC({pubId:n,onSelect:t,state:r,isAutoSelected:i}){var s,M,k,j,U,q;const{changeSetting:Pe,userSettings:Me}=useUserContext(),xe=Me.newest_seen_chat_item_published_at,Ve=Aa(),qe=(s=r.chats.get(n))!=null?s:Uu,Ge=r.inbox.isLoading&&r.inbox.threads.length===0,ut=(M=qe.publication)==null?void 0:M.threads_v2_settings,bt=!!((k=qe.publication)!=null&&k.threads_v2_enabled),Pt=useRef(null),At=useRef(0),{getConfigFor:Lt}=useSiteConfigs(),Dt=!!Lt("chat_founding_tier");useEffect(()=>{qe.publication&&track(EVENTS.PUBLICATION_THREADS_SCREEN_VIEWED,{publicationId:qe.publication.id,isAutoSelected:i})},[n,!!qe.publication]),useLayoutEffect(()=>{var Pn;const gr=Pt.current;gr&&(gr.scrollTop=(Pn=qe.scrollPosition)!=null?Pn:0);const fr=()=>{Ve({type:"posts-save_scroll_position",payload:{publication_id:n,scrollPosition:At.current}})},Nr=()=>{var $n;At.current=($n=gr==null?void 0:gr.scrollTop)!=null?$n:0};return gr==null||gr.addEventListener("scroll",Nr,{passive:!0}),()=>{gr==null||gr.removeEventListener("scroll",Nr),fr()}},[n,!!Pt.current]),useEffect(()=>{let Pn;const gr=()=>{if(!document.hidden){const fr=Dm({changeSetting:Pe,storedNewestSeenChatItemPublishedAt:xe});Ve(vm(n,!0,{maybeUpdateNewestSeenChatSetting:fr}))}Pn=setTimeout(gr,FC*1e3)};return Ve({type:"posts-request_initial",payload:{publication_id:n}}).then(gr),()=>{Pn&&clearTimeout(Pn)}},[n,Ve,xe,Pe]);const Ht=useFetch({pathname:`/api/v1/community/publications/${n}/posts`,method:"POST",deps:[n]}),on=()=>{setTimeout(()=>{var Pn;(Pn=Pt.current)==null||Pn.scrollTo({top:0})},0)},{isPaid:hn,isAuthor:an,isFreeSubscribed:mn,isFounding:rr}=useSubscriptionStatus(n),Gn=(ut==null?void 0:ut.create_thread_minimum_role)===CreateThreadRole.FOUNDING,Vn=(ut==null?void 0:ut.create_thread_minimum_role)===CreateThreadRole.PAID,_n=(ut==null?void 0:ut.create_thread_minimum_role)===CreateThreadRole.FREE,jn=an||Gn&&rr||Vn&&(hn||rr)||_n&&(mn||hn||rr),_r=Pn=>na(this,[Pn],function*({value:gr,mediaAssets:fr,sendAsEmail:Nr,audience:$n,linkUrl:Cr}){const Er=uniqueId();Ve({type:"posts-new",payload:{publication_id:n,body:gr,media_assets:fr,link_url:Cr,type:fr?"media":Cr?"link":"text",audience:$n!=null?$n:"all_subscribers",id:Er}}),on();const kr=yield Ht.refetch({json:{body:gr,media_urls:fr==null?void 0:fr.map(fo=>fo.url),audience:$n!=null?$n:"all_subscribers",type:fr?"media":"text",send_email:!!Nr,link_url:Cr}});kr instanceof Error?alert("We failed to post your thread. Please try again later."):(Ve({type:"posts-commit",payload:{publication_id:n,id:Er,chatItem:kr}}),Pe("newest_seen_chat_item_published_at",kr.communityPost.created_at))}),nr=()=>{Ve(mO(n))},qn=!1,Rn=Pn=>{if(qn||!qe.hasMore||qe.isLoadingMore)return;const{currentTarget:gr}=Pn;gr.scrollTop<gr.offsetHeight-gr.scrollHeight+100&&nr()},cr=(qe.posts.length===0||qe.posts.every(Pn=>{const gr=r.communityPosts.get(Pn);return!gr||Na(gr)&&gr.communityPost.status!=="published"}))&&!qe.isLoadingMore&&!qe.hasMore,Ln=an&&cr,er=qe.posts.map(Pn=>r.communityPosts.get(Pn)).filter(Pn=>Pn!==void 0&&Pn.communityPost.status==="published");let qt;const Sn=[];let Yt=[];for(const Pn of er){const gr=dayjs(Pn.communityPost.created_at);qt&&!gr.isSame(qt,"day")&&(Sn.push({day:qt,group:Yt}),Yt=[]),Yt.push(Pn),qt=gr}qt&&Yt.length>0&&Sn.push({group:Yt,day:qt});const ir=qe.error;return ir?h(wm,{pubErr:ir}):!bt&&!Ge?an?h(Ii,{title:"You haven't enabled chat for this publication yet.",body:"Once you do, you can access its chat here."},qe.publication&&h(Ka,{onClick:()=>{qe.publication&&(window.location.href=`${getPublishSettingsUrl(qe.publication,{addBase:!0,section:"chat-settings"})}`)}},"Enable chat")):h(Ii,{title:"This publication has not enabled chat yet.",body:"Once it does, you can access its chat here."}):Ge?h(um,null):h(QC,null,qe.publication&&h(fm,{pub:qe.publication}),Ln?h(Ii,{title:"You haven't started any threads yet.",body:"Once you do, they'll appear here."}):cr?h(Ii,{title:"This publication has not started any threads.",body:"Once it does, they'll appear here."}):h(Ad,{direction:"column-reverse",onScroll:Rn,forwardRef:Pt},Sn.map(({day:Pn,group:gr})=>h(EO,{key:Pn.toISOString(),day:Pn,items:gr,onSelect:t,isPaid:hn||rr||an,isFounding:rr||an})),qe.isLoadingMore?h(ds,{numberToLoad:2}):qe.hasMore&&h(Rd,{onClick:nr})),jn?h(nO,{publicationId:n,placeholder:"Start a new thread",maxImagesToUpload:WC,disabled:Ht.isLoading,onSubmit:_r,publishOptionsEnabled:an,visibilityOptions:{hasPaid:!!((j=qe.publication)!=null&&j.plans),hasFounding:Dt&&!!((q=(U=qe.publication)==null?void 0:U.plans)!=null&&q.find(Pn=>{var gr;return(gr=Pn.metadata)==null?void 0:gr.founding}))}}):h(FlexBox,{justifyContent:"center",alignItems:"center",paddingX:24,borderTop:"detail",className:classnames(css.footer,css.disabled)},h(FlexRow,{gap:8,alignItems:"center"},h(MessageSquare,{size:16,className:css.messageSquareIcon}),h(Text.B4,{color:"secondary"},"Click any thread to reply"))))}function YC({item:n,onSelect:t,isPaid:r,isFounding:i}){const{communityPost:s}=n,M=!r&&s.audience==="only_paid"||!i&&s.audience==="only_founding",k=()=>t(s.id),j=U=>{U.defaultPrevented||k()};return h(FlexColumn,{onClick:j,className:classnames(!M&&css.communityViewContainer)},M?h(Cm,{user:n.user,commenters:s.recent_commenters,count:s.comment_count,audience:s.audience}):h(CommunityPostView,{communityPost:s,author:n.user,onReply:k}))}function dm({pub:n,children:t,className:r}){return h(FlexBox,{justifyContent:"center",alignItems:"center",as:"a",target:"_blank",href:getPubUrl(n,{signedIn:!0}),className:r},t)}function fm({pub:n}){return h(FlexBox,{paddingX:24,key:n.id},h(FlexBox,{justifyContent:"space-between",alignItems:"center",borderBottom:"detail",className:css.header,gap:8,flex:"grow",paddingTop:8},h(dm,{pub:n,className:css.headerPubLink},h(PubIcon,{className:css.headerPubIcon,pub:n,size:40})),h(dm,{pub:n,className:css.headerPubLink},h(Text.H4,null,n.name)),h(FlexBox,{justifyContent:"center",alignItems:"center"},h(ChatAvatar,{user:{id:n.author_id,name:n.author_name,photo_url:n.author_photo_url},size:40}))))}function hm({postId:n,pubId:t,parentCommentId:r,onBack:i,isAutoSelected:s,onSelect:M,state:k,navigateToChat:j,targetReplyId:U,showTarget:q}){var Pe,Me,xe,Ve,qe,Ge,ut,bt,Pt,At,Lt;const Dt=r?(Pe=k.replies.get(r))!=null?Pe:Fu:(Me=k.comments.get(n))!=null?Me:Fu,Ht=k.communityPosts.get(n),on=r&&k.communityComments.get(r),hn=k.inbox.isLoading&&k.inbox.threads.length===0,an=k.chats.get(t),mn=k.inbox,rr=(qe=(Ve=(xe=an==null?void 0:an.publication)==null?void 0:xe.threads_v2_settings)==null?void 0:Ve.photo_replies_enabled)!=null?qe:!1,[Gn,Vn]=useState(null),_n=`${r?`replies-${r}`:`comments-${n}`}-${Dt.comments.length}${Gn?`-${Gn.comment.id}`:""}`,{isAuthor:jn,isFounding:_r,isPaid:nr,isFreeSubscribed:qn}=useSubscriptionStatus(t),Rn={quoteReply:Gn,cancelQuoteReply:()=>Vn(null)},Bn=ro=>{var vo;const Wo=(vo=k.communityComments.get(ro.id))==null?void 0:vo.user;Wo?Vn({comment:ro,user:Wo}):alert("Could not create a quote reply for this comment. Please try again.")};useEffect(()=>{r?on&&Ra(on)&&track(EVENTS.THREAD_REPLY_PERMALINK_VIEWED,{publication_id:t,community_post_id:n,community_comment_id:r,isAutoSelected:s}):Ht&&Na(Ht)&&track(EVENTS.THREAD_PERMALINK_VIEWED,{publication_id:t,community_post_id:n,type:Ht.communityPost.type,audience:Ht.communityPost.audience,isAutoSelected:s})},[r,n,t,!!Ht,!!on]);const cr=useUser(),Ln=useRef(),er=useRef(),qt=Aa(),[Sn,Yt]=useState(null),[ir,Pn]=r?["replies",{parentCommentId:r}]:["comments",{postId:n}],gr=!Dt.before.isLoading&&!Dt.after.isLoading&&Dt.comments.length===0,fr=r!=null?`/api/v1/community/comments/${r}/comments`:`/api/v1/community/posts/${n}/comments`,Nr=r!=null?r:n,$n=(ro,vo)=>na(this,null,function*(){qt({type:`${ir}-request_initial`,payload:hr(Qn({},Pn),{order:ro})});const Wo=ro==="desc"?"before":"after";try{const Qo=yield fetchJson(fr,{query:{order:ro,targetReplyId:vo!=null?vo:void 0}});qt({type:`${ir}-load_edge`,payload:hr(Qn({},Pn),{edge:Wo,result:Qo})})}catch(Qo){return console.warn(Qo),qt({type:`${ir}-error`,payload:hr(Qn({},Pn),{edge:Wo,error:Qo})}),ro==="desc"&&Cr(),Qo}return vo?(setTimeout(()=>{const Ho=document.getElementById(`comment-${vo}`);Ho&&(q?Ho.scrollIntoView({behavior:"smooth",block:"center"}):Ho.scrollIntoView({behavior:"auto",block:"center"}))},q?250:50),null):(ro==="desc"&&Cr(),null)}),Cr=()=>{setTimeout(()=>{var ro;(ro=Ln.current)==null||ro.scrollTo({top:1e7})},0)},Er={before:!1,after:!1},kr=(ro,vo)=>{if(!(Er[ro]||Dt[ro].isLoading))return Er[ro]=!0,fo(ro,vo)},fo=(ro,vo)=>na(this,null,function*(){var Wo,Qo,Ho,ya;qt({type:`${ir}-request_edge`,payload:hr(Qn({},Pn),{edge:ro})});const Ia=last(Dt.comments),ts=Dt.comments[0],il=ro==="before"?{order:"desc",before:Ia&&((Wo=k.communityComments.get(Ia))==null?void 0:Wo.comment.created_at)}:{order:"asc",after:ts&&((Qo=k.communityComments.get(ts))==null?void 0:Qo.comment.created_at)};try{const fa=yield fetchJson(fr,hr(Qn({},vo),{query:il})),{current:ba}=Ln,sd=(ya=(Ho=er.current)==null?void 0:Ho.offsetHeight)!=null?ya:0;qt({type:`${ir}-load_edge`,payload:hr(Qn({},Pn),{edge:ro,result:fa})}),setTimeout(()=>{var _u,gu;if(Dt.order==="desc"&&ba){const{scrollTop:Vh}=ba;ba.scrollTo({top:Vh+(((gu=(_u=er.current)==null?void 0:_u.offsetHeight)!=null?gu:0)-sd)})}},0)}catch(fa){console.warn(fa),qt({type:`${ir}-error`,payload:hr(Qn({},Pn),{edge:ro,error:fa})})}}),ao=ro=>{Dt[ro].hasMore&&kr(ro)},mo=ro=>{const{currentTarget:vo}=ro,{scrollTop:Wo,offsetHeight:Qo,scrollHeight:Ho}=vo;Ho>Qo&&(Wo<100?ao("before"):Wo>Qo-Ho-100&&ao("after"))};useEffect(()=>{$n("asc",U).then(ro=>{ro&&Yt(ro)})},[Nr,U]);const _i=useRef(fo);_i.current=fo,useEffect(()=>{if(!gr&&Dt.order==="desc"){let ro=new AbortController;const vo=()=>{setTimeout(()=>na(this,null,function*(){ro.signal.aborted||(ro=new AbortController,yield _i.current("after",{signal:ro.signal}),vo())}),jC*1e3)};return vo(),()=>{ro.abort()}}},[Nr,gr,Dt.order]);const Ro=useFetch({pathname:`/api/v1/community/posts/${n}/comments`,method:"POST",deps:[Nr]}),ga=(ro,vo,Wo)=>na(this,null,function*(){const Qo="We failed to upload your media. Please try again later.",Ho=ro[0],{contentType:ya}=Ho,Ia=yield bO(vo,Wo,ya);if(Ia instanceof Error){alert(Qo);return}const{url:ts}=Ia;(yield PO(Ho,ts))instanceof Error&&alert(Qo)}),va=ro=>na(this,[ro],function*({value:vo,mediaAssets:Wo,mentions:Qo}){const Ho=vo!=null?vo:"",ya=uuid();Dt.order==="asc"&&$n("desc");let Ia=null;Wo&&(Ia=Wo.map(ba=>({id:uuid(),url:ba.url,content_type:ba.contentType,type:"image",file:ba.file})));const ts={is_founding:!!_r,membership_state:nr?"subscribed":"free_signup",role:jn?"admin":null};qt({type:`${ir}-new`,payload:hr(Qn({},Pn),{id:ya,body:Ho,postId:n,mediaUploads:Ia,quoteReply:Gn,mentions:Qo,pubRoles:ts})});const il=Gn==null?void 0:Gn.comment.id;Gn&&Vn(null),Cr(),Wo&&(yield ga(Wo,ya,t));const fa=yield Ro.refetch({json:{id:ya,body:Ho,parent_id:r,quote_id:il,mentions:Qo}});if(!(fa instanceof Error))qt({type:`${ir}-commit`,payload:hr(Qn({},Pn),{id:ya,reply:fa})});else if(fa instanceof FetchError){const ba=fa.body.status==="PUBLICATION_BAN";alert(ba?`You are not allowed to post to this chat. ${fa.body.error}`:"We failed to post your comment. Please try again later.")}}),Ri=Sn&&((Ge=Sn.body)==null?void 0:Ge.status)==="PUBLICATION_NOT_FOUND";if(useEffect(()=>{!an&&!mn.isLoading&&!Ri&&j()},[mn.isLoading]),Ri)return h(Ii,{title:"We could not find this publication.",body:"Please select another publication and try again."});if(!an&&!hn)return h(Ii,{title:"Something went wrong",body:"Navigate back to the publication chat by clicking the button below"},h(Ka,{onClick:j},"Back to chat"));if(an&&an.error)return h(wm,{pubErr:an.error});if(Sn&&((ut=Sn.body)==null?void 0:ut.status)==="POST_NOT_FOUND")return h(Ii,{title:"We could not find the parent post",body:"Navigate back to the publication chat by clicking the button below"},h(Ka,{onClick:j},"Back to chat"));if(U&&Sn&&((bt=Sn.body)==null?void 0:bt.status)==="COMMENT_NOT_FOUND")return h(Ii,{title:"We could not find this reply",body:"Navigate back by clicking the button below"},h(Ka,{onClick:i},"Go back"));if(Sn&&((Pt=Sn.body)==null?void 0:Pt.status)==="COMMENT_NOT_FOUND")return h(Ii,{title:"We could not find the parent comment",body:"Navigate back by clicking the button below"},h(Ka,{onClick:i},"Go back"));if(Ht&&Ht.isNew||on&&on.isNew)return h(Ii,{title:"You cannot comment on this post yet",body:"Navigate back by clicking the button below"},h(Ka,{onClick:i},"Go back"));if(Ht&&Ht.communityPost.publication_id!==t)return h(Ii,{title:"This post does not belong to this publication",body:"Navigate back to the publication chat by clicking the button below"},h(Ka,{onClick:j},"Back to chat"));if(on&&on.comment.post_id!==n)return h(Ii,{title:"This comment does not belong to this post",body:"Navigate back to the publication chat by clicking the button below"},h(Ka,{onClick:j},"Back to chat"));const Ta=Sn&&((At=Sn.body)==null?void 0:At.status)==="PAID_SUBSCRIPTION_REQUIRED",Qi=Sn&&((Lt=Sn.body)==null?void 0:Lt.status)==="FOUNDING_MEMBERSHIP_REQUIRED",hu=Ta||Qi,Os=Ht&&Na(Ht)&&!Ht.communityPost.is_locked,Hh=jn||!hu&&Os&&(r?on&&Ra(on)&&!on.comment.is_locked:!0),pu=ro=>vo=>{if(!ro)return;vo.preventDefault();const Wo=ro.comment.id;Dt.comments.find(Ho=>Ho===Wo)&&setTimeout(()=>{const Ho=document.getElementById(`comment-${Wo}`);Ho&&Ho.scrollIntoView({behavior:"smooth",block:"start"})},100)},mu=Ro.isLoading||hn;return h(qC,null,(an==null?void 0:an.publication)&&h(fm,{pub:an.publication}),h(XC,{onClick:i}),h(FlexColumn,{style:{position:"relative"},flex:"grow"},h(Ad,{onScroll:mo,forwardRef:Ln,fullWidth:!0},hn?h(ds,{showReplyBubble:!1}):hu?h(Cm,{user:on?on.user:Ht?Ht.user:null,showReply:!1,analyticsParams:{publication_id:t,community_post_id:n},audience:Ta?"only_paid":Qi?"only_founding":void 0}):on||Ht?h(FlexColumn,{className:css.communityViewContainer},on&&!on.isNew?h(CommunityCommentView,{key:on.comment.id,communityComment:on.comment,isBanned:on.is_banned,pubRole:on.pub_roles,chatPublicationId:t,author:on.user,quoteReply:on.quote,onDelete:i,hideReply:!0}):Ht&&!Ht.isNew&&h(CommunityPostView,{key:Ht.communityPost.id,communityPost:Ht.communityPost,author:Ht.user,onDelete:i,hideReply:!0})):h(ds,{showReplyBubble:!1}),h(JC,null),hn?h(ds,{numberToLoad:2}):Ta?h(ChatZero,{title:"Only paid subscribers can read comments",body:"Upgrade to a paid subscription to access the chat"},(an==null?void 0:an.publication)&&h(Ld,{pub:an.publication,utm_source:"web-chat-paywall"})):Qi?h(ChatZero,{title:"Only founding members can read comments",body:"Upgrade to a founding membership to access the chat"},(an==null?void 0:an.publication)&&h(Ld,{pub:an.publication,utm_source:"web-chat-paywall"})):gr?h(ChatZero,{title:"No replies yet",body:"Be the first to add a reply below"}):h(Fragment,null,Dt.before.error&&h(Em,null),Dt.before.isLoading?h(ds,null):Dt.before.hasMore&&h(Rd,{onClick:()=>kr("before")}),h(FlexColumn,{ref:er,gap:24},Dt.comments.slice().reverse().map(ro=>{const vo=k.communityComments.get(ro);if(vo&&vo.comment.status==="published"){const Wo=!vo.isNew&&M?()=>M(vo.comment.id):void 0,Qo=Ho=>{Ho.defaultPrevented||Wo==null||Wo()};return h(FlexColumn,{alignItems:"start",onClick:Qo,className:css.communityViewContainer},h(CommunityCommentView,{key:vo.comment.id,communityComment:vo.comment,isBanned:vo.is_banned,chatPublicationId:t,quoteReply:vo.quote,pubRole:vo.pub_roles,onQuoteReplyClick:pu(vo.quote),onNewQuote:Bn,author:vo.isNew?cr:vo.user,onReply:Wo,isTargeted:q&&U===vo.comment.id}))}})),Dt.after.error&&h(Em,null),Dt.after.isLoading&&Dt.order==="asc"?h(ds,null):Dt.after.hasMore&&h(Rd,{onClick:()=>kr("after")}))),Dt.order==="asc"&&Dt.after.hasMore&&h(Button,{className:css.latestButton,onClick:()=>$n("desc"),rounded:!0},"Latest")),Hh&&(mu?h(uO,null):h(oO,{stateChangeKey:_n,placeholder:"Add a reply...",maxImagesToUpload:HC,photosEnabled:rr,onSubmit:va,quoteHandler:Rn,mentionsContext:{publication_id:t,community_post_id:n,community_comment_id:r}})))}function JC(){return h(FlexBox,{borderTop:"detail",alignSelf:"stretch"})}function XC({onClick:n}){return h(FlexBox,{paddingX:24,paddingTop:16},h(IconButton,{size:40,onClick:n,fill:"outline",priority:"secondary"},h(ArrowLeft,{size:20})))}function QC(n){return h(FlexColumn,Qn({},n))}function qC(n){return h(FlexColumn,Qn({},n))}function Ad({children:n,direction:t="column",onScroll:r,forwardRef:i,fullWidth:s}){return h(FlexBox,{className:css.pubChatColumn,overflowY:"auto",padding:24,flex:"grow",direction:t,onScroll:r,ref:i,alignItems:s?"stretch":"start"},h(FlexBox,{className:css.pubChatFull,gap:24,direction:t},n))}function eO(){const[n,t]=useState([]);return{files:n,clearFiles:()=>{t([])},addFiles:M=>{t(k=>[...k,...M])},removeFile:M=>{t(k=>k.filter(j=>j!==M))}}}function tO(n){return Promise.all(n.map(t=>na(this,null,function*(){return{file:t,imageData:yield getImageDataFromFileInput({files:[t]})}}))).then(t=>t.map(r=>{var i;return{contentType:r==null?void 0:r.file.type,url:(i=r==null?void 0:r.imageData)==null?void 0:i.url,bytes:r==null?void 0:r.file.size,file:r==null?void 0:r.file}}))}function pm(n,t){const r=useUser(),[i,s]=useState(!1),M={value:i,flip:()=>s(_n=>!_n)},[k,j]=useState("all_subscribers"),U={value:k,set:j},[q,Pe]=useState(""),[Me,xe]=useState(),[Ve,qe]=useState(null),Ge=useRef(null),{files:ut,clearFiles:bt,addFiles:Pt,removeFile:At}=eO(),Lt=`You can only upload ${n} ${n>1?"images":"image"} at a time.`,Dt=q.trim()!==""||ut.length>0||Ve!==null,[Ht,on]=useState(!1),hn={isSubmitting:Ht,clearSubmission:()=>on(!1)},an=_n=>na(this,null,function*(){_n==null||_n.preventDefault();const jn=q.trim(),_r=ut.slice(),nr=Me?Qn({},Me):void 0,qn=Ve;if(Dt){Pe(""),bt(),xe(void 0),on(!0),qe(null);let Rn;if(_r.length>0)try{Rn=yield tO(_r)}catch(Bn){console.error("error getting media urls",Bn)}t({value:jn,sendAsEmail:i,audience:k,mediaAssets:Rn,mentions:nr,linkUrl:qn})}}),mn=(_n,jn=!0)=>{Dt&&jn&&_n.key==="Enter"&&!_n.shiftKey&&!_n.altKey&&an(_n)},rr=useRef(null),Gn=()=>{var _n;ut.length>=n?alert(Lt):(_n=rr.current)==null||_n.click()},Vn=_n=>{_n.stopPropagation(),_n.preventDefault();const jn=[..._n.target.files];jn.length+ut.length>n?alert(`${Lt} Please try again.`):Pt(jn),rr!=null&&rr.current&&(rr.current.value="")};return useEffect(()=>(Ge.current&&clearTimeout(Ge.current),Ge.current=setTimeout(()=>{const _n=parseValidLinks(q);qe(jn=>_n.length>0?_n[0].href:jn)},500),()=>{Ge.current&&clearTimeout(Ge.current)}),[q,qe]),{user:r,canSubmit:Dt,files:ut,linkUrl:Ve,setLinkUrl:qe,handleSubmit:an,inputFile:rr,removeFile:At,onChangeFile:Vn,onImageButtonClick:Gn,textValue:q,setTextValue:Pe,setMentionMap:xe,handleKeyDown:mn,sendAsEmailHandler:M,postAudienceHandler:U,submissionTracker:hn}}function nO({publicationId:n,placeholder:t,maxImagesToUpload:r,publishOptionsEnabled:i,visibilityOptions:s,disabled:M,onSubmit:k}){const[j,U]=useState(!1),q=()=>U(!1);return useEffect(()=>{j&&track(EVENTS.THREADS_COMPOSER_SCREEN_VIEWED,{publication_id:n})},[j]),h(Fragment,null,h(FlexBox,{justifyContent:"center",alignItems:"center",flex:"auto",borderTop:"detail",className:css.footer},h(Button,{className:css.newThreadButton,priority:"primary",fill:"filled",onClick:()=>U(!0),disabled:j||M,rounded:!0},t)),h(Modal,{isOpen:j,onClose:q,fullscreenMobile:!0},h(rO,{maxImagesToUpload:r,publishOptionsEnabled:i,visibilityOptions:s,onSubmit:k,handleCloseModal:q})))}function rO({maxImagesToUpload:n,publishOptionsEnabled:t,visibilityOptions:r,onSubmit:i,handleCloseModal:s}){const{user:M,files:k,handleSubmit:j,inputFile:U,removeFile:q,onChangeFile:Pe,onImageButtonClick:Me,textValue:xe,setTextValue:Ve,handleKeyDown:qe,sendAsEmailHandler:Ge,postAudienceHandler:ut,canSubmit:bt,linkUrl:Pt,setLinkUrl:At}=pm(n,i),Lt=useCallback((Dt,Ht)=>{Ve(Dt)},[Ve]);return h(FlexColumn,{className:css.modalColumn},h(FlexRow,{borderBottom:"detail",alignItems:"center",paddingY:12,paddingX:16,justifyContent:"space-between"},h(FlexBox,{alignItems:"center",gap:8},h(Text.H3,null,"New Thread")),h(IconButton,{size:40,"aria-label":"Close",onClick:s},h(X,{size:20,"aria-hidden":"true"}))),h(FlexColumn,{gap:16,padding:16,flex:"grow"},h(FlexBox,{gap:12,className:classnames(css.inputBox,css.modalContext),flex:"grow",paddingRight:8},h(Avatar,{size:48,user:M}),h(FlexBox,{flex:"grow"},h(LazyChatTextEditor,{defaultValue:xe,placeholder:"Write something...",onChange:Lt,onReturn:j,className:css.modalChatEditor}))),k.length>0&&h(_m,{files:k,deleteFile:q}),Pt&&h(aO,{linkUrl:Pt,deleteLink:()=>At(null)})),t&&h(FlexRow,{borderTop:"detail",padding:16,justifyContent:"space-between"},h(FlexBox,{gap:8,alignItems:"center",paddingLeft:8},h(Mail,{size:24,fontWeight:"medium"}),h(Text.B4,{weight:"medium"},"Also send as email")),h(Switch,{checked:Ge.value,onChange:Ge.flip,color:"default"})),t&&r.hasPaid&&h(FlexRow,{borderTop:"detail",padding:16,justifyContent:"space-between"},h(Popover,{content:({closePopover:Dt})=>h(iO,{visibilityOptions:r,currentVisibility:ut.value,onPick:Ht=>{ut.set(Ht),Dt()}}),preferPlacement:"top-start"},h(FlexBox,{gap:8,alignItems:"center",paddingLeft:8,className:css.currentVisibilityBox},ut.value==="all_subscribers"?h(Fragment,null,h(Unlock,{size:24,fontWeight:"medium"}),h(Text.B4,{weight:"medium"},"Visible to ",h("b",null,"all subscribers"))):ut.value==="only_paid"?h(Fragment,null,h(Lock,{size:24,fontWeight:"medium"}),h(Text.B4,{weight:"medium"},"Only visible to ",h("b",null,"paid subscribers"))):ut.value==="only_founding"?h(Fragment,null,h(Lock,{size:24,fontWeight:"medium"}),h(Text.B4,{weight:"medium"},"Only visible to ",h("b",null,"founding members"))):null))),h(FlexRow,{borderTop:"detail",padding:16,justifyContent:"space-between"},h("input",{type:"file",accept:"image/*",id:"file",ref:U,style:{display:"none"},onChange:Pe,"aria-label":"Add image",multiple:!0}),h(mm,{onClick:Me,fontWeight:"medium",size:24,color:"primary-text"}),h(Button,{className:css.submitButton,priority:"primary",disabled:!bt,onClick:Dt=>{j(Dt),s()}},"Post")))}function oO({stateChangeKey:n,onSubmit:t,placeholder:r,maxImagesToUpload:i,photosEnabled:s,quoteHandler:M,mentionsContext:k}){const{user:j,files:U,handleSubmit:q,inputFile:Pe,removeFile:Me,onChangeFile:xe,onImageButtonClick:Ve,textValue:qe,setTextValue:Ge,setMentionMap:ut,canSubmit:bt,submissionTracker:Pt}=pm(i,t),At=useCallback((Lt,Dt)=>{Ge(Lt),ut(Dt.size===0?void 0:Object.fromEntries(Dt))},[Ge,ut]);return h(FlexColumn,{alignItems:"start",justifyContent:"center",as:"form",paddingX:24,paddingY:24,gap:16,onSubmit:q,borderTop:"detail",alignSelf:"stretch"},U.length>0&&h(_m,{files:U,deleteFile:Me,paddingLeft:56}),M.quoteReply&&h(sO,{quoteReply:M.quoteReply,cancelQuoteReply:M.cancelQuoteReply}),h(FlexBox,{gap:8,alignItems:"end",alignSelf:"stretch"},h(Avatar,{user:j,size:40}),h(FlexBox,null,h("input",{type:"file",accept:"image/*",id:"file",ref:Pe,style:{display:"none"},"aria-label":"Add image",onChange:xe,multiple:!0})),h(FlexBox,{className:css.inputBox,overflowY:"auto",overflowX:"hidden",paddingY:8,paddingX:16,radius:24,border:"detail",justifyContent:"space-between",alignItems:"start",flex:"grow",gap:8},h(LazyChatTextEditor,{defaultValue:qe,placeholder:r,onChange:At,onReturn:q,mentionsContext:k,submitOnEnter:!0,focusKey:n,submissionTracker:Pt})),s&&!M.quoteReply&&h(mm,{onClick:Ve,fill:"outline"}),bt&&h(IconButton,{priority:"primary",fill:"filled",size:40,type:"submit"},h(ArrowUp,{size:20}))))}function mm({onClick:n,fontWeight:t="normal",size:r=20,containerSize:i=40,fill:s="empty",color:M}){return h(IconButton,{size:i,onClick:n,color:M,fill:s},h(Image,{size:r,fontWeight:t,className:css.addImage}))}function iO({visibilityOptions:n,currentVisibility:t,onPick:r}){return h(FlexColumn,{gap:4},h(FlexRow,{borderBottom:"detail",justifyContent:"center",alignItems:"center",paddingTop:0,paddingBottom:8,paddingX:8},h(Text.B3,{className:css.visibilityDropdownText},"Choose who can see this:")),h(DropdownMenuItem,{onClick:()=>r("all_subscribers"),icon:h(Unlock,null),className:css.visibilityDropdown},h(FlexBox,{justifyContent:"space-between",alignItems:"center"},"All subscribers",t==="all_subscribers"&&h(Check,{size:20}))),n.hasPaid&&h(DropdownMenuItem,{onClick:()=>r("only_paid"),icon:h(Lock,null),className:css.visibilityDropdown},h(FlexBox,{justifyContent:"space-between",alignItems:"center"},"Paid subscribers",t==="only_paid"&&h(Check,{size:20}))),n.hasFounding&&h(DropdownMenuItem,{onClick:()=>r("only_founding"),icon:h(Lock,null),className:css.visibilityDropdown},h(FlexBox,{justifyContent:"space-between",alignItems:"center"},"Founding members",t==="only_paid"&&h(Check,{size:20}))))}function aO({linkUrl:n,deleteLink:t}){return h(FlexRow,{className:css.composerLinkPreview,alignSelf:"start"},h(LinkBubble,{linkUrl:n}),h(Nd,{onDelete:t,className:css.deleteFile}))}function _m(n){var t=n,{files:r,deleteFile:i}=t,s=lm(t,["files","deleteFile"]);return h(FlexBox,hr(Qn({},s),{gap:8,wrap:"wrap"}),r.map(M=>h(lO,{key:M.name,file:M,deleteFile:i})))}function sO({quoteReply:n,cancelQuoteReply:t}){return h(FlexBox,{paddingLeft:56,className:css.quoteReplyComposer},h(QuoteBox,{authorName:n.user.name,communityEntity:n.comment}),h(Nd,{onDelete:t,className:css.deleteQuote,iconSize:16,xSize:14}))}function Nd({onDelete:n,className:t,iconSize:r=32,xSize:i=20}){return h(IconButton,{className:t,size:r,priority:"media",onClick:n},h(X,{size:i}))}function lO({file:n,deleteFile:t}){return h(FlexRow,{className:css.imageBox},h("img",{className:css.image,src:URL.createObjectURL(n),alt:n.name}),h(Nd,{onDelete:()=>t(n),className:css.deleteFile}))}function Rd({onClick:n}){return h(FlexBox,{justifyContent:"center",padding:8},h(Button,{fill:"empty",onClick:n},"Load more"))}function uO(){return h(FlexColumn,{padding:24,borderTop:"detail",alignSelf:"stretch",gap:16,alignItems:"start",justifyContent:"center"},h(FlexBox,{gap:8,alignItems:"end",alignSelf:"stretch"},h(Placeholder,{type:"circle",size:40}),h(Placeholder,{className:css.loadingComposer,height:40,type:"bar"})))}function ds({numberToLoad:n=1,showReplyBubble:t=!0}){return h(FlexColumn,{gap:32},Array(n).fill(0).map(()=>h(cO,{showReplyBubble:t})))}function cO({showReplyBubble:n=!0}){return h(FlexRow,{gap:12,flex:"grow",alignItems:"start"},h(Placeholder,{type:"circle",size:40}),h(FlexColumn,{gap:4,flex:"grow"},h(Placeholder,{className:css.loadingBubble,type:"bar",width:500,height:70+Math.random()*80}),n&&h(Placeholder,{className:css.loadingBubble,type:"bar",width:500,height:50})))}function dO(n,t){return t.type.startsWith("inbox-")?fO(n,t):t.type.startsWith("posts-")?hO(n,t):t.type.startsWith("replies-")||t.type.startsWith("comments-")?_O(n,t):n}const Uu={isLoadingMore:!1,hasMore:!1,posts:[],error:null,publication:null,scrollPosition:0};function fO(n,t){switch(t.type){case"inbox-new_items":{const{threads:r}=t.payload;return hr(Qn({},n),{inbox:hr(Qn({},n.inbox),{isLoading:!1,threads:r.map(i=>{var s=i,{communityPost:M,user:k}=s,j=lm(s,["communityPost","user"]),U;return hr(Qn({},j),{communityPostId:(U=M==null?void 0:M.id)!=null?U:null})})}),communityPosts:new Map([...n.communityPosts,...r.map(i=>i&&i.communityPost&&i.user?[i.communityPost.id,{user:i.user,communityPost:i.communityPost,isNew:!1}]:null).filter(i=>i!==null)]),chats:new Map([...n.chats,...r.map(i=>{var s;if(i&&i.publication){const M=(s=n.chats.get(i.publication.id))!=null?s:Uu;return[i.publication.id,hr(Qn({},M),{publication:i.publication})]}return null}).filter(i=>i!==null)])})}default:return n}}function hO(n,t){var r,i,s,M,k,j;const{publication_id:U}=t.payload,q=(r=n.chats.get(U))!=null?r:Uu;switch(t.type){case"posts-request_initial":return hr(Qn({},n),{chats:xo(n.chats,U,hr(Qn({},q),{isLoadingMore:!0}))});case"posts-request_more":return hr(Qn({},n),{chats:xo(n.chats,U,hr(Qn({},q),{isLoadingMore:!0}))});case"posts-load_more":{const{result:Pe,direction:Me}=t.payload,xe=Pe.threads.find(Pt=>Pt.communityPost.status!=="deleted"),qe=Tm({getPubChatItemFromId:Pt=>Pt===(xe==null?void 0:xe.communityPost.id)?xe:n.communityPosts.get(Pt)}),Ge=new Map([...Pe.threads.map(Pt=>[Pt.communityPost.id,Pt])]),bt=SO({getPubChatItemFromId:Pt=>Ge.has(Pt)?Ge.get(Pt):n.communityPosts.get(Pt)});return hr(Qn({},n),{communityPosts:Im(n.communityPosts,Ge,Pt=>new Date(Pt.communityPost.updated_at)),chats:xo(n.chats,U,hr(Qn({},q),{isLoadingMore:!1,hasMore:Pe.more,posts:uniq([...q.posts,...Pe.threads.map(Pt=>Pt.communityPost.id)]).sort(bt)})),inbox:Me==="after"?n.inbox:hr(Qn({},n.inbox),{threads:[...n.inbox.threads.map(Pt=>{var At;return Pt.publication.id===U?hr(Qn({},Pt),{communityPostId:(At=xe==null?void 0:xe.communityPost.id)!=null?At:Pt.communityPostId,lastViewedAt:null}):Pt})].sort(qe)})})}case"posts-error":return hr(Qn({},n),{chats:xo(n.chats,U,hr(Qn({},q),{isLoadingMore:!1,error:t.payload}))});case"posts-new":{const Pe=new Date().toISOString(),Me={communityPost:hr(Qn({},t.payload),{status:"published",created_at:Pe,updated_at:Pe,is_locked:!1,user_id:(s=(i=n.user)==null?void 0:i.id)!=null?s:0}),isNew:!0};return hr(Qn({},n),{communityPosts:xo(n.communityPosts,Me.communityPost.id,Me),chats:xo(n.chats,U,hr(Qn({},q),{posts:[Me.communityPost.id,...q.posts]}))})}case"posts-commit":{const{id:Pe,chatItem:Me,publication_id:xe}=t.payload,Ve=new Map(n.communityPosts);Ve.delete(Pe),Ve.set(Me.communityPost.id,Me);const qe=n.inbox.threads.slice(),Ge=qe.findIndex(ut=>ut.publication.id===xe);if(Ge!==-1){let ut=qe[Ge];ut=hr(Qn({},ut),{communityPostId:Me.communityPost.id}),qe.splice(Ge,1),qe.unshift(ut)}return hr(Qn({},n),{inbox:hr(Qn({},n.inbox),{threads:qe}),communityPosts:Ve,chats:xo(n.chats,xe,hr(Qn({},q),{posts:q.posts.map(ut=>ut===Pe?Me.communityPost.id:ut)}))})}case"posts-new_reaction":{const{id:Pe,reaction:Me}=t.payload,xe=n.communityPosts.get(Pe);return!xe||!Na(xe)||!((M=xe.communityPost)!=null&&M.reactions)?(console.warn("chat item does not exist"),n):xe.communityPost.reaction===Me?(console.warn("already set this reaction",Me),n):hr(Qn({},n),{communityPosts:xo(n.communityPosts,Pe,hr(Qn({},xe),{communityPost:ju(xe.communityPost,Me,!0)}))})}case"posts-remove_reaction":{const{id:Pe,reaction:Me}=t.payload,xe=n.communityPosts.get(Pe);return!xe||!Na(xe)||!((k=xe.communityPost)!=null&&k.reactions)?(console.warn("chat item does not exist"),n):hr(Qn({},n),{communityPosts:xo(n.communityPosts,Pe,hr(Qn({},xe),{communityPost:ju(xe.communityPost,Me,!1)}))})}case"posts-delete_post":{const{id:Pe,publication_id:Me}=t.payload,xe=n.communityPosts.get(Pe);if(!xe)return console.warn("chat item does not exist"),n;const Ve=new Map(n.communityComments),qe=n.comments.get(Pe);qe&&qe.comments.forEach(Pt=>{Om(Pt,Ve);const At=n.replies.get(Pt);At&&At.comments.forEach(Lt=>{Om(Lt,Ve)})});const Ge=(j=n.chats.get(Me))==null?void 0:j.posts.find(Pt=>{var At;if(Pt===Pe)return!1;const Lt=n.communityPosts.get(Pt);return((At=Lt==null?void 0:Lt.communityPost)==null?void 0:At.status)!=="deleted"}),bt=Tm({getPubChatItemFromId:Pt=>n.communityPosts.get(Pt)});return hr(Qn({},n),{communityPosts:xo(n.communityPosts,Pe,hr(Qn({},xe),{communityPost:hr(Qn({},xe.communityPost),{status:"deleted",updated_at:new Date().toISOString()})})),communityComments:Ve,inbox:hr(Qn({},n.inbox),{threads:[...n.inbox.threads.map(Pt=>Pt.publication.id===Me?hr(Qn({},Pt),{communityPostId:Ge!=null?Ge:null}):Pt)].sort(bt)})})}case"posts-flag_post":{const{id:Pe}=t.payload,Me=n.communityPosts.get(Pe);return!Me||!Na(Me)?(console.warn("chat item does not exist"),n):hr(Qn({},n),{communityPosts:xo(n.communityPosts,Pe,hr(Qn({},Me),{communityPost:hr(Qn({},Me.communityPost),{reported_by_user:!0})}))})}case"posts-lock_replies":{const{id:Pe,isLocked:Me}=t.payload,xe=n.communityPosts.get(Pe);return!xe||!Na(xe)?(console.warn("chat item does not exist"),n):hr(Qn({},n),{communityPosts:xo(n.communityPosts,Pe,hr(Qn({},xe),{communityPost:hr(Qn({},xe.communityPost),{is_locked:Me})}))})}case"posts-link_metadata":{const{id:Pe,link_metadata:Me}=t.payload,xe=n.communityPosts.get(Pe);return xe?hr(Qn({},n),{communityPosts:xo(n.communityPosts,Pe,hr(Qn({},xe),{communityPost:hr(Qn({},xe.communityPost),{link_metadata:Me})}))}):(console.warn("chat item does not exist"),n)}case"posts-save_scroll_position":{const{publication_id:Pe,scrollPosition:Me}=t.payload;return hr(Qn({},n),{chats:xo(n.chats,Pe,hr(Qn({},q),{scrollPosition:Me}))})}case"posts-update_post":{const{id:Pe,post:Me}=t.payload,xe=n.communityPosts.get(Pe);return!xe||!Na(xe)?(console.warn("post does not exist"),n):hr(Qn({},n),{communityPosts:xo(n.communityPosts,Pe,hr(Qn({},xe),{communityPost:Qn(Qn({},xe.communityPost),Me)}))})}default:throw new Error("Invalid action type")}}function gm(n,t){var r;return(r=n.chats.get(t))!=null?r:Uu}const pO=({maybeUpdateNewestSeenChatSetting:n})=>(t,r)=>na(void 0,null,function*(){var i,s,M;try{const k=yield fetchJson("/api/v1/community/posts",{method:"GET"});t({type:"inbox-new_items",payload:{threads:k==null?void 0:k.threads}});const j=(M=(s=(i=k==null?void 0:k.threads)==null?void 0:i[0])==null?void 0:s.communityPost)==null?void 0:M.created_at;n&&j&&n(j)}catch(k){console.warn("error",k)}}),vm=(n,t=!1,{maybeUpdateNewestSeenChatSetting:r}={})=>(i,s)=>na(void 0,null,function*(){var M;const k=gm(s(),n),j=k.posts[k.posts.length-1],U=s().communityPosts.get(j);try{const q=yield fetchJson(`/api/v1/community/publications/${n}/posts`,{query:{before:U&&!t?U.communityPost.created_at:void 0}});if(Array.isArray(q)&&q.length===0){const Me=new Error("FLAGGED_AS_SPAM");i({type:"posts-error",payload:{publication_id:n,error:Me}});return}i({type:"posts-load_more",payload:{publication_id:n,result:q,direction:t?"before":"after"}});const Pe=q==null?void 0:q.threads.find(Me=>Me.communityPost.status!=="deleted");t&&r&&r((M=Pe==null?void 0:Pe.communityPost)==null?void 0:M.created_at)}catch(q){console.warn("error",q),i({type:"posts-error",payload:{publication_id:n,error:q}})}}),mO=n=>(t,r)=>na(void 0,null,function*(){const i=gm(r(),n);if(!(!i.hasMore||i.isLoadingMore))return yield t({type:"posts-request_more",payload:{publication_id:n}}),t(vm(n))}),hl={isLoading:!1,hasMore:!1,error:null},Fu={before:hl,after:hr(Qn({},hl),{isLoading:!0}),order:"asc",comments:[]};function _O(n,t){var r,i,s,M,k,j,U;let q=null,Pe=null;vO(t)?Pe=t.payload.parentCommentId:"postId"in t.payload&&(q=t.payload.postId);const Me=Ge=>Pe?{replies:Ge}:{comments:Ge};let xe;Pe?xe=(r=n.replies.get(Pe))!=null?r:Fu:q&&(xe=(i=n.comments.get(q))!=null?i:Fu);const Ve=Pe?n.replies:n.comments,qe=Pe!=null?Pe:q;switch(t.type){case"replies-request_initial":case"comments-request_initial":{const{order:Ge}=t.payload,ut=hr(Qn({},hl),{isLoading:!0,hasMore:!1});return Qn(Qn({},n),Me(xo(Ve,qe,hr(Qn({},xe),{before:Ge==="desc"?ut:hl,after:Ge==="asc"?ut:hl,order:Ge}))))}case"replies-request_edge":case"comments-request_edge":{const{edge:Ge}=t.payload;return Qn(Qn({},n),Me(xo(Ve,qe,hr(Qn({},xe),{[Ge]:hr(Qn({},xe[Ge]),{isLoading:!0,error:null})}))))}case"replies-load_edge":case"comments-load_edge":{const{edge:Ge,result:{post:ut,parent:bt,replies:Pt,more:At}}=t.payload,Lt=Pt.map(an=>an.comment.id),Dt=new Map([...Pt.map(an=>[an.comment.id,an])]),Ht=Im(n.communityComments,Dt,an=>new Date(an.comment.updated_at));bt&&Ht.set(bt.comment.id,bt);const hn=TO({getCommunityCommentFromId:an=>Ht.get(an)});return Qn(hr(Qn({},n),{communityPosts:ut?xo(n.communityPosts,ut.communityPost.id,ut):n.communityPosts,communityComments:Ht}),Me(xo(Ve,qe,hr(Qn({},xe),{comments:uniq([...xe.comments,...Lt]).sort(hn),[Ge]:{isLoading:!1,hasMore:At,error:null},order:Ge==="after"&&!At?"desc":xe.order}))))}case"replies-new":case"comments-new":{const Ge={comment:hr(Qn({},gO()),{id:t.payload.id,body:t.payload.body,raw_body:t.payload.mentions?t.payload.body:void 0,post_id:t.payload.postId,parent_id:Pe,media_uploads:(s=t.payload.mediaUploads)!=null?s:null,user_id:(k=(M=n.user)==null?void 0:M.id)!=null?k:0,quote_id:t.payload.quoteReply?t.payload.quoteReply.comment.id:null,mentions:t.payload.mentions}),isNew:!0,is_banned:!1,quote:t.payload.quoteReply,user:n.user,pub_roles:t.payload.pubRoles},ut=Qn(hr(Qn({},n),{communityComments:xo(n.communityComments,Ge.comment.id,Ge)}),Me(xo(Ve,qe,hr(Qn({},xe),{comments:[Ge.comment.id,...xe.comments]}))));if(Pe){const Pt=n.communityComments.get(Pe);if(Pt&&Ra(Pt)){const At=Sm(Pt.comment,n.user,t.payload.postId);ut.communityComments.set(Pe,hr(Qn({},Pt),{comment:At}))}}const bt=n.communityPosts.get(t.payload.postId);if(bt&&Na(bt)){const Pt=Sm(bt.communityPost,n.user,t.payload.postId);ut.communityPosts=xo(n.communityPosts,t.payload.postId,hr(Qn({},bt),{communityPost:Pt}))}return ut}case"replies-commit":case"comments-commit":{const{id:Ge,reply:ut}=t.payload,bt=new Map(n.communityComments);return bt.delete(Ge),bt.set(ut.comment.id,ut),Qn(hr(Qn({},n),{communityComments:bt}),Me(xo(Ve,qe,hr(Qn({},xe),{comments:xe.comments.map(Pt=>Pt===Ge?ut.comment.id:Pt)}))))}case"replies-error":case"comments-error":{const{edge:Ge,error:ut}=t.payload;return Qn(Qn({},n),Me(xo(Ve,qe,hr(Qn({},xe),{[Ge]:hr(Qn({},xe[Ge]),{error:ut})}))))}case"comments-new_reaction":{const{id:Ge,reaction:ut}=t.payload,bt=n.communityComments.get(Ge);return!bt||!Ra(bt)||!((j=bt.comment)!=null&&j.reactions)?(console.warn("comment does not exist"),n):bt.comment.reaction===ut?(console.warn("reaction already set"),n):hr(Qn({},n),{communityComments:xo(n.communityComments,Ge,hr(Qn({},bt),{comment:ju(bt.comment,ut,!0)}))})}case"comments-remove_reaction":{const{id:Ge,reaction:ut}=t.payload,bt=n.communityComments.get(Ge);return!bt||!Ra(bt)||!((U=bt.comment)!=null&&U.reactions)?(console.warn("comment does not exist"),n):hr(Qn({},n),{communityComments:xo(n.communityComments,Ge,hr(Qn({},bt),{comment:ju(bt.comment,ut,!1)}))})}case"comments-delete_comment":{const{id:Ge}=t.payload,ut=n.communityComments.get(Ge);return ut?hr(Qn({},n),{communityComments:xo(n.communityComments,Ge,hr(Qn({},ut),{comment:hr(Qn({},ut.comment),{status:"deleted",updated_at:new Date().toISOString()})}))}):(console.warn("comment does not exist, cannot delete"),n)}case"comments-update_comment":{const{id:Ge,comment:ut}=t.payload,bt=n.communityComments.get(Ge);return!bt||!Ra(bt)?(console.warn("comment does not exist"),n):hr(Qn({},n),{communityComments:xo(n.communityComments,Ge,hr(Qn({},bt),{comment:Qn(Qn({},bt.comment),ut)}))})}case"comments-flag_comment":{const{id:Ge}=t.payload,ut=n.communityComments.get(Ge);return!ut||!Ra(ut)?(console.warn("comment does not exist"),n):hr(Qn({},n),{communityComments:xo(n.communityComments,Ge,hr(Qn({},ut),{comment:hr(Qn({},ut.comment),{reported_by_user:!0})}))})}case"comments-ban_author":{const{id:Ge,ban:ut}=t.payload,bt=n.communityComments.get(Ge);return!bt||!Ra(bt)?(console.warn("comment does not exist"),n):hr(Qn({},n),{communityComments:xo(n.communityComments,Ge,hr(Qn({},bt),{is_banned:ut}))})}case"comments-lock_replies":{const{id:Ge,isLocked:ut}=t.payload,bt=n.communityComments.get(Ge);return!bt||!Ra(bt)?(console.warn("comment does not exist"),n):bt.comment.parent_id?(console.warn("cannot lock replies on a reply to a comment"),n):hr(Qn({},n),{communityComments:xo(n.communityComments,Ge,hr(Qn({},bt),{comment:hr(Qn({},bt.comment),{is_locked:ut})}))})}default:throw new Error("Invalid type")}}function gO(){const n=new Date().toISOString();return{id:"",created_at:n,updated_at:n,user_id:0,post_id:"",body:"",raw_body:"",media_uploads:null,parent_id:null,is_locked:!1,quote_id:null,status:"published"}}const ym=(0,e.createContext)({dispatch:()=>Promise.resolve()});function Aa(){var n;return(n=(0,o.qp)(ym))==null?void 0:n.dispatch}function xo(n,t,r){const i=new Map(n);return i.set(t,r),i}function Na(n){return n.isNew!==!0}function Ra(n){return n.isNew!==!0}function bm(n){return"communityPost"in n}function Pm(n){return"comment"in n}function vO(n){return"parentCommentId"in n.payload}function ju(n,t,r){var i,s;const M=n.reaction,k=Qn({},n.reactions);return k[t]=((i=k[t])!=null?i:0)+(r?1:-1),r&&M&&(k[M]=((s=k[M])!=null?s:0)-1),hr(Qn({},n),{reactions:k,reaction:r?t:null})}function yO(n){return Math.floor(Math.random()*n*1e3)}function bO(n,t,r){return na(this,null,function*(){try{return yield fetchJson("/api/v1/thread_media_uploads",{method:"POST",json:{publication_id:t,comment_id:n,content_type:r}})}catch(i){return i}})}function PO(n,t){return na(this,null,function*(){try{return yield fetch(t,{method:"PUT",headers:{"Content-Type":n.contentType},body:n.file})}catch(r){return r}})}function EO({day:n,items:t,onSelect:r,isPaid:i,isFounding:s}){const M=useUser();return h(Fragment,null,t.map(k=>h(YC,{key:k.communityPost.id,item:k.isNew?hr(Qn({},k),{user:M}):k,onSelect:r,isPaid:i,isFounding:s})),h(OO,{day:n}))}const wO=new Intl.DateTimeFormat(void 0,{month:"long",day:"numeric"}),CO=new Intl.DateTimeFormat(void 0,{year:"numeric",month:"long",day:"numeric"});function OO({day:n}){const t=dayjs();return h(FlexBox,{alignItems:"center",justifyContent:"center",padding:16},h(Text.B3,{weight:"medium",size:14,color:"secondary"},n.isSame(t,"day")?"Today":n.isSame(t.subtract(1,"day"),"day")?"Yesterday":n.isSame(t,"year")?wO.format(n.toDate()):CO.format(n.toDate())))}function Ii({title:n,body:t,children:r}){return h(FlexColumn,{justifyContent:"center",alignItems:"center",flex:"grow",paddingX:32},h(ChatZero,{title:n,body:t,children:r}))}function Em(){return h(FlexBox,{alignItems:"center",justifyContent:"center",padding:12},h(Text.B3,{color:"error"},"Error loading chats"))}function wm({pubErr:n}){if(n.error instanceof FetchError){const t=n.error.body.status==="CHAT_NOT_ENABLED",r=n.error.body.status==="FREE_SUBSCRIPTION_REQUIRED",i=n.error.body.status==="PUBLICATION_NOT_FOUND";if(t)return h(Ii,{title:"This publication has not enabled chat yet.",body:"Once it does, you can access its chat here."});if(r)return h(Ii,{title:"You need to subscribe to this publication to view its chat.",body:"Once you do, its chat will appear here."},n.error.body.publication&&h(Ld,{pub:n.error.body.publication,utm_source:"web-chat-navigation",isSubscribeWall:!0}));if(i)return h(Ii,{title:"We could not find this publication.",body:"Please select another publication and try again."})}return n.error instanceof Error&&n.error.message==="FLAGGED_AS_SPAM"?h(Ii,{title:"We could not find this publication.",body:"Please select another publication and try again."}):h(Ii,{title:"Something went wrong loading the chat.",body:"Please check back in again."})}function Cm({user:n,showReply:t=!0,analyticsParams:r,commenters:i,count:s,audience:M}){return h(FlexBox,null,h(FlexColumn,{className:css.paywall},h(CommunityPostPaywall,{author:n,showReply:t,analyticsParams:r,commenters:i,count:s,audience:M})))}function Ka({onClick:n,children:t}){return h(Button,{priority:"secondary",onClick:n},t)}function Om(n,t){const r=t.get(n);return!r||r.comment.status==="deleted"?!1:(t.set(n,hr(Qn({},r),{comment:hr(Qn({},r.comment),{status:"deleted",updated_at:new Date().toISOString()})})),!0)}function Sm(n,t,r){var i,s;let M;return t&&t.photo_url&&(M=[{id:t.id,name:t.name,photo_url:t.photo_url,post_id:r}],n.recent_commenters&&(M=uniqBy([...M,...n.recent_commenters],k=>k.id))),"reply_count"in n?hr(Qn({},n),{recent_commenters:M,reply_count:1+((i=n.reply_count)!=null?i:0)}):"comment_count"in n?hr(Qn({},n),{recent_commenters:M,comment_count:1+((s=n.comment_count)!=null?s:0)}):n}function Ld({pub:n,utm_source:t,isSubscribeWall:r}){useEffect(()=>{r&&track(EVENTS.THREAD_SUBSCRIBE_WALL_VIEWED,{publication_id:n.id})},[]);const i=()=>{const s=getSubscribeUrl(n,{addBase:!0,params:{next:document.location.href,utm_source:t}});window.open(s,"_blank")||(window.location.href=s)};return h(Button,{priority:"primary",onClick:i},`Subscribe to ${n.name}`)}function Tm({getPubChatItemFromId:n}){return(t,r)=>{const i=t.communityPostId?n(t.communityPostId):null,s=r.communityPostId?n(r.communityPostId):null;return kd(i,s,"post")}}function SO({getPubChatItemFromId:n}){return(t,r)=>{const i=n(t),s=n(r);return kd(i,s,"post")}}function TO({getCommunityCommentFromId:n}){return(t,r)=>{const i=n(t),s=n(r);return kd(i,s,"comment")}}function kd(n,t,r="post"){const i=!n,s=!t;if(i&&s)return 0;if(i&&!s)return 1;if(!i&&s)return-1;const M=r==="post"?n&&bm(n)&&n.communityPost.created_at:n&&Pm(n)&&n.comment.created_at,k=new Date(M||0),j=r==="post"?t&&bm(t)&&t.communityPost.created_at:t&&Pm(t)&&t.comment.created_at;return new Date(j||0).getTime()-k.getTime()}function Im(n,t,r){const i=new Map(t);for(const[s,M]of n){const k=i.get(s);if(!k){i.set(s,M);continue}r(M)>r(k)&&i.set(s,Qn(Qn({},k),M))}return i}function Dm({changeSetting:n,storedNewestSeenChatItemPublishedAt:t}){return r=>{r&&new Date(r)>new Date(t!=null?t:0)&&n("newest_seen_chat_item_published_at",r)}}var IO=Object.defineProperty,DO=Object.defineProperties,MO=Object.getOwnPropertyDescriptors,Mm=Object.getOwnPropertySymbols,xO=Object.prototype.hasOwnProperty,AO=Object.prototype.propertyIsEnumerable,xm=(n,t,r)=>t in n?IO(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,NO=(n,t)=>{for(var r in t||(t={}))xO.call(t,r)&&xm(n,r,t[r]);if(Mm)for(var r of Mm(t))AO.call(t,r)&&xm(n,r,t[r]);return n},RO=(n,t)=>DO(n,MO(t));const LO=n=>(0,e.h)(x.l,RO(NO({},n),{name:"EmojiPickerIcon",svgParams:{height:15,width:14,viewBox:"0 0 15 14",fill:"none",stroke:"none"}}),(0,e.h)("path",{d:"M12.7474 7.25708C12.3309 7.37462 11.8916 7.4375 11.4375 7.4375C8.77963 7.4375 6.625 5.28287 6.625 2.625C6.625 2.17094 6.68788 1.73156 6.80542 1.31511C6.74549 1.31337 6.68535 1.3125 6.625 1.3125C3.24226 1.3125 0.5 4.05476 0.5 7.4375C0.5 10.8202 3.24226 13.5625 6.625 13.5625C10.0077 13.5625 12.75 10.8202 12.75 7.4375C12.75 7.37715 12.7491 7.31701 12.7474 7.25708ZM5.75 5.25C5.75 5.97487 5.16237 6.5625 4.4375 6.5625C3.71263 6.5625 3.125 5.97487 3.125 5.25C3.125 4.52513 3.71263 3.9375 4.4375 3.9375C5.16237 3.9375 5.75 4.52513 5.75 5.25ZM10.125 8.3125C10.125 10.2455 8.558 11.8125 6.625 11.8125C4.692 11.8125 3.125 10.2455 3.125 8.3125H10.125Z",fill:"#808080","fill-rule":"evenodd","clip-rule":"evenodd"}),(0,e.h)("path",{d:"M12.0938 0H10.7812V1.96875L8.8125 1.96875V3.28125H10.7812V5.25H12.0938V3.28125H14.0625V1.96875L12.0938 1.96875V0Z",fill:"#808080","fill-rule":"evenodd","clip-rule":"evenodd"}));var Am=wt(94016),Nm=wt(15822);const Gi={avatarContainer:"frontend-community-Reaction-module__avatarContainer--_8l4V",reactionsContainer:"frontend-community-Reaction-module__reactionsContainer--D3hey",reaction:"frontend-community-Reaction-module__reaction--M5tw0",blue:"frontend-community-Reaction-module__blue--yS6Ze",nameCard:"frontend-community-Reaction-module__nameCard--apX_i",reactionToPick:"frontend-community-Reaction-module__reactionToPick--TqIpF",pickIcon:"frontend-community-Reaction-module__pickIcon--JZeFU",emojiPicker:"frontend-community-Reaction-module__emojiPicker--Oaakq",emojiPickerLayer:"frontend-community-Reaction-module__emojiPickerLayer--vLED_",reactionSection:"frontend-community-Reaction-module__reactionSection--RlOnV",count:"frontend-community-Reaction-module__count--POp7r",show:"frontend-community-Reaction-module__show--n7AZ5"},kO=3,Rm=6;function BO({context:n,reactions:t,currentReaction:r,onReactionClick:i,isReadOnly:s}){const M=t&&Object.keys(t).some(q=>t[q]>0),{result:k,isLoading:j}=(0,so.ib)({pathname:"/api/v1/threads/reactions",method:"GET",cacheTtl:1e3*60*10,auto:!0}),U=(0,o.Ye)(()=>!t||!(k!=null&&k.reactionTypes)?[]:Object.entries(t).sort((Pe,Me)=>Me[1]===Pe[1]?Pe[0].localeCompare(Me[0]):Me[1]-Pe[1]).filter(([Pe,Me])=>Me>0&&k.reactionTypes[Pe]).slice(0,kO),[t,k]);return k!=null&&k.reactionTypes?(0,e.h)(Vt.tu,null,(0,e.h)(Vt.gq,{onClick:Ud,className:u()(Gi.reactionsContainer,{[Gi.show]:M})},U.map(([q,Pe])=>(0,e.h)(Am.z,{layerClassName:Gi.nameCard,content:(0,e.h)(jO,{context:n,reaction:q}),layerOptions:{placement:"bottom-center"}},(0,e.h)(Vt.gq,{key:q,className:u()(Gi.reaction,{[Gi.blue]:q===r}),shadow:"sm",bg:"primary",gap:4,alignItems:"center",paddingX:6,onClick:()=>i&&i(q)},(0,e.h)(KO,{reaction:k.reactionTypes[q]}),(0,e.h)(VO,{count:Pe,textColor:q===r?"bg-light":"primary"})))),!s&&(0,e.h)(qp,{content:({closePopover:q})=>(0,e.h)(FO,{emojis:k,isLoading:j,currentReaction:r,onPick:Pe=>{i&&i(Pe),q()}}),preferPlacement:"bottom-center",hideOnScroll:!0,layerClassName:Gi.emojiPickerLayer},(0,e.h)(UO,null)))):null}function UO(){return(0,e.h)(Vt.hs,{className:Gi.pickIcon,shadow:"sm",bg:"primary",paddingX:4,alignItems:"center"},(0,e.h)(LO,null))}function FO({emojis:n,isLoading:t,currentReaction:r,onPick:i}){var s;const M=(0,o.Ye)(()=>!(n!=null&&n.reactionTypes)||t?[]:Object.keys(n.reactionTypes),[n==null?void 0:n.reactionTypes,t]),{result:k,isLoading:j}=(0,so.Wf)(()=>wt.e(695).then(wt.t.bind(wt,64695,19)),[],{auto:!0}),U=(0,o.I4)(xe=>[xe,...(k==null?void 0:k[xe])||[]],[k]),{filteredItems:q,setQuery:Pe,hasFiltered:Me}=EC({items:M,getKeys:U,deps:[M,U]});return t||j?(0,e.h)(Nm.S,null):(0,e.h)(Vt.tu,{gap:12,className:Gi.emojiPicker,onClick:Ud,overflowY:"auto"},(0,e.h)(wC,{setQuery:Pe,placeholder:"Search emoji...",size:"small"}),Me&&(q&&q.length>0?(0,e.h)(Bd,{reactions:q,currentReaction:r,onPick:i,emojiMap:n.reactionTypes,title:null}):(0,e.h)(Vt.xv,{size:12,lineHeight:20,color:"secondary",weight:"semibold",font:"text",alignSelf:"center"},"No emoji match your search")),!Me&&(0,e.h)(e.Fragment,null,(0,e.h)(Bd,{reactions:n.suggestedReactionTypes,currentReaction:r,onPick:i,emojiMap:n.reactionTypes,title:"Suggested Reactions"}),(s=n.categories)==null?void 0:s.map(xe=>(0,e.h)(Bd,{reactions:xe.reactionTypes,currentReaction:r,onPick:i,emojiMap:n.reactionTypes,title:xe.title}))))}function jO({reaction:n,context:t}){var r;const i=t.type==="posts"?`/api/v1/community/posts/${t.id}/reactions`:`/api/v1/community/comments/${t.id}/reactions`,{result:s,isLoading:M}=(0,so.ib)({pathname:i,method:"GET",auto:!0});if(M)return(0,e.h)(Nm.S,null);const j=((r=s==null?void 0:s.reactions.filter(Pe=>Pe.reaction===n))!=null?r:[]).map(Pe=>Pe.user.name),U=j.slice(0,Rm),q=Math.max(0,j.length-Rm);return(0,e.h)(Vt.tu,{gap:2,className:Gi.emojiPicker,onClick:Ud,overflowY:"auto"},U.map(Pe=>(0,e.h)(Lm,{text:Pe})),q>0&&(0,e.h)(Lm,{text:`+ ${q} ${q===1?"other":"others"}`}))}function WO({title:n}){return(0,e.h)(Vt.xv,{size:12,lineHeight:20,color:"secondary",weight:"semibold",font:"text"},n)}function HO({reactions:n,currentReaction:t,onPick:r,emojiMap:i}){return(0,e.h)(Vt.gq,{className:Gi.reactionSection,gap:8},n==null?void 0:n.map(s=>(0,e.h)(Vt.hs,{key:s,onClick:()=>r(s),className:u()(Gi.reactionToPick,{[Gi.blue]:s===t}),bg:"primary",alignItems:"center"},(0,e.h)($O,{reaction:i[s]}))))}function Bd({reactions:n,currentReaction:t,onPick:r,emojiMap:i,title:s}){return(0,e.h)(Vt.tu,{gap:12},s&&(0,e.h)(WO,{title:s}),(0,e.h)(HO,{reactions:n,currentReaction:t,onPick:r,emojiMap:i}))}function VO({count:n,textColor:t}){return(0,e.h)(Vt.xv,{className:Gi.count,color:t,lineHeight:20},n)}function Lm({text:n}){return(0,e.h)(Vt.xv,{size:12,color:"primary",weight:"medium",font:"text"},n)}function KO({reaction:n}){return(0,e.h)(Vt.xv,{size:14,lineHeight:20,color:"primary",weight:"medium",font:"emoji"},n)}function $O({reaction:n}){return(0,e.h)(Vt.xv,{size:20,lineHeight:20,color:"primary",weight:"medium",font:"emoji"},n)}const Ud=n=>{n.stopPropagation(),n.preventDefault()},Go={bubbleStack:"frontend-community-CommunityPostView-module__bubbleStack--nNlkK",bubble:"frontend-community-CommunityPostView-module__bubble--Qb0nJ",linkBubble:"frontend-community-CommunityPostView-module__linkBubble--A99mW",imageGroup:"frontend-community-CommunityPostView-module__imageGroup--ttj6D",replyContainer:"frontend-community-CommunityPostView-module__replyContainer--QXsEJ",bubbleText:"frontend-community-CommunityPostView-module__bubbleText--DlNG6",authorName:"frontend-community-CommunityPostView-module__authorName--D3nZg",facepileAvatar:"frontend-community-CommunityPostView-module__facepileAvatar--Ae4J2",facepile:"frontend-community-CommunityPostView-module__facepile--LsZV8",readMore:"frontend-community-CommunityPostView-module__readMore--KuojM",paywallBubble:"frontend-community-CommunityPostView-module__paywallBubble--pQYha",pixels:"frontend-community-CommunityPostView-module__pixels--iHfsp",linkImg:"frontend-community-CommunityPostView-module__linkImg--BGinm",linkUrl:"frontend-community-CommunityPostView-module__linkUrl--Z_NGs",linkTitle:"frontend-community-CommunityPostView-module__linkTitle--REE0t",ctaButton:"frontend-community-CommunityPostView-module__ctaButton--_ybr_",reactionsWrapper:"frontend-community-CommunityPostView-module__reactionsWrapper--ude0p",actions:"frontend-community-CommunityPostView-module__actions--Iu1iz",actionButton:"frontend-community-CommunityPostView-module__actionButton--utP6e",actionMenu:"frontend-community-CommunityPostView-module__actionMenu--Mtz5B",actionMenuLayer:"frontend-community-CommunityPostView-module__actionMenuLayer--exM2E",avatarContainer:"frontend-community-CommunityPostView-module__avatarContainer--_sDjD",targetedAnimation:"frontend-community-CommunityPostView-module__targetedAnimation--hs4QE",fade:"frontend-community-CommunityPostView-module__fade--mcazB",quoteBox:"frontend-community-CommunityPostView-module__quoteBox--keJ32"};var zO=Object.defineProperty,GO=Object.defineProperties,ZO=Object.getOwnPropertyDescriptors,Wu=Object.getOwnPropertySymbols,km=Object.prototype.hasOwnProperty,Bm=Object.prototype.propertyIsEnumerable,Um=(n,t,r)=>t in n?zO(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,fs=(n,t)=>{for(var r in t||(t={}))km.call(t,r)&&Um(n,r,t[r]);if(Wu)for(var r of Wu(t))Bm.call(t,r)&&Um(n,r,t[r]);return n},YO=(n,t)=>GO(n,ZO(t)),Fm=(n,t)=>{var r={};for(var i in n)km.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Wu)for(var i of Wu(n))t.indexOf(i)<0&&Bm.call(n,i)&&(r[i]=n[i]);return r},Zo=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const JO="ffe5d072-ae52-11ed-afa1-0242ac120002";function jm({communityPost:n,author:t,extras:r,withAttribution:i,flex:s,hideReply:M,isReadOnly:k,onReply:j,onDelete:U}){const q=(0,o.sO)(null),Pe={type:"posts",id:n.id},Me=Aa(),xe=!(n.type==="media"&&n.media_assets);return(0,e.h)(Hu,{user:t,flex:s,containerRef:q},i&&(0,e.h)(Hd,{text:`From ${t.name}\u2019s subscriber chat`}),(0,e.h)(Wm,{actionMenuProps:{communityEntity:n,publicationId:n.publication_id,onReply:j,onDelete:U,isReadOnly:k,isFlagged:n.reported_by_user},flex:s},(0,e.h)(Vu,null,n.type==="media"&&n.media_assets&&(0,e.h)(pl,{context:Pe,reactions:n.reactions,currentReaction:n.reaction,onReactionClick:ml(n.id,"posts",Me,n.reaction),isReadOnly:k},(0,e.h)(Zp.q,{assets:n.media_assets.map(Ve=>Ve.url),className:Go.imageGroup,readOnly:k})),n.link_url&&(0,e.h)(pl,{context:Pe,reactions:n.reactions,currentReaction:n.reaction,onReactionClick:ml(n.id,"posts",Me,n.reaction),setReactions:xe,isReadOnly:k},(0,e.h)(FS,{linkUrl:n.link_url,linkMetadata:n.link_metadata,postId:n.id})),n.body&&(0,e.h)(pl,{context:Pe,reactions:n.reactions,currentReaction:n.reaction,onReactionClick:ml(n.id,"posts",Me,n.reaction),setReactions:xe&&!n.link_url,isReadOnly:k},(0,e.h)(Km,{authorName:t.name,communityEntity:n})))),!M&&(0,e.h)(Vm,null,(0,e.h)(Ku,{commenters:n.recent_commenters,count:n.comment_count,audience:n.audience})),r)}function Wm({children:n,actionMenuProps:t,flex:r="grow"}){return(0,e.h)(me.gq,{alignItems:"start",gap:12,flex:r},(0,e.h)(me.tu,null,n),(0,e.h)(SS,fs({},t)))}function pl({children:n,context:t,reactions:r,currentReaction:i,setReactions:s=!0,onReactionClick:M,isReadOnly:k}){return s?(0,e.h)(me.gq,{className:Go.reactionsWrapper},n,(0,e.h)(BO,{context:t,reactions:r,currentReaction:i,onReactionClick:M,isReadOnly:k})):(0,e.h)(e.Fragment,null,n)}const ml=(n,t,r,i)=>s=>Zo(void 0,null,function*(){r(i===s?QO(s,n,t):XO(s,n,t,i))}),XO=(n,t,r,i)=>(s,M)=>Zo(void 0,null,function*(){s({type:`${r}-new_reaction`,payload:{id:t,reaction:n}}),(yield mS(n,t,r))instanceof Error&&s(i?{type:`${r}-new_reaction`,payload:{id:t,reaction:i}}:{type:`${r}-remove_reaction`,payload:{id:t,reaction:n}})}),QO=(n,t,r)=>(i,s)=>Zo(void 0,null,function*(){i({type:`${r}-remove_reaction`,payload:{id:t,reaction:n}}),(yield _S(n,t,r))instanceof Error&&i({type:`${r}-new_reaction`,payload:{id:t,reaction:n}})}),qO=(n,t)=>(r,i)=>Zo(void 0,null,function*(){r({type:"posts-delete_post",payload:{id:n,publication_id:t}});const s=yield pS(n);s instanceof Error&&console.warn("error deleting thread",s)}),eS=(n,t,r)=>(i,s)=>Zo(void 0,null,function*(){i({type:"comments-delete_comment",payload:{id:n,postId:t}});const M=yield dS(n);if(M instanceof Error&&console.warn("error deleting comment",M),r){const j=yield fS(r);j instanceof Error||i({type:"comments-update_comment",payload:{id:r,comment:j.comment}})}const k=yield hS(t);k instanceof Error||i({type:"posts-update_post",payload:{id:t,post:k.communityPost}})}),tS=(n,t)=>(r,i)=>Zo(void 0,null,function*(){r({type:"posts-lock_replies",payload:{id:n,isLocked:t}});const s=yield aS(n,t);s instanceof Error&&(console.warn("error locking post",s),alert(`There was an error ${t?"locking":"unlocking"} replies to this post. Please try again later.`),r({type:"posts-lock_replies",payload:{id:n,isLocked:!t}}))}),nS=(n,t)=>(r,i)=>Zo(void 0,null,function*(){r({type:"comments-lock_replies",payload:{id:n,isLocked:t}});const s=yield sS(n,t);s instanceof Error&&(console.warn("error locking comment",s),alert(`There was an error ${t?"locking":"unlocking"} replies to this comment. Please try again later.`),r({type:"comments-lock_replies",payload:{id:n,isLocked:!t}}))}),rS=n=>(t,r)=>Zo(void 0,null,function*(){t({type:"posts-flag_post",payload:{id:n}});const i=yield uS(n);i instanceof Error&&console.warn("error flagging post",i)}),oS=n=>(t,r)=>Zo(void 0,null,function*(){t({type:"comments-flag_comment",payload:{id:n}});const i=yield cS(n);i instanceof Error&&console.warn("error flagging comment",i)}),iS=(n,t)=>(r,i)=>Zo(void 0,null,function*(){r({type:"comments-ban_author",payload:{id:n,ban:t}});const s=yield lS(n,t);s instanceof Error&&(console.warn("error toggling ban for comment author",s),alert(`There was an error ${t?"banning":"unbanning"} this user. Please try again later.`),r({type:"comments-ban_author",payload:{id:n,ban:!t}}))});function aS(n,t){return Zo(this,null,function*(){try{return yield fetch(`/api/v1/community/posts/${n}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_locked:t})})}catch(r){return r}})}function sS(n,t){return Zo(this,null,function*(){try{return yield fetch(`/api/v1/community/comments/${n}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({is_locked:t})})}catch(r){return r}})}function lS(n,t){return Zo(this,null,function*(){try{return yield fetch(`/api/v1/community/comments/${n}/publication_bans?ban=${t.toString()}`,{method:"POST"})}catch(r){return r}})}function uS(n){return Zo(this,null,function*(){try{return yield(0,so.rd)(`/api/v1/community/posts/${n}/reports`,{method:"POST",json:{postId:n}})}catch(t){return t}})}function cS(n){return Zo(this,null,function*(){try{return yield(0,so.rd)(`/api/v1/community/comments/${n}/reports`,{method:"POST",json:{commentId:n}})}catch(t){return t}})}function dS(n){return Zo(this,null,function*(){try{return yield(0,so.rd)(`/api/v1/community/comments/${n}`,{method:"DELETE",json:{commentId:n}})}catch(t){return t}})}function fS(n){return Zo(this,null,function*(){try{return yield(0,so.rd)(`/api/v1/community/comments/${n}`,{method:"GET"})}catch(t){return console.warn(t),t}})}function hS(n){return Zo(this,null,function*(){try{return yield(0,so.rd)(`/api/v1/community/posts/${n}`,{method:"GET"})}catch(t){return console.warn(t),t}})}function pS(n){return Zo(this,null,function*(){try{return yield(0,so.rd)(`/api/v1/community/posts/${n}`,{method:"DELETE",json:{postId:n}})}catch(t){return t}})}function mS(n,t,r){return Zo(this,null,function*(){try{return yield(0,so.rd)(`/api/v1/community/${r}/${t}/reaction`,{method:"POST",json:{reaction:n}})}catch(i){return i}})}function _S(n,t,r){return Zo(this,null,function*(){try{return yield(0,so.rd)(`/api/v1/community/${r}/${t}/reaction`,{method:"DELETE",query:{reaction:n}})}catch(i){return i}})}function Fd({author:n,extras:t,showReply:r=!0,analyticsParams:i,commenters:s,count:M,audience:k}){return(0,o.d4)(()=>{i&&(0,D.j)(D.FP.THREAD_PAYWALL_SCREEN_VIEWED,i)},[]),(0,e.h)(Hu,{user:n},(0,e.h)(Vu,null,(0,e.h)(BS,{audience:k}),r&&(0,e.h)(Ku,{isLocked:!0,commenters:s,count:M})),t)}function gS({author:n,extras:t,showReply:r=!0,commenters:i,count:s}){return(0,e.h)(Hu,{user:n},(0,e.h)(Vu,null,(0,e.h)(US,null),r&&(0,e.h)(Ku,{isLocked:!0,commenters:i,count:s})),t)}function jd(n){return typeof n.message=="string"}function vS({text:n,rawText:t,specialText:r,mentionMap:i,limit:s=600}){const[M,k]=(0,o.eJ)(!1);if(r)return(0,e.h)("em",null,r);if(!n)return(0,e.h)(e.Fragment,null);let j=[{characters:n.length,message:n}];t&&i&&(j=bS(t,i));const{alwaysShow:U,afterExpansion:q}=yS(j,s),Pe=q.length>0;return(0,e.h)(e.Fragment,null,U.map(Me=>jd(Me)?(0,e.h)(Hm,null,Me.message):Me.message),Pe&&!M&&(0,e.h)(e.Fragment,null,(0,e.h)("span",null," "),(0,e.h)(zr.kG,{resetCss:!0,className:Go.readMore,onClick:Me=>{Me.preventDefault(),k(!0)}},"Read more")),Pe&&M&&(0,e.h)(e.Fragment,null,q.map(Me=>jd(Me)?(0,e.h)(Hm,null,Me.message):Me.message)))}function Hm({children:n}){return(0,e.h)(Wp(),{options:{attributes:{rel:"nofollow ugc",onClick:t=>t.stopPropagation()}}},n)}function yS(n,t){let r=0;const i=[],s=[];for(const M of n){let k=M;if(r<t){if(r+k.characters>t&&jd(k)){const j=t-r,U={characters:j,message:k.message.slice(0,j)},q={characters:k.characters-j,message:k.message.slice(j)};k=U,s.push(q)}r+=k.characters,i.push(k)}else s.push(k)}return{alwaysShow:i,afterExpansion:s}}function bS(n,t){const r=/\$\{(\d+)\}/g;let i=r.exec(n);const s=n,M=[];let k=0;for(;i;){const j=Number(i[1]),U=t[j];U?(i.index>k&&M.push({characters:i.index-k,message:s.slice(k,i.index)}),M.push({characters:U.text.length,message:ES(U.user_id,PS(U.text),U.text)})):M.push({characters:r.lastIndex-k,message:s.slice(k,r.lastIndex)}),k=r.lastIndex,i=r.exec(n)}return k<s.length&&M.push({characters:s.length-k,message:s.slice(k)}),M}function PS(n){return n.slice(1)}function ES(n,t,r){return(0,e.h)(Dd.default,{name:t,id:n,mentionText:r,type:"user",uuid:JO,isStatic:!1,isEditorContext:!1})}function wS(n){var t=n,{communityComment:r,quoteReply:i,isTargeted:s,isBanned:M,pubRole:k}=t,j=Fm(t,["communityComment","quoteReply","isTargeted","isBanned","pubRole"]);return(0,e.h)(CS,fs({isTargeted:s,commentInfoArr:[{communityComment:r,quoteReply:i,isBanned:M,pubRole:k}]},j))}function CS({commentInfoArr:n,author:t,chatPublicationId:r,hideReply:i,onReply:s,onNewQuote:M,onQuoteReplyClick:k,onDelete:j,commentRef:U,isTargeted:q,isReadOnly:Pe,chatAuthorNameAttribution:Me,extras:xe,flex:Ve}){const qe=Aa(),Ge=n[n.length-1].communityComment,{reply_count:ut=0,recent_commenters:bt=[]}=Ge!=null?Ge:{};return(0,e.h)(Hu,{user:t,pubRole:n[0].pubRole,containerRef:U,id:`comment-${Ge==null?void 0:Ge.id}`,flex:Ve},Me&&(0,e.h)(Hd,{text:`Comment from ${Me}\u2019s subscriber chat`}),(0,e.h)(Wm,{actionMenuProps:{communityEntity:n[0].communityComment,isBanned:n[0].isBanned,isFlagged:n[0].communityComment.reported_by_user,onReply:s,onDelete:j,onNewQuote:M,isReadOnly:Pe,publicationId:r},flex:Ve},(0,e.h)(Vu,null,n.map(({communityComment:{id:Pt,body:At,quote_id:Lt,media_uploads:Dt,reactions:Ht,reaction:on,reported_by_user:hn},quoteReply:an},mn)=>(0,e.h)(e.Fragment,{key:Pt},!hn&&Dt&&Dt.length>0&&Lt===null&&(0,e.h)(pl,{context:{type:"comments",id:Pt},reactions:Ht,currentReaction:on,onReactionClick:ml(Pt,"comments",qe,on),isReadOnly:Pe},(0,e.h)(Zp.q,{assets:Dt.map(rr=>rr.url),className:Go.imageGroup,readOnly:Pe})),Lt&&an&&(0,e.h)(kS,{authorName:an.user.name,communityEntity:an.comment,onClick:k}),At&&(0,e.h)(pl,{context:{type:"comments",id:Pt},reactions:Ht,currentReaction:on,onReactionClick:ml(Pt,"comments",qe,on),setReactions:!Dt||Dt.length===0,isReadOnly:Pe},(0,e.h)(Km,{authorName:t.name,communityEntity:n[mn].communityComment,isTargeted:q})))))),!i&&ut>0&&(0,e.h)(Vm,null,(0,e.h)(Ku,{commenters:bt,count:ut})),xe)}function hs(n){return n.post_id===void 0}function Hu({user:n,children:t,flex:r="grow",containerRef:i,id:s,pubRole:M}){return(0,e.h)(me.hs,{id:s,alignItems:"start",gap:12,flex:r,ref:i,className:u()(Gi.avatarContainer,Go.avatarContainer)},(0,e.h)(me.hs,{paddingTop:4},n?(0,e.h)(Gm,{user:n,pubRole:M,size:40}):(0,e.h)(Wa.Vm,{type:"circle",size:40})),(0,e.h)(me.tu,{flex:"grow",gap:4},t))}function OS(){return(0,e.h)(me.hs,{className:Go.actionButton,paddingX:4,alignItems:"center"},(0,e.h)(Hp.Z,null))}function SS({communityEntity:n,onReply:t,onDelete:r,isReadOnly:i,publicationId:s,isBanned:M,isFlagged:k,onNewQuote:j}){const U=(0,o.sO)(!1),q=Pe=>{U.current=Pe};return(0,e.h)(me.hs,{alignItems:"center",className:Go.actions},(0,e.h)(qp,{content:({closePopover:Pe})=>(0,e.h)(TS,{communityEntity:n,onReply:t,onDelete:r,closePopover:Pe,isReadOnly:i,publicationId:s,isBanned:M,isFlagged:k,onNewQuote:j}),preferPlacement:"bottom-center",hideOnScroll:!0,layerClassName:Go.actionMenuLayer,onOpen:()=>q&&q(!0),onClose:()=>q&&q(!1)},(0,e.h)(OS,null)))}function TS({communityEntity:n,onReply:t,onDelete:r,isReadOnly:i,publicationId:s,isBanned:M,isFlagged:k,closePopover:j,onNewQuote:U}){const q=(0,ls.aF)(),{isAuthor:Pe}=(0,wd.Y0)(s!=null?s:0),Me=s&&Pe,xe=n&&q&&n.user_id===q.id,Ve=n&&!hs(n),qe=Ve&&"parent_id"in n&&n.parent_id!==null,Ge=xe||Me,ut=xe||Me,bt=!xe&&!k,Pt=Me&&Ve&&!xe;return(0,e.h)(me.tu,{className:Go.actionMenu,bg:"primary",gap:12,overflowY:"auto"},!i&&t&&(0,e.h)(DS,{disabled:!!(n!=null&&n.is_locked),onReply:t}),!i&&U&&Ve&&(0,e.h)(IS,{onNewQuote:U,communityComment:n,closePopover:j}),n&&n.body&&(0,e.h)(MS,{communityEntity:n,closePopover:j}),n&&(0,e.h)(xS,{communityEntity:n,closePopover:j}),!i&&n&&!qe&&ut&&(0,e.h)(AS,{communityEntity:n,closePopover:j}),!i&&n&&Ge&&(0,e.h)(LS,{communityEntity:n,closePopover:j,onDelete:r}),!i&&n&&bt&&(0,e.h)(NS,{communityEntity:n,closePopover:j}),!i&&n&&M!==void 0&&Pt&&(0,e.h)(RS,{communityEntity:n,closePopover:j,isBanned:M}))}function IS({onNewQuote:n,communityComment:t,closePopover:r}){return(0,e.h)(Do.sN,{icon:(0,e.h)(Yw,null),onClick:()=>{n(t),r()}},"Quote")}function DS({disabled:n,onReply:t}){return(0,e.h)(Do.sN,{icon:(0,e.h)(Jw,null),onClick:t,disabled:n},"Reply")}function MS({communityEntity:n,closePopover:t}){const r=(0,ti.pm)(),i=()=>{if(n){const{body:s}=n;(0,y.copyToClipboard)(s),r.popToast(M=>(0,e.h)(ti.FN,YO(fs({},M),{text:"Text copied",Icon:Id})))}t()};return(0,e.h)(Do.sN,{icon:(0,e.h)(Id,null),onClick:i},"Copy Text")}function xS({communityEntity:n,closePopover:t}){const r=(0,Yp.g)(),{id:i}=n,s=hs(n),M=()=>{var k;let j;s?j=(0,le.getCommunityPostAppLinkUrl)({postId:i}):j=(0,le.getCommunityCommentAppLinkUrl)({commentId:(k=n.parent_id)!=null?k:i,targetReplyId:n.parent_id?i:void 0}),r(j),t()};return(0,e.h)(Do.sN,{icon:(0,e.h)(fl.Z,null),onClick:M},"Copy Link")}function AS({communityEntity:n,closePopover:t}){const r=Aa(),{id:i,is_locked:s}=n,M=hs(n),k=()=>Zo(this,null,function*(){r(M?tS(i,!s):nS(i,!s)),t()});return(0,e.h)(Do.sN,{icon:s?(0,e.h)(Vp,null):(0,e.h)(Xw,null),onClick:k,priority:s?"primary":"destructive"},s?"Turn on replies":"Turn off replies")}function NS({communityEntity:n,closePopover:t}){const r=Aa(),i=hs(n),s=()=>Zo(this,null,function*(){if(confirm(`Are you sure you want to flag this ${i?"thread":"reply"}?`)){const{id:k}=n;r(i?rS(k):oS(k)),t()}});return(0,e.h)(Do.sN,{icon:(0,e.h)(Kp.Z,null),onClick:s,priority:"destructive"},i?"Flag thread":"Flag reply")}function RS({communityEntity:n,closePopover:t,isBanned:r}){const i=Aa(),s=()=>Zo(this,null,function*(){if(confirm("Are you sure you want to ban this user?")){const{id:k}=n;i(iS(k,!r)),t()}});return(0,e.h)(Do.sN,{icon:r?(0,e.h)(Qw.Z,null):(0,e.h)($p.Z,null),onClick:s,priority:"destructive"},r?"Unban user":"Ban user")}function LS({communityEntity:n,closePopover:t,onDelete:r}){const i=Aa(),s=hs(n),M=()=>Zo(this,null,function*(){if(confirm(`Are you sure you want to delete this ${s?"thread":"comment"}?`)){const{id:j}=n;if(s){const{publication_id:U}=n;i(qO(j,U))}else{const{post_id:U,parent_id:q}=n;i(eS(j,U,q))}r&&setTimeout(r,500)}t()});return(0,e.h)(Do.sN,{icon:(0,e.h)(qw,null),onClick:M,priority:"destructive"},s?"Delete thread":"Delete reply")}function Vm(n){return(0,e.h)(me.tu,fs({className:Go.replyContainer,alignItems:"start"},n))}function Vu(n){return(0,e.h)(me.tu,fs({className:Go.bubbleStack,gap:4,alignItems:"start"},n))}function Wd(n){var t=n,{isTargeted:r}=t,i=Fm(t,["isTargeted"]);return(0,e.h)(me.hs,fs({className:u()(Go.bubble,r&&Go.targetedAnimation),padding:12,bg:"secondary",minWidth:0},i))}function Km({authorName:n,communityEntity:t,isTargeted:r}){return(0,e.h)(Wd,{isTargeted:r},(0,e.h)($m,{authorName:n,communityEntity:t}))}function kS({authorName:n,communityEntity:t,onClick:r}){return(0,e.h)(me.hs,{className:u()(Go.bubble,Go.quoteBox),onClick:r,padding:12,minWidth:0},(0,e.h)($m,{authorName:n,communityEntity:t}))}function $m({authorName:n,communityEntity:t}){var r,i,s,M;let k=null;const j=hs(t)?"thread":"reply";return t.reported_by_user&&(k=`You flagged this ${j}`),(t.status==="deleted"||!t.body)&&(k=`This ${j} is not available`),t.body||(hs(t)?(r=t.media_assets)!=null&&r.length?k=`${t.media_assets.length} ${t.media_assets.length>1?"photos":"photo"}.`:t.link_url&&(k=`Link: ${t.link_url}`,(i=t.link_metadata)!=null&&i.title&&(k=`Link: "${t.link_metadata.title}"`)):(s=t.media_uploads)!=null&&s.length&&(k=`${t.media_uploads.length} ${t.media_uploads.length>1?"photos":"photo"}.`)),(0,e.h)(J.Zx,{isParagraph:!0,className:Go.bubbleText},(0,e.h)(J.Zx,{weight:"semibold",className:Go.authorName},n)," ",(t.body||k)&&(0,e.h)(vS,{text:(M=t.raw_body)!=null?M:t.body,rawText:t.raw_body,specialText:k,mentionMap:t.mentions}))}function Ku({isLocked:n,count:t=0,commenters:r,audience:i}){const s=n?Nu.Z:ll.Z;return(0,e.h)(Wd,{alignSelf:"stretch"},(0,e.h)(me.hs,{flex:"grow",justifyContent:"space-between",alignItems:"center",gap:12},(0,e.h)(me.hs,{alignItems:"center",gap:8},r&&(0,e.h)(me.hs,{className:Go.facepile,alignItems:"center"},r.map(M=>(0,e.h)(Gm,{className:Go.facepileAvatar,user:M,size:24}))),(0,e.h)(J.Zx,{color:"secondary"},t>0?`${t.toLocaleString()} replies...`:"Reply...")),(0,e.h)(me.hs,{gap:4,alignItems:"center"},n||!i||i==="all_subscribers"?void 0:(0,e.h)(J.Zx,{color:"secondary"},i==="only_founding"?"Founding":"Paid"),(0,e.h)(s,{size:20,stroke:"var(--color-secondary)"}))))}function BS({audience:n}){const t=n==="only_founding"?"FOUNDING MEMBERS ONLY":"PAID SUBSCRIBERS ONLY";return(0,e.h)(me.tu,{className:Go.paywallBubble,alignSelf:"stretch",alignItems:"center",justifyContent:"center",bg:"secondary"},(0,e.h)(me.hs,{alignItems:"center",gap:4},(0,e.h)(Nu.Z,{size:12,stroke:"var(--color-secondary)"}),(0,e.h)(J.xv.Meta,{weight:"semibold"},t)))}function US(){return(0,e.h)(me.tu,{className:Go.paywallBubble,alignSelf:"stretch",alignItems:"center",justifyContent:"center",bg:"secondary"},(0,e.h)(me.hs,{alignItems:"center",gap:4},(0,e.h)(Nu.Z,{size:12,stroke:"var(--color-secondary)"}),(0,e.h)(J.xv.Meta,{weight:"semibold"},"SUBSCRIBERS ONLY")))}function FS({linkUrl:n,linkMetadata:t,postId:r}){var i,s,M;const k=Aa();let j;try{const Ve=new URL((i=t==null?void 0:t.url)!=null?i:n);j=`${Ve.host}${Ve.pathname}${Ve.search}${Ve.hash}`}catch(Ve){j=n}const{result:U,isLoading:q,error:Pe}=(0,so.ib)({pathname:"/api/v1/link-metadata",query:{url:n},auto:!t,deps:[n]});U&&!t&&r&&k({type:"posts-link_metadata",payload:{id:r,link_metadata:U}});const Me=(s=t==null?void 0:t.title)!=null?s:U==null?void 0:U.title,xe=(M=t==null?void 0:t.image)!=null?M:U==null?void 0:U.image;return(0,e.h)(Wd,null,(0,e.h)(me.hs,{as:"a",href:n,target:"_blank",justifyContent:"space-between",gap:12,className:Go.linkBubble,onClick:Ve=>Ve.stopPropagation()},(0,e.h)(me.tu,{gap:4},Me&&(0,e.h)(J.xv,{font:"serif",weight:"semibold",className:Go.linkTitle},Me),(0,e.h)(J.xv.Detail,{ellipsis:!0,className:Go.linkUrl},j)),xe&&(0,e.h)(Br.e,{className:Go.linkImg,src:xe,maxWidth:72*2})))}function zm(n){return(0,e.h)(zr.zx,fs({className:Go.ctaButton,priority:"primary-theme"},n))}function Hd({text:n,isStatic:t}){return(0,e.h)(me.hs,{paddingX:8,paddingY:4},(0,e.h)(J.xv.Detail,{weight:"semibold"},(0,e.h)(lC,{strokeWidth:2,height:12,stroke:"#808080",fill:"transparent",isStatic:t})," ",n))}function Gm({user:n,size:t,pubRole:r,className:i}){let s;(r==null?void 0:r.role)==="admin"||(r==null?void 0:r.role)==="contributor"?s="author":r!=null&&r.is_founding?s="founding":(r==null?void 0:r.membership_state)==="subscribed"&&(s="paid");const M=(0,la.L0)(n);return(0,e.h)(me.hs,{as:"a",flex:"auto",alignSelf:"start",href:(0,le.getReaderProfileUrl)(n,{noBase:!0}),target:"_blank"},(0,e.h)(Bs.YY,{showProfileHovercard:M,className:i,size:t,user:n,subscriptionType:s}))}function*wV(n,t,r=1){for(let i=n;i<t;i+=r)yield i}const{isMobile:jS}=wt(76193);function CV({utm_campaign:n,utm_source:t}={}){const[r,i]=useState(!1);return{open:()=>i(!0),modal:h(HS,{isOpen:r,onClose:()=>i(!1),utm_campaign:n,utm_source:t})}}function Zm({label:n}){return(0,e.h)(me.hs,{gap:16,alignItems:"center",className:De.divider},(0,e.h)("hr",{className:De.dividerLine}),n&&(0,e.h)(e.Fragment,null,(0,e.h)(J.xv.Meta,null,n),(0,e.h)("hr",{className:De.dividerLine})))}function WS({utm_campaign:n,utm_source:t}){return h(FlexColumn,{justifyContent:"center",alignItems:"center",gap:32,padding:32},!jS()&&h(Fragment,null,h(Text.B3,{weight:"semibold"},"Scan the QR code below"),h(FlexBox,{padding:4,alignItems:"center",className:css.qrCode},h(VS,{utm_campaign:n,utm_source:t})),h(Zm,{label:"OR"})),h(FlexBox,{gap:16,justifyContent:"center"},h("a",{className:css.appBadge,href:getAppStoreUrl({utm_campaign:n,utm_source:t})},h("img",{src:imginary("/img/app_page/app-store.png",160*2),height:48})),h("a",{className:css.appBadge,href:getPlayStoreUrl({utm_campaign:n,utm_source:t})},h("img",{src:imginary("/img/app_page/google-play.png",160*2),height:48}))))}function HS({isOpen:n,onClose:t,utm_campaign:r,utm_source:i}){return h(Modal,{isOpen:n,onClose:t},h(FlexColumn,null,h(FlexBox,{padding:24,borderBottom:"detail",justifyContent:"space-between",alignItems:"center",className:css.modalHeader},h(Text.H2,null,"Download the Substack app"),h(IconButton,{size:40,onClick:t,rounded:!0,fill:"borderless","aria-label":"Close"},h(X,{size:20}))),h(WS,{utm_campaign:r,utm_source:i})))}function VS({utm_campaign:n,utm_source:t}){const r=useRef();return useEffect(()=>{const{current:i}=r;i&&qrcode.toCanvas(i,getAppStoreRedirectUrl({utm_campaign:n,utm_source:t}),{width:200,margin:0})},[]),h("canvas",{ref:r})}var KS=wt(30058),Ym=Object.getOwnPropertySymbols,$S=Object.prototype.hasOwnProperty,zS=Object.prototype.propertyIsEnumerable,GS=(n,t)=>{var r={};for(var i in n)$S.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Ym)for(var i of Ym(n))t.indexOf(i)<0&&zS.call(n,i)&&(r[i]=n[i]);return r};const $u=n=>{var t=n,{size:r="md",shape:i="circle",badgePosition:s="top-right",badge:M,imageUrl:k,onClick:j,className:U,border:q}=t,Pe=GS(t,["size","shape","badgePosition","badge","imageUrl","onClick","className","border"]);return(0,e.h)(KS.e,{className:U},(0,e.h)("div",{onClick:j,className:u()("tw-relative","tw-inline-block")},(0,e.h)("img",{className:u()("tw-inline-block","tw-object-cover",i==="circle"?"tw-rounded-full":"tw-rounded",{"tw-h-6 tw-w-6":r==="sm","tw-h-8 tw-w-8":r==="md","tw-h-10 tw-w-10":r==="lg","tw-h-[64px] tw-w-[64px]":r==="xl","tw-h-[88px] tw-w-[88px]":r==="xxl","tw-border-4 tw-border-substack-bg tw-shadow-md":q},j?"tw-cursor-pointer hover:tw-opacity-90 active:tw-opacity-100":null),src:k?(0,v.imginary)(k):void 0}),M!=null?(0,e.h)("span",{className:u()("tw-absolute",{"tw-top-0 tw-right-0":s==="top-right","tw-top-0 tw-left-0":s==="top-left","tw-bottom-0 tw-right-0":s==="bottom-right","tw-bottom-0 tw-left-0":s==="bottom-left"})},M):null))},Zi={pageContainer:"frontend-substack-PublicationThreadAppLinkPage-module__pageContainer--Dy3AB",layoutTop:"frontend-substack-PublicationThreadAppLinkPage-module__layoutTop--VZxW0",layoutCentered:"frontend-substack-PublicationThreadAppLinkPage-module__layoutCentered--S7flk",header:"frontend-substack-PublicationThreadAppLinkPage-module__header--hDVhk",logo:"frontend-substack-PublicationThreadAppLinkPage-module__logo--tGZpx",footer:"frontend-substack-PublicationThreadAppLinkPage-module__footer--eZ5qt",threadsLinkContainer:"frontend-substack-PublicationThreadAppLinkPage-module__threadsLinkContainer--HyiPj",threadsLinkFallback:"frontend-substack-PublicationThreadAppLinkPage-module__threadsLinkFallback--oC97h",qrCode:"frontend-substack-PublicationThreadAppLinkPage-module__qrCode--ynSCW",avatarContainer:"frontend-substack-PublicationThreadAppLinkPage-module__avatarContainer--X5YS7",activityBadge:"frontend-substack-PublicationThreadAppLinkPage-module__activityBadge--LorrD",mobile:"frontend-substack-PublicationThreadAppLinkPage-module__mobile--a_a5G",appBadge:"frontend-substack-PublicationThreadAppLinkPage-module__appBadge--ZcSET",webChatLink:"frontend-substack-PublicationThreadAppLinkPage-module__webChatLink--k60XF"};var ZS=Object.defineProperty,zu=Object.getOwnPropertySymbols,Jm=Object.prototype.hasOwnProperty,Xm=Object.prototype.propertyIsEnumerable,Qm=(n,t,r)=>t in n?ZS(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,YS=(n,t)=>{for(var r in t||(t={}))Jm.call(t,r)&&Qm(n,r,t[r]);if(zu)for(var r of zu(t))Xm.call(t,r)&&Qm(n,r,t[r]);return n},JS=(n,t)=>{var r={};for(var i in n)Jm.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&zu)for(var i of zu(n))t.indexOf(i)<0&&Xm.call(n,i)&&(r[i]=n[i]);return r};function Vd({children:n,pub:t,user:r,showHeader:i,layoutTop:s}){return(0,e.h)("div",{className:u()(Zi.pageContainer,s?Zi.layoutTop:Zi.layoutCentered)},(0,e.h)("div",{className:Zi.header},i&&t&&r&&(0,e.h)(xu,{pub:t,user:r,hideSections:!0,hideTitle:!0})),n)}function XS({pub:n,utm_campaign:t}){return(0,e.h)(me.tu,{alignItems:"center",justifyContent:"center",gap:12},(0,e.h)(t0,{utm_campaign:t}),(0,e.h)(J.xv.B4,{size:12,color:"secondary",className:Zi.threadsLinkFallback},"Already have the app? ",(0,e.h)("a",{href:(0,v.getThreadDeepLinkUrl)(n)},"Open now")))}function QS({pub:n,utm_campaign:t}){return(0,e.h)(me.tu,{alignItems:"center",justifyContent:"center",gap:12},(0,e.h)(n0,{utm_campaign:t}),(0,e.h)(J.xv.B4,{size:12,color:"secondary",className:Zi.threadsLinkFallback},"Already have the app? ",(0,e.h)("a",{href:(0,v.getThreadDeepLinkUrl)(n)},"Open now")))}function qm({pub:n,communityAction:t}){var r,i;const s=t?`${t.author.name} started a thread`:`Join ${(0,Ne.possessive)(n.author_name)} subscriber chat `,M=t!=null&&t.communityPost?(r=t.communityPost.body)==null?void 0:r.slice(0,128):`Subscribe to ${n.name} and join the conversation.`,k=((i=t==null?void 0:t.communityPost)==null?void 0:i.type)==="media"&&!!(t!=null&&t.communityPost.media_assets),j=k?t.communityPost.media_assets[0].url:n.logo_url,U=(0,le.getPublicationChatAppLinkUrl)({pubKey:n.subdomain});return(0,e.h)(e.Fragment,null,(0,y.setMetaData)({title:s,socialTitle:s,description:M,image:j,isLargeImage:k}),(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:Sd()((0,Td.hd)(n,{name:s,url:U,description:M,potentialAction:null}),{json:!0,isScriptContext:!0})}}))}function qS({publication:n,communityAction:t,user:r,showHeader:i}){return(0,e.h)(Vd,{pub:n,user:r,showHeader:i},(0,e.h)(me.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(me.hs,{flex:"grow",justifyContent:"center",paddingBottom:56},(0,e.h)(nT,{publication:n,communityAction:t,publicationAuthor:n.author||{id:n.author_id||0,name:n.author_name||"",photo_url:n.author_photo_url},utm_campaign:"threads-page"}))))}function eT({publication:n,communityAction:t,user:r,layoutTop:i,appModalOpenByDefault:s}){const M=(0,Bi.XA)(),[k,j]=(0,o.eJ)(!M&&s),U="thread-page",q=(0,e.h)(me.tu,{gap:8},(0,e.h)(zm,{href:(0,le.getCommunityPostAppLinkUrl)({postId:t.communityPost.id,utm_source:"chat-post-landing",redirect:"app-store",utm_campaign:U}),onClick:M?null:Pe=>{Pe.preventDefault(),j(!0)}},"Open in app"),(0,e.h)(Kd,{publication:n,postId:t.communityPost.id,text:"Or join the conversation on web",source:"post-permalink"}));return(0,e.h)(Vd,{pub:n,user:r,layoutTop:i},(0,e.h)(me.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(me.hs,{flex:"grow",justifyContent:"center",paddingBottom:16},(0,e.h)(me.tu,{style:{maxWidth:580},flex:"grow",justifyContent:"center"},t.status==="open"?(0,e.h)(jm,{communityPost:t.communityPost,author:t.author,withAttribution:!0,extras:M?null:q,flex:"auto",isReadOnly:!0}):(0,e.h)(me.tu,null,(0,e.h)(Fd,{author:t.author,extras:M?null:q,commenters:t.communityPost.recent_commenters,count:t.communityPost.comment_count,audience:t.communityPost.audience})))),M&&(0,e.h)(me.tu,{className:Zi.footer,sizing:"border-box",borderTop:"detail-themed",paddingY:16,alignSelf:"stretch"},q),(0,e.h)(qm,{pub:n,communityAction:t})),(0,e.h)(r0,{utm_campaign:U,isOpen:k,postId:t.communityPost.id,onClose:()=>j(!1),subdomain:n.subdomain}))}function tT({publication:n,communityAction:t,user:r,layoutTop:i,appModalOpenByDefault:s}){var M;const k=(0,Bi.XA)(),[j,U]=(0,o.eJ)(!k&&s),q="comment-page",Pe=(M=t.communityComment.parent_id)!=null?M:t.communityComment.id,Me=t.communityComment.parent_id?t.communityComment.id:void 0,xe=t.communityComment.post_id,Ve=(0,e.h)(me.tu,{gap:8},(0,e.h)(zm,{href:(0,le.getCommunityCommentAppLinkUrl)({commentId:Pe,targetReplyId:Me,utm_source:"chat-post-landing",redirect:"app-store",utm_campaign:q}),onClick:k?null:qe=>{qe.preventDefault(),U(!0)}},"Open in app"),(0,e.h)(Kd,{publication:n,postId:xe,commentId:Pe,targetReplyId:Me,showTarget:Me?!0:void 0,text:"Or join the conversation on web",source:"post-permalink"}));return(0,e.h)(Vd,{pub:n,user:r,layoutTop:i},(0,e.h)(me.tu,{flex:"grow",alignSelf:"stretch",justifyContent:"center"},(0,e.h)(me.hs,{flex:"grow",justifyContent:"center",paddingBottom:16},(0,e.h)(me.tu,{style:{maxWidth:580},flex:"grow",justifyContent:"center"},t.status==="VISIBLE"||!t.status?(0,e.h)(wS,{chatPublicationId:n.id,communityComment:t.communityComment,author:t.author,extras:k?null:Ve,isReadOnly:!0,isBanned:!1,quoteReply:t.quote,chatAuthorNameAttribution:n.author_name,flex:"auto"}):t.status==="PAID_SUBSCRIPTION_REQUIRED"||t.status==="FOUNDING_SUBSCRIPTION_REQUIRED"?(0,e.h)(me.tu,null,(0,e.h)(Fd,{author:t.author,extras:k?null:Ve,commenters:t.communityComment.recent_commenters,count:t.communityComment.reply_count,audience:t.status==="FOUNDING_SUBSCRIPTION_REQUIRED"?"only_founding":"only_paid"})):(0,e.h)(me.tu,null,(0,e.h)(gS,{author:t.author,extras:k?null:Ve,commenters:t.communityComment.recent_commenters,count:t.communityComment.reply_count})))),k&&(0,e.h)(me.tu,{className:Zi.footer,sizing:"border-box",borderTop:"detail-themed",paddingY:16,alignSelf:"stretch"},Ve)),(0,e.h)(r0,{utm_campaign:q,isOpen:j,postId:xe,commentId:Pe,targetReplyId:Me,onClose:()=>U(!1),subdomain:n.subdomain}))}function nT({publication:n,communityAction:t,publicationAuthor:r,noFallback:i,utm_campaign:s}){const M=(0,P.isMobile)(),k=(0,P.isAndroid)();return(0,e.h)(me.tu,{gap:M?20:24,justifyContent:"center",alignItems:"center"},(0,e.h)($u,{imageUrl:(0,v.getUserPhotoUrl)(r),size:"xxl",border:!0,badge:(0,e.h)("div",{className:u()(Zi.activityBadge)}),badgePosition:"bottom-right"}),(0,e.h)(me.tu,{gap:8},(0,e.h)(J.xv.H2,{size:24,align:"center",weight:"bold",color:"pub-primary-text"},"Join ",(0,Ne.possessive)(r.name)," subscriber chat")),!M&&(0,e.h)("div",{className:Zi.threadsLinkContainer},(0,e.h)(e0,{utm_campaign:s,subdomain:n.subdomain})),M&&(k?(0,e.h)(QS,{pub:n,utm_campaign:s}):(0,e.h)(XS,{pub:n,utm_campaign:s})),(0,e.h)(Kd,{publication:n,source:"pub-nav-bar"}),(0,e.h)(qm,{pub:n,communityAction:t}))}function Kd({publication:n,source:t,postId:r,commentId:i,targetReplyId:s,showTarget:M,text:k="Or open on web"}){return(0,e.h)("a",{href:(0,le.getWebChatUrl)({pubId:n.id,postId:r,commentId:i,params:{utm_source:t,targetReplyId:s,showTarget:M}}),className:Zi.webChatLink},(0,e.h)(J.xv.B3,{size:16,weight:"semibold",align:"center",as:"p",color:"pub-secondary-text"},k))}function e0({utm_campaign:n,postId:t,subdomain:r,commentId:i,targetReplyId:s}){return(0,e.h)(me.tu,{gap:24,alignItems:"center"},(0,e.h)(me.hs,{justifyContent:"center"},(0,e.h)(J.xv.B4,{as:"span",weight:"bold"},"Scan the QR code below")),(0,e.h)(me.hs,{flex:"auto",justifyContent:"center",border:"detail",radius:6,className:Zi.qrCode},(0,e.h)(rT,{utm_campaign:n,postId:t,subdomain:r,commentId:i,targetReplyId:s})),(0,e.h)(Zm,{label:"OR"}),(0,e.h)(me.hs,{gap:16,justifyContent:"center"},(0,e.h)(t0,{utm_campaign:n}),(0,e.h)(n0,{utm_campaign:n})))}function rT({utm_campaign:n,postId:t,subdomain:r,commentId:i,targetReplyId:s}){const M=(0,o.sO)(),k=i?(0,le.getCommunityCommentAppLinkUrl)({commentId:i,targetReplyId:s,utm_campaign:n}):t?(0,le.getCommunityPostAppLinkUrl)({postId:t,utm_campaign:n}):(0,le.getPublicationChatAppLinkUrl)({pubKey:r,redirect:"app-store",utm_campaign:n});return(0,o.d4)(()=>{const{current:j}=M;j&&Gw.toCanvas(j,k,{width:180,margin:2})},[]),(0,e.h)("canvas",{ref:M})}function t0({utm_campaign:n}){return(0,e.h)("a",{className:Zi.appBadge,href:(0,v.getAppStoreUrl)({utm_campaign:n,utm_source:"substack"})},(0,e.h)("img",{src:(0,v.imginary)("/img/app_page/app-store.png",400),height:40}))}function n0({utm_campaign:n}){return(0,e.h)("a",{className:Zi.appBadge,href:(0,v.getPlayStoreUrl)({utm_campaign:n,utm_source:"substack"})},(0,e.h)("img",{src:(0,v.imginary)("/img/app_page/google-play.png",400),height:40}))}function r0(n){var t=n,{postId:r,utm_campaign:i,subdomain:s,commentId:M,targetReplyId:k}=t,j=JS(t,["postId","utm_campaign","subdomain","commentId","targetReplyId"]);return(0,e.h)(ta.u_,YS({},j),(0,e.h)(ta.xB,{title:"Open in the Substack app",includeClose:!0,onClose:j.onClose,bottomBorder:!0}),(0,e.h)(me.tu,{paddingY:32,paddingX:40},(0,e.h)(e0,{utm_campaign:i,postId:r,subdomain:s,commentId:M,targetReplyId:k})))}var _l=wt(23237),Ea=wt(6378),$d=function(){return($d=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s]);return n}).apply(this,arguments)},gl,vl,zd=(0,sn.createContext)(void 0),o0="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-MML-AM_CHTML",i0="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js",oT=function(Pe){var t=Pe.config,r=Pe.version,r=r===void 0?3:r,i=Pe.src,i=i===void 0?r===2?o0:i0:i,s=Pe.onStartup,M=Pe.onLoad,k=Pe.onError,j=Pe.typesettingOptions,U=Pe.renderMode,U=U===void 0?"post":U,q=Pe.hideUntilTypeset,Pe=Pe.children,xe=(0,sn.useContext)(zd);if((xe==null?void 0:xe.version)!==void 0&&(xe==null?void 0:xe.version)!==r)throw Error("Cannot nest MathJaxContexts with different versions. MathJaxContexts should not be nested at all but if they are, they cannot have different versions. Stick with one version of MathJax in your app and avoid using more than one MathJaxContext.");if(r===2&&vl!==void 0||r===3&&gl!==void 0)throw Error("Cannot use MathJax versions 2 and 3 simultaneously in the same app due to how MathJax is set up in the browser; either you have multiple MathJaxContexts with different versions or you have mounted and unmounted MathJaxContexts with different versions. Please stick with one version of MathJax in your app. File an issue in the project Github page if you need this feature.");var Me=(0,sn.useRef)(xe),xe=(0,sn.useRef)((xe==null?void 0:xe.version)||null);if(xe.current===null)xe.current=r;else if(xe.current!==r)throw Error("Cannot change version of MathJax in a MathJaxContext after it has mounted. Reload the page with a new version when this must happen.");var Ve=i||(r===2?o0:i0);function qe(Ge,ut){t&&(window.MathJax=t);var bt=document.createElement("script");bt.type="text/javascript",bt.src=Ve,bt.async=!1,bt.addEventListener("load",function(){var Pt=window.MathJax;s&&s(Pt),Ge(Pt),M&&M()}),bt.addEventListener("error",function(Pt){return ut(Pt)}),document.getElementsByTagName("head")[0].appendChild(bt)}return Me.current===void 0&&(xe={typesettingOptions:j,renderMode:U,hideUntilTypeset:q},r===2?gl===void 0&&(typeof window!="undefined"?(gl=new Promise(qe)).catch(function(Ge){if(!k)throw Error("Failed to download MathJax version 2 from '".concat(Ve,"' due to: ").concat(Ge));k(Ge)}):(gl=Promise.reject()).catch(function(Ge){})):vl===void 0&&(typeof window!="undefined"?(vl=new Promise(qe)).catch(function(Ge){if(!k)throw Error("Failed to download MathJax version 3 from '".concat(Ve,"' due to: ").concat(Ge));k(Ge)}):(vl=Promise.reject()).catch(function(Ge){})),Me.current=$d($d({},xe),r===2?{version:2,promise:gl}:{version:3,promise:vl})),sn.default.createElement(zd.Provider,{value:Me.current},Pe)};const iT=oT;var $a=function(){return($a=Object.assign||function(n){for(var t,r=1,i=arguments.length;r<i;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s]);return n}).apply(this,arguments)},aT=function(n,t){var r={};for(s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.indexOf(s)<0&&(r[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(n);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(n,s[i])&&(r[s[i]]=n[s[i]]);return r},yl=function(n){return"Typesetting failed: ".concat(n.message!==void 0?n.message:n.toString())},sT=function(n){function t(){var Dt;Ge==="every"&&Pt&&ut==="post"&&Ve.current!==null&&(Ve.current.style.visibility=(Dt=(Dt=Me.style)==null?void 0:Dt.visibility)!=null?Dt:"visible"),At.current||(Ge==="first"&&Ve.current!==null&&(Ve.current.style.visibility="visible"),s&&s(),At.current=!0),M&&M(),Lt.current=!1}var i=n.inline,r=i!==void 0&&i,i=n.hideUntilTypeset,s=n.onInitTypeset,M=n.onTypeset,k=n.text,j=n.dynamic,U=n.typesettingOptions,q=n.renderMode,Pe=n.children,Me=aT(n,["inline","hideUntilTypeset","onInitTypeset","onTypeset","text","dynamic","typesettingOptions","renderMode","children"]),xe=(0,sn.useRef)(""),Ve=(0,sn.useRef)(null),qe=(0,sn.useContext)(zd),Ge=i!=null?i:qe==null?void 0:qe.hideUntilTypeset,ut=q!=null?q:qe==null?void 0:qe.renderMode,bt=U!=null?U:qe==null?void 0:qe.typesettingOptions,Pt=j!==!1&&(j||!1),At=(0,sn.useRef)(!1),Lt=(0,sn.useRef)(!1);return!Lt.current&&Ve.current!==null&&Pt&&Ge==="every"&&ut==="post"&&(Ve.current.style.visibility="hidden"),(typeof window!="undefined"?sn.useLayoutEffect:sn.useEffect)(function(){if((Pt||!At.current)&&Ve.current!==null){if(!qe)throw Error("MathJax was not loaded, did you use the MathJax component outside of a MathJaxContext?");if(ut==="pre"){if(!(typeof(Dt=k)=="string"&&0<Dt.length))throw Error(`Render mode 'pre' requires text prop to be set and non-empty, which was currently "`.concat(k,'"'));if(!U||!U.fn)throw Error("Render mode 'pre' requires 'typesettingOptions' prop with 'fn' property to be set on MathJax element or in the MathJaxContext");if(qe.version===2)throw Error("Render mode 'pre' only available with MathJax 3, and version 2 is currently in use")}ut!=="post"&&k===xe.current||Lt.current||(Lt.current=!0,qe.version===3?qe.promise.then(function(Ht){var on;ut==="pre"?(on=function(hn){xe.current=k,Ht.startup.document.clear(),Ht.startup.document.updateDocument(),Ve.current!==null&&(Ve.current.innerHTML=hn.outerHTML),t()},U.fn.endsWith("Promise")?Ht.startup.promise.then(function(){return Ht[bt.fn](k,$a($a({},(bt==null?void 0:bt.options)||{}),{display:!r}))}).then(on).catch(function(hn){throw t(),Error(yl(hn))}):Ht.startup.promise.then(function(){var hn=Ht[bt.fn](k,$a($a({},(bt==null?void 0:bt.options)||{}),{display:!r}));on(hn)}).catch(function(hn){throw t(),Error(yl(hn))})):Ht.startup.promise.then(function(){return Ht.typesetClear([Ve.current]),Ht.typesetPromise([Ve.current])}).then(t).catch(function(hn){throw t(),Error(yl(hn))})}).catch(function(Ht){throw t(),Error(yl(Ht))}):qe.promise.then(function(Ht){Ht.Hub.Queue(["Typeset",Ht.Hub,Ve.current]),Ht.Hub.Queue(t)}).catch(function(Ht){throw t(),Error(yl(Ht))}))}var Dt}),sn.default.createElement("span",$a({},Me,{style:$a($a({display:r?"inline":"block"},Me.style),{visibility:Ge?"hidden":(n=Me.style)==null?void 0:n.visibility}),ref:Ve}),Pe)};const lT=sT;var bi=wt(82626),uT=wt(42395),Pi=wt.n(uT),qr=wt(18492);const Us={webContainer:"frontend-community-CommunityChatEmbed-module__webContainer--yvB6N",container:"frontend-community-CommunityChatEmbed-module__container--Rxuxg",emailWrapper:"frontend-community-CommunityChatEmbed-module__emailWrapper--s2WXp",text:"frontend-community-CommunityChatEmbed-module__text--OkWnB",title:"frontend-community-CommunityChatEmbed-module__title--MzrVh",button:"frontend-community-CommunityChatEmbed-module__button--sD_5W"};function cT({pub:n,subdomain:t}){return(0,e.h)(me.tu,{className:Us.webContainer,alignItems:"center",border:"detail-themed",radius:12,padding:20,gap:16,as:"a",href:Gd(t),target:"_blank","data-component-name":"CommunityChatEmbed"},(0,e.h)($u,{size:"xl",imageUrl:(0,le.imginary)(n.author_photo_url),border:!0}),(0,e.h)(me.tu,{gap:4,alignItems:"center"},(0,e.h)(J.xv.H3,{as:"div",color:"pub-primary-text"},"Join ",n.author_name,"\u2019s subscriber chat"),(0,e.h)(J.xv.B4,{color:"pub-secondary-text"},"Available in the Substack app and on web")),(0,e.h)(me.tu,{alignSelf:"stretch"},(0,e.h)(zr.zx,{priority:"primary-theme",href:Gd(t)},"Join chat")))}function dT({pub:n,subdomain:t}){return(0,e.h)("a",{className:Us.emailWrapper,href:Gd(t),"data-component-name":"EmailCommunityChatEmbed"},(0,e.h)("div",{className:Us.container},(0,e.h)(qr.NS,{size:64,src:(0,le.imginary)(n.author_photo_url),framed:!0}),(0,e.h)("div",{className:Us.text},(0,e.h)(J.xv.H3,{className:Us.title,as:"div",color:"pub-primary-text"},"Join ",n.author_name,"\u2019s subscriber chat"),(0,e.h)(J.xv.B4,{color:"pub-secondary-text"},"Available in the Substack app and on web")),(0,e.h)(qr.Bj,{tableClassName:Us.button},"Join chat")))}function Gd(n){return(0,le.getPublicationChatAppLinkUrl)({pubKey:n,utm_source:"chat_embed"})}const Gu={bubbleStack:"frontend-community-EmailCommunityPostView-module__bubbleStack--WvrT_",bubble:"frontend-community-EmailCommunityPostView-module__bubble--QZBFA",img:"frontend-community-EmailCommunityPostView-module__img--sDJg2",linkImg:"frontend-community-EmailCommunityPostView-module__linkImg--k71Si",paywallBubble:"frontend-community-EmailCommunityPostView-module__paywallBubble--fIVSc frontend-community-EmailCommunityPostView-module__bubble--QZBFA"};var fT=Object.defineProperty,a0=Object.getOwnPropertySymbols,hT=Object.prototype.hasOwnProperty,pT=Object.prototype.propertyIsEnumerable,s0=(n,t,r)=>t in n?fT(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,mT=(n,t)=>{for(var r in t||(t={}))hT.call(t,r)&&s0(n,r,t[r]);if(a0)for(var r of a0(t))pT.call(t,r)&&s0(n,r,t[r]);return n};function _T({communityPost:n,is_freemail:t,author:r,cta:i,withAttribution:s,attributionText:M,hideReply:k,truncateBodyAt:j}){const U=!n||t&&n.audience==="only_paid";let q=null;return!U&&n.body&&(q=j?(0,Ne.truncateText)(n.body,j):n.body),(0,e.h)(qr.zK,{gap:12,verticalAlign:"top"},(0,e.h)(qr.NS,{src:r.photo_url,size:40}),(0,e.h)(qr.i$,{gap:4,style:{lineHeight:0}},s&&(0,e.h)(Hd,{isStatic:!0,text:M||`From ${(0,Ne.possessive)(r.name)} subscriber chat`}),U?(0,e.h)(gT,null):[n.type==="media"&&n.media_assets?n.media_assets.slice(0,1).map(Pe=>(0,e.h)(vT,{key:Pe.url,asset:Pe})):n.type==="link"&&(0,e.h)(yT,{communityPost:n}),q&&(0,e.h)(Zd,null,(0,e.h)("span",null,(0,e.h)(J.Zx,{weight:"bold"},r.name)," ",q))],!k&&(0,e.h)(Zd,null,(0,e.h)(qr.YF,null,(0,e.h)("tr",null,(0,e.h)("td",{align:"left"},(0,e.h)(J.Zx,{color:"secondary"},"Reply...")),(0,e.h)("td",{align:"right"},(0,e.h)(ll.Z,{size:20,stroke:"var(--color-secondary}"}))))),i&&(0,e.h)(qr.b9,{fullWidth:!0,href:i.url},i.text),i&&i.blurb&&(0,e.h)("div",null,(0,e.h)(J.xv,{color:"secondary",align:"center",size:14,lineHeight:20},i.blurb))))}function Zd(n){return(0,e.h)("div",mT({className:Gu.bubble},n))}function gT(){return(0,e.h)("div",{className:Gu.paywallBubble,style:{backgroundImage:`url(${(0,le.imginary)("/img/community/paywall-pixels-light.png")})`}},(0,e.h)(J.xv.Meta,null,"SUBSCRIBERS ONLY"))}function vT({asset:n}){return(0,e.h)("img",{className:Gu.img,width:400,src:(0,le.imginary)(n.url,400*2,{crop:"limit",height:400*2})})}function yT({communityPost:n}){var t,r;const{link_metadata:i,link_url:s}=n,M=(r=(t=i==null?void 0:i.url)!=null?t:s)!=null?r:"";let k;try{const j=new URL(M);k=`${j.host}${j.pathname}${j.search}${j.hash}`}catch(j){k=M}return(0,e.h)(Zd,null,(0,e.h)(qr.YF,{style:{width:"400px"}},(0,e.h)("tr",null,(0,e.h)("td",{align:"left",style:{verticalAlign:"top"}},(i==null?void 0:i.title)&&(0,e.h)(J.xv,{font:"serif",lineHeight:24},i.title),(0,e.h)(J.xv.Meta,{color:"secondary"},k)),(0,e.h)("td",{width:"16"}),(0,e.h)("td",{align:"right"},(i==null?void 0:i.image)&&(0,e.h)("img",{className:Gu.linkImg,src:(0,le.imginary)(i.image,72*2,{height:72*2,smartCrop:!0})})))))}function OV({utm_campaign:n,utm_source:t,style:r}){const i="Chat is a place to hang out with your favorite writers. Every week we\u2019ll send a roundup of Chats you missed from writers you subscribe to.",s=getGlobalAccountSettingsUrl({utm_source:t,section:"notifications",highlightNotification:null}),M=getChatAppLinkUrl({utm_source:t,utm_campaign:n});return h(Box,{padding:12,border:"detail",bg:"secondary",radius:12,style:r},h(Text.H3,null,"Why am I getting this?"),h(Text.B4,{size:14,color:"secondary",style:{marginTop:8}},i,h("br",null),h("br",null),"You can change your notification settings on web ",h("a",{href:s}," here"),"."),h(EmailHStack,{gap:8,style:{marginTop:20}},h(ThemedEmailButtonMod,{priority:"primary",href:M},"Open App"),h(ThemedEmailButtonMod,{priority:"secondary",href:s},"Visit Settings")))}const Yd={container:"frontend-community-CommunityPostEmbed-module__container--PgwcB",emailWrapper:"frontend-community-CommunityPostEmbed-module__emailWrapper--HkNYU"};var bT=Object.defineProperty,PT=Object.defineProperties,ET=Object.getOwnPropertyDescriptors,l0=Object.getOwnPropertySymbols,wT=Object.prototype.hasOwnProperty,CT=Object.prototype.propertyIsEnumerable,u0=(n,t,r)=>t in n?bT(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,OT=(n,t)=>{for(var r in t||(t={}))wT.call(t,r)&&u0(n,r,t[r]);if(l0)for(var r of l0(t))CT.call(t,r)&&u0(n,r,t[r]);return n},ST=(n,t)=>PT(n,ET(t));function TT({postId:n}){var t;const{isLoading:r,error:i,result:s}=(0,so.ib)({pathname:`/api/v1/community/posts/${n}`,auto:!0,deps:[n]}),M=i instanceof so.kp&&i.response.status===402&&((t=i.body)==null?void 0:t.status)==="PAID_SUBSCRIPTION_REQUIRED"?i.body:null;return(0,e.h)(me.hs,{as:"a",className:Yd.container,target:"_blank",href:(0,le.getCommunityPostAppLinkUrl)({postId:n,utm_source:"thread_embed"}),"data-component-name":"CommunityPostEmbed"},M?(0,e.h)(Fd,{author:M.user}):i?"Error":s&&(0,e.h)(jm,{author:s.user,communityPost:s.communityPost,withAttribution:!0,isReadOnly:!0}))}function IT(n){const{postId:t}=n;return(0,e.h)("a",{className:Yd.emailWrapper,href:(0,le.getCommunityPostAppLinkUrl)({postId:t,utm_source:"thread_embed",modal:"1"}),"data-component-name":"EmailCommunityPostEmbed"},(0,e.h)("div",{className:Yd.container},(0,e.h)(_T,ST(OT({},n),{withAttribution:!0}))))}var DT=wt(31131),c0=wt(81470),bl=wt(31517),d0=wt(26240),f0=wt(65024),MT=wt(224),Zu=wt(50670),xT=wt(4070),AT=wt(6742),h0=wt(41474),p0=wt(55687);const Jd={container:"frontend-feed-CommentEmbed-module__container--IBfEM",note:"frontend-feed-CommentEmbed-module__note--NPgVz"};function NT({commentId:n}){const{isLoading:t,error:r,result:i}=(0,so.ib)({pathname:`/api/v1/reader/comment/${n}`,auto:!0,deps:[n]});return r instanceof so.kp?r.getMessage():!i||t?(0,e.h)(LT,null):(0,e.h)(RT,{feedItem:i.item})}function RT({feedItem:n}){var t,r,i,s,M;const{comment:k,parentComments:j}=n,{truncatedBodyJson:U}=(0,xT.Z)(k),q=j[j.length-1],Pe=(t=k.attachments)==null?void 0:t.find(Ve=>Ve.type!=="image"),Me=(r=k.attachments)==null?void 0:r.filter(Ve=>Ve.type==="image"),xe=(0,o.sO)(null);return(0,AT.UM)(xe,()=>(0,h0.zi)(n,c0.Uo.PostEmbed),{threshold:.2}),(0,e.h)(me.tu,{justifyContent:"center",alignItems:"center",paddingX:20,className:Jd.container},(0,e.h)(Iu.h,null,(0,e.h)(me.hs,{as:"a",target:"_blank",href:(0,le.getFeedCommentUrl)(k),gap:12,border:"detail",bg:"elevated",radius:12,padding:{mobile:16,desktop:20},style:{textDecoration:"none",width:"560px",maxWidth:"100%"},className:Jd.note,ref:xe},(0,e.h)(me.hs,{flex:"auto"},(0,e.h)(Zu.Zb,{user:k})),(0,e.h)(me.tu,{minWidth:0,gap:8,flex:"grow"},(0,e.h)(me.tu,{minWidth:0,flex:"grow"},(0,e.h)(Zu.KF,null,(0,e.h)(J.Zx,{weight:"semibold"},k.name),(0,e.h)(Nt.o,{tier:k.user_bestseller_tier}),(0,e.h)(Zu.Ku,{timestamp:k.date})),q&&(0,e.h)(J.xv.Detail,null,"Replying to ",q.name),(0,e.h)(me.tu,{gap:12,flex:"grow"},(0,e.h)(Zu.sP,null,U&&(0,e.h)(MT.x,{content:U})),(0,e.h)(f0.y,{attachments:Pe?[Pe]:Me||[],readOnly:!0,onAttachmentClick:({commentId:Ve}={})=>(0,h0.rw)(n,c0.Uo.PostEmbed,"attachment",{extraEventProps:{commentId:Ve}}),utm_content:n.entity_key}))),(0,e.h)(me.hs,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(Yu,{icon:(0,e.h)(_d.Z,{height:16,fill:"none",strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(i=k.reaction_count)!=null?i:0}),(0,e.h)(Yu,{icon:(0,e.h)(d0.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(s=k.children_count)!=null?s:0}),(0,e.h)(Yu,{icon:(0,e.h)(bl.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:(M=k.restacks)!=null?M:0}),(0,e.h)(Yu,{icon:(0,e.h)(DT.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-secondary)"}),count:0}))))))}function Yu({icon:n,count:t}){return(0,e.h)(me.hs,{gap:8,paddingTop:6,flex:"grow",alignItems:"center"},n,(0,e.h)(J.xv.Digit,{color:"secondary"},t>0&&(0,p0.u)(t)))}function LT(){return(0,e.h)(Iu.h,null,(0,e.h)(me.tu,{justifyContent:"center",alignItems:"center",paddingX:20,style:{margin:"20px 0"},"data-component-name":"CommentViewPlacehodder"},(0,e.h)(me.hs,{gap:12,border:"detail",bg:"primary",radius:12,padding:{mobile:16,desktop:20},style:{textDecoration:"none",width:"560px",maxWidth:"100%"},flex:"grow",className:Jd.note},(0,e.h)(Wa.Vm,{type:"circle",size:48}),(0,e.h)(me.tu,{gap:12,flex:"grow"},(0,e.h)(Wa.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`}),(0,e.h)(Wa.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`}),(0,e.h)(Wa.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`}),(0,e.h)(Wa.Vm,{height:16,width:`${Math.random()*(100-20)+20}%`})))))}var kT=Object.defineProperty,BT=Object.defineProperties,UT=Object.getOwnPropertyDescriptors,m0=Object.getOwnPropertySymbols,FT=Object.prototype.hasOwnProperty,jT=Object.prototype.propertyIsEnumerable,_0=(n,t,r)=>t in n?kT(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,WT=(n,t)=>{for(var r in t||(t={}))FT.call(t,r)&&_0(n,r,t[r]);if(m0)for(var r of m0(t))jT.call(t,r)&&_0(n,r,t[r]);return n},HT=(n,t)=>BT(n,UT(t));const VT=n=>(0,e.h)(x.l,HT(WT({},n),{name:"MoreIcon",svgParams:{height:24,width:24,fill:n.fill,stroke:n.stroke,strokeWidth:n.strokeWidth}}),(0,e.h)("path",{d:"M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z"}),(0,e.h)("path",{d:"M19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11C18.4477 11 18 11.4477 18 12C18 12.5523 18.4477 13 19 13Z"}),(0,e.h)("path",{d:"M5 13C5.55228 13 6 12.5523 6 12C6 11.4477 5.55228 11 5 11C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13Z"}));var Fs=wt(84606);function TV({item:n,utmSource:t}){const{comment:r}=n;return h(g0,{comment:r,utmSource:t})}function g0({comment:n,utmSource:t}){var r,i,s,M,k,j,U,q;const Pe=(r=n.attachments)==null?void 0:r.find(Ge=>Ge.type==="image"),Me=(i=n.attachments)==null?void 0:i.find(Ge=>Ge.type==="post"),xe=Me==null?void 0:Me.postSelection,Ve=(s=n.attachments)==null?void 0:s.find(Ge=>Ge.type!=="image"),qe=Ve&&(0,f0.k)(Ve);return(0,e.h)(Fs.xu,{as:"a",href:(0,le.getFeedCommentUrl)(n,{urlParams:{utm_source:t}}),padding:16,radius:12,border:"detail",style:{textDecoration:"none",display:"block",minWidth:"410px"},"data-component-name":"EmailCommentEmbed"},(0,e.h)(qr.zK,{style:{width:"100%"},verticalAlign:"top",gap:12},(0,e.h)(qr.NS,{src:(k=n.photo_url)!=null?k:(0,v.getDefaultUserPhotoById)((M=n.user_id)!=null?M:0),size:48}),(0,e.h)(qr.i$,{gap:12,style:{lineHeight:0,width:"100%"}},(0,e.h)(Fs.xu,null,(0,e.h)(J.xv.B3,null,(0,e.h)(J.Zx,{weight:"semibold"},n.name)," ",(0,e.h)(J.Zx,{color:"secondary"},Tr()(n.date).fromNowShort())),(0,e.h)(J.xv.B3,null,(0,Ne.truncateWords)(n.body,420))),Me&&xe&&(0,e.h)(J.xv.B3,null,(0,e.h)(KT,{attachment:Me,selection:xe})),qe&&!Me&&(0,e.h)(J.xv.B4,{color:"accent-blue"},qe),Pe&&(0,e.h)($T,{attachment:Pe}),(0,e.h)(qr.YF,{width:"100%",style:{width:"100%"}},(0,e.h)("tr",null,(0,e.h)("td",{width:"20%"},(0,e.h)(_d.Z,{width:16,height:16,strokeWidth:1.5,stroke:Pl,style:Ju,fill:"none",isStatic:!0}),(0,e.h)(Xd,{count:(j=n.reaction_count)!=null?j:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(d0.Z,{height:16,width:16,strokeWidth:1.5,stroke:Pl,style:Ju,isStatic:!0}),(0,e.h)(Xd,{count:(U=n.children_count)!=null?U:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(bl.Z,{height:16,width:16,strokeWidth:1.5,stroke:Pl,style:Ju,isStatic:!0}),(0,e.h)(Xd,{count:(q=n.restacks)!=null?q:0})),(0,e.h)("td",{width:"20%"},(0,e.h)(VT,{height:16,width:16,strokeWidth:2,stroke:Pl,fill:Pl,style:Ju,isStatic:!0})))))))}const Ju={display:"inline-block",verticalAlign:"middle"};function Xd({count:n}){return(0,e.h)(J.xv.B4,{size:12,as:"span",weight:"semibold",color:"secondary",style:{marginLeft:4}},n>0?(0,p0.u)(n):" ")}const Pl="#808080";function KT({attachment:n,selection:t}){return(0,e.h)(Fs.xu,{padding:12,radius:12,bg:"secondary"},(0,e.h)(J.xv,{color:"secondary",font:"serif",fontStyle:"italic",lineHeight:24},(0,Ne.truncateWords)(t.text.replaceAll("\u201C","\u2018").replaceAll("\u201D","\u2019"),180),"\u201D \u2014 ",(0,Xe.getPostAuthor)(n.publication,n.post).name))}function $T({attachment:n}){return(0,e.h)(Fs.xu,{as:"img",src:(0,le.imginary)(n.imageUrl,400*2,{crop:"limit",height:400*2}),width:400,radius:12,style:{maxHeight:600,objectFit:"cover",margin:0}})}const zT=(0,go.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),js={avatar:"frontend-main-meetings-Embed-module__avatar--I1maB",badge:"frontend-main-meetings-Embed-module__badge--wg1nn",container:"frontend-main-meetings-Embed-module__container--Gbf2M",header:"frontend-main-meetings-Embed-module__header--U1aau",emailButton:"frontend-main-meetings-Embed-module__emailButton--_wEaP",cta:"frontend-main-meetings-Embed-module__cta--AKskK"},GT=({avatarUrl:n,name:t,url:r})=>(0,e.h)(qr.i$,{gap:12,style:{padding:"16px",border:"1px solid #E0E0E0",borderRadius:"8px",margin:"0 auto 20px"}},(0,e.h)(qr.zK,{gap:12},(0,e.h)(qr.NS,{src:n,size:40}),(0,e.h)(qr.i$,null,(0,e.h)(J.xv.H4,{size:14,paddingBottom:4,color:"pub-primary-text"},"Book a meeting with ",t),(0,e.h)(J.xv.B4,{color:"pub-secondary-text"},"Schedule a meeting"))),(0,e.h)(qr.Bj,{tableClassName:js.emailButton,href:r},"Book meeting")),ZT=({avatarUrl:n,name:t,url:r})=>(0,e.h)(me.hs,{direction:{mobile:"column",desktop:"row"},radius:12,padding:24,alignItems:"center",className:js.container,justifyContent:"space-between","data-component-name":"MeetingEmbed"},(0,e.h)(me.gq,{className:js.header,gap:16,paddingBottom:{mobile:20,desktop:0}},(0,e.h)($u,{className:js.avatar,imageUrl:n,size:"lg",badge:(0,e.h)("div",{className:js.badge},(0,e.h)(zT,{color:"white",size:12})),badgePosition:"bottom-right"}),(0,e.h)("div",null,(0,e.h)(J.xv.H4,{paddingBottom:4,color:"pub-primary-text"},"Book a meeting with ",t),(0,e.h)(J.xv.B4,{color:"pub-secondary-text"},"Schedule a meeting"))),(0,e.h)(zr.zx,{className:js.cta,priority:"primary-theme",onClick:()=>{(0,y.redirect)(r,{newTab:!0})}},"Book meeting"));var YT=Object.defineProperty,JT=Object.defineProperties,XT=Object.getOwnPropertyDescriptors,v0=Object.getOwnPropertySymbols,QT=Object.prototype.hasOwnProperty,qT=Object.prototype.propertyIsEnumerable,y0=(n,t,r)=>t in n?YT(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,e5=(n,t)=>{for(var r in t||(t={}))QT.call(t,r)&&y0(n,r,t[r]);if(v0)for(var r of v0(t))qT.call(t,r)&&y0(n,r,t[r]);return n},t5=(n,t)=>JT(n,XT(t));const Qd=n=>(0,e.h)(x.l,t5(e5({},n),{name:"Back15Icon",svgParams:{width:20,height:22,viewBox:"0 0 20 22",stroke:"none",fill:"white"}}),(0,e.h)("path",{d:"M0 11.8557C0 13.2164 0.260417 14.4989 0.78125 15.7034C1.30208 16.9078 2.02148 17.969 2.93945 18.887C3.85742 19.7984 4.91536 20.5146 6.11328 21.0354C7.31771 21.5562 8.60026 21.8166 9.96094 21.8166C11.3216 21.8166 12.6009 21.5562 13.7988 21.0354C15.0033 20.5146 16.0645 19.7984 16.9824 18.887C17.9004 17.969 18.6198 16.9078 19.1406 15.7034C19.6615 14.4989 19.9219 13.2164 19.9219 11.8557C19.9219 10.6578 19.7168 9.51846 19.3066 8.43773C18.8965 7.357 18.3236 6.38044 17.5879 5.50805C16.8587 4.62914 16.0026 3.89672 15.0195 3.31078C14.043 2.71833 12.985 2.30818 11.8457 2.08031V0.693592C11.8457 0.342029 11.7448 0.12393 11.543 0.039295C11.3411 -0.0453404 11.1068 0.00674294 10.8398 0.195545L7.72461 2.37328C7.49674 2.52953 7.38281 2.71182 7.38281 2.92015C7.38281 3.12849 7.49674 3.31403 7.72461 3.47679L10.8301 5.6643C11.097 5.85961 11.3314 5.91495 11.5332 5.83031C11.7415 5.73916 11.8457 5.51781 11.8457 5.16625V3.77953C12.7702 3.98786 13.6198 4.33943 14.3945 4.83422C15.1758 5.32901 15.8529 5.93448 16.4258 6.65062C17.0052 7.36677 17.4544 8.16755 17.7734 9.05297C18.0924 9.93187 18.252 10.8661 18.252 11.8557C18.252 13.008 18.0371 14.0888 17.6074 15.0979C17.1842 16.1005 16.5918 16.9827 15.8301 17.7444C15.0749 18.4996 14.196 19.0888 13.1934 19.512C12.1908 19.9416 11.1133 20.1565 9.96094 20.1565C8.80859 20.1565 7.72786 19.9416 6.71875 19.512C5.71615 19.0888 4.83398 18.4996 4.07227 17.7444C3.31706 16.9827 2.72461 16.1005 2.29492 15.0979C1.87174 14.0888 1.66016 13.008 1.66016 11.8557C1.66016 10.9312 1.80339 10.0523 2.08984 9.21898C2.3763 8.37914 2.77669 7.61416 3.29102 6.92406C3.80534 6.23396 4.40755 5.64151 5.09766 5.14672C5.29948 4.99698 5.42643 4.81469 5.47852 4.59984C5.53711 4.385 5.50456 4.17666 5.38086 3.97484C5.25716 3.77953 5.07812 3.66234 4.84375 3.62328C4.60938 3.57771 4.38477 3.6363 4.16992 3.79906C3.33008 4.40453 2.59766 5.12719 1.97266 5.96703C1.34766 6.80036 0.86263 7.71833 0.517578 8.72094C0.172526 9.71703 0 10.762 0 11.8557ZM7.10938 15.8596C7.29818 15.8596 7.44792 15.801 7.55859 15.6838C7.66927 15.5601 7.72461 15.3941 7.72461 15.1858V9.02367C7.72461 8.76976 7.66602 8.58096 7.54883 8.45726C7.43164 8.32706 7.26237 8.26195 7.04102 8.26195C6.9043 8.26195 6.77734 8.28799 6.66016 8.34008C6.54297 8.38565 6.39648 8.46703 6.2207 8.58422L4.88281 9.49242C4.77214 9.57055 4.6875 9.65844 4.62891 9.75609C4.57682 9.84724 4.55078 9.94815 4.55078 10.0588C4.55078 10.2216 4.60612 10.3616 4.7168 10.4787C4.82747 10.5959 4.96094 10.6545 5.11719 10.6545C5.21484 10.6545 5.29622 10.6415 5.36133 10.6155C5.42643 10.5894 5.5013 10.5406 5.58594 10.469L6.52344 9.78539H6.50391V15.1858C6.50391 15.3876 6.55924 15.5504 6.66992 15.6741C6.7806 15.7978 6.92708 15.8596 7.10938 15.8596ZM12.0703 15.9768C12.8776 15.9768 13.5254 15.7392 14.0137 15.2639C14.5085 14.7821 14.7559 14.1474 14.7559 13.3596C14.7559 12.6435 14.5378 12.0543 14.1016 11.592C13.6654 11.1298 13.099 10.8987 12.4023 10.8987C12.0898 10.8987 11.7839 10.9703 11.4844 11.1135C11.1914 11.2567 10.9798 11.4521 10.8496 11.6995H10.8984L11.0742 9.49242H13.9941C14.1374 9.49242 14.2611 9.44034 14.3652 9.33617C14.4759 9.232 14.5312 9.09528 14.5312 8.92601C14.5312 8.76325 14.4759 8.63305 14.3652 8.53539C14.2611 8.43122 14.1374 8.37914 13.9941 8.37914H10.8789C10.3646 8.37914 10.0846 8.64932 10.0391 9.18969L9.82422 12.0022C9.80469 12.2431 9.85352 12.4254 9.9707 12.5491C10.0879 12.6662 10.2539 12.7248 10.4688 12.7248C10.625 12.7248 10.752 12.7053 10.8496 12.6662C10.9473 12.6272 11.0645 12.5556 11.2012 12.4514C11.39 12.2821 11.5658 12.1617 11.7285 12.0901C11.8913 12.012 12.0703 11.9729 12.2656 11.9729C12.6432 11.9729 12.9492 12.1031 13.1836 12.3635C13.418 12.6174 13.5352 12.956 13.5352 13.3791C13.5352 13.8088 13.4017 14.1636 13.1348 14.4436C12.8678 14.7235 12.5326 14.8635 12.1289 14.8635C11.8359 14.8635 11.5723 14.7886 11.3379 14.6389C11.1035 14.4827 10.9245 14.2776 10.8008 14.0237C10.7292 13.9 10.6478 13.8056 10.5566 13.7405C10.4655 13.6689 10.3581 13.633 10.2344 13.633C10.0716 13.633 9.93815 13.6851 9.83398 13.7893C9.73633 13.8935 9.6875 14.0302 9.6875 14.1995C9.6875 14.2646 9.69401 14.3297 9.70703 14.3948C9.72005 14.4599 9.73958 14.525 9.76562 14.5901C9.89583 14.9416 10.1628 15.2606 10.5664 15.5471C10.9766 15.8336 11.4779 15.9768 12.0703 15.9768Z"}));var n5=Object.defineProperty,r5=Object.defineProperties,o5=Object.getOwnPropertyDescriptors,b0=Object.getOwnPropertySymbols,i5=Object.prototype.hasOwnProperty,a5=Object.prototype.propertyIsEnumerable,P0=(n,t,r)=>t in n?n5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,s5=(n,t)=>{for(var r in t||(t={}))i5.call(t,r)&&P0(n,r,t[r]);if(b0)for(var r of b0(t))a5.call(t,r)&&P0(n,r,t[r]);return n},l5=(n,t)=>r5(n,o5(t));const qd=n=>(0,e.h)(x.l,l5(s5({},n),{name:"Forward30Icon",svgParams:{width:20,height:22,viewBox:"0 0 20 22",stroke:"none",fill:"white"}}),(0,e.h)("path",{d:"M13.1738 15.9615C13.7142 15.9615 14.1829 15.802 14.5801 15.483C14.9837 15.1574 15.2962 14.705 15.5176 14.1255C15.7454 13.5461 15.8594 12.8658 15.8594 12.0845C15.8594 11.2968 15.7454 10.6099 15.5176 10.024C15.2962 9.43803 14.9837 8.9823 14.5801 8.65678C14.1829 8.33126 13.7142 8.1685 13.1738 8.1685C12.6335 8.1685 12.1615 8.33126 11.7578 8.65678C11.3542 8.97579 11.0417 9.42827 10.8203 10.0142C10.599 10.6001 10.4883 11.2902 10.4883 12.0845C10.4883 12.8658 10.599 13.5461 10.8203 14.1255C11.0417 14.705 11.3542 15.1574 11.7578 15.483C12.1615 15.802 12.6335 15.9615 13.1738 15.9615ZM6.875 15.9615C7.64323 15.9615 8.27148 15.7531 8.75977 15.3365C9.25456 14.9133 9.50195 14.3729 9.50195 13.7154C9.50195 13.2401 9.35221 12.83 9.05273 12.4849C8.75326 12.1333 8.3724 11.9315 7.91016 11.8794V11.9283C8.28125 11.8632 8.59701 11.6613 8.85742 11.3228C9.12435 10.9843 9.25781 10.5969 9.25781 10.1607C9.25781 9.57475 9.03971 9.09624 8.60352 8.72514C8.17383 8.35405 7.61719 8.1685 6.93359 8.1685C6.34115 8.1685 5.82357 8.3215 5.38086 8.62749C4.93815 8.92697 4.66471 9.31108 4.56055 9.77983C4.54753 9.83842 4.53776 9.89376 4.53125 9.94585C4.52474 9.99793 4.52148 10.05 4.52148 10.1021C4.52148 10.2779 4.57031 10.4211 4.66797 10.5318C4.77214 10.6425 4.90885 10.6978 5.07812 10.6978C5.35156 10.6978 5.54036 10.5448 5.64453 10.2388C5.74219 9.93282 5.89518 9.7017 6.10352 9.54545C6.31185 9.38269 6.57878 9.30131 6.9043 9.30131C7.24935 9.30131 7.52604 9.39572 7.73438 9.58452C7.94922 9.76681 8.05664 10.0077 8.05664 10.3072C8.05664 10.6197 7.94922 10.8801 7.73438 11.0884C7.51953 11.2902 7.23958 11.3912 6.89453 11.3912H6.47461C6.31185 11.3912 6.18164 11.4432 6.08398 11.5474C5.98633 11.6451 5.9375 11.7818 5.9375 11.9576C5.9375 12.1203 5.98633 12.257 6.08398 12.3677C6.18815 12.4719 6.31836 12.524 6.47461 12.524H6.93359C7.35026 12.524 7.67904 12.6281 7.91992 12.8365C8.16081 13.0448 8.28125 13.3215 8.28125 13.6665C8.28125 13.9986 8.14779 14.2785 7.88086 14.5064C7.62044 14.7277 7.28841 14.8384 6.88477 14.8384C6.53971 14.8384 6.25 14.757 6.01562 14.5943C5.78125 14.4315 5.60872 14.1971 5.49805 13.8912C5.43945 13.7284 5.36458 13.6112 5.27344 13.5396C5.18229 13.468 5.07161 13.4322 4.94141 13.4322C4.77865 13.4322 4.64193 13.4875 4.53125 13.5982C4.42708 13.7089 4.375 13.8521 4.375 14.0279C4.375 14.08 4.37826 14.1353 4.38477 14.1939C4.39128 14.246 4.40104 14.2981 4.41406 14.3501C4.51823 14.8059 4.80469 15.19 5.27344 15.5025C5.74219 15.8085 6.27604 15.9615 6.875 15.9615ZM13.1738 14.7798C12.7441 14.7798 12.3991 14.5389 12.1387 14.0572C11.8848 13.5754 11.7578 12.9179 11.7578 12.0845C11.7578 11.2317 11.8848 10.5643 12.1387 10.0826C12.3926 9.59428 12.7376 9.35014 13.1738 9.35014C13.61 9.35014 13.9518 9.59103 14.1992 10.0728C14.4531 10.5546 14.5801 11.2251 14.5801 12.0845C14.5801 12.9179 14.4531 13.5754 14.1992 14.0572C13.9453 14.5389 13.6035 14.7798 13.1738 14.7798ZM9.96094 21.8111C11.3216 21.8111 12.6009 21.5507 13.7988 21.0298C15.0033 20.509 16.0645 19.7928 16.9824 18.8814C17.9004 17.9634 18.6198 16.9022 19.1406 15.6978C19.6615 14.4934 19.9219 13.2108 19.9219 11.8501C19.9219 10.7564 19.7493 9.71147 19.4043 8.71538C19.0592 7.71277 18.5742 6.7948 17.9492 5.96147C17.3242 5.12163 16.5918 4.39897 15.752 3.7935C15.5371 3.63074 15.3125 3.57215 15.0781 3.61772C14.8438 3.65678 14.6647 3.77397 14.541 3.96928C14.4173 4.17111 14.3815 4.37944 14.4336 4.59428C14.4922 4.80913 14.6224 4.99142 14.8242 5.14116C15.5143 5.63595 16.1165 6.2284 16.6309 6.9185C17.1452 7.60861 17.5456 8.37358 17.832 9.21342C18.1185 10.0468 18.2617 10.9257 18.2617 11.8501C18.2617 13.0025 18.0469 14.0832 17.6172 15.0923C17.194 16.0949 16.6016 16.9771 15.8398 17.7388C15.0846 18.494 14.2025 19.0832 13.1934 19.5064C12.1908 19.9361 11.1133 20.1509 9.96094 20.1509C8.80859 20.1509 7.73112 19.9361 6.72852 19.5064C5.72591 19.0832 4.84375 18.494 4.08203 17.7388C3.32682 16.9771 2.73438 16.0949 2.30469 15.0923C1.88151 14.0832 1.66992 13.0025 1.66992 11.8501C1.66992 10.7043 1.88151 9.63009 2.30469 8.62749C2.73438 7.61837 3.32682 6.73621 4.08203 5.981C4.83724 5.21928 5.71615 4.62358 6.71875 4.19389C7.72135 3.7642 8.79883 3.54936 9.95117 3.54936V1.8892C8.59049 1.8892 7.30794 2.14962 6.10352 2.67045C4.9056 3.19129 3.84766 3.91069 2.92969 4.82866C2.01823 5.74663 1.30208 6.80782 0.78125 8.01225C0.260417 9.21017 0 10.4895 0 11.8501C0 13.2108 0.260417 14.4934 0.78125 15.6978C1.30208 16.9022 2.02148 17.9634 2.93945 18.8814C3.85742 19.7928 4.91536 20.509 6.11328 21.0298C7.31771 21.5507 8.60026 21.8111 9.96094 21.8111ZM8.07617 0.697798V5.17045C8.07617 5.51551 8.17708 5.73361 8.37891 5.82475C8.58724 5.90939 8.82487 5.8573 9.0918 5.6685L12.207 3.481C12.4284 3.33126 12.5391 3.15223 12.5391 2.94389C12.5456 2.72905 12.4349 2.5435 12.207 2.38725L9.10156 0.199751C8.82812 0.00443892 8.58724 -0.0476444 8.37891 0.0435014C8.17708 0.128137 8.07617 0.346236 8.07617 0.697798Z"}));var u5=Object.defineProperty,c5=Object.defineProperties,d5=Object.getOwnPropertyDescriptors,Xu=Object.getOwnPropertySymbols,E0=Object.prototype.hasOwnProperty,w0=Object.prototype.propertyIsEnumerable,C0=(n,t,r)=>t in n?u5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,f5=(n,t)=>{for(var r in t||(t={}))E0.call(t,r)&&C0(n,r,t[r]);if(Xu)for(var r of Xu(t))w0.call(t,r)&&C0(n,r,t[r]);return n},h5=(n,t)=>c5(n,d5(t)),p5=(n,t)=>{var r={};for(var i in n)E0.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Xu)for(var i of Xu(n))t.indexOf(i)<0&&w0.call(n,i)&&(r[i]=n[i]);return r};const m5=n=>{var t=n,{fill:r="white"}=t,i=p5(t,["fill"]);return(0,e.h)(x.l,h5(f5({},i),{name:"PodcastEmbedPauseIcon",svgParams:{width:13,height:16,viewBox:"0 0 13 16",stroke:"none",fill:r}}),(0,e.h)("path",{d:"M4 0H1C0.447715 0 0 0.447715 0 1V15C0 15.5523 0.447715 16 1 16H4C4.55228 16 5 15.5523 5 15V1C5 0.447715 4.55228 0 4 0Z"}),(0,e.h)("path",{d:"M11.9998 0H8.99976C8.44747 0 7.99976 0.447715 7.99976 1V15C7.99976 15.5523 8.44747 16 8.99976 16H11.9998C12.552 16 12.9998 15.5523 12.9998 15V1C12.9998 0.447715 12.552 0 11.9998 0Z"}))};var _5=Object.defineProperty,g5=Object.defineProperties,v5=Object.getOwnPropertyDescriptors,Qu=Object.getOwnPropertySymbols,O0=Object.prototype.hasOwnProperty,S0=Object.prototype.propertyIsEnumerable,T0=(n,t,r)=>t in n?_5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,y5=(n,t)=>{for(var r in t||(t={}))O0.call(t,r)&&T0(n,r,t[r]);if(Qu)for(var r of Qu(t))S0.call(t,r)&&T0(n,r,t[r]);return n},b5=(n,t)=>g5(n,v5(t)),P5=(n,t)=>{var r={};for(var i in n)O0.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Qu)for(var i of Qu(n))t.indexOf(i)<0&&S0.call(n,i)&&(r[i]=n[i]);return r};const E5=n=>{var t=n,{fill:r="white"}=t,i=P5(t,["fill"]);return(0,e.h)(x.l,b5(y5({},i),{name:"PodcastEmbedPlayIcon",svgParams:{width:14,height:16,viewBox:"0 0 14 16",stroke:"none",fill:r}}),(0,e.h)("path",{d:"M12.8563 6.71384C13.8273 7.29645 13.8273 8.70372 12.8563 9.28632L2.27174 15.637C1.27196 16.2369 1.11076e-07 15.5167 1.62041e-07 14.3508L7.17238e-07 1.64937C7.68203e-07 0.483426 1.27196 -0.236744 2.27174 0.363129L12.8563 6.71384Z"}))};var w5=Object.defineProperty,C5=Object.defineProperties,O5=Object.getOwnPropertyDescriptors,I0=Object.getOwnPropertySymbols,S5=Object.prototype.hasOwnProperty,T5=Object.prototype.propertyIsEnumerable,ef=(n,t,r)=>t in n?w5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,I5=(n,t)=>{for(var r in t||(t={}))S5.call(t,r)&&ef(n,r,t[r]);if(I0)for(var r of I0(t))T5.call(t,r)&&ef(n,r,t[r]);return n},D5=(n,t)=>C5(n,O5(t)),tf=(n,t,r)=>(ef(n,typeof t!="symbol"?t+"":t,r),r),M5=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const D0="AudioPlayer.playbackRate",x5=5,M0={utm_source:"twitter",utm_medium:"social",utm_campaign:"twitter-embed"};class A5 extends e.Component{constructor(t){super(t)}shouldComponentUpdate(t){return this.props.currentPlaybackRate!==t.currentPlaybackRate||this.props.setPlaybackRate!==t.setPlaybackRate}render(){const{currentPlaybackRate:t,setPlaybackRate:r}=this.props;return(0,e.h)("select",{className:"audio-player-playback-rate",dir:"rtl",onInput:i=>r(Number(i.target.value))},(0,e.h)("option",{value:"1",selected:t===1},"1x"),(0,e.h)("option",{value:"1.25",selected:t===1.25},"1.25x"),(0,e.h)("option",{value:"1.5",selected:t===1.5},"1.5x"),(0,e.h)("option",{value:"1.75",selected:t===1.75},"1.75x"),(0,e.h)("option",{value:"2",selected:t===2},"2x"))}}class qu extends e.Component{constructor(t,r){super(t,r),tf(this,"setPlaybackRate",i=>{this.state.playbackRate!==i&&(this.player&&(this.player.playbackRate=i),this.setState({playbackRate:i}),(0,xi.ex)(D0,i))}),tf(this,"maybeAppendIframeVisitId",i=>{var s;const M=(s=(0,D.A)())==null?void 0:s.id;return M&&(i=(0,v.updateQuery)(i,{src_iid:M})),i}),tf(this,"openEpisodePage",()=>{let i=this.props.post.canonical_url;i=this.maybeAppendIframeVisitId(i),i=(0,v.updateQuery)(i,M0),window.open(i,"_blank")}),this._onGlobalPlay=this.onGlobalPlay.bind(this),this._onUnload=this.onUnload.bind(this),this._onMouseMove=this.onMouseMove.bind(this),this._onTouchStart=this.onTouchStart.bind(this),this._onTouchMove=this.onTouchMove.bind(this),this._onDragEnd=this.onDragEnd.bind(this),this._onCanPlay=this.onCanPlay.bind(this),this._onPlay=this.onPlay.bind(this),this._onPause=this.onPause.bind(this),this._onTimeUpdate=this.onTimeUpdate.bind(this),this._onRateChange=this.onRateChange.bind(this),this._onWaiting=this.onWaiting.bind(this),this._onPlaying=this.onPlaying.bind(this),this.state={playbackRate:t.playbackRate||(0,xi.mM)(D0,1),currentTime:0,waiting:!0,duration:t.duration||void 0,lastDragClearedAt:null}}componentDidMount(){var t,r;(t=y.globalPlaybackNotifier)==null||t.on("play",this._onGlobalPlay),typeof window!="undefined"&&window.addEventListener("beforeunload",this._onUnload,!1),document.body&&(document.body.addEventListener("mousemove",this._onMouseMove,!1),document.body.addEventListener("mouseup",this._onDragEnd,!1),document.body.addEventListener("touchmove",this._onTouchMove,{passive:!1}),document.body.addEventListener("touchend",this._onDragEnd,!1),document.body.addEventListener("touchcancel",this._onDragEnd,!1)),this.player&&(this.player.volume=1,this.player.playbackRate=this.state.playbackRate,this.player.addEventListener("canplay",this._onCanPlay),this.player.addEventListener("play",this._onPlay),this.player.addEventListener("pause",this._onPause),this.player.addEventListener("timeupdate",this._onTimeUpdate),this.player.addEventListener("ratechange",this._onRateChange),this.player.addEventListener("waiting",this._onWaiting),this.player.addEventListener("playing",this._onPlaying)),this.progressBar&&this.progressBar.addEventListener("touchstart",this._onTouchStart,{passive:!0}),this.onTimeUpdate(),this.props.onGetDuration&&!isNaN((r=this.player)==null?void 0:r.duration)&&this.props.onGetDuration(this.player.duration),(0,y.preloadImage)((0,v.imginary)("/img/audio-player-pause.png",96))}componentWillUnmount(){var t;(t=y.globalPlaybackNotifier)==null||t.off("play",this._onGlobalPlay),typeof window!="undefined"&&window.removeEventListener("beforeunload",this._onUnload,!1),document.body&&(document.body.removeEventListener("mousemove",this._onMouseMove,!1),document.body.removeEventListener("mouseup",this._onDragEnd,!1),document.body.removeEventListener("touchmove",this._onTouchMove,!1),document.body.removeEventListener("touchend",this._onDragEnd,!1),document.body.removeEventListener("touchcancel",this._onDragEnd,!1)),this.player&&(this.player.removeEventListener("canplay",this._onCanPlay),this.player.removeEventListener("play",this._onPlay),this.player.removeEventListener("pause",this._onPause),this.player.removeEventListener("timeupdate",this._onTimeUpdate),this.player.removeEventListener("ratechange",this._onRateChange),this.player.removeEventListener("waiting",this._onWaiting),this.player.removeEventListener("playing",this._onPlaying)),this.progressBar&&this.progressBar.removeEventListener("touchstart",this._onTouchStart)}componentDidUpdate(t,r){!this.state.playing&&typeof this.state.waiting=="number"&&typeof r.waiting!="number"&&this.track(D.FP.AUDIO_BUFFERING_STARTED),this.state.playing&&!r.playing&&!this.state.waiting&&typeof r.waiting=="number"&&this.track(D.FP.AUDIO_BUFFERING_COMPLETED,{buffering_duration:Date.now()-r.waiting}),this.state.playing&&Math.floor(this.state.currentTime)!==Math.floor(r.currentTime)&&Math.floor(this.state.currentTime)%x5===0&&this.track(D.FP.AUDIO_PLAYBACK_CONTINUED,{current_time:Math.floor(this.state.currentTime),feature:this.props.feature}),!this.state.playing&&r.playing&&this.player&&this.player.ended&&this.track(D.FP.AUDIO_PLAYBACK_COMPLETE)}onCanPlay(){this.props.onGetDuration&&this.props.onGetDuration(this.player.duration),this.onTimeUpdate()}onPlay(){var t;(t=y.globalPlaybackNotifier)==null||t.emit("play",this),this.setState({playing:!0})}onPause(){this.setState({playing:!1,waiting:!1})}onTimeUpdate(){if(!(!this.player||!isFinite(this.player.duration))){if(this.player.currentTime>this.player.duration){this.player.currentTime=this.player.duration;return}this.state.duration!==this.player.duration||this.state.currentTime!==this.player.currentTime?(this.setState({duration:this.player.duration||this.props.duration,currentTime:this.player.currentTime,waiting:!1}),this.props.onTimeUpdate&&this.props.onTimeUpdate({duration:Math.max(this.state.duration||0,this.player.duration||this.props.duration||0),currentTime:this.player.currentTime})):this.setState({waiting:!1})}}onRateChange(){this.player&&this.state.playbackRate!==this.player.playbackRate&&this.setState({playbackRate:this.player.playbackRate})}onWaiting(){this.setState({waiting:Date.now()})}onPlaying(){this.setState({playing:!0,waiting:!1})}onMouseDown(t){this.onDragStart(t.clientX)}onMouseMove(t){this.onDragMove(t.clientX)}onTouchStart(t){t.touches&&t.touches.length>0&&this.onDragStart(t.touches[0].pageX)}onTouchMove(t){typeof this.state.dragTime=="number"&&t.preventDefault(),t.touches&&t.touches.length>0&&this.onDragMove(t.touches[0].pageX)}onDragStart(t){typeof this.state.dragTime!="number"&&this.setDragTime(t)}onDragMove(t){typeof this.state.dragTime=="number"&&this.setDragTime(t)}onDragEnd(){this.clearDragTime()}onUnload(t){this.state.playing&&(t.returnValue="If you close this the audio will stop. Are you sure you want to navigate away from this page?")}onGlobalPlay(t){this!==t&&this.player&&(this.track(D.FP.CLICKED_PAUSE_BUTTON,{implicit:!0,feature:this.props.feature}),this.player.pause())}togglePlayback(){return M5(this,null,function*(){if(this.player)if(this.player.paused){this.track(D.FP.CLICKED_PLAY_BUTTON,{feature:this.props.feature});try{yield this.player.play()}catch(t){if(t.name==="NotSupportedError")alert("Failed to play this media: it may not be supported by this browser.");else throw t}}else this.track(D.FP.CLICKED_PAUSE_BUTTON,{feature:this.props.feature}),yield this.player.pause()})}skipBack(){if(this.player){const t=Math.max(0,this.state.currentTime-15);this.track(D.FP.SEEKED_AUDIO,{new_time:t,source:"skip"}),this.player.currentTime=t}}skipForward(){if(this.player){const t=Math.min(this.state.duration,this.state.currentTime+30);this.track(D.FP.SEEKED_AUDIO,{new_time:t,source:"skip"}),this.player.currentTime=t}}setDragTime(t){if(!this.props.src||!this.state.duration||!this.player||!document.body||!document.body.getBoundingClientRect)return;const r=document.body.getBoundingClientRect(),i=this.progressBar.getBoundingClientRect(),s=i.left-r.left,M=i.right;let j=(Math.max(s,Math.min(M,t))-s)/(M-s)*this.state.duration;this.isDragTimeCloseToCurrentTime(j)&&(j=this.state.currentTime),this.setState({dragTime:j})}clearDragTime(){if(typeof this.state.dragTime!="number")return;const t=this.state.dragTime;this.track(D.FP.SEEKED_AUDIO,{new_time:t,source:"slider"}),this.isDragTimeCloseToCurrentTime(t)?this.setState({dragTime:null}):(this.setState({currentTime:t,dragTime:null,lastDragClearedAt:performance.now()}),this.player&&(this.player.currentTime=t))}isDragTimeCloseToCurrentTime(t){if(typeof this.state.currentTime!="number")return!1;let r;return this.state.duration<10?r=0:this.state.duration<30?r=3:r=5,Math.abs(this.state.currentTime-t)<r}track(t,r={}){const i=this.props.metricsPost;i&&(0,D.j)(t,Object.assign({post_id:i.id,publication_id:i.publication_id,is_podcast_free_preview:(0,Ea.podcastPostIsFreePreview)(i),current_time:this.state.currentTime?Math.floor(this.state.currentTime):0,duration:this.state.duration?Math.floor(this.state.duration):0,playback_rate:this.state.playbackRate},r))}render({src:t,autoPlay:r,pub:i,post:s,isFancy:M,showCTAs:k,metricsPost:j,addToPodcastLink:U,isPaywalled:q,render:Pe}){if(Pe){const{dragTime:Me,duration:xe,currentTime:Ve,playbackRate:qe}=this.state;return(0,e.h)(e.Fragment,null,Pe({isPaywalled:q,progress:xe?(typeof Me=="number"?Me:Ve)/xe:0,currentTime:xe?(0,Ne.secondsToHHMMSS)(Ve):"--:--",remainingTime:xe?`-${(0,Ne.secondsToHHMMSS)(xe-Math.min(Ve,xe))}`:"--:--",isPlaying:this.state.playing,playbackRate:qe,progressBarOnMouseDown:Ge=>{this.onMouseDown(Ge)},progressBarRef:Ge=>{this.progressBar=Ge},setPlaybackRate:Ge=>{this.setPlaybackRate(Ge)},skipBack:()=>{this.skipBack()},skipForward:()=>{this.skipForward()},togglePlayback:()=>{this.togglePlayback()}}),t&&!q&&(0,e.h)("audio",{ref:Ge=>{this.player=Ge},src:t,autoPlay:r},"Audio playback is not supported on your browser. Please upgrade."))}return M?this.renderFancy({src:t,autoPlay:r,pub:i,post:s,metricsPost:j,showCTAs:k}):this.renderOriginal({src:t,autoPlay:r,pub:i,metricsPost:j,addToPodcastLink:U})}renderFancy({src:t,autoPlay:r,pub:i,post:s,showCTAs:M}){const k=(0,y.getPodcastEpisodeImageUrl)(i,s);return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"audio-player-wrapper-fancy"},(0,e.h)("div",{className:"audio-player"},(0,e.h)("div",{className:"audio-player-substack-logo audio-player-clickable",onClick:this.openEpisodePage},(0,e.h)(ue.Z,{color:"#F8F8F8"})),(0,e.h)("div",{className:"audio-player-hero-image-container audio-player-clickable",onClick:this.openEpisodePage},k&&(0,e.h)("img",{className:"audio-player-hero-image audio-player-clickable",src:(0,v.imginary)(k,500,{height:500,crop:"fill"}),onClick:this.openEpisodePage})),(0,e.h)("div",{className:"audio-player-title audio-player-clickable",onClick:this.openEpisodePage},s.title),(0,e.h)("div",{className:"audio-player-subtitle audio-player-clickable",onClick:this.openEpisodePage},s.subtitle),t&&(0,e.h)("audio",{"data-testid":"audio-element",ref:j=>this.player=j,src:t,autoPlay:r},"Audio playback is not supported on your browser. Please upgrade."),this.renderProgressFancy(this.props,this.state),this.renderButtonsFancy(this.props,this.state),M&&(0,e.h)("div",{className:"btn-group"},(0,e.h)(Je.Z,{className:"bold text-gray-foreground",newTab:!0,onClick:this.openEpisodePage},"View post"),(0,e.h)(Je.Z,{className:"primary bold subscribe-btn",href:this.maybeAppendIframeVisitId((0,v.getSubscribeUrl)(i,D5(I5({},M0),{simple:!0,next:(0,v.getPostUrl)(i,s)}))),newTab:!0},(0,Ne.getSubscribeText)(i))))))}renderOriginal({src:t,autoPlay:r,pub:i,addToPodcastLink:s}){return(0,e.h)("div",{className:"audio-player-wrapper"},(0,e.h)("div",{className:"audio-player"},t&&(0,e.h)("audio",{ref:M=>this.player=M,src:t,autoPlay:r},"Audio playback is not supported on your browser. Please upgrade."),this.renderButtons(this.props,this.state),this.renderProgress(this.props,this.state)),s&&!i.hide_podcast_feed_link&&(0,e.h)("div",{className:"audio-player-add-to-podcast-link",href:s},(0,e.h)("a",{href:s,target:"_blank",rel:"noopener"},"Listen in podcast app")))}renderButtonsFancy({src:t,href:r},{playing:i,waiting:s,playbackRate:M}){return(0,e.h)("div",{className:"audio-player-buttons"},(0,e.h)("button",{className:"audio-player-backward","aria-pressed":"false",onClick:()=>this.skipBack()},(0,e.h)(Qd,{className:"skip-icon"})),(0,e.h)("button",{className:u()("audio-player-play",{pause:"playing",waiting:s}),"aria-pressed":"false",onClick:()=>this.togglePlayback()},i?(0,e.h)(m5,{className:"playback-icon pause",fill:"#1C110B"}):(0,e.h)(E5,{className:"playback-icon play",fill:"#1C110B"})),(0,e.h)("button",{className:"audio-player-forward","aria-pressed":"false",onClick:()=>this.skipForward()},(0,e.h)(qd,{className:"skip-icon"})))}renderButtons({src:t,href:r,isStatic:i},{playing:s,waiting:M,playbackRate:k}){return(0,e.h)("div",{className:"audio-player-buttons"},(0,e.h)("table",{className:"custom"},(0,e.h)("tr",null,(0,e.h)("td",{className:"audio-player-buttons-spacing"},"\xA0"),(0,e.h)("td",{className:"audio-player-backward"},(0,e.h)("a",{role:"button",className:"button",tabIndex:"0","aria-pressed":"false",href:r||"javascript:void(0)",onClick:()=>this.skipBack()},(0,e.h)(Qd,{className:"skip-icon",fill:"#3c3c3c",height:"30",isStatic:i}))),(0,e.h)("td",{className:`audio-player-play ${s?"pause":""} ${M?"waiting":""}`},(0,e.h)("a",{className:"button",role:"button",tabIndex:"0","aria-pressed":"false",href:r||"javascript:void(0)",onClick:()=>this.togglePlayback()},(0,e.h)("img",{src:(0,v.imginary)(s?"/img/audio-player-pause.png":"/img/audio-player-play.png",96)}))),(0,e.h)("td",{className:"audio-player-forward"},(0,e.h)("a",{role:"button",className:"button",tabIndex:"0","aria-pressed":"false",href:r||"javascript:void(0)",onClick:()=>this.skipForward()},(0,e.h)(qd,{className:"skip-icon",fill:"#3c3c3c",height:"30",isStatic:i}))),(0,e.h)("td",{className:"audio-player-buttons-spacing"},"\xA0"))),t&&(0,e.h)(A5,{currentPlaybackRate:k,setPlaybackRate:this.setPlaybackRate}))}renderProgress({},{duration:t,currentTime:r,dragTime:i}){return(0,e.h)("div",{className:"audio-player-progress"},(0,e.h)("table",{className:"custom"},(0,e.h)("tr",null,(0,e.h)("td",{className:"audio-player-progress-past"},t?(0,Ne.secondsToHHMMSS)(r):"--:--"),(0,e.h)("td",{ref:s=>this.progressBar=s,className:"audio-player-progress-bar",onMouseDown:s=>this.onMouseDown(s)},(0,e.h)("div",{className:"audio-player-progress-bar-track"}),(0,e.h)("div",{className:"audio-player-progress-bar-filled",style:`width:${t?100*(typeof i=="number"?i:r)/t:0}%`}),(0,e.h)("div",{className:"audio-player-progress-bar-current",style:`left:${t?100*r/t:0}%`}),(0,e.h)("div",{className:"audio-player-progress-bar-button",style:`left:${t?100*(typeof i=="number"?i:r)/t:0}%`}),typeof i=="number"&&(0,e.h)("div",{className:"audio-player-progress-bar-popup",style:`left:${t?100*i/t:0}%`},(0,Ne.secondsToHHMMSS)(i))),(0,e.h)("td",{className:"audio-player-progress-left"},t?`-${(0,Ne.secondsToHHMMSS)(t-Math.min(r,t))}`:"--:--"))))}renderProgressFancy({},{duration:t,currentTime:r,dragTime:i,lastDragClearedAt:s}){const M=typeof i=="number",k=s?performance.now()-s<50:!1;return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"audio-player-progress"},(0,e.h)("div",{ref:j=>this.progressBar=j,className:"audio-player-progress-bar",onMouseDown:j=>this.onMouseDown(j)},(0,e.h)("div",{className:"audio-player-progress-bar-track"}),(0,e.h)("div",{className:"audio-player-progress-bar-filled",style:{width:`${t?100*(M?i:r)/t:0}%`}}),(0,e.h)("div",{className:u()("audio-player-progress-bar-current",{"audio-player-progress-bar-current-placeholder":M,"audio-player-progress-bar-current-disable-animations":k}),style:`left:${t?100*r/t:0}%`}),M&&(0,e.h)("div",{className:"audio-player-progress-bar-current audio-player-progress-bar-current-dragging",style:`left:${t?100*i/t:0}%`}),M&&(0,e.h)("div",{className:"audio-player-progress-bar-popup",style:`left:${t?100*i/t:0}%`},(0,Ne.secondsToHHMMSS)(i)))),(0,e.h)("div",{className:"audio-player-time-wrapper"},(0,e.h)("div",{className:"audio-player-progress-past"},t?(0,Ne.secondsToHHMMSS)(r):"--:--"),(0,e.h)("div",{className:"audio-player-progress-left"},t?`-${(0,Ne.secondsToHHMMSS)(t-Math.min(r,t))}`:"--:--")))}}var N5=Object.defineProperty,R5=Object.defineProperties,L5=Object.getOwnPropertyDescriptors,x0=Object.getOwnPropertySymbols,k5=Object.prototype.hasOwnProperty,B5=Object.prototype.propertyIsEnumerable,A0=(n,t,r)=>t in n?N5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,U5=(n,t)=>{for(var r in t||(t={}))k5.call(t,r)&&A0(n,r,t[r]);if(x0)for(var r of x0(t))B5.call(t,r)&&A0(n,r,t[r]);return n},F5=(n,t)=>R5(n,L5(t));const j5=n=>(0,e.h)(x.l,F5(U5({},n),{name:"PlayIconRound",svgParams:{height:24,width:24}}),(0,e.h)("path",{className:"outer-circle",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{className:"inner-triangle",d:"M10 8L16 12L10 16V8Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));var W5=Object.defineProperty,H5=Object.defineProperties,V5=Object.getOwnPropertyDescriptors,N0=Object.getOwnPropertySymbols,K5=Object.prototype.hasOwnProperty,$5=Object.prototype.propertyIsEnumerable,R0=(n,t,r)=>t in n?W5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,z5=(n,t)=>{for(var r in t||(t={}))K5.call(t,r)&&R0(n,r,t[r]);if(N0)for(var r of N0(t))$5.call(t,r)&&R0(n,r,t[r]);return n},G5=(n,t)=>H5(n,V5(t));const El=n=>(0,e.h)(x.l,G5(z5({},n),{name:"PlayIconRounded",svgParams:{height:16,width:15}}),(0,e.h)("path",{d:"M14 7.13397C14.6667 7.51887 14.6667 8.48112 14 8.86602L2 15.7942C1.33333 16.1791 0.499999 15.698 0.499999 14.9282L0.5 1.0718C0.5 0.301996 1.33333 -0.17913 2 0.20577L14 7.13397Z"}));var Z5=Object.defineProperty,Y5=Object.defineProperties,J5=Object.getOwnPropertyDescriptors,L0=Object.getOwnPropertySymbols,X5=Object.prototype.hasOwnProperty,Q5=Object.prototype.propertyIsEnumerable,k0=(n,t,r)=>t in n?Z5(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,q5=(n,t)=>{for(var r in t||(t={}))X5.call(t,r)&&k0(n,r,t[r]);if(L0)for(var r of L0(t))Q5.call(t,r)&&k0(n,r,t[r]);return n},eI=(n,t)=>Y5(n,J5(t));const tI=n=>(0,e.h)(x.l,eI(q5({},n),{name:"VoiceoverIcon",svgParams:{height:24,width:24,viewBox:"0 0 24 24"},fill:"none"}),(0,e.h)("path",{d:"M11.8518 3.31518C12.2459 4.26329 13.551 7.10985 14.4542 8.3467C15.3764 9.60967 12.8285 9.95184 12 10.5","stroke-width":"1.5","stroke-linecap":"round"}),(0,e.h)("path",{d:"M12 10.5C12 10.5 12.4662 11.2332 12.7627 11.7326C13.0592 12.232 13 12.5 11.5 13C10.7772 13.2409 9.5 13.5 9.5 13.5C10.3447 13.9272 12.2664 14.1393 12.4041 14.3167C12.763 14.779 12.3241 15.4618 11.8617 15.8208C11.3994 16.1797 12.0724 18.7353 10.5 19.5C8.9276 20.2647 5.70772 19.432 3 18","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M18.5 6.5L20.3544 4.8526","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M18.5 15.5L20.3544 17.2545","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M19.5 11.0326L22 11.0326","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})),nI={themedSelectOption:"frontend-components-audio-module__themedSelectOption--z_3gS",noUnderline:"frontend-components-audio-module__noUnderline--mBrri",podcastPaywallMenuButton:"frontend-components-audio-module__podcastPaywallMenuButton--chnEy",paywallMenuDropdown:"frontend-components-audio-module__paywallMenuDropdown--GChUY",paywallMenuDropdownItem:"frontend-components-audio-module__paywallMenuDropdownItem--vuDTY",paywallMenuDropdownIcon:"frontend-components-audio-module__paywallMenuDropdownIcon--P1zWf",paywallMenuDropdownItemTop:"frontend-components-audio-module__paywallMenuDropdownItemTop--uMMr8",paywallMenuDropdownDeleteItem:"frontend-components-audio-module__paywallMenuDropdownDeleteItem--b8UQR"};var rI=Object.defineProperty,oI=Object.defineProperties,iI=Object.getOwnPropertyDescriptors,B0=Object.getOwnPropertySymbols,aI=Object.prototype.hasOwnProperty,sI=Object.prototype.propertyIsEnumerable,U0=(n,t,r)=>t in n?rI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,F0=(n,t)=>{for(var r in t||(t={}))aI.call(t,r)&&U0(n,r,t[r]);if(B0)for(var r of B0(t))sI.call(t,r)&&U0(n,r,t[r]);return n},j0=(n,t)=>oI(n,iI(t)),lI=(n=>(n.Embed="Embed audio",n.Voiceover="Add voiceover",n.Podcast="Podcast",n.PodcastPreview="Podcast free version",n))(lI||{}),uI=(n=>(n.Embed="Upload or record an audio file embedded into the text.",n.Voiceover="Upload or record a new voiceover: an audio version of your post.",n.Podcast="Create a new podcast episode by uploading or recording an audio file.",n.PodcastPreview="Upload a file that will appear to free users on the website and in their feeds.",n))(uI||{}),cI=(n=>(n[n.PubAccent=0]="PubAccent",n[n.PubFull=1]="PubFull",n[n.Substack=2]="Substack",n))(cI||{});const nf=({containerRef:n,currentTime:t,remainingTime:r,progress:i,onMouseDown:s,shouldCollapseOnMobile:M=!1,theme:k=1})=>(0,e.h)("div",{className:"tw-flex tw-grow tw-items-center tw-gap-3 tw-font-meta tw-text-sm tw-text-pub-secondary-text sm:tw-gap-3"},(0,e.h)("div",{className:u()("tw-min-w-[40px] tw-text-right",{"tw-hidden sm:tw-block":M})},t),(0,e.h)("div",{ref:n,className:u()("tw-relative tw-h-5 tw-grow ",{"tw-ml-2 sm:tw-ml-0":M}),onMouseDown:s},(0,e.h)("div",{className:u()("audio-progress-bar tw-absolute tw-top-2 tw-right-0 tw-left-0 tw-h-1 tw-rounded",{"tw-bg-pub-detail":k===1,"tw-bg-substack-detail":k!==1})}),(0,e.h)("div",{className:u()("tw-absolute tw-top-2 tw-left-0 tw-h-1 tw-rounded-l-full",{"tw-bg-pub-accent":k!==2,"tw-bg-substack-accent":k===2}),style:{width:`${i*100}%`}}),(0,e.h)("div",{className:u()("audio-playhead tw-absolute tw-ml-[-10px] tw-h-4 tw-w-4 tw-rounded-full tw-border-2 tw-border-solid ",{"tw-border-pub-background":k===1,"tw-border-substack-bg":k!==1,"tw-bg-substack-accent":k===2,"tw-bg-pub-accent":k!==2}),style:{left:`${i*100}%`}})),(0,e.h)("div",{className:"tw-min-w-[40px]"},r)),ec=[{value:1,display:"1"},{value:1.25,display:"1.25"},{value:1.5,display:"1.5"},{value:1.75,display:"1.75"},{value:2,display:"2"}],rf=({onSetPlaybackRate:n,playbackRate:t,className:r})=>{const i=ec.findIndex(({value:s})=>s===t);return(0,e.h)("div",{onClick:()=>{const s=(i+1)%ec.length;n(ec[s].value)},className:r},ec[i].display,"\xD7")},LV=({togglePlayback:n,isPlaying:t,isDisabled:r=!1})=>h("div",{onClick:()=>{track(EVENTS.AUDIO_MODAL_PLAYPAUSE_CLICKED,{is_disabled:r}),r||n()},className:"tw-flex tw-justify-center tw-pb-8"},t?h("div",{className:"tw-flex tw-h-7 tw-w-6 tw-justify-between"},h("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),h("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):h(PlayIconRounded,{className:cn("tw-relative tw-left-1",{"tw-cursor-pointer":!r,"tw-fill-pub-accent":!r,"tw-fill-substack-detail":r}),stroke:"none",height:28})),dI=({isPlaying:n,onSkipBack:t,onSkipForward:r,onTogglePlayback:i})=>(0,e.h)("div",{className:"tw-flex tw-items-center tw-justify-center tw-gap-4"},t&&(0,e.h)("div",{onClick:t,role:"button",className:"tw-cursor-pointer"},(0,e.h)(Qd,{className:"tw-block tw-fill-pub-primary-text tw-transition-opacity sm:tw-opacity-70 sm:hover:tw-opacity-100"})),(0,e.h)("div",{className:u()("tw-relative tw-flex tw-h-16 tw-w-16 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-bg-pub-accent tw-transition-transform hover:tw-scale-105"),onClick:i,role:"button"},n?(0,e.h)("div",{className:"tw-flex tw-h-6 tw-w-6 tw-justify-between"},(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent-inverse"}),(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent-inverse"})):(0,e.h)(El,{className:"tw-relative tw-left-0.5 tw-fill-pub-accent-inverse",stroke:"none",height:24})),r&&(0,e.h)("div",{onClick:r,role:"button",className:"tw-cursor-pointer"},(0,e.h)(qd,{className:"tw-block tw-fill-pub-primary-text tw-transition-opacity sm:tw-opacity-70 sm:hover:tw-opacity-100"}))),W0=n=>(0,e.h)(qu,j0(F0({},n),{metricsPost:n.post,feature:"Embed audio",render:({currentTime:t,isPlaying:r,progress:i,progressBarRef:s,progressBarOnMouseDown:M,remainingTime:k,playbackRate:j,setPlaybackRate:U,togglePlayback:q})=>(0,e.h)("div",{"data-component-name":"AudioEmbedPlayer",className:"audio-embed tw-my-4 tw-box-border tw-flex tw-w-full tw-select-none tw-items-center tw-gap-4 tw-space-y-0 tw-rounded-full tw-bg-pub-wash tw-p-4 tw-font-sans sm:tw-gap-5"},(0,e.h)(rf,{onSetPlaybackRate:U,playbackRate:j,className:"audio-button tw-w-12 tw-cursor-pointer tw-rounded-full tw-border tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-secondary-text hover:tw-border-pub-detail"}),(0,e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap"},n.label&&(0,e.h)("div",{className:"tw-basis-full tw-pb-2 tw-text-ssm tw-font-semibold tw-text-pub-primary-text"},n.label),(0,e.h)("div",{className:"tw-flex tw-w-full tw-items-center tw-justify-between tw-gap-2 sm:tw-gap-4"},(0,e.h)(nf,{currentTime:t,remainingTime:k,containerRef:s,progress:i,onMouseDown:M}))),(0,e.h)("div",{className:"audio-embed-play-button tw-relative tw-flex tw-h-12 tw-w-12 tw-shrink-0 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid tw-border-pub-detail tw-bg-pub-background tw-transition-transform hover:tw-scale-105",onClick:q,role:"button"},r?(0,e.h)("div",{className:"tw-flex tw-h-5 tw-w-4 tw-justify-between"},(0,e.h)("div",{className:"pause-icon tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),(0,e.h)("div",{className:"pause-icon tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):(0,e.h)(El,{className:"tw-relative tw-left-[.1rem] tw-fill-pub-accent",stroke:"none",height:18})))})),H0=({pub:n,post:t,duration:r,label:i})=>{var s;return(0,e.h)("table",{"data-component-name":"AudioEmbedPlayerStatic",className:"tw-w-full tw-rounded-full tw-bg-substack-wash"},(0,e.h)("tr",null,(0,e.h)("td",{className:"tw-text-center tw-font-meta tw-text-ssm tw-uppercase tw-text-substack-primary"},(0,e.h)("a",{href:t.canonical_url,className:u()("tw-block tw-w-full tw-p-4 tw-text-substack-primary",nI.noUnderline)},(0,e.h)(j5,{className:"tw-w-max-4 tw-mr-2 tw-inline-block tw-w-4 tw-align-middle",stroke:(s=n.theme)==null?void 0:s.background_pop_color,isStatic:!0}),(0,e.h)("span",{className:"tw-align-middle"},(0,Ne.truncateText)(i,10)||"Listen now"," \xB7 ",(0,Ne.secondsToHHMMSS)(r))))))},fI=n=>{const t=(0,ke.useMediaQuery)({maxWidth:631}),r=`/api/v1/audio/upload/${n.mediaUploadId}/src`;return(0,e.h)(qu,j0(F0({},n),{src:r,feature:"Add voiceover",metricsPost:n.post,render:({isPaywalled:i,currentTime:s,isPlaying:M,progress:k,progressBarRef:j,progressBarOnMouseDown:U,remainingTime:q,playbackRate:Pe,setPlaybackRate:Me,togglePlayback:xe})=>(0,e.h)("div",{className:"tw-mb-6 tw-flex sm:tw-gap-1"},(0,e.h)("div",{className:"tw-hidden tw-h-20 tw-shrink-0 tw-basis-20 tw-items-center tw-justify-center tw-rounded-md tw-bg-pub-wash tw-fill-pub-primary-text tw-text-pub-primary-text sm:tw-flex"},(0,e.h)(tI,{className:"tw-stroke-pub-secondary-text"})),(0,e.h)("div",{className:"tw-box-border tw-flex tw-h-20 tw-w-full tw-select-none tw-items-center tw-gap-3 tw-space-y-0 tw-rounded-l-md tw-rounded-r-[64px] tw-bg-pub-wash  tw-p-4 tw-font-sans"},i?(0,e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap tw-justify-center tw-text-ssm tw-text-pub-secondary-text sm:tw-text-sm"},"Upgrade to paid to play voiceover"):(0,e.h)("div",{className:"tw-flex tw-w-full tw-flex-wrap"},(0,e.h)("div",{className:"tw-basis-full tw-pb-2 tw-text-ssm tw-font-semibold tw-uppercase tw-text-pub-secondary-text"},"Article voiceover"),(0,e.h)("div",{className:"tw-flex tw-w-full tw-items-center tw-justify-between tw-gap-2 "},(0,e.h)(rf,{onSetPlaybackRate:Me,playbackRate:Pe,className:"tw-w-12 tw-cursor-pointer tw-rounded-full tw-border tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-secondary-text hover:tw-border-pub-detail"}),(0,e.h)(nf,{currentTime:s,remainingTime:q,containerRef:j,progress:k,onMouseDown:U,shouldCollapseOnMobile:!0}))),i?(0,e.h)("div",{className:"tw-relative tw-flex tw-h-14 tw-w-14 tw-shrink-0 tw-cursor-not-allowed tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid tw-border-pub-detail tw-bg-pub-background tw-transition-transform"},(0,e.h)(El,{className:"tw-relative tw-left-[.15rem] tw-fill-pub-detail",stroke:"none",height:t?20:24})):(0,e.h)("div",{className:"tw-relative tw-flex tw-h-14 tw-w-14 tw-shrink-0 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid  tw-border-pub-detail tw-bg-pub-background tw-transition-transform hover:tw-scale-105",onClick:xe,role:"button"},M?(0,e.h)("div",{className:"tw-flex tw-h-5 tw-w-5 tw-justify-between"},(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),(0,e.h)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})):(0,e.h)(El,{className:"tw-relative tw-left-[.15rem] tw-fill-pub-accent",stroke:"none",height:20}))))}))},kV=({pub:n,post:t,isPaywalled:r})=>{var i,s,M;const k=r?"Upgrade to paid for post voiceover":`Listen to post ${((i=t.voiceoverUpload)==null?void 0:i.duration)&&`\xB7 ${secondsToHHMMSS(t.voiceoverUpload.duration)}`}`;return h("table",{className:"voiceover-player-static tw-w-full tw-rounded-full tw-bg-substack-wash"},h("tr",null,h("td",{className:"tw-text-center tw-font-meta tw-text-ssm tw-uppercase tw-text-substack-primary"},h("a",{href:`${Substitutions.PLAY_ON_SUBSTACK}&utm_source=substack&utm_medium=email#play`,className:cn("tw-block tw-w-full tw-p-4 tw-text-substack-primary",css.noUnderline)},h(PlayIconRound,{className:"tw-w-max-4 tw-mr-2 tw-inline-block tw-h-auto tw-w-4 tw-align-middle",stroke:r?(s=n.theme)==null?void 0:s.background_contrast_3:(M=n.theme)==null?void 0:M.background_pop_color,isStatic:!0}),h("span",{className:"voiceover-player-static-cta tw-align-middle"},k)))))},BV=({isOpen:n,onDismiss:t,onDeleteAudio:r})=>h(Modal,{isOpen:n,onClose:t},h(ModalHeader,{includeClose:!1,title:"Something went wrong..."}),h(ModalBody,null,"Unfortunately, there was a problem with your audio file upload. We'll investigate, but in the meantime, please try again, and we apologize for the inconvenience."),h(ModalFooter,{includeDivider:!1,alignment:"default",primaryButton:h(DeprecatedButton,{onClick:r,variant:"primary"},"Got it")}));var hI=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const pI=n=>parseFloat(n).toFixed(2),mI=({symbol:n,prependSymbol:t=!1,isStatic:r=!1})=>{const i=`/api/v1/price/${n}`,[s,M]=(0,o.eJ)(null),[k,j]=(0,o.eJ)(null),[U,q]=(0,o.eJ)(!1);return(0,o.d4)(()=>{(()=>hI(void 0,null,function*(){try{const Me=yield ge().get(i);if(Me.body){if(Me.body.status==="not_found"){q(!0);return}M(Me.body.price),j(Me.body.change_pct)}}catch(Me){q(!0)}}))()},[i]),!t&&n.startsWith("$")&&(n=n.slice(1)),r?(0,e.h)("span",null,(0,e.h)("a",{"data-component-name":"CashtagStatic",href:`${(0,v.getStockLandingUrl)(n)}`},n," ")):U?(0,e.h)("span",null,n," "):(0,e.h)("a",{className:u()("cashtag",{neutral:k==0,positive:k&&parseFloat(k)>0,negative:k&&parseFloat(k)<0}),target:"_blank",rel:"noopener",href:`${(0,v.getStockLandingUrl)(n)}`,"data-attrs":JSON.stringify({symbol:n}),"data-component-name":"Cashtag"},`${n.toUpperCase()} `,(0,e.h)("span",null,k?(0,e.h)("span",null,(0,e.h)("span",{className:u()("delta")},`${pI(k)}%`,!!k&&(parseFloat(k)>0?String.fromCharCode(8593):String.fromCharCode(8595)))):"0.00"))};var V0=wt(14531),_I=wt(91036),K0=wt.n(_I);const Ao={digestPostEmbed:"frontend-components-DigestPostEmbed-index-module__digestPostEmbed--Ig8_w",menu:"frontend-components-DigestPostEmbed-index-module__menu--Bz7Fv",caption:"frontend-components-DigestPostEmbed-index-module__caption--YO4hv",captionEditor:"frontend-components-DigestPostEmbed-index-module__captionEditor--B5QxT",smSquare:"frontend-components-DigestPostEmbed-index-module__smSquare--iauxz",mdSquare:"frontend-components-DigestPostEmbed-index-module__mdSquare--KEbmN",fullWidth:"frontend-components-DigestPostEmbed-index-module__fullWidth--R2y7M",inheritColor:"frontend-components-DigestPostEmbed-index-module__inheritColor--xH1Q_",link:"frontend-components-DigestPostEmbed-index-module__link--j23hQ",disableLink:"frontend-components-DigestPostEmbed-index-module__disableLink--sgsa4"};var gI=Object.defineProperty,vI=Object.defineProperties,yI=Object.getOwnPropertyDescriptors,$0=Object.getOwnPropertySymbols,bI=Object.prototype.hasOwnProperty,PI=Object.prototype.propertyIsEnumerable,z0=(n,t,r)=>t in n?gI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,EI=(n,t)=>{for(var r in t||(t={}))bI.call(t,r)&&z0(n,r,t[r]);if($0)for(var r of $0(t))PI.call(t,r)&&z0(n,r,t[r]);return n},wI=(n,t)=>vI(n,yI(t));const tc=n=>{n.stopPropagation()},CI=({editing:n,caption:t,onFocus:r,onSave:i,onCancel:s})=>{const M=t.replace(/<br\s*\/?>/gi,`
`),[k,j]=(0,o.eJ)(M);return n?(0,e.h)(Vt.tu,{flex:"grow"},(0,e.h)(Vt.gx,{name:"description",value:k,onChange:U=>{j(U.target.value)},className:Ao.captionEditor,rows:6,maxLength:5e3,placeholder:"Enter a caption...",onKeyPress:tc,onKeyDown:tc,onCopy:tc,onPaste:tc}),(0,e.h)(Vt.hE,{paddingY:8,justifyContent:"end"},(0,e.h)(Vt.zx,{priority:"secondary-theme",onClick:s},"Cancel"),(0,e.h)(Vt.zx,{priority:"primary-theme",onClick:()=>{const U=k.replace(/\n/g,"<br>"),q=K0()(U,wI(EI({},K0().defaults),{allowedTags:["br"]}));i(q)}},"Save"))):(0,e.h)("p",{onClick:r,className:Ao.caption,dangerouslySetInnerHTML:{__html:t}})};var G0=wt(48960);const OI=({size:n,onOpen:t,onClose:r,onEditCaption:i,onSetLayout:s,onConvertToLink:M,onConvertToEmbeddedPost:k,onDelete:j})=>(0,e.h)(Vt.hs,{className:Ao.menu,justifyContent:"end"},(0,e.h)(Do.v2,{trigger:(0,e.h)(Vt.hU,{priority:"secondary-theme",rounded:!1,fill:"outline"},(0,e.h)(pa,{className:Ao.menuIcon,height:20})),onOpen:t,onClose:r,layerOptions:{placement:"bottom-end"}},(0,e.h)(Do.sN,{disabled:n==="sm",onClick:()=>s("sm")},"Small display"),(0,e.h)(Do.sN,{disabled:n==="md",onClick:()=>s("md")},"Medium display"),(0,e.h)(Do.sN,{disabled:n==="lg",onClick:()=>s("lg")},"Large display"),(0,e.h)(G0.i,null),(n==="lg"||n==="md")&&(0,e.h)(Do.sN,{onClick:i},"Edit caption"),(0,e.h)(Do.sN,{onClick:()=>k()},"Convert to default"),(0,e.h)(Do.sN,{onClick:M},"Convert to link"),(0,e.h)(Do.sN,{priority:"destructive",onClick:j},"Remove"))),Z0=(0,go.Z)("ArrowRight",[["line",{x1:"5",x2:"19",y1:"12",y2:"12",key:"13b5wn"}],["polyline",{points:"12 5 19 12 12 19",key:"sfr3i6"}]]),of=({post:n,href:t,isEditor:r,includeUfi:i=!1,paddingTop:s=0,paddingBottom:M=0})=>{const k=(0,ls.aF)(),j=(0,Cd.I)();return(0,e.h)(me.gq,{gap:16,paddingTop:s,paddingBottom:M,alignItems:"center"},i&&j&&k&&n&&(0,e.h)(me.gq,{gap:8,className:"post-ufi"},(0,e.h)(zo.RY,{post:n,pub:j,user:k}),(0,e.h)(zo.L9,{post:n,pub:j}),(0,e.h)(zo.pD,{post:n,pub:j,user:k,style:"button",labelStyle:"cta"})),(0,e.h)(Vt.xv.Button,{className:u()({[Ao.disableLink]:r}),as:"a",href:t,align:"center"},(0,e.h)(me.gq,{gap:8,alignItems:"center",className:Ao.link},(0,e.h)(Vt.xv.B4,{color:"pub-accent",weight:"semibold",as:"span",size:14},"Read full story"),(0,e.h)(Z0,{size:16}))))},Y0=({href:n,includeUfi:t=!1,paddingTop:r=0,paddingBottom:i=0})=>(0,e.h)(qr.zK,{gap:16,style:{paddingTop:r,paddingBottom:i}},(0,e.h)(Vt.xv.Button,{as:"a",href:n,align:"center"},(0,e.h)(qr.zK,{gap:8},(0,e.h)(Vt.xv.B4,{color:"pub-accent",as:"span",size:14,className:Ao.link},"Read full story"))));var af=wt(45809);const sf=({bylines:n,date:t,isEditor:r})=>(0,e.h)(me.gq,{alignItems:"center",gap:4},n!=null&&n.length?(0,e.h)(e.Fragment,null,(0,e.h)(Vt.xv.Meta,{className:u()({[Ao.disableLink]:r}),color:"pub-secondary-text"},(0,e.h)(af.M,{array:n||[],limit:3,formatter:({id:i,name:s})=>(0,e.h)("a",{className:Ao.inheritColor,href:(0,le.getProfileUrlById)(i,s)},s)})),(0,e.h)(Vt.xv,{color:"pub-secondary-text"},"\xB7")):null,(0,e.h)(Vt.xv.Meta,{color:"pub-secondary-text"},(0,y.formatPostDate)(t))),J0=({bylines:n,date:t})=>(0,e.h)(qr.zK,{gap:4},n!=null&&n.length?(0,e.h)(qr.zK,{gap:4},(0,e.h)(Vt.xv.Meta,{color:"pub-secondary-text"},(0,e.h)(af.M,{array:n||[],limit:3,formatter:({id:r,name:i})=>(0,e.h)("a",{className:Ao.inheritColor,href:(0,le.getProfileUrlById)(r,i)},i)})),(0,e.h)(Vt.xv,{color:"pub-secondary-text"},"\xB7")):null,(0,e.h)(Vt.xv.Meta,{color:"pub-secondary-text"},(0,y.formatPostDate)(t))),SI=({post:n,isEditor:t,children:r})=>{const{publishedBylines:i,title:s,canonical_url:M,post_date:k,section_name:j,cover_image:U,cover_image_alt:q}=n;return(0,e.h)(me.tu,null,j&&(0,e.h)("a",{href:M,className:u()({[Ao.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(Vt.xv.Meta,{color:"pub-primary-text",paddingBottom:8},j)),(0,e.h)("a",{href:M,className:u()({[Ao.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(Vt.xv.H2,{color:"pub-primary-text"},s)),(0,e.h)(sf,{bylines:i,date:k,isEditor:t}),U&&(0,e.h)(Vt.xu,{paddingTop:24},(0,e.h)("a",{href:M,className:u()({[Ao.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(Br.e,{className:Ao.fullWidth,src:U,alt:q!=null?q:s,maxWidth:1300,imageProps:{height:Math.round(1300/2),smartCrop:!0}}))),(0,e.h)(Vt.hs,{paddingTop:16,flex:"grow"},t?r:(0,e.h)("a",{href:M,className:u()({[Ao.disableLink]:t}),target:"_blank",rel:"noopener"},r)),(0,e.h)(of,{post:n,href:M,includeUfi:!1,isEditor:t}))},X0=({post:n,children:t})=>{const{publishedBylines:r,title:i,canonical_url:s,post_date:M,section_name:k,cover_image:j,cover_image_alt:U}=n;return(0,e.h)(qr.i$,null,k&&(0,e.h)("a",{href:s},(0,e.h)(Vt.xv.Meta,{color:"pub-primary-text",paddingBottom:8},k)),(0,e.h)("a",{href:s},(0,e.h)(Vt.xv.H2,{color:"pub-primary-text"},i)),(0,e.h)(J0,{bylines:r,date:M}),j&&(0,e.h)(Vt.xu,{paddingTop:24},(0,e.h)("a",{href:s},(0,e.h)(Br.e,{className:Ao.fullWidth,src:j,alt:U!=null?U:i,maxWidth:1300,imageProps:{height:Math.round(1300/2),smartCrop:!0}}))),(0,e.h)("a",{href:s},(0,e.h)(Vt.xu,{as:"p"},t)),(0,e.h)(Y0,{href:s}))},TI=({post:n,isEditor:t,children:r})=>{const{publishedBylines:i,title:s,canonical_url:M,post_date:k,section_name:j,cover_image:U,cover_image_alt:q}=n,Pe=(0,Bi.XA)();return(0,e.h)(me.tu,null,j&&(0,e.h)("a",{href:M,className:u()({[Ao.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(Vt.xv.Meta,{color:"pub-primary-text",paddingBottom:8},j)),(0,e.h)("a",{href:M,className:u()({[Ao.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(Vt.xv.H2,{color:"pub-primary-text"},s)),(0,e.h)(sf,{bylines:i,date:k,isEditor:t}),(0,e.h)(Vt.hs,{direction:{mobile:"column",desktop:"row"},gap:16,paddingTop:16},U&&(0,e.h)(Vt.xu,{style:{width:Pe?"unset":140}},(0,e.h)("a",{href:M,className:u()({[Ao.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(Br.e,{className:Pe?Ao.fullWidth:Ao.mdSquare,src:U,alt:q!=null?q:s,maxWidth:Pe?1300:280,imageProps:{height:Math.round(Pe?1300:280),smartCrop:!0}}))),(0,e.h)(me.tu,{flex:"grow"},t?r:(0,e.h)("a",{href:M,className:u()({[Ao.disableLink]:t}),target:"_blank",rel:"noopener"},r),(0,e.h)(of,{post:n,href:M,isEditor:t}))))},II=({post:n,children:t})=>(0,e.h)(X0,{post:n,children:t}),DI=({post:n,isEditor:t})=>{const{publishedBylines:r,title:i,canonical_url:s,post_date:M,cover_image:k,cover_image_alt:j}=n;return(0,e.h)("a",{href:s,className:u()({[Ao.disableLink]:t}),target:"_blank",rel:"noopener"},(0,e.h)(me.gq,{gap:16},k&&(0,e.h)(Vt.xu,{style:{width:70,height:70}},(0,e.h)(Br.e,{className:Ao.smSquare,src:k,alt:j!=null?j:i,maxWidth:140,imageProps:{height:Math.round(140),smartCrop:!0}})),(0,e.h)(me.tu,null,(0,e.h)(Vt.xv.H4,{color:"pub-primary-text"},i),(0,e.h)(sf,{bylines:r,date:M,isEditor:t}),(0,e.h)(of,{post:n,href:s,includeUfi:!1,isEditor:t}))))},MI=({post:n})=>{const{publishedBylines:t,title:r,canonical_url:i,post_date:s,cover_image:M,cover_image_alt:k}=n;return(0,e.h)(qr.zK,{gap:16},M&&(0,e.h)(Vt.xu,{style:{width:70}},(0,e.h)("a",{href:i},(0,e.h)(Br.e,{className:Ao.smSquare,src:M,alt:k!=null?k:r,maxWidth:140,imageProps:{height:140,smartCrop:!0}}))),(0,e.h)(qr.i$,null,(0,e.h)(Vt.xv.H4,{color:"pub-primary-text"},(0,e.h)("a",{href:i},r)),(0,e.h)(J0,{bylines:t,date:s}),(0,e.h)(Y0,{href:i})))};var xI=Object.defineProperty,nc=Object.getOwnPropertySymbols,Q0=Object.prototype.hasOwnProperty,q0=Object.prototype.propertyIsEnumerable,e_=(n,t,r)=>t in n?xI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,AI=(n,t)=>{for(var r in t||(t={}))Q0.call(t,r)&&e_(n,r,t[r]);if(nc)for(var r of nc(t))q0.call(t,r)&&e_(n,r,t[r]);return n},NI=(n,t)=>{var r={};for(var i in n)Q0.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&nc)for(var i of nc(n))t.indexOf(i)<0&&q0.call(n,i)&&(r[i]=n[i]);return r};const rc=n=>{document.dispatchEvent(new CustomEvent("updateDigestPostEmbed",{detail:n,bubbles:!0}))},RI=n=>{document.dispatchEvent(new CustomEvent("convertDigestPostEmbedToLink",{detail:n,bubbles:!0}))},LI=n=>{document.dispatchEvent(new CustomEvent("convertDigestPostEmbedToEmbeddedPost",{detail:n,bubbles:!0}))},kI=()=>{document.dispatchEvent(new CustomEvent("deleteDigestPostEmbed",{bubbles:!0}))},BI=({nodeId:n,caption:t,size:r="lg",isEditor:i,title:s,publishedBylines:M,post_date:k,cover_image:j,cover_image_alt:U,canonical_url:q,section_name:Pe,id:Me,type:xe,reaction_count:Ve,comment_count:qe,publication_name:Ge,publication_logo_url:ut})=>{const[bt,Pt]=(0,o.eJ)(!1),[At,Lt]=(0,o.eJ)(!1),[Dt,Ht]=(0,o.eJ)(!1),on={title:s,publishedBylines:M,post_date:k,cover_image:j,cover_image_alt:U,canonical_url:q,section_name:Pe,id:Me,type:xe,reaction_count:Ve,comment_count:qe,publication_name:Ge,publication_logo_url:ut},hn=()=>{Lt(!0),Pt(!1),rc({nodeId:n,shouldDisableDrag:!0})},an=(0,e.h)(CI,{editing:At,caption:t,onFocus:hn,onSave:mn=>{Lt(!1),rc({nodeId:n,caption:mn,shouldDisableDrag:!1})},onCancel:()=>{Lt(!1),rc({nodeId:n,shouldDisableDrag:!1})}});return(0,e.h)("div",{className:u()(Ao.digestPostEmbed),onMouseEnter:()=>!At&&Pt(!0),onMouseLeave:()=>!Dt&&Pt(!1),"data-component-name":"DigestPostEmbed"},(0,e.h)(e.Fragment,null,i&&bt&&(0,e.h)(OI,{size:r,onOpen:()=>Ht(!0),onClose:()=>Ht(!1),onEditCaption:hn,onSetLayout:mn=>{rc(AI({nodeId:n,caption:t,size:mn},on))},onConvertToEmbeddedPost:()=>{LI({url:q})},onConvertToLink:()=>{RI({url:q})},onDelete:()=>{kI()}}),r==="sm"&&(0,e.h)(DI,{post:on,isEditor:i}),r==="md"&&(0,e.h)(TI,{post:on,isEditor:i},i?an:(0,e.h)("p",{className:Ao.caption,dangerouslySetInnerHTML:{__html:t}})),r==="lg"&&(0,e.h)(SI,{post:on,isEditor:i},i?an:(0,e.h)("p",{className:Ao.caption,dangerouslySetInnerHTML:{__html:t}}))))},UI=n=>{var t=n,{caption:r,size:i}=t,s=NI(t,["caption","size"]);return s?(0,e.h)("div",{className:u()(Ao.digestPostEmbed,V0.A.digestPostEmbed),"data-component-name":"DigestPostEmbedStatic"},i==="sm"&&(0,e.h)(MI,{post:s}),i==="md"&&(0,e.h)(II,{post:s},(0,e.h)("p",{className:Ao.caption,dangerouslySetInnerHTML:{__html:r}})),i==="lg"&&(0,e.h)(X0,{post:s},(0,e.h)("p",{className:Ao.caption,dangerouslySetInnerHTML:{__html:r}}))):null},ma={mediaNodeView:"frontend-components-document_body-image3-Image3-module__mediaNodeView--rijH5","align-left":"frontend-components-document_body-image3-Image3-module__align-left--JsrTP","align-center":"frontend-components-document_body-image3-Image3-module__align-center--kADok","align-right":"frontend-components-document_body-image3-Image3-module__align-right--SJAgQ",staticView:"frontend-components-document_body-image3-Image3-module__staticView--E5km_",staticImageWrap:"frontend-components-document_body-image3-Image3-module__staticImageWrap--g566A",left:"frontend-components-document_body-image3-Image3-module__left--CzulB",right:"frontend-components-document_body-image3-Image3-module__right--ru3Z2",imageContainer:"frontend-components-document_body-image3-Image3-module__imageContainer--CwR5q",large:"frontend-components-document_body-image3-Image3-module__large--jyLyc",full:"frontend-components-document_body-image3-Image3-module__full--H9NKo",caption:"frontend-components-document_body-image3-Image3-module__caption--C2TrT",static:"frontend-components-document_body-image3-Image3-module__static--OsmFP",horizontalResizeHandle:"frontend-components-document_body-image3-Image3-module__horizontalResizeHandle--bEUFj",mediaControlButtons:"frontend-components-document_body-image3-Image3-module__mediaControlButtons--lVxEL",withCaption:"frontend-components-document_body-image3-Image3-module__withCaption--IXwNH",active:"frontend-components-document_body-image3-Image3-module__active--bsRqv",captionEditor:"frontend-components-document_body-image3-Image3-module__captionEditor--fu4ZT",captionContent:"frontend-components-document_body-image3-Image3-module__captionContent--uVtTa",zoom:"frontend-components-document_body-image3-Image3-module__zoom--ZILtz"},FI=({align:n,width:t})=>{const r={};if(n==="center"||t==="100%"||t>=v.EMAIL_CONTENT_WIDTH)return r;const i=n==="left"?"paddingRight":"paddingLeft";return r[i]=v.EMAIL_CONTENT_WIDTH-t,r},jI=({src:n,alt:t,title:r,width:i,height:s,size:M,align:k})=>{const j=i==="100%"?v.EMAIL_CONTENT_WIDTH:i;return(0,e.h)("div",{className:u()(ma.staticView),"data-component-name":"Image3Static"},(0,e.h)("div",{style:FI({align:k,width:i}),className:u()(ma.staticImageWrap)},(0,e.h)("img",{width:j,height:s,src:(0,v.imginary)(n,2*v.EMAIL_CONTENT_WIDTH),alt:t}),r&&(0,e.h)("div",{className:u()(ma.caption,ma.static)},r)))};var lf=wt(55661);const WI=({src:n,alt:t,title:r,width:i,height:s,size:M,align:k})=>{const[j,U]=(0,o.eJ)(!1),[q,Pe]=(0,o.eJ)(0),[Me,xe]=(0,o.eJ)(0),Ve=(0,o.sO)(null),qe=()=>{const ut=document.querySelector(".ProseMirror");ut&&xe(ut==null?void 0:ut.clientWidth),Ve.current&&(Ve.current.onload=()=>{Pe(Ve.current.naturalWidth/Ve.current.naturalHeight)})};(0,o.d4)(()=>{qe()});const Ge=()=>{switch(M){case"large":return v.LARGE_IMAGE_WIDTH;case"full":return typeof window!==void 0?window.innerWidth:v.MAX_REASONABLE_SCREEN_WIDTH;default:return i==="100%"?v.WEB_CONTENT_WIDTH:i}};return(0,e.h)("figure",{className:u()(ma.mediaNodeView,k&&ma[`align-${k}`||""]),"data-drag-handle":"","data-component-name":"Image3Dynamic"},(0,e.h)(me.gq,{className:u()(ma.imageContainer,ma.zoom,ma[M]),onClick:()=>U(!0)},(0,e.h)(me.tu,{gap:8},(0,e.h)(Br.e,{className:ma[M],src:n,alt:t,title:r,maxWidth:Ge(),imageRef:Ve}),r&&(0,e.h)("figcaption",{className:ma.caption},r))),(0,e.h)(lf.ImageViewerModal,{showModal:j,modalContent:[{attrs:{src:n,alt:t,title:r}}],onClose:()=>U(!1),step:0}))};var HI=wt(71284);const Yi={imageGallery:"frontend-components-ImageGallery-module__imageGallery--shoTe",static:"frontend-components-ImageGallery-module__static--gQ9AX",canEdit:"frontend-components-ImageGallery-module__canEdit--XIs4R",editGalleryWrap:"frontend-components-ImageGallery-module__editGalleryWrap--eipH6",editGallery:"frontend-components-ImageGallery-module__editGallery--pSUAH",imageCaption:"frontend-components-ImageGallery-module__imageCaption--JESLj",image:"frontend-components-ImageGallery-module__image--g2yvp",zoom:"frontend-components-ImageGallery-module__zoom--eQKQQ",imageRow:"frontend-components-ImageGallery-module__imageRow--RFMqP","length-2":"frontend-components-ImageGallery-module__length-2--F3EXK",inbox:"frontend-components-ImageGallery-module__inbox--uMAJy",imageGalleryWrap:"frontend-components-ImageGallery-module__imageGalleryWrap--OpzQK",imageWrap:"frontend-components-ImageGallery-module__imageWrap--odWNd",small:"frontend-components-ImageGallery-module__small--Muz63",medium:"frontend-components-ImageGallery-module__medium--uFsr6"};var VI=Object.defineProperty,KI=Object.defineProperties,$I=Object.getOwnPropertyDescriptors,t_=Object.getOwnPropertySymbols,zI=Object.prototype.hasOwnProperty,GI=Object.prototype.propertyIsEnumerable,n_=(n,t,r)=>t in n?VI(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ZI=(n,t)=>{for(var r in t||(t={}))zI.call(t,r)&&n_(n,r,t[r]);if(t_)for(var r of t_(t))GI.call(t,r)&&n_(n,r,t[r]);return n},YI=(n,t)=>KI(n,$I(t));const r_=(n,t)=>t===1?"large":t===2||t===4?"medium":t%3===0?"small":t===5||t===7?n<=2?"small":"medium":n<=5?"small":"medium",o_={small:237,medium:360,large:728},i_=({src:n,size:t,onSelectImage:r,useViewer:i=!1,alt:s})=>{const M=()=>{i&&r()};return(0,e.h)(Br.e,{src:n,alt:s,maxWidth:2*o_[t],className:u()(Yi.image,Yi[t],i&&Yi.zoom),onClick:M})},JI=(n,t="",r="")=>{const i=[];for(const s in n){const M=n[s],{height:k=0,width:j=0}=(0,le.extractDimensionsFromImageUrl)(M.src)||{},U=`(${Number(s)+1} of ${n.length})`,q={src:M.src,height:k,width:j,alt:`${r} ${U}`,title:`${t} ${U}`};i.push({attrs:q})}return i},XI=({onEditGallery:n,editGalleryRef:t})=>(0,e.h)(me.hs,{justifyContent:"center",alignItems:"center",className:Yi.editGalleryWrap},(0,e.h)(Ki.Fx,{ref:t,noList:!0},(0,e.h)(me.tu,{onClick:n,justifyContent:"center",alignItems:"center",className:Yi.editGallery},(0,e.h)(_l.Z,{height:20})))),QI=({node:n,editor:t})=>{const{gallery:r}=n.attrs,i=n.attrs.isEditor||t,{caption:s,alt:M}=r,k=r.images.map((At,Lt)=>YI(ZI({},At),{idx:Lt})),j=typeof window!="undefined"&&!window.location.pathname.startsWith("/publish"),[U,q]=(0,o.eJ)(!1),[Pe,Me]=(0,o.eJ)(0),xe=(0,o.sO)(null),Ve=k.length===1,qe=JI(k,s),Ge=At=>{Me(At),q(!0)},ut=()=>{document.dispatchEvent(new Event("editSelectedImageGallery"))};if(k.length===0)return null;const bt=At=>{var Lt,Dt;i&&(At?(Lt=xe.current)==null||Lt.open():(Dt=xe.current)==null||Dt.close())},Pt=a_(k);return(0,e.h)(HI.T5,{className:"image-gallery-embed","data-drag-handle":""},(0,e.h)("figure",{className:u()(Yi.imageGallery,i&&Yi.canEdit),onMouseEnter:()=>bt(!0),onMouseLeave:()=>bt(!1),"data-drag-handle":!0,"data-component-name":"ImageGallery"},i&&r&&(0,e.h)(XI,{onEditGallery:ut,editGalleryRef:xe}),(0,e.h)(me.tu,{gap:8},Ve?(0,e.h)(i_,{src:k[0].src,alt:M,caption:s,size:r_(0,1),onSelectImage:()=>Ge(0),useViewer:j}):Pt.map(At=>(0,e.h)(me.hs,{className:u()(Yi.imageRow,Yi[`length-${At.length}`]),gap:8},At.map(Lt=>(0,e.h)(i_,{src:Lt.src,alt:M,caption:s,size:r_(Lt.idx,k.length),onSelectImage:()=>Ge(Lt.idx),useViewer:j})))),s&&(0,e.h)("figcaption",{className:Yi.imageCaption},s)),(0,e.h)(lf.ImageViewerModal,{showModal:U,modalContent:qe,onClose:()=>q(!1),step:Pe})))},qI=({node:n})=>{const{gallery:t}=n.attrs;if(!t)return null;const{alt:r,staticGalleryImage:i,caption:s}=t;return i?(0,e.h)("div",{className:u()(Yi.static,Yi.imageGallery),"data-component-name":"ImageGalleryStatic"},(0,e.h)("img",{src:(0,le.imginary)(i.src,2*o_.large),alt:r}),s&&(0,e.h)("div",{className:u()(Yi.imageCaption,Yi.static)},s)):null};function a_(n){const t=n.length===4?2:3;let r=[n.slice(0,t)];const i=n.slice(t);return i.length>0&&(r=r.concat(a_(i))),r}var e4=(n=>(n.CompOneMonth="comp_one_month",n.CompThreeMonths="comp_three_months",n.CompSixMonths="comp_six_months",n.CompNineMonths="comp_nine_months",n.CompTwelveMonths="comp_twelve_months",n.Custom="custom",n))(e4||{});const s_={comp_one_month:"1 month comp",comp_three_months:"3 month comp",comp_six_months:"6 month comp",comp_nine_months:"9 month comp",comp_twelve_months:"12 month comp",custom:"Custom"},FV={comp_one_month:30,comp_three_months:90,comp_six_months:180,comp_nine_months:270,comp_twelve_months:365};var t4=Object.defineProperty,n4=Object.defineProperties,r4=Object.getOwnPropertyDescriptors,l_=Object.getOwnPropertySymbols,o4=Object.prototype.hasOwnProperty,i4=Object.prototype.propertyIsEnumerable,u_=(n,t,r)=>t in n?t4(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,a4=(n,t)=>{for(var r in t||(t={}))o4.call(t,r)&&u_(n,r,t[r]);if(l_)for(var r of l_(t))i4.call(t,r)&&u_(n,r,t[r]);return n},s4=(n,t)=>n4(n,r4(t));const c_=n=>(0,e.h)(x.l,s4(a4({strokeLinecap:"round",strokeLinejoin:"round"},n),{name:"LucideStarIcon",svgParams:{height:24,width:24}}),(0,e.h)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})),l4={referralsTierCard:"frontend-components-referrals-ReferralsTierCard-module__referralsTierCard--fLx1c"};var u4=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const c4=({tierNumber:n,rewardDescription:t,numReferralsRequired:r,pub:i})=>{const[s,M]=(0,o.eJ)([]),k=()=>u4(void 0,null,function*(){const{body:Pe}=yield ge().get("/api/v1/reader_referrals/tiers");M(Pe.tiers)});(0,o.d4)(()=>{k()},[]);const j=s[n-1],U=j?j.reward_type==="custom"?j.reward_description:s_[j.reward_type]:t,q=j?j.num_referrals_required:r;return(0,e.h)(me.tu,{"data-component-name":"ReferralsTierCard",className:"milestone-tier-card",justifyContent:"start",border:"detail-themed",radius:12,padding:20,gap:16,target:"_blank"},(0,e.h)("div",{className:"tier-stars-container"},Array(n).fill(0).map((Pe,Me)=>(0,e.h)(c_,{width:20,height:20,strokeWidth:2,stroke:i.theme_var_background_pop||"#FF6719",fill:i.theme_var_background_pop||"#FF6719",key:Me}))),(0,e.h)(me.tu,{gap:4},(0,e.h)(J.xv.H4,null,U),(0,e.h)(J.xv.Meta,null,"Tier ",n," reward - ",q," Referrals")),(0,e.h)(me.gq,{alignItems:"center"},(0,e.h)(Lr.Z,{pub:i,logo_url:i.logo_url,size:24}),(0,e.h)(J.xv.Meta,{color:"primary",as:"a",href:(0,v.getBaseUrl)(i),decoration:"none",weight:"bold"},i.name)))},d4=({tierNumber:n,pub:t})=>(0,e.h)("a",{href:`${bi.Substitutions.LEADERBOARD_URL}&utm_source=reward_email`,className:l4.referralsTierCard},(0,e.h)(qr.i$,{gap:16},(0,e.h)(qr.zK,{style:{lineHeight:0},gap:4},Array(n).fill(0).map((r,i)=>(0,e.h)(c_,{width:20,height:20,strokeWidth:2,key:i,stroke:t.theme_var_background_pop||"#FF6719",fill:t.theme_var_background_pop||"#FF6719",isStatic:!0}))),(0,e.h)(qr.i$,{gap:4},(0,e.h)(J.xv.H4,null,bi.Substitutions.REWARD_DESCRIPTION),(0,e.h)(J.xv.Meta,null,"Tier ",n," reward - ",bi.Substitutions.NUM_REFERRALS_REQUIRED," Referrals")),(0,e.h)(qr.zK,{verticalAlign:"middle"},(0,e.h)(Lr.Z,{isStatic:!0,pub:t,logo_url:t.logo_url,size:24}),(0,e.h)(J.xv.Meta,{color:"primary",as:"a",href:(0,v.getBaseUrl)(t),decoration:"none",weight:"bold"},t.name))));var f4=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const h4=({mediaUploadId:n})=>{const[t,r]=(0,o.eJ)(null),[i,s]=(0,o.eJ)(!0),[M,k]=(0,o.eJ)(null);return(0,o.d4)(()=>{n?(()=>f4(void 0,null,function*(){try{const U=yield ge().get(`/api/v1/video/upload/${n}`);r(U.body),s(!1)}catch(U){console.error("Failed to load media upload:",U),k((0,y.getNetworkErrorMessage)(U)),s(!1)}}))():(r(null),s(!1))},[n,M]),{mediaUpload:t,loading:i,error:M}};var p4=wt(54125),d_=wt.n(p4),m4=Object.defineProperty,_4=Object.defineProperties,g4=Object.getOwnPropertyDescriptors,f_=Object.getOwnPropertySymbols,v4=Object.prototype.hasOwnProperty,y4=Object.prototype.propertyIsEnumerable,h_=(n,t,r)=>t in n?m4(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,b4=(n,t)=>{for(var r in t||(t={}))v4.call(t,r)&&h_(n,r,t[r]);if(f_)for(var r of f_(t))y4.call(t,r)&&h_(n,r,t[r]);return n},P4=(n,t)=>_4(n,g4(t));const E4=n=>(0,e.h)(x.l,P4(b4({},n),{name:"PlayIcon",svgParams:{height:43,width:35}}),(0,e.h)("path",{d:"M34.428 20.819C34.8483 21.0821 34.8483 21.7121 34.428 21.9752L1.74924 42.4349C1.3132 42.7079 0.755859 42.3835 0.755859 41.8568V0.937387C0.755859 0.410635 1.3132 0.0862969 1.74925 0.359298L34.428 20.819Z"}));var w4=Object.defineProperty,p_=Object.getOwnPropertySymbols,C4=Object.prototype.hasOwnProperty,O4=Object.prototype.propertyIsEnumerable,m_=(n,t,r)=>t in n?w4(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,S4=(n,t)=>{for(var r in t||(t={}))C4.call(t,r)&&m_(n,r,t[r]);if(p_)for(var r of p_(t))O4.call(t,r)&&m_(n,r,t[r]);return n};const T4=5,I4="video:playback_location:",D4=4*60,M4=60,x4=60,A4=3,N4=60,R4={hls:"application/x-mpegURL",mp4:"video/mp4"};class wl extends e.Component{constructor(t,r){var i;super(t,r),this.player=null,this.previewHiddingTimeout=null,this.onLoadedMetadata=()=>{this.state.playbackRestoreLocation&&(this.player&&(this.player.currentTime=this.state.playbackRestoreLocation),this.previewHiddingTimeout=window.setTimeout(()=>this.setState({playbackRestoreLocation:null,previewHidden:!0}),3*1e3))},this.onLoadedData=()=>{this.state.playbackRestoreLocation&&(this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout),this.setState({playbackRestoreLocation:null,previewHidden:!0}))},this.onCanPlay=()=>{this.onTimeUpdate()},this.onPlay=()=>{var M;(M=y.globalPlaybackNotifier)==null||M.emit("play",this),this.setState({playing:!0})},this.onPause=()=>{this.setPlaybackRestoreLocation(),this.setState({playing:!1,waiting:!1}),this.player&&this.player.currentTime>this.player.duration-.1&&this.onVideoReachEnd()},this.onTimeUpdate=()=>{!this.player||!isFinite(this.player.duration)||(!this.props.duration&&this.state.duration!==this.player.duration||this.state.currentTime!==this.player.currentTime?this.setState({duration:this.props.duration||this.player.duration,currentTime:this.player.currentTime,waiting:!1}):this.setState({waiting:!1}))},this.onWaiting=()=>{this.setState({waiting:Date.now()})},this.onPlaying=()=>{this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout),this.setState({playing:!0,waiting:!1,previewHidden:!0,attemptingToPlay:!1,autoPlay:!1,hasPlayed:!0})},this.onVideoReachEnd=({resetTime:M=!0}={})=>{this.player&&!this.player.paused&&this.player.pause(),this.state.previewHidden&&this.setState({previewHidden:!1,attemptingToPlay:!1,hasReachedEnd:!0}),M&&this.player&&!(0,y.isIOs)()&&(this.player.currentTime=0),(0,y.exitFullscreen)(),(0,y.exitPictureInPicture)()},this.onPreviewClick=()=>{var M,k;this.state.previewHidden||this.href()||this.playbackEnabled()&&(this.state.attemptingToPlay?(this.setState({attemptingToPlay:!1,autoPlay:!1}),(M=this.player)==null||M.pause(),this.previewHiddingTimeout&&clearTimeout(this.previewHiddingTimeout)):(this.setState({attemptingToPlay:!0}),(k=this.player)==null||k.play(),this.previewHiddingTimeout=window.setTimeout(()=>this.setState({previewHidden:!0}),3*1e3)))},this.onContextMenu=M=>{M.preventDefault()},this.onAllSourcesFailed=()=>{var M,k;console.error("Failed to load all video sources, falling back to preview image"),this.setState({previewHidden:!1,attemptingToPlay:!1,autoPlay:!1,allSourcesFailed:!0}),(k=(M=this.props).onPlaybackFailed)==null||k.call(M)},this.onBeforeUnload=()=>{this.setPlaybackRestoreLocation(),this.state.previewHidden&&this.setState({previewHidden:!1,attemptingToPlay:!1}),this.player&&!this.player.paused&&this.player.pause()},this.onGlobalPlay=M=>{this!==M&&this.player&&(this.track(D.FP.VIDEO_PAUSE_BUTTON_CLICKED,{implicit:!0}),this.player.pause())},this.onGlobalKeyDown=M=>{var k;this.props.noKeyboardShortcuts||M.metaKey||M.altKey||M.ctrlKey||document.activeElement!==document.body||!this.player||((k=y.globalPlaybackNotifier)==null?void 0:k.listenerCount("play"))>1&&this.player.paused||(M.key==="f"?(0,y.isFullscreen)()?(0,y.exitFullscreen)()&&M.preventDefault():((0,y.goFullscreen)(this.player)&&M.preventDefault(),this.player.paused&&this.player.play()):M.key===" "&&!(0,y.isFullscreen)()?(M.preventDefault(),this.player.paused?this.player.play():this.player.pause()):M.key==="ArrowRight"?this.player.currentTime+5>this.player.duration?this.onVideoReachEnd():(this.player.currentTime+=5,this.state.previewHidden||this.setState({previewHidden:!0,attemptingToPlay:!1})):M.key==="ArrowLeft"&&(this.player.currentTime-=5))},this.cta=()=>"",this.href=()=>this.props.href,this.playbackEnabled=()=>!0;const s=this.getPlaybackRestoreLocation();this.state={playbackRestoreLocation:s,currentTime:0,waiting:!0,duration:(i=t.mediaUpload.duration)!=null?i:null,autoPlay:t.autoPlay,playing:!1,attemptingToPlay:t.autoPlay,previewHidden:s!==null&&s>0,hasPlayed:!1,hasReachedEnd:!1,browserCanPlayHLS:!1,useHLSJS:!0,HLSerrored:!1,allSourcesFailed:!1}}componentDidMount(){var t;this._initHlsjs(),(t=y.globalPlaybackNotifier)==null||t.on("play",this.onGlobalPlay),typeof window!="undefined"&&(document.addEventListener("keydown",this.onGlobalKeyDown,!1),window.addEventListener("beforeunload",this.onBeforeUnload,!1)),this.player&&(this.player.volume=1,this.player.addEventListener("loadedmetadata",this.onLoadedMetadata),this.player.addEventListener("loadeddata",this.onLoadedData),this.player.addEventListener("canplay",this.onCanPlay),this.player.addEventListener("play",this.onPlay),this.player.addEventListener("pause",this.onPause),this.player.addEventListener("timeupdate",this.onTimeUpdate),this.player.addEventListener("waiting",this.onWaiting),this.player.addEventListener("playing",this.onPlaying),this.player.addEventListener("contextmenu",this.onContextMenu)),this.onTimeUpdate(),window&&window._preloads.mux_env_key&&d_().monitor(this.player,{Hls:this.hlsModule,hlsjs:this.hls,debug:!1,data:{env_key:window._preloads.mux_env_key,player_name:"substack",player_init_time:d_().utils.now()}})}componentWillUnmount(){var t;this.setPlaybackRestoreLocation(),(t=y.globalPlaybackNotifier)==null||t.off("play",this.onGlobalPlay),typeof window!="undefined"&&(document.removeEventListener("keydown",this.onGlobalKeyDown,!1),window.removeEventListener("beforeunload",this.onBeforeUnload,!1)),this.player&&(this.player.removeEventListener("loadedmetadata",this.onLoadedMetadata),this.player.removeEventListener("loadeddata",this.onLoadedData),this.player.removeEventListener("canplay",this.onCanPlay),this.player.removeEventListener("play",this.onPlay),this.player.removeEventListener("pause",this.onPause),this.player.removeEventListener("timeupdate",this.onTimeUpdate),this.player.removeEventListener("waiting",this.onWaiting),this.player.removeEventListener("playing",this.onPlaying),this.player.removeEventListener("contextmenu",this.onContextMenu)),this.onVideoReachEnd({resetTime:!1}),this.hls!=null&&this.hls.destroy()}componentDidUpdate(t,r){var i;if((this.props.noPreview!==t.noPreview||this.props.noControls!==t.noControls||this.props.noKeyboardShortcuts!==t.noKeyboardShortcuts)&&this._initHlsjs(),!this.state.playing&&typeof this.state.waiting=="number"&&typeof r.waiting!="number"){const{useHLSJS:s,browserCanPlayHLS:M,HLSerrored:k}=this.state;this.track(D.FP.VIDEO_BUFFERING_STARTED,{use_hlsjs:s,browser_can_play_hls:M,hls_errored:k})}this.state.playing&&!r.playing&&!this.state.waiting&&typeof r.waiting=="number"&&this.track(D.FP.VIDEO_BUFFERING_COMPLETED,{buffering_duration:Date.now()-r.waiting}),this.state.playing&&Math.floor(this.state.currentTime)!==Math.floor(r.currentTime)&&Math.floor(this.state.currentTime)%T4===0&&this.track(D.FP.VIDEO_PLAYBACK_CONTINUED,{current_time:Math.floor(this.state.currentTime)}),!this.state.playing&&r.playing&&((i=this.player)!=null&&i.ended)&&this.track(D.FP.VIDEO_PLAYBACK_COMPLETED)}getPlaybackLocationKey(){return`${I4}${this.props.mediaUpload.id}`}getPlaybackRestoreLocation(){if(this.playbackEnabled()&&this.props.restorePlaybackLocation&&this.props.mediaUpload.duration&&this.props.mediaUpload.duration>D4){const t=(0,xi.mM)(this.getPlaybackLocationKey());if((t==null?void 0:t.currentTime)>M4&&this.props.duration!==null&&this.props.duration!==void 0&&this.props.duration-t.currentTime>x4){const r=Date.now()-t.watchedAt>N4?A4:0,i=Math.max(0,t.currentTime-r);if(i)return i}}return null}setPlaybackRestoreLocation(){var t;this.playbackEnabled()&&((t=this.player)!=null&&t.currentTime)&&(0,xi.ex)(this.getPlaybackLocationKey(),{currentTime:this.player.currentTime,watchedAt:Date.now()})}track(t,r={}){const i=this.props.post;i&&(0,D.j)(t,Object.assign({post_id:i.id,current_time:this.state.currentTime?Math.floor(this.state.currentTime):0,duration:this.state.duration?Math.floor(this.state.duration):0},r))}render(t,r){const{height:i,width:s}=(0,Ne.videoPlayerDimensions)(t.mediaUpload,{isStatic:t.isStatic}),M={paddingBottom:`${Math.min(100,100*i/s).toFixed(4)}%`};return(0,e.h)("div",{className:u()("video-player-wrapper",{"with-preview":!r.previewHidden,"is-static":t.isStatic,"full-width":s>=960}),onClick:this.onPreviewClick},this.href()?(0,e.h)("a",{className:"video-player",href:this.href(),style:M},this.renderPlayer(this.props,this.state)):(0,e.h)("div",{className:"video-player",style:M},this.renderPlayer(this.props,this.state)))}renderPlayer({mediaUpload:t,pub:r,reaction_token:i=null,isStatic:s,noControls:M,noPreview:k},{autoPlay:j,attemptingToPlay:U,previewHidden:q,useHLSJS:Pe,browserCanPlayHLS:Me,HLSerrored:xe}){const Ve=!k&&!q,qe=s||!this.playbackEnabled(),Ge=(0,v.updateQuery)(`/api/v1/video/upload/${t.id}/src`,{token:i,override_publication_id:r==null?void 0:r.id});let ut=[];return Me?ut=["hls","mp4"]:Pe?ut=[]:(0,y.isAndroid)()?ut=["hls","mp4"]:xe?ut=["mp4"]:ut=["hls","mp4"],[this.playbackEnabled()&&!s&&typeof window!="undefined"&&(0,e.h)("video",{ref:bt=>this.player=bt,controls:!M&&!Ve,controlsList:"nodownload",autoPlay:j&&this.playbackEnabled(),poster:(0,v.getMediaUploadThumbnailUrlForPlayer)(t)},ut.map((bt,Pt)=>(0,e.h)("source",{src:(0,v.updateQuery)(Ge,{type:bt}),type:R4[bt],onError:Pt===ut.length-1?this.onAllSourcesFailed:void 0}))),Ve&&[qe&&(0,e.h)("img",{className:"video-player-preview","data-testid":s?"video-player-static-preview-image":"",width:550,src:(0,v.getMediaUploadThumbnailUrlForPlayer)(t,{pub:r,isStatic:s}),"data-component-name":"VideoPlayer-PreviewImg"}),!qe&&(0,e.h)("div",{className:u()("video-player-button",{"no-text":!this.cta()})},(0,e.h)("a",{className:"primary",href:this.href(),native:!0},(0,e.h)(Je.Z,{className:u()({loading:U&&this.playbackEnabled()})},(0,e.h)(E4,{alt:"play",stroke:"#FFFFFF",fill:"#FFFFFF"}),(0,e.h)("span",null,this.cta()))))]]}_initHlsjs(){const t=!!(this.player&&this.player.canPlayType("application/vnd.apple.mpegurl"));if(t){this.setState({browserCanPlayHLS:t});return}wt.e(631).then(wt.t.bind(wt,67631,23)).then(r=>{this._initHlsjsWrapped(r.default)})}_initHlsjsWrapped(t){const r=this,i=t.isSupported();if(!t.isSupported()){this.setState({useHLSJS:i});return}this.hls!=null&&this.hls.destroy();const s={},M=new t(S4({enableWorker:!1},s));this.player!=null&&M.attachMedia(this.player);const{mediaUpload:k,pub:j,reaction_token:U=null}=this.props,q=(0,v.updateQuery)(`/api/v1/video/upload/${k.id}/src`,{token:U,override_publication_id:j==null?void 0:j.id,type:"hls"});M.on(t.Events.MEDIA_ATTACHED,()=>{M.loadSource(q),M.on(t.Events.MANIFEST_PARSED,()=>{var Pe;this.state.autoPlay&&((Pe=this.player)==null||Pe.play().catch(()=>console.log("Unable to autoplay prior to user interaction with the dom.")))})}),M.on(t.Events.ERROR,function(Pe,Me){if(Me.fatal)switch(Me.type){case t.ErrorTypes.NETWORK_ERROR:r.setState({useHLSJS:!1}),r.hls.destroy(),M.startLoad();break;case t.ErrorTypes.MEDIA_ERROR:M.recoverMediaError();break;default:this._initHlsjs();break}}),this.hls=M,this.hlsModule=t}}const ps={videoEmbed:"frontend-components-video_embed_player-module__videoEmbed--c8Rt0",canEdit:"frontend-components-video_embed_player-module__canEdit--JuBgP",editVideoEmbedWrap:"frontend-components-video_embed_player-module__editVideoEmbedWrap--Leli9",editVideoEmbed:"frontend-components-video_embed_player-module__editVideoEmbed--UVfno",imageGallery:"frontend-components-video_embed_player-module__imageGallery--_vwgz",videoPlaceholder:"frontend-components-video_embed_player-module__videoPlaceholder--Tl9mB",videoScrollTarget:"frontend-components-video_embed_player-module__videoScrollTarget--d5irI"},L4=({mediaUploadId:n,post:t,pub:r,isEditor:i=!1})=>{const[s,M]=(0,o.eJ)(null),k=(0,o.sO)(null),j=xe=>{var Ve,qe;i&&(xe?(Ve=k.current)==null||Ve.open():(qe=k.current)==null||qe.close())},{mediaUpload:U,loading:q,error:Pe}=h4({mediaUploadId:n});n&&!s&&U&&M(U);const Me=(0,o.I4)(()=>{document.dispatchEvent(new Event("editSelectedVideoEmbed"))},[]);return(0,e.h)("div",{"data-component-name":"VideoEmbedPlayer",id:(0,le.getLinkableElementIdForVideo)({mediaUploadId:n}),className:ps.videoScrollTarget},q?(0,e.h)("div",{className:ps.videoPlaceholder},"Loading video"):Pe||!s?(0,e.h)("div",{className:ps.videoPlaceholder},"Could not load video."):(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:u()(ps.videoEmbed,i&&ps.canEdit),onMouseEnter:()=>j(!0),onMouseLeave:()=>j(!1)},i&&(0,e.h)(k4,{onEditVideoEmbed:Me,menuRef:k}),(0,e.h)(wl,{mediaUpload:s,isStatic:!1,post:t!=null?t:null,pub:r}))))},k4=({onEditVideoEmbed:n,menuRef:t})=>(0,e.h)(me.hs,{justifyContent:"center",alignItems:"center",className:ps.editVideoEmbedWrap},(0,e.h)(Ki.Fx,{ref:t,noList:!0},(0,e.h)(me.tu,{onClick:n,justifyContent:"center",alignItems:"center",className:ps.editVideoEmbed},(0,e.h)(_l.Z,{height:20})))),B4=({mediaUpload:n,post:t,pub:r})=>{if(!n)return(0,e.h)("div",{"data-testid":"video-embed-player-static-missing-media"},"Did not find video");const i=(0,le.getLinkToVideo)({pub:r,post:t,mediaUploadId:n.id});return(0,e.h)(wl,{mediaUpload:n,isStatic:!0,post:t,pub:r,href:i})};var U4=Object.defineProperty,F4=Object.defineProperties,j4=Object.getOwnPropertyDescriptors,__=Object.getOwnPropertySymbols,W4=Object.prototype.hasOwnProperty,H4=Object.prototype.propertyIsEnumerable,g_=(n,t,r)=>t in n?U4(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,La=(n,t)=>{for(var r in t||(t={}))W4.call(t,r)&&g_(n,r,t[r]);if(__)for(var r of __(t))H4.call(t,r)&&g_(n,r,t[r]);return n},Cl=(n,t)=>F4(n,j4(t));const V4=(n,{pub:t,props:{isStatic:r,post:i,dataForEmailRender:s}})=>{var M;try{const k=n.getAttribute("data-attrs");if(k){const{mediaUploadId:j}=JSON.parse(Pi()(k));return r?(0,e.h)(B4,{pub:t,post:i,mediaUpload:(M=s.idToMediaUpload)==null?void 0:M[j]}):(0,e.h)(L4,{pub:t,post:i,mediaUploadId:j})}}catch(k){console.error("Failed to parse video:",k)}return(0,e.h)(e.Fragment,null)},K4=(n,{pub:t,props:{isStatic:r}})=>{try{const i=n.getAttribute("data-attrs");if(i){const s=JSON.parse(Pi()(i));return r?(0,e.h)(UI,Cl(La({},s),{isEditor:!1})):(0,e.h)(BI,Cl(La({},s),{isEditor:!1}))}}catch(i){console.error("Failed to parse digest post embed:",i)}return(0,e.h)(e.Fragment,null)},$4=(n,{pub:t,props:{isStatic:r}})=>{try{const i=n.getAttribute("data-attrs"),s=JSON.parse(Pi()(i));return r?(0,e.h)(d4,Cl(La({},s),{pub:t})):(0,e.h)(c4,Cl(La({},s),{pub:t}))}catch(i){console.error("Failed to parse referrals card:",i)}return(0,e.h)(e.Fragment,null)},z4=(n,{props:{isStatic:t}})=>{var r;try{const i=n.getAttribute("data-attrs");if(i){const M=(r=JSON.parse(i))!=null?r:{};return t?(0,e.h)(jI,La({},M)):(0,e.h)(WI,La({},M))}}catch(i){console.error("Failed to parse image3:",i)}return(0,e.h)(e.Fragment,null)},G4=(n,{pub:t,props:{isStatic:r,post:i}})=>{try{const s=n.getAttribute("data-attrs");if(s){const M=JSON.parse(s),j={node:{attrs:Cl(La({},M),{isEditor:!1})}};return r?(0,e.h)(qI,La({},j)):(0,e.h)(QI,La({},j))}}catch(s){console.error("Failed to parse image gallery embed:",s)}return(0,e.h)(e.Fragment,null)};var v_=wt(72985),uf=wt(46505);function y_(n,t){return(0,v_.cleanSlug)((0,Ne.truncateText)(n,500,{ellipsis:""}),{allowUnicode:t})}function Z4({text:n,post:t,pub:r,offsetTop:i,isAboutPage:s}){const{isStatic:M}=(0,o.qp)(uf.E),k=y_(n,!0),j=y_(n,!1),U=(0,Yp.g)();if(!t&&!s||!r||M)return null;const q=s?`${(0,v.getAboutUrl)(r,{addBase:!0})}#\xA7${k}`:`${(0,v.getBaseUrl)(r)}/i/${t.id}/${k}`,Pe=Me=>{location!=null&&location.href&&(Me.preventDefault(),(0,D.j)(D.FP.HEADER_ANCHOR_WIDGET_CLICKED,{destination:q}),U(q))};return(0,e.h)("div",{id:`\xA7${k}`,className:u()("header-anchor-widget",{"offset-top":i})},(t==null?void 0:t.id)<66696300&&k!==j&&(0,e.h)("div",{id:`\xA7${j}`}),(0,e.h)("div",{className:"header-anchor-widget-button-container"},(0,e.h)("div",{className:"header-anchor-widget-button",href:q,onClick:Pe},(0,e.h)(fl.Z,{className:"header-anchor-widget-icon",size:20}))))}var Y4=wt(47641),b_;const J4=typeof window!="undefined"?(b_=window._preloads)==null?void 0:b_.freeSignup:!1,P_=(0,e.createContext)(J4);P_.displayName="FreeSignupContext";function X4(){return(0,o.qp)(P_)}var E_=wt(35291),Q4=Object.defineProperty,q4=Object.defineProperties,e3=Object.getOwnPropertyDescriptors,w_=Object.getOwnPropertySymbols,t3=Object.prototype.hasOwnProperty,n3=Object.prototype.propertyIsEnumerable,C_=(n,t,r)=>t in n?Q4(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,O_=(n,t)=>{for(var r in t||(t={}))t3.call(t,r)&&C_(n,r,t[r]);if(w_)for(var r of w_(t))n3.call(t,r)&&C_(n,r,t[r]);return n},r3=(n,t)=>q4(n,e3(t));class o3 extends Jn.p{constructor(t,r){var i,s;super(t,r),this.state.email=(s=(i=this.props.user)==null?void 0:i.email)!=null?s:null}onOpen(){(0,D.j)(D.FP.POLL_SIGNUP_DIALOG_PRESENTED,{poll_id:this.props.pollId,post_id:this.props.post.id})}onClose(){(0,D.j)(D.FP.POLL_SIGNUP_DIALOG_CLOSED,{poll_id:this.props.pollId,post_id:this.props.post.id})}renderChildren(){const{pub:t,post:r,user:i,audience:s,pollId:M}=this.props,{email:k}=this.state,j=s==="only_paid"?"paid subscribers":"subscribers";return(0,e.h)("div",null,(0,e.h)("div",{className:"poll-signup-header"},(0,e.h)("div",{className:"poll-signup-title"},`Subscribe to ${t.name} to vote on this poll`),(0,e.h)("div",{className:"poll-signup-audience"},"Only ",j," can vote on this poll.")),(0,e.h)(Hr.ZP,{method:"post",action:(0,v.pathWithQuery)("/api/v1/free"),loading:!1,autoLock:!0,onSuccess:U=>{(0,D.j)(D.FP.POLL_SIGNUP_DIALOG_SUBMITTED,{poll_id:M,post_id:r.id}),t.plans||t.has_recommendations?document.location.href=(0,v.getSubscribeUrl)(this.props.pub,r3(O_(O_({utm_medium:"web",utm_source:"poll-subscribe-modal",utm_content:r&&r.id,just_signed_up:!0,requires_confirmation:U.body.requires_confirmation?"true":""},U.body.subscription_id&&{subscription_id:U.body.subscription_id}),U.body.referral_token&&{referral_token:U.body.referral_token}),{next:(0,v.getPostUrl)(t,r)})):document.location.reload()}},(0,e.h)("div",{className:"poll-signup"},(0,e.h)("input",{placeholder:"Type your email...",type:"email",name:"email","aria-label":"Email",value:k,disabled:!!i.email,tabIndex:0,onChange:U=>{this.setState({email:U.target.value})}}),(0,e.h)("input",{type:"hidden",name:"source",value:"poll-subscribe-modal"})),(0,e.h)("div",{id:"error-container"}),(0,e.h)("button",{className:"button primary",type:"submit"},"Subscribe")),!i.email&&(0,e.h)("div",{className:"poll-signin-prompt"},"Already a subscriber?"," ",(0,e.h)("a",{className:"poll-signin-link",href:(0,v.getSigninUrl)({for_pub:t.subdomain,redirect:(0,v.getPostUrl)(t,r)})},"Sign in")))}}var i3=wt(30105);function a3(n){if(n.sheet)return n.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===n)return document.styleSheets[t]}function s3(n){var t=document.createElement("style");return t.setAttribute("data-emotion",n.key),n.nonce!==void 0&&t.setAttribute("nonce",n.nonce),t.appendChild(document.createTextNode("")),t}var l3=function(){function n(r){this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.before=null}var t=n.prototype;return t.insert=function(i){if(this.ctr%(this.isSpeedy?65e3:1)===0){var s=s3(this),M;this.tags.length===0?M=this.before:M=this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(s,M),this.tags.push(s)}var k=this.tags[this.tags.length-1];if(this.isSpeedy){var j=a3(k);try{var U=i.charCodeAt(1)===105&&i.charCodeAt(0)===64;j.insertRule(i,U?0:j.cssRules.length)}catch(q){}}else k.appendChild(document.createTextNode(i));this.ctr++},t.flush=function(){this.tags.forEach(function(i){return i.parentNode.removeChild(i)}),this.tags=[],this.ctr=0},n}();function u3(n){function t(Ln,er,qt,Sn,Yt){for(var ir=0,Pn=0,gr=0,fr=0,Nr,$n,Cr=0,Er=0,kr,fo=kr=Nr=0,ao=0,mo=0,_i=0,Ro=0,ga=qt.length,va=ga-1,Ri,to="",ni="",fu="",Ta="",Qi;ao<ga;){if($n=qt.charCodeAt(ao),ao===va&&Pn+fr+gr+ir!==0&&(Pn!==0&&($n=Pn===47?10:47),fr=gr=ir=0,ga++,va++),Pn+fr+gr+ir===0){if(ao===va&&(0<mo&&(to=to.replace(xe,"")),0<to.trim().length)){switch($n){case 32:case 9:case 59:case 13:case 10:break;default:to+=qt.charAt(ao)}$n=59}switch($n){case 123:for(to=to.trim(),Nr=to.charCodeAt(0),kr=1,Ro=++ao;ao<ga;){switch($n=qt.charCodeAt(ao)){case 123:kr++;break;case 125:kr--;break;case 47:switch($n=qt.charCodeAt(ao+1)){case 42:case 47:e:{for(fo=ao+1;fo<va;++fo)switch(qt.charCodeAt(fo)){case 47:if($n===42&&qt.charCodeAt(fo-1)===42&&ao+2!==fo){ao=fo+1;break e}break;case 10:if($n===47){ao=fo+1;break e}}ao=fo}}break;case 91:$n++;case 40:$n++;case 34:case 39:for(;ao++<va&&qt.charCodeAt(ao)!==$n;);}if(kr===0)break;ao++}switch(kr=qt.substring(Ro,ao),Nr===0&&(Nr=(to=to.replace(Me,"").trim()).charCodeAt(0)),Nr){case 64:switch(0<mo&&(to=to.replace(xe,"")),$n=to.charCodeAt(1),$n){case 100:case 109:case 115:case 45:mo=er;break;default:mo=_r}if(kr=t(er,mo,kr,$n,Yt+1),Ro=kr.length,0<qn&&(mo=r(_r,to,_i),Qi=j(3,kr,mo,er,Vn,Gn,Ro,$n,Yt,Sn),to=mo.join(""),Qi!==void 0&&(Ro=(kr=Qi.trim()).length)===0&&($n=0,kr="")),0<Ro)switch($n){case 115:to=to.replace(Ht,k);case 100:case 109:case 45:kr=to+"{"+kr+"}";break;case 107:to=to.replace(Pt,"$1 $2"),kr=to+"{"+kr+"}",kr=jn===1||jn===2&&M("@"+kr,3)?"@-webkit-"+kr+"@"+kr:"@"+kr;break;default:kr=to+kr,Sn===112&&(kr=(ni+=kr,""))}else kr="";break;default:kr=t(er,r(er,to,_i),kr,Sn,Yt+1)}fu+=kr,kr=_i=mo=fo=Nr=0,to="",$n=qt.charCodeAt(++ao);break;case 125:case 59:if(to=(0<mo?to.replace(xe,""):to).trim(),1<(Ro=to.length))switch(fo===0&&(Nr=to.charCodeAt(0),Nr===45||96<Nr&&123>Nr)&&(Ro=(to=to.replace(" ",":")).length),0<qn&&(Qi=j(1,to,er,Ln,Vn,Gn,ni.length,Sn,Yt,Sn))!==void 0&&(Ro=(to=Qi.trim()).length)===0&&(to="\0\0"),Nr=to.charCodeAt(0),$n=to.charCodeAt(1),Nr){case 0:break;case 64:if($n===105||$n===99){Ta+=to+qt.charAt(ao);break}default:to.charCodeAt(Ro-1)!==58&&(ni+=s(to,Nr,$n,to.charCodeAt(2)))}_i=mo=fo=Nr=0,to="",$n=qt.charCodeAt(++ao)}}switch($n){case 13:case 10:Pn===47?Pn=0:1+Nr===0&&Sn!==107&&0<to.length&&(mo=1,to+="\0"),0<qn*Bn&&j(0,to,er,Ln,Vn,Gn,ni.length,Sn,Yt,Sn),Gn=1,Vn++;break;case 59:case 125:if(Pn+fr+gr+ir===0){Gn++;break}default:switch(Gn++,Ri=qt.charAt(ao),$n){case 9:case 32:if(fr+ir+Pn===0)switch(Cr){case 44:case 58:case 9:case 32:Ri="";break;default:$n!==32&&(Ri=" ")}break;case 0:Ri="\\0";break;case 12:Ri="\\f";break;case 11:Ri="\\v";break;case 38:fr+Pn+ir===0&&(mo=_i=1,Ri="\f"+Ri);break;case 108:if(fr+Pn+ir+_n===0&&0<fo)switch(ao-fo){case 2:Cr===112&&qt.charCodeAt(ao-3)===58&&(_n=Cr);case 8:Er===111&&(_n=Er)}break;case 58:fr+Pn+ir===0&&(fo=ao);break;case 44:Pn+gr+fr+ir===0&&(mo=1,Ri+="\r");break;case 34:case 39:Pn===0&&(fr=fr===$n?0:fr===0?$n:fr);break;case 91:fr+Pn+gr===0&&ir++;break;case 93:fr+Pn+gr===0&&ir--;break;case 41:fr+Pn+ir===0&&gr--;break;case 40:if(fr+Pn+ir===0){if(Nr===0)switch(2*Cr+3*Er){case 533:break;default:Nr=1}gr++}break;case 64:Pn+gr+fr+ir+fo+kr===0&&(kr=1);break;case 42:case 47:if(!(0<fr+ir+gr))switch(Pn){case 0:switch(2*$n+3*qt.charCodeAt(ao+1)){case 235:Pn=47;break;case 220:Ro=ao,Pn=42}break;case 42:$n===47&&Cr===42&&Ro+2!==ao&&(qt.charCodeAt(Ro+2)===33&&(ni+=qt.substring(Ro,ao+1)),Ri="",Pn=0)}}Pn===0&&(to+=Ri)}Er=Cr,Cr=$n,ao++}if(Ro=ni.length,0<Ro){if(mo=er,0<qn&&(Qi=j(2,ni,mo,Ln,Vn,Gn,Ro,Sn,Yt,Sn),Qi!==void 0&&(ni=Qi).length===0))return Ta+ni+fu;if(ni=mo.join(",")+"{"+ni+"}",jn*_n!==0){switch(jn!==2||M(ni,2)||(_n=0),_n){case 111:ni=ni.replace(Lt,":-moz-$1")+ni;break;case 112:ni=ni.replace(At,"::-webkit-input-$1")+ni.replace(At,"::-moz-$1")+ni.replace(At,":-ms-input-$1")+ni}_n=0}}return Ta+ni+fu}function r(Ln,er,qt){var Sn=er.trim().split(ut);er=Sn;var Yt=Sn.length,ir=Ln.length;switch(ir){case 0:case 1:var Pn=0;for(Ln=ir===0?"":Ln[0]+" ";Pn<Yt;++Pn)er[Pn]=i(Ln,er[Pn],qt).trim();break;default:var gr=Pn=0;for(er=[];Pn<Yt;++Pn)for(var fr=0;fr<ir;++fr)er[gr++]=i(Ln[fr]+" ",Sn[Pn],qt).trim()}return er}function i(Ln,er,qt){var Sn=er.charCodeAt(0);switch(33>Sn&&(Sn=(er=er.trim()).charCodeAt(0)),Sn){case 38:return er.replace(bt,"$1"+Ln.trim());case 58:return Ln.trim()+er.replace(bt,"$1"+Ln.trim());default:if(0<1*qt&&0<er.indexOf("\f"))return er.replace(bt,(Ln.charCodeAt(0)===58?"":"$1")+Ln.trim())}return Ln+er}function s(Ln,er,qt,Sn){var Yt=Ln+";",ir=2*er+3*qt+4*Sn;if(ir===944){Ln=Yt.indexOf(":",9)+1;var Pn=Yt.substring(Ln,Yt.length-1).trim();return Pn=Yt.substring(0,Ln).trim()+Pn+";",jn===1||jn===2&&M(Pn,1)?"-webkit-"+Pn+Pn:Pn}if(jn===0||jn===2&&!M(Yt,1))return Yt;switch(ir){case 1015:return Yt.charCodeAt(10)===97?"-webkit-"+Yt+Yt:Yt;case 951:return Yt.charCodeAt(3)===116?"-webkit-"+Yt+Yt:Yt;case 963:return Yt.charCodeAt(5)===110?"-webkit-"+Yt+Yt:Yt;case 1009:if(Yt.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Yt+Yt;case 978:return"-webkit-"+Yt+"-moz-"+Yt+Yt;case 1019:case 983:return"-webkit-"+Yt+"-moz-"+Yt+"-ms-"+Yt+Yt;case 883:if(Yt.charCodeAt(8)===45)return"-webkit-"+Yt+Yt;if(0<Yt.indexOf("image-set(",11))return Yt.replace(rr,"$1-webkit-$2")+Yt;break;case 932:if(Yt.charCodeAt(4)===45)switch(Yt.charCodeAt(5)){case 103:return"-webkit-box-"+Yt.replace("-grow","")+"-webkit-"+Yt+"-ms-"+Yt.replace("grow","positive")+Yt;case 115:return"-webkit-"+Yt+"-ms-"+Yt.replace("shrink","negative")+Yt;case 98:return"-webkit-"+Yt+"-ms-"+Yt.replace("basis","preferred-size")+Yt}return"-webkit-"+Yt+"-ms-"+Yt+Yt;case 964:return"-webkit-"+Yt+"-ms-flex-"+Yt+Yt;case 1023:if(Yt.charCodeAt(8)!==99)break;return Pn=Yt.substring(Yt.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+Pn+"-webkit-"+Yt+"-ms-flex-pack"+Pn+Yt;case 1005:return qe.test(Yt)?Yt.replace(Ve,":-webkit-")+Yt.replace(Ve,":-moz-")+Yt:Yt;case 1e3:switch(Pn=Yt.substring(13).trim(),er=Pn.indexOf("-")+1,Pn.charCodeAt(0)+Pn.charCodeAt(er)){case 226:Pn=Yt.replace(Dt,"tb");break;case 232:Pn=Yt.replace(Dt,"tb-rl");break;case 220:Pn=Yt.replace(Dt,"lr");break;default:return Yt}return"-webkit-"+Yt+"-ms-"+Pn+Yt;case 1017:if(Yt.indexOf("sticky",9)===-1)break;case 975:switch(er=(Yt=Ln).length-10,Pn=(Yt.charCodeAt(er)===33?Yt.substring(0,er):Yt).substring(Ln.indexOf(":",7)+1).trim(),ir=Pn.charCodeAt(0)+(Pn.charCodeAt(7)|0)){case 203:if(111>Pn.charCodeAt(8))break;case 115:Yt=Yt.replace(Pn,"-webkit-"+Pn)+";"+Yt;break;case 207:case 102:Yt=Yt.replace(Pn,"-webkit-"+(102<ir?"inline-":"")+"box")+";"+Yt.replace(Pn,"-webkit-"+Pn)+";"+Yt.replace(Pn,"-ms-"+Pn+"box")+";"+Yt}return Yt+";";case 938:if(Yt.charCodeAt(5)===45)switch(Yt.charCodeAt(6)){case 105:return Pn=Yt.replace("-items",""),"-webkit-"+Yt+"-webkit-box-"+Pn+"-ms-flex-"+Pn+Yt;case 115:return"-webkit-"+Yt+"-ms-flex-item-"+Yt.replace(hn,"")+Yt;default:return"-webkit-"+Yt+"-ms-flex-line-pack"+Yt.replace("align-content","").replace(hn,"")+Yt}break;case 973:case 989:if(Yt.charCodeAt(3)!==45||Yt.charCodeAt(4)===122)break;case 931:case 953:if(mn.test(Ln)===!0)return(Pn=Ln.substring(Ln.indexOf(":")+1)).charCodeAt(0)===115?s(Ln.replace("stretch","fill-available"),er,qt,Sn).replace(":fill-available",":stretch"):Yt.replace(Pn,"-webkit-"+Pn)+Yt.replace(Pn,"-moz-"+Pn.replace("fill-",""))+Yt;break;case 962:if(Yt="-webkit-"+Yt+(Yt.charCodeAt(5)===102?"-ms-"+Yt:"")+Yt,qt+Sn===211&&Yt.charCodeAt(13)===105&&0<Yt.indexOf("transform",10))return Yt.substring(0,Yt.indexOf(";",27)+1).replace(Ge,"$1-webkit-$2")+Yt}return Yt}function M(Ln,er){var qt=Ln.indexOf(er===1?":":"{"),Sn=Ln.substring(0,er!==3?qt:10);return qt=Ln.substring(qt+1,Ln.length-1),Rn(er!==2?Sn:Sn.replace(an,"$1"),qt,er)}function k(Ln,er){var qt=s(er,er.charCodeAt(0),er.charCodeAt(1),er.charCodeAt(2));return qt!==er+";"?qt.replace(on," or ($1)").substring(4):"("+er+")"}function j(Ln,er,qt,Sn,Yt,ir,Pn,gr,fr,Nr){for(var $n=0,Cr=er,Er;$n<qn;++$n)switch(Er=nr[$n].call(Pe,Ln,Cr,qt,Sn,Yt,ir,Pn,gr,fr,Nr)){case void 0:case!1:case!0:case null:break;default:Cr=Er}if(Cr!==er)return Cr}function U(Ln){switch(Ln){case void 0:case null:qn=nr.length=0;break;default:if(typeof Ln=="function")nr[qn++]=Ln;else if(typeof Ln=="object")for(var er=0,qt=Ln.length;er<qt;++er)U(Ln[er]);else Bn=!!Ln|0}return U}function q(Ln){return Ln=Ln.prefix,Ln!==void 0&&(Rn=null,Ln?typeof Ln!="function"?jn=1:(jn=2,Rn=Ln):jn=0),q}function Pe(Ln,er){var qt=Ln;if(33>qt.charCodeAt(0)&&(qt=qt.trim()),cr=qt,qt=[cr],0<qn){var Sn=j(-1,er,qt,qt,Vn,Gn,0,0,0,0);Sn!==void 0&&typeof Sn=="string"&&(er=Sn)}var Yt=t(_r,qt,er,0,0);return 0<qn&&(Sn=j(-2,Yt,qt,qt,Vn,Gn,Yt.length,0,0,0),Sn!==void 0&&(Yt=Sn)),cr="",_n=0,Gn=Vn=1,Yt}var Me=/^\0+/g,xe=/[\0\r\f]/g,Ve=/: */g,qe=/zoo|gra/,Ge=/([,: ])(transform)/g,ut=/,\r+?/g,bt=/([\t\r\n ])*\f?&/g,Pt=/@(k\w+)\s*(\S*)\s*/,At=/::(place)/g,Lt=/:(read-only)/g,Dt=/[svh]\w+-[tblr]{2}/,Ht=/\(\s*(.*)\s*\)/g,on=/([\s\S]*?);/g,hn=/-self|flex-/g,an=/[^]*?(:[rp][el]a[\w-]+)[^]*/,mn=/stretch|:\s*\w+\-(?:conte|avail)/,rr=/([^-])(image-set\()/,Gn=1,Vn=1,_n=0,jn=1,_r=[],nr=[],qn=0,Rn=null,Bn=0,cr="";return Pe.use=U,Pe.set=q,n!==void 0&&q(n),Pe}const c3=u3;var cf="/*|*/",d3=cf+"}";function f3(n){n&&oc.current.insert(n+"}")}var oc={current:null},h3=function(t,r,i,s,M,k,j,U,q,Pe){switch(t){case 1:{switch(r.charCodeAt(0)){case 64:return oc.current.insert(r+";"),"";case 108:if(r.charCodeAt(2)===98)return""}break}case 2:{if(U===0)return r+cf;break}case 3:switch(U){case 102:case 112:return oc.current.insert(i[0]+r),"";default:return r+(Pe===0?cf:"")}case-2:r.split(d3).forEach(f3)}},p3=function(t){t===void 0&&(t={});var r=t.key||"css",i;t.prefix!==void 0&&(i={prefix:t.prefix});var s=new c3(i),M={},k;{k=t.container||document.head;var j=document.querySelectorAll("style[data-emotion-"+r+"]");Array.prototype.forEach.call(j,function(xe){var Ve=xe.getAttribute("data-emotion-"+r);Ve.split(" ").forEach(function(qe){M[qe]=!0}),xe.parentNode!==k&&k.appendChild(xe)})}var U;if(s.use(t.stylisPlugins)(h3),U=function(Ve,qe,Ge,ut){var bt=qe.name;if(oc.current=Ge,!1)var Pt;s(Ve,qe.styles),ut&&(Me.inserted[bt]=!0)},!1)var q,Pe;var Me={key:r,sheet:new l3({key:r,container:k,nonce:t.nonce,speedy:t.speedy}),nonce:t.nonce,inserted:M,registered:{},insert:U};return Me};const m3=p3;var _3=!0;function S_(n,t,r){var i="";return r.split(" ").forEach(function(s){n[s]!==void 0?t.push(n[s]):i+=s+" "}),i}var T_=function(t,r,i){var s=t.key+"-"+r.name;if((i===!1||_3===!1&&t.compat!==void 0)&&t.registered[s]===void 0&&(t.registered[s]=r.styles),t.inserted[r.name]===void 0){var M=r;do{var k=t.insert("."+s,M,t.sheet,!0);M=M.next}while(M!==void 0)}};function g3(n){for(var t=0,r,i=0,s=n.length;s>=4;++i,s-=4)r=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(s){case 3:t^=(n.charCodeAt(i+2)&255)<<16;case 2:t^=(n.charCodeAt(i+1)&255)<<8;case 1:t^=n.charCodeAt(i)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}const v3=g3;var y3={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};const b3=y3;function P3(n){var t={};return function(r){return t[r]===void 0&&(t[r]=n(r)),t[r]}}const E3=P3;var HV=`You have illegal escape sequence in your template literal, most likely inside content's property value.
Because you write your CSS inside a JavaScript string you actually have to do double escaping, so for example "content: '\\00d7';" should become "content: '\\\\00d7';".
You can read more about this here:
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences`,VV="You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key).",w3=/[A-Z]|^ms/g,C3=/_EMO_([^_]+?)_([^]*?)_EMO_/g,I_=function(t){return t.charCodeAt(1)===45},D_=function(t){return t!=null&&typeof t!="boolean"},df=E3(function(n){return I_(n)?n:n.replace(w3,"-$&").toLowerCase()}),M_=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(C3,function(i,s,M){return wa={name:s,styles:M,next:wa},s})}return b3[t]!==1&&!I_(t)&&typeof r=="number"&&r!==0?r+"px":r};if(!1)var KV,$V,zV,GV,ZV,YV;var JV=!0;function Ol(n,t,r,i){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return wa={name:r.name,styles:r.styles,next:wa},r.name;if(r.styles!==void 0){var s=r.next;if(s!==void 0)for(;s!==void 0;)wa={name:s.name,styles:s.styles,next:wa},s=s.next;var M=r.styles+";";return M}return O3(n,t,r)}case"function":{if(n!==void 0){var k=wa,j=r(n);return wa=k,Ol(n,t,j,i)}break}case"string":if(!1)var U,q;break}if(t==null)return r;var Pe=t[r];return Pe!==void 0&&!i?Pe:r}function O3(n,t,r){var i="";if(Array.isArray(r))for(var s=0;s<r.length;s++)i+=Ol(n,t,r[s],!1);else for(var M in r){var k=r[M];if(typeof k!="object")t!=null&&t[k]!==void 0?i+=M+"{"+t[k]+"}":D_(k)&&(i+=df(M)+":"+M_(M,k)+";");else if(Array.isArray(k)&&typeof k[0]=="string"&&(t==null||t[k[0]]===void 0))for(var j=0;j<k.length;j++)D_(k[j])&&(i+=df(M)+":"+M_(M,k[j])+";");else{var U=Ol(n,t,k,!1);switch(M){case"animation":case"animationName":{i+=df(M)+":"+U+";";break}default:i+=M+"{"+U+"}"}}}return i}var x_=/label:\s*([^\s;\n{]+)\s*;/g,XV,wa,ff=function(t,r,i){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var s=!0,M="";wa=void 0;var k=t[0];k==null||k.raw===void 0?(s=!1,M+=Ol(i,r,k,!1)):M+=k[0];for(var j=1;j<t.length;j++)M+=Ol(i,r,t[j],M.charCodeAt(M.length-1)===46),s&&(M+=k[j]);var U;x_.lastIndex=0;for(var q="",Pe;(Pe=x_.exec(M))!==null;)q+="-"+Pe[1];var Me=v3(M)+q;return{name:Me,styles:M,next:wa}},hf=Object.prototype.hasOwnProperty,A_=(0,sn.createContext)(typeof HTMLElement!="undefined"?m3():null),N_=(0,sn.createContext)({}),QV=A_.Provider,R_=function(t){var r=function(s,M){return(0,sn.createElement)(A_.Consumer,null,function(k){return t(s,k,M)})};return(0,sn.forwardRef)(r)},qV=function(t){return t.replace(/\$/g,"-")},pf="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",eK="__EMOTION_LABEL_PLEASE_DO_NOT_USE__",S3=function(t,r){var i={};for(var s in r)hf.call(r,s)&&(i[s]=r[s]);if(i[pf]=t,!1)var M,k;return i},L_=function(t,r,i,s){var M=i===null?r.css:r.css(i);typeof M=="string"&&t.registered[M]!==void 0&&(M=t.registered[M]);var k=r[pf],j=[M],U="";typeof r.className=="string"?U=S_(t.registered,j,r.className):r.className!=null&&(U=r.className+" ");var q=ff(j);if(!1)var Pe;var Me=T_(t,q,typeof k=="string");U+=t.key+"-"+q.name;var xe={};for(var Ve in r)hf.call(r,Ve)&&Ve!=="css"&&Ve!==pf&&(xe[Ve]=r[Ve]);xe.ref=s,xe.className=U;var qe=(0,sn.createElement)(k,xe);return qe},T3=R_(function(n,t,r){return typeof n.css=="function"?(0,sn.createElement)(N_.Consumer,null,function(i){return L_(t,n,i,r)}):L_(t,n,null,r)});function I3(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return ff(t)}const mf=I3;var eo=function(t,r){var i=arguments;if(r==null||!hf.call(r,"css"))return sn.createElement.apply(void 0,i);var s=i.length,M=new Array(s);M[0]=T3,M[1]=S3(t,r);for(var k=2;k<s;k++)M[k]=i[k];return sn.createElement.apply(null,M)},tK=!1,nK=null,rK=null,D3=function(){var t=mf.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},M3=function n(t){for(var r=t.length,i=0,s="";i<r;i++){var M=t[i];if(M!=null){var k=void 0;switch(typeof M){case"boolean":break;case"object":{if(Array.isArray(M))k=n(M);else{k="";for(var j in M)M[j]&&j&&(k&&(k+=" "),k+=j)}break}default:k=M}k&&(s&&(s+=" "),s+=k)}}return s};function x3(n,t,r){var i=[],s=S_(n,i,r);return i.length<2?r:s+t(i)}var A3=R_(function(n,t){return(0,sn.createElement)(N_.Consumer,null,function(r){var i=!1,s=function(){for(var q=arguments.length,Pe=new Array(q),Me=0;Me<q;Me++)Pe[Me]=arguments[Me];var xe=ff(Pe,t.registered);return T_(t,xe,!1),t.key+"-"+xe.name},M=function(){for(var q=arguments.length,Pe=new Array(q),Me=0;Me<q;Me++)Pe[Me]=arguments[Me];return x3(t.registered,s,M3(Pe))},k={css:s,cx:M,theme:r},j=n.children(k);return i=!0,j})});function N3(n,t){if(n==null)return{};var r={},i=Object.keys(n),s,M;for(M=0;M<i.length;M++)s=i[M],!(t.indexOf(s)>=0)&&(r[s]=n[s]);return r}function ms(n,t){if(n==null)return{};var r=N3(n,t),i,s;if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(n);for(s=0;s<M.length;s++)i=M[s],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(r[i]=n[i])}return r}function uo(){return uo=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},uo.apply(this,arguments)}function R3(n){if(Array.isArray(n))return n}function L3(n,t){var r=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(r!=null){var i,s,M,k,j=[],U=!0,q=!1;try{if(M=(r=r.call(n)).next,t===0){if(Object(r)!==r)return;U=!1}else for(;!(U=(i=M.call(r)).done)&&(j.push(i.value),j.length!==t);U=!0);}catch(Pe){q=!0,s=Pe}finally{try{if(!U&&r.return!=null&&(k=r.return(),Object(k)!==k))return}finally{if(q)throw s}}return j}}function _f(n,t){(t==null||t>n.length)&&(t=n.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=n[r];return i}function k_(n,t){if(n){if(typeof n=="string")return _f(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _f(n,t)}}function k3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B_(n,t){return R3(n)||L3(n,t)||k_(n,t)||k3()}function B3(n){if(Array.isArray(n))return _f(n)}function U3(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function F3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j3(n){return B3(n)||U3(n)||k_(n)||F3()}function ka(n){"@babel/helpers - typeof";return ka=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ka(n)}function W3(n,t){if(ka(n)!=="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,t||"default");if(ka(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function U_(n){var t=W3(n,"string");return ka(t)==="symbol"?t:String(t)}function Ai(n,t,r){return t=U_(t),t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function za(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function F_(n,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,U_(i.key),i)}}function Ga(n,t,r){return t&&F_(n.prototype,t),r&&F_(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function gf(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function vf(n,t){return vf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},vf(n,t)}function Za(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&vf(n,t)}function _s(n,t){if(t&&(ka(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gf(n)}function Ni(n){return Ni=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ni(n)}function H3(n,t){if(n.length!==t.length)return!1;for(var r=0;r<n.length;r++)if(n[r]!==t[r])return!1;return!0}function V3(n,t){t===void 0&&(t=H3);var r,i=[],s,M=!1;function k(){for(var j=[],U=0;U<arguments.length;U++)j[U]=arguments[U];return M&&r===this&&t(j,i)||(s=n.apply(this,j),M=!0,r=this,i=j),s}return k}const j_=V3;function K3(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}var $3=wt(35639),W_=function(){};function z3(n,t){return t?t[0]==="-"?n+t:n+"__"+t:n}function G3(n,t,r){var i=[r];if(t&&n)for(var s in t)t.hasOwnProperty(s)&&t[s]&&i.push("".concat(z3(n,s)));return i.filter(function(M){return M}).map(function(M){return String(M).trim()}).join(" ")}var H_=function(t){return Array.isArray(t)?t.filter(Boolean):ka(t)==="object"&&t!==null?[t]:[]};function oK(n,t,r){if(r){var i=r(n,t);if(typeof i=="string")return i}return n}function yf(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function V_(n){return yf(n)?window.pageYOffset:n.scrollTop}function ic(n,t){if(yf(n)){window.scrollTo(0,t);return}n.scrollTop=t}function Z3(n){var t=getComputedStyle(n),r=t.position==="absolute",i=/(auto|scroll)/,s=document.documentElement;if(t.position==="fixed")return s;for(var M=n;M=M.parentElement;)if(t=getComputedStyle(M),!(r&&t.position==="static")&&i.test(t.overflow+t.overflowY+t.overflowX))return M;return s}function Y3(n,t,r,i){return r*((n=n/i-1)*n*n+1)+t}function ac(n,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:W_,s=V_(n),M=t-s,k=10,j=0;function U(){j+=k;var q=Y3(j,s,M,r);ic(n,q),j<r?window.requestAnimationFrame(U):i(n)}U()}function J3(n,t){var r=n.getBoundingClientRect(),i=t.getBoundingClientRect(),s=t.offsetHeight/3;i.bottom+s>r.bottom?ic(n,Math.min(t.offsetTop+t.clientHeight-n.offsetHeight+s,n.scrollHeight)):i.top-s<r.top&&ic(n,Math.max(t.offsetTop-s,0))}function X3(n){var t=n.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function K_(){try{return document.createEvent("TouchEvent"),!0}catch(n){return!1}}function Q3(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(n){return!1}}function $_(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function z_(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$_(Object(r),!0).forEach(function(i){Ai(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):$_(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function G_(n){var t=q3();return function(){var i=Ni(n),s;if(t){var M=Ni(this).constructor;s=Reflect.construct(i,arguments,M)}else s=i.apply(this,arguments);return _s(this,s)}}function q3(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}function eD(n){var t=n.maxHeight,r=n.menuEl,i=n.minHeight,s=n.placement,M=n.shouldScroll,k=n.isFixedPosition,j=n.theme,U=j.spacing,q=Z3(r),Pe={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return Pe;var Me=q.getBoundingClientRect(),xe=Me.height,Ve=r.getBoundingClientRect(),qe=Ve.bottom,Ge=Ve.height,ut=Ve.top,bt=r.offsetParent.getBoundingClientRect(),Pt=bt.top,At=window.innerHeight,Lt=V_(q),Dt=parseInt(getComputedStyle(r).marginBottom,10),Ht=parseInt(getComputedStyle(r).marginTop,10),on=Pt-Ht,hn=At-ut,an=on+Lt,mn=xe-Lt-ut,rr=qe-At+Lt+Dt,Gn=Lt+ut-Ht,Vn=160;switch(s){case"auto":case"bottom":if(hn>=Ge)return{placement:"bottom",maxHeight:t};if(mn>=Ge&&!k)return M&&ac(q,rr,Vn),{placement:"bottom",maxHeight:t};if(!k&&mn>=i||k&&hn>=i){M&&ac(q,rr,Vn);var _n=k?hn-Dt:mn-Dt;return{placement:"bottom",maxHeight:_n}}if(s==="auto"||k){var jn=t,_r=k?on:an;return _r>=i&&(jn=Math.min(_r-Dt-U.controlHeight,t)),{placement:"top",maxHeight:jn}}if(s==="bottom")return ic(q,rr),{placement:"bottom",maxHeight:t};break;case"top":if(on>=Ge)return{placement:"top",maxHeight:t};if(an>=Ge&&!k)return M&&ac(q,Gn,Vn),{placement:"top",maxHeight:t};if(!k&&an>=i||k&&on>=i){var nr=t;return(!k&&an>=i||k&&on>=i)&&(nr=k?on-Ht:an-Ht),M&&ac(q,Gn,Vn),{placement:"top",maxHeight:nr}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return Pe}function tD(n){var t={bottom:"top",top:"bottom"};return n?t[n]:"bottom"}var bf=function(t){return t==="auto"?"bottom":t},nD=function(t){var r,i=t.placement,s=t.theme,M=s.borderRadius,k=s.spacing,j=s.colors;return r={label:"menu"},Ai(r,tD(i),"100%"),Ai(r,"backgroundColor",j.neutral0),Ai(r,"borderRadius",M),Ai(r,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),Ai(r,"marginBottom",k.menuGutter),Ai(r,"marginTop",k.menuGutter),Ai(r,"position","absolute"),Ai(r,"width","100%"),Ai(r,"zIndex",1),r},Z_=(0,sn.createContext)({getPortalPlacement:null}),Y_=function(n){Za(r,n);var t=G_(r);function r(){var i;za(this,r);for(var s=arguments.length,M=new Array(s),k=0;k<s;k++)M[k]=arguments[k];return i=t.call.apply(t,[this].concat(M)),i.state={maxHeight:i.props.maxMenuHeight,placement:null},i.getPlacement=function(j){var U=i.props,q=U.minMenuHeight,Pe=U.maxMenuHeight,Me=U.menuPlacement,xe=U.menuPosition,Ve=U.menuShouldScrollIntoView,qe=U.theme;if(j){var Ge=xe==="fixed",ut=Ve&&!Ge,bt=eD({maxHeight:Pe,menuEl:j,minHeight:q,placement:Me,shouldScroll:ut,isFixedPosition:Ge,theme:qe}),Pt=i.context.getPortalPlacement;Pt&&Pt(bt),i.setState(bt)}},i.getUpdatedProps=function(){var j=i.props.menuPlacement,U=i.state.placement||bf(j);return z_(z_({},i.props),{},{placement:U,maxHeight:i.state.maxHeight})},i}return Ga(r,[{key:"render",value:function(){var s=this.props.children;return s({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),r}(sn.Component);Y_.contextType=Z_;var rD=function(t){var r=t.children,i=t.className,s=t.cx,M=t.getStyles,k=t.innerRef,j=t.innerProps;return eo("div",uo({css:M("menu",t),className:s({menu:!0},i)},j,{ref:k}),r)},oD=function(t){var r=t.maxHeight,i=t.theme.spacing.baseUnit;return{maxHeight:r,overflowY:"auto",paddingBottom:i,paddingTop:i,position:"relative",WebkitOverflowScrolling:"touch"}},iD=function(t){var r=t.children,i=t.className,s=t.cx,M=t.getStyles,k=t.isMulti,j=t.innerRef,U=t.innerProps;return eo("div",uo({css:M("menuList",t),className:s({"menu-list":!0,"menu-list--is-multi":k},i),ref:j},U),r)},J_=function(t){var r=t.theme,i=r.spacing.baseUnit,s=r.colors;return{color:s.neutral40,padding:"".concat(i*2,"px ").concat(i*3,"px"),textAlign:"center"}},aD=J_,sD=J_,X_=function(t){var r=t.children,i=t.className,s=t.cx,M=t.getStyles,k=t.innerProps;return eo("div",uo({css:M("noOptionsMessage",t),className:s({"menu-notice":!0,"menu-notice--no-options":!0},i)},k),r)};X_.defaultProps={children:"No options"};var Q_=function(t){var r=t.children,i=t.className,s=t.cx,M=t.getStyles,k=t.innerProps;return eo("div",uo({css:M("loadingMessage",t),className:s({"menu-notice":!0,"menu-notice--loading":!0},i)},k),r)};Q_.defaultProps={children:"Loading..."};var lD=function(t){var r=t.rect,i=t.offset,s=t.position;return{left:r.left,position:s,top:i,width:r.width,zIndex:1}},uD=function(n){Za(r,n);var t=G_(r);function r(){var i;za(this,r);for(var s=arguments.length,M=new Array(s),k=0;k<s;k++)M[k]=arguments[k];return i=t.call.apply(t,[this].concat(M)),i.state={placement:null},i.getPortalPlacement=function(j){var U=j.placement,q=bf(i.props.menuPlacement);U!==q&&i.setState({placement:U})},i}return Ga(r,[{key:"render",value:function(){var s=this.props,M=s.appendTo,k=s.children,j=s.controlElement,U=s.menuPlacement,q=s.menuPosition,Pe=s.getStyles,Me=q==="fixed";if(!M&&!Me||!j)return null;var xe=this.state.placement||bf(U),Ve=X3(j),qe=Me?0:window.pageYOffset,Ge=Ve[xe]+qe,ut={offset:Ge,position:q,rect:Ve},bt=eo("div",{css:Pe("menuPortal",ut)},k);return eo(Z_.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},M?(0,sn.createPortal)(bt,M):bt)}}]),r}(sn.Component),q_=Array.isArray,eg=Object.keys,cD=Object.prototype.hasOwnProperty;function Pf(n,t){if(n===t)return!0;if(n&&t&&ka(n)=="object"&&ka(t)=="object"){var r=q_(n),i=q_(t),s,M,k;if(r&&i){if(M=n.length,M!=t.length)return!1;for(s=M;s--!==0;)if(!Pf(n[s],t[s]))return!1;return!0}if(r!=i)return!1;var j=n instanceof Date,U=t instanceof Date;if(j!=U)return!1;if(j&&U)return n.getTime()==t.getTime();var q=n instanceof RegExp,Pe=t instanceof RegExp;if(q!=Pe)return!1;if(q&&Pe)return n.toString()==t.toString();var Me=eg(n);if(M=Me.length,M!==eg(t).length)return!1;for(s=M;s--!==0;)if(!cD.call(t,Me[s]))return!1;for(s=M;s--!==0;)if(k=Me[s],!(k==="_owner"&&n.$$typeof)&&!Pf(n[k],t[k]))return!1;return!0}return n!==n&&t!==t}function dD(n,t){try{return Pf(n,t)}catch(r){if(r.message&&r.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",r.name,r.message),!1;throw r}}var fD=function(t){var r=t.isDisabled,i=t.isRtl;return{label:"container",direction:i?"rtl":null,pointerEvents:r?"none":null,position:"relative"}},hD=function(t){var r=t.children,i=t.className,s=t.cx,M=t.getStyles,k=t.innerProps,j=t.isDisabled,U=t.isRtl;return eo("div",uo({css:M("container",t),className:s({"--is-disabled":j,"--is-rtl":U},i)},k),r)},pD=function(t){var r=t.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},mD=function(t){var r=t.children,i=t.className,s=t.cx,M=t.isMulti,k=t.getStyles,j=t.hasValue;return eo("div",{css:k("valueContainer",t),className:s({"value-container":!0,"value-container--is-multi":M,"value-container--has-value":j},i)},r)},_D=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},gD=function(t){var r=t.children,i=t.className,s=t.cx,M=t.getStyles;return eo("div",{css:M("indicatorsContainer",t),className:s({indicators:!0},i)},r)};function tg(){var n=K3([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]);return tg=function(){return n},n}function iK(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var vD={name:"19bqh2r",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0;"},ng=function(t){var r=t.size,i=ms(t,["size"]);return eo("svg",uo({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:vD},i))},Ef=function(t){return eo(ng,uo({size:20},t),eo("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},rg=function(t){return eo(ng,uo({size:20},t),eo("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},og=function(t){var r=t.isFocused,i=t.theme,s=i.spacing.baseUnit,M=i.colors;return{label:"indicatorContainer",color:r?M.neutral60:M.neutral20,display:"flex",padding:s*2,transition:"color 150ms",":hover":{color:r?M.neutral80:M.neutral40}}},yD=og,bD=function(t){var r=t.children,i=t.className,s=t.cx,M=t.getStyles,k=t.innerProps;return eo("div",uo({},k,{css:M("dropdownIndicator",t),className:s({indicator:!0,"dropdown-indicator":!0},i)}),r||eo(rg,null))},PD=og,ED=function(t){var r=t.children,i=t.className,s=t.cx,M=t.getStyles,k=t.innerProps;return eo("div",uo({},k,{css:M("clearIndicator",t),className:s({indicator:!0,"clear-indicator":!0},i)}),r||eo(Ef,null))},wD=function(t){var r=t.isDisabled,i=t.theme,s=i.spacing.baseUnit,M=i.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:r?M.neutral10:M.neutral20,marginBottom:s*2,marginTop:s*2,width:1}},CD=function(t){var r=t.className,i=t.cx,s=t.getStyles,M=t.innerProps;return eo("span",uo({},M,{css:s("indicatorSeparator",t),className:i({"indicator-separator":!0},r)}))},OD=D3(tg()),SD=function(t){var r=t.isFocused,i=t.size,s=t.theme,M=s.colors,k=s.spacing.baseUnit;return{label:"loadingIndicator",color:r?M.neutral60:M.neutral20,display:"flex",padding:k*2,transition:"color 150ms",alignSelf:"center",fontSize:i,lineHeight:1,marginRight:i,textAlign:"center",verticalAlign:"middle"}},wf=function(t){var r=t.delay,i=t.offset;return eo("span",{css:mf({animation:"".concat(OD," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"")})},ig=function(t){var r=t.className,i=t.cx,s=t.getStyles,M=t.innerProps,k=t.isRtl;return eo("div",uo({},M,{css:s("loadingIndicator",t),className:i({indicator:!0,"loading-indicator":!0},r)}),eo(wf,{delay:0,offset:k}),eo(wf,{delay:160,offset:!0}),eo(wf,{delay:320,offset:!k}))};ig.defaultProps={size:4};var TD=function(t){var r=t.isDisabled,i=t.isFocused,s=t.theme,M=s.colors,k=s.borderRadius,j=s.spacing;return{label:"control",alignItems:"center",backgroundColor:r?M.neutral5:M.neutral0,borderColor:r?M.neutral10:i?M.primary:M.neutral20,borderRadius:k,borderStyle:"solid",borderWidth:1,boxShadow:i?"0 0 0 1px ".concat(M.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:j.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:i?M.primary:M.neutral30}}},ID=function(t){var r=t.children,i=t.cx,s=t.getStyles,M=t.className,k=t.isDisabled,j=t.isFocused,U=t.innerRef,q=t.innerProps,Pe=t.menuIsOpen;return eo("div",uo({ref:U,css:s("control",t),className:i({control:!0,"control--is-disabled":k,"control--is-focused":j,"control--menu-is-open":Pe},M)},q),r)};function ag(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function DD(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ag(Object(r),!0).forEach(function(i){Ai(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):ag(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var MD=function(t){var r=t.theme.spacing;return{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},xD=function(t){var r=t.children,i=t.className,s=t.cx,M=t.getStyles,k=t.Heading,j=t.headingProps,U=t.label,q=t.theme,Pe=t.selectProps;return eo("div",{css:M("group",t),className:s({group:!0},i)},eo(k,uo({},j,{selectProps:Pe,theme:q,getStyles:M,cx:s}),U),eo("div",null,r))},AD=function(t){var r=t.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:r.baseUnit*3,paddingRight:r.baseUnit*3,textTransform:"uppercase"}},ND=function(t){var r=t.className,i=t.cx,s=t.getStyles,M=t.theme,k=t.selectProps,j=ms(t,["className","cx","getStyles","theme","selectProps"]);return eo("div",uo({css:s("groupHeading",DD({theme:M},j)),className:i({"group-heading":!0},r)},j))};function sg(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function RD(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sg(Object(r),!0).forEach(function(i){Ai(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):sg(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var LD=function(t){var r=t.isDisabled,i=t.theme,s=i.spacing,M=i.colors;return{margin:s.baseUnit/2,paddingBottom:s.baseUnit/2,paddingTop:s.baseUnit/2,visibility:r?"hidden":"visible",color:M.neutral80}},kD=function(t){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:t?0:1,outline:0,padding:0,color:"inherit"}},BD=function(t){var r=t.className,i=t.cx,s=t.getStyles,M=t.innerRef,k=t.isHidden,j=t.isDisabled,U=t.theme,q=t.selectProps,Pe=ms(t,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]);return eo("div",{css:s("input",RD({theme:U},Pe))},eo($3.Z,uo({className:i({input:!0},r),inputRef:M,inputStyle:kD(k),disabled:j},Pe)))};function lg(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function Cf(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lg(Object(r),!0).forEach(function(i){Ai(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):lg(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var UD=function(t){var r=t.theme,i=r.spacing,s=r.borderRadius,M=r.colors;return{label:"multiValue",backgroundColor:M.neutral10,borderRadius:s/2,display:"flex",margin:i.baseUnit/2,minWidth:0}},FD=function(t){var r=t.theme,i=r.borderRadius,s=r.colors,M=t.cropWithEllipsis;return{borderRadius:i/2,color:s.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:M?"ellipsis":null,whiteSpace:"nowrap"}},jD=function(t){var r=t.theme,i=r.spacing,s=r.borderRadius,M=r.colors,k=t.isFocused;return{alignItems:"center",borderRadius:s/2,backgroundColor:k&&M.dangerLight,display:"flex",paddingLeft:i.baseUnit,paddingRight:i.baseUnit,":hover":{backgroundColor:M.dangerLight,color:M.danger}}},ug=function(t){var r=t.children,i=t.innerProps;return eo("div",i,r)},WD=ug,HD=ug;function VD(n){var t=n.children,r=n.innerProps;return eo("div",r,t||eo(Ef,{size:14}))}var cg=function(t){var r=t.children,i=t.className,s=t.components,M=t.cx,k=t.data,j=t.getStyles,U=t.innerProps,q=t.isDisabled,Pe=t.removeProps,Me=t.selectProps,xe=s.Container,Ve=s.Label,qe=s.Remove;return eo(A3,null,function(Ge){var ut=Ge.css,bt=Ge.cx;return eo(xe,{data:k,innerProps:Cf(Cf({},U),{},{className:bt(ut(j("multiValue",t)),M({"multi-value":!0,"multi-value--is-disabled":q},i))}),selectProps:Me},eo(Ve,{data:k,innerProps:{className:bt(ut(j("multiValueLabel",t)),M({"multi-value__label":!0},i))},selectProps:Me},r),eo(qe,{data:k,innerProps:Cf({className:bt(ut(j("multiValueRemove",t)),M({"multi-value__remove":!0},i))},Pe),selectProps:Me}))})};cg.defaultProps={cropWithEllipsis:!0};var KD=function(t){var r=t.isDisabled,i=t.isFocused,s=t.isSelected,M=t.theme,k=M.spacing,j=M.colors;return{label:"option",backgroundColor:s?j.primary:i?j.primary25:"transparent",color:r?j.neutral20:s?j.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(k.baseUnit*2,"px ").concat(k.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!r&&(s?j.primary:j.primary50)}}},$D=function(t){var r=t.children,i=t.className,s=t.cx,M=t.getStyles,k=t.isDisabled,j=t.isFocused,U=t.isSelected,q=t.innerRef,Pe=t.innerProps;return eo("div",uo({css:M("option",t),className:s({option:!0,"option--is-disabled":k,"option--is-focused":j,"option--is-selected":U},i),ref:q},Pe),r)},zD=function(t){var r=t.theme,i=r.spacing,s=r.colors;return{label:"placeholder",color:s.neutral50,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},GD=function(t){var r=t.children,i=t.className,s=t.cx,M=t.getStyles,k=t.innerProps;return eo("div",uo({css:M("placeholder",t),className:s({placeholder:!0},i)},k),r)},ZD=function(t){var r=t.isDisabled,i=t.theme,s=i.spacing,M=i.colors;return{label:"singleValue",color:r?M.neutral40:M.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2,maxWidth:"calc(100% - ".concat(s.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},YD=function(t){var r=t.children,i=t.className,s=t.cx,M=t.getStyles,k=t.isDisabled,j=t.innerProps;return eo("div",uo({css:M("singleValue",t),className:s({"single-value":!0,"single-value--is-disabled":k},i)},j),r)};function dg(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function fg(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dg(Object(r),!0).forEach(function(i){Ai(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):dg(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}for(var JD={ClearIndicator:ED,Control:ID,DropdownIndicator:bD,DownChevron:rg,CrossIcon:Ef,Group:xD,GroupHeading:ND,IndicatorsContainer:gD,IndicatorSeparator:CD,Input:BD,LoadingIndicator:ig,Menu:rD,MenuList:iD,MenuPortal:uD,LoadingMessage:Q_,NoOptionsMessage:X_,MultiValue:cg,MultiValueContainer:WD,MultiValueLabel:HD,MultiValueRemove:VD,Option:$D,Placeholder:GD,SelectContainer:hD,SingleValue:YD,ValueContainer:mD},XD=function(t){return fg(fg({},JD),t.components)},Of=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],QD=new RegExp("["+Of.map(function(n){return n.letters}).join("")+"]","g"),hg={},Sf=0;Sf<Of.length;Sf++)for(var Tf=Of[Sf],If=0;If<Tf.letters.length;If++)hg[Tf.letters[If]]=Tf.base;var pg=function(t){return t.replace(QD,function(r){return hg[r]})};function mg(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function qD(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mg(Object(r),!0).forEach(function(i){Ai(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):mg(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var _g=function(t){return t.replace(/^\s+|\s+$/g,"")},eM=function(t){return"".concat(t.label," ").concat(t.value)},tM=function(t){return function(r,i){var s=qD({ignoreCase:!0,ignoreAccents:!0,stringify:eM,trim:!0,matchFrom:"any"},t),M=s.ignoreCase,k=s.ignoreAccents,j=s.stringify,U=s.trim,q=s.matchFrom,Pe=U?_g(i):i,Me=U?_g(j(r)):j(r);return M&&(Pe=Pe.toLowerCase(),Me=Me.toLowerCase()),k&&(Pe=pg(Pe),Me=pg(Me)),q==="start"?Me.substr(0,Pe.length)===Pe:Me.indexOf(Pe)>-1}};function aK(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}var nM={name:"1laao21-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap;"},rM=function(t){return eo("span",uo({css:nM},t))};function oM(n){var t=n.in,r=n.out,i=n.onExited,s=n.appear,M=n.enter,k=n.exit,j=n.innerRef,U=n.emotion,q=ms(n,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return eo("input",uo({ref:j},q,{css:mf({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"")}))}function iM(n){var t=aM();return function(){var i=Ni(n),s;if(t){var M=Ni(this).constructor;s=Reflect.construct(i,arguments,M)}else s=i.apply(this,arguments);return _s(this,s)}}function aM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var gg=function(n){Za(r,n);var t=iM(r);function r(){return za(this,r),t.apply(this,arguments)}return Ga(r,[{key:"componentDidMount",value:function(){this.props.innerRef((0,sn.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),r}(sn.Component),vg=["boxSizing","height","overflow","paddingRight","position"],yg={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function bg(n){n.preventDefault()}function Pg(n){n.stopPropagation()}function Eg(){var n=this.scrollTop,t=this.scrollHeight,r=n+this.offsetHeight;n===0?this.scrollTop=1:r===t&&(this.scrollTop=n-1)}function wg(){return"ontouchstart"in window||navigator.maxTouchPoints}function sM(n){var t=lM();return function(){var i=Ni(n),s;if(t){var M=Ni(this).constructor;s=Reflect.construct(i,arguments,M)}else s=i.apply(this,arguments);return _s(this,s)}}function lM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var Cg=!!(window.document&&window.document.createElement),Sl=0,Og=function(n){Za(r,n);var t=sM(r);function r(){var i;za(this,r);for(var s=arguments.length,M=new Array(s),k=0;k<s;k++)M[k]=arguments[k];return i=t.call.apply(t,[this].concat(M)),i.originalStyles={},i.listenerOptions={capture:!1,passive:!1},i}return Ga(r,[{key:"componentDidMount",value:function(){var s=this;if(Cg){var M=this.props,k=M.accountForScrollbars,j=M.touchScrollTarget,U=document.body,q=U&&U.style;if(k&&vg.forEach(function(Ve){var qe=q&&q[Ve];s.originalStyles[Ve]=qe}),k&&Sl<1){var Pe=parseInt(this.originalStyles.paddingRight,10)||0,Me=document.body?document.body.clientWidth:0,xe=window.innerWidth-Me+Pe||0;Object.keys(yg).forEach(function(Ve){var qe=yg[Ve];q&&(q[Ve]=qe)}),q&&(q.paddingRight="".concat(xe,"px"))}U&&wg()&&(U.addEventListener("touchmove",bg,this.listenerOptions),j&&(j.addEventListener("touchstart",Eg,this.listenerOptions),j.addEventListener("touchmove",Pg,this.listenerOptions))),Sl+=1}}},{key:"componentWillUnmount",value:function(){var s=this;if(Cg){var M=this.props,k=M.accountForScrollbars,j=M.touchScrollTarget,U=document.body,q=U&&U.style;Sl=Math.max(Sl-1,0),k&&Sl<1&&vg.forEach(function(Pe){var Me=s.originalStyles[Pe];q&&(q[Pe]=Me)}),U&&wg()&&(U.removeEventListener("touchmove",bg,this.listenerOptions),j&&(j.removeEventListener("touchstart",Eg,this.listenerOptions),j.removeEventListener("touchmove",Pg,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),r}(sn.Component);Og.defaultProps={accountForScrollbars:!0};function sK(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}function uM(n){var t=cM();return function(){var i=Ni(n),s;if(t){var M=Ni(this).constructor;s=Reflect.construct(i,arguments,M)}else s=i.apply(this,arguments);return _s(this,s)}}function cM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var dM={name:"1dsbpcp",styles:"position:fixed;left:0;bottom:0;right:0;top:0;"},fM=function(n){Za(r,n);var t=uM(r);function r(){var i;za(this,r);for(var s=arguments.length,M=new Array(s),k=0;k<s;k++)M[k]=arguments[k];return i=t.call.apply(t,[this].concat(M)),i.state={touchScrollTarget:null},i.getScrollTarget=function(j){j!==i.state.touchScrollTarget&&i.setState({touchScrollTarget:j})},i.blurSelectInput=function(){document.activeElement&&document.activeElement.blur()},i}return Ga(r,[{key:"render",value:function(){var s=this.props,M=s.children,k=s.isEnabled,j=this.state.touchScrollTarget;return k?eo("div",null,eo("div",{onClick:this.blurSelectInput,css:dM}),eo(gg,{innerRef:this.getScrollTarget},M),j?eo(Og,{touchScrollTarget:j}):null):M}}]),r}(sn.PureComponent);function hM(n){var t=pM();return function(){var i=Ni(n),s;if(t){var M=Ni(this).constructor;s=Reflect.construct(i,arguments,M)}else s=i.apply(this,arguments);return _s(this,s)}}function pM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var mM=function(n){Za(r,n);var t=hM(r);function r(){var i;za(this,r);for(var s=arguments.length,M=new Array(s),k=0;k<s;k++)M[k]=arguments[k];return i=t.call.apply(t,[this].concat(M)),i.isBottom=!1,i.isTop=!1,i.scrollTarget=void 0,i.touchStart=void 0,i.cancelScroll=function(j){j.preventDefault(),j.stopPropagation()},i.handleEventDelta=function(j,U){var q=i.props,Pe=q.onBottomArrive,Me=q.onBottomLeave,xe=q.onTopArrive,Ve=q.onTopLeave,qe=i.scrollTarget,Ge=qe.scrollTop,ut=qe.scrollHeight,bt=qe.clientHeight,Pt=i.scrollTarget,At=U>0,Lt=ut-bt-Ge,Dt=!1;Lt>U&&i.isBottom&&(Me&&Me(j),i.isBottom=!1),At&&i.isTop&&(Ve&&Ve(j),i.isTop=!1),At&&U>Lt?(Pe&&!i.isBottom&&Pe(j),Pt.scrollTop=ut,Dt=!0,i.isBottom=!0):!At&&-U>Ge&&(xe&&!i.isTop&&xe(j),Pt.scrollTop=0,Dt=!0,i.isTop=!0),Dt&&i.cancelScroll(j)},i.onWheel=function(j){i.handleEventDelta(j,j.deltaY)},i.onTouchStart=function(j){i.touchStart=j.changedTouches[0].clientY},i.onTouchMove=function(j){var U=i.touchStart-j.changedTouches[0].clientY;i.handleEventDelta(j,U)},i.getScrollTarget=function(j){i.scrollTarget=j},i}return Ga(r,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(s){s&&(typeof s.addEventListener=="function"&&s.addEventListener("wheel",this.onWheel,!1),typeof s.addEventListener=="function"&&s.addEventListener("touchstart",this.onTouchStart,!1),typeof s.addEventListener=="function"&&s.addEventListener("touchmove",this.onTouchMove,!1))}},{key:"stopListening",value:function(s){s&&(typeof s.removeEventListener=="function"&&s.removeEventListener("wheel",this.onWheel,!1),typeof s.removeEventListener=="function"&&s.removeEventListener("touchstart",this.onTouchStart,!1),typeof s.removeEventListener=="function"&&s.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",value:function(){return sn.default.createElement(gg,{innerRef:this.getScrollTarget},this.props.children)}}]),r}(sn.Component);function _M(n){var t=n.isEnabled,r=t===void 0?!0:t,i=ms(n,["isEnabled"]);return r?sn.default.createElement(mM,i):i.children}var gM=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.isSearchable,s=r.isMulti,M=r.label,k=r.isDisabled,j=r.tabSelectsValue;switch(t){case"menu":return"Use Up and Down to choose options".concat(k?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(j?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(M||"Select"," is focused ").concat(i?",type to refine list":"",", press Down to open the menu, ").concat(s?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}},vM=function(t,r){var i=r.value,s=r.isDisabled;if(i)switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"select-option":return s?"option ".concat(i," is disabled. Select another option."):"option ".concat(i,", selected.")}},yM=function(t){var r=t.focusedValue,i=t.getOptionLabel,s=t.selectValue;return"value ".concat(i(r)," focused, ").concat(s.indexOf(r)+1," of ").concat(s.length,".")},bM=function(t){var r=t.focusedOption,i=t.getOptionLabel,s=t.options;return"option ".concat(i(r)," focused").concat(r.isDisabled?" disabled":"",", ").concat(s.indexOf(r)+1," of ").concat(s.length,".")},PM=function(t){var r=t.inputValue,i=t.screenReaderMessage;return"".concat(i).concat(r?" for search term "+r:"",".")},EM=function(t){return t.label},wM=function(t){return t.label},CM=function(t){return t.value},Sg=function(t){return!!t.isDisabled};function Tg(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function OM(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tg(Object(r),!0).forEach(function(i){_defineProperty(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Tg(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var SM={clearIndicator:PD,container:fD,control:TD,dropdownIndicator:yD,group:MD,groupHeading:AD,indicatorsContainer:_D,indicatorSeparator:wD,input:LD,loadingIndicator:SD,loadingMessage:sD,menu:nD,menuList:oD,menuPortal:lD,multiValue:UD,multiValueLabel:FD,multiValueRemove:jD,noOptionsMessage:aD,option:KD,placeholder:zD,singleValue:ZD,valueContainer:pD};function lK(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=OM({},n);return Object.keys(t).forEach(function(i){n[i]?r[i]=function(s,M){return t[i](n[i](s,M),M)}:r[i]=t[i]}),r}var TM={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},IM=4,Ig=4,DM=38,MM=Ig*2,xM={baseUnit:Ig,controlHeight:DM,menuGutter:MM},Df={borderRadius:IM,colors:TM,spacing:xM};function Dg(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),r.push.apply(r,i)}return r}function Ws(n){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dg(Object(r),!0).forEach(function(i){Ai(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Dg(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function AM(n){var t=NM();return function(){var i=Ni(n),s;if(t){var M=Ni(this).constructor;s=Reflect.construct(i,arguments,M)}else s=i.apply(this,arguments);return _s(this,s)}}function NM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var RM={backspaceRemovesValue:!0,blurInputOnSelect:K_(),captureMenuScroll:!K_(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:tM(),formatGroupLabel:EM,getOptionLabel:wM,getOptionValue:CM,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Sg,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Q3(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var r=t.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0},LM=1,Mg=function(n){Za(r,n);var t=AM(r);function r(i){var s;za(this,r),s=t.call(this,i),s.state={ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]},s.blockOptionHover=!1,s.isComposing=!1,s.clearFocusValueOnUpdate=!1,s.commonProps=void 0,s.components=void 0,s.hasGroups=!1,s.initialTouchX=0,s.initialTouchY=0,s.inputIsHiddenAfterUpdate=void 0,s.instancePrefix="",s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.controlRef=null,s.getControlRef=function(U){s.controlRef=U},s.focusedOptionRef=null,s.getFocusedOptionRef=function(U){s.focusedOptionRef=U},s.menuListRef=null,s.getMenuListRef=function(U){s.menuListRef=U},s.inputRef=null,s.getInputRef=function(U){s.inputRef=U},s.cacheComponents=function(U){s.components=XD({components:U})},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(U,q){var Pe=s.props,Me=Pe.onChange,xe=Pe.name;Me(U,Ws(Ws({},q),{},{name:xe}))},s.setValue=function(U){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",Pe=arguments.length>2?arguments[2]:void 0,Me=s.props,xe=Me.closeMenuOnSelect,Ve=Me.isMulti;s.onInputChange("",{action:"set-value"}),xe&&(s.inputIsHiddenAfterUpdate=!Ve,s.onMenuClose()),s.clearFocusValueOnUpdate=!0,s.onChange(U,{action:q,option:Pe})},s.selectOption=function(U){var q=s.props,Pe=q.blurInputOnSelect,Me=q.isMulti,xe=s.state.selectValue;if(Me)if(s.isOptionSelected(U,xe)){var Ve=s.getOptionValue(U);s.setValue(xe.filter(function(qe){return s.getOptionValue(qe)!==Ve}),"deselect-option",U),s.announceAriaLiveSelection({event:"deselect-option",context:{value:s.getOptionLabel(U)}})}else s.isOptionDisabled(U,xe)?s.announceAriaLiveSelection({event:"select-option",context:{value:s.getOptionLabel(U),isDisabled:!0}}):(s.setValue([].concat(j3(xe),[U]),"select-option",U),s.announceAriaLiveSelection({event:"select-option",context:{value:s.getOptionLabel(U)}}));else s.isOptionDisabled(U,xe)?s.announceAriaLiveSelection({event:"select-option",context:{value:s.getOptionLabel(U),isDisabled:!0}}):(s.setValue(U,"select-option"),s.announceAriaLiveSelection({event:"select-option",context:{value:s.getOptionLabel(U)}}));Pe&&s.blurInput()},s.removeValue=function(U){var q=s.state.selectValue,Pe=s.getOptionValue(U),Me=q.filter(function(xe){return s.getOptionValue(xe)!==Pe});s.onChange(Me.length?Me:null,{action:"remove-value",removedValue:U}),s.announceAriaLiveSelection({event:"remove-value",context:{value:U?s.getOptionLabel(U):""}}),s.focusInput()},s.clearValue=function(){s.onChange(null,{action:"clear"})},s.popValue=function(){var U=s.state.selectValue,q=U[U.length-1],Pe=U.slice(0,U.length-1);s.announceAriaLiveSelection({event:"pop-value",context:{value:q?s.getOptionLabel(q):""}}),s.onChange(Pe.length?Pe:null,{action:"pop-value",removedValue:q})},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var U=arguments.length,q=new Array(U),Pe=0;Pe<U;Pe++)q[Pe]=arguments[Pe];return G3.apply(void 0,[s.props.classNamePrefix].concat(q))},s.getOptionLabel=function(U){return s.props.getOptionLabel(U)},s.getOptionValue=function(U){return s.props.getOptionValue(U)},s.getStyles=function(U,q){var Pe=SM[U](q);Pe.boxSizing="border-box";var Me=s.props.styles[U];return Me?Me(Pe,q):Pe},s.getElementId=function(U){return"".concat(s.instancePrefix,"-").concat(U)},s.getActiveDescendentId=function(){var U=s.props.menuIsOpen,q=s.state,Pe=q.menuOptions,Me=q.focusedOption;if(!(!Me||!U)){var xe=Pe.focusable.indexOf(Me),Ve=Pe.render[xe];return Ve&&Ve.key}},s.announceAriaLiveSelection=function(U){var q=U.event,Pe=U.context;s.setState({ariaLiveSelection:vM(q,Pe)})},s.announceAriaLiveContext=function(U){var q=U.event,Pe=U.context;s.setState({ariaLiveContext:gM(q,Ws(Ws({},Pe),{},{label:s.props["aria-label"]}))})},s.onMenuMouseDown=function(U){U.button===0&&(U.stopPropagation(),U.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(U){s.blockOptionHover=!1},s.onControlMouseDown=function(U){var q=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?U.target.tagName!=="INPUT"&&U.target.tagName!=="TEXTAREA"&&s.onMenuClose():q&&s.openMenu("first"):(q&&(s.openAfterFocus=!0),s.focusInput()),U.target.tagName!=="INPUT"&&U.target.tagName!=="TEXTAREA"&&U.preventDefault()},s.onDropdownIndicatorMouseDown=function(U){if(!(U&&U.type==="mousedown"&&U.button!==0)&&!s.props.isDisabled){var q=s.props,Pe=q.isMulti,Me=q.menuIsOpen;s.focusInput(),Me?(s.inputIsHiddenAfterUpdate=!Pe,s.onMenuClose()):s.openMenu("first"),U.preventDefault(),U.stopPropagation()}},s.onClearIndicatorMouseDown=function(U){U&&U.type==="mousedown"&&U.button!==0||(s.clearValue(),U.stopPropagation(),s.openAfterFocus=!1,U.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(U){typeof s.props.closeMenuOnScroll=="boolean"?U.target instanceof HTMLElement&&yf(U.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(U)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(U){var q=U.touches,Pe=q&&q.item(0);Pe&&(s.initialTouchX=Pe.clientX,s.initialTouchY=Pe.clientY,s.userIsDragging=!1)},s.onTouchMove=function(U){var q=U.touches,Pe=q&&q.item(0);if(Pe){var Me=Math.abs(Pe.clientX-s.initialTouchX),xe=Math.abs(Pe.clientY-s.initialTouchY),Ve=5;s.userIsDragging=Me>Ve||xe>Ve}},s.onTouchEnd=function(U){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(U.target)&&s.menuListRef&&!s.menuListRef.contains(U.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(U){s.userIsDragging||s.onControlMouseDown(U)},s.onClearIndicatorTouchEnd=function(U){s.userIsDragging||s.onClearIndicatorMouseDown(U)},s.onDropdownIndicatorTouchEnd=function(U){s.userIsDragging||s.onDropdownIndicatorMouseDown(U)},s.handleInputChange=function(U){var q=U.currentTarget.value;s.inputIsHiddenAfterUpdate=!1,s.onInputChange(q,{action:"input-change"}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(U){var q=s.props,Pe=q.isSearchable,Me=q.isMulti;s.props.onFocus&&s.props.onFocus(U),s.inputIsHiddenAfterUpdate=!1,s.announceAriaLiveContext({event:"input",context:{isSearchable:Pe,isMulti:Me}}),s.setState({isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(U){if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(U),s.onInputChange("",{action:"input-blur"}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(U){s.blockOptionHover||s.state.focusedOption===U||s.setState({focusedOption:U})},s.shouldHideSelectedOptions=function(){var U=s.props,q=U.hideSelectedOptions,Pe=U.isMulti;return q===void 0?Pe:q},s.onKeyDown=function(U){var q=s.props,Pe=q.isMulti,Me=q.backspaceRemovesValue,xe=q.escapeClearsValue,Ve=q.inputValue,qe=q.isClearable,Ge=q.isDisabled,ut=q.menuIsOpen,bt=q.onKeyDown,Pt=q.tabSelectsValue,At=q.openMenuOnFocus,Lt=s.state,Dt=Lt.focusedOption,Ht=Lt.focusedValue,on=Lt.selectValue;if(!Ge&&!(typeof bt=="function"&&(bt(U),U.defaultPrevented))){switch(s.blockOptionHover=!0,U.key){case"ArrowLeft":if(!Pe||Ve)return;s.focusValue("previous");break;case"ArrowRight":if(!Pe||Ve)return;s.focusValue("next");break;case"Delete":case"Backspace":if(Ve)return;if(Ht)s.removeValue(Ht);else{if(!Me)return;Pe?s.popValue():qe&&s.clearValue()}break;case"Tab":if(s.isComposing||U.shiftKey||!ut||!Pt||!Dt||At&&s.isOptionSelected(Dt,on))return;s.selectOption(Dt);break;case"Enter":if(U.keyCode===229)break;if(ut){if(!Dt||s.isComposing)return;s.selectOption(Dt);break}return;case"Escape":ut?(s.inputIsHiddenAfterUpdate=!1,s.onInputChange("",{action:"menu-close"}),s.onMenuClose()):qe&&xe&&s.clearValue();break;case" ":if(Ve)return;if(!ut){s.openMenu("first");break}if(!Dt)return;s.selectOption(Dt);break;case"ArrowUp":ut?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":ut?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!ut)return;s.focusOption("pageup");break;case"PageDown":if(!ut)return;s.focusOption("pagedown");break;case"Home":if(!ut)return;s.focusOption("first");break;case"End":if(!ut)return;s.focusOption("last");break;default:return}U.preventDefault()}},s.buildMenuOptions=function(U,q){var Pe=U.inputValue,Me=Pe===void 0?"":Pe,xe=U.options,Ve=function(Ge,ut){var bt=s.isOptionDisabled(Ge,q),Pt=s.isOptionSelected(Ge,q),At=s.getOptionLabel(Ge),Lt=s.getOptionValue(Ge);if(!(s.shouldHideSelectedOptions()&&Pt||!s.filterOption({label:At,value:Lt,data:Ge},Me))){var Dt=bt?void 0:function(){return s.onOptionHover(Ge)},Ht=bt?void 0:function(){return s.selectOption(Ge)},on="".concat(s.getElementId("option"),"-").concat(ut);return{innerProps:{id:on,onClick:Ht,onMouseMove:Dt,onMouseOver:Dt,tabIndex:-1},data:Ge,isDisabled:bt,isSelected:Pt,key:on,label:At,type:"option",value:Lt}}};return xe.reduce(function(qe,Ge,ut){if(Ge.options){s.hasGroups||(s.hasGroups=!0);var bt=Ge.options,Pt=bt.map(function(Dt,Ht){var on=Ve(Dt,"".concat(ut,"-").concat(Ht));return on&&qe.focusable.push(Dt),on}).filter(Boolean);if(Pt.length){var At="".concat(s.getElementId("group"),"-").concat(ut);qe.render.push({type:"group",key:At,data:Ge,options:Pt})}}else{var Lt=Ve(Ge,"".concat(ut));Lt&&(qe.render.push(Lt),qe.focusable.push(Ge))}return qe},{render:[],focusable:[]})};var M=i.value;s.cacheComponents=j_(s.cacheComponents,dD).bind(gf(s)),s.cacheComponents(i.components),s.instancePrefix="react-select-"+(s.props.instanceId||++LM);var k=H_(M);s.buildMenuOptions=j_(s.buildMenuOptions,function(U,q){var Pe=U,Me=B_(Pe,2),xe=Me[0],Ve=Me[1],qe=q,Ge=B_(qe,2),ut=Ge[0],bt=Ge[1];return Ve===bt&&xe.inputValue===ut.inputValue&&xe.options===ut.options}).bind(gf(s));var j=i.menuIsOpen?s.buildMenuOptions(i,k):{render:[],focusable:[]};return s.state.menuOptions=j,s.state.selectValue=k,s}return Ga(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"UNSAFE_componentWillReceiveProps",value:function(s){var M=this.props,k=M.options,j=M.value,U=M.menuIsOpen,q=M.inputValue;if(this.cacheComponents(s.components),s.value!==j||s.options!==k||s.menuIsOpen!==U||s.inputValue!==q){var Pe=H_(s.value),Me=s.menuIsOpen?this.buildMenuOptions(s,Pe):{render:[],focusable:[]},xe=this.getNextFocusedValue(Pe),Ve=this.getNextFocusedOption(Me.focusable);this.setState({menuOptions:Me,selectValue:Pe,focusedOption:Ve,focusedValue:xe})}this.inputIsHiddenAfterUpdate!=null&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:"componentDidUpdate",value:function(s){var M=this.props,k=M.isDisabled,j=M.menuIsOpen,U=this.state.isFocused;(U&&!k&&s.isDisabled||U&&j&&!s.menuIsOpen)&&this.focusInput(),U&&k&&!s.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(J3(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){var s=this.props,M=s.isSearchable,k=s.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:M,isMulti:k}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,M){this.props.onInputChange(s,M)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var M=this,k=this.state,j=k.selectValue,U=k.isFocused,q=this.buildMenuOptions(this.props,j),Pe=this.props,Me=Pe.isMulti,xe=Pe.tabSelectsValue,Ve=s==="first"?0:q.focusable.length-1;if(!Me){var qe=q.focusable.indexOf(j[0]);qe>-1&&(Ve=qe)}this.scrollToFocusedOptionOnUpdate=!(U&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.setState({menuOptions:q,focusedValue:null,focusedOption:q.focusable[Ve]},function(){M.onMenuOpen(),M.announceAriaLiveContext({event:"menu",context:{tabSelectsValue:xe}})})}},{key:"focusValue",value:function(s){var M=this.props,k=M.isMulti,j=M.isSearchable,U=this.state,q=U.selectValue,Pe=U.focusedValue;if(k){this.setState({focusedOption:null});var Me=q.indexOf(Pe);Pe||(Me=-1,this.announceAriaLiveContext({event:"value"}));var xe=q.length-1,Ve=-1;if(q.length){switch(s){case"previous":Me===0?Ve=0:Me===-1?Ve=xe:Ve=Me-1;break;case"next":Me>-1&&Me<xe&&(Ve=Me+1);break}Ve===-1&&this.announceAriaLiveContext({event:"input",context:{isSearchable:j,isMulti:k}}),this.setState({inputIsHidden:Ve!==-1,focusedValue:q[Ve]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",M=this.props,k=M.pageSize,j=M.tabSelectsValue,U=this.state,q=U.focusedOption,Pe=U.menuOptions,Me=Pe.focusable;if(Me.length){var xe=0,Ve=Me.indexOf(q);q||(Ve=-1,this.announceAriaLiveContext({event:"menu",context:{tabSelectsValue:j}})),s==="up"?xe=Ve>0?Ve-1:Me.length-1:s==="down"?xe=(Ve+1)%Me.length:s==="pageup"?(xe=Ve-k,xe<0&&(xe=0)):s==="pagedown"?(xe=Ve+k,xe>Me.length-1&&(xe=Me.length-1)):s==="last"&&(xe=Me.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:Me[xe],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:Sg(Me[xe]),tabSelectsValue:j}})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Df):Ws(Ws({},Df),this.props.theme):Df}},{key:"getCommonProps",value:function(){var s=this.clearValue,M=this.cx,k=this.getStyles,j=this.getValue,U=this.setValue,q=this.selectOption,Pe=this.props,Me=Pe.isMulti,xe=Pe.isRtl,Ve=Pe.options,qe=this.hasValue();return{cx:M,clearValue:s,getStyles:k,getValue:j,hasValue:qe,isMulti:Me,isRtl:xe,options:Ve,selectOption:q,setValue:U,selectProps:Pe,theme:this.getTheme()}}},{key:"getNextFocusedValue",value:function(s){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var M=this.state,k=M.focusedValue,j=M.selectValue,U=j.indexOf(k);if(U>-1){var q=s.indexOf(k);if(q>-1)return k;if(U<s.length)return s[U]}return null}},{key:"getNextFocusedOption",value:function(s){var M=this.state.focusedOption;return M&&s.indexOf(M)>-1?M:s[0]}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var s=this.props,M=s.isClearable,k=s.isMulti;return M===void 0?k:M}},{key:"isOptionDisabled",value:function(s,M){return typeof this.props.isOptionDisabled=="function"?this.props.isOptionDisabled(s,M):!1}},{key:"isOptionSelected",value:function(s,M){var k=this;if(M.indexOf(s)>-1)return!0;if(typeof this.props.isOptionSelected=="function")return this.props.isOptionSelected(s,M);var j=this.getOptionValue(s);return M.some(function(U){return k.getOptionValue(U)===j})}},{key:"filterOption",value:function(s,M){return this.props.filterOption?this.props.filterOption(s,M):!0}},{key:"formatOptionLabel",value:function(s,M){if(typeof this.props.formatOptionLabel=="function"){var k=this.props.inputValue,j=this.state.selectValue;return this.props.formatOptionLabel(s,{context:M,inputValue:k,selectValue:j})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"constructAriaLiveMessage",value:function(){var s=this.state,M=s.ariaLiveContext,k=s.selectValue,j=s.focusedValue,U=s.focusedOption,q=this.props,Pe=q.options,Me=q.menuIsOpen,xe=q.inputValue,Ve=q.screenReaderStatus,qe=j?yM({focusedValue:j,getOptionLabel:this.getOptionLabel,selectValue:k}):"",Ge=U&&Me?bM({focusedOption:U,getOptionLabel:this.getOptionLabel,options:Pe}):"",ut=PM({inputValue:xe,screenReaderMessage:Ve({count:this.countOptions()})});return"".concat(qe," ").concat(Ge," ").concat(ut," ").concat(M)}},{key:"renderInput",value:function(){var s=this.props,M=s.isDisabled,k=s.isSearchable,j=s.inputId,U=s.inputValue,q=s.tabIndex,Pe=s.form,Me=this.components.Input,xe=this.state.inputIsHidden,Ve=j||this.getElementId("input"),qe={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};if(!k)return sn.default.createElement(oM,uo({id:Ve,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:W_,onFocus:this.onInputFocus,readOnly:!0,disabled:M,tabIndex:q,form:Pe,value:""},qe));var Ge=this.commonProps,ut=Ge.cx,bt=Ge.theme,Pt=Ge.selectProps;return sn.default.createElement(Me,uo({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:ut,getStyles:this.getStyles,id:Ve,innerRef:this.getInputRef,isDisabled:M,isHidden:xe,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:Pt,spellCheck:"false",tabIndex:q,form:Pe,theme:bt,type:"text",value:U},qe))}},{key:"renderPlaceholderOrValue",value:function(){var s=this,M=this.components,k=M.MultiValue,j=M.MultiValueContainer,U=M.MultiValueLabel,q=M.MultiValueRemove,Pe=M.SingleValue,Me=M.Placeholder,xe=this.commonProps,Ve=this.props,qe=Ve.controlShouldRenderValue,Ge=Ve.isDisabled,ut=Ve.isMulti,bt=Ve.inputValue,Pt=Ve.placeholder,At=this.state,Lt=At.selectValue,Dt=At.focusedValue,Ht=At.isFocused;if(!this.hasValue()||!qe)return bt?null:sn.default.createElement(Me,uo({},xe,{key:"placeholder",isDisabled:Ge,isFocused:Ht}),Pt);if(ut){var on=Lt.map(function(an,mn){var rr=an===Dt;return sn.default.createElement(k,uo({},xe,{components:{Container:j,Label:U,Remove:q},isFocused:rr,isDisabled:Ge,key:"".concat(s.getOptionValue(an)).concat(mn),index:mn,removeProps:{onClick:function(){return s.removeValue(an)},onTouchEnd:function(){return s.removeValue(an)},onMouseDown:function(Vn){Vn.preventDefault(),Vn.stopPropagation()}},data:an}),s.formatOptionLabel(an,"value"))});return on}if(bt)return null;var hn=Lt[0];return sn.default.createElement(Pe,uo({},xe,{data:hn,isDisabled:Ge}),this.formatOptionLabel(hn,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.components.ClearIndicator,M=this.commonProps,k=this.props,j=k.isDisabled,U=k.isLoading,q=this.state.isFocused;if(!this.isClearable()||!s||j||!this.hasValue()||U)return null;var Pe={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return sn.default.createElement(s,uo({},M,{innerProps:Pe,isFocused:q}))}},{key:"renderLoadingIndicator",value:function(){var s=this.components.LoadingIndicator,M=this.commonProps,k=this.props,j=k.isDisabled,U=k.isLoading,q=this.state.isFocused;if(!s||!U)return null;var Pe={"aria-hidden":"true"};return sn.default.createElement(s,uo({},M,{innerProps:Pe,isDisabled:j,isFocused:q}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.components,M=s.DropdownIndicator,k=s.IndicatorSeparator;if(!M||!k)return null;var j=this.commonProps,U=this.props.isDisabled,q=this.state.isFocused;return sn.default.createElement(k,uo({},j,{isDisabled:U,isFocused:q}))}},{key:"renderDropdownIndicator",value:function(){var s=this.components.DropdownIndicator;if(!s)return null;var M=this.commonProps,k=this.props.isDisabled,j=this.state.isFocused,U={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return sn.default.createElement(s,uo({},M,{innerProps:U,isDisabled:k,isFocused:j}))}},{key:"renderMenu",value:function(){var s=this,M=this.components,k=M.Group,j=M.GroupHeading,U=M.Menu,q=M.MenuList,Pe=M.MenuPortal,Me=M.LoadingMessage,xe=M.NoOptionsMessage,Ve=M.Option,qe=this.commonProps,Ge=this.state,ut=Ge.focusedOption,bt=Ge.menuOptions,Pt=this.props,At=Pt.captureMenuScroll,Lt=Pt.inputValue,Dt=Pt.isLoading,Ht=Pt.loadingMessage,on=Pt.minMenuHeight,hn=Pt.maxMenuHeight,an=Pt.menuIsOpen,mn=Pt.menuPlacement,rr=Pt.menuPosition,Gn=Pt.menuPortalTarget,Vn=Pt.menuShouldBlockScroll,_n=Pt.menuShouldScrollIntoView,jn=Pt.noOptionsMessage,_r=Pt.onMenuScrollToTop,nr=Pt.onMenuScrollToBottom;if(!an)return null;var qn=function(Sn){var Yt=ut===Sn.data;return Sn.innerRef=Yt?s.getFocusedOptionRef:void 0,sn.default.createElement(Ve,uo({},qe,Sn,{isFocused:Yt}),s.formatOptionLabel(Sn.data,"menu"))},Rn;if(this.hasOptions())Rn=bt.render.map(function(qt){if(qt.type==="group"){var Sn=qt.type,Yt=ms(qt,["type"]),ir="".concat(qt.key,"-heading");return sn.default.createElement(k,uo({},qe,Yt,{Heading:j,headingProps:{id:ir,data:qt.data},label:s.formatGroupLabel(qt.data)}),qt.options.map(function(Pn){return qn(Pn)}))}else if(qt.type==="option")return qn(qt)});else if(Dt){var Bn=Ht({inputValue:Lt});if(Bn===null)return null;Rn=sn.default.createElement(Me,qe,Bn)}else{var cr=jn({inputValue:Lt});if(cr===null)return null;Rn=sn.default.createElement(xe,qe,cr)}var Ln={minMenuHeight:on,maxMenuHeight:hn,menuPlacement:mn,menuPosition:rr,menuShouldScrollIntoView:_n},er=sn.default.createElement(Y_,uo({},qe,Ln),function(qt){var Sn=qt.ref,Yt=qt.placerProps,ir=Yt.placement,Pn=Yt.maxHeight;return sn.default.createElement(U,uo({},qe,Ln,{innerRef:Sn,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:Dt,placement:ir}),sn.default.createElement(_M,{isEnabled:At,onTopArrive:_r,onBottomArrive:nr},sn.default.createElement(fM,{isEnabled:Vn},sn.default.createElement(q,uo({},qe,{innerRef:s.getMenuListRef,isLoading:Dt,maxHeight:Pn}),Rn))))});return Gn||rr==="fixed"?sn.default.createElement(Pe,uo({},qe,{appendTo:Gn,controlElement:this.controlRef,menuPlacement:mn,menuPosition:rr}),er):er}},{key:"renderFormField",value:function(){var s=this,M=this.props,k=M.delimiter,j=M.isDisabled,U=M.isMulti,q=M.name,Pe=this.state.selectValue;if(!(!q||j))if(U)if(k){var Me=Pe.map(function(qe){return s.getOptionValue(qe)}).join(k);return sn.default.createElement("input",{name:q,type:"hidden",value:Me})}else{var xe=Pe.length>0?Pe.map(function(qe,Ge){return sn.default.createElement("input",{key:"i-".concat(Ge),name:q,type:"hidden",value:s.getOptionValue(qe)})}):sn.default.createElement("input",{name:q,type:"hidden"});return sn.default.createElement("div",null,xe)}else{var Ve=Pe[0]?this.getOptionValue(Pe[0]):"";return sn.default.createElement("input",{name:q,type:"hidden",value:Ve})}}},{key:"renderLiveRegion",value:function(){return this.state.isFocused?sn.default.createElement(rM,{"aria-live":"polite"},sn.default.createElement("span",{id:"aria-selection-event"},"\xA0",this.state.ariaLiveSelection),sn.default.createElement("span",{id:"aria-context"},"\xA0",this.constructAriaLiveMessage())):null}},{key:"render",value:function(){var s=this.components,M=s.Control,k=s.IndicatorsContainer,j=s.SelectContainer,U=s.ValueContainer,q=this.props,Pe=q.className,Me=q.id,xe=q.isDisabled,Ve=q.menuIsOpen,qe=this.state.isFocused,Ge=this.commonProps=this.getCommonProps();return sn.default.createElement(j,uo({},Ge,{className:Pe,innerProps:{id:Me,onKeyDown:this.onKeyDown},isDisabled:xe,isFocused:qe}),this.renderLiveRegion(),sn.default.createElement(M,uo({},Ge,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:xe,isFocused:qe,menuIsOpen:Ve}),sn.default.createElement(U,uo({},Ge,{isDisabled:xe}),this.renderPlaceholderOrValue(),this.renderInput()),sn.default.createElement(k,uo({},Ge,{isDisabled:xe}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),r}(sn.Component);Mg.defaultProps=RM;function kM(n){var t=BM();return function(){var i=Ni(n),s;if(t){var M=Ni(this).constructor;s=Reflect.construct(i,arguments,M)}else s=i.apply(this,arguments);return _s(this,s)}}function BM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var UM={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},FM=function(t){var r,i;return i=r=function(s){Za(k,s);var M=kM(k);function k(){var j;za(this,k);for(var U=arguments.length,q=new Array(U),Pe=0;Pe<U;Pe++)q[Pe]=arguments[Pe];return j=M.call.apply(M,[this].concat(q)),j.select=void 0,j.state={inputValue:j.props.inputValue!==void 0?j.props.inputValue:j.props.defaultInputValue,menuIsOpen:j.props.menuIsOpen!==void 0?j.props.menuIsOpen:j.props.defaultMenuIsOpen,value:j.props.value!==void 0?j.props.value:j.props.defaultValue},j.onChange=function(Me,xe){j.callProp("onChange",Me,xe),j.setState({value:Me})},j.onInputChange=function(Me,xe){var Ve=j.callProp("onInputChange",Me,xe);j.setState({inputValue:Ve!==void 0?Ve:Me})},j.onMenuOpen=function(){j.callProp("onMenuOpen"),j.setState({menuIsOpen:!0})},j.onMenuClose=function(){j.callProp("onMenuClose"),j.setState({menuIsOpen:!1})},j}return Ga(k,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(U){return this.props[U]!==void 0?this.props[U]:this.state[U]}},{key:"callProp",value:function(U){if(typeof this.props[U]=="function"){for(var q,Pe=arguments.length,Me=new Array(Pe>1?Pe-1:0),xe=1;xe<Pe;xe++)Me[xe-1]=arguments[xe];return(q=this.props)[U].apply(q,Me)}}},{key:"render",value:function(){var U=this,q=this.props,Pe=q.defaultInputValue,Me=q.defaultMenuIsOpen,xe=q.defaultValue,Ve=ms(q,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return sn.default.createElement(t,uo({},Ve,{ref:function(Ge){U.select=Ge},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),k}(sn.Component),r.defaultProps=UM,i};function uK(n){var t=jM();return function(){var i=_getPrototypeOf(n),s;if(t){var M=_getPrototypeOf(this).constructor;s=Reflect.construct(i,arguments,M)}else s=i.apply(this,arguments);return _possibleConstructorReturn(this,s)}}function jM(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(n){return!1}}var cK=null,WM=FM(Mg);const HM=WM;var VM=Object.defineProperty,xg=Object.getOwnPropertySymbols,KM=Object.prototype.hasOwnProperty,$M=Object.prototype.propertyIsEnumerable,Ag=(n,t,r)=>t in n?VM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ng=(n,t)=>{for(var r in t||(t={}))KM.call(t,r)&&Ag(n,r,t[r]);if(xg)for(var r of xg(t))$M.call(t,r)&&Ag(n,r,t[r]);return n};const Rg=(0,e.createContext)({publication:{},pub:{},setPublication:({pub:n,publication:t})=>{}});Rg.displayName="PublishContext";const dK=n=>{const t=r=>{const i=Lg();return h(n,Ng(Ng({},i),r))};return t.displayName=`withPublishContext(${n.name||n.displayName||"Anonymous"})`,t},Lg=()=>(0,o.qp)(Rg);var zM=Object.defineProperty,GM=Object.defineProperties,ZM=Object.getOwnPropertyDescriptors,sc=Object.getOwnPropertySymbols,kg=Object.prototype.hasOwnProperty,Bg=Object.prototype.propertyIsEnumerable,Ug=(n,t,r)=>t in n?zM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,gs=(n,t)=>{for(var r in t||(t={}))kg.call(t,r)&&Ug(n,r,t[r]);if(sc)for(var r of sc(t))Bg.call(t,r)&&Ug(n,r,t[r]);return n},lc=(n,t)=>GM(n,ZM(t)),YM=(n,t)=>{var r={};for(var i in n)kg.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&sc)for(var i of sc(n))t.indexOf(i)<0&&Bg.call(n,i)&&(r[i]=n[i]);return r};const JM=()=>null,Fg=n=>{var t=n,{variant:r="default",isSearchable:i=!1,className:s}=t,M=YM(t,["variant","isSearchable","className"]),k,j;const{pub:U}=Lg();return(0,e.h)(HM,lc(gs({},M),{isDisabled:M.isDisabled,className:u()("themed-select",s),components:gs({IndicatorSeparator:JM},M.components),theme:(0,y.getSelectTheme)({primary:((k=U.theme)==null?void 0:k.background_pop_color)||U.theme_var_background_pop||"#1a1a1a",neutral0:r==="light"?"white":(j=U.theme)==null?void 0:j.web_bg_color}),isSearchable:i,styles:gs(gs({container:q=>lc(gs({},q),{flex:1}),dropdownIndicator:q=>lc(gs({},q),{color:"#1a1a1a"})},M.showOnlyIndicator&&{valueContainer:q=>lc(gs({},q),{width:0,padding:0})}),M.styles)}))};var XM=Object.defineProperty,QM=Object.defineProperties,qM=Object.getOwnPropertyDescriptors,jg=Object.getOwnPropertySymbols,e9=Object.prototype.hasOwnProperty,t9=Object.prototype.propertyIsEnumerable,Wg=(n,t,r)=>t in n?XM(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Hg=(n,t)=>{for(var r in t||(t={}))e9.call(t,r)&&Wg(n,r,t[r]);if(jg)for(var r of jg(t))t9.call(t,r)&&Wg(n,r,t[r]);return n},n9=(n,t)=>QM(n,qM(t)),Tl=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const Vg=2,Kg=5,r9=35,o9=255,i9=({isExpired:n,isPublished:t,remainingHours:r})=>n?"POLL CLOSED":t?r>=168?"":r>=48?`${Math.floor(r/24)} DAYS REMAINING`:r>=24?"1 DAY REMAINING":r>=2?`${r} HOURS REMAINING`:r==1?"1 HOUR REMAINING":"LESS THAN 1 HOUR REMAINING":"NOT PUBLISHED",Mf=n=>n>1?`Choice ${n+1} (optional)`:`Choice ${n+1}`,a9=({question:n,expiry:t,audience:r,options:i})=>{const s=i.filter(Boolean);if(n.length<1||n.length>255)return"The question must be between 1 and 255 characters long.";if(s.length<2||s.length>5)return"Your poll must have 2 to 5 options.";if(s.some(M=>M.length<1||M.length>50))return"Each option must be between 1 and 50 characters long.";if(["all_subscribers","only_paid"].includes(r)){if(![1,24,72,168,999999].includes(t))return"The length of your poll is invalid."}else return"Your poll audience is invalid.";return null},s9=({index:n,text:t,onChange:r,onDelete:i,showDeleteButton:s,disabled:M})=>(0,e.h)("div",{className:"poll-option-editor"},(0,e.h)("input",{type:"text",onChange:k=>{r(n,k.currentTarget.value)},value:t,disabled:M,placeholder:Mf(n),maxLength:r9}),(0,e.h)("button",{className:u()("poll-remove-option",{"is-hidden":!s}),onClick:()=>i(n),disabled:M,tabIndex:s?void 0:-1},(0,e.h)(Ls.Z,null))),l9=({poll:n,isOpen:t,onClose:r,onSave:i,isPublished:s,totalVotes:M,shouldShowAudiencePicker:k})=>{let j=n.options.map(qn=>qn.label);j.length>1?j.length<Kg&&j.push(""):j=["",""];const{payments_state:U}=(0,Cd.I)()||{},q=k&&U==="enabled"?"only_paid":"all_subscribers",[Pe,Me]=(0,o.eJ)(n.question||""),[xe,Ve]=(0,o.eJ)(j),[qe,Ge]=(0,o.eJ)(n.expiry||24),[ut,bt]=(0,o.eJ)(n.audience||q),[Pt,At]=(0,o.eJ)(!1),[Lt,Dt]=(0,o.eJ)(n.votes_hidden||!1),[Ht,on]=(0,o.eJ)(null),hn=a9({question:Pe,options:xe,expiry:qe,audience:ut,votes_hidden:Lt}),an=(0,o.I4)(()=>{var qn;Me(n.question||""),Ve(((qn=n.options)==null?void 0:qn.map(Rn=>Rn.label))||["",""]),Ge(n.expiry||24),bt(n.audience||q),Dt(n.votes_hidden||!1),on(null),r()},[Me,Ve,Ge,bt,n,r]),mn=(0,o.I4)(({value:qn})=>{["only_paid","all_subscribers"].includes(qn)&&bt(qn)},[bt]),rr=ut==="only_paid"?"Only paid subscribers":"All subscribers who can see this post",Gn=(0,o.I4)(({value:qn})=>{const Rn=Number(qn);[1,24,72,168,999999].includes(Rn)&&Ge(Rn)},[Ge]),Vn=qe===1?"1 hour":qe===24?"1 day":qe===72?"3 days":qe===168?"1 week":"Forever",_n=(0,o.I4)((qn,Rn)=>{const Bn=[...xe];Bn.splice(qn,1,Rn),qn===Bn.length-1&&Bn.length<Kg&&Bn.push(""),Ve(Bn)},[xe,Ve]),jn=(0,o.I4)(qn=>{if(xe.length<=Vg||qn>=xe.length)return;const Rn=[...xe];Rn.splice(qn,1),Rn[Rn.length-1].length&&Rn.push(""),Ve(Rn)},[xe,Ve]),_r=Array(Math.max(2,xe.length||0)).fill("").map((qn,Rn)=>xe.length>Rn?xe[Rn]:qn),nr=Ht||s&&`This poll is part of a post that has already been published. If you modify it, ${M} existing ${M===1?"vote":"votes"} will be removed.`;return(0,e.h)(ta.u_,{className:"poll-editor-modal",isOpen:t,onClose:r},(0,e.h)("div",{className:"poll-editor"},(0,e.h)("div",{className:"poll-editor-section question-section"},(0,e.h)("input",{className:"poll-question-editor",type:"text",value:Pe,onChange:qn=>Me(qn.currentTarget.value),placeholder:"Enter your question...",disabled:Pt,maxLength:o9})),(0,e.h)("div",{className:"poll-editor-section options-section"},(0,e.h)("div",{className:"poll-options-editor"},_r.map((qn,Rn)=>(0,e.h)(s9,{index:Rn,text:qn,onChange:_n,onDelete:jn,disabled:Pt,showDeleteButton:_r.length>Vg&&(Rn<_r.length-1||qn.length>0)})))),(0,e.h)("div",{className:"poll-editor-section length-section"},(0,e.h)("div",{className:"poll-section-title"},"Length"),(0,e.h)(Fg,{options:[{label:"1 hour",value:"1"},{label:"1 day",value:"24"},{label:"3 days",value:"72"},{label:"1 week",value:"168"},{label:"Forever",value:"999999"}],isDisabled:Pt,value:{label:Vn,value:String(qe)},onChange:Gn})),k&&U==="enabled"&&(0,e.h)("div",{className:"poll-editor-section audience-section"},(0,e.h)("div",{className:"poll-section-title"},"Who can vote?"),(0,e.h)(Fg,{options:[{label:"Only paid subscribers",value:"only_paid"},{label:"All subscribers who can see this post",value:"all_subscribers"}],isDisabled:Pt,value:{label:rr,value:ut},onChange:mn})),(0,e.h)("div",{className:"poll-editor-section vote-visibility-section"},(0,e.h)(E_.p,{checked:Lt,onChange:()=>Dt(!Lt),label:"Hide the total vote count from readers?",name:"votes-hidden"})),(0,e.h)("div",{className:"poll-editor-section action-section"},nr&&(0,e.h)("div",{className:"edit-warning"},nr),(0,e.h)("div",{className:"action-buttons"},(0,e.h)(sa.z,{className:"button btn btn-secondary poll-editor-cancel-button",variant:"secondary",look:"button",onClick:an,disabled:Pt},"Cancel"),(0,e.h)(i3.L,{content:hn,className:u()("inverse",{disabled:hn===null})},(0,e.h)(sa.z,{className:"button btn btn-primary poll-editor-confirm-button",variant:"primary",look:"button",onClick:()=>Tl(void 0,null,function*(){At(!0);try{yield i({audience:ut,question:Pe,options:xe.filter(Boolean),expiry:qe,votes_hidden:Lt})}catch(qn){on("An error occurred while saving this poll.")}At(!1)}),disabled:hn!==null||Pt},"Save"))))))},u9=({id:n,text:t,onVote:r,showVotes:i,currentVotes:s,totalVotes:M,myVote:k,canVote:j})=>{const U=(0,o.I4)(()=>Tl(void 0,null,function*(){n&&(yield r(n))}),[n,r]),q=Math.round(100*(M===0?0:s/M));return(0,e.h)("div",{className:u()("poll-option",{"show-votes":i,"hide-votes":!i,"can-vote":j,"my-vote":k}),onClick:U},i&&(0,e.h)("div",{className:"poll-vote-background",style:{width:`${q}%`}}),(0,e.h)("div",{className:"poll-option-background"},(0,e.h)("div",{className:"poll-option-text"},t,i&&k&&(0,e.h)(Vp,{className:"vote-icon"}))),i&&(0,e.h)("div",{className:"poll-percentage-text"},q,"%"))},c9=({id:n,isEditor:t,post:r,pub:i,isVersionView:s})=>{var M,k,j;const[U,q]=(0,o.eJ)(!1),[Pe,Me]=(0,o.eJ)(!0),[xe,Ve]=(0,o.eJ)(null),[qe,Ge]=(0,o.eJ)(null),[ut,bt]=(0,o.eJ)(!0),[Pt,At]=(0,o.eJ)(s!=null?s:!1),Lt=(0,ti.pm)(),Dt={token:void 0,uuid:void 0};if(typeof window!="undefined"&&!t){const $n=(0,v.parseQuery)(window.location.href);if($n&&$n.token&&(Dt.token=$n.token),!Dt.token&&((M=window._preloads)!=null&&M.original_url)){const Cr=(0,v.parseQuery)(window._preloads.original_url);Cr&&Cr.token&&(Dt.token=Cr.token)}}if(typeof window!="undefined"&&!t&&r.is_draft){const $n=(0,v.getPostSlug)(window.location.href);$n&&(0,Ne.isUUID)($n)&&(Dt.uuid=$n)}const Ht=(0,ls.aF)()||{},on=Hg({is_subscribed:!1,is_free_subscribed:!1,is_contributor:!1,is_author:!1,is_admin:!1},Ht),{is_subscribed:hn,is_admin:an,is_contributor:mn,is_author:rr}=on;let{is_free_subscribed:Gn}=on;X4()&&(Gn=!0);const Vn=mn||an||rr,_n=Tr()(),jn=xe&&xe.published_at&&Tr()(xe.published_at).add(xe.expiry,"hour"),_r=jn&&jn.diff(_n,"hour"),qn=(xe==null?void 0:xe.audience)==="only_paid"?hn:Gn,Rn=xe&&xe.options.some($n=>$n.my_vote),Bn=!!(xe!=null&&xe.is_published),cr=Bn&&jn&&jn.isBefore(_n),Ln=t&&((xe==null?void 0:xe.post_type)!=="adhoc_email"||!Bn),er=(0,o.sO)(null),qt=!Rn&&Bn&&!cr&&qn,Sn=(xe==null?void 0:xe.total_votes)==1?"1 VOTE":`${xe==null?void 0:xe.total_votes} VOTES`,Yt=i9({isExpired:cr,isPublished:Bn,remainingHours:_r}),ir=(0,o.I4)((...$n)=>Tl(void 0,[...$n],function*({shouldNotSetLoading:Cr}={shouldNotSetLoading:!1}){Cr||Me(!0);try{const Er=yield ge()(`/api/v1/poll/${n}`).query(Dt);Ve(Er.body),Ge(null)}catch(Er){Ge("We were unable to load this poll. Please refresh the page.")}Me(!1)}),[n,Me,Ve]);(0,o.d4)(()=>{ir()},[ir]);const Pn=(0,o.I4)($n=>Tl(void 0,null,function*(){try{yield ge().put(`/api/v1/poll/${n}`).send($n)}catch(Cr){return Cr}return q(!1),Me(!0),yield ir(),null}),[n,Me,ir]),gr=(0,o.I4)($n=>Tl(void 0,null,function*(){var Cr;if(!qn&&Bn&&!cr&&!Ln){(Cr=er.current)==null||Cr.open();return}if(!(Ln||!qt||Pt)){At(!0);try{yield ge().post(`/api/v1/poll/${n}/vote`).send({poll_option_id:$n}).query(Dt),Ge(null)}catch(Er){Ge("We were unable to record your vote. Please refresh the page and try again."),At(!1);return}yield ir({shouldNotSetLoading:!0}),At(!1)}}),[Ln,qt,Pt,At,n,ir,qn,Bn,cr]),fr=Ln?Array(Math.max(2,((k=xe==null?void 0:xe.options)==null?void 0:k.length)||0)).fill("").map(($n,Cr)=>{var Er;return xe&&((Er=xe.options)==null?void 0:Er.length)>Cr?xe.options[Cr].label:Mf(Cr)}):(j=xe==null?void 0:xe.options)==null?void 0:j.map($n=>$n.label);if(qe!==null&&!xe)return(0,e.h)("div",{className:"poll-wrapper poll-web"},(0,e.h)("div",{className:"poll-error"},qe));const Nr=t?null:`${(0,v.getPostUrl)(i,r)}#poll-${n}`;return(0,e.h)(me.tu,{className:"poll-wrapper poll-web",gap:24,"data-component-name":"Poll"},Nr&&(0,e.h)("div",{className:"poll-anchor-target",id:`poll-${n}`},(0,e.h)("div",{className:"poll-anchor-copy-button",onClick:$n=>{location!=null&&location.href&&($n.preventDefault(),(0,y.copyToClipboard)(Nr),Lt.popToast(Cr=>(0,e.h)(ti.FN,n9(Hg({},Cr),{text:"Link copied",Icon:fl.Z}))))}},(0,e.h)("a",{href:Nr},(0,e.h)(fl.Z,{size:20})))),Ln&&xe&&(0,e.h)(l9,{poll:xe,isOpen:U,onClose:()=>{q(!1)},isPublished:Bn,totalVotes:(xe==null?void 0:xe.total_votes)||0,onSave:Pn,shouldShowAudiencePicker:(xe==null?void 0:xe.post_type)!=="adhoc_email"}),!t&&xe&&(0,e.h)(o3,{ref:er,noCloseButton:!0,className:"poll-dialog",pub:i,post:r,user:Ht,pollId:xe.id,audience:xe.audience}),Pe?(0,e.h)(me.tu,{gap:8,paddingY:48,alignItems:"center",justifyContent:"center"},(0,e.h)(J.xv.Meta,null,"Loading...")):(0,e.h)(e.Fragment,null,Ln&&(0,e.h)("button",{className:"poll-edit",onClick:()=>{q(!0)},disabled:Pe},(0,e.h)(Y4.Z,{height:20})),(0,e.h)(me.tu,{gap:4},(0,e.h)(me.gq,{className:"poll-title",alignItems:"baseline",gap:4},(xe==null?void 0:xe.audience)==="only_paid"?(0,e.h)(e.Fragment,null,(0,e.h)(Nu.Z,{size:16}),(0,e.h)(J.xv.Meta,{className:"subscriber-only-poll"},"SUBSCRIBER-ONLY POLL")):(0,e.h)(J.xv.Meta,null,"POLL")),(0,e.h)(J.xv.H3,{className:"poll-question",color:"pub-primary-text"},(xe==null?void 0:xe.question)||"New Poll")),qe!==null&&(0,e.h)("div",{className:"poll-error"},qe),(0,e.h)(me.tu,{gap:12,className:u()("poll-options",{"no-margins":!Bn})},fr.map(($n,Cr)=>{var Er,kr,fo;return(0,e.h)(u9,{id:((Er=xe==null?void 0:xe.options[Cr])==null?void 0:Er.id)||null,text:$n,canVote:!Rn&&Bn&&!cr&&(!t||(xe==null?void 0:xe.post_type)==="adhoc_email"),onVote:gr,showVotes:Rn||cr||Vn&&ut,totalVotes:(xe==null?void 0:xe.total_votes)||0,currentVotes:((kr=xe==null?void 0:xe.options[Cr])==null?void 0:kr.votes)||0,myVote:((fo=xe==null?void 0:xe.options[Cr])==null?void 0:fo.my_vote)||!1})})),Bn&&(0,e.h)(J.xv.Meta,{className:"poll-status"},(Vn||!xe.votes_hidden)&&`${Sn} \xB7 `,Yt,Vn&&!Rn&&!cr&&(0,e.h)(e.Fragment,null," \xB7 ",(0,e.h)("span",{className:"poll-author-visibility-toggle",title:"Only the author, contributors, and admins may view results before voting.",onClick:()=>{bt(!ut)}},ut?"SHOW OPTIONS":"SHOW RESULTS")))))},d9=({id:n,embeddedPolls:t})=>{const r=t.find(i=>i.id===n);return r?(0,e.h)(qr.YF,{className:"poll-email-wrapper","data-component-name":"StaticPoll"},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(qr.YF,{width:"100%"},(0,e.h)("tr",null,(0,e.h)("td",{className:"poll-header"},(r==null?void 0:r.audience)==="only_paid"?"SUBSCRIBER-ONLY POLL":"POLL")),(0,e.h)("tr",{className:"poll-question",width:"100%"},(0,e.h)("td",null,r.question||"New Poll")),(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(qr.YF,{className:"poll-options",width:"100%"},r.options.map(({label:i,id:s},M)=>(0,e.h)("tr",null,(0,e.h)("td",{className:"poll-option",width:"100%"},(0,e.h)("a",{className:"poll-vote-link",href:`%%poll_vote_option_${s}_url%%`,width:"100%"},(0,e.h)("div",{className:"poll-vote-contents"},i||Mf(M))))))))))))):(0,e.h)("table",{className:"poll-wrapper"},"Something went wrong.")};var Il=wt(25380),f9=Object.defineProperty,h9=Object.defineProperties,p9=Object.getOwnPropertyDescriptors,$g=Object.getOwnPropertySymbols,m9=Object.prototype.hasOwnProperty,_9=Object.prototype.propertyIsEnumerable,zg=(n,t,r)=>t in n?f9(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,g9=(n,t)=>{for(var r in t||(t={}))m9.call(t,r)&&zg(n,r,t[r]);if($g)for(var r of $g(t))_9.call(t,r)&&zg(n,r,t[r]);return n},v9=(n,t)=>h9(n,p9(t));const y9=n=>(0,e.h)(x.l,v9(g9({},n),{name:"LucideCheck",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(Il.Z,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth})),uc=(0,e.createContext)({isSubstack:!1,customDomain:null});uc.displayName="DomainInfoContext";function pK(){return useContext(uc)}function mK({value:n,children:t}){const r=useMemo(()=>n,Object.values(n));return h(uc.Provider,{value:r},t)}var b9=Object.defineProperty,P9=Object.defineProperties,E9=Object.getOwnPropertyDescriptors,Gg=Object.getOwnPropertySymbols,w9=Object.prototype.hasOwnProperty,C9=Object.prototype.propertyIsEnumerable,Zg=(n,t,r)=>t in n?b9(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,xf=(n,t)=>{for(var r in t||(t={}))w9.call(t,r)&&Zg(n,r,t[r]);if(Gg)for(var r of Gg(t))C9.call(t,r)&&Zg(n,r,t[r]);return n},O9=(n,t)=>P9(n,E9(t));const S9=["Subscribe","Subscribe now","Sign up","Sign up now"];function Yg({isStatic:n,pub:t,user:r,freeSignup:i,children:s,pledgesEnabled:M}){if(n)return(0,e.h)(uf.E.Consumer,null,({isFreemail:q,isFreeSubscribed:Pe,isPledged:Me})=>s({isFreeSubscribed:Pe,isSubscribed:!q,isFullySubscribed:t.plans?!q:!M||Me,isForPaidSubscription:!!t.plans&&q,isPledged:Me}));const k=i||(r==null?void 0:r.is_free_subscribed),j=r==null?void 0:r.is_subscribed,U=r==null?void 0:r.is_pledged;return s({isFreeSubscribed:k,isSubscribed:j,isFullySubscribed:t.plans?j:k&&(!M||U),isForPaidSubscription:!!t.plans&&k&&!j,isPledged:U})}function Af({pub:n,user:t,now:r,isStatic:i}){return(0,e.h)(Se.vz.Consumer,null,({getSettingFor:s})=>{const M=n.payments_state==="disabled"&&!n.invite_only&&s("payment_pledges_enabled");return(0,e.h)(Yg,{isStatic:i,user:t,pub:n,pledgesEnabled:M},({isFreeSubscribed:k,isPledged:j})=>(0,Ne.getSubscribeText)(n,{now:r,isFreeSubscribed:k,isPledged:j,pledgesEnabled:M}))})}class Hs extends e.Component{onSignup(t){this.setState({loading:!0}),this.props.onSignup?this.props.onSignup(t):!this.props.forceEmailInput&&(this.props.pub.plans||this.props.pub.has_recommendations)?document.location.href=(0,v.getSubscribeUrl)(this.props.pub,O9(xf(xf({addBase:!0,utm_medium:"web",utm_source:this.props.source||"subscribe-widget",utm_content:this.props.post&&this.props.post.id,just_signed_up:!0,requires_confirmation:t.body.requires_confirmation?"true":""},t.body.subscription_id&&{subscription_id:t.body.subscription_id}),t.body.referral_token&&{referral_token:t.body.referral_token}),{next:this.props.next||document.location.href})):document.location.reload()}getHref(t){const{pub:r,subscribeButtonAttrs:i,isStatic:s,source:M,post:k,next:j}=this.props,U={utm_medium:s?"email":"web",utm_source:M||"subscribe-widget",utm_content:k&&k.id,next:j,referring_pub_ids:s?void 0:(0,v.getQueryItem)("referring_pub_ids")};return t?s?bi.Substitutions.ACCOUNT_URL:(0,v.getPubAccountSettingsUrl)(r,{params:U}):(0,v.getSubscribeUrl)(r,xf({addBase:!0,root:i?i.url:s&&bi.Substitutions.CHECKOUT_URL},U))}getButtonLabel(t,r,{isPledged:i,pledgesEnabled:s}){if(t||i)return"Subscribed";const{pub:M,subscribeButtonAttrs:k}=this.props,j=k&&k.text;if(j&&!S9.includes(j))return j;const U=r;return(0,Ne.getSubscribeText)(M,{now:!U,isFreeSubscribed:U,isPledged:i,pledgesEnabled:s})}render({pub:t,user:r,freeSignup:i,freeSignupEmail:s,source:M,isStatic:k,forceEmailInput:j,onPrepareData:U,onError:q},{loading:Pe}){const Me=typeof window!="undefined"&&t.hostname!==window.location.hostname.replace(/[.]localhost$/,"");return(0,e.h)(Se.vz.Consumer,null,({getSettingFor:xe})=>(0,e.h)(uc.Consumer,null,Ve=>(0,e.h)(Yg,{pub:t,user:r,isStatic:k,freeSignup:i,pledgesEnabled:t.payments_state==="disabled"&&!t.invite_only&&xe("payment_pledges_enabled")},({isFreeSubscribed:qe,isSubscribed:Ge,isFullySubscribed:ut,isPledged:bt})=>{var Pt;const At=this.getButtonLabel(Ge,qe,{isPledged:bt,pledgesEnabled:t.payments_state==="disabled"&&!t.invite_only&&xe("payment_pledges_enabled")}),Lt=qe||Ge;return(0,e.h)("div",{className:u()("subscribe-widget",{"is-signed-up":Lt,"is-fully-subscribed":ut}),"data-component-name":"SubscribeWidget"},!j&&(Lt||k)?(0,e.h)("p",{className:"button-wrapper"},k?(0,e.h)("a",{className:u()("button subscribe-btn",ut?"outline":"primary"),href:this.getHref(ut),native:!k},ut&&(0,e.h)(y9,{stroke:((Pt=t==null?void 0:t.theme)==null?void 0:Pt.background_pop_color)||(t==null?void 0:t.theme_var_background_pop)||A.substack_color,fill:"transparent",isStatic:!0,className:"check-icon static",height:20}),(0,e.h)("span",null,At)):(0,e.h)(sa.z,{className:"subscribe-btn",href:this.getHref(ut),localNavigation:!1,variant:ut?"themed-secondary":"themed-primary",leftIcon:ut?(0,e.h)(Il.Z,{size:20}):null},(0,e.h)("span",null,At))):(0,e.h)(Vt.gq,{justifyContent:"center"},(0,e.h)(ei.Z,{disabled:Lt||Pe,freeSignup:i,freeSignupEmail:s,next:Me?window.location.href:null,pub:t,source:M||"subscribe-widget",submitButtonText:Lt?"\u2713":(0,Ne.getSubscribeText)(t),useSubscribeLink:(Ve==null?void 0:Ve.isSubstack)||Me,user:r,utm_campaign:Ve!=null&&Ve.isSubstack?"reader2":Me?"cross-post":null,onConfirmationRequired:(t==null?void 0:t.payments_state)==="enabled"?()=>null:void 0,onError:q,onPrepareData:U,onSuccess:Dt=>this.onSignup(Dt)})))})))}}var T9=Object.defineProperty,I9=Object.defineProperties,D9=Object.getOwnPropertyDescriptors,Jg=Object.getOwnPropertySymbols,M9=Object.prototype.hasOwnProperty,x9=Object.prototype.propertyIsEnumerable,Xg=(n,t,r)=>t in n?T9(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ba=(n,t)=>{for(var r in t||(t={}))M9.call(t,r)&&Xg(n,r,t[r]);if(Jg)for(var r of Jg(t))x9.call(t,r)&&Xg(n,r,t[r]);return n},Qg=(n,t)=>I9(n,D9(t));const A9=(n,t)=>(0,e.h)("div",{className:"subscription-widget-wrap"},(0,e.h)("div",{className:"subscription-widget show-subscribe"},(0,e.h)("div",{className:"preamble"},(0,e.h)("p",{dangerouslySetInnerHTML:{__html:n.children[0].children[0].children[0].innerHTML}})),(0,e.h)(Hs,Ba({pub:t.pub,subscribeButtonAttrs:null,source:"subscribe-widget-preamble"},t.props)))),N9=(n,t)=>{try{const r=JSON.parse(Pi()(n.getAttribute("data-attrs")));if([`${t.pub.base_url}/subscribe?`,"${ctx.pub.base_url}/subscribe?plan=founding",bi.Substitutions.CHECKOUT_URL,bi.Substitutions.FOUNDING_CHECKOUT_URL].includes(r.url)){const i=JSON.parse(Pi()(n.getAttribute("data-attrs")));return(0,e.h)(Hs,Ba({pub:t.pub,subscribeButtonAttrs:i},t.props))}}catch(r){console.error("Failed to parse button:",r)}},R9=(n,{pub:t,props:{isStatic:r,post:i}})=>{try{const s=n.getAttribute("data-attrs");if(s){const M=JSON.parse(Pi()(s));return r?(0,e.h)(H0,{label:M.label,pub:t,post:i,duration:M.duration}):(0,e.h)(W0,{label:M.label,pub:t,post:i,src:`/api/v1/audio/upload/${M.mediaUploadId}/src`,duration:M.duration,autoPlay:!1})}}catch(s){console.error("Failed to parse audio:",s)}},L9=(n,{pub:t,props:{isStatic:r,post:i}})=>{try{const s=n.getAttribute("data-attrs");if(s){const M=JSON.parse(Pi()(s));return r?(0,e.h)(H0,{label:M.label,pub:t,post:i,duration:M.duration}):(0,e.h)(W0,{label:M.label,pub:t,post:i,src:M.url,duration:M.duration,autoPlay:!1})}}catch(s){console.error("Failed to parse audio:",s)}},k9=(n,{props:{isStatic:t}})=>{try{const r=n.getAttribute("data-attrs");if(r){const{name:i,avatarUrl:s,url:M}=JSON.parse(Pi()(r));return t?(0,e.h)(GT,{name:i,avatarUrl:s,url:M}):(0,e.h)(ZT,{name:i,avatarUrl:s,url:M})}}catch(r){console.error("Failed to parse audio:",r)}},B9=n=>{try{const t=JSON.parse(n.dataset.attrs).symbol;return t?(0,e.h)(mI,{symbol:t,prependSymbol:JSON.parse(n.dataset.attrs).prependSymbol,isStatic:JSON.parse(n.dataset.attrs).isStatic}):(0,e.h)(e.Fragment,null)}catch(t){return(0,e.h)(e.Fragment,null)}},U9=(n,{pub:t,props:{isStatic:r,post:i}})=>{try{if(r){const s=n.getAttribute("data-attrs");if(s){const M=JSON.parse(Pi()(s)),k=M==null?void 0:M.persistentExpression;return k?(0,e.h)("img",{src:(0,v.getLatexUrl)(k),style:{transform:"scale(0.5)"},"data-component-name":"LatexImg"}):(0,e.h)("p",null,"Failed to render LaTeX expression \u2014 no expression found in email")}else return(0,e.h)("p",null,"Failed to render LaTeX expression \u2014 data attributes not found")}else{const s=n.getAttribute("data-attrs"),M=JSON.parse(Pi()(s)),k=M==null?void 0:M.persistentExpression;return k?(0,e.h)(me.gq,{className:"latex-rendered",justifyContent:"center",flex:"grow",paddingBottom:"4px",paddingTop:"4px","data-component-name":"Latex"},(0,e.h)(me.tu,{justifyContent:"center"},(0,e.h)(lT,{inline:!1},`\\(${k}\\)`))):(0,e.h)("p",null,"Failed to render LaTeX expression \u2014 no expression found")}}catch(s){return console.error("failed to render mathjax",s),(0,e.h)("p",null,"Failed to render LaTeX expression \u2014 error")}},F9=n=>{try{const t=JSON.parse(n.dataset.attrs),{name:r,id:i,type:s,url:M,photo_url:k,uuid:j,isStatic:U}=t;return r?(0,e.h)(Dd.default,{name:r,id:i,type:s,url:M,photo_url:k,uuid:j,isStatic:U}):(0,e.h)(e.Fragment,null)}catch(t){return(0,e.h)(e.Fragment,null)}},j9=(n,t)=>{var r;try{const i=JSON.parse(Pi()(n.getAttribute("data-attrs")));return i!=null&&i.isEmail?(0,e.h)("table",{className:"poll-embed poll-email",cellSpacing:"16px",width:"100%"},(0,e.h)("tbody",null,(0,e.h)("tr",null,(0,e.h)("td",{align:"center"},(0,e.h)(d9,{id:i.id,embeddedPolls:(r=t.props.dataForEmailRender)==null?void 0:r.embeddedPolls}))))):(0,e.h)("div",{className:"poll-embed",dataAttrs:n.getAttribute("data-attrs")},(0,e.h)(c9,{id:i.id,isEditor:!1,post:t.props.post,pub:t.pub,isVersionView:!!t.props.isVersionView}))}catch(i){return console.log("Failed to parse poll:",i),(0,e.h)(e.Fragment,null)}};function W9(n,{props:{isStatic:t}}){try{const r=n.getAttribute("data-attrs"),i=JSON.parse(Pi()(r));return!i.pub||!i.subdomain?(console.error("could not deepPrepare communityChat, subdomain or pub missing from node"),(0,e.h)(e.Fragment,null)):(0,e.h)("div",{className:"community-chat",dataAttrs:r},t?(0,e.h)(dT,Ba({},i)):(0,e.h)(cT,{pub:i.pub,subdomain:i.subdomain}))}catch(r){return console.error("Failed to parse chat embed:",r),(0,e.h)(e.Fragment,null)}}function H9(n,t){const{props:{isStatic:r,is_freemail:i}}=t;try{const s=n.getAttribute("data-attrs"),M=JSON.parse(Pi()(s));return r?(0,e.h)(IT,Ba({is_freemail:i},M)):(0,e.h)(TT,Ba({},M))}catch(s){return console.error("Failed to parse chat post embed:",s),(0,e.h)(e.Fragment,null)}}function V9(n,{props:{isStatic:t}}){try{const r=n.getAttribute("data-attrs"),i=JSON.parse(Pi()(r));return t?(0,e.h)(g0,Ba({},i)):(0,e.h)(NT,Ba({},i))}catch(r){return console.error("Failed to parse chat post embed:",r),(0,e.h)(e.Fragment,null)}}const K9=(n,t,r)=>{var i;const s=n.id,[M,,k]=s.split("-"),j=(i=r.wrapper.querySelector(`#${M}-${k}`))==null?void 0:i.nextElementSibling;return j?((0,P.isMobile)()&&(n.href="javascript:void(0)"),(0,e.h)(Am.z,{content:(0,e.h)("div",{className:"markup"},Dl(j,t,r)),className:"footnote-hovercard-target",layerClassName:"typography footnote-hovercard"},Dl(n,t,r))):Dl(n,t,r)},cc=(n,t,{shallow:r}={})=>{var i,s,M;if(n.nodeName==="A"&&(n.getAttribute("rel")||n.setAttribute("rel",(i=t.pub)!=null&&i.no_follow?"nofollow ugc noopener":"")),t.pub&&n.nodeName==="P"&&(0,y.hasClass)(n,"button-wrapper")){const k=N9(n,t);if(k)return k}return(0,y.hasClass)(n,"subscription-widget-wrap")?A9(n,t):(0,y.hasClass)(n,"cashtag-wrap")?B9(n):(0,y.hasClass)(n,"mention-wrap")?F9(n):t.pub&&(0,y.hasClass)(n,"native-audio-url-embed")?L9(n,t):t.pub&&(0,y.hasClass)(n,"native-audio-embed")?R9(n,t):t.pub&&(0,y.hasClass)(n,"native-video-embed")?V4(n,t):t.pub&&(0,y.hasClass)(n,"meeting-embed")?k9(n,t):(0,y.hasClass)(n,"poll-embed")?j9(n,t):(0,y.hasClass)(n,"image-gallery-embed")?G4(n,t):(0,y.hasClass)(n,"image3")?z4(n,t):(0,y.hasClass)(n,"latex-rendered")?U9(n,t):(0,y.hasClass)(n,"community-chat")?W9(n,t):(0,y.hasClass)(n,"community-post")?H9(n,t):(0,y.hasClass)(n,"digest-post-embed")?K4(n,t):(0,y.hasClass)(n,"comment")&&!(0,y.hasClass)(n,"template-comment")?V9(n,t):(0,y.hasClass)(n,"referrals-tier-card")?$4(n,t):((M=(s=t.props)==null?void 0:s.post)!=null&&M.id&&(0,y.hasClass)(n,"footnote")&&(n.id&&(n.id+=`-${t.props.post.id}`),n.href&&(n.href+=`-${t.props.post.id}`)),(0,y.hasClass)(n,"footnote-anchor")?K9(n,cc,t):r?null:Dl(n,cc,t))},$9=function(n){const t={},r=Array.prototype.slice.call(n);for(const{name:i,value:s}of r)t[i]=s;return t},z9=(n,t)=>{let r=0;return function(){const i=[].slice.call(arguments,0),s=++r>t;s&&console.error("Too many post nodes to recurse",{postId:i[2].props.post.id,depth:r});const M=n.apply(null,[...i,...s?[!0]:[]]);return r--,M}};function G9(n,t,r,i){var s,M,k;const j=u()("header-with-anchor-widget",t.className),U=r.children.length?Array.prototype.map.call(r.childNodes,q=>cc(q,i)):[r.textContent];return(0,e.h)(n,Qg(Ba({},t),{className:j}),...U,(0,e.h)(Z4,{text:r.textContent,pub:i==null?void 0:i.pub,post:(s=i==null?void 0:i.props)==null?void 0:s.post,offsetTop:!0,isAboutPage:(k=(M=i==null?void 0:i.props)==null?void 0:M.isAboutPage)!=null?k:!1}))}const Dl=z9((n,t,r,i)=>{var s,M;if(!n)throw new Error("Empty node, cannot preactify!");const k=n.nodeType===3?"span":n.nodeType===8?"x_preact_compatible_html_comment_x":n.tagName.toLowerCase(),j=n.nodeType!==1?{}:$9(n.attributes),U=n.children&&n.children.length>0?null:n.textContent;if(i)return(0,e.h)(k,Qg(Ba({},j),{dangerouslySetInnerHTML:{__html:n.innerHTML}}));const q=!!((s=n.parentElement)!=null&&s.getAttribute("data-prose-mirror-wrapper"));if(((M=r==null?void 0:r.pub)==null?void 0:M.type)!=="rss"&&q&&["h1","h2","h3","h4"].includes(k)&&!n.className)return G9(k,j,n,r);if(U)return(0,e.h)(k,j,U);const Pe=t(n,r,{shallow:!0});return Pe||(0,e.h)(k,j,...Array.prototype.map.call(n.childNodes,Me=>t(Me,r)))},2500);function Z9(n,t,r={}){const i=document.createElement("div");return i.setAttribute("data-prose-mirror-wrapper",1),i.innerHTML=n,Array.prototype.map.call(i.childNodes,s=>Dl(s,cc,{wrapper:i,pub:t,props:r}))}var Nf=wt(62017);const qg=typeof window!="undefined";function ev(n,t,r=qg?localStorage:void 0){var i;const[s,M]=(0,o.eJ)(typeof r!="undefined"&&(i=r.getItem(n))!=null?i:t);return[s,j=>{M(U=>{const q=typeof j=="function"?j(U):j;return r&&r.setItem(n,q),q})}]}function gK(n,t,r=qg?localStorage:void 0){const i=useMemo(()=>JSON.stringify(t),[t]),[s,M]=ev(n,i,r);return[useMemo(()=>{try{return JSON.parse(s)}catch(U){return console.error("Failed to parse stored value:",U),t}},[s,t]),U=>M(JSON.stringify(U))]}var tv=wt(16742);const ua={button:"frontend-components-selection_popover-module__button--lynvl",popover:"frontend-components-selection_popover-module__popover--rjfPU",popoverButtons:"frontend-components-selection_popover-module__popoverButtons--Jlk3U",icon:"frontend-components-selection_popover-module__icon--fJlTy",disabled:"frontend-components-selection_popover-module__disabled--q2o7U",explainer:"frontend-components-selection_popover-module__explainer--PBsHq",dismissExplainer:"frontend-components-selection_popover-module__dismissExplainer--SCSfS"};var Y9=Object.defineProperty,J9=Object.defineProperties,X9=Object.getOwnPropertyDescriptors,dc=Object.getOwnPropertySymbols,nv=Object.prototype.hasOwnProperty,rv=Object.prototype.propertyIsEnumerable,ov=(n,t,r)=>t in n?Y9(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,vs=(n,t)=>{for(var r in t||(t={}))nv.call(t,r)&&ov(n,r,t[r]);if(dc)for(var r of dc(t))rv.call(t,r)&&ov(n,r,t[r]);return n},Ml=(n,t)=>J9(n,X9(t)),Q9=(n,t)=>{var r={};for(var i in n)nv.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&dc)for(var i of dc(n))t.indexOf(i)<0&&rv.call(n,i)&&(r[i]=n[i]);return r},xl=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});function q9(n){var t,r,i,s;const{nuxModal:M,showRestackNux:k}=(0,tv.y)("post");return(0,e.h)(e.Fragment,null,M,((s=(i=(r=(t=n.selection)==null?void 0:t.text)==null?void 0:r.split)==null?void 0:i.call(r," "))==null?void 0:s.length)>=3&&(0,e.h)(ex,vs({onShare:k},n)))}function ex({pub:n,post:t,selection:r,onShare:i,onClose:s,userInteractionDisabled:M}){var k;const j=(0,ls.aF)(),U=(0,ti.pm)(),q=(0,Au.i3)(),Pe=(0,Bi.XA)(),Me="has_dismissed_restack_selection_explainer",[xe]=ev(Me),Ve=(0,ls.SE)();(0,o.d4)(()=>{xe==="true"&&(Ve!=null&&Ve.userSettings)&&!Ve.userSettings.has_seen_select_to_restack_tooltip_nux&&Ve.changeSetting("has_seen_select_to_restack_tooltip_nux",!0)},[]);const qe=typeof window!="undefined"&&("ontouchstart"in window||navigator.maxTouchPoints>0),Ge=!t.is_draft&&!!j,ut=!t.is_draft,bt=()=>xl(this,null,function*(){const an=yield(0,so.rd)("/api/v1/post_selection",{method:"PUT",json:{postId:t.id,publication_id:n.id,startParagraph:r.startParagraph,endParagraph:r.endParagraph,startOffset:r.startOffset,endOffset:r.endOffset}});if(an instanceof Error)throw an;return an.selection.id}),Pt=()=>xl(this,null,function*(){const an=yield bt();return(0,v.getPostUrl)(n,t,{urlParams:{r:j?j.id.toString(36):null,selection:an,utm_campaign:"post_selection",utm_medium:"web"}})}),At=()=>xl(this,null,function*(){if(!Ge)return;s();let an;try{an=yield Pt()}catch(rr){U.popToast(Gn=>(0,e.h)(ti.FN,Ml(vs({},Gn),{text:"Failed to generate quote"})));return}const mn=yield q.open({restackUrl:an});mn instanceof Error?(console.error(mn),U.popToast(rr=>(0,e.h)(ti.FN,Ml(vs({},rr),{text:"Failed to post"})))):(i(),U.popToast(rr=>(0,e.h)(ti.FN,Ml(vs({},rr),{text:"Note sent",cta:"View",href:(0,le.getFeedUrl)()}))))}),Lt=()=>xl(this,null,function*(){if(!ut)return;s();let an;try{an=yield Pt()}catch(mn){U.popToast(rr=>(0,e.h)(ti.FN,Ml(vs({},rr),{text:"Failed to copy link to quote"})));return}(0,y.copyToClipboard)(an),U.popToast(mn=>(0,e.h)(ti.FN,Ml(vs({},mn),{text:"Link copied to clipboard"})))}),Dt=an=>xl(this,null,function*(){if(j)return;s();let mn;try{mn=yield bt()}catch(Vn){}const rr=(0,v.updateQuery)(document.location.href,{selection:mn}),Gn=(0,v.getSigninUrl)({redirect:rr});(0,y.redirect)(Gn,{local_navigation:!1,event:an})});(0,o.d4)(()=>(window.addEventListener("scroll",s,{passive:!0,capture:!0,once:!0}),()=>{window.removeEventListener("scroll",s,{capture:!0,once:!0})}),[s]);const Ht=(Ve==null?void 0:Ve.userSettings)&&!((k=Ve.userSettings)!=null&&k.has_seen_select_to_restack_tooltip_nux),on=Ht?156:40,hn=()=>{Ve.changeSetting("has_seen_select_to_restack_tooltip_nux",!0)};return(0,e.h)(me.tu,{style:{top:qe?r.y+r.height+8:r.y-on-8,left:r.rect.x+r.rect.width/2,transform:"translateX(-50%)",pointerEvents:M?"none":"auto",maxWidth:240},justifyContent:"center",className:ua.popover,shadow:"md",radius:12},(0,e.h)(me.tu,{className:u()(ua.popoverButtons,Pe&&ua.isMobile),radius:12,padding:Ht?8:4,gap:8},Ht&&(0,e.h)(tx,{onDismiss:hn}),(0,e.h)(iv,{onClick:j?At:Dt,disabled:!Ge&&!!j,isExplainer:Ht},(0,e.h)(bl.Z,{className:u()(ua.icon,!Ge&&ua.disabled)}),(0,e.h)(J.xv.B4,{color:Ge?"bg-light":"secondary",weight:"medium"},Ge?"Restack quote":j?t.is_draft?"Cannot quote a draft":n!=null&&n.invite_only?"Cannot quote on invite-only publication":["only_paid","founding"].includes(t==null?void 0:t.audience)?"Cannot quote paid post":"Cannot quote this post":"Sign in to restack quote"))))}function iv(n){var t=n,{isExplainer:r}=t,i=Q9(t,["isExplainer"]);return(0,e.h)(zr.kG,vs({className:u()(ua.button,r&&ua.explainerButton),resetCss:!0},i))}function tx({onDismiss:n}){return(0,e.h)(me.tu,{className:ua.explainer,radius:6,paddingX:16,paddingY:8,gap:4},(0,e.h)(zr.kG,{resetCss:!0,className:ua.dismissExplainer,onClick:n},(0,e.h)(Ls.Z,{size:16,stroke:"var(--color-secondary)"})),(0,e.h)(J.xv.B4,{color:"bg-light",weight:"medium"},"New: Quote this post"),(0,e.h)(J.xv.Detail,{size:14,color:"secondary"},"Share your favorite part of this post to"," ",(0,e.h)(Nf.hh,{color:"secondary",decoration:"underline",href:"https://substack.com/notes",target:"_blank"},"Notes"),"."))}var nx=Object.defineProperty,rx=Object.defineProperties,ox=Object.getOwnPropertyDescriptors,fc=Object.getOwnPropertySymbols,av=Object.prototype.hasOwnProperty,sv=Object.prototype.propertyIsEnumerable,Rf=(n,t,r)=>t in n?nx(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ix=(n,t)=>{for(var r in t||(t={}))av.call(t,r)&&Rf(n,r,t[r]);if(fc)for(var r of fc(t))sv.call(t,r)&&Rf(n,r,t[r]);return n},ax=(n,t)=>rx(n,ox(t)),sx=(n,t)=>{var r={};for(var i in n)av.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&fc)for(var i of fc(n))t.indexOf(i)<0&&sv.call(n,i)&&(r[i]=n[i]);return r},ys=(n,t,r)=>(Rf(n,typeof t!="symbol"?t+"":t,r),r),lx=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const lv=`
div.body.markup > p:not(.button-wrapper),
.pullquote > p:not(.button-wrapper),
blockquote > p:not(.button-wrapper),
li > p:not(.button-wrapper),
caption > p:not(.button-wrapper),
.footnote-content > p:not(.button-wrapper)
`,ux=".image-link.image2";class hc extends e.Component{constructor(t,r){super(t,r),ys(this,"state",{selection:null,urlSelection:null,selectedImgIndex:null,selectionUserInteractionDisabled:!1}),ys(this,"onBodyMouseDown",()=>{this.setState({selectionUserInteractionDisabled:!0})}),ys(this,"onMouseUp",()=>{this.setState((i,s)=>i.selectionUserInteractionDisabled?(i.selection&&s.trackSelection&&(0,D.j)(D.FP.POST_TEXT_SELECTED,{post_id:s.post.id,post_audience:s.post.audience,post_type:s.post.type}),{selectionUserInteractionDisabled:!1}):null)}),ys(this,"onSelectionChange",Lu()(()=>{const i=this.getSelectionState();i?this.setState({selection:i}):this.state.selection&&this.setState({selection:null})},100)),ys(this,"onDocumentClick",i=>{const s=i.target.closest(".image-link.image2");if(s&&this.originalImageState){const M=s.querySelector("img"),k=this.originalImageState.findIndex(j=>j.src===M.src);if(k>=0){i.preventDefault(),this.setState({selectedImgIndex:k});return}}if(!this.props.skipTrackClick)this.onLinkClick(i);else return null}),ys(this,"clearActiveSelection",()=>{this.setState({selection:null})}),ys(this,"closeImageViewerModal",()=>{this.setState({selectedImgIndex:null})}),this.body=(0,e.createRef)()}componentDidMount(){return lx(this,null,function*(){const t=Array.from(this.body.current.querySelectorAll(lv));this.originalParagraphState=t.map(j=>({text:j.textContent}));const r=new URL(window.location).searchParams.get("img");let i=Array.from(this.body.current.querySelectorAll(ux));i=i.map(j=>{const U=j.querySelector("img"),q=JSON.parse(U.getAttribute("data-attrs")),Pe=q.width/q.height,Me=q.resizeWidth?q.resizeWidth/Pe:q.height,xe=q.resizeWidth?q.resizeWidth/Me:Pe;return{element:j,image:U,attrs:q,extraAttrs:{imageRatio:Pe,resizeHeight:Me,resizeRatio:xe}}});let s=0;if(r){const j=i.find(U=>U.attrs.src===r);j&&(s=j.image.getBoundingClientRect().top-65)}const M=240,k=4;if(i=i.filter(j=>(0,v.unimginary)(j.image.src)===(0,v.unimginary)(j.element.href)),i=i.filter(j=>j.attrs.height>M&&j.extraAttrs.resizeHeight>M),i=i.filter(j=>j.extraAttrs.imageRatio<k&&j.extraAttrs.resizeRatio<k),this.originalImageState=i.map(j=>{var U;const q=j.image.src;let Pe=null;const Me=j.element.parentElement;return Me.tagName==="FIGURE"&&(Pe=(U=Me.querySelector(":scope > figcaption"))==null?void 0:U.textContent),{src:q,attrs:j.attrs,caption:Pe}}),r){window.scrollTo({top:s});const j=this.originalImageState.findIndex(U=>U.attrs.src===r);j>=0&&this.setState({selectedImgIndex:j})}typeof window!="undefined"&&(document.addEventListener("selectionchange",this.onSelectionChange),document.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mouseup",this.onMouseUp))})}componentWillUnmount(){typeof window!="undefined"&&(document.removeEventListener("selectionchange",this.onSelectionChange),document.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mouseup",this.onMouseUp))}shouldComponentUpdate(t,r){return this.props.html!==t.html||this.state.selectedImgIndex!==r.selectedImgIndex||this.state.selection!==r.selection||this.state.selectionUserInteractionDisabled!==r.selectionUserInteractionDisabled}onLinkClick(t){if(!t.target.nodeName||t.target.nodeName!=="A"&&t.target.parentNode.nodeName!=="A")return;const r=t.target.nodeName==="A"?t.target:t.target.parentNode;if((0,D.j)(D.FP.POST_LINK_CLICKED,{post_id:this.props.post.id,publication_id:this.props.post.publication_id,url:r.href}),window.location.host===r.host){const i=(0,Ne.transformDocumentLink)(r.href);i!==r.href&&(0,y.redirect)(i,{local_navigation:!1,event:t});return}t.preventDefault(),(0,Ne.handleDocumentLinkClick)(r.href)}getSelectionState(){if(this.props.trackSelection&&window.getSelection)try{const t=window.getSelection();if(!t||t.isCollapsed||t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset)return;const r=this.findParentParagraph(t.anchorNode);if(!r)return;const i=this.findParentParagraph(t.focusNode);if(!i)return;const s=Array.from(this.body.current.querySelectorAll(lv)),M=s.findIndex(Me=>Me.isSameNode(r));if(M===-1)return;const k=s.findIndex(Me=>Me.isSameNode(i));if(k===-1)return;const j=this.getCharacterOffsetParagraph(r,t.anchorNode,t.anchorOffset);if(j===null)return;const U=this.getCharacterOffsetParagraph(i,t.focusNode,t.focusOffset);if(U===null)return;const q=M>k||M===k&&j>U,Pe=t.getRangeAt(0).getBoundingClientRect();return{startParagraph:q?k:M,endParagraph:q?M:k,startOffset:q?U:j,endOffset:q?j:U,y:Pe.y,height:Pe.height,rect:Pe,text:t.toString()}}catch(t){console.error("Failed to parse selection:",t)}}findParentParagraph(t){return t?t.nodeName==="P"?t:this.findParentParagraph(t.parentNode):null}isAncestorOf(t,r){return t===null?!1:t.isSameNode(r)?!0:this.isAncestorOf(t.parentNode,r)}getCharacterOffsetParagraph(t,r,i){var s;let M=i;for(let k=0;k<t.childNodes.length;k++){const j=t.childNodes[k];if(this.isAncestorOf(r,j))return M;j.className!=="footnote-anchor"&&(M+=((s=j.textContent)==null?void 0:s.length)||0)}return M}shouldShowImageViewerModal(){const{selectedImgIndex:t}=this.state;return t!=null}render(t){var r=t,{children:i,html:s,pub:M,skipTrackClick:k,trackSelection:j,paywall:U,isAboutPage:q}=r,Pe=sx(r,["children","html","pub","skipTrackClick","trackSelection","paywall","isAboutPage"]);const{selection:Me,selectedImgIndex:xe}=this.state;s&&(i=Z9(s,M,ax(ix({},Pe),{isAboutPage:q})),i&&(s=null));const Ve=i?Array.from(i).some(Ge=>{var ut;return((ut=Ge.props)==null?void 0:ut.className)==="latex-rendered"}):!1,qe=(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"body markup",dangerouslySetInnerHTML:s?{__html:s}:null,ref:this.body,onClick:this.onDocumentClick,onMouseDown:this.onBodyMouseDown,onMouseUp:this.onMouseUp,dir:"auto"},i),(0,e.h)(q9,{pub:M,post:this.props.post,selection:Me,onClose:this.clearActiveSelection,userInteractionDisabled:this.state.selectionUserInteractionDisabled}),(0,e.h)(lf.ImageViewerModal,{showModal:this.shouldShowImageViewerModal(),modalContent:this.originalImageState,onClose:this.closeImageViewerModal,step:xe}));return Ve&&!Pe.isStatic?(0,e.h)(iT,null,qe):qe}}const cx=({tabs:n,tab:t,onTabClick:r})=>(0,e.h)("div",{className:"ui-tabs"},n.map(({id:i,title:s})=>(0,e.h)("a",{className:`ui-tab ${i}-tab ${t===i?"active":""}`,onClick:()=>r&&r(i)},s)));var uv=wt(36868);const Ya={childPublication:"frontend-main-pub_or_section_list-module__childPublication--zPmyV",details:"frontend-main-pub_or_section_list-module__details--oUx97",subscribe:"frontend-main-pub_or_section_list-module__subscribe--tRHIu",logo:"frontend-main-pub_or_section_list-module__logo--tBlg5",info:"frontend-main-pub_or_section_list-module__info--AS8uz",title:"frontend-main-pub_or_section_list-module__title--pK0QU",link:"frontend-main-pub_or_section_list-module__link--yIfBi",description:"frontend-main-pub_or_section_list-module__description--UKfMu"},Al=(n,t)=>({logoUrl:n.podcast_art_url||n.logo_url||(0,v.getDefaultPodcastArtUrl)(),mainClickUrl:(0,v.getPodcastLandingUrl)({pub:n,section:null,addBase:!0}),buttonClickUrl:t,name:n.podcast_title||n.name,description:n.podcast_description||n.hero_text}),dx=({logoUrl:n,mainClickUrl:t,buttonClickUrl:r,name:i,description:s,showButton:M,buttonText:k,openInNewTab:j=!1})=>(0,e.h)("div",{className:Ya.childPublication},n&&(0,e.h)("img",{className:Ya.logo,src:(0,v.imginary)(n,144),alt:`${i} logo`}),(0,e.h)("div",{className:Ya.details},(0,e.h)("div",{className:Ya.info},(0,e.h)("div",{className:Ya.title},(0,e.h)("a",{className:Ya.link,href:t},i)),(0,e.h)("div",{className:Ya.description},s)),M&&(0,e.h)(zr.zx,{priority:"primary",className:Ya.subscribe,href:r,newTab:j},k))),pc=({showButton:n,items:t,openInNewTab:r=!1,buttonText:i})=>(0,e.h)("div",{"data-testid":"child-pub-container"},t.map(s=>(0,e.h)(dx,{logoUrl:s.logoUrl,mainClickUrl:s.mainClickUrl,buttonClickUrl:s.buttonClickUrl,name:s.name,description:s.description,buttonText:i,openInNewTab:r,showButton:n}))),Lf={authorPic:"frontend-main-about_page-module__authorPic--UbtRf",heroText:"frontend-main-about_page-module__heroText--DMzgi",container:"frontend-main-about_page-module__container--IFzcg"};var fx=Object.defineProperty,hx=(n,t,r)=>t in n?fx(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,px=(n,t,r)=>(hx(n,typeof t!="symbol"?t+"":t,r),r),mc=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});function mx(n){if(typeof window=="undefined")return!0;const t=document.createElement("div");t.innerHTML=n;for(let r=t.childNodes.length-1;r>=0;r--){const i=t.childNodes[r];if((0,y.hasClass)(i,"button-wrapper")||(0,y.hasClass)(i,"subscription-widget-wrap"))return!1}return!0}const _x=({pub:n,user:t,freeSignup:r,freeSignupEmail:i})=>{const s=n.payments_state==="enabled"&&(t!=null&&t.is_free_subscribed)&&!(t!=null&&t.is_subscribed)?"paid_upsell":"free_upsell";return(0,o.d4)(()=>{(0,D.j)(D.FP.ABOUT_PAGE_END_CTA_RENDERED,{pub_id:n.id,type:s})},[]),(0,e.h)(e.Fragment,null,(0,e.h)(ve,{onVisible:()=>{(0,D.j)(D.FP.ABOUT_PAGE_END_CTA_SEEN,{pub_id:n.id,type:s})}}),(0,e.h)(me.tu,{alignItems:"center",gap:16,padding:24,className:u()(Lf.container,"end-cta-container")},(0,e.h)("img",{src:(0,v.imginary)(n.author_photo_url||n.logo_url,64),className:Lf.authorPic}),(0,e.h)(me.tu,{alignItems:"center"},(0,e.h)(J.xv.H2,{lineHeight:30,align:"center"},"Subscribe to ",n.name),n.hero_text&&(0,e.h)(J.xv.Meta,{size:12,className:Lf.heroText,align:"center"},n.hero_text)),(0,e.h)(Hs,{pub:n,user:t,freeSignup:r,freeSignupEmail:i,isStatic:!1,source:"about-page-end-cta"})))};function gx({pub:n,user:t,freeSignup:r,freeSignupEmail:i,subscribeContent:s}){return typeof s!="string"?(0,e.h)("div",{className:"content-about-silhouette"},(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"}),(0,e.h)("div",{className:"content-about-silhouette-line"})):(0,e.h)("div",{className:"content-about"},(0,e.h)(hc,{html:s,pub:n,user:t,freeSignup:r,freeSignupEmail:i,isAboutPage:!0}))}function vx({pub:n,people:t}){const r=(0,ke.useMediaQuery)({maxWidth:540}),i=r?[[]]:[[],[]];for(let s=0;s<t.length;++s)i[r?0:s%2].push(t[s]);return(0,e.h)("div",{className:"content-people"},i.map(s=>(0,e.h)("div",{className:"people-column"},s.map(M=>(0,e.h)("div",{className:"content-person",onclick:k=>(0,Up.Q)(k,(0,v.getProfileUrl)(M,n,{utm_source:"about-page"}),{native:!0})},(0,e.h)(la.PP,{subject:M,profile:M,themed:!0,hideSubscribeButtons:!0,utmSource:"about-page"}))))))}class yx extends e.Component{constructor(t,r){if(super(t,r),px(this,"onTabClick",i=>{this.loadTab({tabId:i})}),this.state={subscribeContent:t.subscribeContent,people:t.people,tabs:[]},(t.pub.child_publications||[]).length){this.state.tabs.push({id:"about",title:"About"}),this.state.tab=this.state.tabs[0];const i=(0,Ne.group_by)(t.pub.child_publications,"type");for(const s of Array.from(i.keys()).sort())this.state.tabs.push({id:s,title:`${(0,Ne.toTitleCase)(s)}s`});this.state.tab=this.state.tabs.find(s=>s.id===t.sort)||this.state.tabs[0]}}componentDidMount(){return mc(this,null,function*(){if(this.props.pub.parent_publication&&this.props.pub.parent_about_page_enabled){(0,y.redirect)((0,v.getAboutUrl)(this.props.pub.parent_publication,{addBase:!0}));return}this.loadPeople(),this.loadAbout()})}loadAbout(){return mc(this,null,function*(){if(this.state.subscribeContent!=="")try{const{body:t}=yield ge().get("/api/v1/publication/subscribe_content");this.setState({subscribeContent:t})}catch(t){console.error("Failed to load about content:",t)}})}loadPeople(){return mc(this,null,function*(){if(!this.state.people)try{const{body:t}=yield ge().get("/api/v1/publication/users/ranked").query({public:!0});this.setState({people:t})}catch(t){console.error("Failed to load people:",t)}})}loadTab(){return mc(this,arguments,function*({tabId:t}={}){const r=t?this.state.tabs.find(i=>i.id===t):this.state.tab;this.state.tab.id!==r.id&&(this.setState({tab:r}),typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,v.updateQuery)({sort:r.id})))})}renderChildPublications({pub:t,user:r,freeSignup:i},{tab:s}){let M,k;t.plans?(k=r&&r.is_subscribed,M=k):(M=i||r&&r.is_free_subscribed,k=r&&r.is_free_subscribed);const j=Pe=>`${(0,v.getBaseUrl)(Pe)}/?showWelcome=true`;if(s.id==="podcast")if(k){const Pe=Ea.getMultiPubChildPodcasts(t).map(Me=>Al(Me,(0,v.getPodcatcherSetupUrl)(Me,{addBase:!0,user:null,section:null,noSection:null,params:null})));return(0,e.h)(pc,{pub:t,showButton:!0,buttonText:"Set up podcast",items:Pe})}else{const Pe=Ea.getMultiPubChildPodcasts(t).map(Me=>Al(Me,j(Me)));return(0,e.h)(pc,{pub:t,showButton:!M,buttonText:"Subscribe",items:Pe})}const q=(t.child_publications?t.child_publications.filter(Pe=>Pe.type===s.id):[]).map(Pe=>Al(Pe,j(Pe)));return(0,e.h)(pc,{pub:t,showButton:!M,buttonText:"Subscribe",items:q})}render({pub:t,user:r,freeSignup:i,freeSignupEmail:s,metadata:M},{subscribeContent:k,people:j,tabs:U,tab:q}){const Pe=U.length>0&&(q==null?void 0:q.id),Me=!Pe||(q==null?void 0:q.id)==="about",xe=(!r||!(0,uv.P)(r,t))&&mx(k);return(0,e.h)("div",{className:"page typography about-page typography"},M&&(0,y.setMetaData)(M),(0,e.h)("div",{className:"container"},(r==null?void 0:r.is_contributor)&&Me&&(0,e.h)(sa.z,{variant:"themed-secondary",href:(0,v.pathWithQuery)("/publish/settings/edit",{title:"About page",bodyField:"subscribe_content",redirect:document.location.href}),localNavigation:!1,leftIcon:(0,e.h)(_l.Z,{size:20})},(0,e.h)(J.xv,null,"Edit")),Pe&&(0,e.h)(cx,{tabs:U,tab:q.id,onTabClick:this.onTabClick}),Me&&(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"about-content-wrap"},(0,e.h)(gx,{pub:t,user:r,freeSignup:i,freeSignupEmail:s,subscribeContent:k})),xe?(0,e.h)(_x,{pub:t,user:r,freeSignup:i,freeSignupEmail:s}):null,(j!=null?j:[]).length>0&&(0,e.h)(me.tu,{gap:24},(0,e.h)("h3",{className:"about-page-section-title"},"People"),(0,e.h)(vx,{pub:t,people:j}))),Pe&&["podcast","newsletter"].includes(q.id)&&this.renderChildPublications({pub:t,user:r,freeSignup:i},{tab:q})))}}const kf={container:"frontend-main-home-Layout-module__container--GJ6Wt","full-width":"frontend-main-home-Layout-module__full-width--ziPTp","full-width-with-sidebar":"frontend-main-home-Layout-module__full-width-with-sidebar--vLFfe","show-below":"frontend-main-home-Layout-module__show-below--NmYGu","three-column-width":"frontend-main-home-Layout-module__three-column-width--hAsTb","three-column-width-with-sidebar":"frontend-main-home-Layout-module__three-column-width-with-sidebar--a1h_K","one-column-two-column":"frontend-main-home-Layout-module__one-column-two-column--qBLtq","one-column-two-column-one-column":"frontend-main-home-Layout-module__one-column-two-column-one-column--uQ3yl"},Ja=({children:n,showContentBelowOnMobile:t,stretchVertically:r,variant:i})=>(0,e.h)("div",{style:r?{flexGrow:1,display:"flex",alignItems:"stretch"}:void 0},(0,e.h)("div",{className:u()(kf.container,kf[i],{[kf["show-below"]]:t})},n)),Nl=({numColumns:n,paddingBottom:t,paddingTop:r})=>(0,e.h)(Ja,{variant:n===3?"three-column-width":"full-width"},(0,e.h)(Vt.tu,{paddingBottom:typeof t=="number"?t:24,paddingTop:typeof r=="number"?r:24},(0,e.h)(Vt.hs,{borderBottom:"detail-themed"})));var bx=Object.defineProperty,Px=Object.defineProperties,Ex=Object.getOwnPropertyDescriptors,_c=Object.getOwnPropertySymbols,cv=Object.prototype.hasOwnProperty,dv=Object.prototype.propertyIsEnumerable,fv=(n,t,r)=>t in n?bx(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,wx=(n,t)=>{for(var r in t||(t={}))cv.call(t,r)&&fv(n,r,t[r]);if(_c)for(var r of _c(t))dv.call(t,r)&&fv(n,r,t[r]);return n},Cx=(n,t)=>Px(n,Ex(t)),Ox=(n,t)=>{var r={};for(var i in n)cv.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&_c)for(var i of _c(n))t.indexOf(i)<0&&dv.call(n,i)&&(r[i]=n[i]);return r};const gc=n=>{var t=n,{stroke:r}=t,i=Ox(t,["stroke"]);return(0,e.h)(x.l,Cx(wx({},i),{name:"SearchIcon",svgParams:{height:24,width:24}}),(0,e.h)("path",{d:"M11 19C15.4183 19 19 15.4183 19 11C19 6.58172 15.4183 3 11 3C6.58172 3 3 6.58172 3 11C3 15.4183 6.58172 19 11 19Z",stroke:r||"#555555","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M21.0004 21.0004L16.6504 16.6504",stroke:r||"#555555","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}))},Sx=(0,go.Z)("Clapperboard",[["path",{d:"M4 11v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8H4Z",key:"1hxvyx"}],["path",{d:"m4 11-.88-2.87a2 2 0 0 1 1.33-2.5l11.48-3.5a2 2 0 0 1 2.5 1.32l.87 2.87L4 11.01Z",key:"1vz1k2"}],["path",{d:"m6.6 4.99 3.38 4.2",key:"192ida"}],["path",{d:"m11.86 3.38 3.38 4.2",key:"hhucvz"}]]),Tx=(0,go.Z)("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),Ix=(0,go.Z)("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]),vc={container:"frontend-pencraft-unstable-Silhouette-module__container--Z3aFA",containerAnimated:"frontend-pencraft-unstable-Silhouette-module__containerAnimated--bFndg","silhouette-scroll":"frontend-pencraft-unstable-Silhouette-module__silhouette-scroll--LoRab"},ca=({animated:n=!0,width:t,height:r,aspectRatio:i,className:s})=>i?(0,e.h)("div",{style:`aspect-ratio:${i}`},(0,e.h)("div",{className:u()(vc.container,s,{[vc.containerAnimated]:n}),style:{width:t,height:r!=null?r:"100%"}})):(0,e.h)("div",{className:u()(vc.container,s,{[vc.containerAnimated]:n}),style:{width:t,height:r}});var Dx=wt(34518);const Ui={transcriptionStatus:"frontend-components-TranscriptionText-module__transcriptionStatus--xwFBI",transcriptionChunk:"frontend-components-TranscriptionText-module__transcriptionChunk--EGTI3",hoverChunk:"frontend-components-TranscriptionText-module__hoverChunk--taY2G",rowIndicator:"frontend-components-TranscriptionText-module__rowIndicator--qPF6l",hoverRow:"frontend-components-TranscriptionText-module__hoverRow--p30tM",activeRow:"frontend-components-TranscriptionText-module__activeRow--JGmX3",rowText:"frontend-components-TranscriptionText-module__rowText--uiBoy",activeWord:"frontend-components-TranscriptionText-module__activeWord--gq5t5",loadingSilhouette:"frontend-components-TranscriptionText-module__loadingSilhouette--TnTGs",playCircle:"frontend-components-TranscriptionText-module__playCircle--YrnqH"};var Mx=Object.defineProperty,xx=Object.defineProperties,Ax=Object.getOwnPropertyDescriptors,hv=Object.getOwnPropertySymbols,Nx=Object.prototype.hasOwnProperty,Rx=Object.prototype.propertyIsEnumerable,pv=(n,t,r)=>t in n?Mx(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,mv=(n,t)=>{for(var r in t||(t={}))Nx.call(t,r)&&pv(n,r,t[r]);if(hv)for(var r of hv(t))Rx.call(t,r)&&pv(n,r,t[r]);return n},_v=(n,t)=>xx(n,Ax(t));function Lx({transcription:n,player:t,postId:r}){var i,s;const[M,k]=(0,o.eJ)(!1),[j,U]=(0,o.eJ)(),[q,Pe]=(0,o.eJ)(0),[Me,xe]=(0,o.eJ)(!1),[Ve,qe]=(0,o.eJ)(!1),[Ge,ut]=(0,o.eJ)(),[bt,Pt]=(0,o.eJ)(),[At,Lt]=(0,o.eJ)();if((0,o.d4)(()=>{n.cdn_url&&(k(!0),ge().get(n.cdn_url).then(Ht=>Ht.text&&U(JSON.parse(Ht.text))).finally(()=>k(!1)))},[n]),(0,o.d4)(()=>{var Ht;const on=(Ht=t.current)==null?void 0:Ht.player;if(on){const hn=Gn=>{typeof Gn.target.currentTime=="number"&&Pe(Gn.target.currentTime)},an=()=>xe(!0),mn=()=>xe(!1),rr=()=>xe(!1);return on.addEventListener("timeupdate",hn),on.addEventListener("play",an),on.addEventListener("pause",mn),on.addEventListener("ended",rr),()=>{on.removeEventListener("timeupdate",hn),on.removeEventListener("play",an),on.removeEventListener("pause",mn),on.removeEventListener("ended",rr)}}},[t]),M)return(0,e.h)(gv,null);if(!(j!=null&&j.length))return(0,e.h)("div",{className:Ui.transcriptionStatus},(0,e.h)("p",null,(n==null?void 0:n.status)==="in_progress"?"Transcription in progress...":"No transcript..."),(0,e.h)(gv,null));const Dt=((s=(i=t==null?void 0:t.current)==null?void 0:i.player)==null?void 0:s.tagName)==="VIDEO"?"Videogram":"Audiogram";return(0,e.h)(e.Fragment,null,At&&bt&&(0,e.h)(kx,{noun:Dt,selection:At,onMakeAudiogram:()=>{if(bt){const[Ht,on]=bt;qe(!0),ge().post("/api/v1/audiogram").send({post_id:r,start_idx:Ht,end_idx:on}).then(hn=>{var an;(an=hn.body)!=null&&an.data&&(ut(hn.body.data),Lt(void 0),Pt(void 0))}).finally(()=>qe(!1))}}}),j.map((Ht,on)=>(0,e.h)(Bx,{row:Ht,currentTime:q,isPlaying:Me,isSelected:!!(bt&&on>=bt[0]&&on<=bt[1]),onClick:()=>{Lt(void 0),Pt(void 0)},onMouseUp:()=>{var hn;const an=window.getSelection();(hn=an==null?void 0:an.toString())!=null&&hn.length?(Lt(an),Pt(mn=>mn?mn[0]<=on?[mn[0],on]:[on,mn[0]]:void 0)):(Lt(void 0),Pt(void 0))},onMouseDown:()=>Pt([on,on]),onPause:()=>{var hn;(hn=t.current)!=null&&hn.player&&t.current.player.pause()},onPlay:()=>{var hn;(hn=t.current)!=null&&hn.player&&(t.current.player.currentTime=Ht.start+1e-4,t.current.player.play())}})),!!(Ve||Ge)&&(0,e.h)(Dx.Yy,{isPopup:!0,hasClosePill:!0,onClose:()=>{ut(void 0)}},(0,e.h)(Vt.tu,{padding:16},(0,e.h)(J.xv.H2,{padding:16},Ve?`Generating ${Dt}...`:`Sharable ${Dt}...`),Ge?(0,e.h)("video",{src:Ge.cdn_url,style:{borderRadius:4,alignSelf:"center",marginBottom:12},controls:!0,width:512}):(0,e.h)(Vt.tu,{alignItems:"center",justifyContent:"center",style:{flex:1,minHeight:280}},(0,e.h)("div",{className:"embed-loader"})))))}function kx({selection:n,onMakeAudiogram:t,noun:r}){var i,s;const M=typeof window!="undefined"&&("ontouchstart"in window||navigator.maxTouchPoints>0),k=(0,Bi.XA)(),j=(s=(i=n.anchorNode)==null?void 0:i.parentElement)==null?void 0:s.getBoundingClientRect();return j?(0,e.h)(Vt.tu,{style:{top:M?Math.max(j.y,0)+j.height+12:Math.max(j.y,0)-24,left:"50vw",transform:"translateX(-50%)",pointerEvents:"auto",maxWidth:240},justifyContent:"center",className:ua.popover,shadow:"md"},(0,e.h)(Vt.tu,{className:u()(ua.popoverButtons,k&&ua.isMobile),radius:12,padding:4,gap:8},(0,e.h)(iv,{onClick:t,disabled:!1,isExplainer:!1},(0,e.h)(Sx,{color:"white"}),(0,e.h)(J.xv.B4,{color:"bg-light",weight:"medium"},"Make ",r)))):null}function gv(){return(0,e.h)(e.Fragment,null,(0,e.h)(ca,{width:"80%",height:"24px",className:Ui.loadingSilhouette}),(0,e.h)(ca,{width:"34%",height:"24px",className:Ui.loadingSilhouette}),(0,e.h)(ca,{width:"75%",height:"24px",className:Ui.loadingSilhouette}),(0,e.h)(ca,{width:"100%",height:"24px",className:Ui.loadingSilhouette}),(0,e.h)(ca,{width:"68%",height:"24px",className:Ui.loadingSilhouette}))}function Bx({row:n,currentTime:t,onPlay:r,isPlaying:i,onPause:s,onMouseUp:M,onMouseDown:k,isSelected:j,onClick:U}){const[q,Pe]=(0,o.eJ)(!1),Me=n.start<=t&&n.end>=t;return(0,e.h)("div",{onClick:U,onMouseDown:k,onMouseUp:M,onMouseEnter:()=>Pe(!0),onMouseLeave:()=>Pe(!1),style:{display:"flex",width:"100%",alignItems:"center"}},!i||q&&!Me?(0,e.h)(Tx,{onClick:r,size:24,className:Ui.playCircle,style:_v(mv({},q&&{color:"var(--color-accent-substack)"}),{visibility:Me||q?"visible":"hidden"})}):(0,e.h)(Ix,{onClick:s,size:24,className:Ui.playCircle,style:_v(mv({},q&&{color:"var(--color-accent-substack)"}),{visibility:Me||q?"visible":"hidden"})}),(0,e.h)("div",{className:u()(Ui.transcriptionChunk,{[Ui.activeRow]:Me||j,[Ui.hoverChunk]:q})},(0,e.h)("div",{className:u()(Ui.rowIndicator,{[Ui.hoverRow]:q})}),(0,e.h)("div",{className:Ui.rowText},j,n.words.map(xe=>xe.start<=t&&xe.end>=t?(0,e.h)(e.Fragment,null,(0,e.h)("span",{className:Ui.activeWord},xe.word)," "):`${xe.word} `))))}var Ux=Object.defineProperty,yc=Object.getOwnPropertySymbols,vv=Object.prototype.hasOwnProperty,yv=Object.prototype.propertyIsEnumerable,Bf=(n,t,r)=>t in n?Ux(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Fx=(n,t)=>{for(var r in t||(t={}))vv.call(t,r)&&Bf(n,r,t[r]);if(yc)for(var r of yc(t))yv.call(t,r)&&Bf(n,r,t[r]);return n},jx=(n,t)=>{var r={};for(var i in n)vv.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&yc)for(var i of yc(n))t.indexOf(i)<0&&yv.call(n,i)&&(r[i]=n[i]);return r},Uf=(n,t,r)=>(Bf(n,typeof t!="symbol"?t+"":t,r),r),Wx=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const Rl=({className:n=null,title:t,subtitle:r=null,reauthenticationTitle:i,publication:s,post:M,user:k,freeSignup:j=null,freeSignupEmail:U=null,email_form:q=!1,autoFocus:Pe=!1,isStatic:Me=!1,coupon:xe=null})=>{const Ve=k&&k.email||U||null,qe=!!(k!=null&&k.is_subscribed&&(k!=null&&k.is_magic)),Ge=(M==null?void 0:M.audience)==="founding",ut=!!(k!=null&&k.is_free_subscribed||j),bt=(0,v.getPostUrl)(s,M),Pt=xe&&xe.id&&!Ge;let At;Pt?(M==null?void 0:M.type)==="podcast"?At="Listen to this episode with a 7-day free trial":(M==null?void 0:M.type)==="video"?At="Watch with a 7-day free trial":At=`Keep ${(0,Ne.getPostCtaPresentParticiple)(M==null?void 0:M.type)} with a 7-day free trial`:qe?At=i:At=t;let Lt;return Pt&&((M==null?void 0:M.type)==="podcast"?Lt="listen to this episode":(M==null?void 0:M.type)==="video"?Lt="watch this video":Lt=`keep ${(0,Ne.getPostCtaPresentParticiple)(M==null?void 0:M.type)} this ${(0,Ne.getPrintedPostType)(M==null?void 0:M.type)}`),(0,e.h)("div",{className:u()("paywall",n),"data-testid":"paywall","data-component-name":"Paywall"},Ve&&(0,e.h)("div",{className:"paywall-intro"},"Hi ",(0,e.h)("b",null,Ve)),(0,e.h)("h2",{className:"paywall-title"},At),r&&!Pt&&(0,e.h)("p",{className:"paywall-subtitle"},r),Pt&&(0,e.h)("div",{className:"paywall-free-trial-subtitle"},(0,e.h)("p",{className:"paywall-subtitle"},"Subscribe to"," ",(0,e.h)("b",null,(0,e.h)("i",null,s.name))," ","to ",Lt," and get 7 days of free access to the full post archives.")),q?!ut&&(0,e.h)(Vt.gq,{paddingTop:24,justifyContent:"center"},(0,e.h)(ei.Z,{autoFocus:Pe!=null?Pe:!0,email:Ve,freeSignup:j,freeSignupEmail:U,onAccentBackground:!0,pub:s,source:"post-unlock",submitButtonText:`Start ${(0,Ne.getPostCtaPresentParticiple)(M==null?void 0:M.type,{isFinalWord:!0})}`,user:k,onSuccess:()=>document.location.reload()})):(0,e.h)(Hx,{coupon:xe,email:Ve,isStatic:Me,post:M,postUrl:bt,publication:s,useCoupon:Pt,user:k}),!qe&&!Me&&(0,e.h)("div",{className:"paywall-login"},(0,e.h)("a",{href:(0,v.getSigninUrl)({for_pub:s.subdomain,change_user:!!Ve}),native:!0},zx({post:M,publication:s,isPaid:!q})," ",(0,e.h)("b",null,Ve?"Switch accounts":"Sign in"))))},Hx=({coupon:n,email:t,isStatic:r,post:i,postUrl:s,publication:M,useCoupon:k,user:j})=>{const U=!!(j!=null&&j.is_founding),q=!!(j!=null&&j.is_subscribed),Pe=!!(j!=null&&j.is_subscribed&&(j!=null&&j.is_magic)),Me=(i==null?void 0:i.audience)==="founding",{exposeExperiment:xe,getExperimentVariant:Ve}=(0,ct.jc)(),qe=Ve("autosubscribe_from_paywall")==="treatment";if(r){if(!M.plans)return null;const Ge=Me?bi.Substitutions.FOUNDING_CHECKOUT_URL:bi.Substitutions.CHECKOUT_URL,ut=k?`&coupon=${n.id}`:"",bt=Me?`Upgrade to ${(0,Ea.getFoundingTierName)(M)}`:k?"Start trial":(0,e.h)(Af,{pub:M,user:j,isStatic:r});return(0,e.h)(Vx,{href:`${Ge}simple=true&utm_source=paywall&utm_medium=email&utm_content=${i.id}&next=${s}${ut}`},bt)}return!U&&Me?M.plans?(0,e.h)(bc,{href:(0,v.getCheckoutUrl)(M,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:i?i.id:null,plan:"founding"})},`Upgrade to ${(0,Ea.getFoundingTierName)(M)}`):null:q?Pe?(0,e.h)(bc,{href:(0,v.getSigninUrl)({for_pub:M.subdomain,email:t})},"Click here to sign in"):null:M.plans?j!=null&&j.email&&!k?(0,e.h)(bc,{onClick:()=>Wx(void 0,null,function*(){yield xe("autosubscribe_from_paywall");let Ge;if(qe)try{Ge=(yield ge().post("/api/v1/free").send({source:"paywall",email:t,first_url:l.xY,first_referrer:l.ip,current_url:l.UE,current_referrer:l.xU})).body.referral_token}catch(ut){(0,D.j)(D.FP.PAYWALL_FREE_SIGNUP_FAILED,{reason:ut.message})}window.location.href=(0,v.getCheckoutUrl)(M,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:r?"email":"web",utm_content:i?i.id:null,just_signed_up:qe,referral_token:Ge})})},(0,e.h)(Af,{pub:M,user:j,isStatic:r})):(0,e.h)(bc,{href:(0,v.getCheckoutUrl)(M,{simple:!0,next:document.location.href,utm_source:k?"paywall-free-trial":"paywall",utm_medium:r?"email":"web",utm_content:i?i.id:null,coupon:k?n.id:null})},k?"Start trial":(0,e.h)(Af,{pub:M,user:j,isStatic:r})):null},Vx=({children:n,href:t})=>(0,e.h)("div",{className:"paywall-cta"},(0,e.h)("a",{className:"button primary subscribe-btn",href:t},(0,e.h)("span",null,n))),bc=({children:n,href:t,onClick:r})=>(0,e.h)("div",{className:"paywall-cta"},(0,e.h)("a",{href:t,onClick:r,native:!0},(0,e.h)(Je.Z,{className:"subscribe-btn"},n)));class Kx extends Jn.p{renderChildren(){const t=this.props,{ref:r}=t,i=jx(t,["ref"]);return(0,e.h)(Rl,Fx({className:"modal-paywall"},i))}}class yK extends null{renderButtons({pub:t,post:r,isStatic:i,paywallAudience:s}){return h("div",{className:"audio-player-buttons audio-player-paywall"},h("a",{className:"primary",href:getCheckoutUrl(t,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:r?r.id:null}),native:!0},h(Button,null,h(PlayIcon,{alt:"play",isStatic:i,stroke:"#000000",fill:"#000000"}),`This episode is for ${s!=null?s:"paid subscribers"}`)))}}class $x extends wl{constructor(){super(...arguments),Uf(this,"playbackEnabled",()=>this.props.mediaUpload.preview_duration>0),Uf(this,"cta",()=>this.playbackEnabled()&&!this.state.allSourcesFailed&&!this.state.hasReachedEnd?"":this.playbackEnabled()?"Subscribe for full video":"Subscribe and watch"),Uf(this,"href",()=>{var t;return this.playbackEnabled()&&!this.state.allSourcesFailed&&!this.state.hasReachedEnd?this.props.href:this.props.href||(0,v.getCheckoutUrl)(this.props.pub,{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:(t=this.props.post)==null?void 0:t.id})})}}function zx({post:n,publication:t,isPaid:r=!0}={}){var i;return r?(n==null?void 0:n.audience)==="founding"?`Already in the ${(i=(0,Ea.getFoundingTierName)(t))!=null?i:"Founding Member"} plan?`:"Already a paid subscriber?":"Already a subscriber?"}const bv=({post:n,pub:t,user:r,playerRef:i})=>{var s,M;const k=!(0,Ne.canSeeTranscription)(r,n),j=((s=n==null?void 0:n.podcastUpload)==null?void 0:s.transcription)||((M=n==null?void 0:n.videoUpload)==null?void 0:M.transcription);return j?k?(0,e.h)(Rl,{user:r,publication:t,post:n,title:"Transcriptions on this episode are for paid subscribers",reauthenticationTitle:"To see the transcription, please re-authenticate."}):(0,e.h)(Lx,{transcription:j,player:i,postId:n.id}):null};var Ll=wt(43615),Di=wt(39776);const Ca={container:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__container--Wg_Ug",image:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image--rPbBU","image-square-legacy":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-legacy--_GME6",containerSquare:"frontend-main-home-PostPreview-PostPreviewCoverImage-module__containerSquare--FzVt2","inner-wrapper":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper--ygG2h","inner-wrapper-small":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-small--OSiYt","inner-wrapper-medium":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-medium--VWRZy","inner-wrapper-large":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__inner-wrapper-large--t45Cv","image-square":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square--hVSXS","image-square-small":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-small--GS7r4","image-square-medium":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-medium--SzURN","image-square-large":"frontend-main-home-PostPreview-PostPreviewCoverImage-module__image-square-large--QbhB7"},bs=({className:n,hidePlaceholder:t,imageAspectRatio:r,imageWidth:i,isBelowTheFold:s,post:M,squareImageSize:k})=>{const{getConfigFor:j}=(0,Ur.xR)(),{isMobile:U}=Ti(),q=j("show_entire_square_image"),Pe=(0,Xe.getCoverImageUrl)(M);if(!Pe&&t)return null;const Me=!i&&!r?1.32:r,xe=i||336,Ve=!!Pe&&M.cover_image_is_square&&q,qe=Ve&&!!k&&!U,Ge=s?"lazy":void 0;return qe?(0,e.h)(Gx,{aspectRatio:Me,className:n,imageUrl:Pe,loading:Ge,size:k,width:xe}):(0,e.h)("div",{className:u()(n,Ca.container,{"post-preview-cover-image-container--empty":!Pe}),style:`aspect-ratio: ${Me}`},Pe?(0,e.h)(Br.e,{className:u()(Ca.image,{[Ca["image-square-legacy"]]:Ve}),src:Pe,alt:"",maxWidth:xe,imageProps:Me?{height:Math.round(xe/Me),smartCrop:!0,gravity:"center"}:{},loading:Ge,style:`aspect-ratio: ${Me}`}):null)},Gx=({aspectRatio:n,className:t,imageUrl:r,width:i,loading:s,size:M})=>(0,e.h)("div",{className:u()(t,Ca.container,Ca.containerSquare),style:`aspect-ratio: ${n}`},(0,e.h)("div",{className:u()(Ca["inner-wrapper"],Ca[`inner-wrapper-${M}`])},(0,e.h)(Br.e,{className:u()(Ca.image,Ca["image-square"],Ca[`image-square-${M}`]),src:r,alt:"",maxWidth:i,imageProps:{height:i,smartCrop:!0,gravity:"center"},loading:s})));var Zx=wt(98913),Yx=wt.n(Zx),Pv=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const Jx={"1m":"one minute","1h":"one hour","24h":"24 hours","7d":"one week","30d":"one month","100y":"all time"},Xx=({ban:n,onReply:t,showReplyLink:r,name:i})=>{const s=Tr()(n.expiry).standardDatetimeWithYear();return(0,e.h)("div",{className:"banned"},i," is banned until ",s,"."," ",r&&(0,e.h)("span",null,(0,e.h)("a",{onClick:t,href:"javascript:void(0)"},"Leave a comment")," ","to let them know why."))};function Ff({pub:n,sub:t,children:r,tab:i}){return!t||!t.email?r:(0,e.h)("a",{target:"_blank",href:(0,v.getSubscriberDetailsUrl)(n,t.email,{tab:i})},r)}const Qx=({sub:n})=>n?n.is_subscribed?(0,e.h)("span",{className:"subscribed"},"Subscribed (Paid)"):n.is_free_subscribed?(0,e.h)("span",{className:"subscribed"},"Subscribed (Free)"):(0,e.h)("span",{className:"not-subscribed"},"Not Subscribed"):null,qx=({bans:n,activeBans:t})=>n.length===0?(0,e.h)("span",null,"No previous bans"):t.length>0?(0,e.h)("span",{className:"banned status"},"Banned"):(0,e.h)("span",{className:"status"},"Banned previously from ",Tr()(n[0].start).standardDatetimeWithYear()," to"," ",Tr()(n[0].expiry).standardDatetimeWithYear()),eA=({comment:n,pub:t,onReply:r,onBan:i,onClose:s})=>{const[M,k]=(0,o.eJ)(null),[j,U]=(0,o.eJ)(!1),[q,Pe]=(0,o.eJ)([]),[Me,xe]=(0,o.eJ)(!1),[Ve,qe]=(0,o.eJ)("24h"),[Ge,ut]=(0,o.eJ)(null),[bt,Pt]=(0,o.eJ)(!0),At=(0,o.sO)(null),Lt=!!n||j,Dt=mn=>{const rr=mn;mn.forEach(Gn=>{rr.findIndex(Vn=>Vn.id===Gn.id)==-1&&rr.push(Gn)}),Pe(rr)},Ht=()=>{r(n.id),At.current.close()};(0,o.d4)(()=>{At!=null&&At.current&&(Lt?At.current.state.open||At.current.open():At.current.state.open&&At.current.close())},[n,j]),(0,o.d4)(()=>Pv(void 0,null,function*(){if(n){xe(!1),U(!0),Pe([]),ut(null),k(null);try{const mn=yield ge().get(`/api/v1/user/${n.user_id}/bans`);Pe(mn.body.bans),k(mn.body.sub)}catch(mn){console.error("Failed to get bans:",mn),ut(!0)}U(!1)}}),[n]);const on=()=>Pv(void 0,null,function*(){U(!0);try{const mn=yield ge().post(`/api/v1/comment_ban/${n.id}`,{pub:t}).send({user_id:n.user_id,expiry:Ve,removeAllComments:bt});bt&&document.location.reload(),Dt(mn.body.bans),xe(!0),U(!1),i(n,q)}catch(mn){console.error("Failed to submit ban",mn),ut(!0)}U(!1)});if(!n)return null;const hn=Jx[Ve],an=q.filter(mn=>Tr()(mn.expiry).isAfter(Tr()()));return(0,e.h)(Jn.p,{ref:At,noExitOnClick:!0,onClose:s},(0,e.h)("div",{className:"ban-dialog comment"},(0,e.h)("div",{className:"profile"},(0,e.h)("div",{className:"photo"},(0,e.h)(Ff,{pub:t,sub:M},(0,e.h)(Wn.fi,{photo_url:n.photo_url,size:80,banned:an.length>0}))),(0,e.h)("div",{className:"info"},(0,e.h)(Ff,{pub:t,sub:M},(0,e.h)("span",{className:"name"},n.name)),(0,e.h)(Qx,{sub:M}),(0,e.h)(qx,{bans:q,activeBans:an}))),Ge&&(0,e.h)("div",{className:"error"},"Sorry, an error occurred."),j?"Loading...":(0,e.h)("form",{className:"form"},an.length===0&&(0,e.h)("div",null,(0,e.h)("label",null,"Ban from commenting for",(0,e.h)("select",{onInput:mn=>qe(mn.target.value),value:Ve},(0,e.h)("option",{value:"1h"},"one hour"),(0,e.h)("option",{value:"24h"},"24 hours"),(0,e.h)("option",{value:"7d"},"one week"),(0,e.h)("option",{value:"30d"},"one month"),(0,e.h)("option",{value:"100y"},"indefinitely"))),(0,e.h)("label",null,(0,e.h)("input",{type:"checkbox",checked:bt,onInput:mn=>Pt(mn.target.checked)}),"Remove ",(0,Ne.guessFirstName)(n.name),"'s"," ",(0,e.h)(Ff,{pub:t,sub:M,tab:"comments"},"previous comments on your publication")," ","(this action cannot be reversed)"),(0,e.h)("div",{className:"button-wrapper"},(0,e.h)(Je.Z,{className:"button primary",onClick:on},"Ban for ",hn))),an.length>0&&q.filter(mn=>mn.user_id).map(mn=>(0,e.h)(Xx,{ban:mn,showReplyLink:Me,onReply:Ht,name:n.name})))))},PK=null;var Fi=wt(82622),jf=wt(38441),tA=wt(7617);const Ev=(0,go.Z)("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]]),nA=(0,go.Z)("Gift",[["polyline",{points:"20 12 20 22 4 22 4 12",key:"nda8fc"}],["rect",{width:"20",height:"5",x:"2",y:"7",key:"wkgdzj"}],["line",{x1:"12",x2:"12",y1:"22",y2:"7",key:"1n8zgp"}],["path",{d:"M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z",key:"zighg4"}],["path",{d:"M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z",key:"1pa5tk"}]]),rA=(0,go.Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"16",y2:"12",key:"1y1yb1"}],["line",{x1:"12",x2:"12.01",y1:"8",y2:"8",key:"110wyk"}]]);var oA=wt(66440),iA=wt(81108),aA=Object.defineProperty,sA=Object.defineProperties,lA=Object.getOwnPropertyDescriptors,wv=Object.getOwnPropertySymbols,uA=Object.prototype.hasOwnProperty,cA=Object.prototype.propertyIsEnumerable,Cv=(n,t,r)=>t in n?aA(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,dA=(n,t)=>{for(var r in t||(t={}))uA.call(t,r)&&Cv(n,r,t[r]);if(wv)for(var r of wv(t))cA.call(t,r)&&Cv(n,r,t[r]);return n},fA=(n,t)=>sA(n,lA(t));const hA=n=>(0,e.h)(x.l,fA(dA({},n),{name:"LinearIcon",svgParams:{height:50,width:50,fill:"#5E6AD2"}}),(0,e.h)("path",{d:"M41.3,44c0.5-0.4,0.9-0.8,1.3-1.3c9.8-9.8,9.8-25.6,0-35.4c-9.8-9.8-25.6-9.8-35.4,0C6.8,7.8,6.4,8.2,6,8.7   L41.3,44z"}),(0,e.h)("path",{d:"M38.3,46.2L3.8,11.7c-0.7,1.1-1.3,2.2-1.8,3.4L34.9,48C36.1,47.5,37.2,46.9,38.3,46.2z"}),(0,e.h)("path",{d:"M31.1,49.3L0.7,18.9c-0.4,1.5-0.6,3-0.7,4.5L26.6,50C28.1,49.9,29.6,49.7,31.1,49.3z"}),(0,e.h)("path",{d:"M21.1,49.8L0.2,28.9c0.8,5.1,3.1,9.9,7,13.9C11.2,46.6,16.1,49,21.1,49.8z"}));var Ps=wt(31533),Vs=wt(36250);const Ov="comment-collapse-state",Sv=250,Ua=yA(),pA=()=>{if(typeof window!="undefined"&&window.location.hash){const n=/^#comment-(\d+)/.exec(window.location.hash);if(n)return Number(n[1])}return null},mA=()=>typeof window!="undefined"&&window.location.hash==="#input",Tv=(n,t)=>{if(!n||!t||!t.length)return null;for(const r of t){if(r.id===n)return r;if(r.children&&r.children.length){const i=Tv(n,r.children);if(i)return i}}return null};function kl(n,t){return n.map(r=>r.id===t.id?t:(r.children=kl(r.children,t),r)).filter(r=>r)}function _A(n,t,{recurse:r=!0}={}){var i,s,M,k;return!!(n.id!==t.id||((i=n==null?void 0:n.metadata)==null?void 0:i.is_author)!==((s=t==null?void 0:t.metadata)==null?void 0:s.is_author)||((M=n==null?void 0:n.metadata)==null?void 0:M.founding)!==((k=t==null?void 0:t.metadata)==null?void 0:k.founding)||(n==null?void 0:n.body)!==(t==null?void 0:t.body)||(n==null?void 0:n.status)!==(t==null?void 0:t.status)||n.reaction!==t.reaction||n.user_banned!==t.user_banned||n.reported_by_user!==t.reported_by_user||(n.reactor_names?n.reactor_names.length:0)!==(t.reactor_names?t.reactor_names.length:0)||Object.values(n.reactions).reduce((j,U)=>j+U,0)!==Object.values(t.reactions).reduce((j,U)=>j+U,0)||r&&gA(n.children,t.children,{recurse:r}))}function gA(n,t,{recurse:r=!0}={}){if((n?n.length:0)!==(t?t.length:0))return!0;if(n)for(const i of n){const s=t.find(M=>M.id===i.id);if(!s||r&&_A(i,s,{recurse:r}))return!0}return!1}function Bl(n,t,r){return(0,v.pathWithQuery)((0,v.getPostUrl)(t,n,{comments:!(0,Ne.shouldUseInlineComments)(t,n)}),r)}function vA(n){return(n||"").split(`
`).filter(t=>t.trim()).map(t=>(0,e.h)("p",null,(0,e.h)(Wp(),{options:{validate:{url:r=>r&&!r.startsWith("/")},attributes:{rel:"nofollow ugc noopener"}}},t)))}const Pc=n=>{var t,r,i,s;return{id:n.user_id,photo_url:n.photo_url,name:n.name,bestseller_tier:n.user_bestseller_tier,primary_publication:n.user_primary_publication,is_free_subscribed:["free_signup, subscribed"].includes((t=n.metadata)==null?void 0:t.membership_state),is_subscribed:((r=n.metadata)==null?void 0:r.membership_state)==="subscribed",is_founding:(i=n.metadata)==null?void 0:i.founding,is_author:(s=n.metadata)==null?void 0:s.is_author}};function yA(){try{return(0,xi.mM)(Ov,[])}catch(n){return console.error("Failed to load comment collapse state:",n),[]}}function bA(n,t){let r=!1;if(t)Ua.includes(n)||(r=!0,Ua.push(n),Ua.length>Sv&&Ua.splice(0,Ua.length-Sv));else{const i=Ua.indexOf(n);i>=0&&(r=!0,Ua.splice(i,1))}if(r)try{(0,xi.ex)(Ov,Ua)}catch(i){console.error("Failed to store comment collapse state:",i)}}function PA(n){return Ua.includes(n)}const EA={link:"frontend-main-comments-CommentActions-module__link--yWV0t"};var Ec=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const wA=({comment:n,pub:t,user:r,post:i,reaction_token:s,commentsEnabledForPost:M,hideContextMenu:k,noRestack:j,onChange:U,startReply:q,startEdit:Pe,startReport:Me,openBan:xe,updateCommentReacted:Ve})=>{var qe;const{pinned_by_user_id:Ge}=n,ut=!!Ge,bt=(0,o.sO)(),[Pt,At]=(0,o.eJ)(!1),[Lt,Dt]=(0,o.eJ)(!1),[Ht,on]=(0,o.eJ)(!1),hn=()=>Ec(void 0,null,function*(){if(!Ht&&window.confirm(`Are you sure you want to ${ut?"unpin":"pin"} this comment?`)&&!Ht){on(!0);try{yield ge().patch(`/api/v1/comment/${n.id}/pin`).send({pinned:!ut}),U({pinned:!ut}),document.location.reload()}catch(fr){alert((0,y.getNetworkErrorMessage)(fr)),on(!1)}}}),an=()=>Ec(void 0,null,function*(){var fr;if(!Pt&&window.confirm("Are you sure you want to remove this comment?")&&!Pt){At(!0);try{yield ge().patch(`/api/v1/comment/${n.id}/status`).send({status:Fi.COMMENT_STATUS.moderator_removed}),U({suppressed:!0,status:Fi.COMMENT_STATUS.moderator_removed,body:null}),(fr=bt.current)==null||fr.close()}catch(Nr){alert((0,y.getNetworkErrorMessage)(Nr))}At(!1)}}),mn=()=>Ec(void 0,null,function*(){var fr;if(!Lt&&window.confirm("Are you sure you want to delete this comment?")&&!Lt){Dt(!0);try{yield ge().delete(`/api/v1/comment/${n.id}`).send(),U({status:Fi.COMMENT_STATUS.deleted,deleted:!0,user_id:null,name:null,body:null}),(fr=bt.current)==null||fr.close()}catch(Nr){alert((0,y.getNetworkErrorMessage)(Nr))}Dt(!1)}}),rr=()=>Ec(void 0,null,function*(){const fr=(0,Vs.getCommentUrl)(i,n,t),Nr=`https://linear.app/substackinc/team/TPT/new?description=${n.body}%0A%0AComment%20author:%20[${n.name}](https://admin.substack.com/users/${n.user_id})%0A%0ALink:%20${fr}&status=Triage`;window.open(Nr,"_blank")}),Gn=!!(r&&r.id===n.user_id),Vn=(r==null?void 0:r.is_contributor)&&(0,Fi.Ng)(n)&&n.ancestor_path==="",_n=(0,Ne.canEditComment)(r,n),jn=(r==null?void 0:r.is_contributor)&&(0,Fi.Ng)(n)&&n.ancestor_path==="",_r=!Gn&&n.metadata.eligibleForGift&&!n.metadata.is_author,nr=(r==null?void 0:r.is_contributor)&&(0,Fi.Ng)(n),qn=!Gn&&t.moderation_enabled&&!n.reported_by_user&&!n.hidden&&!n.suppressed,Rn=Gn,Bn=nr&&!Gn,cr=nr&&r.is_global_admin,Ln=r==null?void 0:r.is_global_admin,er=nr&&!n.user_banned&&!Gn,qt=nr&&n.email&&!Gn,Sn=_n||jn||_r||qt,Yt=er||qn||Bn||Rn||cr,ir=(0,Di.default)("like_comments_enabled"),Pn=!k&&(Sn||Yt),gr=`${t.base_url}/subscribe?gift=true&recipient=${n.user_id}-${(0,v_.cleanSlug)(n.name,{hashIfEmpty:!0})}&comment_id=${n.id}}`;return(0,e.h)(me.hs,{gap:16,alignItems:"center",justifyContent:"start",paddingTop:8,className:"comment-actions"},!n.deleted&&[ir&&(0,e.h)(Ps.dJ,{user:r,pub:t,post:i,comment:n,height:16,countInParenthesesStyle:!0,token:s,onChange:({comment:fr})=>U(fr),onReactedChange:fr=>{Ve&&Ve(n.id,fr)},noSelfUpdate:!!Ve}),M&&(0,e.h)(Nf.hh,{onClick:()=>q(),className:EA.link},(0,e.h)(me.hs,{gap:6,alignItems:"center"},(0,e.h)(tA.Z,{stroke:"var(--color-secondary-themed)",size:16}),(0,e.h)(J.xv.Meta,{color:"pub-secondary-text"},"Reply",((qe=n.children)==null?void 0:qe.length)>0&&` (${n.children.length})`))),!j&&(0,e.h)(OA,{pub:t,post:i,comment:n,onChange:U}),Pn&&(0,e.h)(Do.v2,{trigger:(0,e.h)(zr.hU,{priority:"secondary-theme",rounded:!1,size:20},(0,e.h)(Hp.Z,{size:16})),useMobileBottomSheet:!0,mobileBottomSheetTitle:"More"},Vn&&(0,e.h)(CA,{pub:t,post:i,comment:n}),_n&&(0,e.h)(Do.sN,{icon:(0,e.h)(_l.Z,null),onClick:Pe},"Edit"),jn&&(0,e.h)(Do.sN,{icon:(0,e.h)(Ev,null),onClick:hn},Ht?ut?"Unpinning...":"Pinning...":ut?"Unpin":"Pin"),_r&&(0,e.h)(Do.sN,{icon:(0,e.h)(nA,null),href:gr},"Gift a subscription"),Ln&&(0,e.h)(Do.sN,{icon:(0,e.h)(hA,{strokeWidth:0,height:24,width:24}),onClick:rr},"Add comment to Linear"),qt&&(0,e.h)(Do.sN,{icon:(0,e.h)(rA,null),onClick:()=>window.open((0,v.getSubscriberDetailsUrl)(t,n.email),"_blank")},"Subscriber details"),Sn&&Yt&&(0,e.h)(G0.i,null),Rn&&(0,e.h)(Do.sN,{icon:(0,e.h)(oA.Z,null),onClick:mn,priority:"destructive"},Lt?"Deleting...":"Delete"),Bn&&(0,e.h)(Do.sN,{icon:(0,e.h)(iA.Z,null),onClick:an,priority:"destructive"},Pt?"Removing...":"Remove"),qn&&(0,e.h)(Do.sN,{icon:(0,e.h)(Kp.Z,null),onClick:Me,priority:"destructive"},"Report"),er&&(0,e.h)(Do.sN,{icon:(0,e.h)($p.Z,null),onClick:xe,priority:"destructive"},"Ban or suspend user"))])};function CA({pub:n,post:t,comment:r}){const i=(0,Au.i3)();return(0,e.h)(Do.sN,{icon:(0,e.h)(bl.Z,null),onClick:()=>{i.open({restackUrl:(0,Vs.getCommentUrl)(t,r,n)})}},"Restack")}function OA({pub:n,post:t,comment:r,onChange:i}){const{canRestack:s,isRestacked:M,restacks:k,menuItems:j,nuxModal:U}=(0,tv.K)({pub:n,post:t,comment:r,onRestack:q=>{i({restacked:q,restacks:k+(q?1:-1)})}});if(s)return(0,e.h)("span",null,U,(0,e.h)(Do.v2,{layerClassName:"comment-restack-menu",useMobileBottomSheet:!0,mobileBottomSheetTitle:"Restack",trigger:(0,e.h)("a",{className:u()("restack-button",M&&"restacked"),href:"javascript:void(0)"},(0,e.h)(bl.Z,null),"Restack",k>0&&` (${k})`)},j))}const SA=wA,TA=({comment:n,bodyRef:t,expandToggleClicked:r})=>{const[i,s]=(0,o.eJ)(!1),M=(n.user_banned_for_comment||n.reported_by_user)&&!i;return(0,e.h)("div",{className:"comment-body",ref:t},(0,e.h)(IA,{comment:n,showHiddenComment:i,setShowHiddenComment:s}),n.hidden?(0,e.h)("i",null,"Comment hidden"):n.deleted?(0,e.h)("i",null,"Comment deleted"):M?(0,e.h)("i",null):n.suppressed&&!i?(0,e.h)("i",null,"Comment removed"):n.type==="reply"?(0,e.h)(DA,{comment:n}):vA(n.body),(0,e.h)("div",{role:"button",className:"show-all-toggle",onClick:()=>r()},(0,e.h)("div",{className:"show-all-toggle-label"},"Expand full comment")))},IA=({comment:n,showHiddenComment:t,setShowHiddenComment:r})=>{const i=(0,Fi.Ng)(n)&&(n.user_banned_for_comment||n.reported_by_user),s=n.user_banned_for_comment?"User was banned for this comment. ":"You reported this comment. ";return i&&(0,e.h)("div",{className:"comment_notice"},(0,e.h)("i",null,s,(0,e.h)("a",{href:"javascript:void(0)",onClick:()=>r(!t)},t?"Hide":"Show")))},DA=({comment:n})=>{const{title:t,truncated_body_text:r,date:i,bylines:s,like_count:M,comment_count:k,url:j}=n.reply;return(0,e.h)("a",{className:"reply-comment",href:(0,v.pathWithQuery)(j,{utm_source:"substack",utm_campaign:"post_reply_comment",utm_medium:"web"}),native:!0},(0,e.h)("div",{className:"reply-comment-title"},t),r&&(0,e.h)("div",{className:"reply-comment-body"},(0,Ne.formatEllipsis)(r)),(0,e.h)("button",{className:"reply-comment-read-more"},"Read more"),(0,e.h)("div",{className:"reply-comment-meta"},(0,Ne.getPostEmbedMeta)({date:i,bylines:s,like_count:M,comment_count:k})))},MA=TA;var Wf=wt(95847),Iv=wt(61152),xA=Object.defineProperty,AA=Object.defineProperties,NA=Object.getOwnPropertyDescriptors,Dv=Object.getOwnPropertySymbols,RA=Object.prototype.hasOwnProperty,LA=Object.prototype.propertyIsEnumerable,Mv=(n,t,r)=>t in n?xA(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,kA=(n,t)=>{for(var r in t||(t={}))RA.call(t,r)&&Mv(n,r,t[r]);if(Dv)for(var r of Dv(t))LA.call(t,r)&&Mv(n,r,t[r]);return n},BA=(n,t)=>AA(n,NA(t));const UA=n=>(0,e.h)(x.l,BA(kA({},n),{name:"CommentBadgeHeartIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{d:"M20.4134 4.58753C19.9121 4.08434 19.3164 3.68508 18.6606 3.41266C18.0047 3.14023 17.3015 3 16.5914 3C15.8812 3 15.178 3.14023 14.5222 3.41266C13.8663 3.68508 13.2707 4.08434 12.7694 4.58753L12 5.36717L11.2306 4.58753C10.7293 4.08434 10.1337 3.68508 9.47781 3.41266C8.82195 3.14023 8.11878 3 7.40863 3C6.69847 3 5.9953 3.14023 5.33944 3.41266C4.68358 3.68508 4.08793 4.08434 3.58665 4.58753C1.46832 6.70656 1.33842 10.2849 4.00631 13.0037L12 21L19.9937 13.0037C22.6616 10.2849 22.5317 6.70656 20.4134 4.58753Z"}));var FA=Object.defineProperty,jA=Object.defineProperties,WA=Object.getOwnPropertyDescriptors,xv=Object.getOwnPropertySymbols,HA=Object.prototype.hasOwnProperty,VA=Object.prototype.propertyIsEnumerable,Av=(n,t,r)=>t in n?FA(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,KA=(n,t)=>{for(var r in t||(t={}))HA.call(t,r)&&Av(n,r,t[r]);if(xv)for(var r of xv(t))VA.call(t,r)&&Av(n,r,t[r]);return n},$A=(n,t)=>jA(n,WA(t));const zA=n=>(0,e.h)(x.l,$A(KA({},n),{name:"CommentBadgePinIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{d:"M5 14.4709C5 15.3204 5.57723 15.8867 6.45681 15.8867H11.0196V20.0246C11.0196 21.1024 11.7251 22.5 12 22.5C12.2657 22.5 12.9712 21.1024 12.9712 20.0246V15.8867H17.5432C18.4136 15.8867 19 15.3204 19 14.4709C19 12.5709 17.4882 10.6709 15.0236 9.74837L14.7487 5.66529C16.0772 4.91627 17.0759 4.11244 17.5249 3.55524C17.7723 3.23554 17.9005 2.89756 17.9005 2.58699C17.9005 1.96585 17.4149 1.5 16.7094 1.5H7.28141C6.57592 1.5 6.09031 1.96585 6.09031 2.58699C6.09031 2.89756 6.21859 3.23554 6.47513 3.55524C6.91492 4.11244 7.91361 4.91627 9.25131 5.66529L8.96728 9.74837C6.50262 10.6709 5 12.5709 5 14.4709Z"}));var GA=Object.defineProperty,ZA=Object.defineProperties,YA=Object.getOwnPropertyDescriptors,Nv=Object.getOwnPropertySymbols,JA=Object.prototype.hasOwnProperty,XA=Object.prototype.propertyIsEnumerable,Rv=(n,t,r)=>t in n?GA(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,QA=(n,t)=>{for(var r in t||(t={}))JA.call(t,r)&&Rv(n,r,t[r]);if(Nv)for(var r of Nv(t))XA.call(t,r)&&Rv(n,r,t[r]);return n},qA=(n,t)=>ZA(n,YA(t));const e6=n=>(0,e.h)(x.l,qA(QA({},n),{name:"CommentBadgePenIcon",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.58889 3.9704L6.25332 2.32056C6.16709 1.89657 6.49112 1.5 6.92378 1.5H16.9301C17.442 1.5 17.8255 1.96925 17.7234 2.47094L17.4389 3.87C17.3621 4.2472 17.0304 4.51823 16.6455 4.51823H7.25935C6.93405 4.51823 6.65372 4.28918 6.58889 3.9704ZM4.67357 12.2151C6.5326 10.2165 7.65784 7.75994 8.04929 6.22991C8.12323 5.94092 8.37629 5.72559 8.67459 5.72559H15.3334C15.6317 5.72559 15.8847 5.94092 15.9587 6.22991C16.3501 7.75993 17.4754 10.2164 19.3344 12.215C19.5386 12.4346 19.5681 12.7681 19.3936 13.012L12.6044 22.4985V14.098C13.6219 13.8276 14.373 12.8839 14.373 11.7613C14.373 10.4277 13.3133 9.34668 12.0061 9.34668C10.6989 9.34668 9.63916 10.4277 9.63916 11.7613C9.63916 12.8827 10.3886 13.8256 11.4044 14.0971L11.4044 22.5L4.61435 13.012C4.43985 12.7681 4.46936 12.4346 4.67357 12.2151ZM11.1162 11.7619C11.1162 11.2618 11.5136 10.8564 12.0038 10.8564C12.494 10.8564 12.8914 11.2618 12.8914 11.7619C12.8914 12.262 12.494 12.6674 12.0038 12.6674C11.5136 12.6674 11.1162 12.262 11.1162 11.7619Z"}));var t6=wt(18446),Ul=wt.n(t6),n6=Object.defineProperty,Lv=Object.getOwnPropertySymbols,r6=Object.prototype.hasOwnProperty,o6=Object.prototype.propertyIsEnumerable,Hf=(n,t,r)=>t in n?n6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,i6=(n,t)=>{for(var r in t||(t={}))r6.call(t,r)&&Hf(n,r,t[r]);if(Lv)for(var r of Lv(t))o6.call(t,r)&&Hf(n,r,t[r]);return n},wc=(n,t,r)=>(Hf(n,typeof t!="symbol"?t+"":t,r),r);class kv extends e.Component{constructor(t,r){super(t,r),wc(this,"open",()=>{this.updateCoords(),this.createScrollListeners(),document.addEventListener("mouseup",this.onDocumentMouseUp),document.addEventListener("keydown",this.onDocumentKeyDown),this.props.onOpen&&this.props.onOpen()}),wc(this,"close",()=>{this.removeScrollListeners(),document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("keydown",this.onDocumentKeyDown),this.props.onClose&&this.props.onClose()}),wc(this,"onDocumentMouseUp",i=>{var s;!(0,y.isRootOrChild)(i.target,this.portalRef.current,((s=this.props.baseRef)==null?void 0:s.current)||this.props.baseRef)&&this.state.open&&(this.close(),this.setState({open:!1}))}),wc(this,"onDocumentKeyDown",i=>{i.key==="Escape"&&this.state.open&&(this.close(),this.setState({open:!1}))}),this.onResize=Lu()(this.updateCoords.bind(this)),this.scrollListenersToRemove=[],this.state={coords:{},open:!1},this.portalRef=(0,e.createRef)()}toggle(){const t=!this.state.open;t?(this.removeScrollListeners(),this.open()):this.close(),this.setState({open:t})}updateCoords(){var t,r,i,s,M,k,j;const U=(s=(r=((t=this.props.baseRef)==null?void 0:t.current)||this.props.baseRef)==null?void 0:r.getBoundingClientRect)==null?void 0:s.call(((i=this.props.baseRef)==null?void 0:i.current)||this.props.baseRef);if(U){let q=0,Pe=((M=this.props.baseRef)==null?void 0:M.current)||this.props.baseRef;for(;Pe=Pe==null?void 0:Pe.parentElement;)q+=Pe.scrollTop;this.setState({coords:{left:U.x+(this.props.rightAlign?U.width:0)+(typeof window!="undefined"?window.scrollX:0)+(((k=this.props.offset)==null?void 0:k.x)||0),top:U.y+q+(((j=this.props.offset)==null?void 0:j.y)||0),width:U.width,height:U.height}})}}componentDidMount(){typeof window!="undefined"&&window.addEventListener("resize",this.onResize),this.updateCoords(),this.props.hoverToggle&&this.createMouseListeners()}createMouseListeners(){var t,r,i,s;(r=((t=this.props.baseRef)==null?void 0:t.current)||this.props.baseRef)==null||r.addEventListener("mouseenter",this.open),(s=((i=this.props.baseRef)==null?void 0:i.current)||this.props.baseRef)==null||s.addEventListener("mouseleave",this.close)}removeMouseListeners(){var t,r,i,s;(r=((t=this.props.baseRef)==null?void 0:t.current)||this.props.baseRef)==null||r.removeEventListener("mouseenter",this.open),(s=((i=this.props.baseRef)==null?void 0:i.current)||this.props.baseRef)==null||s.removeEventListener("mouseleave",this.close)}componentDidUnmount(){typeof window!="undefined"&&window.removeEventListener("resize",this.onResize),this.removeScrollListeners(),this.removeMouseListeners()}onScroll(t){var r,i;const s=t==null?void 0:t.getBoundingClientRect(),M=(i=((r=this.props.baseRef)==null?void 0:r.current)||this.props.baseRef)==null?void 0:i.getBoundingClientRect();if(!s||!M)return;const k=({x:Me,y:xe})=>q<=Me&&Me<=Pe&&j<=xe&&xe<=U,{top:j,bottom:U,left:q,right:Pe}=s;k({x:M.left,y:M.top})||k({x:M.right,y:M.top})||k({x:M.left,y:M.bottom})||k({x:M.right,y:M.bottom})?(this.updateCoords(),this.props.hoverToggle?this.createMouseListeners():this.state.open&&this.props.onOpen&&this.props.onOpen()):(this.removeMouseListeners(),this.props.onClose&&this.props.onClose())}removeScrollListeners(){this.scrollListenersToRemove.forEach(t=>t())}createScrollListeners(){this.scrollListenersToRemove=this.props.scrollContainers.map(t=>{const r=(t==null?void 0:t.current)||t,i=Lu()(()=>this.onScroll(r),10);return r==null||r.addEventListener("scroll",i),()=>r==null?void 0:r.removeEventListener("scroll",i)})}componentShouldUpdate(t,r){return!Ul()(this.props,t)||!Ul()(this.state,r)}componentDidUpdate(t){var r,i,s,M;!Ul()(t.scrollContainers,this.props.scrollContainers)&&this.scrollListenersToRemove.length>0&&(this.removeScrollListeners(),this.createScrollListeners()),Ul()(t.baseRef,this.props.baseRef)||((i=((r=t.baseRef)==null?void 0:r.current)||t.baseRef)==null||i.removeEventListener("mouseenter",this.open),(M=((s=t.baseRef)==null?void 0:s.current)||t.baseRef)==null||M.removeEventListener("mouseleave",this.close),this.props.hoverToggle&&this.createMouseListeners())}render({children:t,rootElement:r,className:i},{coords:s}){return typeof window=="undefined"?null:(0,sn.createPortal)((0,e.h)("div",{style:i6({},s),className:u()("tooltip-portal",i),ref:this.portalRef},t),r||document.body)}}kv.defaultProps={scrollContainers:[]};const Bv=kv;function a6({subject:n,hoverDisabled:t=!1,onClick:r}){return(0,e.h)(me.gq,{inline:!0,gap:4,alignItems:"center"},(0,e.h)(la.Ct,{subject:n,disabled:t,utmSource:"comment"},(0,e.h)("a",{onClick:r,href:r?"javascript:void(0)":(0,le.getReaderProfileUrl)(n)},(0,e.h)(J.xv.B4,{color:"pub-primary-text",weight:"semibold"},n.name))),(0,e.h)(Nt.s,{size:"sm",tier:n.bestseller_tier,userId:n.id}))}var s6=wt(44695);const Uv=({post:n,pub:t,comment:r,isCollapsed:i,onProfileClick:s,userBanned:M,toggleCollapse:k,noHoverProfile:j,userPendingApproval:U})=>{var q,Pe;const Me=Ge=>Ge.children.length+Ge.children.reduce((ut,bt)=>ut+Me(bt),0),xe=Me(r),Ve=!!r.edited_at,qe=!r.hidden&&((q=r.metadata.author_on_other_pub)==null?void 0:q.id)!=null;return[(0,e.h)("div",{className:"comment-meta"},(0,e.h)("span",{className:"commenter-name"},r.name?(0,e.h)(a6,{subject:Pc(r),hoverDisabled:j||!(0,Fi.Ng)(r)||r.hidden||i,onClick:s?()=>s(r):null}):r.hidden?(0,e.h)("i",null,"hidden"):r.deleted?(0,e.h)("i",null,"deleted"):(0,Fi.Ng)(r)?"Anonymous":"Removed",M&&(0,e.h)("span",{className:"ban-status"}," (Banned)"),U&&(0,e.h)("a",{className:"pending-approval",href:`/publish/moderation/new-commenters?user=${r.user_id}`,target:"_blank",rel:"noopener"}," ","(Awaiting New Commenter Approval)")),r.metadata.author_on_other_pub&&!r.metadata.is_author&&(qe?(0,e.h)(s6.Sm,{publication_id:(Pe=r.metadata.author_on_other_pub)==null?void 0:Pe.id},(0,e.h)(Fv,{comment:r})):(0,e.h)(Fv,{comment:r})),(0,e.h)("a",{className:"comment-timestamp",href:(0,Vs.getCommentUrl)(n,r,t),onClick:Ge=>(void 0).onDateClick(Ge),rel:"nofollow",native:!0},Tr()(r.date).standardDateOrTime()),Ve&&[(0,e.h)("span",{className:"comment-publication-name-separator"},"\xB7"),(0,e.h)("span",{className:"edited-indicator"},(0,e.h)("em",null,"edited ",Tr()(r.edited_at).standardDateOrTime()))],(0,e.h)(l6,{comment:r})),i&&(0,e.h)("div",{className:"tags-row"},(0,e.h)(Je.Z,{className:"outline comment-collapse-toggle",onClick:k},"Expand comment ",xe>0?`and ${(0,Ne.pluralize)(xe,"reply")}`:""))]};function Fv({comment:n}){return(0,e.h)("a",{className:"commenter-publication",href:(0,v.updateQuery)(n.metadata.author_on_other_pub.base_url,{utm_source:"substack",utm_medium:"web",utm_content:"comment_metadata"}),rel:"nofollow",target:"_blank"},"Writes ",(0,e.h)("span",null," ",(0,Ne.truncateText)(n.metadata.author_on_other_pub.name,32)," "))}const l6=({comment:n})=>{const[t,r]=(0,o.eJ)(!1),i=(0,o.sO)(null),s=(0,o.sO)(null),M=n.pinned_by_user_id?"pinned":n.metadata.is_author?"author":n.reactor_names.length>0?"liked":null;if(!M)return null;const k={pinned:(0,e.h)(zA,null),author:(0,e.h)(e6,null),liked:(0,e.h)(UA,null)},j={pinned:"Pinned",author:"Author",liked:`Liked by ${n.reactor_names.join(", ")}`},U=M==="pinned"&&n.pinned_by_name;return(0,e.h)("span",{ref:i,className:u()("highlight",{hover:t}),onMouseEnter:()=>U&&r(!0),onMouseLeave:()=>U&&r(!1)},k[M],(0,e.h)("span",{className:"highlight-text"},j[M]),U&&(0,e.h)(Bv,{baseRef:i,hoverToggle:!0,onOpen:()=>{var q;return(q=s.current)==null?void 0:q.open()},onClose:()=>{var q;return(q=s.current)==null?void 0:q.close()}},(0,e.h)(Ki.Fx,{ref:s,noList:!0,className:"explanation above small thin"},"Pinned by ",(0,e.h)("span",{className:"bold"},n.pinned_by_name))))};var u6=Object.defineProperty,c6=Object.defineProperties,d6=Object.getOwnPropertyDescriptors,jv=Object.getOwnPropertySymbols,f6=Object.prototype.hasOwnProperty,h6=Object.prototype.propertyIsEnumerable,Wv=(n,t,r)=>t in n?u6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Hv=(n,t)=>{for(var r in t||(t={}))f6.call(t,r)&&Wv(n,r,t[r]);if(jv)for(var r of jv(t))h6.call(t,r)&&Wv(n,r,t[r]);return n},p6=(n,t)=>c6(n,d6(t)),Fl=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});class m6 extends e.Component{constructor(t){var r;super(t),this.state={value:(r=t.commentBeingEdited)==null?void 0:r.body,alsoShareToNotes:!1}}componentDidMount(){var t;this.props.autoFocus&&((t=this.bodyInput)==null||t.focus())}needsProfile(){const{user:t}=this.props;return!t||!t.name}onKeyDown(t){var r;if((r=this.props.user)!=null&&r.is_magic){t&&t.preventDefault(),this.showFinishMagicLoginModal();return}if(!(0,Ne.canPostComments)(this.props.user,this.props.post,this.props.pub).canReply){t&&t.preventDefault(),this.showPaywall();return}t.key==="Escape"&&this.bodyInput.value.trim()===""?this.props.onCancel&&this.props.onCancel():t.key==="Enter"&&t.metaKey&&this.form.handleSubmit(t)}onInput(t){if(!(0,Ne.canPostComments)(this.props.user,this.props.post,this.props.pub).canReply){t&&t.preventDefault(),this.showPaywall();return}this.setState({value:this.bodyInput.value||""})}postComment(){return Fl(this,arguments,function*({profileUpdated:t}={}){const{user:r,pub:i,post:s,parent:M,token:k}=this.props,{alsoShareToNotes:j}=this.state;if(!(0,Ne.canPostComments)(r,s,i).canReply)throw yield this.showPaywall(),yield new Promise(q=>setTimeout(q,600)),new Hr.ew("Please sign in");if(this.needsProfile()&&!t)throw yield this.showProfileUpdate(),yield new Promise(q=>setTimeout(q,600)),new Hr.ew("Please update your profile");const U={body:this.bodyInput.value,token:k};try{let q;if(j){const Me=yield ge().post("/api/v1/comment/attachment").send({type:"link",url:(0,v.getPostUrl)(i,s)});if(!(Me!=null&&Me.body))console.log("Error creating attachment");else{const xe=Hv({},U);xe.attachmentIds=[Me.body.id],q=yield ge().post("/api/v1/comment/feed").send(xe)}}M&&(U.parent_id=M.id);const Pe=yield ge().post(`/api/v1/post/${s.id}/comment`).send(U);if(!(r!=null&&r.profile_set_up_at)){const{body:{count:Me}}=yield ge().get("/api/v1/user/profile_role_count");if(Me>=2)return window.location=(0,v.pathWithQuery)(`${(0,v.getSubstackUrl)()}/profile/start`,{commentProfileFlow:!0,next:(0,Vs.getCommentUrl)(s,Pe.body,i)}),!1}return{notesComment:q,res:Pe}}catch(q){throw q.response&&q.response.statusCode===403&&(r&&r.is_magic?yield this.showFinishMagicLoginModal():yield this.showPaywall()),q}})}onSuccess(t){const{res:r,notesComment:i}=t;if(r!==!1)if(this.props.onSuccess&&!this.needsProfile()){if(this.state.alsoShareToNotes&&i){const s=(0,le.getFeedCommentUrl)(i.body);this.props.popToast(M=>(0,e.h)(Vt.FN,p6(Hv({},M),{icon:Il.Z,text:"Shared to Notes",cta:"View Now",href:s})))}this.setState({value:""}),this.props.onSuccess(r.body)}else{const s=Bl(this.props.post,this.props.pub);window.location.pathname===s?window.location.reload():window.location.href=Bl(this.props.post,this.props.pub,this.state.alsoShareToNotes?{feedCommentUrl:(0,le.getFeedCommentUrl)(r.body)}:{})}}showFinishMagicLoginModal(){return Fl(this,null,function*(){this.finishMagicLoginModalShown||(this.finishMagicLoginModalShown=!0,(0,D.j)(D.FP.FINISH_MAGIC_LOGIN_MODAL_SHOWN,{post_id:this.props.post.id,post_type:this.props.post.type,parent_id:this.props.parent&&this.props.parent.id})),this.finishMagicLoginModal&&(this.sendLoginEmail(),yield this.finishMagicLoginModal.open())})}showPaywall(){return Fl(this,null,function*(){this.paywallShown||(this.paywallShown=!0,(0,D.j)(D.FP.COMMENT_PAYWALL_SHOWN,{post_id:this.props.post.id,post_type:this.props.post.type,parent_id:this.props.parent&&this.props.parent.id})),this.modalPaywall&&this.modalPaywall.open&&(yield this.modalPaywall.open())})}showProfileUpdate(){return Fl(this,null,function*(){this.profileUpdaterShown||(this.profileUpdaterShown=!0,(0,D.j)(D.FP.PROFILE_UPDATER_SHOWN,{post_id:this.props.post.id,parent_id:this.props.parent&&this.props.parent.id})),this.profileUpdater&&(yield this.profileUpdater.open())})}sendLoginEmail(){return Fl(this,null,function*(){if(!this.loginEmailSent){this.loginEmailSent=!0;try{yield ge().post("/api/v1/email-login").send({email:this.props.user.email,redirect:document.location.href.split("?")[0].split("#")[0]})}catch(t){alert((0,y.getNetworkErrorMessage)(t))}}})}focus(){this.bodyInput.focus()}render({user:t,freeSignup:r,freeSignupEmail:i,pub:s,post:M,token:k,onCancel:j,autoFocus:U,commentBeingEdited:q,saveEdit:Pe,formClassName:Me,bannedFromNotes:xe},{value:Ve,alsoShareToNotes:qe}){return(0,e.h)(me.hs,{flex:"grow",className:u()("comment-input-wrap",{comment:q})},(0,e.h)(Hr.ZP,{ref:Ge=>this.form=Ge,className:u()("comment-input",Me),performSubmit:Ge=>q?Pe(Ve):this.postComment(Ge),onSuccess:Ge=>this.onSuccess(Ge),noInlineErrors:!0,autoLock:!0},(0,e.h)(Bs.qE,{user:t,size:32}),(0,e.h)(me.tu,{flex:"grow",className:"comment-input-right"},q&&(0,e.h)(Uv,{post:M,pub:s,comment:q,isCollapsed:!1,userBanned:!1}),(0,e.h)(Iv.Z,{ref:Ge=>this.bodyInput=Ge&&Ge.base,name:"body",placeholder:"Write a comment\u2026",autoHeight:!0,maxLines:8,value:Ve||"",onInput:Ge=>this.onInput(Ge),onKeyDown:Ge=>this.onKeyDown(Ge)}),(0,e.h)("div",{id:"error-container"}),(0,e.h)(me.hs,{alignItems:"center",justifyContent:"space-between",paddingTop:8},!!Ve&&!j&&(0,e.h)(me.hs,{gap:8,alignItems:"center",justifyContent:"center"},!xe&&(0,e.h)(Vt.XZ,{name:"also_feed",size:"medium",as:"div",checked:qe,onChange:()=>{this.setState({alsoShareToNotes:!qe})},withTheme:!0}),!xe&&(0,e.h)(J.xv.B4,{color:"pub-secondary-text"},"Also share to"," ",(0,e.h)(Nf.hh,{color:"pub-secondary-text",decoration:"underline",target:"_blank",href:(0,le.getFeedUrl)({urlParams:{utm_content:"comment-share-checkbox"}})},"Notes"))),(j||!!Ve)&&(0,e.h)(Je.Z,{className:"primary",type:"submit"},q?"Save":"Post"),j&&(0,e.h)(Je.Z,{className:"cancel",onClick:j},"Cancel")))),(0,e.h)(Cu.h,null,(0,e.h)(Wf.EB,{ref:Ge=>this.profileUpdater=Ge,user:t,freeSignup:r,freeSignupEmail:i,optionalPhoto:!0,token:k,text:"Save & Post Comment",onBeforeClose:Ge=>Ge&&this.form.handleSubmitAsync(null,{profileUpdated:!0})}),(0,e.h)(Kx,{ref:Ge=>this.modalPaywall=Ge,user:t,freeSignup:r,freeSignupEmail:i,publication:s,post:M,title:"Only paid subscribers can comment on this post",reauthenticationTitle:"To post a comment, please re-authenticate."}),(0,e.h)(Jn.p,{ref:Ge=>this.finishMagicLoginModal=Ge,className:"finish-magic-login-modal"},(0,e.h)("h4",null,"Check your email"),(0,e.h)("p",null,"For your security, we need to re-authenticate you."),(0,e.h)("p",null,"Click the link we sent to ",t==null?void 0:t.email,", or"," ",(0,e.h)("a",{href:(0,v.getSigninUrl)({for_pub:s.subdomain,with_password:!0}),native:!0},"click here to sign in"),"."))))}}const jl=(0,Vt.dd)(m6);var _6=wt(702),g6=Object.defineProperty,v6=Object.defineProperties,y6=Object.getOwnPropertyDescriptors,Vv=Object.getOwnPropertySymbols,b6=Object.prototype.hasOwnProperty,P6=Object.prototype.propertyIsEnumerable,Vf=(n,t,r)=>t in n?g6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ks=(n,t)=>{for(var r in t||(t={}))b6.call(t,r)&&Vf(n,r,t[r]);if(Vv)for(var r of Vv(t))P6.call(t,r)&&Vf(n,r,t[r]);return n},Kv=(n,t)=>v6(n,y6(t)),Ji=(n,t,r)=>(Vf(n,typeof t!="symbol"?t+"":t,r),r),$v=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const zv=200,E6=50,w6=140,C6=728,O6=80;function S6(){const t=Math.min(C6,document.body.clientWidth)-w6;return Math.ceil(t/E6)}const Gv=S6();class T6 extends e.Component{constructor(t,r){super(t,r),Ji(this,"bodyRef",(0,e.createRef)(null)),Ji(this,"headContainerRef",(0,e.createRef)(null)),Ji(this,"openBan",()=>{this.props.banComment()}),Ji(this,"setSelectedHighlight",()=>{const s=pA()===this.props.comment.id;this.setState({isSelected:s})}),Ji(this,"startEdit",()=>{this.setState({editing:!0})}),Ji(this,"saveEdit",i=>$v(this,null,function*(){return this.state.editing?{res:yield ge().patch(`/api/v1/comment/${this.props.comment.id}`).send({body:i})}:void 0})),Ji(this,"onSaveEditSuccess",({edited:i})=>{this.setState({editing:!1}),this.props.onChange(Ks(Ks({},this.props.comment),i))}),Ji(this,"startReport",()=>{this.setState({reporting:!0})}),Ji(this,"cancelReport",()=>{this.setState({reporting:!1})}),Ji(this,"onReportSuccess",()=>{this.props.onChange(Kv(Ks({},this.props.comment),{reported_by_user:!0}))}),Ji(this,"expandToggleClicked",()=>{const i=this.bodyRef.current;i&&(i.classList.remove("long"),i.classList.add("expanded"),(0,D.j)(D.FP.COMMENT_EXPAND_TOGGLE_CLICKED,{hiddenHeight:i.getAttribute("data-hidden-height")}))}),Ji(this,"onChange",i=>{this.props.onChange?this.props.onChange(Ks(Ks({},this.props.comment),i)):document.location.href=Bl(this.props.post,this.props.pub)}),Ji(this,"setComment",i=>{this.setState({comment:i})}),Ji(this,"setCollapsed",i=>{var s,M;if(this.setState({isCollapsed:i}),i&&((M=(s=this.headContainerRef)==null?void 0:s.current)!=null&&M.scrollIntoView)){const k=this.headContainerRef.current.getBoundingClientRect();k.top<0&&(document.documentElement.scrollTop+=k.top-O6)}this.props.retainUserCollapseState&&bA(this.props.comment.id,i)}),this.state={editing:!1,replying:!1,reporting:!1,hideAnchors:!1,isSelected:!1,isCollapsed:this.props.retainUserCollapseState&&PA(this.props.comment.id)}}componentDidMount(){this.setSelectedHighlight(),this.setReplyStateFromHash(),typeof window!="undefined"&&(window.addEventListener("hashchange",this.setSelectedHighlight,!1),window.addEventListener("popstate",this.setSelectedHighlight,!1),this.updateOverflows())}componentWillUnmount(){typeof window!="undefined"&&(window.removeEventListener("hashchange",this.setSelectedHighlight,!1),window.removeEventListener("popstate",this.setSelectedHighlight,!1))}componentDidUpdate(t){var r,i;((r=t.comment)==null?void 0:r.id)!==((i=this.props.comment)==null?void 0:i.id)&&this.setSelectedHighlight(),t.replying!==this.props.replying&&this.props.replying&&this.startReply()}setReplyStateFromHash(){if(this.props.comment.deleted||typeof window=="undefined"||!window.location.hash)return;const t=/^#comment-(\d+)-reply$/.exec(window.location.hash);!t||Number(t[1])!==this.props.comment.id||(window.location.hash=window.location.hash.replace(/-reply$/,""),this.startReply())}startReply(){return $v(this,null,function*(){this.props.onStartReply?this.props.onStartReply(this.props.comment):(yield new Promise(t=>this.setState({replying:!0},t)),this.commentInput&&this.commentInput.bodyInput&&this.commentInput.bodyInput.focus&&this.commentInput.bodyInput.focus())})}onDateClick(t){const[r,i]=t.target.href.split("?")[0].split("#");r===window.location.href.split("?")[0].split("#")[0]&&i&&(t.preventDefault(),this.setState({hideAnchors:!0},()=>{window.location.hash=`#${i}`,this.setState({hideAnchors:!1})}))}updateOverflows(){const t=this.bodyRef.current;if(!t)return;const r=t.scrollHeight-t.clientHeight;r>0&&r<zv?t.classList.add("expanded"):r>=zv&&(t.classList.add("long"),t.setAttribute("data-hidden-height",r))}render({user:t,comment:r,freeSignup:i,freeSignupEmail:s,pub:M,post:k,reaction_token:j,depth:U,collapseAtDepth:q,onChange:Pe,scrollRef:Me,retainUserCollapseState:xe,onStartReply:Ve,noHoverProfile:qe,onProfileClick:Ge,hideContextMenu:ut,noRestack:bt,updateCommentReacted:Pt},{isSelected:At,replying:Lt,editing:Dt,reporting:Ht,hideAnchors:on,isCollapsed:hn}){var an,mn;const rr=M.community_enabled&&k&&k.write_comment_permissions!=="none",{user_banned:Gn}=r;let Vn=!1;return(an=r.metadata)!=null&&an.is_author?Vn="author":(mn=r.metadata)!=null&&mn.founding&&(Vn="founding"),Dt?(0,e.h)(jl,{autoFocus:!0,user:t,freeSignup:i,freeSignupEmail:s,pub:M,post:k,commentBeingEdited:r,saveEdit:this.saveEdit,token:j,onCancel:()=>this.setState({editing:!1}),onSuccess:Pe?this.onSaveEditSuccess:null}):(0,e.h)("div",{className:u()("comment",{selected:At,"post-reply":r.type==="reply",collapsed:hn}),key:`comment-${r.id}`},!on&&[(0,e.h)("div",{id:`comment-${r.id}`,className:"comment-anchor"}),(0,e.h)("div",{id:`comment-${r.id}-reply`,className:"comment-anchor"})],(0,e.h)("table",{className:"comment-content"},(0,e.h)("tr",null,(0,e.h)("td",{className:"comment-head",ref:this.headContainerRef},(0,e.h)(la.Ct,{subject:Pc(r),disabled:qe||!(0,Fi.Ng)(r)||r.hidden||hn,utmSource:"comment"},(0,e.h)(jf.ZP,{subject:Pc(r),pub:M,user:t,freeSignup:i,freeSignupEmail:s,token:j,isBanned:Gn,tooltip:{founding:(0,Ne.foundingMemberDescription)(M),author_ons_other_pub:"Author of another publication"}[Vn],badge:Vn,isAuthor:r.metadata.is_author,onClick:Ge?()=>Ge(r):null,lazy:!0}))),(0,e.h)("td",{className:"comment-rest"},(0,e.h)(Uv,{post:k,pub:M,comment:r,commentUser:Pc,isCollapsed:hn,toggleCollapse:()=>this.setCollapsed(!this.state.isCollapsed),onProfileClick:Ge,userBanned:Gn,noHoverProfile:qe,userPendingApproval:r.status===Fi.COMMENT_STATUS.new_commenter_approval_required&&t.is_admin}),(0,e.h)(MA,{comment:r,bodyRef:this.bodyRef,expandToggleClicked:this.expandToggleClicked}),!Lt&&(0,e.h)(SA,{comment:r,pub:M,user:t,post:k,reaction_token:j,commentsEnabledForPost:rr,hideContextMenu:ut,noRestack:bt,onChange:this.onChange,startReply:()=>this.startReply(),startEdit:()=>this.startEdit(),startReport:()=>this.startReport(),openBan:this.openBan,updateCommentReacted:Pt})))),Lt&&rr&&(0,e.h)(jl,{ref:_n=>this.commentInput=_n,user:t,freeSignup:i,freeSignupEmail:s,pub:M,post:k,parent:r,token:j,onCancel:()=>this.setState({replying:!1}),onSuccess:Pe?_n=>{this.setState({replying:!1});const jn=Kv(Ks({},r),{children:[_n].concat(r.children)});Pe(jn)}:null}),r.childrenSummary&&(0,e.h)("div",{className:"more-replies-container"},(0,e.h)("a",{className:"more-replies",href:(0,Vs.getCommentUrl)(k,r,M)},r.childrenSummary)),!r.childrenSummary&&U>=Gv&&!!r.children.length&&(0,e.h)(Je.Z,{className:"outline continue-thread-button",href:(0,Vs.getCommentUrl)(k,r,M)},"Continue Thread \u2192"),!r.childrenSummary&&U<Gv&&(0,e.h)(Cc,{key:`comment:${r.id}`,user:t,freeSignup:i,freeSignupEmail:s,pub:M,post:k,comments:r.children,parent:r,reaction_token:j,depth:(U||0)+1,collapseAtDepth:q,onChange:Pe,isChild:!0,scrollRef:Me,retainUserCollapseState:xe,onStartReply:Ve,noHoverProfile:qe,onProfileClick:Ge,hideContextMenu:ut,updateCommentReacted:Pt,noRestack:!0}),!hn&&(0,e.h)("div",{className:"comment-list-collapser",onClick:()=>this.setCollapsed(!0)},(0,e.h)("div",{className:"comment-list-collapser-line"})),Ht&&(0,e.h)(_6.Z,{pub:M,comment:r,onClose:this.cancelReport,onReportSuccess:this.onReportSuccess}))}}var I6=Object.defineProperty,D6=Object.defineProperties,M6=Object.getOwnPropertyDescriptors,Zv=Object.getOwnPropertySymbols,x6=Object.prototype.hasOwnProperty,A6=Object.prototype.propertyIsEnumerable,Yv=(n,t,r)=>t in n?I6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,N6=(n,t)=>{for(var r in t||(t={}))x6.call(t,r)&&Yv(n,r,t[r]);if(Zv)for(var r of Zv(t))A6.call(t,r)&&Yv(n,r,t[r]);return n},R6=(n,t)=>D6(n,M6(t));const L6=wt(43174),k6=5,B6=1,Jv=16,U6=50,F6=200;function Xv(n){return n.reduce((t,r)=>t+1+Xv(r.children||[]),0)}function Cc({user:n,freeSignup:t,freeSignupEmail:r,pub:i,post:s,comments:M,reaction_token:k,depth:j,collapseAtDepth:U,onChange:q,pageSize:Pe,retainUserCollapseState:Me,updateCommentReacted:xe,parent:Ve,scrollRef:qe,className:Ge,onStartReply:ut,noHoverProfile:bt,onProfileClick:Pt,hideContextMenu:At,noRestack:Lt}){const Dt=Pe||Jv,[Ht,on]=(0,o.eJ)(Dt),[hn,an]=(0,o.eJ)(-1),[mn,rr]=(0,o.eJ)(null),[Gn,Vn]=(0,o.eJ)(null),[_n,jn]=(0,o.eJ)(new Set(M.map(({id:Rn})=>Rn)));if((0,o.d4)(()=>{hn>=0&&window.scrollTo(window.scrollX,hn)},[hn]),(M||[]).length===0)return;const[_r,nr]=L6(M,({id:Rn,user_id:Bn})=>_n.has(Rn)||Bn===(n==null?void 0:n.id)),qn=_r.slice(0,Ht);return(0,e.h)("div",{className:u()("comment-list",Ge,{"has-new-comments":nr.length>0})},(0,e.h)(eA,{pub:i,comment:mn,onClose:()=>rr(null),onReply:Rn=>{Vn(Rn),rr(null)},onBan:(Rn,Bn)=>{q?q(R6(N6({},Rn),{user_banned:!0,bans:Bn.concat(Rn.bans)})):document.location.href=Bl(s,i)}}),nr.length>0&&(0,e.h)(Je.Z,{className:"collapsed-reply outline",onClick:()=>jn(new Set(M.map(({id:Rn})=>Rn)))},(0,Ne.pluralize)(Xv(nr),"new reply")),(0,e.h)("div",{className:"comment-list-items"},qn.map(Rn=>(0,e.h)(T6,{banComment:()=>rr(Rn),key:`cmt-${Rn.id}`,user:n,freeSignup:t,freeSignupEmail:r,pub:i,post:s,comment:Rn,parent:Ve,reaction_token:k,collapseAtDepth:U,depth:j||0,onChange:q,replying:Gn===Rn.id,scrollRef:qe,retainUserCollapseState:Me,onStartReply:ut,noHoverProfile:bt,onProfileClick:Pt,hideContextMenu:At,noRestack:Lt,updateCommentReacted:xe}))),_r.length>qn.length&&(0,e.h)(Je.Z,{className:"collapsed-reply outline",onClick:()=>{an(window.scrollY),on(Ht+Dt)}},"Load More"))}var Qv=wt(70444),j6=wt(35442),Wl=wt(85200);function Kf(n){var t;return!!(!n.invite_only&&((t=n.rankingDetailFreeIncluded)!=null&&t.toLowerCase().includes("subscribers"))&&n.rankingDetailFreeIncludedOrderOfMagnitude)}function W6({publication:n,siteConfigs:t={},twitterCardUrl:r=null}){var i;const{getExperimentVariant:s}=(0,ct.jc)(),{title:M,description:k}=Oc(n,{rankingVariant:Kf(n)&&s("seo_meta_subscriber_count_x1",{onlyConsiderExposedValues:!0})||void 0});let j,U;return r?(j=r,U=!0):[j,U]=zf(n,null),(0,y.setMetaData)({title:M,description:k,image:j,isLargeImage:U,pub:n,siteConfigs:t,themeColor:(i=n.theme)==null?void 0:i.web_bg_color})}function Oc(n,{rankingVariant:t,primaryTitleOverride:r,primaryDescriptionOverride:i}={}){var s,M;let k;const j=!!(0,Di.default)("publication_author_display_override")&&String((0,Di.default)("publication_author_display_override"))||((s=(0,Wl.Im)(n.contributors))==null?void 0:s.owner),U=j&&!((M=n.name)!=null&&M.toLowerCase().includes(j==null?void 0:j.toLowerCase())),q=r!=null?r:n.name;return U?k=`${q} | ${j} | Substack`:k=`${q} | Substack`,{title:k,description:Pi()(qv(n,{primaryDescriptionOverride:i,rankingVariant:t}))}}function qv(n,{primaryDescriptionOverride:t,rankingVariant:r}={}){var i,s,M,k;const j=(i=n.name)==null?void 0:i.trim();let U=j;(0,Ne.endsWithPunctuation)(j)&&(U=`"${j}"`);const q=(0,Wl.Im)(n.contributors);let Pe,Me,xe;return n.invite_only?(Pe=null,Me=null):(xe=r&&Kf(n)&&["treatment_string","treatment_num"].includes(r),xe?r==="treatment_string"?Pe=(s=n.rankingDetailFreeIncluded)!=null&&s.toLowerCase().includes("subscribers")?n.rankingDetailFreeIncluded:null:r==="treatment_num"&&(Pe=n.rankingDetailFreeIncludedOrderOfMagnitude&&n.rankingDetailFreeIncludedOrderOfMagnitude>0?`${n.rankingDetailFreeIncludedOrderOfMagnitude.toLocaleString()}+ subscribers`:null):Pe=(M=n.rankingDetailFreeIncluded)!=null&&M.toLowerCase().includes("subscribers")?n.rankingDetailFreeIncluded.toLowerCase():null,Me=n.rankingDetailFreeIncluded||n.rankingDetail),(0,Wl.ab)(t!=null?t:(k=n.hero_text)==null?void 0:k.trim(),q,Pe,U,Me,xe)}function $f({publication:n,post:t,siteConfigs:r={},twitterCardUrl:i=null,isCommentPage:s=!1,selection:M=null}){const k=(t==null?void 0:t.social_title)||(t==null?void 0:t.title)||n.name,{title:j,description:U}=e1(t,n,{isCommentPage:s});let q,Pe;i?(q=i,Pe=!0):M?(q=(0,v.getPostSelectionPreviewUrl)(n,t,M),Pe=!0):[q,Pe]=zf(n,t);const Me=s&&t&&t.type!=="thread"&&t.comment_count===0||(t==null?void 0:t.type)==="restack";return(0,y.setMetaData)({title:j,socialTitle:k,searchDescription:t==null?void 0:t.search_engine_description,description:U,image:q,isLargeImage:Pe,imageHeight:M&&564,imageWidth:M&&1128,seoProps:{noindex:Me,noarchive:!!(t&&t.post_paywall_content_for_google)},isPodcast:(t==null?void 0:t.type)==="podcast",isVideo:(t==null?void 0:t.type)==="video",slug:t==null?void 0:t.slug,pub:n,post:t,siteConfigs:r})}function e1(n,t,{isCommentPage:r=!1}={}){var i,s;const M=(n==null?void 0:n.social_title)||(n==null?void 0:n.title)||t.name;let k,j;n?j=(0,Ne.getPrintedByline)(t,n):j=(0,Di.default)("publication_author_display_override")||((i=(0,Wl.Im)(t.contributors))==null?void 0:i.owner);const U=j&&!((s=t.name)!=null&&s.toLowerCase().includes(j==null?void 0:j.toLowerCase()));n!=null&&n.title?(k=(n==null?void 0:n.search_engine_title)||M,r&&n.type!=="thread"&&(k=`Comments - ${k}`),`${k} - by ${j}`.length<60&&(j&&U&&(k+=` - by ${j}`),`${k} - ${t.name}`.length<60&&(k+=` - ${t.name}`))):U?k=`${t.name} | ${j} | Substack`:k=`${t.name} | Substack`;let q;return n?q=(0,Ne.postSocialDescription)(n,t):q=qv(t),q=Pi()(q),{title:k,description:q}}function zf(n,t){let r,i;return t!=null&&t.cover_image?(r=(0,v.imginary)(t.cover_image,1200,{height:600,smartCrop:!0,format:"jpg"}),i=!0):n.subdomain==="numlock"?(r=(0,v.imginary)("/img/numlock_square.png?v=2",840),i=!1):(r=(0,v.getTwitterSubscribeCardUrl)(n),i=!0),[r,i]}var H6=Object.defineProperty,t1=Object.getOwnPropertySymbols,V6=Object.prototype.hasOwnProperty,K6=Object.prototype.propertyIsEnumerable,n1=(n,t,r)=>t in n?H6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,$6=(n,t)=>{for(var r in t||(t={}))V6.call(t,r)&&n1(n,r,t[r]);if(t1)for(var r of t1(t))K6.call(t,r)&&n1(n,r,t[r]);return n};function z6({comment:n,post:t,publication:r}){var i,s,M;const k=`${n.name} on Substack`,j=t&&r?e1(t,r,{isCommentPage:!0}).title:`${k}: "${(0,Ne.truncateText)(n.body,280)}"`,U=(i=n.attachments)==null?void 0:i.find(Ge=>Ge.type==="image"),q=U==null?void 0:U.imageUrl,Pe=!1,Me=Pe?680:void 0,xe=Pe?680:void 0,Ve=q!=null?q:Pe?(0,le.imginary)((0,Qv.IY)(n.id),xe,{height:Me}):(0,v.getUserPhotoUrl)(n),qe=!Pe||q?n.body:"Subscribe to see all their notes.";return(0,e.h)(j6.Metadata,$6({},{title:j,socialTitle:k,description:qe,image:Ve,imageHeight:Me,imageWidth:xe,isLargeImage:!0,siteName:r?r.name:"Notes",publishedTime:n.date.toString(),meta:[{name:"twitter:label1",content:"Likes"},{name:"twitter:data1",content:String((s=n.reaction_count)!=null?s:0)},{name:"twitter:label2",content:"Replies"},{name:"twitter:data2",content:String((M=n.children_count)!=null?M:0)}]}))}var r1=wt(49786),Hl=wt(69427),G6=Object.defineProperty,Z6=(n,t,r)=>t in n?G6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Y6=(n,t,r)=>(Z6(n,typeof t!="symbol"?t+"":t,r),r),J6=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});class Gf extends e.Component{onTopReached(){this.state.topReached||(this.setState({topReached:!0}),(0,D.j)(D.FP.POST_SEEN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type}))}onBottomReached(){this.state.bottomReached||(this.setState({bottomReached:!0}),(0,D.j)(D.FP.POST_BOTTOM_SEEN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type}))}enableEmailNotifications(){return J6(this,null,function*(){try{yield ge().post(`/api/v1/post/${this.props.post.id}/subscribe`),window.location.reload()}catch(t){console.error("Failed to subscribe to email notifications:",t),alert((0,y.getNetworkErrorMessage)(t))}})}render({className:t,pub:r,post:i,user:s,freeSignup:M,freeSignupEmail:k,isStatic:j,hidden:U,truncated:q,invisible:Pe,post_reaction_token:Me,onChange:xe,showCta:Ve=q,showUnsubscribeNotice:qe,dataForEmailRender:Ge={},showReactions:ut=!0,gap:bt=16}){typeof U!="boolean"&&(U=i.hidden);let Pt,At;U?(Pt="Subscribe to view",At=(0,v.pathWithQuery)("/subscribe",{simple:!0,next:document.location.href,utm_source:"thread",utm_medium:"web",utm_content:i.id})):(At=(0,v.getPostUrl)(r,i,{noBase:!0}),i.type!=="thread"||q?Pt=(0,Ne.getPostCtaText)(i):i.comment_count?Pt=`View ${i.comment_count} comments`:Pt="Reply");const Lt=j&&!this.context.isAmp;return(0,e.h)(qr.YF,{className:`thread-head typography ${t||""}`},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(qr.i$,{width:"100%"},!Pe&&!U&&(0,e.h)(ve,{onVisible:()=>this.onTopReached()}),(0,e.h)(qr.i$,{gap:bt,width:"100%"},(0,e.h)(Wc,{pub:r,post:i,user:s,isStatic:j,freeSignup:M,freeSignupEmail:k,reaction_token:Me,allowEdit:!0,allowTruncate:q,showReactions:!!Ve||ut,showShare:!1,showComments:!!i.comment_count,small:!0,inThreadHead:!0,showActiveBadge:!0,onChange:xe,showLabel:!0}),(0,e.h)(hc,{user:s,freeSignup:M,freeSignupEmail:k,pub:r,post:i,html:!U&&!q&&i.body_html,isStatic:j,dataForEmailRender:Ge},U?(0,e.h)("p",null,(0,e.h)("i",null,"This thread is only visible to paid subscribers of ",r.name)):q?(0,e.h)("p",null,i.description):null),Ve?(0,e.h)("a",{className:"thread-head-cta",href:At,native:!0},Pt," \u2192"):U&&(0,e.h)("p",{className:"thread-head-cta"},(0,e.h)("a",{href:(0,v.getSubscribeUrl)(r,{simple:!0,next:document.location.href,utm_source:"thread",utm_medium:"web",utm_content:i.id}),className:"button primary subscribe-btn",native:!j},(0,Ne.getSubscribeText)(r)),(0,e.h)("a",{href:(0,v.getSigninUrl)({for_pub:r.subdomain}),className:"button",native:!0},"Sign in"))),Lt&&(0,e.h)(qr.i$,{gap:bt,style:{width:"100%"}},(0,e.h)(qr.i$,{style:{width:"100%",textAlign:"center"}},(0,e.h)("a",{role:"button",className:"button primary",style:{margin:"0 auto"},href:bi.Substitutions.HALF_MAGIC_COMMENTS_URL},"See the discussion")),(0,e.h)(zo.yT,{isFooter:!0,customization:{showShare:!0,showComments:!0,showReactions:{showReactions:ut},showRestack:!1,showLabels:!0,showCommentRestack:!0}})),qe&&i.unsubscribed&&(0,e.h)("div",{className:"notifications-alert"},"Email notifications are disabled for this thread."," ",(0,e.h)("a",{href:"javascript:void(0)",onClick:()=>this.enableEmailNotifications()},"Re-enable")),!Pe&&!U&&(0,e.h)(ve,{onVisible:()=>this.onBottomReached()})))))}}Y6(Gf,"contextType",uf.E);class X6 extends e.Component{render(){return(0,e.h)("div",{className:"thread-head-silhouette"},(0,e.h)("div",{className:"thread-head-silhouette-head"}),(0,e.h)("div",{className:"thread-head-silhouette-content"},(0,e.h)("div",{className:"thread-head-silhouette-title"}),(0,e.h)("div",{className:"thread-head-silhouette-meta"}),(0,e.h)("div",{className:"thread-head-silhouette-body"},(0,e.h)("div",{className:"thread-head-silhouette-body-line"}),(0,e.h)("div",{className:"thread-head-silhouette-body-line"}),(0,e.h)("div",{className:"thread-head-silhouette-body-line"}))))}}const Zf=()=>(0,e.h)("div",{className:"comment-silhouette"},(0,e.h)("div",{className:"comment-silhouette-head"}),(0,e.h)("div",{className:"comment-silhouette-content"},(0,e.h)("div",{className:"comment-silhouette-meta"}),(0,e.h)("div",{className:"comment-silhouette-body"}),(0,e.h)("div",{className:"comment-silhouette-actions"})));var Q6=Object.defineProperty,q6=Object.defineProperties,eN=Object.getOwnPropertyDescriptors,o1=Object.getOwnPropertySymbols,tN=Object.prototype.hasOwnProperty,nN=Object.prototype.propertyIsEnumerable,i1=(n,t,r)=>t in n?Q6(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,rN=(n,t)=>{for(var r in t||(t={}))tN.call(t,r)&&i1(n,r,t[r]);if(o1)for(var r of o1(t))nN.call(t,r)&&i1(n,r,t[r]);return n},oN=(n,t)=>q6(n,eN(t));const iN=n=>(0,e.h)(x.l,oN(rN({},n),{name:"MenuIcon",svgParams:{height:10,width:18}}),(0,e.h)("path",{d:"M1 1L9 9L17 1",stroke:"#999","stroke-width":"1"}));var aN=Object.defineProperty,sN=(n,t,r)=>t in n?aN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,lN=(n,t,r)=>(sN(n,typeof t!="symbol"?t+"":t,r),r);class uN extends e.Component{constructor(){super(...arguments),lN(this,"onSortCommentsClicked",t=>{this.sortMenuRef.toggle(),this.props.onSortSelected(t)})}render({sort:t,loading:r,pub:i}){const s=(0,Di.default)("like_comments_enabled");return(0,e.h)("div",{className:u()("comments-page-sort-controls",{loading:r})},(0,e.h)("div",{className:"comments-page-sort-menu"},(0,e.h)("button",{className:"comments-page-sort-menu-button",onClick:()=>this.sortMenuRef.toggle()},(0,e.h)("span",{className:"comments-page-sort-menu-button-label"},(0,Fi.Sh)(t)),(0,e.h)(iN,{height:"6"})),(0,e.h)(Ki.ZP,{className:"comments-page-sort-menu-dropdown",ref:M=>this.sortMenuRef=M},(0,Fi.Hz)({likesEnabled:s}).map(({key:M,text:k})=>(0,e.h)(Or.Z,{className:t===M?"selected":"",onClick:()=>this.onSortCommentsClicked(M)},k)))))}}const a1=uN;var cN=Object.defineProperty,dN=Object.defineProperties,fN=Object.getOwnPropertyDescriptors,s1=Object.getOwnPropertySymbols,hN=Object.prototype.hasOwnProperty,pN=Object.prototype.propertyIsEnumerable,Yf=(n,t,r)=>t in n?cN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Jf=(n,t)=>{for(var r in t||(t={}))hN.call(t,r)&&Yf(n,r,t[r]);if(s1)for(var r of s1(t))pN.call(t,r)&&Yf(n,r,t[r]);return n},mN=(n,t)=>dN(n,fN(t)),l1=(n,t,r)=>(Yf(n,typeof t!="symbol"?t+"":t,r),r),Vl=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const _N=30*1e3;class gN extends e.Component{constructor(t,r){super(t,r),l1(this,"modalRef",(0,e.createRef)(null)),l1(this,"onWindowVisibilityChange",()=>{(0,y.isWindowVisible)()?this.loadPost():clearTimeout(this.loadTimeout)}),this.state={},t.post&&t.post.slug===t.slug&&(this.state.post=t.post),this.state.sort=t.sort||this.state.post&&this.state.post.default_comment_sort||t.publication.default_comment_sort||"best_first",this.state.comments=t.initialComments,this.scrollRef=(0,e.createRef)(),this.shareDialogRef=(0,e.createRef)(),this.state.loading=!1,this.state.reactionSigninComment=null}componentDidMount(){return Vl(this,null,function*(){var t;if((0,y.onWindowVisibilityChange)(this.onWindowVisibilityChange),!this.props.publication.community_enabled&&!this.props.inline?document.location.href="./":yield this.loadPost(),(t=this.props.matches)!=null&&t.feedCommentUrl){const r=this.props.matches.feedCommentUrl,i=new URL(location.toString());i.searchParams.delete("feedCommentUrl"),history.replaceState({},"",i),this.props.popToast(s=>(0,e.h)(Vt.FN,mN(Jf({},s),{text:"Note Shared.",cta:"View Now",href:r})),{ttl:1e4})}})}componentWillUnmount(){(0,y.offWindowVisibilityChange)(this.onWindowVisibilityChange),clearInterval(this.loadTimeout)}componentDidUpdate(t,r){return Vl(this,null,function*(){if(t.slug!==this.props.slug||r.sort!==this.state.sort){const i=this.props.post&&this.props.post.slug===this.props.slug;yield(0,y.setState)(this,{post:i?this.props.post:null,comments:null}),yield this.loadPost()}else if(this.state.post&&this.state.comments&&!this.commentsViewed&&!this.state.loading){let i=0;(0,Fi.hO)(this.state.comments,()=>i++),this.state.post.comment_count!==i&&(this.state.post.comment_count=i,this.setState({post:this.state.post}),this.props.onChange&&this.props.onChange({post:this.state.post}))}})}queueRefresh(){if(!this.commentsViewed&&this.state.comments){this.commentsViewed=!0;const{post:t}=this.state;(0,D.j)(D.FP.COMMENTS_VIEWED,{post_id:t.id,comment_count:this.state.comments.length}),this.props.publication.community_enabled&&!(t.type==="thread"||(0,Ne.canSeeComments)(this.props.user,t))&&(0,D.j)(D.FP.COMMENT_PAYWALL_SHOWN,{post_id:t.id,post_type:t.type}),t.type==="thread"&&this.props.user&&Promise.resolve(ge().post(`/api/v1/posts/${t.id}/seen`))}clearTimeout(this.loadTimeout),this.loadTimeout=setTimeout(()=>this.loadPost(),_N)}loadPost(){return Vl(this,null,function*(){if(this.state.comments&&!(0,y.isWindowVisible)())return;clearTimeout(this.loadTimeout),this.setState({loading:!0});const t=this.state.comments&&this.state.comments.length>0;let r;this.state.comments&&(r=null,(0,Fi.hO)(this.state.comments,i=>{!i.deleted&&i.date&&(!r||i.date>r)&&(r=i.date)}));try{const i=this.props.slug,s=this.state.sort,M={token:this.props.post_reaction_token||"",all_comments:!0,sort:s,last_comment_at:r};this.state.post&&this.props.commentId&&(M.comment_id=this.props.commentId);const k=yield ge().get(this.state.post?`/api/v1/post/${this.state.post.id}/comments`:`/api/v1/posts/${i}`).query(M);if(this.setState({loading:!1}),i!==this.props.slug||s!==this.state.sort)return;let j=this.state.sort;!this.state.post&&k.body.default_comment_sort&&(j=k.body.default_comment_sort),(!this.state.post||!this.state.comments||k.body.comments)&&(yield(0,y.setState)(this,{post:this.state.post||k.body,comments:k.body.comments||[],sort:j}))}catch(i){console.error("Failed to load post:",i),i.statusCode===400&&(yield(0,y.setState)(this,{notAllowedToFetchComments:!0})),this.setState({loading:!1})}!t&&this.state.comments&&this.state.comments.length>0&&(0,y.scrollToHash)(),(0,y.isWindowVisible)()&&this.queueRefresh(),this.triggerShareOnLoad()})}onChange(t){this.setState({comments:kl(this.state.comments,t)})}onSortSelected(t){this.setState({sort:t}),(0,D.j)(D.FP.COMMENTS_SORTED,{post_id:this.state.post.id,post_type:this.state.post.type,sort:t})}triggerShareOnLoad(){var t;(t=this.shareDialogRef)!=null&&t.current&&(0,v.getQueryItem)("action")==="share"&&(window.history.replaceState({},document.title,(0,v.updateQuery)({action:null})),this.shareDialogRef.current.fromEmail())}_isPub(t){var r;const{publication:i}=this.props;return((r=(i==null?void 0:i.parent_publication)||i)==null?void 0:r.subdomain)===t}render({slug:t,user:r,freeSignup:i,freeSignupEmail:s,publication:M,post_reaction_token:k,inline:j,commentId:U,selectionFromQuery:q,freeTrialCoupon:Pe,show_reaction_upsell:Me,bannedFromNotes:xe},{sort:Ve,post:qe,comments:Ge,notAllowedToFetchComments:ut,reactionSigninComment:bt}){if(!qe||!M.community_enabled)return!j&&(0,e.h)("div",{className:"comments-page"},(0,e.h)("div",{className:"container"},(0,e.h)(X6,null)));const Pt=M.community_enabled&&qe&&qe.write_comment_permissions!=="none",At=ut||Pt&&!(0,Ne.canSeeComments)(r,qe),Lt=(Dt,Ht)=>Vl(this,null,function*(){return c1({user:r,reactionToken:k,comments:Ge,id:Dt,reacted:Ht,setComments:on=>this.setState({comments:on}),onNeedsSignin:on=>new Promise(hn=>this.setState({reactionSigninComment:on},()=>this.modalRef.current.open(hn)))})});return(0,e.h)("div",{className:"comments-page"},U&&(Ge==null?void 0:Ge.length)>0?(0,e.h)(z6,{comment:Ge[0],post:qe,publication:M}):(0,e.h)($f,{post:qe,publication:M,isCommentPage:!this.props.inline,selection:q}),(0,e.h)(Hl.ZP,{ref:this.shareDialogRef,user:r,pub:M,post:qe,reaction_token:k}),!j&&!U&&(0,e.h)("div",{className:"container"},(0,e.h)(Gf,{pub:M,post:Object.assign({},qe,{comment_url_override:(0,v.getPostUrl)(M,qe,{comments:!0})}),user:r,freeSignup:i,freeSignupEmail:s,hidden:!(0,Ne.isUUID)(t)&&qe.hidden,truncated:qe.type!=="thread",post_reaction_token:k,onChange:Dt=>this.setState(Dt),showUnsubscribeNotice:!0,gap:0},(0,e.h)("div",{className:"full-container-border"}))),At&&(0,e.h)("div",{className:"container"},(0,e.h)(Rl,{user:r,freeSignupEmail:s,freeSignup:i,publication:M,post:qe,title:`Comments on this ${qe.type==="podcast"?"episode":"post"} are for paid subscribers`,reauthenticationTitle:"To see the comments, please re-authenticate.",coupon:Pe})),qe.type==="thread"||(0,Ne.canSeeComments)(r,qe)?(0,e.h)("div",{className:"container"},Ge&&(0,e.h)("div",{className:"comments-heading"},(0,Ne.pluralize)(qe.comment_count,"Comment",{zero_fallback:"Comments"})),Ge&&Ge.length>0&&!Pt&&(0,e.h)(u1,{post:qe}),Pt&&(0,e.h)(jl,{user:r,freeSignup:i,freeSignupEmail:s,pub:M,post:qe,token:k,autoFocus:mA(),onSuccess:Dt=>this.setState({comments:[Dt].concat(Ge)}),bannedFromNotes:xe}),(!Ge||Ge.length>0)&&!ut&&!U&&(0,e.h)(a1,{sort:Ve,loading:!Ge,onSortSelected:Dt=>this.onSortSelected(Dt),pub:M}),U&&Ge&&(0,e.h)("a",{className:"return-to-thread-link",href:(0,v.getPostUrl)(M,qe,{comments:!0,commentId:U,highlightComment:!0})},"\u2B60 Return to thread"),!Ge&&!ut?[(0,e.h)(Zf,null),(0,e.h)(Zf,null)]:Ge.length>0?[(0,e.h)("div",{className:"comment-list-container",ref:this.scrollRef},(0,e.h)(Cc,{key:`post:${qe.id}`,user:r,freeSignup:i,freeSignupEmail:s,pub:M,post:qe,comments:Ge,reaction_token:k,depth:0,collapseAtDepth:j?10:Ge.length>3&&Ve==="most_recent_first"?B6:k6,onChange:Dt=>this.onChange(Dt),pageSize:j||this._isPub("astralcodexten")?F6:qe.type==="thread"?U6:Jv,scrollRef:this.scrollRef,retainUserCollapseState:!0,updateCommentReacted:Lt,noRestack:!0}))]:null):null,bt&&(0,e.h)(Ps.oq,{comment:bt,pub:M,user:r,react:()=>Lt(bt.id,!0),modalRef:this.modalRef}),Me?(0,e.h)(r1.hF,{user:r,pub:M,post:qe}):null)}}const Xf=(0,Vt.dd)(gN),u1=({post:n})=>(0,e.h)("div",{className:"locked-comments"},"Commenting has been turned off for this ",(0,Ne.getPrintedPostType)(n.type));function c1(n){return Vl(this,arguments,function*({user:t,reactionToken:r,comments:i,id:s,reacted:M,setComments:k,onNeedsSignin:j}){var U;const q=Tv(s,i);if(!q)return;const Pe=Jf({},q);(0,Ps.E6)(t,Pe,M),k(kl(i.slice(0),Pe));try{yield(0,Ps.xl)(Pe,!0,M,r)}catch(Me){if((0,Ps.E6)(t,Pe,!M),k(kl(i.slice(0),Jf({},Pe))),((U=Me.response)==null?void 0:U.statusCode)!==401){alert((0,y.getNetworkErrorMessage)(Me));return}yield j({comment:Pe})}})}const vN=({comments:n,expectedCommentCount:t,inputRef:r,post:i,pub:s,sort:M,token:k,user:j,onAddComment:U,onUpdateComment:q,onUpdateSort:Pe})=>(0,Ne.canSeeComments)(j,i)?(0,e.h)("div",null,(0,e.h)(jl,{ref:r,formClassName:"tw-m-0",user:j,pub:s,post:i,token:k,onSuccess:U}),t>0&&(0,e.h)(a1,{sort:M,loading:!n,onSortSelected:Pe,pub:s}),n?(0,e.h)(Cc,{comments:n,post:i,pub:s,reaction_token:k,user:j,onChange:q,noRestack:!0}):(0,e.h)("div",{className:"tw-mt-4"},Yx()(Math.min(t,5),()=>(0,e.h)(Zf,null)))):(0,e.h)(Rl,{user:j,publication:s,post:i,title:"Comments on this episode are for paid subscribers",reauthenticationTitle:"To see the comments, please re-authenticate."});var yN=wt(91613),d1=wt(25597),bN=Object.defineProperty,PN=Object.defineProperties,EN=Object.getOwnPropertyDescriptors,f1=Object.getOwnPropertySymbols,wN=Object.prototype.hasOwnProperty,CN=Object.prototype.propertyIsEnumerable,h1=(n,t,r)=>t in n?bN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ON=(n,t)=>{for(var r in t||(t={}))wN.call(t,r)&&h1(n,r,t[r]);if(f1)for(var r of f1(t))CN.call(t,r)&&h1(n,r,t[r]);return n},SN=(n,t)=>PN(n,EN(t));const p1=n=>(0,e.h)(x.l,SN(ON({},n),{name:"UsersIcon",svgParams:{height:14,width:15,stroke:"#B6B6B6"}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.91732 12.249V11.0824C9.91732 9.79369 8.87265 8.74902 7.58398 8.74902H2.91732C1.62865 8.74902 0.583984 9.79369 0.583984 11.0824V12.249",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M5.24935 6.41423C6.53801 6.41423 7.58268 5.36956 7.58268 4.08089C7.58268 2.79223 6.53801 1.74756 5.24935 1.74756C3.96068 1.74756 2.91602 2.79223 2.91602 4.08089C2.91602 5.36956 3.96068 6.41423 5.24935 6.41423Z",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.8118 12.2659H13.563C13.5622 11.2025 14.0005 8.82373 11.666 8.82373",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M9.33398 1.82227C10.3664 2.08661 11.0886 3.01693 11.0886 4.08268C11.0886 5.14844 10.3664 6.07875 9.33398 6.3431",fill:"#838383",stroke:"#838383","stroke-linecap":"round","stroke-linejoin":"round"}));function m1({post:n,pub:t,user:r,showDate:i,showDatetime:s,isStatic:M,className:k,postReactionToken:j,onChange:U,allowEdit:q,hidePinning:Pe,showEmailSent:Me,allowSendEmail:xe,allowMobileFooter:Ve,reactors:qe,onCommentsClick:Ge,useWashBackground:ut,showRestackModal:bt,setFooterShown:Pt}){const At=(0,P.isMobile)({checkFirst4:!0}),Lt=typeof window=="undefined",Dt=(0,Ur.xR)(),Ht=(0,Ne.getBylineUsers)(n),on=s?Tr()(n.post_date).standardDatetime():M?Tr()(n.post_date).standardDate():Tr()(n.post_date).standardDateOrTime(),{getSettingFor:hn}=(0,Se.So)(),an=t.bylines_enabled&&(0,Ne.getPrintedByline)(t,n)&&n.type!=="podcast",mn=an&&t.byline_images_enabled&&Ht.some(({photo_url:nr})=>!!nr),rr=n.type!=="page",Gn=At&&mn&&Ht.length>2,Vn=(t==null?void 0:t.community_enabled)&&n.slug&&!n.is_draft&&(0,Ne.showCommentsOnPost)({publication:t,post:n}),_n=an&&Ht.length===1&&Ht[0].is_guest&&Ht[0].primaryPublicationSubscribeUrl&&Ht[0].primaryPublicationId!==t.id&&!t.parent_publication&&!n.is_draft&&!(0,Di.default)("dont_show_guest_byline"),jn=(0,Ne.oxfordComma)(Ht.map(nr=>M?(0,e.h)("a",{className:"byline-profile-link",href:(0,v.getProfileUrl)(nr,t,{base:M}),onClick:qn=>qn.stopPropagation()},nr.name):(0,e.h)(me.gq,{inline:!0,gap:4,alignItems:"center"},(0,e.h)(la.Ct,{subject:nr,utmSource:"byline"},(0,e.h)("a",{className:"byline-profile-link",href:(0,v.getProfileUrl)(nr,t,{base:M}),onClick:qn=>qn.stopPropagation()},nr.name)),!M&&(0,e.h)(Nt.s,{tier:nr.bestseller_tier,size:"sm",userId:nr.id})))),_r=!n.is_draft&&(0,yN.x)(r,{enable_restacking:!!hn("enable_restacking")},n,t,M);return(0,e.h)("div",{className:u()("post-subheader",k)},(0,e.h)("div",{className:u()("left",{vertical:Gn})},mn&&(M?(0,e.h)(Ll.Pn,{pub:t,post:n}):(0,e.h)(Ll.ZP,{className:"bylines-facepile",maximum:5,hoverProfiles:!0,faces:Ht.map(({id:nr,name:qn,photo_url:Rn})=>({id:nr,name:qn,photo_url:Rn})),faceUtmSource:"author-byline-face",elevated:ut})),(0,e.h)("div",{className:"label-stack"},an&&(0,e.h)("div",{className:"bylines"},(0,e.h)("span",{className:"byline-names"},jn)),_n&&(0,e.h)("div",{className:"guest-author-publication"},"Writes\xA0",(0,e.h)("a",{className:"guest-author-publication-name",href:Ht[0].primaryPublicationUrl,title:Ht[0].primaryPublicationName},Ht[0].primaryPublicationName),"\xA0\xB7\xA0",(0,e.h)("a",{className:"guest-author-publication-subscribe",href:Ht[0].primaryPublicationSubscribeUrl},"Subscribe")),(0,e.h)("div",{className:"publish-context"},n.type==="adhoc_email"?(0,e.h)(p1,{className:"audience-icon adhoc-email-icon",height:16,isStatic:M}):rr&&(0,Xe.isPaidAudience)(n.audience)&&(0,e.h)(d1.Z,{audience:n.audience,className:"audience-icon audience-lock-icon",size:16,isStatic:M,thin:!0}),(i||s)&&n.post_date&&!n.is_draft&&(0,e.h)("time",{dateTime:Tr()(n.post_date).toISOString()},on),n.is_draft&&(i||s)&&"Draft"))),(0,e.h)("div",{className:"right"},At&&!Lt&&Ve&&(0,e.h)(zo.mt,{post:n,pub:t,user:r,isStatic:M,onChange:U,allowEdit:q,hidePinning:Pe,showEmailSent:Me,allowSendEmail:xe,hideComments:!Vn,onCommentsClick:Ge,showRestackButton:_r,showRestackModal:bt,setFooterShown:Pt}),!At&&(0,e.h)(zo._2,{post:n,pub:t,user:r,isStatic:M,style:"button",onChange:U,allowEdit:q,hidePinning:Pe,showEmailSent:Me,allowSendEmail:xe,labelStyle:"counts-or-none",hideComments:!Vn,onCommentsClick:Ge,position:"post-header",showRestackButton:_r,showRestackModal:bt})))}const TN=({post:n})=>(0,e.h)("a",{className:"tw-no-underline hover:tw-underline",href:(0,v.pathWithQuery)("/subscribe",{simple:!0,next:document.location.href,utm_source:"paywall",utm_medium:"web",utm_content:n.id}),native:!0},(0,e.h)("div",{className:"podcast-embed tw-flex tw-items-center tw-justify-center tw-gap-3 tw-rounded tw-bg-pub-background tw-p-6 tw-font-sans tw-font-sans tw-text-base tw-shadow"},(0,e.h)(El,{className:"tw-fill-pub-accent tw-stroke-0"}),(0,e.h)("span",{className:"tw-text-sm tw-font-semibold tw-text-pub-accent"},"Upgrade to listen")));var IN=wt(71212),DN=wt(22939),MN=wt(99758),xN=Object.defineProperty,AN=Object.defineProperties,NN=Object.getOwnPropertyDescriptors,_1=Object.getOwnPropertySymbols,RN=Object.prototype.hasOwnProperty,LN=Object.prototype.propertyIsEnumerable,g1=(n,t,r)=>t in n?xN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,kN=(n,t)=>{for(var r in t||(t={}))RN.call(t,r)&&g1(n,r,t[r]);if(_1)for(var r of _1(t))LN.call(t,r)&&g1(n,r,t[r]);return n},BN=(n,t)=>AN(n,NN(t));const v1=n=>(0,e.h)(x.l,BN(kN({},n),{name:"CopyIcon",svgParams:{height:15,width:15}}),(0,e.h)("rect",{x:"4",y:"1",width:"10.2862",height:"10.2862",rx:"1"}),(0,e.h)("rect",{x:"1",y:"4",width:"10.2862",height:"10.2862",rx:"1"}));var UN=Object.defineProperty,FN=Object.defineProperties,jN=Object.getOwnPropertyDescriptors,Sc=Object.getOwnPropertySymbols,y1=Object.prototype.hasOwnProperty,b1=Object.prototype.propertyIsEnumerable,P1=(n,t,r)=>t in n?UN(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,WN=(n,t)=>{for(var r in t||(t={}))y1.call(t,r)&&P1(n,r,t[r]);if(Sc)for(var r of Sc(t))b1.call(t,r)&&P1(n,r,t[r]);return n},HN=(n,t)=>FN(n,jN(t)),VN=(n,t)=>{var r={};for(var i in n)y1.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Sc)for(var i of Sc(n))t.indexOf(i)<0&&b1.call(n,i)&&(r[i]=n[i]);return r};const KN=n=>{var t=n,{strokeWidth:r=1.5}=t,i=VN(t,["strokeWidth"]);return(0,e.h)(x.l,HN(WN({},i),{strokeWidth:r,name:"SendIcon",svgParams:{height:20,width:20,viewBox:"0 0 20 20"}}),(0,e.h)("path",{d:"M18.3332 1.66699L12.4998 18.3337L9.1665 10.8337L1.6665 7.50033L18.3332 1.66699Z","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M18.3332 1.66699L9.1665 10.8337","stroke-linecap":"round","stroke-linejoin":"round"}))};var E1=wt(46209);const w1=[{name:"Choose installed player",ios:!1,android:!0,desktop:!1,icon:"/img/podcast-app-icons/generic-orange-microphone.svg?v=1",onClick:n=>{document.location.href=`itpc://${(0,v.stripProtocol)(n)}`}},{name:"Apple Podcasts",ios:!0,android:!1,desktop:!0,icon:"/img/podcast-app-icons/apple-podcasts.svg?v=1",onClick:n=>{document.location.href=`podcast://${(0,v.stripProtocol)(n)}`}},{name:"Google Podcasts",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/google-podcasts.svg?v=1",onClick:n=>{document.location.href=`googlepodcasts://subscribe-by-rss-feed?feed=${Buffer.from(n).toString("base64")}`}},{name:"Overcast",ios:!0,android:!1,desktop:!0,icon:"/img/podcast-app-icons/overcast.svg?v=1",onClick:n=>{document.location.href=`overcast://x-callback-url/add?url=${encodeURIComponent(n)}`}},{name:"Pocket Casts",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/pocketcasts.svg?v=1",onClick:n=>{document.location.href=`pktc://subscribe/${(0,v.stripProtocol)(n)}`}},{name:"Downcast",ios:!0,android:!1,desktop:!1,icon:"/img/podcast-app-icons/downcast.svg?v=1",onClick:n=>{document.location.href=`downcast://${(0,v.stripProtocol)(n)}`}},{name:"Podcast Addict",ios:!1,android:!0,desktop:!1,icon:"/img/podcast-app-icons/podcast-addict.svg?v=1",onClick:n=>{document.location.href=`podcastaddict://${(0,v.stripProtocol)(n)}`}},{name:"Castro",ios:!0,android:!1,desktop:!1,icon:"/img/podcast-app-icons/castro.svg?v=1",onClick:n=>{(0,y.copyToClipboard)(n),document.location.href=`castros://subscribe/${(0,v.stripProtocol)(n)}`}},{name:"Radio Public",ios:!0,android:!0,desktop:!1,icon:"/img/podcast-app-icons/radiopublic.svg?v=1",onClick:n=>{document.location.href=`https://radiopublic.com/${encodeURIComponent(n)}`}}],C1=({className:n,pub:t,utmSource:r})=>{const i=typeof window!="undefined"?window.location.href:"",s=(0,le.getSubscribeUrl)(t,{params:{utm_source:r,simple:!0,next:i}});return(0,e.h)(Je.Z,{className:u()("primary tw-text-sm tw-font-semibold",n),href:s},(0,Ne.getSubscribeText)(t))};var $N=Object.defineProperty,Tc=Object.getOwnPropertySymbols,O1=Object.prototype.hasOwnProperty,S1=Object.prototype.propertyIsEnumerable,T1=(n,t,r)=>t in n?$N(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,I1=(n,t)=>{for(var r in t||(t={}))O1.call(t,r)&&T1(n,r,t[r]);if(Tc)for(var r of Tc(t))S1.call(t,r)&&T1(n,r,t[r]);return n},zN=(n,t)=>{var r={};for(var i in n)O1.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Tc)for(var i of Tc(n))t.indexOf(i)<0&&S1.call(n,i)&&(r[i]=n[i]);return r},GN=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const ZN=wt(39776),YN=["Podcast Addict"],JN=["Apple Podcasts"],XN=["Apple Podcasts"],QN=[],qN="hide_media_download_option",eR="https://support.substack.com/hc/en-us/articles/4519588148244-How-do-I-listen-to-episodes-on-my-podcast-app-",tR=({feedUrl:n,post:t,pub:r,sectionId:i,hasAccessToPrivatePodcastFeed:s,fileSrc:M})=>{const[k,j]=(0,o.eJ)(!1),[U,q]=(0,DN.E)();return(0,e.h)("div",{className:"tw-relative"},(0,e.h)("div",{className:u()("audio-button tw-flex tw-cursor-pointer tw-items-center tw-justify-center tw-gap-3 tw-rounded tw-border tw-border-solid tw-px-5 tw-py-3 tw-text-sm tw-font-semibold tw-text-pub-secondary-text tw-transition-colors sm:tw-py-2",k?"tw-border-pub-detail-dark":"tw-border-pub-detail-light hover:tw-border-pub-detail"),role:"button",onClick:q},(0,e.h)("span",{className:"sm:tw-hidden"},"Open in player"),(0,e.h)("span",{className:"tw-hidden sm:tw-block"},"Listen on"),(0,e.h)(MN.Z,{className:"tw-hidden tw-fill-pub-secondary-text tw-stroke-pub-secondary-text sm:tw-block",height:4})),(0,e.h)(nR,{feedUrl:n,menuRef:U,post:t,pub:r,sectionId:i,onToggle:j,hasAccessToPrivatePodcastFeed:s,fileSrc:M}))},nR=({feedUrl:n,menuRef:t,post:r,pub:i,sectionId:s,onToggle:M,hasAccessToPrivatePodcastFeed:k,fileSrc:j})=>{const U=(0,y.isMobileBrowser)(),q=()=>{(0,D.j)(D.FP.PODCAST_FEED_URL_COPIED),(0,y.copyToClipboard)(n),alert("Copied")},Pe=()=>{(0,D.j)(D.FP.PODCAST_APP_LINK_CLICK,{appName:"Substack App",feedUrl:n}),document.location.href=(0,v.getPostAppLinkUrl)(i==null?void 0:i.subdomain,r==null?void 0:r.slug,{redirect:"app-marketing",source:"podcast-dropdown"})};return(0,e.h)(Ki.ZP,{ref:t,noTail:!0,noList:!0,noPlace:!0,useDrawerOnMobile:!0,className:"tw-right-0 tw-border-pub-wash tw-bg-pub-background tw-p-0 tw-font-sans tw-transition sm:tw-max-w-none",wrapperClassName:"tw-max-h-[90vh]",onToggle:({active:Me})=>{(0,D.j)(D.FP.PODCAST_LISTEN_ON_CLICKED),M(Me)}},U?(0,e.h)(rR,{feedUrl:n,pub:i,onCopyFeed:q,onClickSubstackApp:Pe,hasAccessToPrivatePodcastFeed:k,fileSrc:j}):(0,e.h)(oR,{feedUrl:n,pub:i,sectionId:s,onCopyFeed:q,onClickSubstackApp:Pe,hasAccessToPrivatePodcastFeed:k,fileSrc:j}))},D1=({fileSrc:n})=>ZN.getConfigFor(qN)?null:(0,e.h)(Kl,{onClick:()=>{(0,y.downloadSrc)((0,v.updateQuery)(n,{download:!0}))}},(0,e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,e.h)(IN.Z,null)),(0,e.h)("span",null,"Download MP3")),rR=({feedUrl:n,pub:t,onCopyFeed:r,onClickSubstackApp:i,hasAccessToPrivatePodcastFeed:s,fileSrc:M})=>{var k;return(0,e.h)("div",{className:"tw-px-2 tw-pt-5 tw-pb-6"},(0,e.h)("div",{className:"tw-mb-2 tw-px-2 tw-text-xl tw-font-bold tw-text-pub-primary-text"},"Listen in app"),(0,y.isIOs)()&&(0,e.h)(Kl,{onClick:i},(0,e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,e.h)(E1.Z,null)),(0,e.h)("span",null,"Substack App")),n&&w1.filter(j=>(0,y.isIOs)()?JN.includes(j.name):YN.includes(j.name)).map(({name:j,icon:U,onClick:q})=>(0,e.h)(Kl,{key:j,onClick:()=>{(0,D.j)(D.FP.PODCAST_APP_LINK_CLICK,{appName:j,feedUrl:n}),q(n)}},(0,e.h)("img",{src:U,alt:`${j} logo`,className:"tw-w-6"}),(0,e.h)("span",{className:"tw-whitespace-nowrap"},j))),(0,e.h)(D1,{fileSrc:M}),n?(0,e.h)("div",{className:"tw-px-2 tw-pt-2"},(0,e.h)("div",{className:"tw-mb-4 tw-text-base tw-font-bold"},"Private RSS feed"),(0,e.h)("div",{className:"tw-mb-6 tw-text-sm tw-text-pub-secondary-text"},"Listen to paid episodes on your favorite podcast app with your private RSS feed. ",(0,e.h)(Dc,null)),(0,e.h)("div",null,(0,e.h)(Ic,{className:"tw-w-full",onClick:r},(0,e.h)(v1,{className:"tw-stroke-pub-secondary-text"}),(0,e.h)("span",null,"Copy link")))):s?(0,e.h)("div",{className:"tw-mt-3 tw-border-0 tw-border-t tw-border-solid tw-border-pub-detail-light tw-px-2 tw-pt-6 tw-text-sm"},(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Private RSS feed"),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Listen to paid episodes on your favorite podcast app with your private RSS feed."),(0,e.h)("div",null,(0,e.h)(M1,{pub:t}))):(0,e.h)("div",{className:"tw-mt-3 tw-border-0 tw-border-t tw-border-solid tw-border-pub-detail-light tw-px-2 tw-pt-6 tw-text-sm"},(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Subscribe to ",(k=t.podcast_title)!=null?k:"this podcast"),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Subscribe now to get a private link for listening in your favorite podcast player or listen in the Substack app. ",(0,e.h)(Dc,null)),(0,e.h)(C1,{className:"tw-w-full",pub:t,utmSource:"podcast_post_listen_on"})))},oR=({feedUrl:n,pub:t,sectionId:r,onCopyFeed:i,onClickSubstackApp:s,hasAccessToPrivatePodcastFeed:M,fileSrc:k})=>{var j;const[U,q]=(0,o.eJ)(!1),[Pe,Me]=(0,o.eJ)(null),xe=()=>GN(void 0,null,function*(){try{(0,D.j)(D.FP.PODCAST_EMAIL_LINK_CLICKED),yield ge().post("/api/v1/subscription/send_podcast_email").send({section_id:r}),alert("Email sent"),q(!0)}catch(Ve){console.error("Failed to send podcast setup email:",Ve),Me(Ve)}});return(0,e.h)("div",{className:"tw-min-w-[280px] tw-px-2 tw-py-2"},(0,e.h)("div",{className:"tw-border-0 tw-border-b tw-border-solid tw-border-pub-detail-light tw-pb-2"},(0,e.h)(Kl,{onClick:s},(0,e.h)("div",{className:"tw-flex tw-w-6 tw-justify-center"},(0,e.h)(E1.Z,null)),(0,e.h)("span",null,"Substack App")),n&&w1.filter(Ve=>(0,y.isMac)()?XN.includes(Ve.name):QN.includes(Ve.name)).map(({name:Ve,icon:qe,onClick:Ge})=>(0,e.h)(Kl,{key:Ve,onClick:()=>{(0,D.j)(D.FP.PODCAST_APP_LINK_CLICK,{appName:Ve,feedUrl:n}),Ge(n)}},(0,e.h)("img",{src:qe,alt:`${Ve} logo`,className:"tw-w-6"}),(0,e.h)("span",{className:"tw-whitespace-nowrap"},Ve))),(0,e.h)(D1,{fileSrc:k})),(0,e.h)("div",{className:"tw-p-2 tw-pt-4 tw-text-sm"},n?(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Your private RSS feed"),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Copy your RSS link and paste it in your podcast app. ",(0,e.h)(Dc,null)),(0,e.h)("div",{className:"tw-flex tw-gap-2"},(0,e.h)(Ic,{onClick:i},(0,e.h)(v1,{className:"tw-stroke-pub-secondary-text",strokeWidth:1.5}),(0,e.h)("span",null,"Copy link")),(0,e.h)(Ic,{onClick:xe,disabled:U},(0,e.h)(KN,{className:"tw-stroke-pub-secondary-text"}),(0,e.h)("span",null,"Email link"))),Pe&&(0,e.h)("div",{className:"tw-mt-2 tw-text-red-600"},(0,y.getNetworkErrorMessage)(Pe))):M?(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Your private RSS feed"),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Listen to paid episodes on your favorite podcast app with your private RSS feed."),(0,e.h)("div",null,(0,e.h)(M1,{pub:t}))):(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"tw-mb-2 tw-font-bold"},"Get a private RSS link for listening"),(0,e.h)("div",{className:"tw-mb-6 tw-text-pub-secondary-text"},"Subscribe to ",(j=t.podcast_title)!=null?j:"this podcast"," to get a private link for listening in your favorite podcast player. ",(0,e.h)(Dc,null)),(0,e.h)(C1,{pub:t,utmSource:"podcast_post_listen_on"}))))},Kl=n=>{var t=n,{children:r,href:i}=t,s=zN(t,["children","href"]);const M="tw-box-border tw-flex tw-items-center tw-gap-3 tw-whitespace-nowrap tw-rounded tw-py-3 tw-px-2 tw-text-base tw-font-bold tw-text-pub-primary-text tw-transition-colors hover:tw-bg-pub-wash sm:tw-gap-2 sm:tw-py-2 sm:tw-text-sm sm:tw-font-medium";return i?(0,e.h)("a",I1({className:u()("tw-no-underline",M),href:i},s),r):(0,e.h)("div",I1({className:u()("tw-cursor-pointer",M),role:"button"},s),r)},Ic=({children:n,className:t="",disabled:r=!1,onClick:i})=>(0,e.h)(Je.Z,{className:u()("outline-grayscale tw-flex tw-items-center tw-justify-center tw-gap-3 tw-border-pub-detail-light tw-text-sm tw-font-medium tw-text-pub-secondary-text hover:tw-border-pub-detail",t),onClick:i,disabled:r},n),Dc=()=>(0,e.h)("a",{href:eR,target:"_blank",rel:"noopener",className:"tw-text-pub-accent"},"Learn about RSS."),M1=({pub:n})=>(0,e.h)(Ic,{className:"tw-w-full",onClick:()=>{}},(0,e.h)(Or.Z,{className:"tw-stroke-pub-secondary-text tw-no-underline",href:(0,v.getPodcatcherSetupUrl)(n),onClick:()=>{}},"Set up feed")),iR=tR;var aR=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const sR=({isFreeSubscribed:n,isSubscribed:t,pub:r,post:i,magicToken:s,onGetDuration:M,isPreview:k,playerRef:j})=>{const[U,q]=(0,o.eJ)(null);return(0,o.d4)(()=>{if(!t&&!n)return;(()=>aR(void 0,null,function*(){const Me=yield ge().get("/api/v1/subscription/podcast_rss_url").query({token:s,section_id:i.section_id});Me.body.podcast_rss_url&&q(Me.body.podcast_rss_url)}))()},[n,t,s]),(0,e.h)(qu,{ref:j,feature:"Podcast",pub:r,src:i.podcast_url,duration:i.podcast_duration,autoPlay:!1,metricsPost:i,addToPodcastLink:null,onGetDuration:M,render:({currentTime:Pe,isPlaying:Me,progress:xe,progressBarRef:Ve,progressBarOnMouseDown:qe,remainingTime:Ge,playbackRate:ut,setPlaybackRate:bt,skipBack:Pt,skipForward:At,togglePlayback:Lt})=>(0,e.h)("div",{className:"podcast-embed tw-select-none tw-items-center tw-space-y-4 tw-rounded tw-bg-pub-background tw-p-6 tw-font-sans tw-shadow sm:tw-flex sm:tw-gap-4 sm:tw-space-y-0"},(0,e.h)("div",{className:"tw-flex tw-items-center tw-justify-between tw-gap-4"},(0,e.h)("div",{className:"tw-w-16 sm:tw-hidden"},"\xA0"),(0,e.h)(dI,{isPlaying:Me,onSkipBack:Pt,onSkipForward:At,onTogglePlayback:Lt}),(0,e.h)("div",{className:"tw-flex tw-w-16 tw-justify-end sm:tw-w-auto"},(0,e.h)(rf,{onSetPlaybackRate:bt,playbackRate:ut,className:"audio-button tw-w-12 tw-cursor-pointer tw-rounded-full tw-border-0 tw-border-solid tw-border-pub-detail-light tw-py-1 tw-text-center tw-font-meta tw-text-sm tw-font-semibold tw-leading-none tw-text-pub-primary-text hover:tw-border-pub-detail sm:tw-border sm:tw-text-pub-secondary-text"}))),(0,e.h)(nf,{currentTime:Pe,remainingTime:Ge,containerRef:Ve,progress:xe,onMouseDown:qe}),k?(0,e.h)("div",{className:"tw-m-auto tw-w-min tw-whitespace-nowrap tw-rounded-full tw-bg-pub-detail-light tw-py-1 tw-px-3 tw-font-meta tw-text-xs tw-font-medium tw-leading-5 tw-text-pub-secondary-text"},"FREE PREVIEW"):(0,e.h)(iR,{feedUrl:U,post:i,pub:r,sectionId:i.section_id,hasAccessToPrivatePodcastFeed:t||n,fileSrc:i.podcast_url}))})},lR=({expiry:n,podcastName:t,pub:r,postId:i})=>{const s=Tr()(n).calendar(null,{sameDay:"[today]",nextDay:"[tomorrow]",nextWeek:"MMMM D",sameElse:"MMMM D"});return(0,e.h)("div",{className:"tw-co tw-mt-12 tw-flex tw-flex-col tw-items-center tw-rounded-md tw-text-center"},(0,e.h)("div",{className:"tw-leading-5 md:tw-w-3/4"},(0,e.h)("p",{className:"tw-mb-2 tw-font-sans tw-text-lg tw-font-bold"},"Set up your subscription"),(0,e.h)("p",{className:"podcast-description tw-mb-4 tw-font-sans tw-text-base tw-text-pub-secondary-text"},"Your complimentary subscription to ",t," ends ",s,". To keep access and continue your support, finish setting up your subscription.")),(0,e.h)(sa.z,{look:"button",variant:"themed-primary",size:"medium",href:(0,v.getSubscribeUrl)(r,{utm_source:"continue_your_support",utm_medium:"web",utm_content:i,simple:!0,next:document.location.href})},"Continue your support"))},uR=({freeSignupEmail:n,pub:t,source:r,user:i,onSuccess:s})=>{const M=typeof window!="undefined"&&t.hostname!==window.location.hostname.replace(/[.]localhost$/,"");return(0,e.h)("div",{className:"inline-free-email-form"},(0,e.h)(ei.Z,{user:i,pub:t,freeSignupEmail:n,source:r,onSuccess:s,useSubscribeLink:M,submitButtonText:(0,Ne.getSubscribeText)(t)}))},Qf="podcast_post_header",cR=({freeSignupEmail:n,isFreeSubscribed:t,pub:r,user:i})=>{const[s,M]=(0,o.eJ)(!1),[k,j]=(0,o.eJ)(!1),U=(0,o.sO)(null),q=r.section?r.section.description:r.podcast_description,Pe=xe=>{if(r.plans){let Ve=(0,v.getSubscribeUrl)(r,{just_signed_up:!0,referral_token:xe.body.referral_token});xe.body.prompt_to_login&&(Ve=`/account/login?redirect=${encodeURIComponent(Ve)}&email=${encodeURIComponent(xe.body.email)}`),document.location.href=Ve}else window.location.reload()},Me=(0,o.I4)(()=>{M(!s)},[M,s]);return(0,o.bt)(()=>{const xe=()=>{const qe=U.current&&U.current.scrollHeight>U.current.clientHeight;j(s||qe)};xe();const Ve=(0,y.debounce)(xe);return window.addEventListener("resize",Ve),()=>{window.removeEventListener("resize",Ve)}},[j,U,s]),(0,e.h)("div",{className:"tw-mt-6 tw-text-center"},q&&(0,e.h)("div",{className:"podcast-description tw-mb-6 tw-font-sans tw-text-base tw-text-pub-secondary-text"},(0,e.h)("span",{ref:U,"data-testid":"podcast-description",className:u()({"podcast-description--clamped":!s})},q),k&&(0,e.h)("span",{className:"tw-cursor-pointer tw-font-bold",onClick:Me},!s&&(0,e.h)("span",null,"show more"),s&&(0,e.h)("span",null," show less"))),t?(0,e.h)(Je.Z,{href:(0,v.getSubscribeUrl)(r,{utm_source:Qf}),className:"primary tw-w-full tw-text-sm tw-font-semibold sm:tw-w-auto"},(0,Ne.getSubscribeText)(r,{isFreeSubscribed:!0})):(0,y.isMobileBrowser)()?(0,e.h)(Je.Z,{href:(0,v.getSubscribeUrl)(r,{utm_source:Qf,simple:!0,next:document.location.href}),className:"primary tw-w-full tw-text-sm tw-font-semibold sm:tw-w-auto"},(0,Ne.getSubscribeText)(r)):(0,e.h)(me.gq,{justifyContent:"center"},(0,e.h)(uR,{freeSignupEmail:n,pub:r,source:Qf,user:i,onSuccess:Pe})))},dR={facepile:"frontend-podcast_post_page-PodcastPostHeader-module__facepile--_7Aou"},fR=({freeSignupEmail:n,isFreeSignup:t,isPaywall:r,post:i,pub:s,magicToken:M,user:k,onChange:j,onClickCommentButton:U,onTopReached:q,playerRef:Pe})=>{var Me;const[xe,Ve]=(0,o.eJ)((Me=i.podcast_duration)!=null?Me:0),qe=Dt=>{Ve(Dt)},Ge=!!(k!=null&&k.is_subscribed),ut=!!(t||k!=null&&k.is_free_subscribed),bt=!ut||!Ge&&!!s.plans,Pt=Ge&&(k==null?void 0:k.subscription_type)==="comp"&&Tr()(k==null?void 0:k.subscription_expiry).subtract(30,"days").isBeforeNow(),At=ut&&!Ge&&(k==null?void 0:k.comp_expired_recently),Lt=(0,Ne.getBylineUsers)(i).sort((Dt,Ht)=>Dt.id===s.author_id?-1:Ht.id===s.author_id?1:Dt.is_guest&&!Ht.is_guest?-1:!Dt.is_guest&&Ht.is_guest?1:(Dt.name||"").localeCompare(Ht.name||""));return(0,e.h)("div",{className:"tw-bg-pub-wash tw-py-8 sm:tw-pb-16"},(0,e.h)("div",{className:"container"},(0,e.h)(hR,{post:i,podcastDuration:xe}),(0,e.h)(m1,{allowEdit:k==null?void 0:k.is_contributor,allowMobileFooter:!0,isStatic:!1,post:i,postReactionToken:M,pub:s,showDate:!0,showDatetime:!1,user:k,onChange:j,onCommentsClick:U,useWashBackground:!0}),(0,e.h)(ve,{onVisible:q}),r&&!(0,Ea.podcastPostIsFreePreview)(i)?(0,e.h)(TN,{post:i}):(0,e.h)(sR,{isFreeSubscribed:ut,isSubscribed:Ge,post:i,pub:s,magicToken:M,onGetDuration:qe,isPreview:(0,Ea.podcastPostIsFreePreview)(i),playerRef:Pe}),s.bylines_enabled&&Lt&&Lt.length?(0,e.h)(me.hs,{direction:"column",gap:24,paddingTop:24},(0,e.h)(J.xv.H4,{color:"pub-primary-text"},"Appears in this episode"),Lt.map(Dt=>(0,e.h)(me.hs,{direction:"column",gap:24},(0,e.h)(me.hs,{direction:"row",alignItems:"center",gap:16},(0,e.h)(me.hs,null,(0,e.h)(Ll.ZP,{className:dR.facepile,maximum:1,hoverProfiles:!0,faces:[Dt],faceUtmSource:"author-byline-face-podcast",elevated:!0})),(0,e.h)(me.hs,{direction:"column"},(0,e.h)(me.gq,{gap:4,alignItems:"center"},(0,e.h)(J.xv.B4,{color:"pub-primary-text",weight:"bold"},Dt.name),(0,e.h)(Nt.s,{userId:Dt.id,tier:Dt.bestseller_tier,size:"sm"})),Dt.primaryPublicationName&&(0,e.h)(J.xv.B4,{color:"pub-secondary-text"},Dt.primaryPublicationUrl?(0,e.h)(e.Fragment,null,"Writes ",(0,e.h)("a",{style:{textDecoration:"none"},href:Dt.primaryPublicationUrl},Dt.primaryPublicationName)," ",(0,e.h)("a",{href:`${Dt.primaryPublicationUrl}/subscribe`},"Subscribe")):`Writes ${Dt.primaryPublicationName}`)))))):null,Pt||At?(0,e.h)(lR,{expiry:k.subscription_expiry,postId:i.id,podcastName:s.podcast_title,pub:s}):bt?(0,e.h)(cR,{freeSignupEmail:n,isFreeSubscribed:ut,pub:s,user:k}):null))};function hR({post:n,podcastDuration:t}){return(0,e.h)("div",{className:"tw-items-end tw-gap-8 sm:tw-flex"},n.podcast_episode_image_url&&(0,e.h)("div",{className:"tw-mx-auto tw-mb-6 tw-box-border tw-h-32 tw-w-32 tw-shrink-0 tw-overflow-hidden tw-rounded-lg tw-border-4 tw-border-solid tw-border-white tw-bg-gray-400 tw-shadow-md sm:tw-mx-0 sm:tw-mb-0 sm:tw-h-56 sm:tw-w-56"},(0,e.h)("img",{className:"tw-h-full tw-w-full tw-object-cover",src:(0,le.imginary)(n.podcast_episode_image_url,512,{height:512,crop:"fill"})})),(0,e.h)("div",{className:"tw-text-center sm:tw-text-left"},(0,e.h)("div",{className:"tw-mb-1 tw-font-sans tw-text-sm tw-font-semibold tw-uppercase tw-text-pub-secondary-text"},n.post_date?Tr()(n.post_date).standardDate():Tr()().standardDate(),t>0&&` \u2022 ${(0,Ne.formatPodcastDuration)(t)}`),n.title&&(0,e.h)("h1",{className:u()("tw-mt-0 tw-mb-2 tw-leading-tight sm:tw-mb-1",{"tw-text-3xl sm:tw-text-4xl":n.title.length<60,"tw-text-3xl sm:tw-text-3xl":n.title.length>=60&&n.title.length<110,"tw-text-2xl sm:tw-text-2xl":n.title.length>=110&&n.title.length<140,"tw-text-xl sm:tw-text-xl":n.title.length>=140})},n.title),n.subtitle&&(0,e.h)("h3",{className:u()("tw-my-0 tw-font-sans tw-font-normal tw-text-pub-secondary-text",{"tw-text-lg":n.subtitle.length<110,"tw-text-base":n.subtitle.length>=110})},n.subtitle)))}function UK({post:n,pub:t,user:r,isPaywall:i}){const s=!!(r!=null&&r.is_subscribed),M=!!(r.is_subscribed||r.is_free_subscribed),k="";return i&&!podcastPostIsFreePreview(n)?h(PodcastAudioPaywall,{post:n}):h(PodcastPostAudioPlayer,{isFreeSubscribed:M,isSubscribed:s,post:n,pub:t,magicToken:k,isPreview:podcastPostIsFreePreview(n)})}const pR=(0,go.Z)("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]);var mR=wt(77951);const _R={small:"tw-py-2 tw-px-3",medium:"tw-py-3 tw-px-4",large:"tw-py-6 tw-px-4"},gR=({label:n,icon:t,isActive:r=!1,size:i,onClick:s,useSubstackTheme:M=!1,isDisabled:k=!1})=>{const j=_R[i];return(0,e.h)("div",{className:u()("tw-flex tw-items-center tw-gap-2 tw-border-y-2 tw-border-x-0 tw-border-solid tw-border-y-transparent tw-font-sans tw-text-sm tw-font-semibold tw-transition-colors ",j,{"tw-cursor-pointer":!k||r,"tw-cursor-not-allowed tw-opacity-50":k&&!r,"tw-border-b-pub-primary-text tw-text-pub-primary-text":r&&!M,"tw-text-pub-secondary-text":!r&&!M,"tw-border-b-substack-primary tw-text-substack-primary":r&&M,"tw-text-substack-secondary":!r&&M,"hover:tw-bg-pub-wash":!M&&!r&&!k,"hover:tw-bg-substack-wash":M&&!r&&!k}),disabled:k,onClick:k?()=>{}:s,role:"button"},typeof t=="function"?t({active:r}):t,(0,e.h)("span",null,n))},vR=({items:n,size:t="large",onSelect:r,activeTab:i,useSubstackTheme:s=!1,className:M})=>(0,e.h)("div",{className:u()("tw-flex",M)},n.map(({key:k,icon:j,label:U,isDisabled:q})=>(0,e.h)(gR,{isActive:k==i,icon:j,onClick:()=>{r(k)},size:t,label:U,useSubstackTheme:s,isDisabled:q}))),yR=({activeTab:n,commentCount:t,onClickTab:r,loadedWithHeaderLink:i,transcription:s})=>{const[M,k]=(0,o.eJ)(i);return(0,o.d4)(()=>{if(typeof window=="undefined"||M){k(!1);return}window.history.replaceState?window.history.replaceState(null,null,`#${n}`):window.location.hash=`#${n}`},[n]),(0,e.h)("div",{className:"tw-border tw-border-solid tw-border-pub-detail-light"},(0,e.h)("div",{className:"container"},(0,e.h)(vR,{items:[{key:"details",icon:(0,e.h)(pR,{height:18}),label:"Episode details"},{key:"comments",icon:({active:j})=>(0,e.h)(md.Z,{className:u()("tw-fill-transparent",j?"tw-stroke-pub-primary-text":"tw-stroke-pub-secondary-text"),height:18,strokeWidth:1.5}),label:t===0?"Comments":t===1?"1 comment":`${t} comments`},...s?[{key:"transcription",icon:(0,e.h)(mR.Z,{height:18}),label:"Transcript"}]:[]],onSelect:r,activeTab:n})))},bR=({children:n,href:t})=>(0,e.h)(e.Fragment,null,(0,e.h)("table",{cellSpacing:"0",cellPadding:"8",border:"0",width:"100%"},(0,e.h)("tr",null,(0,e.h)("td",{align:"center"},(0,e.h)("a",{href:t,className:"tw-font-sans tw-text-[13px] tw-font-semibold tw-text-error"},n))))),PR=({post:n,compAlreadyExpired:t=!1})=>{const r=`${bi.Substitutions.CHECKOUT_URL}&utm_medium=email&utm_campaign=continue_your_support&utm_content=${n.id}`;return(0,e.h)("table",{width:"100%",cellSpacing:"0",cellPadding:"0",border:"0",className:"tw-bg-error-wash",bgcolor:"#FFFAFA"},(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})),(0,e.h)("tr",null,(0,e.h)("td",{align:"center",className:"tw-leading-5"},(0,e.h)("span",{className:"tw-font-sans tw-text-base tw-font-bold tw-text-error"},"Continue your support"),(0,e.h)("br",null),t?(0,e.h)("span",{className:"tw-font-sans tw-text-ssm tw-text-error"},"Your free trial has ended!",(0,e.h)("br",null),"Continue your support to access paid-only content."):(0,e.h)("span",{className:"tw-font-sans tw-text-ssm tw-text-error"},"Subscribe now to keep your paid status. You won't be",(0,e.h)("br",null),"charged until your free trial ends on ",bi.Substitutions.SUBSCRIPTION_EXPIRY_DATE,"."))),(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})),(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(bR,{href:r},"Subscribe now"))),(0,e.h)("tr",null,(0,e.h)("td",{height:"16"})))};var Mc=wt(43498);const $l={container:"frontend-components-CrossPostBlurb-module__container--U8kba",podcastContainer:"frontend-components-CrossPostBlurb-module__podcastContainer--w0Cjq",attribution:"frontend-components-CrossPostBlurb-module__attribution--EmzLg",icon:"frontend-components-CrossPostBlurb-module__icon--BXDY0",pub:"frontend-components-CrossPostBlurb-module__pub--NCtMB"};var ER=Object.defineProperty,wR=Object.defineProperties,CR=Object.getOwnPropertyDescriptors,x1=Object.getOwnPropertySymbols,OR=Object.prototype.hasOwnProperty,SR=Object.prototype.propertyIsEnumerable,A1=(n,t,r)=>t in n?ER(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,TR=(n,t)=>{for(var r in t||(t={}))OR.call(t,r)&&A1(n,r,t[r]);if(x1)for(var r of x1(t))SR.call(t,r)&&A1(n,r,t[r]);return n},IR=(n,t)=>wR(n,CR(t));const DR=({postType:n,crossPostInfo:{introText:t,crossPostedPub:r,crossPostingByLine:i}})=>{const s=i[0];return(0,e.h)(me.tu,{className:u()($l.container,n==="podcast"&&$l.podcastContainer),paddingLeft:16,gap:20,paddingTop:12,paddingBottom:20},(0,e.h)(me.hs,{className:$l.attribution,gap:4,alignItems:"center"},(0,e.h)(Mc.Z,{className:$l.icon,height:16})," ",(0,e.h)(J.xv.Meta,{color:"pub-accent"},"Cross-post from"," ",(0,e.h)("a",{className:$l.pub,href:(0,le.getBaseUrl)(r)},r.name))),(0,e.h)(J.xv.B2,{color:"pub-primary-text"},t," - ",(0,e.h)(Dd.default,IR(TR({},s),{type:"user",uuid:"",isStatic:!1,isEditorContext:!1}))))};var MR=Object.defineProperty,xR=Object.defineProperties,AR=Object.getOwnPropertyDescriptors,xc=Object.getOwnPropertySymbols,N1=Object.prototype.hasOwnProperty,R1=Object.prototype.propertyIsEnumerable,L1=(n,t,r)=>t in n?MR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,NR=(n,t)=>{for(var r in t||(t={}))N1.call(t,r)&&L1(n,r,t[r]);if(xc)for(var r of xc(t))R1.call(t,r)&&L1(n,r,t[r]);return n},RR=(n,t)=>xR(n,AR(t)),LR=(n,t)=>{var r={};for(var i in n)N1.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&xc)for(var i of xc(n))t.indexOf(i)<0&&R1.call(n,i)&&(r[i]=n[i]);return r};const qf=n=>{var t=n,{stroke:r="black"}=t,i=LR(t,["stroke"]);return(0,e.h)(x.l,RR(NR({},i),{name:"ThreadIcon",svgParams:{height:19,width:19}}),(0,e.h)("path",{d:"M10.4286 3H8.57143C5.49441 3 3 5.49441 3 8.57143C3 10.2355 4.16477 12.1934 5.32143 13.2143V16L11.3571 14.1429C14.6071 13.067 16 10.9973 16 8.57143C16 5.49441 13.5056 3 10.4286 3Z",stroke:r,"stroke-linejoin":"round"}))};var kR=Object.defineProperty,BR=Object.defineProperties,UR=Object.getOwnPropertyDescriptors,Ac=Object.getOwnPropertySymbols,k1=Object.prototype.hasOwnProperty,B1=Object.prototype.propertyIsEnumerable,U1=(n,t,r)=>t in n?kR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,FR=(n,t)=>{for(var r in t||(t={}))k1.call(t,r)&&U1(n,r,t[r]);if(Ac)for(var r of Ac(t))B1.call(t,r)&&U1(n,r,t[r]);return n},jR=(n,t)=>BR(n,UR(t)),WR=(n,t)=>{var r={};for(var i in n)k1.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Ac)for(var i of Ac(n))t.indexOf(i)<0&&B1.call(n,i)&&(r[i]=n[i]);return r};const F1=n=>{var t=n,{stroke:r="black",height:i=19,width:s=19}=t,M=WR(t,["stroke","height","width"]);return(0,e.h)(x.l,jR(FR({},M),{name:"VideoIcon",svgParams:{height:i,width:s,viewBox:"2 2 15 15"}}),(0,e.h)("g",{fill:"transparent"},(0,e.h)("path",{d:"M15.5 15H3.5V4H15.5V15Z",stroke:r,"stroke-linejoin":"round"}),(0,e.h)("path",{d:"M11.5 11L8.5 9V12.5L11.5 11Z",stroke:r,"stroke-linejoin":"round"}),(0,e.h)("path",{d:"M4 7H15",stroke:r}),(0,e.h)("path",{d:"M4.5 4L7.5 7",stroke:r}),(0,e.h)("path",{d:"M8 4L11 7",stroke:r}),(0,e.h)("path",{d:"M11.5 4L14.5 7",stroke:r})))};var eh=wt(50615),HR=wt(12297),VR=wt.n(HR),KR=Object.defineProperty,$R=Object.defineProperties,zR=Object.getOwnPropertyDescriptors,j1=Object.getOwnPropertySymbols,GR=Object.prototype.hasOwnProperty,ZR=Object.prototype.propertyIsEnumerable,W1=(n,t,r)=>t in n?KR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,YR=(n,t)=>{for(var r in t||(t={}))GR.call(t,r)&&W1(n,r,t[r]);if(j1)for(var r of j1(t))ZR.call(t,r)&&W1(n,r,t[r]);return n},JR=(n,t)=>$R(n,zR(t));const H1=n=>(0,e.h)(x.l,JR(YR({},n),{name:"EmailIcon",svgParams:{height:25,width:25,strokeWidth:0,fill:"#000Z"}}),(0,e.h)("g",null,(0,e.h)("path",{d:"M22.93,7a2.43,2.43,0,0,0-.41-.93A2.61,2.61,0,0,0,20.39,5H4.61A2.61,2.61,0,0,0,2.48,6.1,2.43,2.43,0,0,0,2.07,7h0A2.78,2.78,0,0,0,2,7.61v9.78A2.61,2.61,0,0,0,4.61,20H20.39A2.61,2.61,0,0,0,23,17.39V7.61A2.25,2.25,0,0,0,22.93,7ZM4.61,6H20.39a1.58,1.58,0,0,1,1.26.62l-8.91,5.31a.49.49,0,0,1-.47,0L3.35,6.62A1.58,1.58,0,0,1,4.61,6ZM22,17.39A1.61,1.61,0,0,1,20.39,19H4.61A1.61,1.61,0,0,1,3,17.39V7.58l8.77,5.22a1.48,1.48,0,0,0,1.47,0L22,7.58Z"})));var XR=Object.defineProperty,QR=Object.defineProperties,qR=Object.getOwnPropertyDescriptors,Nc=Object.getOwnPropertySymbols,V1=Object.prototype.hasOwnProperty,K1=Object.prototype.propertyIsEnumerable,$1=(n,t,r)=>t in n?XR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,e8=(n,t)=>{for(var r in t||(t={}))V1.call(t,r)&&$1(n,r,t[r]);if(Nc)for(var r of Nc(t))K1.call(t,r)&&$1(n,r,t[r]);return n},t8=(n,t)=>QR(n,qR(t)),n8=(n,t)=>{var r={};for(var i in n)V1.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Nc)for(var i of Nc(n))t.indexOf(i)<0&&K1.call(n,i)&&(r[i]=n[i]);return r};const r8=n=>{var t=n,{color:r="#B6B6B6",height:i=18}=t,s=n8(t,["color","height"]);return(0,e.h)(x.l,t8(e8({},s),{height:i,name:"LockFullIcon",svgParams:{height:18,width:18,viewBox:"0 0 18 18"}}),(0,e.h)("rect",{x:"5.5",y:"2.5",width:"7",height:"13",rx:"3.5",stroke:r,fill:"none"}),(0,e.h)("rect",{x:"3.5",y:"8.5",width:"11",height:"8",rx:"0.5",fill:r,stroke:r}))};var o8=wt(15440);const z1=(0,go.Z)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);var i8=Object.defineProperty,a8=Object.defineProperties,s8=Object.getOwnPropertyDescriptors,G1=Object.getOwnPropertySymbols,l8=Object.prototype.hasOwnProperty,u8=Object.prototype.propertyIsEnumerable,Z1=(n,t,r)=>t in n?i8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,c8=(n,t)=>{for(var r in t||(t={}))l8.call(t,r)&&Z1(n,r,t[r]);if(G1)for(var r of G1(t))u8.call(t,r)&&Z1(n,r,t[r]);return n},d8=(n,t)=>a8(n,s8(t));const f8=n=>(0,e.h)(x.l,d8(c8({},n),{name:"LucideRecommend",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(z1,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var h8=wt(11762),p8=wt(11628);class m8 extends e.Component{onShare(t){this.props.position&&(0,D.j)(D.FP.POST_SHARE_BUTTON_CLICKED,{position:this.props.position}),!this.props.isStatic&&(t&&t.stopPropagation(),this.props.sharedShareDialog?t.target.dispatchEvent(new CustomEvent("share-post",{bubbles:!0})):this.modal.open())}render({className:t,linkClassName:r,user:i,pub:s,post:M,reaction_token:k,height:j,onChange:U,isStatic:q,children:Pe,sharedShareDialog:Me,noIcon:xe}){let Ve;return M.share_url_override?Ve=M.share_url_override:q?M?Ve=bi.Substitutions.SHARE_URL:Ve=bi.Substitutions.SHARE_PUB_URL:Ve="javascript:void(0)",(0,e.h)("span",{className:t},(0,e.h)("a",{href:Ve,onClick:qe=>this.onShare(qe),className:r},!xe&&(0,e.h)(p8.Z,{className:"recommend-icon post-meta-icon",isStatic:q,height:j,alt:"Share",stroke:"#757575",fill:"transparent",strokeWidth:q?1:1.5}),Pe),!q&&!Me&&(0,e.h)(Hl.ZP,{ref:qe=>this.modal=qe,user:i,pub:s,post:M,reaction_token:k,onChange:U}))}}const _8=({children:n,content:t,baseRef:r=void 0,portalClass:i="",className:s="",style:M=void 0})=>{const k=(0,o.sO)(null),j=(0,o.sO)(null);return t?(0,e.h)("div",{ref:k,className:s,style:M},n,(0,e.h)(Bv,{baseRef:r||k,hoverToggle:!0,onOpen:()=>{var U;return(U=j.current)==null?void 0:U.open()},onClose:()=>{var U;return(U=j.current)==null?void 0:U.close()},className:i},(0,e.h)(Ki.Fx,{ref:j,noList:!0,className:"explanation"},t))):n};var g8=wt(73413),v8=Object.defineProperty,y8=Object.defineProperties,b8=Object.getOwnPropertyDescriptors,Y1=Object.getOwnPropertySymbols,P8=Object.prototype.hasOwnProperty,E8=Object.prototype.propertyIsEnumerable,th=(n,t,r)=>t in n?v8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,nh=(n,t)=>{for(var r in t||(t={}))P8.call(t,r)&&th(n,r,t[r]);if(Y1)for(var r of Y1(t))E8.call(t,r)&&th(n,r,t[r]);return n},J1=(n,t)=>y8(n,b8(t)),w8=(n,t,r)=>(th(n,typeof t!="symbol"?t+"":t,r),r);const{getPaidOrFoundingTierNameForPost:C8}=wt(6378),O8=46438;class S8 extends e.Component{constructor(t,r){if(super(t,r),w8(this,"withAuthorLine",(i,s)=>{const{pub:M,post:k,showAuthor:j,showPhoto:U}=i,q=k.type==="adhoc_email",Pe=(0,Ne.getBylineUsers)(k).length,Me=Pe===1,xe=Me&&(0,Ne.getBylineUsers)(k)[0],Ve=Me&&xe.is_guest&&!(0,Di.default)("dont_show_guest_byline")&&!q,qe=i.showDate||i.showDatetime,Ge=!k.is_published&&!i.inThreadHead&&qe&&!q,ut=i.isFreePreview&&i.showAudience&&qe&&!q,bt=(0,Xe.isFoundingAudience)(k.audience)&&i.showAudience&&!ut&&qe&&!q,Pt=(0,Xe.isPaidAudience)(k.audience)&&i.showAudience&&!bt&&!ut&&qe&&!q,At=(0,zo.F6)({pub:M,post:k,showAuthor:j,showPhoto:U});return(0,e.h)(qr.YF,{width:"100%",className:u()("post-meta")},(0,e.h)("tr",null,(0,e.h)("td",null,(0,e.h)(qr.i$,null,(0,e.h)(qr.zK,{gap:4},(0,e.h)(J.xv.Meta,{color:"primary",className:V0.A.postAuthor},Pe>0?(0,Ne.oxfordComma)((0,Ne.getBylineUsers)(k).map(Lt=>(0,e.h)(J.xv.Meta,{as:"a",href:(0,v.getProfileUrl)(Lt,M,{base:i.isStatic}),color:"primary",style:"text-decoration: none"},Lt.name))):(0,Ne.getPrintedByline)(M,k))),(0,e.h)(qr.zK,{gap:4},(0,e.h)(J.xv.Meta,null,(i.showDate||i.showDatetime)&&k.post_date&&(0,e.h)("time",{dateTime:Tr()(k.post_date).toISOString()},Tr()(k.post_date).standardDate())),Pt&&(0,e.h)(qr.zK,{gap:4},(0,e.h)(J.xv.Meta,null,"\u2219"),(0,e.h)(J.xv.Meta,{color:"accent-purple"},"Paid")),bt&&(0,e.h)(qr.zK,{gap:4},(0,e.h)(J.xv.Meta,null,"\u2219"),(0,e.h)(J.xv.Meta,{color:"accent-purple"},C8(M,k))),ut&&(0,e.h)(qr.zK,{gap:4},(0,e.h)(J.xv.Meta,null,"\u2219"),(0,e.h)(J.xv.Meta,{color:"accent-purple"},"Preview")),Ve&&(0,e.h)(qr.zK,{gap:4},(0,e.h)(J.xv.Meta,null,"\u2219"),(0,e.h)(J.xv.Meta,null,"Guest post")),Ge&&(0,e.h)(qr.zK,{gap:4},(0,e.h)(J.xv.Meta,null,"\u2219"),(0,e.h)(J.xv.Meta,null,"Draft"))))),At&&(0,e.h)("td",{align:"right"},(0,e.h)(qr.zK,{gap:4},Pe>0&&(0,Ne.getBylineUsers)(k).map((Lt,Dt)=>Dt<4&&(0,e.h)("a",{href:(0,v.getProfileUrl)(Lt,M,{base:i.isStatic})},(0,e.h)(qr.NS,{src:Lt.photo_url,size:Pe>1?32:40})))))))}),typeof window!="undefined"&&(window!=null&&window.matchMedia)){const i=window.matchMedia("screen and (max-width: 650px)");this.state={isMobileWidth:i.matches};const s=M=>{this.unmounted||this.setState({isMobileWidth:M.matches})};i.addEventListener?i.addEventListener("change",s):i.addListener&&i.addListener(s)}}componentWillUnmount(){this.unmounted=!0}render({pub:t,post:r,showAuthor:i,showPhoto:s,fromPostPage:M}){return(0,zo.F6)({pub:t,post:r,showAuthor:i,showPhoto:s})||(0,zo.Cz)({pub:t,post:r,showAuthor:i})||(0,zo.z5)({pub:t,post:r,showAuthor:i})?this.withAuthorLine(this.props,this.state):(0,e.h)(I8,J1(nh({},this.props),{editOnRightSide:this.props.showUpdatedIcons,className:this.props.showUpdatedIcons?"alternative-meta":this.props.className,isMobileWidth:this.state.isMobileWidth,actionBarStyle:M?"post-header-compact":"post-preview"}))}}const T8=({shouldShowFullWidthUfi:n,isMobileWidth:t,children:r})=>n?h(FlexColumn,{style:{width:"100%"},gap:{desktop:16,mobile:0}},r):t?r:h(FlexRow,{style:{width:"100%"},justifyContent:"space-between",direction:"row-reverse"},r),GK=({additionalCommentCount:n,user:t,pub:r,post:i,showReactions:s,showComments:M,reaction_token:k,onChange:j,shareTooltipText:U,fromPostPage:q,onClickCommentButton:Pe,reactors:Me,isStatic:xe,base_url:Ve,className:qe,showShare:Ge})=>{s=s&&r.community_enabled&&i.slug&&!i.is_draft;const ut=useMediaQuery({maxWidth:540}),{getSettingFor:bt}=usePublicationSettings(),Pt=!xe&&(i==null?void 0:i.id)&&r.community_enabled&&!i.is_draft&&i.slug,At=sum(Object.values((i==null?void 0:i.reactions)||{})),Lt=Pt&&!!At&&s,Dt=!i.is_draft&&canPostBeRestacked(t,{enable_restacking:!!bt("enable_restacking")},i,r,!1),Ht=Dt;return h(T8,{shouldShowFullWidthUfi:Ht,isMobileWidth:ut},h(PostUfi,{style:"button",post:i,pub:r,user:t,postReactionToken:k,hideReactions:!s||ut&&Dt,hideComments:!M||ut&&Dt,hideSavePost:ut&&Dt,hideShare:!Ge||ut&&Dt,useShareLabel:ut&&!Ht,labelStyle:ut&&!Ht?"labels":"counts-or-none",onChange:j,additionalCommentCount:n,showShare:Ge,onCommentsClick:Pe,position:Ht?"post-footer-full-width":"post-footer",showRestackButton:Dt}),Lt&&h(Fragment,null,(Ht||ut)&&h("hr",{className:"footer-facepile-separator"}),h("div",{className:"footer-facepile-container"},h(rh,{postId:i.id,totalLikes:At,reactors:$s(Me,t,!!i.reaction,r),loading:!Me,hoverProfiles:!0,enableModal:!0,showFaces:r.post_reaction_faces_enabled}))))};function X1({pub:n,post:t,user:r,reactors:i,secondaryFaces:s}){var M;return(0,e.h)(rh,{postId:t.id,totalLikes:Math.max((M=t.reactions["\u2764"])!=null?M:0,(i!=null?i:[]).length),reactors:$s(i,r,!!t.reaction,n),secondaryFaces:$s(s,r,!!t.restacked,n),totalRestacks:t.restacks||0,loading:!i,hoverProfiles:!0,enableModal:!0,showFaces:n.post_reaction_faces_enabled})}function ZK(n){const{post:t,user:r,pub:i}=n,{result:s,isLoading:M}=useFetch({pathname:`/api/v1/post/${t.id}/reactors`,auto:!0,deps:[t.id]}),{result:k,isLoading:j}=useFetch({pathname:`/api/v1/post/${t.id}/restackers`,auto:!0,deps:[t.id]});return h(X1,nh({reactors:$s(s,r,!!t.reaction,i),secondaryFaces:$s(k,r,!!t.restacked,i)},n))}function $s(n,t,r,i){if(!n)return[];if(t){const s=n.findIndex(M=>M.id===t.id);r&&(t.subscription_visibility!=="private"||i.id===O8)&&t.activity_likes_enabled&&s<0?n.splice(0,0,{id:t.id,name:t.name,photo_url:t.photo_url}):!r&&s>=0&&n.splice(s,1)}return n}function I8({additionalCommentCount:n=0,className:t,user:r,pub:i,post:s,showAudience:M=!1,showDate:k=!1,showEmailSent:j=!1,showDatetime:U=!1,showReactions:q=!0,showComments:Pe=!0,showShare:Me=!1,showRestack:xe=!1,showPublicationName:Ve=!1,hidePinning:qe=!1,reaction_token:Ge,onClick:ut,onChange:bt,isStatic:Pt=!1,isFreePreview:At=!1,allowSendEmail:Lt=!1,allowEdit:Dt=!1,shareTooltipText:Ht,showPins:on,sharedShareDialog:hn,showUpdatedIcons:an,editOnRightSide:mn=!1,onClickCommentButton:rr,reactors:Gn,showAuthor:Vn,showPhoto:_n,fromPostPage:jn,isMobileWidth:_r,actionBarStyle:nr="post-header-compact"}){var qn;const Rn=[i].concat(i.child_publications).find(Er=>Er.id===s.publication_id),Bn=$s(Gn,r,!!s.reaction,i),cr=nr==="post-footer",Ln=cr?20:nr==="post-preview"?14:18,er=nr==="post-header-large"?20:nr==="post-preview"?16:nr==="thread-head"||cr?14:18;let qt;s.comment_url_override?qt=s.comment_url_override:Pt?qt=`${bi.Substitutions.HALF_MAGIC_COMMENTS_URL}&utm_source=substack&utm_medium=email`:qt=(0,v.getPostUrl)(i,s,{comments:!0});const Sn=n+((qn=s.comment_count)!=null?qn:0),Yt=Pe&&!At&&(0,Ne.showCommentsOnPost)({publication:i,post:s})&&s.type!=="restack",ir=q&&!At&&!["adhoc_email","restack"].includes(s.type),Pn=(k||U)&&s.post_date&&!s.is_draft,gr=j?!!s.email_sent_at:null,fr=(0,jp.S)({user:r,noBase:!1}),Nr=Er=>{var kr;(kr=Er.post)!=null&&kr.reaction&&r&&fr({user:r}),bt(Er)},$n=(0,e.h)(Ps.dJ,{user:r,pub:i,post:s,token:Ge,onChange:Nr,height:er,isStatic:Pt,isFreePreview:At,alt:"Like",buttonStyle:cr,className:"post-meta-icon like-reaction-button",hideReactionCount:cr&&!Pt}),Cr=[j&&gr&&{className:"email-sent",title:"This post was sent as an email",content:(0,e.h)(H1,{className:"post-meta-icon",height:Ln,isStatic:Pt})},on&&s.is_section_pinned&&{className:"icon pinned",content:(0,e.h)(h8.Z,{className:"post-meta-icon",isStatic:Pt})},s.type==="adhoc_email"?{className:"audience-adhoc",content:(0,e.h)(p1,{className:"post-meta-icon",isStatic:Pt})}:M&&(0,Xe.isPaidAudience)(s.audience)&&{className:"audience-lock",content:(0,e.h)(r8,{color:"#666666",height:Ln,isStatic:Pt})},(0,zo.Er)({pub:i,post:s,showAuthor:Vn,showPhoto:_n,isMobileWidth:_r})&&{className:"author",content:(0,Ne.getBylineUsers)(s).length>0?(0,Ne.oxfordComma)((0,Ne.getBylineUsers)(s).map(Er=>(0,e.h)(la.Ct,{disabled:Pt,subject:Er,utmSource:"byline"},(0,e.h)("a",{href:(0,v.getProfileUrl)(Er,i,{base:Pt}),onClick:kr=>kr.stopPropagation()},Er.name)))):(0,Ne.getPrintedByline)(i,s)},Ve&&{className:"post-publication-name",content:i.name},an&&!mn&&Dt&&!Pt&&r&&r.is_contributor&&{className:"post-meta-item icon edit-icon",onClick:Er=>Er.stopPropagation(),content:(0,e.h)(eh.l,{pub:i,post:s,iconHeight:Ln,hidePinning:qe,user:r,emailSent:gr,allowSendEmail:Lt,showUpdatedIcons:an})},Pn&&{className:"post-date",title:Tr()(s.post_date).toISOString(),content:(0,e.h)(J.xv.Meta,null,(0,e.h)("time",{dateTime:Tr()(s.post_date).toISOString()},(0,zo.fh)({post:s,showDatetime:U,isStatic:Pt,fromPostPage:jn,showReactions:ir})))},(Rn==null?void 0:Rn.community_enabled)&&s.slug&&ir&&!s.is_draft&&{className:"icon",onClick:Er=>Er.stopPropagation(),content:!cr&&!Pt&&Bn.length?(0,e.h)(_8,{portalClass:"facepile-tooltip",content:(0,e.h)(rh,{postId:s.id,totalLikes:VR()(Object.values(s.reactions)),reactors:Bn,loading:!Gn})},$n):$n},r&&{className:"icon",onClick:Er=>Er.stopPropagation(),content:(0,e.h)(D8,{post:s,isPostFooter:cr,isStatic:Pt,lucideIconHeight:er,onChange:bt})},(Rn==null?void 0:Rn.community_enabled)&&s.slug&&Yt&&!s.is_draft&&{className:"icon",onClick:Er=>Er.stopPropagation(),content:(0,e.h)("a",{className:cr?"post-meta-button button":"",href:qt,native:Rn&&(0,v.isPublishPath)(document.location.pathname,Rn),onClick:rr},(0,e.h)(md.Z,{className:"comment-icon post-meta-icon",isStatic:Pt,height:er,alt:"Comment",stroke:"#757575",fill:"transparent",strokeWidth:Pt?1:1.5,ampProps:{layout:"fixed"}}),!Sn&&cr&&(0,e.h)("span",{className:"meta-button-label"},"Comment"),Sn>0&&(0,e.h)("span",{className:"comment-count"},(0,Ne.numberToString)(Sn)))},xe&&!cr&&{className:"icon",onClick:Er=>Er.stopPropagation(),content:(0,e.h)("a",{href:bi.Substitutions.RESTACK_URL,className:cr?"button post-meta-button":void 0},(0,e.h)(f8,{className:"recommend-icon post-meta-icon",isStatic:Pt,height:er,alt:"Recommend",stroke:"#757575",fill:"transparent",strokeWidth:Pt?1:1.5,ampProps:{layout:"fixed"}}),cr&&(0,e.h)("span",{className:"meta-button-label"},"Recommend"))},Me&&s.audience!=="only_free"&&!s.is_draft&&!At&&{className:"icon",onClick:Er=>Er.stopPropagation(),content:(0,e.h)(m8,{user:r,pub:Rn,post:s,reaction_token:Ge,height:er,onChange:bt,isStatic:Pt,sharedShareDialog:hn,position:nr==="post-footer"?"post-footer":"post-header",linkClassName:cr?"button post-meta-button":void 0},cr&&(0,e.h)("span",{className:"meta-button-label"},"Share"),Ht&&(0,e.h)("div",{className:"share-tooltip-wrap"},(0,e.h)("div",{className:"share-tooltip"},Ht)))},(!an||mn)&&Dt&&!Pt&&r&&r.is_contributor&&{className:"icon edit-icon",onClick:Er=>Er.stopPropagation(),content:(0,e.h)(eh.l,{pub:i,post:s,iconHeight:Ln,hidePinning:qe,user:r,emailSent:gr,allowSendEmail:Lt,showUpdatedIcons:an})}].filter(Er=>!!Er);return Pt?(0,e.h)("table",{className:u()("post-meta custom",{big:cr},t),cellpadding:"0",cellspacing:"0",onClick:ut},(0,e.h)("tr",null,Cr.map(({className:Er,title:kr,onClick:fo,content:ao})=>(0,e.h)("td",{className:u()("post-meta-item",Er),title:kr,onClick:fo},ao)))):(0,e.h)("div",{className:u()("post-meta post-meta-actions-web custom",{big:cr},t),onClick:ut},Cr.map(({className:Er,title:kr,onClick:fo,content:ao})=>(0,e.h)("div",{className:u()("post-meta-item",Er),title:kr,onClick:fo},ao)))}function rh({className:n,postId:t,reactors:r,secondaryFaces:i,totalLikes:s,totalRestacks:M,loading:k,hoverProfiles:j,enableModal:U,showFaces:q}){const Pe=s>0?(0,Ne.pluralize)(s,"Like"):"";let Me="";return M>0&&(Me=`${(0,Ne.pluralize)(M,"Restack")}`),(0,e.h)(Ll.ZP,{className:n,loading:k,faces:r,secondaryFaces:i,pileLabel:Pe,modalLabel:Pe,secondaryLabel:Me,secondaryHref:(0,Qv.Oi)(t,{noBase:g8.L,urlParams:{utm_source:"substack",utm_content:"facepile-restacks"}}),totalCount:s,totalRestacks:M,hoverProfiles:j,enableModal:U,faceUtmSource:"post-reactions-face",detailUtmSource:"post-reactions-modal",onDialogOpen:()=>{(0,D.j)(D.FP.POST_REACTIONS_MODAL_VIEWED,{post_id:t})},showFaces:q})}function D8({post:n,isPostFooter:t,isStatic:r,isSaved:i,lucideIconHeight:s,onChange:M}){const{onSave:k,isSaved:j}=(0,zo.vk)({post:n,isSaved:n.is_saved}),U=()=>{const q=k();M({post:J1(nh({},n),{is_saved:q})})};return(0,e.h)("a",{className:u()("post-meta-save-button",t?"post-meta-button button":"",{isSaved:j}),href:r&&bi.Substitutions.SAVE_POST_URL,onClick:U},(0,e.h)(o8.Z,{isStatic:r,height:s,stroke:"#757575",strokeWidth:r?1:1.5}),t&&(0,e.h)("span",{className:"meta-button-label"},"Save"))}const M8=(0,go.Z)("ArrowLeft",[["line",{x1:"19",x2:"5",y1:"12",y2:"12",key:"9fu2vq"}],["polyline",{points:"12 19 5 12 12 5",key:"1ksm0z"}]]);var x8=Object.defineProperty,A8=Object.defineProperties,N8=Object.getOwnPropertyDescriptors,Q1=Object.getOwnPropertySymbols,R8=Object.prototype.hasOwnProperty,L8=Object.prototype.propertyIsEnumerable,q1=(n,t,r)=>t in n?x8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,k8=(n,t)=>{for(var r in t||(t={}))R8.call(t,r)&&q1(n,r,t[r]);if(Q1)for(var r of Q1(t))L8.call(t,r)&&q1(n,r,t[r]);return n},B8=(n,t)=>A8(n,N8(t));const U8=n=>(0,e.h)(x.l,B8(k8({},n),{name:"LudiceArrowLeft",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(M8,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var F8=Object.defineProperty,j8=Object.defineProperties,W8=Object.getOwnPropertyDescriptors,ey=Object.getOwnPropertySymbols,H8=Object.prototype.hasOwnProperty,V8=Object.prototype.propertyIsEnumerable,ty=(n,t,r)=>t in n?F8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,K8=(n,t)=>{for(var r in t||(t={}))H8.call(t,r)&&ty(n,r,t[r]);if(ey)for(var r of ey(t))V8.call(t,r)&&ty(n,r,t[r]);return n},$8=(n,t)=>j8(n,W8(t));const z8=n=>(0,e.h)(x.l,$8(K8({},n),{name:"LucideArrowRight",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(Z0,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth})),ny=({post:n})=>{const t=(0,Se.So)().getSettingFor("enable_prev_next_nav"),r=(0,Bi.XA)();return!t||!(n!=null&&n.previous_post_slug)&&!(n!=null&&n.next_post_slug)?null:(0,e.h)("div",{className:"post-footer use-separators post-ufi themed next-prev"},(0,e.h)("div",null,n.previous_post_slug&&(0,e.h)(zo.Ng,{icon:(0,e.h)(U8,{className:"icon",strokeWidth:1.5,height:20}),noLabel:!1,style:"button",noBorder:r,onClick:()=>{(0,D.j)(D.FP.PREVIOUS_POST_LINK_CLICKED,{post_id:n.id}),(0,g.route)(`/p/${n.previous_post_slug}`)}},(0,e.h)("div",{className:"tw-flex tw-items-center"},"Previous"))),(0,e.h)("div",null,n.next_post_slug&&(0,e.h)(zo.Ng,{icon:(0,e.h)(z8,{className:"icon",strokeWidth:1.5,height:20}),iconPosition:"right",noLabel:!1,style:"button",noBorder:r,onClick:()=>{(0,D.j)(D.FP.NEXT_POST_LINK_CLICKED,{post_id:n.id}),(0,g.route)(`/p/${n.next_post_slug}`)}},(0,e.h)("div",{className:"tw-flex tw-items-center"},"Next"))))};var G8=Object.defineProperty,Z8=Object.defineProperties,Y8=Object.getOwnPropertyDescriptors,Rc=Object.getOwnPropertySymbols,ry=Object.prototype.hasOwnProperty,oy=Object.prototype.propertyIsEnumerable,iy=(n,t,r)=>t in n?G8(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,J8=(n,t)=>{for(var r in t||(t={}))ry.call(t,r)&&iy(n,r,t[r]);if(Rc)for(var r of Rc(t))oy.call(t,r)&&iy(n,r,t[r]);return n},X8=(n,t)=>Z8(n,Y8(t)),Q8=(n,t)=>{var r={};for(var i in n)ry.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Rc)for(var i of Rc(n))t.indexOf(i)<0&&oy.call(n,i)&&(r[i]=n[i]);return r};const q8=n=>{var t=n,{stroke:r="black",height:i=19,width:s=19}=t,M=Q8(t,["stroke","height","width"]);return(0,e.h)(x.l,X8(J8({},M),{name:"AdhocEmailIcon",svgParams:{height:i,width:s,viewBox:"0 0 19 19"}}),(0,e.h)("path",{d:"M3 4C3 3.72386 3.22386 3.5 3.5 3.5H13C13.2761 3.5 13.5 3.72386 13.5 4V12.5C13.5 12.7761 13.2761 13 13 13H3.5C3.22386 13 3 12.7761 3 12.5V4Z",stroke:r}),(0,e.h)("path",{d:"M3.5 4L8.25 9.02499L13 4",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M5 13.5V15C5 15.2761 5.22386 15.5 5.5 15.5H15.3151C15.5913 15.5 15.8151 15.2761 15.8151 15V7C15.8151 6.72386 15.5913 6.5 15.3151 6.5H14",stroke:r}))};var eL=Object.defineProperty,tL=Object.defineProperties,nL=Object.getOwnPropertyDescriptors,Lc=Object.getOwnPropertySymbols,ay=Object.prototype.hasOwnProperty,sy=Object.prototype.propertyIsEnumerable,ly=(n,t,r)=>t in n?eL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,rL=(n,t)=>{for(var r in t||(t={}))ay.call(t,r)&&ly(n,r,t[r]);if(Lc)for(var r of Lc(t))sy.call(t,r)&&ly(n,r,t[r]);return n},oL=(n,t)=>tL(n,nL(t)),iL=(n,t)=>{var r={};for(var i in n)ay.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Lc)for(var i of Lc(n))t.indexOf(i)<0&&sy.call(n,i)&&(r[i]=n[i]);return r};const aL=n=>{var t=n,{stroke:r="black",height:i=19,width:s=19}=t,M=iL(t,["stroke","height","width"]);return(0,e.h)(x.l,oL(rL({},M),{name:"NewsletterIcon",svgParams:{height:i,width:s,viewBox:"0 0 19 19"}}),(0,e.h)("path",{d:"M3.5 3.5H15.5",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 7.5H15.5",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 11.5H15.5",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M3.5 15.5H12",stroke:r,"stroke-linecap":"round","stroke-linejoin":"round"}))};var sL=Object.defineProperty,kc=Object.getOwnPropertySymbols,uy=Object.prototype.hasOwnProperty,cy=Object.prototype.propertyIsEnumerable,dy=(n,t,r)=>t in n?sL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,zs=(n,t)=>{for(var r in t||(t={}))uy.call(t,r)&&dy(n,r,t[r]);if(kc)for(var r of kc(t))cy.call(t,r)&&dy(n,r,t[r]);return n},lL=(n,t)=>{var r={};for(var i in n)uy.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&kc)for(var i of kc(n))t.indexOf(i)<0&&cy.call(n,i)&&(r[i]=n[i]);return r};const uL=n=>{var t=n,{postType:r}=t,i=lL(t,["postType"]);switch(r){case"newsletter":return(0,e.h)(aL,zs({},i));case"adhoc_email":return(0,e.h)(q8,zs({},i));case"thread":return(0,e.h)(qf,zs({},i));case"podcast":return(0,e.h)(xt,zs({},i));case"video":return(0,e.h)(F1,zs({},i));case"restack":return(0,e.h)(Mc.Z,zs({},i));default:return console.warn(`Unrecognized post type: [${r}]`),null}};var cL=Object.defineProperty,fy=Object.getOwnPropertySymbols,dL=Object.prototype.hasOwnProperty,fL=Object.prototype.propertyIsEnumerable,hy=(n,t,r)=>t in n?cL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,py=(n,t)=>{for(var r in t||(t={}))dL.call(t,r)&&hy(n,r,t[r]);if(fy)for(var r of fy(t))fL.call(t,r)&&hy(n,r,t[r]);return n},hL=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const Bc=500,pL={PUBLICATION:"publication",CHOOSE:"choose"},mL=({pubToRecommendBack:n,recommendingPub:t,recommendedPubs:r,setStep:i,close:s,setLoading:M,source:k})=>{const[j,U]=(0,o.eJ)(null);(0,o.d4)(()=>{var Pe;j==null&&(r!=null&&r.find(({id:Me})=>Me===n.id))&&U((Pe=r==null?void 0:r.find(({id:Me})=>Me===n.id))==null?void 0:Pe.blurb)},[j,r,n.id]);const q=(0,Ne.getByLine)(n);return(0,e.h)("div",{className:"add-recommending-pub-modal-container"},(0,e.h)(Lr.Z,{pub:n,logo_url:n.logo_url,size:84}),(0,e.h)("h2",null,"Recommend ",n.name),n.hero_text&&(0,e.h)("p",{className:"pub-hero-text"},n.hero_text),(0,e.h)("p",{className:"pub-author-subs"},q?`By ${q}`:null,q&&n.rankingDetail?"\xA0\xA0\xB7\xA0\xA0":null,n.rankingDetail),(0,e.h)("p",{className:"why-recommend"},"Why are you recommending ",n.name,"? (optional)"),(0,e.h)("textarea",py({placeholder:"Share why your readers might enjoy it...",onChange:Pe=>{U(Pe.target.value)},value:j},Iv.J)),(0,e.h)("div",{className:"footer"},(0,e.h)("p",{className:"learn-more"},"Recommendations are shown to readers after they subscribe to your publication."," ",(0,e.h)("a",{href:"https://support.substack.com/hc/en-us/articles/5036794583828-How-can-I-recommend-other-publications-on-Substack-",onClick:()=>{(0,D.j)(D.FP.MANAGE_RECOMMENDATIONS_LEARN_MORE_CLICKED,{source:"modal-recommend-pub"})}},(0,e.h)("u",null,"Learn more"))),(0,e.h)("button",{className:u()("continue-button button primary",{disabled:((j==null?void 0:j.length)||0)>Bc}),disabled:((j==null?void 0:j.length)||0)>Bc,title:((j==null?void 0:j.length)||0)>Bc?`Please enter a description shorter than ${Bc} characters`:"",onClick:()=>hL(void 0,null,function*(){yield ge().put("/api/v1/recommendations").send(py({recommended_publication_id:n.id,recommending_publication_id:t.id,source:k||"recommendation_notification_email",suggested:!1},!!j&&{description:j.length>=2?j:null})),r!=null&&r.filter(({id:Pe})=>Pe!==n.id).length?s():i(pL.CHOOSE),M?(M(!0),s()):((0,y.redirect)("/publish/settings/recommendations"),(0,cs.ZP)(`Started recommending ${n.name}`,{timeout:1500}))})},"Continue")))};var _L=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const gL=({pub:n})=>{const[t,r]=(0,o.eJ)(!0),[i,s]=(0,o.eJ)(null),[M,k]=(0,o.eJ)(!1),j=(0,o.sO)(null),U=()=>{j.current.close()};if((0,o.d4)(()=>{!i&&t&&(()=>_L(void 0,null,function*(){try{const Me=(yield ge().get("/api/v1/publication_user/default")).body;if(s(Me),!Me||Me.id===n.id){k(!0),r(!1);return}const xe=yield ge().get(`/api/v1/recommendations/from/${Me.id}/to/${n.id}`);k(!!xe.body),r(!1)}catch(Pe){console.error("Failed to load recommend cta: ",Pe)}}))()},[n,t,r,i,s]),!(t||M||i&&i.invite_only))return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:"end-of-post-recommend-cta-container"},(0,e.h)(Lr.Z,{pub:n,size:54,openInNewTab:!0,logo_url:n.logo_url}),(0,e.h)("h3",{className:"publication-name"},"Recommend ",n.name," to the readers of ",i.name),(0,e.h)("p",{className:"publication-hero-text"},n.hero_text),(0,e.h)(Je.Z,{className:u()({primary:!0,"subscribe-button":!0}),onClick:()=>{(0,D.j)(D.FP.END_OF_POST_RECOMMEND_CTA_CLICKED,{pub:n,recommending_pub_id:i==null?void 0:i.id}),j.current.isOpen()?j.current.close():j.current.open()}},"Recommend")),(0,e.h)(vL,{pubToRecommend:n,recommendingPub:i,setLoading:r,setStep:U,ref:j}))};class vL extends Jn.p{getClassName(){return"settings-add-pub-modal-wrapper"}renderChildren(){return(0,e.h)(mL,{pubToRecommendBack:this.props.pubToRecommend,recommendingPub:this.props.recommendingPub,setStep:this.props.setStep,close:this.close,setLoading:t=>{this.props.setLoading(t),(0,cs.ZP)(`Started recommending ${this.props.pubToRecommend.name}`,{timeout:1500})},source:"end-of-post-recommend-cta"})}}var yL=wt(86804),my=wt(92630),bL=Object.defineProperty,PL=Object.defineProperties,EL=Object.getOwnPropertyDescriptors,_y=Object.getOwnPropertySymbols,wL=Object.prototype.hasOwnProperty,CL=Object.prototype.propertyIsEnumerable,gy=(n,t,r)=>t in n?bL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,OL=(n,t)=>{for(var r in t||(t={}))wL.call(t,r)&&gy(n,r,t[r]);if(_y)for(var r of _y(t))CL.call(t,r)&&gy(n,r,t[r]);return n},SL=(n,t)=>PL(n,EL(t));const TL=n=>(0,e.h)(x.l,SL(OL({},n),{name:"WarningIcon",svgParams:{viewBox:"-2 -2 18 18"}}),(0,e.h)("path",{d:"M8 0C3.582 0 0 3.582 0 8s3.582 8 8 8 8-3.582 8-8S12.418 0 8 0zM9 12H7v-2h2V12zM9 8H7V4h2V8z"})),Gs={outlineWrapper:"frontend-components-FoundingPlanPriceInput-module__outlineWrapper--vbdll",outlineWrapperWithWarning:"frontend-components-FoundingPlanPriceInput-module__outlineWrapperWithWarning--OeRIn",warningContainer:"frontend-components-FoundingPlanPriceInput-module__warningContainer--RO2Fw",outlineWrapperSelected:"frontend-components-FoundingPlanPriceInput-module__outlineWrapperSelected--xUFzY",amountInput:"frontend-components-FoundingPlanPriceInput-module__amountInput--F5mTT",amountInputDeselected:"frontend-components-FoundingPlanPriceInput-module__amountInputDeselected--BClJR"},e$=({amount:n,isSelected:t,outlineOnSelect:r,plan:i,usePer:s,disableInput:M=!1,onChangeAmount:k})=>{const j=useRef(null),U=useCallback(Ve=>{k(Ve.toString().replace(/[^\d.]/g,""))},[k]),[q,Pe]=useState(!1);useEffect(()=>{t&&(j.current.focus(),j.current.select())},[j,t]),useEffect(()=>{Pe(i.metadata.minimum&&(isZeroDecimalCurrency(i.currency)?n:n*100)<=i.metadata.minimum&&t)},[n]);const{iString:Me}=useI18N(),xe=centsToPriceString(100,i.currency).replace(/\d/g,"");return h(FlexColumn,{className:"fancy-founding-input"},h(FlexRow,{className:"outer-price-select",alignItems:"center"},h("div",{className:"unified-input"},h(FlexBox,{className:"currency-symbol",justifyContent:"center",alignItems:"center"},h(Text,{size:14,color:"secondary"},xe)),h("input",{disabled:M,ref:j,id:"",type:"text","aria-label":"",autoComplete:"off",value:typeof n=="string"?n:i.amount/100,onKeyDown:Ve=>{Ve.key==="ArrowUp"?(U(Number(n||i.amount/100)+5),setTimeout(()=>{j.current.selectionStart=j.current.selectionEnd=j.current.value.length},0)):Ve.key==="ArrowDown"&&(!n||n>=5)&&(U(Number(n||i.amount/100)-5),setTimeout(()=>{j.current.selectionStart=j.current.selectionEnd=j.current.value.length},0))},onInput:Ve=>{const qe=Ve.target;U(qe.value)}})),h(Text,{className:"year-label",size:14,lineHeight:20,color:"secondary"},"/ ",Me("year"))),q&&h(Text,{translated:!0,size:14,lineHeight:20,color:"error",weight:"bold",className:"founding-error"},"Must be greater than"," ",I18N.p(xe+isZeroDecimalCurrency(i.currency)?i.metadata.minimum:i.metadata.minimum/100)))},IL=({amount:n,isSelected:t,outlineOnSelect:r,plan:i,usePer:s,showDuration:M=!0,disableInput:k=!1,onChangeAmount:j})=>{const U=(0,o.sO)(null),q=(0,o.I4)(xe=>{j(xe.toString().replace(/[^\d.]/g,""))},[j]),Pe=i.metadata.minimum&&((0,Ne.isZeroDecimalCurrency)(i.currency)?n:n*100)<i.metadata.minimum&&t;(0,o.bt)(()=>{U.current&&(U.current.style.width="1px",U.current.style.width=`${U.current.scrollWidth}px`,U.current.scrollLeft=0)},[n,U]),(0,o.d4)(()=>{t&&(U.current.focus(),U.current.select())},[U,t]);const{iTemplate:Me}=(0,Ke.M1)();return(0,e.h)("span",{className:u()(Gs.outlineWrapper,{[Gs.outlineWrapperSelected]:r&&t,[Gs.outlineWrapperWithWarning]:Pe})},(0,Ne.centsToPriceString)(100,i.currency).replace("1",""),(0,e.h)("input",{disabled:k,ref:U,className:u()(Gs.amountInput,{[Gs.amountInputDeselected]:!t}),id:"money-variable-amount",type:"text","aria-label":"founding member amount",autoComplete:"off",value:typeof n=="string"?n:i.amount/100,onKeyDown:xe=>{xe.key==="ArrowUp"?(q(Number(n||i.amount/100)+5),setTimeout(()=>{U.current.selectionStart=U.current.selectionEnd=U.current.value.length},0)):xe.key==="ArrowDown"&&(!n||n>=5)&&(q(Number(n||i.amount/100)-5),setTimeout(()=>{U.current.selectionStart=U.current.selectionEnd=U.current.value.length},0))},onInput:xe=>{const Ve=xe.target;q(Ve.value)}}),(0,e.h)("input",{name:"amount",type:"hidden",value:typeof n=="string"?(Number(n)||0)*100:i.amount}),M&&i.interval!=="forever"&&(s?Me` per ${i.interval}`:`/${i.interval}`),Pe&&(0,e.h)("div",{className:Gs.warningContainer},(0,e.h)(my.u,{text:Me`Amount must be greater than ${(0,Ne.centsToPriceString)(i.metadata.minimum,i.currency)}`,dangerouslySetTooltipZIndex:12},(0,e.h)(TL,{stroke:"white",height:20,fill:"red",strokeWidth:1}))))};var DL=Object.defineProperty,vy=Object.getOwnPropertySymbols,ML=Object.prototype.hasOwnProperty,xL=Object.prototype.propertyIsEnumerable,yy=(n,t,r)=>t in n?DL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,AL=(n,t)=>{for(var r in t||(t={}))ML.call(t,r)&&yy(n,r,t[r]);if(vy)for(var r of vy(t))xL.call(t,r)&&yy(n,r,t[r]);return n};const NL=n=>(0,e.h)(x.l,AL({name:"CheckmarkBrokenCircleIcon",svgParams:{height:16,width:16,stroke:"#808080"}},n),(0,e.h)("path",{d:"M14.6667 7.38656V7.99989C14.6659 9.4375 14.2004 10.8363 13.3396 11.9878C12.4788 13.1392 11.2689 13.9815 9.89028 14.3892C8.51166 14.7968 7.03821 14.7478 5.68969 14.2496C4.34116 13.7514 3.18981 12.8306 2.40735 11.6246C1.62488 10.4186 1.25323 8.99193 1.34783 7.55743C1.44242 6.12293 1.99818 4.75744 2.93223 3.6646C3.86628 2.57177 5.12856 1.81014 6.53083 1.49332C7.9331 1.1765 9.40022 1.32145 10.7134 1.90656","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M14.6667 2.66669L8 9.34002L6 7.34002","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));var RL=Object.defineProperty,by=Object.getOwnPropertySymbols,LL=Object.prototype.hasOwnProperty,kL=Object.prototype.propertyIsEnumerable,Py=(n,t,r)=>t in n?RL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,BL=(n,t)=>{for(var r in t||(t={}))LL.call(t,r)&&Py(n,r,t[r]);if(by)for(var r of by(t))kL.call(t,r)&&Py(n,r,t[r]);return n};const UL=n=>(0,e.h)(x.l,BL({name:"CircleCrossIcon",svgParams:{height:16,width:16,stroke:"#808080"}},n),(0,e.h)("path",{d:"M8.00004 14.6666C11.6819 14.6666 14.6667 11.6819 14.6667 7.99998C14.6667 4.31808 11.6819 1.33331 8.00004 1.33331C4.31814 1.33331 1.33337 4.31808 1.33337 7.99998C1.33337 11.6819 4.31814 14.6666 8.00004 14.6666Z","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M10 6L6 10","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.h)("path",{d:"M6 6L10 10","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}));var FL=Object.defineProperty,jL=Object.defineProperties,WL=Object.getOwnPropertyDescriptors,Ey=Object.getOwnPropertySymbols,HL=Object.prototype.hasOwnProperty,VL=Object.prototype.propertyIsEnumerable,wy=(n,t,r)=>t in n?FL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,KL=(n,t)=>{for(var r in t||(t={}))HL.call(t,r)&&wy(n,r,t[r]);if(Ey)for(var r of Ey(t))VL.call(t,r)&&wy(n,r,t[r]);return n},$L=(n,t)=>jL(n,WL(t));const Cy=n=>(0,e.h)(x.l,$L(KL({},n),{name:"CreditCardIcon",svgParams:{height:21,width:32}}),(0,e.h)("g",{fill:"none",fillRule:"evenodd"},(0,e.h)("g",{fill:n.fill||"#515e80",stroke:"none"},(0,e.h)("g",{transform:"translate(0 2)"},(0,e.h)("path",{d:"M26.58 19H2.42A2.4 2.4 0 0 1 0 16.62V2.38A2.4 2.4 0 0 1 2.42 0h24.16A2.4 2.4 0 0 1 29 2.38v14.25A2.4 2.4 0 0 1 26.58 19zM10 5.83c0-.46-.35-.83-.78-.83H3.78c-.43 0-.78.37-.78.83v3.34c0 .46.35.83.78.83h5.44c.43 0 .78-.37.78-.83V5.83z",opacity:".2"}),(0,e.h)("path",{d:"M25 15h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0h-3c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1zm-6 0H4c-.65 0-1-.3-1-1s.35-1 1-1h3c.65 0 1 .3 1 1s-.35 1-1 1z",opacity:".3"})))));var zL=wt(49619);const Oy=n=>{try{return n!=null&&n.text?JSON.parse(n==null?void 0:n.text).error:"Something went wrong"}catch(t){return"Something went wrong"}},oh=n=>{var t;return((t=n==null?void 0:n.metadata)==null?void 0:t.founding)==="yes"||(n==null?void 0:n.id.includes("founding"))},ui={container:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__container--h0NUk",closeModal:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__closeModal--BTBok",subscribeButton:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__subscribeButton--YUyLO",radio:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__radio--HWCWT",circle:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__circle--BzRf4",selectedPlan:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__selectedPlan--TDQaA",planRow:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__planRow--JyRia",publicationIcon:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__publicationIcon--Vw7_m",benefitIcon:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__benefitIcon--_cHY4",planOptions:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__planOptions--poLpI",fancyStripe:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__fancyStripe--iBwGQ",cardOnFileIcon:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__cardOnFileIcon--qZGEa",tos_text:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__tos_text--WQNU8",fullWidth:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__fullWidth--dXsZT",inputWrapper:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__inputWrapper--eN00v",spacing:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__spacing--j9imu",clickable:"frontend-main-subscribe-planPurchase-PlanPurchaseBox-module__clickable--RWWu0"};var GL=Object.defineProperty,ZL=Object.defineProperties,YL=Object.getOwnPropertyDescriptors,Sy=Object.getOwnPropertySymbols,JL=Object.prototype.hasOwnProperty,XL=Object.prototype.propertyIsEnumerable,Ty=(n,t,r)=>t in n?GL(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,zl=(n,t)=>{for(var r in t||(t={}))JL.call(t,r)&&Ty(n,r,t[r]);if(Sy)for(var r of Sy(t))XL.call(t,r)&&Ty(n,r,t[r]);return n},Uc=(n,t)=>ZL(n,YL(t)),Fc=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const Iy=({selected:n})=>(0,e.h)("span",{className:u()(ui.circle,n&&ui.selectedPlan)}),QL=({pub:n,includeHeaderCloseButton:t,close:r})=>{const i=n.logo_url||n.author_photo_url,s=()=>{(0,y.redirect)((0,v.pathWithQuery)((0,le.getBaseUrl)(n),{utm_source:"suggest",utm_campaign:n.id}),{newTab:!0})};return(0,e.h)(me.tu,{justifyContent:"center",alignItems:"center",gap:16},t&&(0,e.h)(Ls.Z,{className:ui.closeModal,onClick:r}),(0,e.h)("img",{src:(0,le.imginary)(i,40*2,{height:40*2,smartCrop:!0}),className:ui.publicationIcon,onClick:s}),(0,e.h)("div",{onClick:s,className:ui.clickable},(0,e.h)(J.xv,{as:"h3",size:20,font:"text",lineHeight:24,color:"pub-primary-text",align:"center"},"Choose a plan for ",n.name||n.author_name)))},qL=({plan:n,selected:t,currentPrice:r,foundingOnChange:i,setSelected:s})=>{const{language:M}=(0,Ke.M1)();return(0,e.h)(me.gq,{as:"label",alignItems:"center",gap:8,className:ui.planRow},(0,e.h)("input",{name:"plan",type:"radio",checked:t,onChange:s,className:ui.radio}),(0,e.h)(Iy,{selected:t}),(0,e.h)(J.xv,{weight:"semibold",font:"text",size:14,lineHeight:20,color:t?"pub-primary-text":"pub-secondary-text"},(0,Ne.getPlanTitle)(n,M)),(0,e.h)("span",null,(0,e.h)(J.xv,{as:"span",weight:"normal",font:"text",color:"pub-secondary-text",size:14,lineHeight:20,className:u()(ui.inputWrapper,{[ui.spacing]:t})},(0,e.h)(IL,{amount:r!=null?r:0,disableInput:!t,isSelected:t,outlineOnSelect:!0,plan:n,showDuration:!1,onChangeAmount:i}),(0,e.h)(J.xv,{translated:!0},"per year"))))},Dy=({plan:n,selected:t,isFreePlan:r,setSelected:i})=>{const{language:s,iString:M}=(0,Ke.M1)(),k=r?M("None"):(0,Ne.getPlanTitle)(n,s),j=r?"":(0,zL.t)(n);return(0,e.h)(me.gq,{as:"label",alignItems:"center",gap:8,className:ui.planRow},(0,e.h)("input",{name:"plan",type:"radio",checked:t,onChange:i,className:ui.radio}),(0,e.h)(Iy,{selected:t}),(0,e.h)(J.xv,{weight:"semibold",font:"text",size:14,lineHeight:20,color:t?"pub-primary-text":"pub-secondary-text"},k),(0,e.h)(J.xv,{weight:"normal",font:"text",color:"pub-secondary-text",size:14,lineHeight:20},j))},My=({benefit:n,ineligible:t})=>(0,e.h)(me.gq,{alignItems:"center",justifyContent:"center",gap:8},(0,e.h)(me.gq,{className:ui.benefitIcon},t?(0,e.h)(UL,{width:16,height:16}):(0,e.h)(NL,{width:16,height:16})),(0,e.h)(J.xv,{size:14,lineHeight:20,weight:"normal",font:"text",color:"pub-secondary-text",style:{textDecoration:t?"line-through":"none",overflow:"hidden"}},n)),e7=({plans:n,selectedPlan:t,paidBenefits:r,freeBenefits:i,foundingPlanPrice:s,setSelectedPlan:M,setFoundingPlanPrice:k})=>{const j=t==="free";return(0,e.h)(me.tu,{alignItems:"start",justifyContent:"start",gap:16,className:ui.planOptions},n==null?void 0:n.map(U=>{const q=oh(U),Pe=U.id===t;return q?(0,e.h)(qL,{plan:U,currentPrice:s,selected:Pe,foundingOnChange:k,setSelected:()=>M(U.id)}):(0,e.h)(Dy,{plan:U,selected:Pe,isFreePlan:!1,setSelected:()=>M(U.id)})}),(0,e.h)(Dy,{plan:null,selected:t==="free",isFreePlan:!0,setSelected:()=>M("free")}),r.map(U=>(0,e.h)(My,{benefit:U,ineligible:t==="free"})),j&&(i==null?void 0:i.map(U=>(0,e.h)(My,{benefit:U,ineligible:!1}))))},t7=({stripeCard:n,cardLast4:t})=>(0,e.h)(me.tu,{gap:12,className:ui.fullWidth},(0,e.h)(me.tu,{className:ui.fancyStripe,alignItems:"center",justifyContent:"center"},t?(0,e.h)("div",{className:"input card-on-file"},(0,e.h)(me.gq,{paddingTop:12,paddingBottom:12,gap:12},(0,e.h)(Cy,{className:ui.cardOnFileIcon}),(0,e.h)(J.xv.B4,{color:"pub-secondary-text"},t?`**** **** **** ${t}`:"Use card on file"))):n&&(0,e.h)(Hr.GP,{className:"input",card:n}))),n7=({pub:n})=>(0,e.h)(J.xv.B4,{color:"pub-secondary-text",align:"center"},"By subscribing you agree to"," ",(0,e.h)("a",{className:ui.tos_text,target:"_blank",rel:"noopener",href:(0,v.pathWithQuery)("/tos",{utm_source:"subscribe"})},"Substack's Terms of Use"),", ",(0,e.h)("a",{className:ui.tos_text,target:"_blank",rel:"noopener",href:(0,v.getPrivacyUrl)({pub:n,utm_source:"subscribe"})},"our Privacy Policy")," ","and"," ",(0,e.h)("a",{className:ui.tos_text,target:"_blank",rel:"noopener",href:(0,v.updateQuery)(`${(0,v.getSubstackUrl)()}/ccpa#personal-data-collected`,{utm_source:"subscribe"})},"our Information collection notice")),r7=({pub:n,isFreeSubscribed:t,loading:r,freePlanSelected:i,allowFreePlanReselection:s,onSuccess:M})=>{let k="Subscribe";return r?k="Subscribing...":i&&(k=t?"You're already on the free plan":"Continue without paying"),(0,e.h)(e.Fragment,null,(0,e.h)(zr.zx,{priority:"primary-theme",className:ui.subscribeButton,onClick:M,disabled:r||!s&&i&&t},k),(0,e.h)(n7,{pub:n}))},o7=({error:n})=>(0,e.h)(J.xv.B4,{align:"center",color:"error"},n),i7=({isFreeSubscribed:n,pub:t,recommendingPubId:r,user:i,cardLast4:s,stripe_publishable_key:M,email:k,includeHeaderCloseButton:j=!1,source:U,sameDomain:q=!0,allowFreePlanReselection:Pe=!0,onClose:Me,onSuccess:xe,subscribe_auth_token:Ve})=>{const[qe,Ge]=(0,o.eJ)(""),[ut,bt]=(0,o.eJ)({}),[Pt,At]=(0,o.eJ)(!1),[Lt,Dt]=(0,o.eJ)(null),[Ht,on]=(0,o.eJ)(null),[hn,an]=(0,o.eJ)(""),[mn,rr]=(0,o.eJ)(0),[Gn,Vn]=(0,o.eJ)(!1),_n=(0,o.sO)(null),jn={publication_id:t.id,source:U};r&&(jn.recommending_publication_id=r,jn.recommended_publication_id=t.id),(0,o.d4)(()=>{var qt,Sn;const Yt=(0,Hr.lQ)(M,t),ir=Yt&&(0,Hr.UD)(Yt);Dt(Yt),on(ir);const Pn={};(qt=t==null?void 0:t.plans)==null||qt.forEach(gr=>{oh(gr)?rr(gr==null?void 0:gr.amount):gr.interval==="year"&&Ge(gr.id),Pn[gr.id]=gr}),Pn.free={id:"free"},qe||Ge((Sn=t==null?void 0:t.plans[0])==null?void 0:Sn.id),bt(Pn),(0,D.j)(D.FP.PLAN_PURCHASE_BOX_SEEN,zl({},jn))},[t,i==null?void 0:i.has_saved_payment]);const _r=()=>Fc(void 0,null,function*(){return Lt?yield Lt.createToken(Ht):{token:null,error:{message:""}}}),nr=()=>Fc(void 0,null,function*(){var qt;const Sn=ut[qe];let Yt;if(!s){const{token:gr,error:fr}=yield _r();if(fr)return At(!1),an(fr&&fr.message),(0,D.j)(D.FP.PLAN_PURCHASE_BOX_STRIPE_ERROR,{type:fr&&fr.type,code:fr&&fr.code,decline_code:fr&&fr.decline_code,reason:fr&&fr.message}),{subscription_id:null,error:fr};Yt=gr}const ir={email:k,captcha_response:Gn&&((qt=_n==null?void 0:_n.current)==null?void 0:qt.getResponse()),amount:oh(Sn)?mn*100:Sn.amount,stripe_token:Yt,plan:Sn.id};return q||(ir.subscribe_to_pub_id=t.id,ir.subscribe_auth_token=Ve),{subscription_id:(yield ge().post(`/api/v1/subscription?utm_source=${U!=null?U:"plan-purchase-box"}`).send(ir)).body.subscription_id,error:null}}),qn=()=>Fc(void 0,null,function*(){try{return(yield ge().get("/api/v1/subscription/last4")).body.last4}catch(qt){return""}}),Rn=qt=>{rr(qt.toString().replace(/[^\d.]/g,""))},Bn=qt=>{Ge(qt)},cr=()=>Fc(void 0,null,function*(){if(qe==="free"){(0,D.j)(D.FP.PLAN_PURCHASE_BOX_SUBMITTED,Uc(zl({},jn),{plan_id:"free"})),Me();return}At(!0);try{const{subscription_id:qt,error:Sn}=yield nr();if(Sn){At(!1);return}(0,D.j)(D.FP.PLAN_PURCHASE_BOX_SUBMITTED,Uc(zl({},jn),{plan_id:qe}));const Yt=s||(yield qn());xe(Yt,qt)}catch(qt){if(qt.response)switch(qt.response.statusCode){case 400:an(Oy(qt.response));break;case 401:Vn(!0);break;default:an("Something went wrong. Please try again."),(0,D.j)(D.FP.PLAN_PURCHASE_BOX_ERROR,Uc(zl({},jn),{errorMessage:Oy(qt.response)}))}else an("Something went wrong. Please try again."),(0,D.j)(D.FP.PLAN_PURCHASE_BOX_ERROR,Uc(zl({},jn),{errorMessage:qt.message}))}At(!1)}),Ln=()=>{Me()},er=qe==="free";return(0,e.h)(me.tu,{justifyContent:"center",alignItems:"center",gap:32,className:ui.container},(0,e.h)("script",{src:"https://js.stripe.com/v3/"}),(0,e.h)(QL,{pub:t,close:Ln,includeHeaderCloseButton:j}),(0,e.h)(e7,{plans:t.plans,paidBenefits:t==null?void 0:t.paid_subscription_benefits,freeBenefits:t==null?void 0:t.free_subscription_benefits,selectedPlan:qe,foundingPlanPrice:mn,setSelectedPlan:Bn,setFoundingPlanPrice:Rn}),(0,e.h)(me.tu,{justifyContent:"center",alignItems:"center",gap:0},hn&&(0,e.h)(o7,{error:hn}),Gn&&(0,e.h)(yL.Z,{ref:_n}),!er&&(0,e.h)(t7,{cardLast4:s,stripeCard:Ht}),(0,e.h)(ta.mz,{alignment:"center",includeDivider:!1,primaryButton:(0,e.h)(r7,{pub:t,loading:Pt,freePlanSelected:er,isFreeSubscribed:n,allowFreePlanReselection:Pe,onSuccess:cr})})))};var a7=wt(55886);const Oa={subscribeDialog:"frontend-components-SubscribePrompt-module__subscribeDialog--Yce7g",form:"frontend-components-SubscribePrompt-module__form--HqYBK",dismissButton:"frontend-components-SubscribePrompt-module__dismissButton--E1_n0",emailInput:"frontend-components-SubscribePrompt-module__emailInput--rslUF",pictureBox:"frontend-components-SubscribePrompt-module__pictureBox--OPDpP",authorIcon:"frontend-components-SubscribePrompt-module__authorIcon--BGgpW",childPublicationIcon:"frontend-components-SubscribePrompt-module__childPublicationIcon--eAS5i",signInLink:"frontend-components-SubscribePrompt-module__signInLink--zy99q",background:"frontend-components-SubscribePrompt-module__background--WF3cB",error:"frontend-components-SubscribePrompt-module__error--ZTiN5"};var s7=Object.defineProperty,xy=Object.getOwnPropertySymbols,l7=Object.prototype.hasOwnProperty,u7=Object.prototype.propertyIsEnumerable,Ay=(n,t,r)=>t in n?s7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ny=(n,t)=>{for(var r in t||(t={}))l7.call(t,r)&&Ay(n,r,t[r]);if(xy)for(var r of xy(t))u7.call(t,r)&&Ay(n,r,t[r]);return n},c7=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const d7=300,f7=({pub:n,post:t,isTest:r,stripe_publishable_key:i})=>{const[s,M]=(0,o.eJ)(!1),[k,j]=(0,o.eJ)(!1),[U,q]=(0,o.eJ)(!1),[Pe,Me]=(0,o.eJ)(""),[xe,Ve]=(0,o.eJ)([]),[qe,Ge]=(0,o.eJ)(200),[ut,bt]=(0,o.eJ)(0),[Pt,At]=(0,o.eJ)(!1),[Lt,Dt]=(0,o.eJ)(!1),Ht=(0,o.sO)(null),{exposeExperiment:on,getExperimentVariant:hn}=(0,ct.jc)(),an=(0,Bi.XA)(),mn=!an&&hn("post_page_modal_subscription_upsell"),rr=mn&&n.payments_state==="enabled",Gn=rr&&mn==="treatment",Vn=`pub-${n.id}-subscribe-prompt-next-shown-at`,_n=`pub-${n.id}-takeover-next-shown-at`,jn=typeof window!="undefined"&&(window!=null&&window.innerHeight)?window.innerHeight:700,_r=document.getElementsByClassName("available-content"),nr=_r.length>0?_r[0].scrollHeight:0;let qn=600;qn=Math.max(Math.min(qn,nr-jn),600);const Rn=()=>{var $n;const{height:Cr,width:Er}=(($n=Ht.current)==null?void 0:$n.getBoundingClientRect())||{height:0,width:0};Ge(typeof window!="undefined"&&window&&Ht.current?(window.innerHeight-Cr)/2:200),bt(typeof window!="undefined"&&window&&Ht.current?(window.innerWidth-Er)/2:0)};Rn(),(0,o.d4)(()=>{typeof window!="undefined"&&Rn()},[Pt]);const[Bn,cr]=(0,o.eJ)(jn+Math.max(qe,qn)),[Ln,er]=(0,o.eJ)(Math.max(document.documentElement.scrollTop||document.body.scrollTop,0)),[qt,Sn]=(0,o.eJ)("absolute"),[Yt,ir]=(0,o.eJ)(qt==="fixed"||Ln>Bn-jn),Pn=qt==="fixed"?60:Math.min(Math.max((Ln-Bn+jn)/(jn-qe)*60,0),60),gr=(0,o.I4)(()=>{!an&&Ln>=Bn-d7&&j(!0)},[Ln,an,Bn,qe,j]);(0,o.d4)(()=>{if(r)return;let $n=!0;nr<=1.5*jn&&(M(!0),$n=!1);let Cr=null;if(document!=null&&document.referrer){try{Cr=new URL(document.referrer)}catch(Er){}((Cr==null?void 0:Cr.hostname)==="news.ycombinator.com"||(Cr==null?void 0:Cr.hostname)==="hckrnews.com")&&(M(!0),$n=!1)}(0,xi.mM)(Vn)>Date.now()&&M(!0),typeof window!="undefined"&&(window!=null&&window.Stripe)&&Dt(!0)},[]),(0,o.d4)(()=>{Yt&&(s||((0,D.j)(D.FP.SUBSCRIBE_PROMPT_SHOWN,{post_id:t.id}),(0,xi.ex)(Vn,Tr()().add(1,"hour").valueOf()),(0,xi.ex)(_n,Tr()().add(1,"hour").valueOf())))},[Yt,s]),(0,o.d4)(()=>{k&&((0,D.j)(D.FP.SUBSCRIBE_PROMPT_DISMISSED,{post_id:t.id}),(0,xi.ex)(Vn,Tr()().add(1,"day").valueOf()),(0,xi.ex)(_n,Tr()().add(1,"hour").valueOf()))},[k]);const fr=$n=>{window.location.href=(0,v.getPostUrl)(n,t,{urlParams:{subscribe_prompt:$n}})},Nr=(0,o.I4)($n=>c7(void 0,null,function*(){var Cr,Er,kr,fo,ao;if(!U){q(!0),Ve([]),(0,D.j)(D.FP.SUBSCRIBE_PROMPT_SUBMITTED,{post_id:t.id});try{const mo=yield ge().post("/api/v1/free").send({email:$n,source:"post-subscribe-prompt"});rr&&on("post_page_modal_subscription_upsell"),Gn?At(!0):n.payments_state!=="enabled"&&!n.has_recommendations?fr("free"):document.location.href=(0,v.getSubscribeUrl)(n,Ny(Ny({utm_medium:"web",utm_source:"post-subscribe-prompt",utm_content:t&&t.id,simple:!0,just_signed_up:!0,next:(0,v.getPostUrl)(n,t),requires_confirmation:mo.body.requires_confirmation?"true":""},mo.body.subscription_id&&{subscription_id:mo.body.subscription_id}),mo.body.referral_token&&{referral_token:mo.body.referral_token}))}catch(mo){(Er=(Cr=mo==null?void 0:mo.response)==null?void 0:Cr.body)!=null&&Er.error&&typeof mo.response.body.error=="string"?Ve([mo.response.body.error]):(fo=(kr=mo==null?void 0:mo.response)==null?void 0:kr.body)!=null&&fo.errors&&Array.isArray(mo.response.body.errors)&&mo.response.body.errors.length>0&&typeof((ao=mo.response.body.errors[0])==null?void 0:ao.msg)=="string"&&Ve(mo.response.body.errors.map(_i=>_i.msg))}finally{q(!1)}}}),[t,n,U,q]);return(0,o.d4)(()=>{if(s||k)return;const $n=()=>{const Cr=Math.max(document.documentElement.scrollTop||document.body.scrollTop,0),Er=Cr-Ln;Er>0&&qt==="absolute"&&Cr>Bn-qe&&Sn("fixed"),Er<0&&qt==="fixed"&&(Sn("absolute"),cr(Ln+qe)),Er<0&&qt==="absolute"&&Cr<Bn-jn&&cr(jn+Math.max(qe,qn,Ln)),er(Cr),(qt==="fixed"||Er>0&&Cr>Bn-jn)&&ir(!0)};return window.addEventListener("scroll",$n),window.addEventListener("resize",$n),()=>{window.removeEventListener("scroll",$n),window.removeEventListener("resize",$n)}},[qt,Bn,cr,Ln,er,ir]),(0,o.d4)(()=>{if(s||k)return;const $n=Cr=>{Cr.key==="Escape"&&j(!0)};return window.addEventListener("keydown",$n),()=>{window.removeEventListener("keydown",$n)}},[s,k,j]),s||k?(0,e.h)(e.Fragment,null):(0,e.h)(e.Fragment,null,!Lt&&Gn&&(0,e.h)("script",{src:"https://js.stripe.com/v3/"}),(0,e.h)(me.tu,{ref:Ht,className:Oa.subscribeDialog,style:{top:qt==="absolute"?`${Bn}px`:`${qe}px`,left:`${ut}px`,position:qt},alignItems:"center"},Pt?(0,e.h)(i7,{email:Pe,pub:n,stripe_publishable_key:i,isFreeSubscribed:!0,includeHeaderCloseButton:!0,allowFreePlanReselection:!0,onClose:()=>fr("free"),onSuccess:()=>fr("paid"),source:"subscribe-prompt"}):(0,e.h)(e.Fragment,null,(0,e.h)(me.gq,{justifyContent:"center",alignItems:"end",paddingBottom:20},(0,e.h)("div",{className:Oa.pictureBox},(0,e.h)(Bs.qE,{user:{photo_url:n.author_photo_url},size:64,className:Oa.authorIcon}),n.logo_url&&(0,e.h)(a7.t,{src:n.logo_url,size:24,className:Oa.childPublicationIcon,alt:n.name}))),(0,e.h)(J.xv.H4,{paddingBottom:4,align:"center",color:"pub-primary-text"},"Discover more from ",n.name),(0,e.h)(J.xv.B4,{color:"pub-secondary-text",paddingBottom:n.rankingDetail?4:24,align:"center"},n.hero_text),n.rankingDetail&&(0,e.h)(J.xv.Detail,{paddingBottom:24,color:"pub-secondary-text"},n.rankingDetailFreeSubscriberCount),(0,e.h)("form",{className:Oa.form,onSubmit:$n=>{$n.preventDefault(),Nr(Pe)}},(0,e.h)("input",{className:Oa.emailInput,placeholder:"Type your email...",value:Pe,disabled:U,onChange:$n=>{$n.stopPropagation(),$n.preventDefault(),Me($n.currentTarget.value)}}),(0,e.h)("div",{id:"error-container"},xe&&xe.map($n=>(0,e.h)("div",{className:Oa.error},$n))),(0,e.h)(zr.zx,{type:"submit",disabled:U,grow:!0,priority:"primary-theme"},"Subscribe")),(0,e.h)(me.gq,{gap:8,alignItems:"center",justifyContent:"center",className:Oa.dismissButton,onClick:()=>j(!0)},(0,e.h)(J.xv.B4,{weight:"semibold",color:"pub-secondary-text"},"Continue reading"),(0,e.h)(ll.Z,null)),(0,e.h)(J.xv.B4,{align:"center",className:Oa.signInLink,weight:"semibold",color:"pub-primary-text"},(0,e.h)("a",{onClick:()=>{(0,D.j)(D.FP.SUBSCRIBE_PROMPT_SIGN_IN_CLICKED,{post_id:t.id}),(0,y.redirect)((0,v.getSigninUrl)({for_pub:n.subdomain,redirect:(0,v.getPostUrl)(n,t)}))},style:{cursor:"pointer"}},"Sign in")," ")," ")),Pn>0&&(0,e.h)("div",{className:Oa.background,onClick:gr,style:{opacity:`${Pn}%`}}))};function h7({postId:n,onClose:t}){return(0,o.d4)(()=>{(0,D.j)(D.FP.LISTEN_TO_THIS_POST_MODAL_SHOWN,{post_id:n})},[]),(0,e.h)(ta.u_,{isOpen:!0,onClose:t},(0,e.h)(ta.xB,{includeClose:!0,onClose:t}),(0,e.h)(ta.fe,null,(0,e.h)(me.tu,{alignItems:"center",gap:24},(0,e.h)(me.tu,{style:{textAlign:"center"},justifyContent:"center",gap:8},(0,e.h)(ta.r6,null,"Listen to this post"),(0,e.h)(J.xv,{color:"secondary",style:{lineHeight:1.5}},"Get the Substack app to hear this article read aloud.")),(0,e.h)(p7,null))),(0,e.h)(ta.mz,{includeDivider:!0,alignment:"center",primaryButton:(0,e.h)(sa.z,{variant:"primary",href:(0,v.getAppStoreRedirectUrl)({utm_source:"web",utm_campaign:"tts-modal"}),onClick:()=>(0,D.j)(D.FP.LISTEN_TO_THIS_POST_MODAL_GET_THE_APP_CLICKED,{post_id:n})},"Get the app")}))}function p7(){const n="/img/main/tts-dialog";return(0,e.h)("video",{height:220,autoPlay:!0,muted:!0,loop:!0},(0,e.h)("source",{src:`${n}/nux.mp4`,type:"video/mp4"}),(0,e.h)("img",{width:374,height:233,src:`${n}/1x.png`,srcset:Array.from(m7(1,4)).map(t=>`${n}/${t}x.png ${t}x`).join(", ")}))}function*m7(n,t){for(let r=n;r<t;r++)yield r}var _7=Object.defineProperty,g7=Object.defineProperties,v7=Object.getOwnPropertyDescriptors,Ry=Object.getOwnPropertySymbols,y7=Object.prototype.hasOwnProperty,b7=Object.prototype.propertyIsEnumerable,ih=(n,t,r)=>t in n?_7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Gl=(n,t)=>{for(var r in t||(t={}))y7.call(t,r)&&ih(n,r,t[r]);if(Ry)for(var r of Ry(t))b7.call(t,r)&&ih(n,r,t[r]);return n},jc=(n,t)=>g7(n,v7(t)),da=(n,t,r)=>(ih(n,typeof t!="symbol"?t+"":t,r),r),ah=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const sh="focus-comment-input",P7=["details","comments"],E7=(n,t)=>n&&!n.invite_only&&t&&t.has_publication&&!t.is_admin&&!t.is_contributor&&!t.is_public_admin&&(0,uv.P)(t,n),w7=(n,t,r,i)=>n.payments_state==="enabled"?!(t!=null&&t.is_subscribed):t!=null&&t.is_free_subscribed&&n.payments_state==="disabled"&&!n.invite_only?!i&&r&&!(t!=null&&t.is_pledged):!(t!=null&&t.is_free_subscribed);class lh extends e.Component{constructor(t,r){var i,s;super(t,r),da(this,"onTopReached",U=>{this.state.topReached||this.props.postPreview||(this.setState({topReached:!0}),(0,D.jJ)({post:this.props.post,hasPaywall:U,surface:"publication",markRead:this.props.user&&!this.props.noPageView}))}),da(this,"onTranscriptionClick",()=>{this.setState(U=>({showTranscription:!U.showTranscription}))}),da(this,"onCommentButtonClicked",U=>{if(this.props.post.type==="podcast"){U.preventDefault(),this.state.activeTab!=="comments"&&(this.setState({activeTab:"comments"}),this.state.podcastComments||this.loadComments()),setTimeout(()=>{var q;(q=this.podcastCommentInput.current)==null||q.focus()},0);return}!this.props.showComments||this.props.post.comment_count||(U.stopPropagation(),U.preventDefault(),document.dispatchEvent(new CustomEvent(sh)))}),da(this,"handleClickTab",U=>{this.setState({activeTab:U}),U==="comments"&&!this.state.podcastComments&&this.loadComments()}),da(this,"handleAddPodcastComment",U=>{this.setState({podcastComments:[U].concat(this.state.podcastComments),addedPodcastComments:this.state.addedPodcastComments+1})}),da(this,"handleUpdatePodcastComments",U=>{let q=0;const Pe=(xe,Ve)=>xe.map(qe=>qe.id===Ve.id?(Ve.status==="deleted"?q-=1:q+=Ve.children.length-qe.children.length,Ve):jc(Gl({},qe),{children:Pe(qe.children,Ve)})),Me=Pe(this.state.podcastComments,U);this.setState({podcastComments:Me,addedPodcastComments:this.state.addedPodcastComments+q})}),da(this,"handleUpdateSortPodcastComments",U=>{(0,D.j)(D.FP.COMMENTS_SORTED,{post_id:this.props.post.id,post_type:this.props.post.type,sort:U}),this.setState({commentSort:U},()=>{this.loadComments()})});const M=(0,y.getUrlHash)();this.state={showTranscription:!1,autoPlay:!1,autoPlayVoiceOver:!1,podcastComments:null,addedPodcastComments:0,commentSort:(i=t.post.default_comment_sort)!=null?i:"best_first",activeTab:P7.includes(M)?M:"details",loadedWithHeaderLink:typeof window!="undefined"&&((s=window.location.hash)==null?void 0:s.startsWith(`#${encodeURIComponent("\xA7")}`)),reactors:null},!t.paywall&&!t.post.hidden&&t.post.body_html&&(this.state.canShowSubscribeFooterAfterPost=I7(t.post.body_html),this.state.truncated=t.truncateAt?T7(t.post.body_html,t.truncateAt,t.truncateTo):null),typeof window!="undefined"&&window.history.replaceState&&((0,v.getQueryItem)("autoPlay")==="true"&&(window.history.replaceState({},document.title,(0,v.updateQuery)({autoPlay:null})),this.state.autoPlay=!0),(0,v.getQueryItem)("play_audio")==="true"&&(window.history.replaceState({},document.title,(0,v.updateQuery)({play_audio:null})),this.state.autoPlayVoiceOver=!0)),this.containerRef=(0,e.createRef)(),this.shareDialogRef=(0,e.createRef)(),this.podcastCommentInput=(0,e.createRef)(),this.podcastPlayer=(0,e.createRef)(),this.videoPlayer=(0,e.createRef)(),this.shouldShowRecommendCta=E7(t.pub,t.user);const j=(typeof window!="undefined"&&window._preloads.publicationSettings||{}).enable_post_page_conversion===!0;this.shouldShowSubscribePrompt=t.post.type==="newsletter"&&j&&!t.disableSubscribePrompt&&!t.paywall&&!t.freeSignup&&!t.user&&!M&&!t.readerIsSearchCrawler}loadReactors(){return ah(this,null,function*(){const[t,r]=yield Promise.all([ge().get(`/api/v1/post/${this.props.post.id}/reactors`),ge().get(`/api/v1/post/${this.props.post.id}/restackers`)]);this.setState({reactors:t.body,restackers:r.body})})}componentDidMount(){return ah(this,null,function*(){this.props.post.type==="podcast"&&this.state.activeTab==="comments"&&(0,Ne.canSeeComments)(this.props.user,this.props.post)&&this.loadComments(),this.props.paywall&&!this.props.postPreview&&(0,D.j)(D.FP.POST_PAYWALL_SHOWN,{post_id:this.props.post.id,post_audience:this.props.post.audience,post_type:this.props.post.type,user:this.props.user}),this._triggerShare=()=>this.triggerShare(),this.containerRef.current.addEventListener("share-post",this._triggerShare),this.props.post&&this.loadReactors(),Math.random()<.001&&(0,D.K8)({post:this.props.post});const t=(0,v.getQueryItem)("subscribe_prompt");t&&(t==="paid"?this.props.popToast(r=>(0,e.h)(Vt.FN,jc(Gl({},r),{text:`Subscription purchased for ${this.props.pub.name}`}))):this.props.popToast(r=>(0,e.h)(Vt.FN,jc(Gl({},r),{text:`Subscribed to ${this.props.pub.name}`}))))})}componentWillUnmount(){this._triggerShare&&this.containerRef.current.removeEventListener("share-post",this._triggerShare)}loadComments(){return ah(this,null,function*(){const t={all_comments:!0,sort:this.state.commentSort};try{this.setState({podcastComments:null});const r=yield ge().get(`/api/v1/post/${this.props.post.id}/comments`).query(t);this.setState({podcastComments:r.body.comments})}catch(r){alert((0,y.getNetworkErrorMessage)(r))}})}triggerShare({fromEmail:t}={}){t?this.shareDialogRef.current.fromEmail():this.shareDialogRef.current.open()}onBottomReached(t){this.state.bottomReached||this.props.postPreview||(this.setState({bottomReached:!0}),(0,D.xG)({post:this.props.post,hasPaywall:t,surface:"publication"}))}shouldShowUFI(){const{fromPostPage:t,user:r,pub:i,getSettingFor:s}=this.props,{canShowSubscribeFooterAfterPost:M}=this.state;return t&&M?w7(i,r,s("payment_pledges_enabled"),this.shouldShowRecommendCta):!1}shouldTrackPaywallPostSeen(){const t=document.createElement("div");t.innerHTML=this.props.post.body_html;const r=this.props.pub.post_preview_limit||Ne.DEFAULT_PREVIEW_LIMIT;let i="",s=!1;for(let M=t.childNodes.length-1;M>=0;M--){const k=t.childNodes[M];if(i+=k.textContent,i.length>r){s=!0;break}}return s}render({commentsEnabled:t,user:r,pub:i,post:s,freeSignup:M,freeSignupEmail:k,reaction_token:j,invisible:U,paywall:q,onChange:Pe,hideTitle:Me,noTitleLink:xe,showComments:Ve,fromPostPage:qe,freeTrialCoupon:Ge,showRestackModal:ut,stripe_publishable_key:bt,crossPostInfo:Pt},{showTranscription:At,activeTab:Lt,loadedWithHeaderLink:Dt,truncated:Ht,coupon:on,autoPlay:hn,autoPlayVoiceOver:an,podcastComments:mn,commentSort:rr,addedPodcastComments:Gn,reactors:Vn,restackers:_n}){var jn,_r,nr,qn,Rn,Bn,cr;const Ln=(0,Di.default)("like_posts_enabled"),er=(0,Di.default)("allow_podcast_transcription");let qt=null;(r&&(r.is_subscribed||r.is_free_subscribed)||M||i.podcast_feed_url||(_r=(jn=s.section)==null?void 0:jn.podcastSettings)!=null&&_r.podcast_feed_url)&&(qt=(0,v.getPodcatcherSetupUrl)(i));const Sn=!q||q&&this.shouldTrackPaywallPostSeen(),Yt=s.type==="video"&&(q?$x:wl),ir=s.type==="video"&&er&&!q&&((nr=s.videoUpload)==null?void 0:nr.transcription),Pn=s.type==="podcast"&&t,gr=s.comment_count+Gn,fr=this.shouldShowUFI(),Nr=By(s),$n=Vn?Vn.length>0:!1;let Cr="paid subscribers";return s.audience==="founding"&&(Cr=`subscribers in the ${(qn=(0,Ea.getFoundingTierName)(i))!=null?qn:"Founding Member"} plan`),(0,e.h)("article",{className:u()(`typography ${s.type}-post post`,{"tw-p-0":s.type==="podcast"}),ref:this.containerRef},(r==null?void 0:r.is_contributor)&&(s==null?void 0:s.id)&&(s==null?void 0:s.type)==="page"&&(0,e.h)(sa.z,{variant:"themed-secondary",href:(0,le.getEditPostUrlById)(i,s.id,{back:document.location.href}),localNavigation:!1,leftIcon:(0,e.h)(_l.Z,{size:20})},"Edit"),(0,e.h)(D7,{post:s,user:r,onChange:Pe}),(0,e.h)(Hl.ZP,{ref:this.shareDialogRef,user:r,pub:i,post:s,reaction_token:j,source:"email-share"}),this.shouldShowSubscribePrompt&&(0,e.h)(f7,{pub:i,post:s,stripe_publishable_key:bt}),s.videoUpload&&Yt&&(0,e.h)(Yt,{mediaUpload:s.videoUpload,pub:i,post:s,autoPlay:hn,restorePlaybackLocation:!0,reaction_token:j,ref:this.videoPlayer}),s.type==="podcast"?(0,e.h)(e.Fragment,null,(0,e.h)(fR,{bylinesEnabled:i.bylines_enabled,commentCount:gr,commentsEnabled:t,freeSignupEmail:k,isFreeSignup:M,isLikesEnabled:Ln,isPaywall:q,post:s,pub:i,magicToken:j,renderEditButton:()=>(0,e.h)(eh.l,{pub:i,post:s,iconHeight:18,user:r,showUpdatedIcons:!0,dropdownClassName:"tw-ml-2",iconClassName:"tw-block tw-stroke-pub-primary-text"}),user:r,onChange:Pe,onClickCommentButton:t?this.onCommentButtonClicked:void 0,onTopReached:this.onTopReached,playerRef:this.podcastPlayer}),Pn&&(0,e.h)(yR,{activeTab:Lt,loadedWithHeaderLink:Dt,commentCount:gr,onClickTab:this.handleClickTab,transcription:(Rn=s.podcastUpload)==null?void 0:Rn.transcription})):(0,e.h)(e.Fragment,null,(0,e.h)(Wc,{user:r,pub:i,post:s,isOnPostPage:!0,freeSignup:M,freeSignupEmail:k,reaction_token:j,allowEdit:!0,showShare:!0,showSubtitle:!0,showPhoto:!0,showCommentRestack:!0,hideTitle:Me,noTitleLink:xe,onChange:Pe,hideDate:s.type==="page",hideAudience:s.type==="page",showReactions:Ln,showComments:Ve,showLabel:!0,showUpdatedIcons:!0,fromPostPage:qe,onClickCommentButton:this.onCommentButtonClicked,reactors:Vn,showRestackModal:ut,showTranscriptionButton:!!ir,onTranscriptionClick:this.onTranscriptionClick}),!U&&Sn&&(0,e.h)(ve,{onVisible:()=>this.onTopReached(q)}),(s.has_voiceover||!!s.voiceoverUpload)&&(0,e.h)(fI,{pub:i,post:s,mediaUploadId:s.voiceover_upload_id,duration:(Bn=s.voiceoverUpload)==null?void 0:Bn.duration,autoPlay:an,href:s.canonical_url,isPaywalled:!s.voiceover_upload_id}),!s.voiceoverUpload&&an&&Nr&&(0,e.h)(h7,{postId:s.id,onClose:()=>{(0,D.j)(D.FP.LISTEN_TO_THIS_POST_MODAL_DISMISSED,{post_id:s.id}),this.setState({autoPlayVoiceOver:!1})}})),Pt?(0,e.h)(DR,{postType:s.type,crossPostInfo:Pt}):null,(s.type!=="podcast"||Lt==="details"||!t)&&(0,e.h)("div",{className:u()({"container container--podcast-post container--podcast-post-with-ufi":s.type==="podcast"})},(0,e.h)("div",{className:"available-content"},At?(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(bv,{post:s,pub:i,user:r,playerRef:this.videoPlayer})):(0,e.h)(hc,{html:Ht||s.body_html,pub:i,trackSelection:!0,user:r,freeSignup:M,freeSignupEmail:k,post:s,paywall:q,showing_behind_paywall:!!s.post_paywall_content_for_google})),s.post_paywall_content_for_google&&(0,e.h)("div",{className:"paywall-content"},(0,e.h)(hc,{html:s.post_paywall_content_for_google,pub:i,trackSelection:!1,user:r,freeSignup:M,freeSignupEmail:k,post:s,paywall:q})),!U&&Sn&&(0,e.h)(ve,{onVisible:()=>this.onBottomReached(q)}),q&&!s.post_paywall_content_for_google?(0,e.h)(e.Fragment,null,(0,e.h)(Rl,Gl({user:r,freeSignupEmail:k,freeSignup:M,publication:i,post:s,fromPostPage:qe,coupon:this.props.paywall===!0&&this.props.pub.paywall_free_trial_enabled?Ge:null},Object.assign({title:`${s.type==="video"&&((cr=s.videoUpload)==null?void 0:cr.preview_duration)>0?"The full":"This"} ${(0,Ne.getPrintedPostType)(s.type)} is for ${Cr}`,reauthenticationTitle:"To read this, please re-authenticate."},q))),(0,e.h)(ny,{post:s})):Ht?(0,e.h)("p",null,(0,e.h)(Je.Z,{className:"expander",onClick:()=>this.setState({truncated:null})},"+ show full post")):!["page"].includes(s==null?void 0:s.type)&&(0,e.h)(e.Fragment,null,fr&&(0,e.h)(C7,{pub:i,post:s,user:r,freeSignup:M,freeSignupEmail:k}),!fr&&this.shouldShowRecommendCta&&(0,e.h)(gL,{pub:i}),(0,Di.default)("like_posts_enabled")&&i.community_enabled&&$n&&(0,e.h)(Vt.hs,{borderTop:"detail-themed",paddingY:16},(0,e.h)(X1,{post:s,pub:i,user:r,reactors:Vn,secondaryFaces:_n})),(0,e.h)("div",{className:"post-footer"},(0,e.h)(zo.Mp,{post:s,pub:i,user:r,onChange:Pe})),(0,e.h)(ny,{post:s})),s.show_guest_bios&&s.type!=="podcast"&&(0,e.h)(S7,{user:r,pub:i,post:s})),s.type==="podcast"&&Lt==="comments"&&t&&(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(vN,{comments:mn,expectedCommentCount:gr,post:s,pub:i,sort:rr,token:j,user:r,inputRef:this.podcastCommentInput,onAddComment:this.handleAddPodcastComment,onUpdateSort:this.handleUpdateSortPodcastComments,onUpdateComment:this.handleUpdatePodcastComments})),er&&s.type==="podcast"&&Lt==="transcription"&&(0,e.h)("div",{className:"container tw-py-12"},(0,e.h)(bv,{post:s,pub:i,user:r,playerRef:this.podcastPlayer})))}}da(lh,"contextType",Pa),da(lh,"displayName","Post");const uh=(0,Vt.dd)((0,Se.us)(lh)),C7=({pub:n,post:t,user:r,freeSignup:i,freeSignupEmail:s,overridePledgesEnabled:M})=>{const{getSettingFor:k}=(0,Se.So)(),j=n.payments_state==="disabled"&&!n.invite_only&&(k("payment_pledges_enabled")||M),U=n.payments_state==="enabled"&&(r!=null&&r.is_free_subscribed)&&!(r!=null&&r.is_subscribed)?"paid_upsell":j&&(r!=null&&r.is_free_subscribed)&&!(r!=null&&r.is_pledged)?"pledge_upsell":"free_upsell";(0,o.d4)(()=>{(0,D.j)(D.FP.POST_END_CTA_RENDERED,{pub_id:n.id,post_id:t.id,type:U})},[n.id,t.id,U]);const q=(0,Ne.getByLine)(n);return(0,e.h)("div",{className:"post-end-cta-full"},(0,e.h)(ve,{onVisible:()=>{(0,D.j)(D.FP.POST_END_CTA_SEEN,{pub_id:n.id,post_id:t.id,type:U})}}),(0,e.h)("h3",null,j&&(r!=null&&r.is_free_subscribed)?"Support ":"Subscribe to ",n.name),(0,e.h)("p",{className:"end-cta-author-subs"},q?`By ${q}`:null,q&&n.rankingDetail?" \xB7 ":null,n.rankingDetail),n.hero_text&&(0,e.h)("p",{className:"end-cta-hero-text"},n.hero_text),j&&(r!=null&&r.is_free_subscribed)&&!(r!=null&&r.is_pledged)?(0,e.h)(zr.zx,{priority:"primary-theme",onClick:()=>{(0,D.j)(D.FP.POST_END_CTA_CLICKED,{type:"pledge"}),(0,y.redirect)((0,le.getSubscribeUrl)(n,{utm_source:"post-end-cta"}),{local_navigation:!1})}},"Pledge your support"):(0,e.h)(Hs,{pub:n,post:t,user:r,freeSignup:i,freeSignupEmail:s,isStatic:!1,source:"post-end-cta"}))},Ly=({pub:n})=>(0,e.h)("div",{className:"post-silhouette"},(0,e.h)("div",{className:"post-silhouette-title"}),(0,e.h)("div",{className:`post-silhouette-meta ${n&&n.bylines_enabled&&n.byline_images_enabled?"with-byline-image":""}`}),(0,e.h)("div",{className:"post-silhouette-body"})),Wc=({allowEdit:n,allowSendEmail:t,allowTruncate:r,base_url:i,children:s,className:M,hideAudience:k,hideDate:j,hideTitle:U,hidePinning:q,noTitleLink:Pe,isStatic:Me,isFreePreview:xe,is_draft:Ve,onChange:qe,post:Ge,pub:ut,reaction_token:bt,showComments:Pt,showDatetime:At,showEmailSent:Lt,showReactions:Dt,showShare:Ht,showSubtitle:on,showPhoto:hn,showLabel:an,showRestack:mn,showCommentRestack:rr,hideAuthor:Gn,user:Vn,utm_source:_n,showUpdatedIcons:jn,fromPostPage:_r,onClickCommentButton:nr,reactors:qn,inThreadHead:Rn,publishedPost:Bn,compEndsSoon:cr,compEndedRecently:Ln,siteConfigValues:er={},eligibleForTTS:qt,showRestackModal:Sn,showIcon:Yt,isOnPostPage:ir,showTranscriptionButton:Pn,onTranscriptionClick:gr})=>{const fr=(0,P.isMobile)({checkFirst4:!0}),Nr=typeof r=="number"?r:45,$n=Ge.title&&Ge.title.length>Nr,Cr=Ve?Ge.draft_title:Ge.title,Er=[(Yt||Ge.type==="thread")&&(0,e.h)(uL,{postType:Ge.type,isStatic:Me,height:15,className:Ge.type}),$n&&r?(0,Ne.truncateWords)(Cr,Nr):Cr],kr=Ve?Ge.draft_subtitle:Ge.subtitle;Ge.section_id&&ut.sections&&ut.sections.length&&(Ge.section=ut.sections.find(va=>va.id===Ge.section_id));const fo=!["page"].includes(Ge==null?void 0:Ge.type),ao=fo&&Me&&cr&&(er==null?void 0:er.continue_support_cta_in_newsletter_emails),mo=By(Ge)||qt||Ge.voiceoverUpload,_i=fo&&Me;let Ro;Ge.post_url_override?Ro=Ge.post_url_override:Me?Ro=bi.Substitutions.POST_TITLE_URL:Ro=`${(0,le.getPostUrl)(ut,Ge)}${_n?`?utm_source=${_n}`:""}`;const ga=`${ut.base_url+(Ge.section?(0,le.getSectionUrl)(ut,{section:Ge.section}):"")}/?utm_source=substack&utm_medium=menu`;return(0,e.h)("div",{className:u()("post-header",M)},an&&(ut.parent_publication||Ge.section)&&(0,e.h)(Vt.hs,{className:"post-label"},(0,e.h)(Vt.xv.Meta,{as:"a",size:14,href:ga},ut.parent_publication?ut.name:Ge.section.name)),ao&&(0,e.h)(PR,{post:Ge,compAlreadyExpired:Ln}),!U&&(0,e.h)("h1",{className:u()("post-title",Ge.is_published?"published":Ge.type==="restack"?"email-only-cross-post":Ge.type==="adhoc_email"?"adhoc":"unpublished")},Pe?Er:(0,e.h)("a",{href:Ro},Er)),on&&kr&&(0,e.h)("h3",{className:"subtitle"},kr),ir&&!Me?(0,e.h)(Vt.tu,{paddingBottom:16},(0,e.h)(Vt.tu,{paddingY:16},(0,e.h)(x7,{post:Ge,pub:ut})),fr?_r&&(0,e.h)(zo.mt,{post:Ge,pub:ut,user:Vn,isStatic:Me,postReactionToken:bt,onChange:qe,allowEdit:n,hidePinning:q,showEmailSent:Lt,allowSendEmail:t,hideComments:!Pt,onCommentsClick:nr,showRestackModal:Sn}):(0,e.h)(zo.Mp,{post:Ge,pub:ut,user:Vn,onChange:qe,showRestackModal:Sn,showTranscriptionButton:Pn,onTranscriptionClick:gr})):(0,e.h)(e.Fragment,null,fo&&!Me&&!Bn&&!Rn?(0,e.h)(m1,{className:"meta-subheader",pub:ut,post:Ge,user:Vn,showDate:!j,showDatetime:At,isStatic:Me,postReactionToken:bt,onChange:qe,allowEdit:n,hidePinning:q,showEmailSent:Lt,allowSendEmail:t,allowMobileFooter:_r,reactors:qn,onCommentsClick:nr,showRestackModal:Sn}):fo&&!Me&&Bn?(0,e.h)(zo._2,{post:Ge,pub:ut,user:Vn,style:"compressed",labelStyle:"counts-or-none",postReactionToken:bt,showEmailSent:Lt,hideShare:!Ht||Ge.type==="restack",hideComments:Ge.type==="restack",hideSavePost:Ge.type==="restack",hideReactions:Ge.type==="restack",showPreamble:!0,allowEdit:n,allowSendEmail:t,editButtonIsLast:!0,preambleConfig:{showAudience:!k,showDate:!j,showDatetime:At,showAuthor:!Gn},position:"publisher-post-list"}):Rn&&!Me?(0,e.h)(zo._2,{post:Ge,pub:ut,user:Vn,style:"compressed",labelStyle:"counts-or-none",postReactionToken:bt,hideSavePost:!0,showPreamble:!0,allowEdit:n,allowSendEmail:t,editButtonIsLast:!0,onChange:qe,preambleConfig:{showAudience:!k,showDate:!j,showDatetime:At,showAuthor:!Gn},position:"publisher-post-list"}):fo?(0,e.h)(S8,{user:Vn,pub:ut,post:Ge,showDate:!j,showDatetime:At,showEmailSent:Lt,showAudience:!k,showReactions:!_i&&Dt,showComments:!_i&&Pt,showShare:!_i&&Ht,showRestack:!_i&&mn,reaction_token:bt,onChange:qe,isStatic:Me,isFreePreview:xe,sharedShareDialog:!0,base_url:i,allowSendEmail:t,allowEdit:n,showAuthor:!Gn,showPhoto:hn,hidePinning:q,showUpdatedIcons:jn,inThreadHead:Rn,fromPostPage:_r,onClickCommentButton:nr,reactors:qn}):(0,e.h)("div",{className:"spacer",style:{height:24}}),fo&&_i&&(0,e.h)(zo.yT,{customization:{showShare:Ht,showComments:Pt,showReactions:Dt,showListen:!mn&&!xe&&mo,showSave:!mn,showRestack:mn,showCommentRestack:rr}})),s)};class ky extends e.Component{constructor(){super(...arguments),da(this,"onClick",t=>{const r=this.getLink();this.props.onClick&&this.props.onClick(),!this.props.disableInteractive&&(0,y.redirect)(r,{event:t})}),da(this,"getLink",()=>{var t;return this.props.linkToComments?(0,le.getPostUrl)(this.props.pub,this.props.post,{comments:this.props.linkToComments}):((t=this.props.post)==null?void 0:t.type)==="video"?(0,v.updateQuery)(this.props.post.canonical_url,{autoPlay:!0}):this.props.utm?(0,le.pathWithQuery)(this.props.post.canonical_url,this.props.utm):this.props.post.canonical_url})}getMaxTitleLength(){let t=this.props.maxTitleLength;return typeof t=="function"&&(t=t(this)),(typeof t!="number"||!(t>0))&&(t=140),t}getMaxDescriptionLength(){let t=this.props.maxDescriptionLength;return typeof t=="function"&&(t=t(this)),(typeof t!="number"||!(t>0))&&(t=152),t}render({className:t,post:r,pub:i,user:s,showDate:M,hideShare:k,authorInMeta:j,imageAssetSize:U,imageAspectRatio:q,onChange:Pe,linkToComments:Me,showPublicationName:xe,isBigPost:Ve,showPins:qe,hideDescription:Ge,hideAuthor:ut,isBelowTheFold:bt}){const Pt=this.getLink(),At=typeof window=="undefined"||(0,Di.default)("like_posts_enabled"),Lt=!ut&&!j&&(i==null?void 0:i.bylines_enabled)&&(0,Ne.getPrintedByline)(i,r),Dt=this.props.showCoverImage&&((0,Xe.getCoverImageUrl)(r)||!this.props.coverImageOptional);!U&&!q&&(q=1.32);const Ht=U||336,on=(0,Ne.getBylineUsers)(r);return(0,e.h)("div",{className:u()("post-preview",t,{"has-image":Dt,"has-author-line":!j}),onClick:this.onClick},(0,e.h)(Vt.tu,{className:"post-preview-container"},Dt&&r.type==="restack"&&(0,e.h)(Vt.hs,{className:"post-preview-restack",alignItems:"center",gap:4,paddingBottom:8},(0,e.h)(Mc.Z,{height:Ve?26:16,className:"restack"}),(0,e.h)(Vt.xv.Meta,{color:"secondary"},"CROSS-POST")),(0,e.h)(Vt.hs,{className:"post-preview-content-container",gap:4},Dt&&(0,e.h)(bs,{className:"post-preview-image",imageAspectRatio:q,post:r,imageWidth:Ht,isBelowTheFold:bt}),(0,e.h)("div",{className:"post-preview-content"},(i==null?void 0:i.parent_publication)&&Ve&&(0,e.h)(Vt.hs,{className:"post-label"},(0,e.h)(Vt.xv.Meta,{as:"a",size:14,href:`${i.base_url}/?utm_source=substack&utm_medium=menu`},i.name)),!Dt&&r.type==="restack"&&(0,e.h)(Vt.hs,{className:"post-preview-restack",alignItems:"center",gap:4},(0,e.h)(Mc.Z,{height:Ve?26:16,className:"restack"}),(0,e.h)(Vt.xv.Meta,{color:"secondary"},"CROSS-POST")),(0,e.h)("a",{href:Pt,className:`post-preview-title ${r.type}`},r.type==="thread"&&(0,e.h)(qf,{height:Ve?26:17,className:"thread"}),r.type==="podcast"&&(0,e.h)(xt,{height:Ve?26:17,className:"podcast"}),r.type==="video"&&(0,e.h)(F1,{height:Ve?26:19,width:Ve?26:19,className:"video"}),Me&&r.type!=="thread"&&"Comments on: ",(0,Ne.truncateWords)(r.title,this.getMaxTitleLength())),!Ge&&(0,e.h)("a",{href:Pt,className:"post-preview-description"},Pi()((0,Ne.truncateWords)(r.description,this.getMaxDescriptionLength()))),Lt&&(0,e.h)("div",{className:"post-preview-author"},on.length>0?(0,Ne.oxfordComma)(on.map(hn=>(0,e.h)(la.Ct,{subject:hn,utmSource:"byline"},(0,e.h)("a",{href:(0,v.getProfileUrl)(hn,i),onClick:an=>an.stopPropagation()},hn.name)))):(0,Ne.getPrintedByline)(i,r)),i&&(0,e.h)(zo._2,{pub:i,post:r,user:s,hideShare:r.type==="restack"||k,hideReactions:r.type==="restack"||!At,hideComments:r.type==="restack"||!(0,Ne.showCommentsOnPost)({publication:i,post:r}),hideSavePost:r.type==="restack",showRestackButton:r.type!=="restack",hideFeedRestackButton:r.type==="restack",allowEdit:r.type!=="restack",editButtonIsLast:!0,labelStyle:"counts-or-none",style:"compressed",onChange:Pe,showPreamble:!0,preambleConfig:{showPins:qe,showAudience:!0,showDate:M,showAuthor:r.type!=="restack"&&!ut&&!Lt&&j,showPublicationName:xe,showCrossPostedPublicationName:!0},position:"post-list"})))))}}da(ky,"contextType",Ur.QA);const O7=({className:n,pub:t})=>(0,e.h)("div",{className:`post-preview-silhouette has-image ${n||""}`},(0,e.h)("div",{className:"post-preview-silhouette-image"}),(0,e.h)("div",{className:"post-preview-silhouette-content"},(0,e.h)("div",{className:"post-preview-silhouette-title"}),(0,e.h)("div",{className:"post-preview-silhouette-description"}),t&&t.bylines_enabled&&(0,e.h)("div",{className:"post-preview-silhouette-author"}),(0,e.h)("div",{className:"post-preview-silhouette-meta"}))),S7=({user:n,pub:t,post:r})=>{const i=(0,Ne.getBylineUsers)(r).filter(s=>s.is_guest);return i.length===0?null:(0,e.h)("div",{className:"post-contributor-footer"},(0,e.h)("div",{className:"container-border"}),i.map(s=>{const M=(0,Ne.guessFirstName)(s.name);let k=s.primaryPublicationSubscribeUrl;k&&(n!=null&&n.email)&&(k=(0,v.updateQuery)(k,{email:n.email,autoSubmit:!0,utm_source:"substack",utm_campaign:"guest_post_bio",utm_medium:"web"}));const j=(0,v.updateQuery)((0,le.getReaderProfileUrl)(s),{utm_campaign:"guest_post_bio",utm_medium:"web"}),U=jf.ZP.hasCustomProfilePhoto(s);return(0,e.h)("div",{className:u()("post-contributor-bio",{"post-contributor-bio-no-text":!s.bio}),"data-user-id":s.id},(0,e.h)("table",{cellpadding:"0",cellspacing:"0",className:"post-contributor-bio-table"},(0,e.h)("tr",{className:"post-contributor-bio-table-row"},U&&(0,e.h)("td",{className:"post-contributor-bio-userhead-cell post-contributor-bio-userhead-cell-web"},(0,e.h)(la.Ct,{subject:s,utmSource:"byline"},(0,e.h)(jf.ZP,{size:52,user:n,pub:t,subject:s}))),(0,e.h)("td",{className:"post-contributor-bio-body-cell post-contributor-bio-body-cell-web"},(0,e.h)("div",{className:"post-contributor-bio-body"},s.bio&&(0,e.h)("div",{className:"post-contributor-bio-preamble"},"A guest post by"),(0,e.h)("table",{cellpadding:"0",cellspacing:"0",className:"post-contributor-bio-body-table"},(0,e.h)("tr",{className:"post-contributor-bio-body-table-row"},(0,e.h)("td",{className:"post-contributor-bio-copy-cell"},!s.bio&&(0,e.h)("div",{className:"post-contributor-bio-preamble"},"A guest post by"),(0,e.h)(Vt.gq,{gap:4,alignItems:"center",paddingBottom:4},(0,e.h)(la.Ct,{subject:s,utmSource:"byline"},(0,e.h)("a",{className:"post-contributor-bio-title no-margin",href:j,native:!0},s.name)),(0,e.h)(Nt.s,{size:"sm",tier:s.bestseller_tier,userId:s.id})),s.bio&&(0,e.h)("div",{className:"post-contributor-bio-text"},s.bio)),(0,e.h)("td",{className:"post-contributor-bio-controls-cell post-contributor-bio-controls-cell-web"},(0,e.h)("div",{className:"post-contributor-bio-controls"},k&&(0,e.h)("a",{className:"post-contributor-bio-subscribe-button button primary",href:k,native:!0},(0,e.h)("span",{className:"post-contributor-bio-subscribe-button-label"},"Subscribe to ",M)))))))))))}))};class o$ extends null{render({renderPost:t,posts:r,hideFirstHeading:i,className:s,top:M,children:k}){return r=r.slice(0).sort((j,U)=>dayjs(U.post_date)-dayjs(j.post_date)),h("div",{className:`calendared-post-list ${s||""}`},M,flat(this.renderByHeading(r,"year",(j,U)=>[!U.isSameNow("year")&&h("h2",{date:U},U.year()),this.renderByHeading(j,"month",(q,Pe)=>[!(Pe.isSameNow("year")&&Pe.isSameNow("month"))&&h("h3",{date:U},get_month_name(Pe)," ",!Pe.isSameNow("year")&&Pe.year()),q.map(Me=>t(Me,r.indexOf(Me),r))])]),1/0).filter(j=>j).filter((j,U,q)=>!i||U>=q.findIndex(Pe=>!Pe.props||!Pe.props.date)),k)}renderByHeading(t,r,i){return Array.from(group_by(t,s=>dayjs(s.post_date)[r]())).sort((s,M)=>M[0]-s[0]).map(([,s])=>i(s,dayjs(s[0].post_date)))}}function T7(n,t=1e4,r=t){if(typeof window=="undefined")return null;const i=document.createElement("div");if(i.innerHTML=n,i.textContent.length<t||i.childNodes.length<=1)return null;do i.removeChild(i.lastChild);while(i.childNodes.length>1&&i.textContent.length>r);return i.innerHTML}function I7(n,t=500){if(typeof window=="undefined")return!1;const r=document.createElement("div");r.innerHTML=n;let i="",s=!1;for(let M=r.childNodes.length-1;M>=0;M--){const k=r.childNodes[M];if((0,y.hasClass)(k,"button-wrapper")||(0,y.hasClass)(k,"subscription-widget-wrap")){s=!0;break}if(i+=k.textContent,i.length>t)break}return!s}function D7({post:n,user:t,onChange:r}){const{onSave:i}=(0,zo.vk)({post:n,isSaved:!1});return(0,o.d4)(()=>{if(new URL(location).searchParams.get("action")==="save"&&(history.replaceState({},"",(0,v.updateQuery)({action:null})),t)){const M=i();r({post:jc(Gl({},n),{is_saved:M})})}},[]),null}function By(n){var t;return(t=n.audio_items)==null?void 0:t.some(r=>r.type==="tts")}const M7=new Intl.DateTimeFormat(void 0,{dateStyle:"medium"});function x7({post:n,pub:t}){const{publishedBylines:r=[]}=n,i=t.bylines_enabled&&(0,Ne.getPrintedByline)(t,n)&&n.type!=="podcast",s=i&&t.byline_images_enabled&&r.some(({photo_url:k})=>!!k),M=n.type!=="page";return(0,e.h)(Vt.hs,{justifyContent:"start",gap:12,alignItems:"center"},s&&(0,e.h)(Vt.hs,null,(0,e.h)(Ll.ZP,{faces:r,hoverProfiles:!0,maximum:4,reverse:!0,showBlanks:!0})),(0,e.h)(Vt.tu,null,i&&(0,e.h)(Vt.xv.Meta,{color:"pub-primary-text"},(0,e.h)(af.M,{array:r,formatter:k=>(0,e.h)(la.Ct,{subject:k,utmSource:"byline"},(0,e.h)(Vt.xv,{as:"a",href:(0,le.getReaderProfileUrl)(k),decoration:"hover-underline"},k.name)),limit:4})),(0,e.h)(Vt.hs,{gap:4},(0,e.h)(Vt.xv.Meta,{color:"pub-secondary-text"},M7.format(Tr()(n.post_date).toDate())),M&&(0,Xe.isPaidAudience)(n.audience)&&(0,e.h)(Vt.xv.Meta,{color:"pub-secondary-text"},"\u2219 Paid"))))}var A7=Object.defineProperty,Uy=Object.getOwnPropertySymbols,N7=Object.prototype.hasOwnProperty,R7=Object.prototype.propertyIsEnumerable,ch=(n,t,r)=>t in n?A7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,dh=(n,t)=>{for(var r in t||(t={}))N7.call(t,r)&&ch(n,r,t[r]);if(Uy)for(var r of Uy(t))R7.call(t,r)&&ch(n,r,t[r]);return n},Es=(n,t,r)=>(ch(n,typeof t!="symbol"?t+"":t,r),r),L7=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});class fh extends e.Component{constructor(t,r){if(super(t,r),Es(this,"onTabClick",i=>s=>{s.preventDefault(),this.loadTab(i)}),Es(this,"onSearchInput",i=>{this.state.tab.id==="search"&&this.loadTab("search",i.target.value||"")}),Es(this,"onSearchKeyDown",i=>{this.state.tab.id==="search"&&i.key==="Escape"&&(i.target.blur(),this.loadTab(this.state.tabs[0].id))}),Es(this,"onPostClicked",(i,s,M,k)=>{(0,D.j)(D.FP.ARCHIVE_PAGE_POST_CLICKED,{post_id:s,tab:this.state.tab.id,rank_in_feed:M,source:k!=null?k:this.props.source})}),Es(this,"onSearchBlur",i=>{this.state.tab.id==="search"&&!i.target.value&&this.loadTab(this.state.tabs[0].id,"")}),Es(this,"loadTab",(i,s)=>L7(this,null,function*(){const M=this.state.tabs.find(Pe=>Pe.id===i);let k=!1;if(M.id==="search"&&typeof s=="string"&&M.query!==s&&(k=!0,M.query=s,M.posts=null,M.fullyLoaded=!1,M.loading=!1,M.loadingError=null),M.id!==this.state.tab.id?(this.setState({tab:M},()=>{M.id==="search"&&this.searchInput&&(this.searchInput.focus(),this.searchInput.select())}),this.props.stateInUrl&&typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,v.updateQuery)({sort:M.id,search:M.query||null}))):k&&this.props.stateInUrl&&typeof window!="undefined"&&window.history.replaceState&&window.history.replaceState({},document.title,(0,v.updateQuery)({search:M.query||null})),M.loading||M.fullyLoaded)return;if(M.id==="search"&&!M.query){M.posts=[],M.fullyLoaded=!0,this.setState({tabs:this.state.tabs});return}const j=(0,Ne.randomString)();if(M.loading=j,M.loadingError=null,this.setState({tabs:this.state.tabs}),M.id==="search"&&M.query&&(yield new Promise(Pe=>setTimeout(Pe,300)),M.loading!==j))return;!this.state.tabs.find(Pe=>Pe.posts||Pe.fullyLoaded||Pe.loading||Pe.loadingError)&&this.props.delayFirstLoad&&(yield new Promise(Pe=>setTimeout(Pe,this.props.delayFirstLoad)));const q=this.props.pub?"/api/v1/archive":this.props.profile?"/api/v1/profile-archive":null;try{const Pe=this.props.maxPosts?this.props.maxPosts*2:this.getFetchLimit(),Me=(yield ge().get(q).query(dh(dh(dh({sort:M.id==="search"?"new":M.id,search:M.id==="search"?M.query:"",offset:(M.posts||[]).length,limit:this.props.maxPosts?this.props.maxPosts*2:this.getFetchLimit(),type:this.props.isPodcast?"podcast":void 0},this.props.postTagId&&{post_tag_id:this.props.postTagId}),this.props.sectionId&&{section_id:this.props.sectionId}),this.props.profile&&{profile_user_id:this.props.profile.id}))).body;if(M.loading!==j)return;M.posts=M.posts?M.posts.concat(Me):Me,M.fullyLoaded=Me.length<Pe||this.props.maxPosts&&M.posts.length>=this.props.maxPosts}catch(Pe){console.error("Failed to load tab:",Pe),M.loadingError=Pe}M.loading=!1,this.setState({tabs:this.state.tabs})})),Es(this,"onChange",({post:i})=>{i&&((0,y.stateTransaction)(this,s=>{let M=!1;const k=s.tabs.map(j=>j.posts).filter(j=>Array.isArray(j));for(const j of k){const U=j.findIndex(q=>q.id===i.id);U!==-1&&(j[U]=i,M=!0)}M&&this.setState({tabs:s.tabs})}),this.props.onChange&&this.props.onChange(i))}),!(this.props.pub||this.props.profile))throw new Error("Archive must be loaded for a publication or a profile");this.loadTab=this.loadTab.bind(this),this.state=this.getTabs()}componentDidMount(){this.loadTab(this.state.tab.id)}componentWillUnmount(){this.state.tab.id==="search"&&this.searchInput&&this.searchInput.blur()}componentDidUpdate(t){(t.hideTop!==this.props.hideTop||t.newPosts!==this.props.newPosts)&&this.setState(this.getTabs())}getTabs(){var t,r;let i=[];i.push({id:"new",title:this.props.newTitle||"New",posts:this.props.newPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.newPosts)}),(!this.props.newPosts||this.props.newPosts.length>=this.getFetchLimit())&&(this.props.hideTop||i.push({id:"top",title:this.props.topTitle||"Top",posts:this.props.topPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.topPosts)}),(t=this.props.pub)!=null&&t.community_enabled&&((r=this.props.pub)!=null&&r.has_community_content)&&i.push({id:"community",title:this.props.communityTitle||"Community",posts:this.props.communityPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.communityPosts)})),i=this.props.sortTabs&&this.props.sortTabs(i)||i,(this.props.sort==="search"||!(this.props.newPosts&&this.props.newPosts.length<this.getFetchLimit()))&&i.push({id:"search",title:"Search",posts:this.props.searchPosts,fullyLoaded:!!(this.props.maxPosts&&this.props.searchPosts),query:this.props.search||"",hidden:!0});const s=i.find(M=>M.id===this.props.sort)||this.props.search&&i.find(M=>M.id==="search")||i[0];return{tabs:i,tab:s}}getFetchLimit(){return this.props.maxPosts||12}render({authorInMeta:t,className:r,disableInteractive:i,emptyMessage:s="No posts",filterPosts:M,hideAuthor:k,hideSearchTab:j,hideShare:U,isBelowTheFold:q,isPodcast:Pe,maxPosts:Me,maxTitleLength:xe,pinnedPosts:Ve,profile:qe,pub:Ge,renderLoading:ut,renderPosts:bt,renderTabs:Pt,renderSeeAll:At,showMonthDividers:Lt,showPins:Dt,showPublicationName:Ht,source:on,user:hn},{tabs:an,tab:mn}){const rr=Lt&&mn.id==="new",Gn=an.find(qt=>qt.id==="search"),Vn=an.find(qt=>qt.id==="community");let _n=Array.isArray(mn.posts)?mn.posts.filter(qt=>!(Ge&&mn.id==="top"&&qt.top_exclusions.includes(Ge.id))).filter(qt=>Ge!=null&&Ge.section&&(Ve!=null&&Ve.length)?!Ve.find(Sn=>Sn.id===qt.id):!0).filter(qt=>!Ne.hidePaidPostsFor.includes(Ge==null?void 0:Ge.subdomain)||qt.audience==="everyone"||(hn==null?void 0:hn.is_subscribed)).filter(M||(()=>!0)):[];Ge!=null&&Ge.section&&(Ve!=null&&Ve.length)&&["new","top"].includes(mn.id)&&(_n=[...Ve,..._n]);const jn=_n.length===0,_r=!_n&&!mn.loadingError,nr=_n.some&&_n.some(qt=>qt.cover_image);let qn;qe&&(qn=new Map(qe.publicationUsers.map(qt=>[qt.publication.id,qt.publication])));const Rn=Me?_n.slice(0,Me):_n,Bn=bt?bt({posts:Rn,linkToComments:mn===Vn,onClickPost:({event:qt,post:Sn,index:Yt,source:ir})=>this.onPostClicked(qt,Sn.id,Yt,ir),postGroups:rr?k7(Rn):null}):[];if(!bt){let qt;Rn.forEach((Sn,Yt)=>{if(rr){const ir=Rs()(Sn.post_date).format("MMMM YYYY");ir!==qt&&(Yt!==0&&Bn.push((0,e.h)("h3",null,ir)),qt=ir)}Bn.push((0,e.h)(ky,{key:Sn.id,className:"portable-archive-post",post:Sn,pub:Ge||qn&&qn.get(Sn.publication_id),user:hn,showDate:!0,showCoverImage:nr,authorInMeta:(0,Ne.getBylineUsers)(Sn).length<=1&&t!==!1,linkToComments:mn===Vn,onChange:this.onChange,disableInteractive:i,showPins:Dt,showPublicationName:Ht,hideAuthor:k,onClick:ir=>this.onPostClicked(ir,Sn.id,Yt,on),maxTitleLength:xe,hideShare:U,isBelowTheFold:q}))})}const cr=Pe?(0,le.getPodcastArchiveUrl)({pub:Ge,section:Ge.section,params:{sort:mn.id,search:mn.query}}):(0,v.getArchiveUrl)(Ge,{params:{sort:mn.id,search:mn.query}}),Ln=At?At({url:cr}):(0,e.h)("a",{className:"portable-archive-all",href:cr,native:!0},"See all ",(0,e.h)(Hn,{height:12,width:12})),er=ut?ut():Array.from(new Array(this.getFetchLimit())).map(()=>(0,e.h)(O7,{pub:Ge}));return(0,e.h)("div",{className:u()("portable-archive",r,{"empty-list":jn})},Pt&&Pt({activeTabId:mn.id,isSearching:mn===Gn,showSearch:!!(Gn&&!j),searchInputProps:{value:Gn==null?void 0:Gn.query,onKeyDown:this.onSearchKeyDown,onKeyPress:this.onSearchInput,onInput:this.onSearchInput,onChange:this.onSearchInput,onBlur:this.onSearchBlur},searchRef:qt=>{this.searchInput=qt},tabs:an.filter(qt=>!qt.hidden),onClick:qt=>{this.loadTab(qt)},onClickSearch:()=>{this.loadTab("search")},onClickSearchClose:()=>{this.loadTab(an[0].id)}}),!Pt&&(0,e.h)("div",{className:"portable-archive-tabs"},mn===Gn?(0,e.h)("div",{className:"portable-archive-search-bar"},(0,e.h)(gc,{className:"portable-archive-search-bar-icon"}),(0,e.h)("input",{ref:qt=>this.searchInput=qt,className:"portable-archive-search-bar-input",type:"text",placeholder:"Search\u2026",value:mn.query,onKeyDown:this.onSearchKeyDown,onKeyPress:this.onSearchInput,onInput:this.onSearchInput,onChange:this.onSearchInput,onBlur:this.onSearchBlur}),(0,e.h)(T.Z,{className:"portable-archive-search-bar-close",onClick:this.onTabClick(an[0].id)})):(0,e.h)(e.Fragment,null,an.filter(qt=>!qt.hidden).map(({id:qt,title:Sn})=>(0,e.h)("a",{className:`portable-archive-tab ${qt}-tab ${mn.id===qt?"active":""}`,onClick:this.onTabClick(qt)},(0,e.h)("span",{className:"portable-archive-tab-content"},Sn))),Gn&&!j&&(0,e.h)("a",{className:"portable-archive-tab search-tab",href:"javascript:void(0)",onClick:this.onTabClick("search")},(0,e.h)(gc,null)))),(0,e.h)("div",{className:"portable-archive-list"},mn.loadingError?(0,e.h)("p",{className:"portable-archive-empty"},"Failed to load posts"):_n.length===0&&!mn.loading?(0,e.h)("p",{className:"portable-archive-empty"},mn.id!=="search"?s:mn.query?"No results":`Search ${Ge?Ge.name:""}`):(0,e.h)(e.Fragment,null,Bn,!Me&&!_r&&!mn.loading&&!mn.fullyLoaded&&(0,e.h)(ve,{threshold:640,onVisible:()=>this.loadTab(mn.id,mn.query)})),mn.loading||_r?er:Me&&_n.length>=Me&&Ln))}}const k7=n=>{let t;const r=[];return n.forEach((i,s)=>{const M=Rs()(i.post_date).format("MMMM YYYY");M!==t?(s===0?r.push({label:"",posts:[i]}):r.push({label:M,posts:[i]}),t=M):r[r.length-1].posts.push(i)}),r},Fy={pillTab:"frontend-pencraft-unstable-PillTabs-module__pillTab--cqGWE",pillTabActive:"frontend-pencraft-unstable-PillTabs-module__pillTabActive--bmZsx"},B7=({tabs:n,activeTabId:t,onClick:r})=>(0,e.h)(me.gq,{gap:8},n.map(i=>(0,e.h)(U7,{onClick:()=>{r(i.id)},active:i.id===t},i.title))),U7=({active:n,onClick:t,children:r})=>(0,e.h)("div",{className:u()(Fy.pillTab,{[Fy.pillTabActive]:n}),role:"button",onClick:t},r),hh=(0,e.createContext)({url:"",linkToComments:!1}),Zl=3/2,ph=16/9,F7=(0,sn.forwardRef)(({animated:n=!0,variant:t},r)=>["grid","grid-groups"].includes(t)?(0,e.h)(Vt.tu,{gap:12,ref:r},(0,e.h)(ca,{animated:n,aspectRatio:Zl}),(0,e.h)(Vt.tu,{gap:8},(0,e.h)(ca,{animated:n,height:24,width:"70%"}),(0,e.h)(ca,{animated:n,height:20,width:"90%"}),(0,e.h)(ca,{animated:n,height:20,width:"50%"}))):t==="list"?(0,e.h)(Vt.tu,{gap:8,ref:r},(0,e.h)(ca,{animated:n,height:28,width:"60%"}),(0,e.h)(ca,{animated:n,height:24,width:"80%"}),(0,e.h)(ca,{animated:n,height:20,width:"20%"})):null),jy={loadingContainerGrid:"frontend-main-home-PostPreviewSilhouetteLayout-module__loadingContainerGrid--uCg9L",loadingContainerList:"frontend-main-home-PostPreviewSilhouetteLayout-module__loadingContainerList--Hndyu"},mh=(0,sn.forwardRef)(({animated:n=!0,postCount:t,variant:r},i)=>(0,e.h)("div",{className:u()({[jy.loadingContainerGrid]:["grid","grid-groups"].includes(r),[jy.loadingContainerList]:r==="list"}),ref:i},Array.from(new Array(t)).map(()=>(0,e.h)(F7,{variant:r,animated:n})))),Yl={iconButton:"frontend-main-home-ArchiveAdapted-module__iconButton--_iQQr",searchInput:"frontend-main-home-ArchiveAdapted-module__searchInput--ZBorP",searchIcon:"frontend-main-home-ArchiveAdapted-module__searchIcon--cweE0",monthHeader:"frontend-main-home-ArchiveAdapted-module__monthHeader--H_zx5"};var j7=Object.defineProperty,W7=Object.defineProperties,H7=Object.getOwnPropertyDescriptors,Wy=Object.getOwnPropertySymbols,V7=Object.prototype.hasOwnProperty,K7=Object.prototype.propertyIsEnumerable,Hy=(n,t,r)=>t in n?j7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,$7=(n,t)=>{for(var r in t||(t={}))V7.call(t,r)&&Hy(n,r,t[r]);if(Wy)for(var r of Wy(t))K7.call(t,r)&&Hy(n,r,t[r]);return n},z7=(n,t)=>W7(n,H7(t));const Hc=({children:n,communityTitle:t,delayFirstLoad:r,filterPosts:i,isBelowTheFold:s,isPodcast:M,maxPosts:k,pinnedPosts:j,newPosts:U,pub:q,search:Pe,sectionId:Me,showMonthDividers:xe,sort:Ve,sortTabs:qe,source:Ge,user:ut,variant:bt="list"})=>(0,e.h)(fh,{communityTitle:t,delayFirstLoad:r,filterPosts:i,isBelowTheFold:s,isPodcast:M,maxPosts:k,newPosts:U,pinnedPosts:j,pub:q,renderPosts:({posts:Pt,linkToComments:At,onClickPost:Lt,postGroups:Dt})=>Dt?Dt.map(({label:Ht,posts:on})=>(0,e.h)(e.Fragment,null,Ht&&(0,e.h)(e.Fragment,null,(0,e.h)(Nl,{paddingTop:8,paddingBottom:8}),(0,e.h)(Vt.xv.Meta,{className:Yl.monthHeader,color:"pub-accent",paddingBottom:24},Ht)),n({posts:on,linkToComments:At,onClickPost:Lt}))):n({posts:Pt,linkToComments:At,onClickPost:Lt}),renderLoading:()=>(0,e.h)(mh,{variant:bt,postCount:k!=null?k:7}),renderSeeAll:({url:Pt})=>bt==="grid-groups"?null:(0,e.h)(Vt.gq,{paddingTop:16},(0,e.h)(Vt.zx,{href:Pt,rightIcon:(0,e.h)(ll.Z,{size:20}),priority:"secondary-theme",fill:"outline","data-testid":"archive-view-all"},"See all")),renderTabs:({activeTabId:Pt,isSearching:At,tabs:Lt,searchInputProps:Dt,searchRef:Ht,showSearch:on,onClick:hn,onClickSearch:an,onClickSearchClose:mn})=>bt==="grid-groups"?null:At?(0,e.h)(Vt.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:16},(0,e.h)(Vt.gq,{gap:4,alignItems:"center",paddingLeft:8},(0,e.h)(gc,{height:16,className:Yl.searchIcon}),(0,e.h)("input",z7($7({},Dt),{ref:Ht,type:"text",placeholder:"Search...",className:Yl.searchInput}))),(0,e.h)("div",{role:"button",onClick:mn,className:Yl.iconButton},(0,e.h)(T.Z,{height:20}))):(0,e.h)(Vt.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:16},(0,e.h)(B7,{activeTabId:Pt,tabs:Lt,onClick:hn}),on&&(0,e.h)("div",{role:"button",onClick:an,className:Yl.iconButton},(0,e.h)(gc,{height:20}))),sectionId:Me,search:Pe,showMonthDividers:xe,sort:Ve,sortTabs:qe,source:Ge,stateInUrl:!0,user:ut}),Vy=(0,e.createContext)({alwaysShowActions:!1}),G7=({justified:n,post:t,pub:r,user:i,onChange:s})=>{const M=t.type==="restack";return(0,e.h)(zo._2,{allowEdit:!M,editButtonIsLast:!0,hideComments:!(0,Ne.showCommentsOnPost)({publication:r,post:t})||M,hideReactions:!r.community_enabled||M,hideShare:M,isStatic:!1,justified:n,labelStyle:"counts-or-none",post:t,pub:r,hideFeedRestackButton:M,showRestackButton:!M,style:"compressed",user:i,onChange:s,position:"pub-preview"})},Xa={textContainer:"frontend-main-home-PostPreview-PostPreviewAuthors-module__textContainer--DYUfJ",date:"frontend-main-home-PostPreview-PostPreviewAuthors-module__date--MMeK8",pub:"frontend-main-home-PostPreview-PostPreviewAuthors-module__pub--OGpa8",icon:"frontend-main-home-PostPreview-PostPreviewAuthors-module__icon--Q4O7L",iconClamped:"frontend-main-home-PostPreview-PostPreviewAuthors-module__iconClamped--X6gF7",link:"frontend-main-home-PostPreview-PostPreviewAuthors-module__link--XzaS3"},Zs=({clamp:n,post:t,pub:r,showPin:i})=>{const s=(0,Ne.getBylineUsers)(t);return(0,e.h)(Vt.xv.Meta,{className:Xa.textContainer,color:"pub-secondary-text",clamp:n},i&&(0,e.h)("div",{className:Xa.icon},(0,e.h)(Ev,{size:12})),(0,Xe.isPaidAudience)(t.audience)&&(0,e.h)("div",{className:u()(Xa.icon,n&&Xa.iconClamped)},(0,e.h)(d1.Z,{audience:t.audience,size:12})),t.restacked_pub_name?(0,e.h)(e.Fragment,null,(0,e.h)("span",{className:Xa.pub},"Published on ",t.restacked_pub_name),"\xA0","\u2022","\xA0"):null,(0,e.h)("time",{className:Xa.date,dateTime:Tr()(t.post_date).toISOString()},(0,zo.fh)({post:t,showDatetime:!1})),t.type!=="restack"&&s.length>0&&r.bylines_enabled&&(0,e.h)(e.Fragment,null,"\xA0","\u2022","\xA0",(0,Ne.oxfordComma)(s.map(M=>n?(0,e.h)("a",{className:Xa.link,href:(0,v.getProfileUrl)(M,r),onClick:k=>k.stopPropagation()},M.name):(0,e.h)(la.Ct,{subject:M,utmSource:"byline"},(0,e.h)("a",{className:Xa.link,href:(0,v.getProfileUrl)(M,r),onClick:k=>k.stopPropagation()},M.name))),{noBreakSpace:!0})))},Jl=({align:n,clamp:t,lineHeight:r=20,maxLength:i=152,paddingBottom:s,post:M,size:k=14})=>{const{url:j}=(0,o.qp)(hh);return(0,e.h)(Vt.tu,{paddingBottom:s},(0,e.h)(Vt.xv,{as:"a",align:n,href:j,clamp:t,color:"pub-secondary-text",font:"text",size:k,lineHeight:r},Pi()((0,Ne.truncateWords)(M.description,i))))};var Z7=wt(98961);const _h={sm:{size:14,lineHeight:20},md:{size:18,lineHeight:28},lg:{size:28,lineHeight:40},mobileMd:{size:16,lineHeight:24},mobileLg:{size:24,lineHeight:36}},Xl={icon:"frontend-main-home-PostPreview-PostPreviewTitle-module__icon--ftllQ","iconVideo-16":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-16--SoCpZ","iconVideo-20":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-20--ZxgZa","iconVideo-28":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-28--q2Mu_","iconVideo-32":"frontend-main-home-PostPreview-PostPreviewTitle-module__iconVideo-32--sMZ1R"},Ys=({align:n,clamp:t,maxLength:r=140,paddingBottom:i,post:s,preset:M})=>{const{url:k,linkToComments:j}=(0,o.qp)(hh),{lineHeight:U,size:q}=_h[M],Pe=q>=28;return(0,e.h)(Vt.tu,{paddingBottom:i},(0,e.h)(Vt.xv,{as:"a",href:k,align:n,clamp:t,font:"pub-headings",lineHeight:U,size:q,weight:"semibold","data-testid":"post-preview-title"},s.type==="thread"&&(0,e.h)(qf,{height:Pe?26:17,className:Xl.icon}),s.type==="podcast"&&(0,e.h)(xt,{height:Pe?26:17,className:Xl.icon}),s.type==="video"&&(0,e.h)(Z7.Z,{height:Pe?26:19,width:Pe?26:19,className:u()(Xl.icon,Xl.iconVideo,Xl[`iconVideo-${q}`]),strokeWidth:1.8}),j&&s.type!=="thread"&&"Comments on: ",(0,Ne.truncateWords)(s.title,r)))},Vc={container:"frontend-main-home-PostPreview-PostPreviewJumbo-module__container--TIl7m",containerNoImage:"frontend-main-home-PostPreview-PostPreviewJumbo-module__containerNoImage--hOvi7",image:"frontend-main-home-PostPreview-PostPreviewJumbo-module__image--kibZN",content:"frontend-main-home-PostPreview-PostPreviewJumbo-module__content--PDmTG"};var Y7=Object.defineProperty,J7=Object.defineProperties,X7=Object.getOwnPropertyDescriptors,Ky=Object.getOwnPropertySymbols,Q7=Object.prototype.hasOwnProperty,q7=Object.prototype.propertyIsEnumerable,$y=(n,t,r)=>t in n?Y7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ek=(n,t)=>{for(var r in t||(t={}))Q7.call(t,r)&&$y(n,r,t[r]);if(Ky)for(var r of Ky(t))q7.call(t,r)&&$y(n,r,t[r]);return n},tk=(n,t)=>J7(n,X7(t));const zy=({actions:n,isSmall:t,post:r,pub:i})=>{const{isTablet:s}=Ti(),M=!!(0,Xe.getCoverImageUrl)(r);return(0,e.h)("div",{className:u()(Vc.container,{[Vc.containerNoImage]:!M})},M&&(0,e.h)(bs,{className:Vc.image,imageAspectRatio:t?Zl:ph,imageWidth:1280,isBelowTheFold:!1,post:r,squareImageSize:"large"}),(0,e.h)(Vt.tu,{className:Vc.content,alignItems:"center",justifyContent:"center",paddingX:M?32:64,paddingY:M?24:64},(0,e.h)(Ys,{post:r,align:"center",preset:s?"mobileLg":"lg",clamp:3,paddingBottom:8}),(0,e.h)(Jl,{post:r,align:"center",size:16,lineHeight:24,clamp:3,paddingBottom:20}),(0,e.h)(Zs,{post:r,pub:i}),(0,e.h)(Vt.tu,{paddingTop:20},n({justified:!1}))))},nk=n=>(0,e.h)(zy,tk(ek({},n),{isSmall:!0})),rk={image:"frontend-main-home-PostPreview-PostPreviewLarge-module__image--jXUNi"},ok=({actions:n,hideImage:t,imageAspectRatio:r,post:i,pub:s})=>(0,e.h)(Vt.tu,null,!t&&(0,e.h)(bs,{post:i,className:rk.image,imageWidth:1250,imageAspectRatio:r==="wide"?ph:Zl,isBelowTheFold:!1,squareImageSize:"large"}),(0,e.h)(Vt.tu,{flex:"grow",alignItems:"center",justifyContent:"center",paddingX:24,paddingY:16},(0,e.h)(Ys,{post:i,align:"center",preset:"lg",clamp:4,paddingBottom:8}),(0,e.h)(Jl,{post:i,align:"center",size:16,lineHeight:24,clamp:2,paddingBottom:16}),(0,e.h)(Zs,{post:i,pub:s}),(0,e.h)(Vt.tu,{paddingTop:16},n({justified:!1})))),gh={container:"frontend-main-home-PostPreview-PostPreviewListing-module__container--zH3ui",containerNoImage:"frontend-main-home-PostPreview-PostPreviewListing-module__containerNoImage--AXgbN",image:"frontend-main-home-PostPreview-PostPreviewListing-module__image--RoIBP"},ik=({actions:n,hideImage:t,post:r,pub:i,showPin:s})=>{const{isMobile:M}=Ti();let k=!!i.community_enabled;return t&&!M&&(k=!1),(0,e.h)("div",{className:u()(gh.container,{[gh.containerNoImage]:t})},(0,e.h)(Vt.tu,{gap:8},(0,e.h)(Ys,{clamp:3,post:r,preset:M?"mobileMd":"md"}),(0,e.h)(Jl,{clamp:2,post:r,size:14,lineHeight:t?24:20}),(0,e.h)(Zs,{post:r,pub:i,showPin:s})),!t&&(r.cover_image?(0,e.h)(bs,{className:gh.image,post:r,imageWidth:M?150:320,imageAspectRatio:M?1:Zl,isBelowTheFold:!0,squareImageSize:"small"}):(0,e.h)("div",null)),n({justified:k}))},ak={image:"frontend-main-home-PostPreview-PostPreviewMini-module__image--Zfhnm"},sk=({actions:n,post:t,pub:r})=>{const i=!!r.community_enabled;return(0,e.h)(Vt.tu,{padding:8},(0,e.h)(Vt.gq,{gap:12,paddingBottom:8,flex:"grow"},(0,e.h)(Vt.tu,{flex:"grow"},(0,e.h)(Ys,{post:t,clamp:2,preset:"sm",paddingBottom:4}),(0,e.h)(Zs,{clamp:1,post:t,pub:r})),(0,e.h)(bs,{className:ak.image,hidePlaceholder:!0,imageWidth:150,imageAspectRatio:1,isBelowTheFold:!1,post:t})),n({justified:i}))},lk={image:"frontend-main-home-PostPreview-PostPreviewMobileHero-module__image--kXonK"},uk=({actions:n,hidePlaceholder:t,post:r,pub:i})=>{const s=!!i.community_enabled;return(0,e.h)(Vt.tu,null,r.cover_image&&(0,e.h)(bs,{post:r,className:lk.image,imageWidth:1250,imageAspectRatio:ph,isBelowTheFold:!1,hidePlaceholder:t,squareImageSize:"large"}),(0,e.h)(Vt.tu,{flex:"grow",justifyContent:"center",paddingX:16,paddingTop:16},(0,e.h)(Vt.tu,{gap:8,paddingBottom:12},(0,e.h)(Ys,{post:r,preset:"mobileLg",clamp:3}),(0,e.h)(Jl,{post:r,size:14,lineHeight:20,clamp:3}),(0,e.h)(Zs,{post:r,pub:i})),n({justified:s})))},ck={image:"frontend-main-home-PostPreview-PostPreviewSquare-module__image--yvn4j"},dk=({actions:n,post:t,pub:r})=>{const{isMobile:i}=Ti(),s=!!r.community_enabled;return(0,e.h)(Vt.tu,{padding:i?0:8},(0,e.h)(bs,{post:t,className:ck.image,imageWidth:600,imageAspectRatio:Zl,isBelowTheFold:!0,squareImageSize:"medium"}),(0,e.h)(Vt.tu,{paddingTop:12,flex:"grow"},(0,e.h)(Vt.tu,{gap:8,flex:"grow",paddingBottom:12},(0,e.h)(Ys,{clamp:3,post:t,preset:"md"}),(0,e.h)(Jl,{clamp:1,post:t}),(0,e.h)(Zs,{post:t,pub:r})),n({justified:s})))},Kc={container:"frontend-main-home-PostPreview-index-module__container--gXuU1",containerWithBackground:"frontend-main-home-PostPreview-index-module__containerWithBackground--p7B8K",actions:"frontend-main-home-PostPreview-index-module__actions--eae29","actions--always-show":"frontend-main-home-PostPreview-index-module__actions--always-show--XnNzu"},fk={jumbo:zy,"jumbo-small":nk,large:ok,listing:ik,mini:sk,"mobile-hero":uk,square:dk},Js=({disableInteractive:n,hideImage:t,hideWash:r,imageAspectRatio:i,linkToComments:s,variant:M,post:k,pub:j,showPin:U,testid:q,user:Pe,utm:Me,onChange:xe,onClick:Ve})=>{const{alwaysShowActions:qe}=(0,o.qp)(Vy),Ge=fk[M];if(!Ge)return(0,e.h)("div",null,"PostPreview: ",M," not implemented");const ut=hk({linkToComments:!!s,post:k,pub:j,utm:Me}),bt=Pt=>{Ve&&Ve(Pt),!n&&(0,y.redirect)(ut,{event:Pt})};return(0,e.h)(hh.Provider,{value:{url:ut,linkToComments:!!s}},(0,e.h)(Vt.tu,{className:u()(Kc.container,{[Kc.containerWithBackground]:!r&&["large","jumbo","jumbo-small"].includes(M)}),"data-testid":q,radius:6,onClick:bt},(0,e.h)(Ge,{hideImage:t,imageAspectRatio:i,post:k,pub:j,showPin:U,actions:({justified:Pt})=>k.type==="restack"?null:(0,e.h)(Vt.tu,{className:u()(Kc.actions,{[Kc["actions--always-show"]]:qe})},(0,e.h)(G7,{justified:Pt,post:k,pub:j,user:Pe,onChange:xe}))})))},hk=({linkToComments:n,post:t,pub:r,utm:i})=>n?(0,le.getPostUrl)(r,t,{comments:!0}):t.type==="video"?(0,v.updateQuery)(t.canonical_url,{autoPlay:!0}):i?(0,le.pathWithQuery)(t.canonical_url,i):t.canonical_url,_a={container:"frontend-main-home-PostsLayout-module__container--ZMlBv","two-small-one-large":"frontend-main-home-PostsLayout-module__two-small-one-large--dUc84",divider:"frontend-main-home-PostsLayout-module__divider--AxHuX","two-column-grid":"frontend-main-home-PostsLayout-module__two-column-grid--B3xhg","long-divider":"frontend-main-home-PostsLayout-module__long-divider--be7gz","three-column-grid":"frontend-main-home-PostsLayout-module__three-column-grid--eqPl6","four-column-grid":"frontend-main-home-PostsLayout-module__four-column-grid--KCnzZ","one-column-list":"frontend-main-home-PostsLayout-module__one-column-list--oWTZ1","large-listing-listing-column":"frontend-main-home-PostsLayout-module__large-listing-listing-column--kMStX","square-square-column":"frontend-main-home-PostsLayout-module__square-square-column--fCDpp","two-column-list":"frontend-main-home-PostsLayout-module__two-column-list--dzbTj","five-up":"frontend-main-home-PostsLayout-module__five-up--h8UyE","mini-row":"frontend-main-home-PostsLayout-module__mini-row--qwBsL","three-column-mini-row":"frontend-main-home-PostsLayout-module__three-column-mini-row--dyBS2"};var pk=Object.defineProperty,mk=Object.defineProperties,_k=Object.getOwnPropertyDescriptors,$c=Object.getOwnPropertySymbols,Gy=Object.prototype.hasOwnProperty,Zy=Object.prototype.propertyIsEnumerable,Yy=(n,t,r)=>t in n?pk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Qa=(n,t)=>{for(var r in t||(t={}))Gy.call(t,r)&&Yy(n,r,t[r]);if($c)for(var r of $c(t))Zy.call(t,r)&&Yy(n,r,t[r]);return n},Ql=(n,t)=>mk(n,_k(t)),Jy=(n,t)=>{var r={};for(var i in n)Gy.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&$c)for(var i of $c(n))t.indexOf(i)<0&&Zy.call(n,i)&&(r[i]=n[i]);return r};const hi=n=>{const{flex:t,hideImages:r,linkToComments:i,posts:s,pub:M,showSectionPins:k,source:j,user:U,utm:q,variant:Pe,onChange:Me,onClickPost:xe}=n;return Pe==="two-three-two"?(0,e.h)(vk,Qa({},n)):Pe==="two-small-three-medium"?(0,e.h)(gk,Qa({},n)):["mini-row","three-column-mini-row"].includes(Pe)?(0,e.h)(yk,Qa({},n)):(0,e.h)("div",{style:t==="grow"?{flexGrow:1,display:"flex",alignItems:"stretch"}:void 0},(0,e.h)("div",{className:u()(_a.container,_a[Pe])},s.map((Ve,qe)=>(0,e.h)(e.Fragment,null,qe>0&&["one-column-list","two-column-list","two-column-grid","three-column-grid","four-column-grid","large-listing-listing-column","square-square-column"].includes(Pe)&&(0,e.h)(Vt.gq,{className:_a.divider,borderBottom:"detail-themed"}),[2,4].includes(qe)&&Pe==="five-up"&&(0,e.h)(Vt.gq,{className:_a.divider,borderBottom:"detail-themed"}),qe%2===0&&qe>0&&["two-column-grid"].includes(Pe)&&(0,e.h)(Vt.gq,{className:_a["long-divider"],borderBottom:"detail-themed"}),qe%3===0&&qe>0&&["three-column-grid"].includes(Pe)&&(0,e.h)(Vt.gq,{className:_a["long-divider"],borderBottom:"detail-themed"}),qe%4===0&&qe>0&&["four-column-grid"].includes(Pe)&&(0,e.h)(Vt.gq,{className:_a["long-divider"],borderBottom:"detail-themed"}),qe>0&&["mini-row","three-column-mini-row"].includes(Pe)&&(0,e.h)(Vt.gq,{className:_a.divider,paddingY:16,alignItems:"center"},(0,e.h)(Vt.gq,{borderLeft:"detail-themed"})),(0,e.h)(Js,{testid:["large-listing-listing-column","two-small-one-large"].includes(Pe)?`magazine-spot-${qe+1}`:void 0,hideImage:r,linkToComments:i,post:Ve,pub:M,showPin:k&&Ve.is_section_pinned,user:U,utm:q,variant:Xy(Pe,qe),onChange:Me,onClick:xe&&j?Ge=>{xe({event:Ge,post:Ve,index:qe,source:j})}:void 0}))),Pe==="two-small-one-large"&&(0,e.h)(Vt.gq,{borderBottom:"detail-themed"})))},gk=n=>{const t=n,{posts:r}=t,i=Jy(t,["posts"]),s=r.slice(0,3),M=r.slice(3);return(0,e.h)(Ja,{variant:"one-column-two-column",stretchVertically:!0},(0,e.h)(hi,Ql(Qa({},i),{flex:"grow",variant:"large-listing-listing-column",posts:s,hideImages:!0})),(0,e.h)(hi,Ql(Qa({},i),{flex:"grow",variant:"square-square-column",posts:M,hideImages:!1})))},vk=n=>{const t=n,{posts:r}=t,i=Jy(t,["posts"]),s=r.slice(0,3),M=r.slice(3,5),k=r.slice(5);return(0,e.h)(Ja,{variant:"one-column-two-column-one-column",stretchVertically:!0},(0,e.h)(hi,Ql(Qa({},i),{flex:"grow",variant:"large-listing-listing-column",posts:s,hideImages:!0})),(0,e.h)(hi,Ql(Qa({},i),{flex:"grow",variant:"square-square-column",posts:M,hideImages:!1})),(0,e.h)(hi,Ql(Qa({},i),{flex:"grow",variant:"square-square-column",posts:k,hideImages:!1})))},yk=n=>{const{linkToComments:t,posts:r,pub:i,source:s,user:M,utm:k,variant:j,onChange:U,onClickPost:q}=n,Pe=j==="mini-row"?4:3;return(0,e.h)("div",null,(0,e.h)("div",{className:u()(_a.container,_a[j])},r.slice(0,Pe).map((Me,xe)=>(0,e.h)(e.Fragment,null,xe>0&&(0,e.h)(Vt.gq,{className:_a.divider,paddingY:16,alignItems:"center"},(0,e.h)(Vt.gq,{borderLeft:"detail-themed"})),(0,e.h)(Js,{linkToComments:t,post:Me,pub:i,user:M,utm:k,variant:Xy(j,xe),onChange:U,onClick:q&&s?Ve=>{q({event:Ve,post:Me,index:xe,source:s})}:void 0}))),j==="two-small-one-large"&&(0,e.h)(Vt.gq,{borderBottom:"detail-themed"})))},Xy=(n,t)=>n==="square-square-column"?"square":n==="large-listing-listing-column"?t===0?"large":"listing":n==="two-small-one-large"?t===0?"large":"square":n==="two-column-list"?"listing":n==="five-up"?t===0?"large":"square":["mini-row","three-column-mini-row","one-column-list"].includes(n)?"mini":"square",bk={container:"frontend-main-archive_page-module__container--Brctc"};function ql({children:n,title:t,pub:r,user:i,freeSignup:s,freeSignupEmail:M,sort:k,search:j,newPosts:U,topPosts:q,communityPosts:Pe,searchPosts:Me,sectionId:xe,isPodcast:Ve,metadata:qe}){const Ge=!!(r!=null&&r.theme);return(0,e.h)(C.ze,{value:{hasThemedBackground:Ge}},qe&&(0,y.setMetaData)(qe),(0,e.h)("div",{className:u()("archive-page typography",bk.container,{"use-theme-bg":Ge})},(0,e.h)("div",{className:"container"},t&&(0,e.h)("h2",null,t),(0,e.h)(Hc,{communityPosts:Pe,communityTitle:"Discussion",freeSignup:s,freeSignupEmail:M,isPodcast:Ve,newPosts:U,pub:r,search:j,searchPosts:Me,sectionId:xe,showMonthDividers:!0,sort:k,source:"archive",topPosts:q,user:i,variant:"list"},({posts:ut,linkToComments:bt,onClickPost:Pt})=>(0,e.h)(hi,{hideImages:r.theme.hide_images_from_list,linkToComments:bt,posts:ut,pub:r,user:i,variant:"two-column-list",onChange:()=>{},onClickPost:Pt})),n)))}var Pk=Object.defineProperty,Ek=(n,t,r)=>t in n?Pk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,wk=(n,t,r)=>(Ek(n,typeof t!="symbol"?t+"":t,r),r),vh=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});class Ck extends e.Component{constructor(t,r){super(t,r),wk(this,"likesEnabled",(0,Di.default)("like_posts_enabled")),this.state={posts:null,hasMore:!0,loading:!1},this.props.notify_user&&typeof window!="undefined"&&(0,cs.ZP)(this.props.notify_user)}componentDidMount(){return vh(this,null,function*(){this.triggerShareOnLoad(),yield this.loadMore()})}getBatchSize(){return 5}loadMore(){return vh(this,null,function*(){if(!this.state.hasMore)return;(yield(0,y.stateLock)(this,"loading",r=>vh(this,[r],function*({hasMore:i,posts:s}){if(i){s=s||[];try{const k=(yield ge().get("/api/v1/posts").query({limit:this.getBatchSize(),offset:s.length})).body;s=s.concat(k),i=k.length>=this.getBatchSize(),this.makeSureIosCookiesArentBroken(k),this.setState({posts:s,hasMore:i})}catch(M){console.error(M)}return i}})))&&this.loader&&this.loader.checkVisibility()})}triggerShareOnLoad(){if((0,v.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,v.updateQuery)({action:null}));else return;this.setState({share_on_load:!0}),this.shareDialog.open()}makeSureIosCookiesArentBroken(t){if(!/iPad|iPhone|iPod/.test(navigator.userAgent)||this.props.user&&this.props.user.is_subscribed||!t||t.filter(s=>(0,Xe.isPaidAudience)(s.audience)&&!s.hidden).length===0)return;const r="__cookie_checked",i=(0,v.parseQuery)(window.location.search);i[r]||(i[r]="true",window.location.search=`?${(0,v.serializeQuery)(i)}`)}onChange({post:t}){if(t){const r=(this.state.posts||[]).map(i=>i.id).indexOf(t&&t.id);r!==-1&&(this.state.posts[r]=t,this.setState({posts:this.state.posts}))}}render({user:t,pub:r,freeSignup:i,freeSignupEmail:s,preloadedPosts:M,hide_intro_popup:k,children:j,blurbs:U,noBalanceHeroText:q},{posts:Pe,hasMore:Me,share_on_load:xe}){const Ve=[];for(const qe of Pe||M||[])qe.hidden?Array.isArray(Ve[Ve.length-1])?Ve[Ve.length-1].push(qe):Ve.push([qe]):Ve.push(qe);return(0,e.h)("div",{className:"classic-home-page"},(0,e.h)(Hl.ZP,{ref:qe=>this.shareDialog=qe,user:t,pub:r}),(0,e.h)(oe,{freeSignup:i,freeSignupEmail:s,user:t,post:null,publication:r,hidden:k||xe,blurbs:U,noBalance:q}),r&&r.subdomain==="sinocism"&&(0,e.h)("div",{className:"sinocism-hero-small"},(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"hero-text"},(0,e.h)("p",null,"Bill Bishop's Sinocism China Newsletter provides analysis, commentary and curated links to the important English and Chinese news of the day."),(0,e.h)("p",null,"Join thousands of other subscribers and gain valuable insights into China and its role in the world.")),(0,e.h)("div",{className:"hero-left"},(0,e.h)("p",{className:"review-quote"},"\u201CSinocism is the presidential daily brief for China hands.\u201D"),(0,e.h)("div",{className:"review-footer"},(0,e.h)("h3",null,"Evan Osnos"),(0,e.h)("p",null,"New Yorker correspondent and ",(0,e.h)("br",null),"National Book Award winner"))))),(0,e.h)("div",{className:"post-list"},Ve.length===0&&!Me&&(0,e.h)("div",{className:"container-border coming-soon"},(0,e.h)("div",{className:"container"},(0,e.h)("p",null,"Coming soon"))),Ve.map((qe,Ge)=>Array.isArray(qe)?this.renderHiddenPosts(qe,Ge):this.renderPost(qe,Ge)),Me?(0,e.h)("div",{className:"post-loader"},(0,e.h)("div",{className:"container"},(0,e.h)(ve,{ref:qe=>this.loader=qe,noDedupe:!0,threshold:1280,onVisible:()=>this.loadMore()},(0,e.h)("p",null,"Loading more posts\u2026")))):r.has_posts&&Pe&&Pe.length>0&&(0,e.h)("div",{className:"container"},(0,e.h)("a",{className:"archive-link button invis",href:(0,v.getBaseArchiveUrl)(r)},"View archive"))),j)}renderPost(t){return(0,e.h)("div",{className:"container-border post-list-post"},(0,e.h)("div",{className:"container"},t.type==="thread"?(0,e.h)(Gf,{post:t,user:this.props.user,pub:this.props.pub,freeSignup:this.props.freeSignup,freeSignupEmail:this.props.freeSignupEmail,invisible:!this.props.hide_intro_popup,showCta:!0,showReactions:this.likesEnabled}):(0,e.h)(uh,{post:t,user:this.props.user,freeSignup:this.props.freeSignup,freeSignupEmail:this.props.freeSignupEmail,pub:this.props.pub,invisible:!this.props.hide_intro_popup,truncateAt:1e4,truncateTo:8e3,onChange:r=>this.onChange(r),noTitleLink:!!this.props.disableInteractive,disableSubscribePrompt:!0})))}renderHiddenPosts(t,r){let i,s;return r===0?(i=t.slice(0,1),s=t.slice(1)):t.length<=3?(i=t,s=[]):(i=t.slice(0,2),s=t.slice(2)),(0,e.h)(Ok,{user:this.props.user,pub:this.props.pub,posts:i,collapsedPosts:s,onChange:M=>this.onChange(M)})}}class Ok extends e.Component{toggle(){this.state.showing?this.setState({showing:!1}):(this.state.toggled||(0,D.j)(D.FP.COLLAPSED_POSTS_SHOWN,{num_visible_posts:this.props.posts.length,num_collapsed_posts:this.props.collapsedPosts.length}),this.setState({showing:!0,toggled:!0}))}render({user:t,pub:r,posts:i,collapsedPosts:s,onChange:M},{showing:k}){return(0,e.h)("div",{className:`container-border post-list-hidden-posts ${k?"showing":""}`},(0,e.h)("div",{className:"container"},i.map(j=>(0,e.h)(Wc,{user:t,pub:r,post:j,onChange:M})),s.length>0&&(0,e.h)("div",{className:"collapse-toggle",onClick:()=>this.toggle()},k?"hide":`+${s.length} more`),s.map(j=>(0,e.h)(Wc,{className:"collapsed",user:t,pub:r,post:j,utm_source:"home",onChange:M}))))}}var Sk=wt(2405);function yh(){const n=t=>{var r,i;(t.data==="3pc.supported"||t.data==="3pc.unsupported")&&(t.data==="3pc.supported"&&Array.from(document.getElementsByClassName("tiktok-wrap outer")).forEach(M=>{const k=M.querySelector(".tiktok-iframe");k.classList.add("visible"),M.querySelector(".tiktok-wrap.static").classList.add("hidden");const j=M.querySelector(".fallback-failure");j.classList.add("no-border");try{(k.contentDocument||k.contentWindow.document).readyState=="complete"&&j.classList.add("visible")}catch(U){}k.onload=()=>{j.classList.add("visible")},k.onerror=()=>{j.classList.add("visible")},k.onabort=()=>{j.classList.add("visible")}}),(i=(r=document.getElementsByClassName("third-party-cookie-check-iframe"))==null?void 0:r.forEach)==null||i.call(r,s=>s.remove()))};return window.addEventListener("message",n),()=>{window.removeEventListener("message",n)}}function i$(){useEffect(yh,[])}var bh=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});class Tk extends e.Component{constructor(t,r){super(t,r),this.onVisible=s=>{const M=`${s} Seen`;this.state.post&&(this.state[M]||(this.setState({[M]:!0}),(0,D.j)(M,{post_id:this.state.post.id,post_audience:this.state.post.audience,post_type:this.state.post.type})))},this.fillEmbeddedEmailInputs=()=>{var s;const M=document.querySelectorAll('article.post input[type="email"]'),k=((s=this.state.user)==null?void 0:s.email)||this.props.freeSignupEmail;k&&M.forEach(j=>j.value=k),this.setState({embeddedEmailInputsFilled:!0})};const{user:i}=t;t.post?this.state={post:t.post,user:i,introText:t.introText,crossPostedPub:t.crossPostedPub,crossPostingByLine:t.crossPostingByLine,userWithCrossPostedPubContext:t.userWithCrossPostedPubContext,crossPostedPublicationSettings:t.crossPostedPublicationSettings,crossPostedSiteConfig:t.crossPostedSiteConfig}:this.state={user:i}}componentDidMount(){return bh(this,null,function*(){(0,y.scrollToHash)(),this.cleanUpTikTokEnhanceListener=yh(),this.state.post||(yield this.loadPost()),this.triggerShareOnLoad(),this.fillEmbeddedEmailInputs()})}componentWillUnmount(){var t;(t=this.cleanUpTikTokEnhanceListener)==null||t.call(this)}componentDidUpdate(t){return bh(this,null,function*(){this.state.embeddedEmailInputsFilled||this.fillEmbeddedEmailInputs()})}loadPost(){return bh(this,null,function*(){if(this.setState({embeddedEmailInputsFilled:!1}),this.props.post)this.setState({post:this.props.post},()=>(0,y.scrollToHash)());else try{const t=yield ge().get(`/api/v1/cross-posts/${this.props.post_id}`);yield(0,y.setState)(this,{post:t.body.post,introText:t.body.intro_text,crossPostedPub:t.body.crossPostedPub,crossPostingByLine:t.body.crossPostingByLine,userWithCrossPostedPubContext:t.body.userWithCrossPostedPubContext,crossPostedPublicationSettings:t.body.crossPostedPublicationSettings,crossPostedSiteConfig:t.body.crossPostedSiteConfig}),(0,y.scrollToHash)()}catch(t){console.error("Failed to load post:",t),alert((0,y.getNetworkErrorMessage)(t))}})}triggerShareOnLoad(){if((0,v.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,v.updateQuery)({action:null}));else return;this.post&&this.post.triggerShare({fromEmail:!0})}render({freeSignup:t,freeSignupEmail:r,publication:i},{post:s,user:M,introText:k,crossPostedPub:j,crossPostingByLine:U,userWithCrossPostedPubContext:q,crossPostedPublicationSettings:Pe,crossPostedSiteConfig:Me}){const xe=(s==null?void 0:s.type)==="podcast";return(0,e.h)("div",null,(0,e.h)("div",{className:u()("single-post-container")},(0,e.h)("div",{className:u()({container:!xe})},(0,e.h)("div",{className:"single-post"},(0,e.h)($f,{post:s,publication:i}),s&&Pe&&Me?(0,e.h)(Se.Iz,{settings:Pe},(0,e.h)(Ur.vC,{siteConfigs:Me},(0,e.h)(Sk.uL,{crossPost:{crossPostedPub:j}},(0,e.h)(uh,{ref:Ve=>{this.post=Ve},user:q,post:s,pub:j,freeSignup:t,freeSignupEmail:r,paywall:!1,noTitleLink:!0,onChange:Ve=>this.setState(Ve),fromPostPage:!0,crossPostInfo:{introText:k,crossPostedPub:j,crossPostingByLine:U,userWithCrossPostedPubContext:q}})))):(0,e.h)(Ly,{pub:i}))),i.has_posts?(0,e.h)("div",{className:"single-post-section"},(0,e.h)("div",{className:"container"},(0,e.h)(ve,{onVisible:()=>this.onVisible("Top Posts Footer")}),(0,e.h)(fh,{user:M,freeSignup:t,freeSignupEmail:r,pub:i,maxPosts:3,filterPosts:Ve=>Ve.id!==(s==null?void 0:s.id),stateInUrl:!0,sortTabs:Ve=>{const qe=Ve.findIndex(Ge=>Ge.id==="top");if(qe!==-1)return[Ve[qe]].concat(Ve.filter((Ge,ut)=>ut!==qe))},delayFirstLoad:1e3,source:"post",isBelowTheFold:!0}))):null))}}class Ik extends e.Component{constructor(t,r){super(t,r),this.state={freeSignup:t.freeSignup,freeSignupEmail:t.freeSignupEmail,success:!1}}componentDidMount(){(0,y.preloadImage)((0,v.imginary)("/img/substack_wordmark.png",200));const t=this.props.freeSignupEmail||this.props.user&&this.props.user.email;t&&(this.emailInput.value=t)}onPrepareData(t){this.props.pub.plans&&!this.subscribeWindow&&(this.subscribeWindow=window.open("about:blank","_blank"))}onSignup(t){this.setState({freeSignup:!0,freeSignupEmail:t.body.email}),this.subscribeWindow&&(this.subscribeWindow.location=`${this.props.pub.base_url}/subscribe?just_signed_up=true`)}onError(t){if(this.subscribeWindow){try{this.subscribeWindow.close()}catch(r){console.error("Failed to close subscribe window:",r)}this.subscribeWindow=null}}render({pub:t,user:r,no_border:i},{freeSignup:s,freeSignupEmail:M,loading:k,success:j}){const U=M||r&&r.email;return(0,e.h)("div",{className:`embed-page ${i?"no-border":""}`},(0,e.h)("div",{className:"embed-page-inner"},t.logo_url&&(0,e.h)("a",{href:`${t.base_url}/`,target:"_blank"},(0,e.h)("img",{className:"publication-logo",src:(0,v.imginary)(t.logo_url,170,{quality:"auto:best"}),alt:"Logo"})),(0,e.h)("h1",{className:`publication-name${t.logo_url?"":" no-logo"}`},(0,e.h)("a",{href:`${t.base_url}/`,target:"_blank"},(0,e.h)(Co,{text:t.name}))),(0,e.h)("p",{className:"publication-tagline"},!!t.hero_text&&(0,e.h)(Co,{text:t.hero_text})),t.invite_only?(0,e.h)(Hr.ZP,{className:"subscription-request-form",ref:q=>this.form=q,noInlineErrors:!0,action:(0,v.pathWithQuery)("/api/v1/subscription/request"),noJsAction:(0,v.pathWithQuery)("/api/v1/subscription/request",{nojs:!0}),onSuccess:()=>this.setState({success:!0}),onError:q=>{this.setState({loading:!1}),alert((0,y.getNetworkErrorMessage)(q,"Failed to request a subscription"))}},(0,e.h)("input",{type:"hidden",name:"first_url",value:l.xY}),(0,e.h)("input",{type:"hidden",name:"first_referrer",value:l.ip}),(0,e.h)("input",{type:"hidden",name:"current_url",value:l.UE}),(0,e.h)("input",{type:"hidden",name:"current_referrer",value:l.xU}),!!U&&(0,y.inputPrefillHack)(),(0,e.h)("div",{className:"sideBySideWrap"},(0,e.h)("input",{className:u()(j?"secondary":"primary"),type:"email",name:"email",ref:q=>this.emailInput=q,readOnly:!!(U||k),disabled:!!(k||j||U),autoFocus:!U&&!(0,y.isMobileBrowser)(),placeholder:"Type your email\u2026"}),(0,e.h)(Je.Z,{className:u()("rightButton",j?"secondary":"primary"),type:"submit",disabled:!!(k||j),onClick:()=>{this.setState({loading:!0})}},(0,e.h)("b",{className:"button-text"},j?"Requested":"Subscribe"))),(0,e.h)("div",{id:"error-container"})):(0,e.h)(Hs,{source:"embed",pub:t,user:r,freeSignup:s,freeSignupEmail:M,forceEmailInput:!0,onPrepareData:q=>this.onPrepareData(q),onSignup:q=>this.onSignup(q),onError:q=>this.onError(q)}),(r||s)&&(0,e.h)("p",null,(0,e.h)("span",{className:"account-info-logout"},(0,e.h)("a",{href:(0,v.getSignoutUrl)({redirect:document.location.href,for_pub:t.subdomain}),native:!0},"Sign out")))),(0,e.h)("a",{href:`${(0,v.getSubstackUrl)()}/?utm_source=embed&utm_content=${t.subdomain}`,target:"_blank"},(0,e.h)("img",{ref:q=>this.img=q,className:"substack-watermark",src:(0,v.imginary)("/img/substack_wordmark.black.png",200),onMouseEnter:()=>this.img.src=(0,v.imginary)("/img/substack_wordmark.png",200),onMouseLeave:()=>this.img.src=(0,v.imginary)("/img/substack_wordmark.black.png",200),alt:"Substack"})))}}var Dk=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const Mk=({pub:n,slug:t})=>{var r;const[i,s]=(0,o.eJ)(null);(0,o.d4)(()=>{function k(){return Dk(this,null,function*(){try{const j=yield ge().get(`/api/v1/posts/${t}`);s(j.body)}catch(j){console.error("Failed to load post:",j),j.status===404?alert("Post not found"):alert((0,y.getNetworkErrorMessage)(j))}})}k()},[t]);let M=!1;return typeof window!="undefined"&&(M=((r=(0,v.parseQuery)(window.location.href).autoplay)!=null?r:"0")==="1"),i?(0,e.h)(qu,{feature:"Podcast",pub:n,post:i,src:i.podcast_url,autoPlay:M,metricsPost:i,isFancy:!0,showCTAs:!0}):(0,e.h)("div",{className:"loading-container"})};class xk extends e.Component{render(){return(0,e.h)("div",{className:"embed-test-page"},(0,e.h)("iframe",{style:{border:"1px solid #EEE",background:"white"},width:"480",height:"320",src:"/embed",frameBorder:"0",scrolling:"no"}))}}var Ak=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const Nk=({pub:n,slug:t})=>{var r;const[i,s]=(0,o.eJ)(null);(0,o.d4)(()=>{function k(){return Ak(this,null,function*(){try{const j=yield ge().get(`/api/v1/posts/${t}`);s(j.body)}catch(j){console.error("Failed to load post:",j),j.status===404?alert("Post not found"):alert((0,y.getNetworkErrorMessage)(j))}})}k()},[t]);let M=!1;return typeof window!="undefined"&&(M=((r=(0,v.parseQuery)(window.location.href).autoplay)!=null?r:"0")==="1"),i?(0,e.h)("div",{className:"video-player-embed-container"},(0,e.h)(wl,{mediaUpload:i.videoUpload,pub:n,post:i,autoPlay:M})):(0,e.h)("div",{className:"loading-container"})};var Rk=Object.defineProperty,Lk=Object.defineProperties,kk=Object.getOwnPropertyDescriptors,Qy=Object.getOwnPropertySymbols,Bk=Object.prototype.hasOwnProperty,Uk=Object.prototype.propertyIsEnumerable,qy=(n,t,r)=>t in n?Rk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Fk=(n,t)=>{for(var r in t||(t={}))Bk.call(t,r)&&qy(n,r,t[r]);if(Qy)for(var r of Qy(t))Uk.call(t,r)&&qy(n,r,t[r]);return n},jk=(n,t)=>Lk(n,kk(t));const eb=n=>(0,e.h)(x.l,jk(Fk({},n),{name:"ChevronIcon",svgParams:{height:24,width:24,stroke:"#666666",viewBox:"0 0 24 24"}}),(0,e.h)("path",{d:"M9.88507 18.9609L15.8851 12.9609L9.88507 6.96094",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}));var Wk=Object.defineProperty,Hk=Object.defineProperties,Vk=Object.getOwnPropertyDescriptors,tb=Object.getOwnPropertySymbols,Kk=Object.prototype.hasOwnProperty,$k=Object.prototype.propertyIsEnumerable,nb=(n,t,r)=>t in n?Wk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,zk=(n,t)=>{for(var r in t||(t={}))Kk.call(t,r)&&nb(n,r,t[r]);if(tb)for(var r of tb(t))$k.call(t,r)&&nb(n,r,t[r]);return n},Gk=(n,t)=>Hk(n,Vk(t));const Zk=n=>(0,e.h)(x.l,Gk(zk({},n),{name:"DownloadIcon",svgParams:{height:32,width:32}}),(0,e.h)("rect",{width:"32",height:"32",rx:"6",fill:n.fill||"black"}),(0,e.h)("path",{d:"M23.5 18.5V21.8333C23.5 22.2754 23.3244 22.6993 23.0118 23.0118C22.6993 23.3244 22.2754 23.5 21.8333 23.5H10.1667C9.72464 23.5 9.30072 23.3244 8.98816 23.0118C8.67559 22.6993 8.5 22.2754 8.5 21.8333V18.5",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.h)("path",{d:"M11.8333 14.3335L16 18.5002L20.1667 14.3335",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.h)("path",{d:"M16 18.5V8.5",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}));var Yk=Object.defineProperty,Jk=Object.defineProperties,Xk=Object.getOwnPropertyDescriptors,rb=Object.getOwnPropertySymbols,Qk=Object.prototype.hasOwnProperty,qk=Object.prototype.propertyIsEnumerable,ob=(n,t,r)=>t in n?Yk(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,eB=(n,t)=>{for(var r in t||(t={}))Qk.call(t,r)&&ob(n,r,t[r]);if(rb)for(var r of rb(t))qk.call(t,r)&&ob(n,r,t[r]);return n},tB=(n,t)=>Jk(n,Xk(t));const nB=n=>(0,e.h)(x.l,tB(eB({},n),{name:"PanelsIcon",svgParams:{height:32,width:32}}),(0,e.h)("rect",{width:"32",height:"32",rx:"6",fill:"black"}),(0,e.h)("rect",{x:"7.19995",y:"7.2002",width:"8.49554",height:"11.8938",rx:"0.424777",fill:"white"}),(0,e.h)("rect",{opacity:"0.7",x:"7.19995",y:"19.603",width:"8.49554",height:"6.79643",rx:"0.424777",fill:"white"}),(0,e.h)("path",{opacity:"0.7",d:"M16.2048 7.62497C16.2048 7.39037 16.395 7.2002 16.6296 7.2002H20.4526C23.737 7.2002 26.3995 9.8627 26.3995 13.1471C26.3995 16.4314 23.737 19.094 20.4526 19.094H16.6296C16.395 19.094 16.2048 18.9038 16.2048 18.6692V7.62497Z",fill:"white"}));var rB=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});function oB(){var n;return typeof window!="undefined"?((n=window._preloads)==null?void 0:n.file)||{}:{}}function iB(n,t){return`${n.title.toLowerCase().replace(/\s/g,"_")}.${t.toLowerCase()}`}function aB({file:n=oB(),pub:t}){const[r,i]=(0,o.eJ)(null);return(0,o.d4)(()=>(()=>rB(this,null,function*(){if(!n.fileKey){const s=yield fetch(`/api/v1/file/entry/${window.location.pathname.split("/").pop()}`);s.redirected&&(window.location.href=s.url);const M=yield s.json();i(M)}}))(),[n.fileKey]),(0,e.h)(sB,{file:r||n,pub:t})}function sB({file:n,pub:t}){var r;if(!n.id)return(0,e.h)("div",{className:"page"},(0,e.h)("div",{className:"container"},(0,e.h)("h3",null,"Read Now"),(0,e.h)("div",{className:"popup-container"},(0,e.h)("div",{className:"overlay"}))));const i=(r=n.file_key)==null?void 0:r.split(".").pop().toUpperCase(),s=(0,Ne.numberToHumanFileSize)(n.num_bytes),M=iB(n,i);return(0,e.h)("div",{className:"page"},(0,e.h)("div",{className:"container"},(0,e.h)("span",{className:"table-list-title"},(0,e.h)("h3",null,"Read Now"),(0,e.h)("a",{className:"file-sidebar-header-button",href:`${(0,v.getBaseUrl)(t)}/p/${n.post_id}`},"Back")),(0,e.h)("div",{className:"table-list"},(0,e.h)("div",{className:"table-list-row table-list-header"},(0,e.h)("img",{className:`table-list-thumbnail ${n.thumbnail&&n.thumbnail.indexOf("/img/attachment_icon.svg")===-1?"":"default"}`,src:n.thumbnail||`${(0,v.getBaseUrl)(t)}/img/attachment_icon.svg`}),(0,e.h)("div",{className:"table-list-col"},(0,e.h)("div",{className:"table-list-h1"},n.title||"Unknown File"),(0,e.h)("div",{className:"table-list-h2"},s," \u2219 ",i," File"))),(0,e.h)("a",{className:"table-list-row table-list-item",href:`${(0,v.getBaseUrl)(t)}/api/v1/file/panels/${n.file_key}`},(0,e.h)(nB,null),(0,e.h)("span",{className:"table-list-grow"},(0,e.h)("div",{className:"table-list-h1"},"Open in Panels"),(0,e.h)("div",{className:"table-list-h2"},"Comic reader for iOS")),(0,e.h)(eb,{stroke:"#666",strokeWidth:0,isStatic:!0})),(0,e.h)("a",{className:"table-list-row table-list-item",download:M,href:`${(0,v.getBaseUrl)(t)}/api/v1/file/${n.file_key}`},(0,e.h)(Zk,null),(0,e.h)("span",{className:"table-list-grow"},(0,e.h)("div",{className:"table-list-h1"},"Download file"),(0,e.h)("div",{className:"table-list-h2"},M)),(0,e.h)(eb,{stroke:"#666",strokeWidth:0,isStatic:!0})))))}var lB=Object.defineProperty,uB=(n,t,r)=>t in n?lB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ib=(n,t,r)=>(uB(n,typeof t!="symbol"?t+"":t,r),r),cB=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});class Ph extends e.Component{constructor(){super(...arguments),ib(this,"acceptInvite",()=>cB(this,null,function*(){var t,r;try{const i=yield ge().post(`/api/v1/publication_user_invite/${this.props.matches.id}/accept`);(t=i.body)!=null&&t.postUrl?location.href=(r=i.body)==null?void 0:r.postUrl:(0,y.redirect)(`/invite-success/${this.props.matches.id}`)}catch(i){const s=(0,y.getNetworkErrorMessage)(i);this.setState({error:s})}}))}componentDidMount(){this.props.user||(0,y.redirectToLogin)()}render({pub:t,post:r,user:i,freeSignup:s,freeSignupEmail:M,inviteToPost:k,primaryEligiblePublications:j,switchAccountRedirectUrl:U},{error:q}){if(q)return(0,e.h)("div",{className:"container invite-success"},(0,e.h)("h3",null,"Error"),(0,e.h)("p",null,q));const Pe=k&&r&&r.type==="podcast",Me=Pe&&i?"Fill out your profile for your podcast appearance":Pe&&!i?"Set up your profile for your podcast appearance":k&&i?"Set up your profile":k&&!i?"Fill out your profile":`Your invite to ${t.name}`,xe=Pe?"Listeners will want to know more about you. Use your profile as a chance to express yourself.":k?"Readers will want to know more about you and even follow your writing. Use your profile as a chance to express yourself.":"Before you can accept your invite, finish setting up your profile:",Ve=k?"Update Profile & Accept Invite":"Accept Invite",qe=i?"Already a writer?":"Already have an account?",Ge=i?"Switch accounts":"Login";return(0,e.h)("div",{className:"container finish-invite"},(0,e.h)("h3",null,Me),(0,e.h)("p",null,xe),(0,e.h)(Wf._0,{pageTitle:"",user:i,freeSignup:s,freeSignupEmail:M,needsPhoto:!1,optionalPhoto:k,isPostInvite:k,primaryEligiblePublications:j,onSuccess:this.acceptInvite,text:Ve}),k&&U&&(0,e.h)("div",{className:"invite-switch-account"},qe," ",(0,e.h)("a",{href:U},Ge)))}}ib(Ph,"defaultProps",{inviteToPost:!1,primaryEligiblePublications:[]});class dB extends e.Component{renderNotAvailable(t,{time:r=!1}={}){const i=r?"this gift has expired":"all of these gifts have already been claimed";return(0,e.h)("div",{className:"container reward-page gift-reward-page"},(0,e.h)("h2",null,"All gone"),t,(0,e.h)("p",null,"Sorry, ",i,". You can still subscribe if you like."),(0,e.h)("div",{className:"signup"},(0,e.h)(ei.Z,{source:"viral_gift_none_left",pub:this.props.pub,onSuccess:()=>document.location.href="/subscribe"})))}renderForSender(){return[(0,e.h)("h3",{className:"sender-hint"},(0,e.h)("span",null,fB(this.props.user),", share this page to give your gift"),(0,e.h)("a",{className:"button twitter-button",href:this.props.viral_gift_data.tweet_link,native:!0},"Share on Twitter"))]}render({pub:t,t:r,user:i,freeSignupEmail:s,viral_gift_data:M}){const{sender_name:k,count_remaining:j,sender_id:U}=M,q=(0,Ne.getGiftValueText)(t.plans),Pe=q?` (value: ${q})`:"",Me=`Accept ${k||"your friend"}'s gift`,xe=`A three-month subscription to ${t.name}${Pe}`,Ve=(0,y.setMetaData)({title:Me,description:xe,image:t.logo_url});if(!r||!j)return this.renderNotAvailable(Ve);let qe=null;i&&i.id==U&&(qe=this.renderForSender());let Ge="",ut=s||"";i&&!qe&&(Ge=i.name,ut=i.email);const bt=`${j} left`;return(0,e.h)("div",{className:"container reward-page receive-page"},qe,Ve,(0,e.h)("h2",null,"Accept Gift Subscription"),(0,e.h)("p",null,k||"Your friend"," would like to give you a free, three-month subscription. ",Pe),(0,e.h)("p",null,(0,e.h)("b",null,bt)),(0,e.h)(Hr.ZP,{action:"/api/v1/viral_gifts/accept_gift_from_link",onSuccess:()=>document.location.href="/account/gifts/accept"},(0,e.h)("input",{type:"text",name:"name",placeholder:"Your name",value:Ge}),(0,e.h)("input",{type:"email",name:"email",placeholder:"Your email",value:ut}),(0,e.h)("input",{type:"hidden",value:r,name:"token"}),(0,e.h)("div",{id:"error-container"}),(0,e.h)("div",{className:"button-container"},(0,e.h)(Je.Z,{className:"ok-button primary",type:"submit"},"Accept Gift"))))}}function fB(n){return n.name?n.name.trim().split(/\s+/g)[0]:n.email.split("@")[0]}var hB=wt(39693),ab=wt.n(hB);const sb=({pub:n,section:t,isPodcast:r})=>{const{getExperimentVariant:i}=(0,ct.jc)();let s,M;return r&&n.podcast_title?({title:s}=Oc(n,{primaryTitleOverride:n.podcast_title}),M=n.podcast_description):t?{title:s,description:M}=Oc(n,{primaryTitleOverride:`${t.name} | ${n.name}`,primaryDescriptionOverride:t.description}):{title:s,description:M}=Oc(n,{rankingVariant:Kf(n)&&i("seo_meta_subscriber_count_x1",{onlyConsiderExposedValues:!0})||void 0}),(0,e.h)(e.Fragment,null,(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:Sd()((0,Td.hd)(n),{json:!0,isScriptContext:!0})}}),(0,y.setMetaData)({title:s,description:M}))},lb=({blurbs:n,freeSignup:t,freeSignupEmail:r,hide_intro_popup:i,isPodcast:s,noBalanceHeroText:M,pub:k,referralCode:j,showWelcome:U,user:q})=>{const Pe=(0,o.sO)(!1),Me=(0,o.sO)(null);return(0,o.d4)(()=>{(0,v.getQueryItem)("action")==="share"&&(window.history.replaceState({},document.title,(0,v.updateQuery)({action:null})),Pe.current=!0),Pe.current&&Me.current&&Me.current.open(),typeof window!="undefined"&&U&&(0,y.removeQueryParam)("showWelcome")},[U]),(0,e.h)(e.Fragment,null,(0,e.h)(Hl.ZP,{ref:xe=>Me.current=xe,pub:k,user:q}),(0,e.h)(oe,{blurbs:n,freeSignup:t,freeSignupEmail:r,hidden:i||Pe.current,isAudio:s,noBalance:M,post:null,publication:k,referralCode:j,showOnMount:U,user:q}))};var pB=wt(78718),ub=wt.n(pB),mB=Object.defineProperty,_B=Object.defineProperties,gB=Object.getOwnPropertyDescriptors,cb=Object.getOwnPropertySymbols,vB=Object.prototype.hasOwnProperty,yB=Object.prototype.propertyIsEnumerable,db=(n,t,r)=>t in n?mB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,fb=(n,t)=>{for(var r in t||(t={}))vB.call(t,r)&&db(n,r,t[r]);if(cb)for(var r of cb(t))yB.call(t,r)&&db(n,r,t[r]);return n},hb=(n,t)=>_B(n,gB(t));const pb=({noFirstImage:n,posts:t,pub:r,user:i,utm:s,onChange:M})=>{const k={pub:r,user:i,utm:s,onChange:M};return(0,e.h)(hi,hb(fb({},k),{variant:n?"two-three-two":"five-up",posts:t}))},bB=n=>(0,e.h)(pb,hb(fb({},n),{noFirstImage:!0})),PB={link:"frontend-main-home-MetaLink-module__link--b9iM0"},eu=({children:n,href:t,testid:r})=>(0,e.h)(Vt.xv.Meta,{className:PB.link,color:"pub-primary-text",as:"a",native:!0,href:t,"data-testid":r},n),EB={title:"frontend-main-home-sidebar-SidebarTitle-module__title--njy6c"},Xs=({children:n})=>(0,e.h)(Vt.xv,{className:EB.title,color:"pub-primary-text",font:"pub-headings",weight:"bold"},n),mb=({pub:n})=>(0,e.h)(Vt.gq,{justifyContent:"space-between"},(0,e.h)(Xs,null,"Most Popular"),(0,e.h)(eu,{href:(0,v.getArchiveUrl)(n,{params:{sort:"top"}})},"View all"));var wB=Object.defineProperty,CB=Object.defineProperties,OB=Object.getOwnPropertyDescriptors,_b=Object.getOwnPropertySymbols,SB=Object.prototype.hasOwnProperty,TB=Object.prototype.propertyIsEnumerable,gb=(n,t,r)=>t in n?wB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Eh=(n,t)=>{for(var r in t||(t={}))SB.call(t,r)&&gb(n,r,t[r]);if(_b)for(var r of _b(t))TB.call(t,r)&&gb(n,r,t[r]);return n},wh=(n,t)=>CB(n,OB(t));const vb=({noFirstImage:n,posts:t,topPosts:r,pub:i,user:s,utm:M,onChange:k})=>{const j={pub:i,user:s,utm:M,onChange:k},{isTablet:U,isMobile:q}=Ti();return q?null:(0,e.h)(Ja,{variant:"full-width-with-sidebar",showContentBelowOnMobile:!0},(0,e.h)(hi,wh(Eh({},j),{variant:n?"two-small-three-medium":"two-small-one-large",posts:t,flex:"grow"})),r&&(0,e.h)(Vt.tu,{gap:12},(0,e.h)(mb,{pub:i}),(0,e.h)(hi,wh(Eh({},j),{flex:"grow",variant:U?"mini-row":"one-column-list",posts:r.slice(0,U?3:5)}))))},IB=n=>(0,e.h)(vb,wh(Eh({},n),{noFirstImage:!0})),DB=({posts:n,pub:t,user:r,utm:i,onChange:s})=>n.length?(0,e.h)(Js,{pub:t,user:r,utm:i,onChange:s,variant:"mobile-hero",post:n[0]}):null;var MB=Object.defineProperty,xB=Object.defineProperties,AB=Object.getOwnPropertyDescriptors,yb=Object.getOwnPropertySymbols,NB=Object.prototype.hasOwnProperty,RB=Object.prototype.propertyIsEnumerable,bb=(n,t,r)=>t in n?MB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,LB=(n,t)=>{for(var r in t||(t={}))NB.call(t,r)&&bb(n,r,t[r]);if(yb)for(var r of yb(t))RB.call(t,r)&&bb(n,r,t[r]);return n},kB=(n,t)=>xB(n,AB(t));const Pb=({isSmall:n,posts:t,pub:r,user:i,utm:s,onChange:M})=>t.length?(0,e.h)(Ja,{variant:n?"three-column-width":"full-width"},(0,e.h)(Js,{pub:r,user:i,utm:s,onChange:M,variant:n?"jumbo-small":"jumbo",post:t[0]})):null,BB=n=>(0,e.h)(Pb,kB(LB({},n),{isSmall:!0}));var UB=Object.defineProperty,zc=Object.getOwnPropertySymbols,Eb=Object.prototype.hasOwnProperty,wb=Object.prototype.propertyIsEnumerable,Cb=(n,t,r)=>t in n?UB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,FB=(n,t)=>{for(var r in t||(t={}))Eb.call(t,r)&&Cb(n,r,t[r]);if(zc)for(var r of zc(t))wb.call(t,r)&&Cb(n,r,t[r]);return n},jB=(n,t)=>{var r={};for(var i in n)Eb.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&zc)for(var i of zc(n))t.indexOf(i)<0&&wb.call(n,i)&&(r[i]=n[i]);return r};const WB={magaziney:vb,"magazine-5":pb,newspaper:Pb},HB=n=>{var t=n,{firstPostMissingImage:r,bodyVariant:i,isMobile:s,variant:M}=t,k=jB(t,["firstPostMissingImage","bodyVariant","isMobile","variant"]);let j=WB[M];return s?j=DB:M==="newspaper"&&i==="list"?j=BB:M==="magaziney"&&r?j=IB:M==="magazine-5"&&r&&(j=bB),j?(0,e.h)(j,FB({},k)):(console.error("Component not found, add one to HomeHero"),null)};var VB=wt(7739),KB=wt.n(VB),$B=Object.defineProperty,zB=Object.defineProperties,GB=Object.getOwnPropertyDescriptors,Ob=Object.getOwnPropertySymbols,ZB=Object.prototype.hasOwnProperty,YB=Object.prototype.propertyIsEnumerable,Sb=(n,t,r)=>t in n?$B(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,JB=(n,t)=>{for(var r in t||(t={}))ZB.call(t,r)&&Sb(n,r,t[r]);if(Ob)for(var r of Ob(t))YB.call(t,r)&&Sb(n,r,t[r]);return n},XB=(n,t)=>zB(n,GB(t));const QB=n=>(0,e.h)(x.l,XB(JB({},n),{name:"PencilIcon",svgParams:{height:100,width:100}}),(0,e.h)("path",{d:"M55.3,25.6L22.5,58.4c-0.1,0.1-0.2,0.3-0.3,0.4c0,0,0,0.1-0.1,0.1c-0.1,0.1-0.1,0.3-0.2,0.4c0,0,0,0.1,0,0.1l-6.4,21.9   c-0.3,0.9,0,1.8,0.6,2.5c0.5,0.5,1.1,0.7,1.8,0.7c0.2,0,0.5,0,0.7-0.1l21.9-6.4c0,0,0.1,0,0.1,0c0.1,0,0.3-0.1,0.4-0.2   c0,0,0.1,0,0.1-0.1c0.2-0.1,0.3-0.2,0.4-0.3l32.8-32.8L55.3,25.6z M35.1,74.5l-13.5,3.9l3.9-13.5L35.1,74.5z"}),(0,e.h)("path",{d:"M62.1,18.8l-3.3,3.3l19.1,19.1l3.3-3.3c4.7-4.7,4.4-13.3-0.7-18.4C75.4,14.4,66.8,14.1,62.1,18.8z"}));var qB=Object.defineProperty,Tb=Object.getOwnPropertySymbols,eU=Object.prototype.hasOwnProperty,tU=Object.prototype.propertyIsEnumerable,Ib=(n,t,r)=>t in n?qB(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Db=(n,t)=>{for(var r in t||(t={}))eU.call(t,r)&&Ib(n,r,t[r]);if(Tb)for(var r of Tb(t))tU.call(t,r)&&Ib(n,r,t[r]);return n};const nU=({homepageLinks:n,pub:t,renderGroup:r,renderLink:i})=>{const s=KB()(n,"group"),M=$r()(Object.keys(s),k=>s[k][0].rank);return(0,e.h)(e.Fragment,null,M.map(k=>(0,e.h)(rU,{group:k,items:s[k],pub:t,newTab:!0,renderGroup:r,renderLink:i})))},rU=({group:n,items:t,newTab:r,pub:i,renderGroup:s,renderLink:M})=>{const k=[];let j=null;r&&(j="_blank",k.push("noopener")),(!i||i!=null&&i.no_follow)&&k.push("ugc nofollow");const U={rel:k.join(" "),target:j},q=(0,e.h)(e.Fragment,null,t.map(({title:Pe,url:Me,subtitle:xe,subtitleUrl:Ve,edit:qe,className:Ge})=>M?M({title:Pe,url:Me,subtitle:xe,linkProps:U}):(0,e.h)("div",{className:u()("home-right-col",Ge)},qe?(0,e.h)("div",{className:"home-right-col-editable"},(0,e.h)("a",{className:"home-right-col-title",href:Me,native:!0},Pe),(0,e.h)(Je.Z,{className:"button secondary show-on-hover",href:qe,title:"edit"},(0,e.h)(QB,{height:20,width:20,stroke:"#aaa"}))):(0,e.h)("a",Db({className:"home-right-col-title",href:Me,native:!0},U),Pe),xe&&(0,e.h)("a",Db({className:"home-right-col-sub",href:Ve||Me,native:!0},U),xe))));return s?s({title:n,links:q}):(0,e.h)("div",{className:"home-right-group"},(0,e.h)("div",{className:"home-right-group-title"},n),q)},Mb={container:"frontend-pencraft-unstable-ClickBox-module__container--Fi9JA",containerHoverLight:"frontend-pencraft-unstable-ClickBox-module__containerHoverLight--nsdj2"};var oU=Object.defineProperty,iU=Object.defineProperties,aU=Object.getOwnPropertyDescriptors,Gc=Object.getOwnPropertySymbols,xb=Object.prototype.hasOwnProperty,Ab=Object.prototype.propertyIsEnumerable,Nb=(n,t,r)=>t in n?oU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,sU=(n,t)=>{for(var r in t||(t={}))xb.call(t,r)&&Nb(n,r,t[r]);if(Gc)for(var r of Gc(t))Ab.call(t,r)&&Nb(n,r,t[r]);return n},lU=(n,t)=>iU(n,aU(t)),uU=(n,t)=>{var r={};for(var i in n)xb.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Gc)for(var i of Gc(n))t.indexOf(i)<0&&Ab.call(n,i)&&(r[i]=n[i]);return r};const cU=n=>{var t=n,{children:r,className:i,disable:s,hoverBackground:M,onClick:k}=t,j=uU(t,["children","className","disable","hoverBackground","onClick"]);const U=s?void 0:k;return(0,e.h)(Fs.xu,lU(sU({},j),{className:u()(i,!s&&Mb.container,{[Mb.containerHoverLight]:M==="light"&&!s}),role:U?"button":void 0,onClick:U}),r)};var dU=Object.defineProperty,fU=Object.defineProperties,hU=Object.getOwnPropertyDescriptors,Zc=Object.getOwnPropertySymbols,Rb=Object.prototype.hasOwnProperty,Lb=Object.prototype.propertyIsEnumerable,kb=(n,t,r)=>t in n?dU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ch=(n,t)=>{for(var r in t||(t={}))Rb.call(t,r)&&kb(n,r,t[r]);if(Zc)for(var r of Zc(t))Lb.call(t,r)&&kb(n,r,t[r]);return n},Oh=(n,t)=>fU(n,hU(t)),pU=(n,t)=>{var r={};for(var i in n)Rb.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Zc)for(var i of Zc(n))t.indexOf(i)<0&&Lb.call(n,i)&&(r[i]=n[i]);return r};const Yc=n=>{var t=n,{image:r,linkProps:i,subtitle:s,title:M,url:k}=t,j=pU(t,["image","linkProps","subtitle","title","url"]);const{size:U,lineHeight:q}=_h.sm;return(0,e.h)(cU,{hoverBackground:"light",padding:8,radius:6},(0,e.h)(Vt.gq,Oh(Ch({},j),{alignItems:"center",gap:16}),r,(0,e.h)(Vt.tu,null,(0,e.h)(Vt.xv,Oh(Ch({},i),{as:"a",color:"pub-primary-text",font:"pub-headings",href:k,lineHeight:q,size:U}),M),s&&(0,e.h)(Vt.xv.B4,Oh(Ch({},i),{as:"a",href:k,color:"pub-secondary-text",size:12}),s))))},tu=(0,e.createContext)({contributors:void 0,freeSignup:void 0,freeSignupEmail:void 0,homepageLinks:void 0,numRecommendations:void 0,recommendations:void 0}),Bb=({hideHeaderBorder:n,pub:t})=>{const{homepageLinks:r}=(0,o.qp)(tu);return!r||r.length===0?null:(0,e.h)(Vt.tu,{gap:24,"data-testid":"homepage-links"},(0,e.h)(nU,{homepageLinks:r,pub:t,renderGroup:({title:i,links:s})=>(0,e.h)(Vt.tu,{gap:16},(0,e.h)(Vt.gq,{alignItems:"center",borderBottom:n?void 0:"detail-themed",paddingBottom:n?void 0:8},(0,e.h)(Xs,null,i)),(0,e.h)(Vt.tu,{gap:4},s)),renderLink:({linkProps:i,subtitle:s,title:M,url:k})=>(0,e.h)(Yc,{linkProps:i,subtitle:s,title:M,url:k})}))},mU={container:"frontend-main-home-sidebar-SidebarEmptyState-module__container--YAmtL"},Sh=()=>(0,e.h)(Vt.xu,{paddingX:16,paddingY:20,radius:6,className:mU.container},(0,e.h)(Vt.xv.B4,{color:"pub-secondary-text"},"Coming soon"));var _U=Object.defineProperty,gU=Object.defineProperties,vU=Object.getOwnPropertyDescriptors,Ub=Object.getOwnPropertySymbols,yU=Object.prototype.hasOwnProperty,bU=Object.prototype.propertyIsEnumerable,Fb=(n,t,r)=>t in n?_U(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,PU=(n,t)=>{for(var r in t||(t={}))yU.call(t,r)&&Fb(n,r,t[r]);if(Ub)for(var r of Ub(t))bU.call(t,r)&&Fb(n,r,t[r]);return n},EU=(n,t)=>gU(n,vU(t)),jb=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const wU=(n,t,r,i,{trackOnly:s=!1}={})=>()=>jb(void 0,null,function*(){if((0,D.j)(D.FP.RECOMMENDATION_SUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:n.id,recommending_publication_id:t.id}),!s)try{yield ge().post("/api/v1/free").send({email:r.email,source:"recommendations_page",other_publication_id:n.id}),i(n)}catch(M){alert("Something went wrong")}}),CU=(n,t,r,{trackOnly:i=!1}={})=>()=>jb(void 0,null,function*(){if((0,D.j)(D.FP.RECOMMENDATION_UNSUBSCRIBE_BUTTON_CLICKED,{source:"recommendations-page",recommended_publication_id:n.id,recommending_publication_id:t.id}),!i)try{yield ge().delete("/api/v1/free").send({publication_id:n.id,source:"recommendations_page"}),r(n)}catch(s){alert("Something went wrong")}}),OU=({recommendations:n})=>{if(!n||Object.keys(n).length<=1)return n;const t=JSON.parse(JSON.stringify(n));for(let r=Object.keys(t).length-1;r>0;r--){const i=Math.floor(Math.random()*(r+1)),s=t[r];t[r]=t[i],t[i]=s}return t},SU=({pub:n,recommendations:t,allSubscribedPubs:r,fullySubscribedPubs:i,user:s})=>{const M=n.author_photo_url,k=n.author_name,[j,U]=(0,o.eJ)(r),q=xe=>{U([...j,xe])},Pe=xe=>{U(j.filter(({id:Ve})=>Ve!==xe.id))},Me=(0,sn.useMemo)(()=>OU({recommendations:t}),[t]);return(0,e.h)("div",{className:"container"},(0,e.h)("div",{className:"recommendations-page-container"},(0,e.h)("h2",null,"Recommended by ",(0,Ne.getByLine)(n)||n.name),(0,e.h)("div",{className:"recommended-publications-container"},Me.map((xe,Ve)=>{const qe=xe.recommendedPublication;if(!qe)return;const Ge=`${(0,v.getBaseUrl)(qe)}/?utm_source=recommendations_page&utm_campaign=${n.id}`,ut=(0,v.getSubscribeUrl)(qe,{addBase:!0,utm_source:"recommendations_page"}),bt=(0,Ne.getByLine)(qe),Pt=i.map(({id:At})=>At).includes(qe.id);return(0,e.h)("div",{className:"recommended-publications-text-container with-blurb"},(0,e.h)("div",{className:"recommendation-body"},(0,e.h)("div",{className:"publication-content"},(0,e.h)("div",{className:"top-row"},(0,e.h)("a",{className:"left",href:Ge,onClick:()=>{(0,D.j)(D.FP.PUBLICATION_RECOMMENDATION_LINK_CLICKED,{source:"recommendations-page",recommended_publication_id:qe.id,recommending_publication_id:n.id})}},(0,e.h)(Lr.Z,{pub:qe,size:48,logo_url:qe.logo_url||qe.author_photo_url,linkify:!1}),(0,e.h)("div",{className:"pub-meta"},(0,e.h)("div",{className:"publication-title"},qe.name),!!bt&&(0,e.h)("div",{className:"publication-author"},"By ",bt))),j.map(({id:At})=>At).includes(qe.id)?(0,e.h)(Je.Z,{onClick:CU(qe,n,Pe,{trackOnly:Pt}),href:Pt?(0,v.getPubAccountSettingsUrl)(qe,{addBase:!0}):null,className:"unsubscribe"},"Subscribed"):(0,e.h)(Je.Z,{onClick:wU(qe,n,s,q,{trackOnly:!(s!=null&&s.email)}),href:s!=null&&s.email?null:ut},"Subscribe")),(0,e.h)("div",{className:"publication-suggestion-text-area"},(qe.editorial_bio||qe.hero_text)&&(0,e.h)("div",{className:"publication-description"},qe.editorial_bio||qe.hero_text)),xe.description&&(0,e.h)(TU,{content:xe.description,author:(0,Ne.getByLine)(n)||n.name}))))}))))},TU=({author:n,content:t})=>(0,e.h)("div",{className:"blurb"},(0,e.h)("p",{className:"blurb-content"},t),(0,e.h)("p",{className:"blurb-author"},"- ",n)),IU=({recommendations:n,numRecommendations:t,pub:r,user:i,render:s,renderRecommendation:M})=>{const k=n.map(j=>(0,e.h)(DU,{recommendation:j,pub:r,signedIn:!!i,render:M}));return(0,o.d4)(()=>{(0,D.j)(D.FP.PUBLICATION_RECOMMENDATIONS_SHOWN,{source:"pub-home",recommendations:n.map(({recommendedPublication:j})=>j.id)})},[n]),s?s({recommendations:k,canManage:!!(i!=null&&i.is_admin),manageUrl:(0,v.getPublishSettingsRecommendationsUrl)(r),hasMore:t>n.length,hasMoreUrl:(0,v.getRecommendationsPageUrl)(r),recommendationsCount:t}):(0,e.h)("div",{className:"home-right-group recommendations"},(0,e.h)("div",{className:"home-right-group-title"},(0,e.h)("a",{href:(0,v.getRecommendationsPageUrl)(r)},"Recommendations"),i!=null&&i.is_admin?(0,e.h)("a",{href:(0,v.getPublishSettingsRecommendationsUrl)(r),native:!0},"Manage"):t>n.length?(0,e.h)("a",{href:(0,v.getRecommendationsPageUrl)(r),native:!0},"View all ",t):null),k)},DU=({recommendation:n,pub:t,signedIn:r,render:i})=>{const{recommendedPublication:s}=n,M=(0,v.getPubUrl)(s,{params:{utm_source:"homepage_recommendations",utm_campaign:t.id},signedIn:r}),k=()=>{(0,D.j)(D.FP.PUBLICATION_RECOMMENDATION_LINK_CLICKED,{recommending_publication_id:t.id,recommended_publication_id:s.id,source:"homepage-recommendations"})},j={pub:s,logo_url:s.logo_url,href:M,openInNewTab:!0,belowTheFold:!0};return i?i({pubIconProps:j,pubName:s.name,pubAuthor:s.author.name,url:M,onClick:k}):(0,e.h)("div",{className:"home-right-col"},(0,e.h)("div",{className:"recommendation-row"},(0,e.h)("div",{className:"left"},(0,e.h)("a",{onClick:k},(0,e.h)(Lr.Z,EU(PU({},j),{size:32}))),(0,e.h)("div",{className:"pub-meta"},(0,e.h)("a",{href:M,target:"_blank",onClick:k},s.name),(0,e.h)("div",{className:"pub-author"},s.author.name)))))},MU=IU;var xU=Object.defineProperty,AU=Object.defineProperties,NU=Object.getOwnPropertyDescriptors,Wb=Object.getOwnPropertySymbols,RU=Object.prototype.hasOwnProperty,LU=Object.prototype.propertyIsEnumerable,Hb=(n,t,r)=>t in n?xU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,kU=(n,t)=>{for(var r in t||(t={}))RU.call(t,r)&&Hb(n,r,t[r]);if(Wb)for(var r of Wb(t))LU.call(t,r)&&Hb(n,r,t[r]);return n},BU=(n,t)=>AU(n,NU(t));const Vb=({pub:n,showEmptyState:t,hideHeaderBorder:r,user:i})=>{const{numRecommendations:s,recommendations:M}=(0,o.qp)(tu);return!M||M.length===0&&!t?null:(0,e.h)(MU,{recommendations:M,numRecommendations:s,pub:n,user:i,render:({recommendations:k,canManage:j,manageUrl:U,hasMore:q,hasMoreUrl:Pe,recommendationsCount:Me})=>(0,e.h)(Vt.tu,{gap:16},(0,e.h)(Vt.gq,{alignItems:"center",justifyContent:"space-between",paddingBottom:r?void 0:8,borderBottom:r?void 0:"detail-themed"},(0,e.h)(Xs,null,"Recommendations"),j?(0,e.h)(eu,{href:U},"Manage"):q?(0,e.h)(eu,{href:Pe,testid:"homepage-recommendations-view-all"},"View all ",Me):null),(0,e.h)(Vt.tu,{gap:4,"data-testid":"homepage-recommendations"},s===0?(0,e.h)(Sh,null):k)),renderRecommendation:({url:k,onClick:j,pubIconProps:U,pubName:q,pubAuthor:Pe})=>{const Me={onClick:j,target:"_blank",rel:"noopener"};return(0,e.h)(Yc,{"data-testid":"homepage-recommendation",image:(0,e.h)(Lr.Z,BU(kU({},U),{size:40,noMargin:!0})),linkProps:Me,subtitle:Pe,title:q,url:k})}})},Kb={container:"frontend-main-home-sidebar-SidebarSubscribe-module__container--iNbOy",pubLogo:"frontend-main-home-sidebar-SidebarSubscribe-module__pubLogo--ujmr4"},$b=({pub:n,user:t})=>{const{freeSignup:r,freeSignupEmail:i}=(0,o.qp)(tu),{size:s,lineHeight:M}=_h.sm;return(0,e.h)(Vt.tu,{className:Kb.container,gap:24},(0,e.h)(Vt.tu,{gap:8},n.logo_url&&(0,e.h)("img",{"data-testid":"homepage-sidebar-pub-logo",className:Kb.pubLogo,src:(0,v.imginary)(n.logo_url,88),alt:n.name}),(0,e.h)("div",null,(0,e.h)(Vt.xv,{size:s,lineHeight:M,weight:"semibold",color:"pub-primary-text",font:"pub-headings"},n.name),n.hero_text&&(0,e.h)(Vt.xv,{size:12,lineHeight:20,color:"pub-secondary-text",font:"text"},n.hero_text))),!(t!=null&&t.is_subscribed)&&(0,e.h)(Hs,{pub:n,user:t,freeSignup:r,freeSignupEmail:i,isStatic:!1,source:"magaziney-home-page"}))},UU=({pub:n,user:t})=>{const{isMobile:r}=Ti();return(0,e.h)(Vt.tu,{gap:40},!r&&(0,e.h)($b,{pub:n,user:t}),n.show_recs_on_homepage&&(0,e.h)(Vb,{pub:n,user:t}),(0,e.h)(Bb,{pub:n}))},FU=(0,go.Z)("LayoutList",[["rect",{width:"7",height:"7",x:"3",y:"14",key:"8pmw4r"}],["rect",{width:"7",height:"7",x:"3",y:"3",key:"i95qnx"}],["line",{x1:"14",x2:"21",y1:"4",y2:"4",key:"1jpd8k"}],["line",{x1:"14",x2:"21",y1:"9",y2:"9",key:"z1w1u5"}],["line",{x1:"14",x2:"21",y1:"15",y2:"15",key:"evly31"}],["line",{x1:"14",x2:"21",y1:"20",y2:"20",key:"v5or0t"}]]);var jU=wt(71708);const nu={homePageGroupsGrid:"frontend-main-home-HomepageGroupsGrid-module__homePageGroupsGrid--PXkAL",divider:"frontend-main-home-HomepageGroupsGrid-module__divider--ER4Bl","three-column-grid":"frontend-main-home-HomepageGroupsGrid-module__three-column-grid--QWtWI","long-divider":"frontend-main-home-HomepageGroupsGrid-module__long-divider--Oskx5",emptyRowsView:"frontend-main-home-HomepageGroupsGrid-module__emptyRowsView--Py19H",emptyGroupView:"frontend-main-home-HomepageGroupsGrid-module__emptyGroupView--CMxWO",emptyContentIcon:"frontend-main-home-HomepageGroupsGrid-module__emptyContentIcon--3iM7o"};var WU=Object.defineProperty,HU=Object.defineProperties,VU=Object.getOwnPropertyDescriptors,Jc=Object.getOwnPropertySymbols,zb=Object.prototype.hasOwnProperty,Gb=Object.prototype.propertyIsEnumerable,Zb=(n,t,r)=>t in n?WU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,qa=(n,t)=>{for(var r in t||(t={}))zb.call(t,r)&&Zb(n,r,t[r]);if(Jc)for(var r of Jc(t))Gb.call(t,r)&&Zb(n,r,t[r]);return n},Qs=(n,t)=>HU(n,VU(t)),Yb=(n,t)=>{var r={};for(var i in n)zb.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Jc)for(var i of Jc(n))t.indexOf(i)<0&&Gb.call(n,i)&&(r[i]=n[i]);return r},KU=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const Xc=n=>"email_from_name"in n,$U=n=>{var t;const[r,i]=(0,o.eJ)((t=n.postsByGroupId)!=null?t:{}),[s,M]=(0,o.eJ)(!1),k=n,{posts:j,bodyPostGroups:U,hasEmptyGroupOptions:q,setHasInvalidGroupSelection:Pe}=k,Me=Yb(k,["posts","bodyPostGroups","hasEmptyGroupOptions","setHasInvalidGroupSelection"]);(0,o.d4)(()=>{const Ge=ut=>KU(void 0,null,function*(){const bt=qa({},r);for(const Pt of ut){const At={limit:6};if(Xc(Pt)?At.section_id=Pt.id:At.post_tag_id=Pt.id,!bt[Pt.id]){const{body:Lt}=yield ge().get("/api/v1/archive").query(At);bt[Pt.id]=Lt}}Ul()(bt,r)||(i(bt),M(!1))});Object.keys(r).length===0&&U&&(U==null?void 0:U.length)>0&&(M(!0),Ge(U))},[U,i,r]);const xe=(0,o.I4)(Ge=>{var ut;const bt=(ut=Ge.post_tag_id)!=null?ut:Ge.section_id;if(!bt)throw new Error("Must supply section_id or post_tag_id");r&&r[bt]||ge().get("/api/v1/archive").query(qa({limit:3},Ge)).then(({body:Pt})=>{i(Qs(qa({},r),{[bt]:Pt}))})},[r,i]),Ve=[j.slice(0,3),j.slice(3,6),j.slice(6)],qe=(0,o.I4)(Ge=>!r||r&&Object.keys(r).length===0||!r[Ge]?null:r[Ge].slice(0,3),[r]);return q||!U||(U==null?void 0:U.length)===0?Pe?(Pe(!0),(0,e.h)(Jb,{message:"No groups selected"})):(0,e.h)(Vt.tu,null,(0,e.h)(Th,{pub:n.pub}),(0,e.h)(hi,Qs(qa({},Me),{variant:"three-column-grid",posts:Ve.slice(U!=null&&U.length?U==null?void 0:U.length:0).flat()}))):(0,e.h)("div",{className:nu.homePageGroupsGrid},U.map(Ge=>{const ut=qe(Ge.id);return(0,e.h)(Vt.tu,{paddingBottom:24},(0,e.h)(Th,{pub:n.pub,row:Ge}),(0,e.h)(zU,Qs(qa({},Me),{posts:j,loadingSync:s,groupModel:Ge,postsForId:ut,setHasInvalidGroupSelection:Pe,onIntersectCallback:()=>{const bt=Xc(Ge)?{section_id:Ge.id}:{post_tag_id:Ge.id};xe(bt)}})))}),U.length<3?(0,e.h)(Vt.tu,null,(0,e.h)(Th,{pub:n.pub}),(0,e.h)(hi,Qs(qa({},Me),{variant:"three-column-grid",posts:Ve.slice(U!=null&&U.length?U==null?void 0:U.length:0).flat()}))):null)},Jb=({groupModel:n,message:t})=>(0,e.h)(Vt.xu,{paddingTop:8,paddingBottom:40},(0,e.h)(Vt.tu,{alignItems:"center",justifyContent:"center",className:u()(nu.homePageGroupsGrid,n?nu.emptyGroupView:nu.emptyRowsView)},(0,e.h)(FU,{className:nu.emptyContentIcon}),t&&(0,e.h)(Vt.xv.B4,{color:"pub-secondary-text",paddingTop:20,weight:"semi-bold"},t),n&&(0,e.h)(Vt.xv.B4,{color:"pub-secondary-text",paddingTop:4},"Add posts to this ",Xc(n)?"section":"tag"," to include it on your homepage."))),Th=({row:n,pub:t})=>{var r;const{isMobile:i}=Ti();let s="/archive";return n&&(s=Xc(n)?(0,le.getSectionUrl)(t,{section:n}):(0,le.getPostTagUrl)(t,n)),(0,e.h)(Vt.tu,{paddingBottom:12,paddingX:i?0:8},(0,e.h)(Vt.gq,{justifyContent:"space-between",alignItems:"center"},(0,e.h)(Vt.xv.H2,{color:"pub-primary-text",font:"pub-headings"},(r=n==null?void 0:n.name)!=null?r:"Recent posts"),(0,e.h)(eu,{href:s},"See all")))},zU=n=>{const t=n,{onIntersectCallback:r,groupModel:i,loadingSync:s,postsForId:M,setHasInvalidGroupSelection:k}=t,j=Yb(t,["onIntersectCallback","groupModel","loadingSync","postsForId","setHasInvalidGroupSelection"]),[U,q]=(0,jU.Z)();return(0,o.d4)(()=>{q!=null&&q.isIntersecting&&!s&&r()},[q==null?void 0:q.isIntersecting,r,s]),M?M.length===0?k?(k(!0),(0,e.h)(Jb,{groupModel:i})):(0,e.h)(hi,Qs(qa({},j),{variant:"three-column-grid",posts:j.posts.slice(0,3)})):(0,e.h)(hi,Qs(qa({},j),{variant:"three-column-grid",posts:M})):(0,e.h)(mh,{postCount:3,variant:"grid-groups",ref:U})};var GU=Object.defineProperty,ZU=Object.defineProperties,YU=Object.getOwnPropertyDescriptors,Xb=Object.getOwnPropertySymbols,JU=Object.prototype.hasOwnProperty,XU=Object.prototype.propertyIsEnumerable,Qb=(n,t,r)=>t in n?GU(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,qb=(n,t)=>{for(var r in t||(t={}))JU.call(t,r)&&Qb(n,r,t[r]);if(Xb)for(var r of Xb(t))XU.call(t,r)&&Qb(n,r,t[r]);return n},QU=(n,t)=>ZU(n,YU(t));function qU({pub:n,user:t,freeSignup:r,freeSignupEmail:i,className:s=""}){return(0,e.h)("div",{className:u()("home-sitemap",s)},(0,e.h)("h4",{className:"home-sitemap-title"},n.name),r||t&&t.is_free_subscribed?!(t&&t.is_subscribed)&&n.plans?(0,e.h)("a",{className:"button primary home-sitemap-subscribe subscribe-btn",href:(0,v.getSubscribeUrl)(n,{utm_source:"home-sitemap"}),native:!0},(0,Ne.getSubscribeText)(n)):null:(0,e.h)(Vt.xu,{paddingTop:20},(0,e.h)(ei.Z,{className:"home-sitemap-signup-form",freeSignup:r,freeSignupEmail:i,pub:n,source:"home-sitemap",user:t,onSuccess:M=>{M.body.prompt_to_login?setTimeout(()=>{document.location.href=(0,v.pathWithQuery)("/account/login",{redirect:document.location.href,email:M.body.email})},30):n.plans?document.location.href=(0,v.pathWithQuery)("/subscribe",QU(qb(qb({next:document.location.href,later:!0,just_signed_up:!0},M.body.subscription_id&&{subscription_id:M.body.subscription_id}),M.body.referral_token&&{referral_token:M.body.referral_token}),{requires_confirmation:M.body.requires_confirmation?"true":""})):document.location.reload()},onConfirmationRequired:(n==null?void 0:n.payments_state)==="enabled"?()=>null:void 0})),(0,e.h)("div",{className:"home-sitemap-links"},(0,e.h)("a",{href:(0,v.getAboutUrl)(n),native:!!n.parent_publication_id},"About"),(0,e.h)("a",{href:(0,v.getBaseArchiveUrl)(n)},"Archive"),n.has_recommendations&&(0,e.h)("a",{href:(0,v.getRecommendationsPageUrl)(n),native:!0},"Recommendations"),n.can_have_sitemap&&(0,e.h)("a",{href:(0,v.getSitemapUrl)(n),native:!0},"Sitemap")))}var eF=Object.defineProperty,tF=Object.defineProperties,nF=Object.getOwnPropertyDescriptors,eP=Object.getOwnPropertySymbols,rF=Object.prototype.hasOwnProperty,oF=Object.prototype.propertyIsEnumerable,tP=(n,t,r)=>t in n?eF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,ru=(n,t)=>{for(var r in t||(t={}))rF.call(t,r)&&tP(n,r,t[r]);if(eP)for(var r of eP(t))oF.call(t,r)&&tP(n,r,t[r]);return n},ou=(n,t)=>tF(n,nF(t));const nP=["newspaper","magaziney","magazine-5"],rP={newspaper:{id:"newspaper",label:"Feature",description:"One featured post",legacyEquivalent:"newspaper",postCount:{desktop:1,tablet:1,mobile:1}},magaziney:{id:"magaziney",label:"Newspaper",description:"A side column of top posts",legacyEquivalent:"magaziney",postCount:{desktop:3,tablet:3,mobile:1}},"magazine-5":{id:"magazine-5",label:"Magazine",description:"Five featured posts",legacyEquivalent:"magaziney",postCount:{desktop:5,tablet:3,mobile:1}}},iF=nP.map(n=>({value:n,label:rP[n].label})),f$=()=>iF,aF=nP.reduce((n,t)=>ou(ru({},n),{[t]:rP[t].postCount}),{}),oP=["list","grid","grid-groups","custom"],iP={list:{id:"list",label:"List",description:"A list of posts",postCount:{desktop:7,tablet:7,mobile:7}},grid:{id:"grid",label:"Grid",description:"A grid of nine posts",postCount:{desktop:9,tablet:9,mobile:7}},"grid-groups":{id:"grid-groups",label:"Groups (sections or tags)",description:"A grid of nine posts, grouped by section or tag",postCount:{desktop:9,tablet:9,mobile:7}},custom:{id:"custom",label:"Custom",description:"Custom layout",postCount:{desktop:0,tablet:0,mobile:0}}},sF=oP.reduce((n,t)=>ou(ru({},n),{[t]:iP[t].postCount}),{}),h$=({excludeCustom:n})=>oP.filter(t=>!n||t!=="custom").map(t=>({value:t,label:iP[t].label})),p$={subscribe:{id:"subscribe",label:"Subscribe"},recommendations:{id:"recommendations",label:"Recommendations"},links:{id:"links",label:"Links"},contributors:{id:"contributors",label:"Contributors"},podcasts:{id:"podcasts",label:"Podcasts"}},aP={posts:{min:3,default:6,max:7},rows:{min:1,default:2,max:3}},m$=n=>{let t=!1;const r=[],i={},s=new Set,M=new Set;return n.length===0&&(t=!0,r.push("You must have at least one content block")),n.forEach(k=>{const j=lF(k);s.has(j)?(t=!0,i[k.id]=ou(ru({},i[k.id]),{post_source:["You can't use the same post source more than once"]})):s.add(j),k.primary_sidebar_modules.forEach(U=>{M.has(U)?(t=!0,i[k.id]=ou(ru({},i[k.id]),{primary_sidebar_modules:["You can't use the same module more than once"]})):M.add(U)}),k.secondary_sidebar_modules.forEach(U=>{M.has(U)?(t=!0,i[k.id]=ou(ru({},i[k.id]),{secondary_sidebar_modules:["You can't use the same module more than once"]})):M.add(U)})}),{hasError:t,errorObject:{global:r.length?r:null,contentBlocks:i}}},lF=n=>n.post_source==="tag"?`tag:${n.post_tag_id}`:n.post_source==="section"?`section:${n.section_id}`:n.post_source;var uF=Object.defineProperty,cF=Object.defineProperties,dF=Object.getOwnPropertyDescriptors,Qc=Object.getOwnPropertySymbols,sP=Object.prototype.hasOwnProperty,lP=Object.prototype.propertyIsEnumerable,uP=(n,t,r)=>t in n?uF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Ih=(n,t)=>{for(var r in t||(t={}))sP.call(t,r)&&uP(n,r,t[r]);if(Qc)for(var r of Qc(t))lP.call(t,r)&&uP(n,r,t[r]);return n},Dh=(n,t)=>cF(n,dF(t)),fF=(n,t)=>{var r={};for(var i in n)sP.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&Qc)for(var i of Qc(n))t.indexOf(i)<0&&lP.call(n,i)&&(r[i]=n[i]);return r};const hF={grid:"full-width-with-sidebar","grid-groups":"full-width-with-sidebar",list:"three-column-width-with-sidebar"},pF={grid:"three-column-grid",list:"two-column-list"},mF={grid:"full-width","grid-groups":"full-width",list:"three-column-width"},_F=n=>{var t=n,{freeSignup:r,freeSignupEmail:i,hideImagesFromList:s,posts:M,pub:k,showSiteMap:j,source:U,user:q,utm:Pe,variant:Me,onChange:xe,bodyPostGroups:Ve,postsByGroupId:qe}=t,Ge=fF(t,["freeSignup","freeSignupEmail","hideImagesFromList","posts","pub","showSiteMap","source","user","utm","variant","onChange","bodyPostGroups","postsByGroupId"]);const{breakpoint:ut}=Ti(),bt=sF[Me][ut],Pt=Me==="list"&&(s||M.slice(0,bt).every(At=>!At.cover_image));return(0,e.h)(e.Fragment,null,(0,e.h)(Ja,{variant:hF[Me],showContentBelowOnMobile:!0},(0,e.h)(Hc,Dh(Ih({},Ge),{maxPosts:bt,newPosts:M,pub:k,user:q,variant:Me}),({posts:At,linkToComments:Lt,onClickPost:Dt})=>{const Ht={hideImages:Pt,linkToComments:Lt,posts:At,pub:k,source:U,user:q,utm:Pe,onChange:xe,onClickPost:Dt};return Me==="grid-groups"?(0,e.h)($U,Dh(Ih({},Ht),{bodyPostGroups:Ve,postsByGroupId:qe,setHasInvalidGroupSelection:Ge.setHasInvalidGroupSelection,hasEmptyGroupOptions:Ge.hasEmptyGroupOptions})):(0,e.h)(hi,Dh(Ih({},Ht),{variant:pF[Me]}))}),(0,e.h)(UU,{pub:k,user:q})),j&&(0,e.h)(Ja,{variant:mF[Me]},(0,e.h)(qU,{pub:k,user:q,freeSignup:r,freeSignupEmail:i})))},gF={container:"frontend-main-home-content_blocks-ContentBlockEmptyState-module__container--FYIsx"},Mh=()=>(0,e.h)(Vt.xu,{paddingX:16,paddingY:48,radius:6,className:gF.container},(0,e.h)(Vt.xv.B4,{color:"pub-secondary-text",textAlign:"center"},"No posts found")),xh=({title:n,viewAllUrl:t})=>{const{isMobile:r}=Ti();return(0,e.h)(Vt.gq,{alignItems:"baseline",justifyContent:"space-between",paddingBottom:r?12:16},r?(0,e.h)(Xs,null,n):(0,e.h)(Vt.xv.H2,{color:"pub-primary-text",font:"pub-headings"},n),t&&(0,e.h)(eu,{href:t},"View all"))},iu={container:"frontend-main-home-LayoutHalfHalf-module__container--UpdiU",column:"frontend-main-home-LayoutHalfHalf-module__column--xDXwf",left:"frontend-main-home-LayoutHalfHalf-module__left--GzFMe",right:"frontend-main-home-LayoutHalfHalf-module__right--IS8pD"},vF=({leftContent:n,rightContent:t,mobileContent:r})=>{const{isMobile:i}=Ti();return i&&r?r:(0,e.h)("div",{className:iu.container},(0,e.h)("div",{className:u()(iu.column,iu.left)},n),(0,e.h)("div",{className:u()(iu.column,iu.right)},t))},yF=({posts:n,pub:t,showEmptyState:r,title:i,user:s,viewAllUrl:M,onChange:k})=>{const{isTablet:j}=Ti();return!r&&n.length===0?null:(0,e.h)(e.Fragment,null,(0,e.h)(xh,{title:i,viewAllUrl:M}),n.length?(0,e.h)(vF,{leftContent:(0,e.h)(Js,{imageAspectRatio:"wide",hideWash:!0,post:n[0],pub:t,user:s,variant:"large",onChange:k}),rightContent:(0,e.h)(hi,{posts:n.slice(1,4),pub:t,user:s,variant:j?"one-column-list":"two-column-list",onChange:k}),mobileContent:(0,e.h)(hi,{posts:n.slice(0,4),pub:t,user:s,variant:"two-column-list",onChange:k})}):(0,e.h)(Mh,null))},Sa={outerContainer:"frontend-main-home-LayoutColumns-module__outerContainer--qy4d2",container:"frontend-main-home-LayoutColumns-module__container--H9Z5Z",column:"frontend-main-home-LayoutColumns-module__column--wj9tn",column1:"frontend-main-home-LayoutColumns-module__column1--t4q5a",column2:"frontend-main-home-LayoutColumns-module__column2--XTexX",column3:"frontend-main-home-LayoutColumns-module__column3--xV51Q",column4:"frontend-main-home-LayoutColumns-module__column4--mmZnX"},Ah=({leftContent:n,mainContent:t,rightContent:r,stretchToFullWidth:i})=>{const{isMobile:s,isTablet:M,isDesktop:k}=Ti(),j=n&&r;let U=2;return i&&(k?U=4-(n?1:0)-(r?1:0):M&&(U=3-(n||r?1:0))),s&&(U=1),(0,e.h)("div",{className:Sa.outerContainer},(0,e.h)("div",{className:Sa.container},n&&(0,e.h)(Vt.xu,{className:u()(Sa.column,Sa.column1),borderRight:j?"detail-themed":void 0,paddingTop:8},n),(0,e.h)(Vt.xu,{className:u()(Sa.column,{[Sa.column2]:U===2,[Sa.column3]:U===3,[Sa.column4]:U===4}),borderRight:j?"detail-themed":void 0},t),r&&(0,e.h)(Vt.xu,{className:u()(Sa.column,Sa.column1),paddingTop:8},r)))};var bF=wt(8400),PF=wt.n(bF);const au={postRow:"frontend-main-home-PostsGrid-module__postRow--IK5v4",postContainer:"frontend-main-home-PostsGrid-module__postContainer--cSdz5",postContainerTwoColumn:"frontend-main-home-PostsGrid-module__postContainerTwoColumn--sSPsj",postContainerThreeColumn:"frontend-main-home-PostsGrid-module__postContainerThreeColumn--S7iyT",postContainerFourColumn:"frontend-main-home-PostsGrid-module__postContainerFourColumn--eIjBf"},EF=({posts:n,pub:t,numColumns:r,user:i,onChange:s})=>{const M=PF()(n,r);return(0,e.h)(Vt.tu,{gap:16},M.map(k=>(0,e.h)(Vt.gq,{className:au.postRow},k.map(j=>(0,e.h)("div",{className:u()(au.postContainer,{[au.postContainerTwoColumn]:r===2,[au.postContainerThreeColumn]:r===3,[au.postContainerFourColumn]:r===4})},(0,e.h)(Js,{post:j,pub:t,user:i,variant:"square",onChange:s}))))))},wF=()=>{const{contributors:n}=(0,o.qp)(tu);return n?(0,e.h)(Vt.tu,{gap:16},(0,e.h)(Xs,null,"Contributors"),(0,e.h)(Vt.tu,{gap:4},n.length?n.map(t=>(0,e.h)(Yc,{image:t.photo_url?(0,e.h)($u,{imageUrl:t.photo_url,size:"md"}):void 0,title:t.name,url:"#"})):(0,e.h)(Sh,null))):null},Nh={logo:"frontend-main-home-sidebar-PodcastArt-module__logo--NMNSr","logo-64":"frontend-main-home-sidebar-PodcastArt-module__logo-64--zEi9Z","logo-72":"frontend-main-home-sidebar-PodcastArt-module__logo-72--COwbG"},CF=({altText:n="Podcast logo",size:t=64,url:r})=>(0,e.h)("img",{className:u()(Nh.logo,{[Nh["logo-64"]]:t===64,[Nh["logo-72"]]:t===72}),src:(0,v.imginary)(r,t*2),alt:n}),OF=({pub:n})=>{const t=(0,Wl.FV)(n);return(0,e.h)(Vt.tu,{gap:16},(0,e.h)(Xs,null,"Podcasts"),(0,e.h)(Vt.tu,{gap:4},t.length?t.map(r=>(0,e.h)(Yc,{image:r.podcast_art_url?(0,e.h)(CF,{size:64,url:r.podcast_art_url,altText:`Logo for ${r.title}`}):void 0,title:r.title,url:r.url})):(0,e.h)(Sh,null)))};var SF=Object.defineProperty,cP=Object.getOwnPropertySymbols,TF=Object.prototype.hasOwnProperty,IF=Object.prototype.propertyIsEnumerable,dP=(n,t,r)=>t in n?SF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,DF=(n,t)=>{for(var r in t||(t={}))TF.call(t,r)&&dP(n,r,t[r]);if(cP)for(var r of cP(t))IF.call(t,r)&&dP(n,r,t[r]);return n};const es=({ids:n,pub:t,user:r})=>{const i=ab()(n.map(s=>s==="subscribe"?(0,e.h)($b,{pub:t,user:r}):s==="recommendations"?(0,e.h)(Vb,{pub:t,user:r,showEmptyState:!0,hideHeaderBorder:!0}):s==="links"?MF(Bb,{pub:t,hideHeaderBorder:!0}):s==="contributors"?(0,e.h)(wF,null):s==="podcasts"?(0,e.h)(OF,{pub:t}):null));return(0,e.h)(Vt.tu,null,i.map((s,M)=>(0,e.h)(e.Fragment,null,s,M<i.length-1&&(0,e.h)(Nl,null))))},MF=(n,t)=>{const r=(0,e.h)(n,DF({},t));return typeof r.type=="function"&&r.type(t)===null?null:r},xF=({numRows:n,posts:t,pub:r,showEmptyState:i,sidebarLeft:s,sidebarRight:M,title:k,user:j,viewAllUrl:U,onChange:q})=>{const{isDesktop:Pe,isTablet:Me}=Ti();if(!i&&t.length===0)return null;const xe=s&&s.length>0,Ve=M&&M.length>0;let qe,Ge,ut;Pe?(qe=xe?(0,e.h)(es,{ids:s,pub:r,user:j}):void 0,Ge=Ve?(0,e.h)(es,{ids:M,pub:r,user:j}):void 0,ut=4-(Ve?1:0)-(xe?1:0)):Me?Ve?(Ge=(0,e.h)(es,{ids:[...M,...s!=null?s:[]],pub:r,user:j}),ut=2):xe?(qe=(0,e.h)(es,{ids:s,pub:r,user:j}),ut=2):ut=3:ut=1;const bt=ut*n,Pt=(0,e.h)(e.Fragment,null,(0,e.h)(xh,{title:k,viewAllUrl:U}),t.length?(0,e.h)(EF,{posts:t.slice(0,bt),pub:r,user:j,numColumns:ut,onChange:q}):(0,e.h)(Mh,null));return(0,e.h)(Ah,{mainContent:Pt,leftContent:qe,rightContent:Ge,stretchToFullWidth:!0})},AF=({numPosts:n,posts:t,pub:r,showEmptyState:i,sidebarLeft:s,sidebarRight:M,title:k,user:j,viewAllUrl:U,onChange:q})=>{const{isTablet:Pe,isDesktop:Me}=Ti();if(!i&&t.length===0)return null;const xe=s&&s.length>0,Ve=M&&M.length>0;let qe,Ge;const ut=(0,e.h)(e.Fragment,null,(0,e.h)(xh,{title:k,viewAllUrl:U}),t.length?(0,e.h)(hi,{posts:t.slice(0,n),pub:r,user:j,variant:"two-column-list",onChange:q}):(0,e.h)(Mh,null));return Me?(qe=xe?(0,e.h)(es,{ids:s,pub:r,user:j}):void 0,Ge=Ve?(0,e.h)(es,{ids:M,pub:r,user:j}):void 0):Pe&&(Ve?Ge=(0,e.h)(es,{ids:[...M,...s!=null?s:[]],pub:r,user:j}):xe&&(qe=(0,e.h)(es,{ids:s,pub:r,user:j}))),(0,e.h)(Ah,{mainContent:ut,leftContent:qe,rightContent:Ge})},NF=({contentBlock:n,posts:t,pub:r,showEmptyState:i,title:s,user:M,viewAllUrl:k,onChange:j})=>{var U,q;return n.block_type==="list"?(0,e.h)(AF,{numPosts:(U=n.num_posts)!=null?U:aP.posts.default,posts:t,pub:r,sidebarLeft:n.secondary_sidebar_modules,sidebarRight:n.primary_sidebar_modules,showEmptyState:i,title:s,user:M,viewAllUrl:k,onChange:j}):n.block_type==="grid"?(0,e.h)(xF,{numRows:(q=n.num_rows)!=null?q:aP.rows.default,posts:t,pub:r,sidebarLeft:n.secondary_sidebar_modules,sidebarRight:n.primary_sidebar_modules,showEmptyState:i,title:s,user:M,viewAllUrl:k,onChange:j}):n.block_type==="feature"?(0,e.h)(yF,{posts:t,pub:r,showEmptyState:i,title:s,user:M,viewAllUrl:k,onChange:j}):null},RF=()=>(0,e.h)(Vt.xu,{paddingBottom:120},(0,e.h)(Ah,{mainContent:(0,e.h)(mh,{animated:!1,postCount:4,variant:"list"}),leftContent:(0,e.h)("div",null,"\xA0"),rightContent:(0,e.h)("div",null,"\xA0")})),LF=({contentBlocks:n,postsBySectionId:t,postsByTagId:r,postTagsById:i,pub:s,recentPosts:M,sectionsById:k,showEmptyStates:j,user:U,onChange:q})=>(0,e.h)(Vt.tu,{paddingBottom:40},n.length||!j?n.map((Pe,Me)=>{var xe,Ve;let qe=[],Ge="",ut;if(Pe.post_source==="latest")qe=M,Ge="Recent posts",ut=(0,v.getBaseArchiveUrl)(s);else if(Pe.post_source==="section"&&Pe.section_id){const bt=k[Pe.section_id];qe=(xe=t[Pe.section_id])!=null?xe:[],Ge=bt.name,ut=(0,le.getSectionUrl)(s,{section:bt})}else if(Pe.post_source==="tag"&&Pe.post_tag_id){const bt=i[Pe.post_tag_id];qe=(Ve=r[Pe.post_tag_id])!=null?Ve:[],Ge=bt==null?void 0:bt.name,ut=(0,le.getPostTagUrl)(s,bt)}return(0,e.h)(e.Fragment,null,(0,e.h)("div",{id:`block-${Pe.id}`,style:{scrollMarginTop:48}},(0,e.h)(NF,{key:Pe.id,contentBlock:Pe,posts:qe,pub:s,showEmptyState:j,title:Ge,user:U,viewAllUrl:ut,onChange:q})),Me<n.length-1&&(0,e.h)(Nl,null))}):(0,e.h)(RF,null));var kF=Object.defineProperty,BF=Object.defineProperties,UF=Object.getOwnPropertyDescriptors,qc=Object.getOwnPropertySymbols,fP=Object.prototype.hasOwnProperty,hP=Object.prototype.propertyIsEnumerable,pP=(n,t,r)=>t in n?kF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,FF=(n,t)=>{for(var r in t||(t={}))fP.call(t,r)&&pP(n,r,t[r]);if(qc)for(var r of qc(t))hP.call(t,r)&&pP(n,r,t[r]);return n},jF=(n,t)=>BF(n,UF(t)),WF=(n,t)=>{var r={};for(var i in n)fP.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&qc)for(var i of qc(n))t.indexOf(i)<0&&hP.call(n,i)&&(r[i]=n[i]);return r};const HF=n=>{var t=n,{columns:r=4,posts:i,pub:s}=t,M=WF(t,["columns","posts","pub"]);const{isMobile:k}=Ti();return k?null:(0,e.h)(Ja,{variant:r===3?"three-column-width":"full-width"},(0,e.h)(Vt.tu,{gap:12},(0,e.h)(mb,{pub:s}),(0,e.h)(hi,jF(FF({},M),{pub:s,posts:i,variant:r===3?"three-column-mini-row":"mini-row"}))))},ed={container:"frontend-main-home-ModularHome-module__container--u5zRH",bodyContainer:"frontend-main-home-ModularHome-module__bodyContainer--UX7ez","container--empty":"frontend-main-home-ModularHome-module__container--empty--aO2aD"};var VF=Object.defineProperty,KF=Object.defineProperties,$F=Object.getOwnPropertyDescriptors,td=Object.getOwnPropertySymbols,mP=Object.prototype.hasOwnProperty,_P=Object.prototype.propertyIsEnumerable,gP=(n,t,r)=>t in n?VF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,zF=(n,t)=>{for(var r in t||(t={}))mP.call(t,r)&&gP(n,r,t[r]);if(td)for(var r of td(t))_P.call(t,r)&&gP(n,r,t[r]);return n},GF=(n,t)=>KF(n,$F(t)),ZF=(n,t)=>{var r={};for(var i in n)mP.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&td)for(var i of td(n))t.indexOf(i)<0&&_P.call(n,i)&&(r[i]=n[i]);return r};const YF="modular-home-posts",JF=n=>{var t;const r=n,{alwaysShowActions:i,bodyPostGroups:s,contentBlocks:M,contributors:k,freeSignup:j,freeSignupEmail:U,homepageLinks:q,numRecommendations:Pe,postsByGroupId:Me,postsBySectionId:xe,postsByTagId:Ve,postTagsById:qe,pub:Ge,recommendations:ut,sectionsById:bt,showEmptyStates:Pt,showSiteMap:At,theme:Lt,user:Dt,utm:Ht}=r,on=ZF(r,["alwaysShowActions","bodyPostGroups","contentBlocks","contributors","freeSignup","freeSignupEmail","homepageLinks","numRecommendations","postsByGroupId","postsBySectionId","postsByTagId","postTagsById","pub","recommendations","sectionsById","showEmptyStates","showSiteMap","theme","user","utm"]),{posts:hn,topPosts:an,onChange:mn}=mw(ub()(n,["newPosts","pinnedPosts","topPosts"])),{breakpoint:rr,isMobile:Gn}=Ti();if(hn.length===0)return(0,e.h)(XF,null);const Vn=hn[0],_n=an==null?void 0:an.filter(cr=>!Vn||cr.id!==Vn.id),jn=!((t=hn[0])!=null&&t.cover_image);let _r=aF[Lt.home_hero][rr];jn&&["magaziney","magazine-5"].includes(Lt.home_hero)&&["desktop","tablet"].includes(rr)&&(_r+=2);let nr=Lt.home_hero;hn.length<_r+1&&(nr="newspaper",_r=1);const qn=["newspaper","feature"].includes(nr)&&Lt.home_posts==="list",Rn=hn.length>=_r+1,Bn=Rn?hn.slice(_r):hn;return(0,e.h)(Vy.Provider,{value:{alwaysShowActions:i}},(0,e.h)(tu.Provider,{value:{contributors:k,freeSignup:j,freeSignupEmail:U,homepageLinks:q,numRecommendations:Pe,recommendations:ut}},(0,e.h)(Vt.tu,{className:ed.container},(0,e.h)(Vt.tu,{gap:32,paddingTop:!Rn&&Gn?24:0},Rn&&(0,e.h)(HB,{firstPostMissingImage:jn,bodyVariant:Lt.home_posts,isMobile:Gn,posts:hn.slice(0,_r),pub:Ge,topPosts:_n,user:Dt,utm:Ht,variant:nr,onChange:mn}),Lt.home_show_top_posts&&_n&&nr!=="magaziney"&&Rn&&(0,e.h)(HF,{columns:qn?3:4,posts:_n,pub:Ge,user:Dt,utm:Ht,onChange:mn})),(0,e.h)(Vt.tu,{className:ed.bodyContainer,id:YF},Rn&&(0,e.h)(Nl,{numColumns:qn?3:4}),(0,e.h)("div",{id:"home-body",style:{scrollMarginTop:48}},Lt.home_posts!=="custom"&&(0,e.h)(_F,GF(zF({},on),{freeSignup:j,freeSignupEmail:U,hideImagesFromList:Lt.hide_images_from_list,posts:Bn,pub:Ge,showSiteMap:At,source:`${Lt.home_hero}-${Lt.home_posts}-home`,user:Dt,utm:Ht,variant:Lt.home_posts,onChange:mn,bodyPostGroups:s,postsByGroupId:Me,hasEmptyGroupOptions:n.hasEmptyGroupOptions})),Lt.home_posts==="custom"&&M&&xe&&Ve&&qe&&bt&&(0,e.h)(LF,{contentBlocks:M,postsBySectionId:xe,postsByTagId:Ve,postTagsById:qe,pub:Ge,recentPosts:Bn,sectionsById:bt,showEmptyStates:Pt,user:Dt,onChange:mn}))))))},XF=()=>(0,e.h)(Vt.tu,{className:u()(ed.container,ed["container--empty"]),alignItems:"center",justifyContent:"center"},"Coming Soon");var QF=Object.defineProperty,qF=Object.defineProperties,ej=Object.getOwnPropertyDescriptors,nd=Object.getOwnPropertySymbols,vP=Object.prototype.hasOwnProperty,yP=Object.prototype.propertyIsEnumerable,bP=(n,t,r)=>t in n?QF(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,tj=(n,t)=>{for(var r in t||(t={}))vP.call(t,r)&&bP(n,r,t[r]);if(nd)for(var r of nd(t))yP.call(t,r)&&bP(n,r,t[r]);return n},nj=(n,t)=>qF(n,ej(t)),rj=(n,t)=>{var r={};for(var i in n)vP.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&nd)for(var i of nd(n))t.indexOf(i)<0&&yP.call(n,i)&&(r[i]=n[i]);return r};const oj=n=>{var t=n,{blurbs:r,contentBlocks:i,contentBlockPostTagsById:s,contentBlockSectionsById:M,contributors:k,freeSignup:j,freeSignupEmail:U,hasEmptyGroupOptions:q,hide_intro_popup:Pe,noBalanceHeroText:Me,notify_user:xe,numRecommendations:Ve,pinnedPosts:qe,pub:Ge,recommendations:ut,referralCode:bt,showEmptyStates:Pt,showWelcome:At,user:Lt,postTags:Dt,postsByGroupId:Ht,postsBySectionId:on,postsByTagId:hn,sections:an}=t,mn=rj(t,["blurbs","contentBlocks","contentBlockPostTagsById","contentBlockSectionsById","contributors","freeSignup","freeSignupEmail","hasEmptyGroupOptions","hide_intro_popup","noBalanceHeroText","notify_user","numRecommendations","pinnedPosts","pub","recommendations","referralCode","showEmptyStates","showWelcome","user","postTags","postsByGroupId","postsBySectionId","postsByTagId","sections"]),rr;(0,o.d4)(()=>{xe&&typeof window!="undefined"&&(0,cs.ZP)(xe)},[xe]);const Gn=!!(qe&&qe.length>0),Vn=ab()((rr=Ge.theme.body_post_groups)==null?void 0:rr.map(_n=>{var jn,_r,nr,qn;return _n.tag_id?(_r=(jn=_n.post_tag)!=null?jn:Dt==null?void 0:Dt.find(Rn=>Rn.id===_n.tag_id))!=null?_r:null:_n.section_id&&(qn=(nr=_n.section)!=null?nr:an==null?void 0:an.find(Rn=>Rn.id===_n.section_id))!=null?qn:null}));return(0,e.h)("div",{className:"home-page home-page--modular"},(0,e.h)(sb,{pub:Ge}),(0,e.h)(JF,nj(tj({},mn),{alwaysShowActions:!1,bodyPostGroups:Vn,contentBlocks:i,contributors:k,freeSignup:j,freeSignupEmail:U,hasEmptyGroupOptions:q,numRecommendations:Ve,pinnedPosts:qe,postsByGroupId:Ht,postsBySectionId:on,postsByTagId:hn,postTagsById:s,pub:Ge,recommendations:ut,sectionsById:M,showEmptyStates:!!Pt,showSiteMap:Gn,theme:Ge.theme,user:Lt})),(0,e.h)(lb,{blurbs:r,freeSignup:j,freeSignupEmail:U,hide_intro_popup:Pe,noBalanceHeroText:Me,pub:Ge,referralCode:bt,showWelcome:At,user:Lt}))},ij={logo:"frontend-main-home-SectionHeader-module__logo--k74v2"},PP=({logoUrl:n,name:t,description:r})=>(0,e.h)(Vt.tu,{gap:12,paddingTop:32,paddingBottom:24},n&&(0,e.h)("img",{className:ij.logo,src:(0,v.imginary)(n,72*2),alt:t}),(0,e.h)(Vt.xv.H1,{font:"pub-headings",color:"pub-primary-text"},t),(0,e.h)(Vt.xv.B3,{color:"pub-secondary-text"},r)),aj={container:"frontend-main-home-SectionPage-module__container--W1M1c"},Rh=({blurbs:n,freeSignup:t,freeSignupEmail:r,hide_intro_popup:i,isPodcast:s,newPosts:M,noBalanceHeroText:k,notify_user:j,pinnedPosts:U,pub:q,referralCode:Pe,search:Me,section:xe,sort:Ve,showWelcome:qe,user:Ge,utm:ut})=>{var bt,Pt;if((0,o.d4)(()=>{j&&typeof window!="undefined"&&(0,cs.ZP)(j)},[j]),!xe&&!s)return console.warn("Should be either a section or podcast or both"),null;let At=null;return s&&(At=xe?(0,dl.getSectionPodcastSettings)({pub:q,section:xe}):(0,dl.getPubPodcastSettings)({pub:q})),(0,e.h)("div",{className:u()("home-page",aj.container)},(0,e.h)(sb,{pub:q,section:xe,isPodcast:s}),At?(0,e.h)(PP,{name:(bt=At.title)!=null?bt:"",description:(Pt=At.description)!=null?Pt:"",logoUrl:At.artUrl}):xe&&(0,e.h)(PP,{name:xe.name,description:xe.description,logoUrl:xe.logo_url}),(0,e.h)(Nl,null),(0,e.h)(Hc,{isPodcast:s,maxPosts:7,newPosts:M,pinnedPosts:U,pub:q,search:Me,sectionId:xe==null?void 0:xe.id,sort:Ve,user:Ge,variant:"list"},({posts:Lt,linkToComments:Dt,onClickPost:Ht})=>(0,e.h)(hi,{hideImages:q.theme.hide_images_from_list,linkToComments:Dt,posts:Lt,pub:q,showSectionPins:!0,user:Ge,utm:ut,variant:"two-column-list",onChange:()=>{},onClickPost:Ht})),(0,e.h)(lb,{blurbs:n,freeSignup:t,freeSignupEmail:r,hide_intro_popup:i,isPodcast:s,noBalanceHeroText:k,pub:q,referralCode:Pe,showWelcome:qe,user:Ge}))};var sj=Object.defineProperty,lj=(n,t,r)=>t in n?sj(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,EP=(n,t,r)=>(lj(n,typeof t!="symbol"?t+"":t,r),r),wP=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});class uj extends e.Component{constructor(){super(...arguments),EP(this,"state",{loading:!0,invites:[]}),EP(this,"onSuccess",()=>wP(this,null,function*(){alert("Invite sent!"),document.location.reload()}))}componentDidMount(){if(!this.hasInvites()){(0,y.redirectToAccount)(this.props.pub);return}this.loadInvites()}hasInvites(){const{pub:t,user:r}=this.props;return t.invite_only?r&&r.is_contributor?!0:!(!(t.subscriber_invites>0)||!(r&&r.is_subscribed)):!1}loadInvites(){return wP(this,null,function*(){try{const t=yield ge().get("/api/v1/publication/invite");this.setState({invites:t.body,loading:!1})}catch(t){console.error("Failed to fetch invites:",t),alert((0,y.getNetworkErrorMessage)(t))}})}render({pub:t,user:r},{loading:i,invites:s}){if(!this.hasInvites())return(0,e.h)("p",{className:"main-loader"},"Loading\u2026");const M=r&&r.is_contributor,k=Math.max(r&&r.invites,s.length),j=Math.max(k,t.subscriber_invites),U=j-k;return(0,e.h)("div",{className:"invite-page page"},(0,e.h)("div",{className:"container"},(0,e.h)("h3",null,"Your invites"),(0,e.h)("p",null,t.name," is invite-only, but you\u2019ve been granted"," ",M?"an infinite number of invites":(0,Ne.pluralize)(j,"invite")," to give out."),(U>0||M)&&[!M&&(0,e.h)("h5",null,"You have ",(0,Ne.pluralize)(U,"invite")," left"),(0,e.h)(Hr.ZP,{ref:q=>this.form=q,action:"/api/v1/publication/invite",onSuccess:this.onSuccess,noInlineErrors:!0},(0,e.h)("div",{className:"sideBySideWrap"},(0,e.h)("input",{type:"text",name:"name",placeholder:"Name\u2026"}),(0,e.h)("input",{type:"text",name:"email",placeholder:"Email\u2026"}),(0,e.h)(Je.Z,{type:"submit",className:"primary"},"Invite")),(0,e.h)("div",{id:"error-container"}))],i&&k>0?(0,e.h)("p",null,(0,e.h)("br",null),"Loading\u2026"):s.length>0?[(0,e.h)("h5",null,"Used invites"),(0,e.h)("ul",null,s.sort((q,Pe)=>new Date(Pe.created_at)-new Date(q.created_at)).map(q=>(0,e.h)("li",null,q.inviteeUser&&q.inviteeUser.name||""," on"," ",Tr()(q.created_at).standardDate())))]:null))}}function cj({pub:n,post:t}){return(0,e.h)(me.tu,{alignItems:"center",className:"container",gap:32},(0,e.h)(me.tu,{alignItems:"center",gap:4},(0,e.h)(me.tu,{paddingTop:24,paddingBottom:16},(0,e.h)(J.xv.H1,null,"You rejected your invite to ",n.name)),(0,e.h)(J.xv.B3,null,"If you change your mind, you can accept from your email invitation."),t.is_published?(0,e.h)(J.xv.B3,null,"Your byline has been removed from this post: ",(0,e.h)("a",{href:(0,v.getPostUrl)(n,t)},t.title)):null),(0,e.h)(zr.zx,{href:n.base_url},`Go to ${n.name}`))}function dj({pub:n,user:t,post:r,freeSignup:i,freeSignupEmail:s}){const M=(0,o.sO)(null),k=()=>M.current&&M.current.open();if(!r)return(0,e.h)(me.tu,{paddingTop:32},(0,e.h)("div",{className:"container invite-success"},(0,e.h)("p",null,"You accepted your invite to ",n.name,"."),(0,e.h)("p",null,"If you need admin access, ask your inviter to change your status in the publication settings."),(0,e.h)("p",null,"If you expect to be shown on this publication's author list, make sure your"," ",(0,e.h)(Or.Z,{onClick:k},"profile is up to date")),(0,e.h)(Wf.EB,{ref:M,user:t,freeSignup:i,freeSignupEmail:s,needsPhoto:!0})));const j=r.type==="podcast"?"We\u2019ll let you know when the podcast episode goes live":"We\u2019ll let you know when your guest post is live",U="Your profile is set up and good to go!";return(0,e.h)(me.tu,{alignItems:"center",className:"container",gap:32},(0,e.h)(me.tu,{alignItems:"center",gap:4},(0,e.h)(me.tu,{paddingTop:24,paddingBottom:16},(0,e.h)(J.xv.H1,null,j)),(0,e.h)(J.xv.B3,null,U)),(0,e.h)(zr.zx,{href:n.base_url},`Go to ${n.name}`))}const fj=(0,go.Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var hj=wt(78041),pj=(n=>(n.feedCtaDismissKey="feed-dashboard-cta.dismissed",n.publicationNotesTabAnnouncement="pub-notes-tab-announcement.dismissed",n.createChatInviteDraft2CtaKey="create-chat-invite-draft-2.dismissed",n.createChatInviteDraftCtaKey="create-chat-invite-draft.dismissed",n.newDashboardAnnouncement="new-dashboard-announcement.dismissed",n.enablePaid="enable-paid.dismissed",n.chatEnableReaderParticipation="chat-enable-reader-participation.dismissed",n))(pj||{}),mj=(n=>(n.post="post",n))(mj||{}),_j=(n=>(n.DIRECT_EMAIL="direct_email",n.POST_REPLY="post_reply",n))(_j||{}),gj=(n=>(n.SENT="sent",n.REJECTED="rejected",n.NEEDS_REVIEW="needs_review",n.FAILED="failed",n))(gj||{});const vj={rewardBox:"frontend-components-referrals-RewardBox-module__rewardBox--kM6__"},yj=({isSelected:n,tier:t})=>(0,e.h)(me.tu,{className:vj.rewardBox,border:"detail-themed",radius:12,justifyContent:"space-between",alignItems:"center",flex:"grow",paddingTop:{desktop:20,mobile:20},paddingBottom:{desktop:8,mobile:8},paddingX:{desktop:8,mobile:8},textAlign:"center",sizing:"border-box",style:{borderColor:n?"var(--color-accent-themed)":void 0}},(0,e.h)(me.gq,{gap:4,alignItems:"center"},new Array(t.display_order).fill(0).map(()=>(0,e.h)(z1,{size:20,fill:"var(--color-accent-themed)",stroke:"var(--color-accent-themed)"}))),(0,e.h)(J.xv.H4,{weight:"bold",font:"pub-headings",color:"pub-primary-text"},t.reward_type==="custom"?t.reward_description:s_[t.reward_type]),(0,e.h)(J.xv.Meta,{weight:"semibold",style:{color:n?"var(--color-accent-themed)":void 0}},n?"You're here!":`${t.num_referrals_required} Referrals`)),ra={wrapper:"frontend-main-leaderboard-module__wrapper--AadCn",headerWrapper:"frontend-main-leaderboard-module__headerWrapper--f9bYD",copyLinkInput:"frontend-main-leaderboard-module__copyLinkInput--c5HVz",copyLinkButton:"frontend-main-leaderboard-module__copyLinkButton--QU9vO",shareButton:"frontend-main-leaderboard-module__shareButton--b9Eiq",referrerRow:"frontend-main-leaderboard-module__referrerRow--k8_kA",referrerRowInverted:"frontend-main-leaderboard-module__referrerRowInverted--I94_a",referrerLink:"frontend-main-leaderboard-module__referrerLink--Wzn16",responsiveHeader:"frontend-main-leaderboard-module__responsiveHeader--ZuruO",shareButtons:"frontend-main-leaderboard-module__shareButtons--G9JHR"};var bj=Object.defineProperty,Pj=Object.defineProperties,Ej=Object.getOwnPropertyDescriptors,CP=Object.getOwnPropertySymbols,wj=Object.prototype.hasOwnProperty,Cj=Object.prototype.propertyIsEnumerable,OP=(n,t,r)=>t in n?bj(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,SP=(n,t)=>{for(var r in t||(t={}))wj.call(t,r)&&OP(n,r,t[r]);if(CP)for(var r of CP(t))Cj.call(t,r)&&OP(n,r,t[r]);return n},TP=(n,t)=>Pj(n,Ej(t)),Oj=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const Lh=(n,t)=>{(0,D.j)(D.FP.SHARE_LINK_CLICKED,{name:t,source:"leaderboard"}),n&&(n.startsWith("http")?window.open(n,"_blank"):document.location.href=n)},IP=({user:n,rank:t,referrals:r,isSelf:i,isHighlighted:s})=>(0,e.h)(J.xv,{as:n?"a":"div",href:n?(0,le.getProfileUrlById)(n.id,n.name):void 0,className:ra.referrerLink},(0,e.h)(me.gq,{sizing:"border-box",style:{width:"100%"},alignItems:"center",border:i||s?"detail-themed":"transparent",radius:12,paddingLeft:12,paddingY:i?16:8,paddingRight:20,justifyContent:"space-between",className:u()(ra.referrerRow,{[ra.referrerRowInverted]:!i})},(0,e.h)(me.gq,{gap:8,alignItems:"center"},(0,e.h)(J.xv.Digit,{weight:"semibold",paddingRight:4,color:"primary-themed"},t,"."),n?(0,e.h)(la.Ct,{subject:n,dontStopPropagation:!1},(0,e.h)(Bs.qE,{size:36,user:n})):(0,e.h)(Bs.qE,{size:36,showProfileHovercard:!1}),(0,e.h)(J.xv.B4,{color:"primary-themed",weight:"semibold"},(n==null?void 0:n.name)||"Anonymous Reader")),(0,e.h)(J.xv.B4,{color:"primary-themed",weight:"semibold"},r))),Sj=({pub:n,user:t})=>{const r=(0,ti.pm)(),{result:i,isLoading:s,refetch:M}=(0,so.ib)({pathname:"/api/v1/reader_referrals/leaderboard",auto:!0}),{refetch:k}=(0,so.Q1)({auto:!1,pathname:"/api/v1/subscription/visibilities",method:"post"});if((0,o.d4)(()=>{!s&&!i&&(0,y.redirect)((0,le.getBaseUrl)(n))},[i,s,n]),s||!i)return(0,e.h)("div",{className:"page typography signup-page"},(0,e.h)("div",{className:"container"}));const{current_user_stats:j,tiers:U,top_referrers:q,current_user_can_share:Pe,current_user_id:Me,current_user_profile_hidden:xe}=i,Ve=t==null?void 0:t.is_admin,qe=t==null?void 0:t.is_contributor,Ge=(0,v.getQueryItem)("referrer_token"),ut=(0,le.pathWithQuery)((0,le.getBaseUrl)(n),{r:(Me==null?void 0:Me.toString(36))||Ge});let bt,Pt;U.find((Lt,Dt)=>{const Ht=(j==null?void 0:j.referrals)||0,on=U[Dt+1];Ht>=Lt.num_referrals_required&&(!on||Ht<on.num_referrals_required)&&(bt=Lt,Pt=on)});let At="";return!bt&&j?At=`You have ${j.referrals} referrals \u2014 only ${U[0].num_referrals_required-j.referrals} more referrals to earn your first reward!`:bt&&Pt&&j?At=`You\u2019ve referred ${j.referrals} readers! You\u2019ve qualified for the Tier ${bt.display_order} reward. Invite ${Pt.num_referrals_required-j.referrals} more readers to earn the Tier ${Pt.display_order} reward!`:bt&&!Pt&&j&&(At=`You\u2019ve referred ${j.referrals} readers! You\u2019re number #${j.rank} on the leaderboard.`),(0,e.h)("div",{className:"page typography signup-page"},(0,e.h)("div",{className:"container"},(0,e.h)(me.tu,{gap:64,className:ra.wrapper},(Ve||qe)&&(0,e.h)(me.tu,{border:"detail-themed",gap:16,paddingX:24,paddingY:16,radius:12},(0,e.h)(me.tu,{gap:4},(0,e.h)(J.xv.Meta,{color:"pub-primary-text"},Ve?"Admin View":"Contributor View"),(0,e.h)(J.xv.B4,{color:"pub-secondary-text"},Ve?"A view of your leaderboard as it appears to your subscribers. Note: As an admin your referrals will not appear on the leaderboard.":"A view of your leaderboard as it appears to your subscribers. Note: As a contributor your referrals will not appear on the leaderboard.")),Ve&&(0,e.h)(zr.zx,{priority:"secondary-theme",outline:"none",href:"/publish/settings#referrals",localNavigation:!1},"Edit Referral Settings")),(0,e.h)(me.tu,{alignItems:"center"},(0,e.h)(me.tu,{gap:24,className:ra.headerWrapper,alignItems:"center"},(0,e.h)(Fs.xu,null,(0,e.h)(xd.F,{pub:n,size:64})),(0,e.h)(me.tu,{alignItems:"center",gap:4},(0,e.h)(J.xv,{className:ra.responsiveHeader,font:"pub-headings",color:"pub-primary-text",textAlign:"center"},Pe||Ge?`Refer friends to ${n.name}`:`Subscribe and invite friends to ${n.name}`),(0,e.h)(J.xv.B3,{color:"pub-secondary-text",textAlign:"center",className:ra.introText},"Show your support by sharing ",n.name," and earn rewards for your referrals.")),!Pe&&!Ge&&!(qe||Ve)&&(0,e.h)(me.tu,{style:{width:"100%"}},(0,e.h)(zr.zx,{grow:!0,priority:"primary-theme",href:(0,le.pathWithQuery)("/subscribe",{next:(0,le.getLeaderboardUrl)(n,void 0,{addBase:!0})}),localNavigation:!1},"Subscribe")))),(Pe||qe||Ve||Ge)&&(0,e.h)(me.tu,{alignItems:"center",gap:16,style:{width:"100%"}},(0,e.h)(me.gq,{style:{width:"100%"}},(0,e.h)(Vt.oi,{className:ra.copyLinkInput,readOnly:!0,value:ut}),(0,e.h)(zr.zx,{className:ra.copyLinkButton,priority:"primary-theme",onClick:()=>{(0,D.j)(D.FP.SHARE_LINK_CLICKED,{name:"copy",source:"leaderboard"}),(0,y.copyToClipboard)(ut),r.popToast(Lt=>(0,e.h)(ti.FN,TP(SP({},Lt),{Icon:Il.Z,text:"Link copied to clipboard"})))}},"Copy link")),(0,e.h)(me.hs,{className:ra.shareButtons,gap:{desktop:16,mobile:8},style:{width:"100%"}},(0,e.h)(zr.zx,{className:ra.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(br.Z,{width:18,height:18,style:{paddingTop:2}}),onClick:()=>Lh((0,le.pathWithQuery)("https://twitter.com/share",{url:ut,text:n.name}),"twitter")},"Twitter"),(0,e.h)(zr.zx,{className:ra.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(hj.Z,{height:20,width:20}),onClick:()=>Lh((0,le.pathWithQuery)("https://www.facebook.com/sharer/sharer.php",{u:ut}),"facebook")},"Facebook"),(0,e.h)(zr.zx,{className:ra.shareButton,priority:"secondary-theme",leftIcon:(0,e.h)(H1,{strokeWidth:1,height:20,width:20,style:{paddingTop:2}}),onClick:()=>Lh((0,le.pathWithQuery)("mailto:",{subject:n.name,body:ut}),"email")},"Email"))),(0,e.h)(me.tu,{alignItems:"start",textAlign:"left",style:{width:"100%"},gap:16},(0,e.h)(J.xv.H3,{font:"pub-headings",color:"pub-primary-text"},"Rewards and Progress"),(0,e.h)(me.gq,{gap:{desktop:16,mobile:12},style:{width:"100%"}},U.map(Lt=>(0,e.h)(yj,{key:Lt.display_order,tier:Lt,isSelected:Lt.display_order===(bt==null?void 0:bt.display_order)}))),Pe&&j&&(0,e.h)(me.tu,{gap:8,style:{width:"100%"},textAlign:"center"},(0,e.h)(IP,{user:t,isSelf:!0,referrals:j.referrals,rank:j.rank}),!xe&&(0,e.h)(J.xv.B4,{color:"pub-secondary-text"},At),xe&&(0,e.h)(me.gq,{sizing:"border-box",style:{width:"100%"},alignItems:"center",border:"detail-themed",radius:12,paddingX:12,paddingY:16,justifyContent:"space-between",bg:"secondary",gap:32},(0,e.h)(me.tu,{textAlign:"left",gap:4},(0,e.h)(J.xv.B4,{weight:"semibold",color:"pub-primary-text"},"Your subscription is private"),(0,e.h)(J.xv.B4,{color:"pub-secondary-text"},"To appear on the leaderboard, turn on visibility for ",n.name)),(0,e.h)(zr.zx,{fill:"outline",priority:"primary-theme",onClick:()=>Oj(void 0,null,function*(){yield k({body:{ids:[i.current_user_subscription_id],visibility:"public"}}),M(),r.popToast(Lt=>(0,e.h)(ti.FN,TP(SP({},Lt),{text:`${n.name} is now visible on your profile!`})))})},"Show on profile")))),(0,e.h)(me.tu,{alignItems:"start",textAlign:"left",style:{width:"100%"},gap:16},(0,e.h)(J.xv.H3,{font:"pub-headings",color:"pub-primary-text"},"Leaderboard"),(q==null?void 0:q.length)===0&&(0,e.h)(me.tu,{alignItems:"center",justifyContent:"center",textAlign:"center",paddingX:48,sizing:"border-box",style:{width:"100%",minHeight:350},gap:4,border:"detail-themed",radius:12},(0,e.h)(fj,{size:22,stroke:"var(--color-secondary-themed)"}),(0,e.h)(J.xv.B4,{color:"pub-secondary-text"},`No referrers yet. Be the first on ${n.name}'s leaderboard by helping them find new readers.`)),(q==null?void 0:q.length)>0&&(0,e.h)(me.tu,{gap:8,style:{width:"100%"}},(0,e.h)(me.gq,{alignItems:"center",style:{width:"100%"},justifyContent:"space-between",paddingBottom:2},(0,e.h)(J.xv.Meta,{weight:"semibold"},"Referrer"),(0,e.h)(J.xv.Meta,{weight:"semibold"},"Referrals")),q==null?void 0:q.map(Lt=>(0,e.h)(IP,{key:Lt.rank,user:Lt.user,isHighlighted:Lt.isCurrentUser,rank:Lt.rank,referrals:Lt.referrals})))))))},Tj=(0,go.Z)("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Ij=(0,go.Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Xi={button:"frontend-main-meetings-index-module__button--wsD2q",avatarWithPubLogo:"frontend-main-meetings-index-module__avatarWithPubLogo--y0aPR",avatar:"frontend-main-meetings-index-module__avatar--PXkDJ",pubLogo:"frontend-main-meetings-index-module__pubLogo--uZbq7",displayedBadge:"frontend-main-meetings-index-module__displayedBadge--iRT2H",pubIcon:"frontend-main-meetings-index-module__pubIcon--gVPS8",offer:"frontend-main-meetings-index-module__offer--CSaPR",unavailable:"frontend-main-meetings-index-module__unavailable--tuv9T",description:"frontend-main-meetings-index-module__description--hbU6r",check:"frontend-main-meetings-index-module__check--f6G_J",disabledCheck:"frontend-main-meetings-index-module__disabledCheck--A1ds_",originalPrice:"frontend-main-meetings-index-module__originalPrice--QstfM",closeButton:"frontend-main-meetings-index-module__closeButton--jdnTH",closeIcon:"frontend-main-meetings-index-module__closeIcon--yvID4"},DP=({pub:n})=>{const t=()=>{const r=(0,v.getQueryItem)("referrer"),i=r!=null?r:(0,v.getPubUrl)(n);(0,y.redirect)(i,{local_navigation:!1})};return(0,e.h)(zr.hU,{onClick:t,className:Xi.closeButton,size:40,fill:"outline",priority:"secondary"},(0,e.h)(Ls.Z,{className:Xi.closeIcon}))},qs=({pub:n,user_id:t,user_profile_photo_url:r,children:i})=>(0,Di.getConfigFor)("meetings_embed_publication_name")?(0,e.h)(me.tu,{gap:20,alignItems:"center",paddingTop:32},(0,e.h)(xd.F,{className:Xi.pubLogo,pub:n,size:112}),i):(0,e.h)(me.tu,{gap:20,alignItems:"center",paddingTop:32},(0,e.h)("div",{className:Xi.avatarWithPubLogo},(0,e.h)(Bs.qE,{className:Xi.avatar,user:{id:t,photo_url:r},size:112}),(n.logo_url||n.cover_photo_url)&&(0,e.h)(xd.F,{className:Xi.pubIcon,pub:n,size:40})),i),Dj=({pub:n,user:t,settings:r})=>{var i,s,M,k;const{selected_event_type:{price:j,subscriber_price:U,founding_price:q,currency:Pe,description_html:Me,duration:xe,num_availabilities:Ve},user_name:qe}=r;let Ge=j,ut=null;((s=(i=n.plans)==null?void 0:i.length)!=null?s:0>0)&&(t!=null&&t.is_subscribed&&U&&(Ge=U,ut="SUBSCRIBER DISCOUNT"),t!=null&&t.is_founding&&q&&(Ge=q,ut=`${(M=(0,Ea.getFoundingTierName)(n)||"FOUNDING")==null?void 0:M.toUpperCase()} DISCOUNT`)),(0,o.d4)(()=>{var Dt,Ht;(0,D.j)(D.FP.MEETING_PAGE_VIEWED,{publication_id:n.id,user_id:t.id,referrer:(Dt=(0,v.getQueryItem)("referrer"))!=null?Dt:null,source:(Ht=(0,v.getQueryItem)("source"))!=null?Ht:null})},[]);const bt=(k=(0,v.getQueryItem)("referrer"))!=null?k:void 0,Pt=(0,v.updateQuery)("/meetings/book",{referrer:bt}),At=Ve>0,Lt=Me?{__html:Me.replace(/<br>/g,"")}:{__html:""};return(0,e.h)(e.Fragment,null,(0,e.h)(DP,{pub:n}),(0,e.h)(me.tu,{style:{minHeight:"100vh"},bg:"secondary",alignItems:"center",justifyContent:"center"},(0,e.h)(me.tu,{paddingX:24,gap:32,style:{width:400,maxWidth:"100%",boxSizing:"border-box"}},(0,e.h)(qs,{pub:n,user_id:r.user_id,user_profile_photo_url:r.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(J.xv.H2,{align:"center",size:20},"Book a meeting with"),(0,e.h)(J.xv.H2,{align:"center",paddingTop:4},(0,Di.getConfigFor)("meetings_embed_publication_name")?n.name:qe))),(0,e.h)(me.tu,{bg:"primary",className:u()(Xi.offer,{[Xi.unavailable]:!At}),radius:12,shadow:"xl",padding:20},ut&&(0,e.h)("div",{className:Xi.displayedBadge},ut),(0,e.h)(me.gq,{justifyContent:"space-between",paddingBottom:16},(0,e.h)(me.tu,null,Ge&&Pe&&xe&&(0,e.h)(e.Fragment,null,(0,e.h)(J.xv.H3,{color:At?"primary":"secondary"},xe,"-minute meeting"),(0,e.h)(J.xv.B4,{color:At?"primary":"secondary",paddingTop:4},Ge<j&&(0,e.h)("span",{className:Xi.originalPrice},(0,Ne.centsToPriceString)(j,Pe)),(0,Ne.centsToPriceString)(Ge,Pe)," \xB7"," ",At?Ve>50?"Many availabilities":`${(0,Ne.pluralize)(Ve,"slot")} available this month`:"No slots available in the next week"))),At?(0,e.h)(Tj,{className:Xi.check,size:28}):(0,e.h)(Ij,{size:28,className:Xi.disabledCheck})),(0,e.h)(J.xv.B4,{color:"secondary"},(0,e.h)("div",{className:Xi.description,dangerouslySetInnerHTML:Lt}))),(0,e.h)(zr.zx,{className:Xi.button,disabled:!At,grow:!0,localNavigation:!1,href:Pt},At?"Continue to book":"No meetings available"))))},MP={meetingDetails:"frontend-main-meetings-MeetingDetails-module__meetingDetails--kw2Rc"};var Mj=Object.defineProperty,xj=Object.defineProperties,Aj=Object.getOwnPropertyDescriptors,xP=Object.getOwnPropertySymbols,Nj=Object.prototype.hasOwnProperty,Rj=Object.prototype.propertyIsEnumerable,AP=(n,t,r)=>t in n?Mj(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,Lj=(n,t)=>{for(var r in t||(t={}))Nj.call(t,r)&&AP(n,r,t[r]);if(xP)for(var r of xP(t))Rj.call(t,r)&&AP(n,r,t[r]);return n},kj=(n,t)=>xj(n,Aj(t));const Bj=(n,t,r)=>{var i,s,M,k,j,U,q,Pe,Me,xe,Ve,qe,Ge,ut,bt,Pt,At,Lt,Dt,Ht,on,hn,an,mn,rr,Gn,Vn,_n,jn,_r,nr,qn,Rn;return!((i=n.location)!=null&&i.location)&&!((s=n.location)!=null&&s.join_url)?t&&r?{href:(0,le.getMeetingOrderUrl)(r,n.id,{addBase:!0}),label:"View here"}:{href:null,label:"Processing..."}:{zoom:{href:(M=n.location)==null?void 0:M.join_url,copyContent:(k=n.location)==null?void 0:k.join_url,label:"Join Zoom"},zoom_conference:{href:(j=n.location)==null?void 0:j.join_url,copyContent:(U=n.location)==null?void 0:U.join_url,label:"Join Zoom"},google:{href:(q=n.location)==null?void 0:q.join_url,copyContent:(Pe=n.location)==null?void 0:Pe.join_url,label:"Join Meet"},google_conference:{href:(Me=n.location)==null?void 0:Me.join_url,copyContent:(xe=n.location)==null?void 0:xe.join_url,label:"Join Meet"},inbound_call:{href:`tel:${(Ve=n.location)==null?void 0:Ve.location}`,copyContent:(qe=n.location)==null?void 0:qe.location,label:(Ge=n.location)==null?void 0:Ge.location},outbound_call:{href:null,label:`${(0,Ne.guessFirstName)(n.user_name)} will call you at ${(ut=n.location)==null?void 0:ut.location}`},microsoft_teams:{href:(bt=n.location)==null?void 0:bt.join_url,copyContent:(Pt=n.location)==null?void 0:Pt.join_url,label:"Join Teams"},microsoft_teams_conference:{href:(At=n.location)==null?void 0:At.join_url,copyContent:(Lt=n.location)==null?void 0:Lt.join_url,label:"Join Teams"},webex:{href:(Dt=n.location)==null?void 0:Dt.join_url,copyContent:(Ht=n.location)==null?void 0:Ht.join_url,label:"Join Webex"},webex_conference:{href:(on=n.location)==null?void 0:on.join_url,copyContent:(hn=n.location)==null?void 0:hn.join_url,label:"Join Webex"},gotomeeting:{href:(an=n.location)==null?void 0:an.join_url,copyContent:(mn=n.location)==null?void 0:mn.join_url,label:"Join GoToMeeting"},gotomeeting_conference:{href:(rr=n.location)==null?void 0:rr.join_url,copyContent:(Gn=n.location)==null?void 0:Gn.join_url,label:"Join GoToMeeting"},physical:{href:null,label:(_n=(Vn=n.location)==null?void 0:Vn.location)!=null?_n:"Unknown"},ask_invitee:{href:null,label:(_r=(jn=n.location)==null?void 0:jn.location)!=null?_r:"Unknown"},custom:{href:null,label:(qn=(nr=n.location)==null?void 0:nr.location)!=null?qn:"Unknown"}}[(Rn=n.location)==null?void 0:Rn.type]||{}},Uj=({order:n,isStatic:t=!1,pub:r=null})=>{const i=(0,ti.pm)(),{href:s,label:M,copyContent:k}=Bj(n,t,r),j=(0,e.h)(J.xv.B3,{align:"right"},s?(0,e.h)("a",{href:s},M):M);return t||!k?j:(0,e.h)(me.gq,{gap:4,alignItems:"center"},j,(0,e.h)(zr.hU,{size:24,onClick:()=>{(0,y.copyToClipboard)(k),i.popToast(U=>(0,e.h)(ti.FN,kj(Lj({},U),{Icon:fl.Z,text:"Invite link copied"})))}},(0,e.h)(Id,{height:20})))},Fj=({order:n,pub:t})=>{const r=Tr()(n.start_time),i=Tr()(n.end_time),s=`${r.format("MMMM D, YYYY")} at ${r.format("h:mm A z")}`,M=i.diff(r,"minute");return(0,e.h)(me.tu,{gap:8,className:MP.meetingDetails},(0,e.h)(me.gq,{justifyContent:"space-between",gap:8},(0,e.h)(J.xv.B3,{weight:"bold"},"Time"),(0,e.h)(J.xv.B3,null,s)),(0,e.h)(me.gq,{justifyContent:"space-between",gap:8},(0,e.h)(J.xv.B3,{weight:"bold"},"Length"),(0,e.h)(J.xv.B3,null,M," minutes")),(0,e.h)(me.gq,{justifyContent:"space-between",alignItems:"center",gap:8},(0,e.h)(J.xv.B3,{weight:"bold"},"Location"),(0,e.h)(Uj,{order:n,pub:t})),(0,e.h)(J.xv.B3,{align:"center",className:MP.description,paddingTop:16},(0,e.h)("i",null,n.description)))},jj=({booking:n,settings:t,pub:r})=>{const i=(0,Di.getConfigFor)("meetings_embed_publication_name")?r.name:n.user_name;return n.cancelled_at?(0,e.h)(e.Fragment,null,(0,e.h)(qs,{pub:r,user_id:t.user_id,user_profile_photo_url:t.user_profile_photo_url},(0,e.h)(J.xv.H2,{align:"center"},"Your meeting with ",i," has been cancelled")),n.cancellation_reason&&(0,e.h)(e.Fragment,null,(0,e.h)(J.xv.B3,{align:"center",paddingBottom:16},"The author provided the following reason:"),(0,e.h)(J.xv.B4,{align:"center",paddingBottom:32},n.cancellation_reason)),n.refunded_at&&(0,e.h)(J.xv.B3,{align:"center"},"A refund has been issued to your original form of payment."),t.enabled&&(0,e.h)(J.xv.B3,{align:"center",paddingBottom:16},(0,e.h)(e.Fragment,null,"You can book another meeting"," ",(0,e.h)("a",{href:(0,le.getMeetingsUrl)(r,{params:{source:"cancellation-rebook"}})},"here"),"."))):(0,e.h)(e.Fragment,null,(0,e.h)(qs,{pub:r,user_id:t.user_id,user_profile_photo_url:t.user_profile_photo_url},(0,e.h)(J.xv.H2,{align:"center"},"Your meeting with ",i," has been ",n.num_rebookings>0?"rebooked":"booked")),(0,e.h)(me.tu,{gap:16,alignItems:"center"},(0,e.h)(Fj,{order:n,pub:r}),(0,e.h)(J.xv.B4,{align:"center"},"A confirmation of your booking has been emailed to you."),n.refunded_at&&(0,e.h)(J.xv.B4,{align:"center"},"A refund has been issued to your original form of payment."),(0,e.h)(zr.zx,{onClick:()=>{const s=(0,v.getQueryItem)("referrer"),M=s!=null?s:(0,v.getPubUrl)(r);(0,y.redirect)(M,{local_navigation:!1})}},"Done")))};var kh=wt(44043);const Wj=(0,go.Z)("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),ws={dragArea:"frontend-pencraft-FilePicker-module__dragArea--LGGe6",dragActive:"frontend-pencraft-FilePicker-module__dragActive--C8WhV",text:"frontend-pencraft-FilePicker-module__text--k5tBg",icon:"frontend-pencraft-FilePicker-module__icon--y8qlT",browse:"frontend-pencraft-FilePicker-module__browse--Q1jvI",file:"frontend-pencraft-FilePicker-module__file--iTNSV"};var NP=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const Hj=({onFileSelected:n,dragCTA:t="Drag file here",dropCTA:r=(0,e.h)("a",{className:ws.browse,href:"javascript:void(0)"},"browse"),acceptableTypes:i,dropEvent:s,pickEvent:M,loading:k,className:j,multiple:U=!1,addMode:q=!1})=>{const[Pe,Me]=(0,o.eJ)(!1),xe=(0,o.sO)(),Ve=ut=>{ut.preventDefault(),Me(!0)},qe=ut=>{ut.preventDefault(),Me(!1)},Ge=ut=>NP(void 0,null,function*(){var bt,Pt,At,Lt;ut.preventDefault(),s&&(0,D.j)(s),Me(!1);let Dt,Ht;if(((Pt=(bt=ut.dataTransfer)==null?void 0:bt.items)==null?void 0:Pt.length)>0){const on=Array.from(ut.dataTransfer.items);for(const hn of on)if(hn.kind!=="file"){alert("Please only drag files!");return}Dt=ut.dataTransfer.items[0].getAsFile(),Ht=on.map(hn=>hn.getAsFile())}else if(((Lt=(At=ut.dataTransfer)==null?void 0:At.files)==null?void 0:Lt.length)>0)Dt=ut.dataTransfer.files[0],Ht=ut.dataTransfer.files;else{alert("Something went wrong!");return}U?yield n(Ht):yield n(Dt)});return(0,e.h)(e.Fragment,null,(0,e.h)("div",{className:u()(ws.dragArea,j,{[ws.dragActive]:Pe,"test-drag-active":Pe}),onDragEnter:Ve,onDragOver:Ve,onDragLeave:qe,onDrop:Ge,onClick:()=>xe.current.click(),"aria-label":"File Picker"},q?(0,e.h)(dp,{size:20,className:ws.icon}):(0,e.h)(Wj,{size:32,className:ws.icon}),(0,e.h)("p",{className:ws.text},k?"Loading...":Pe?"Release to upload":q?"Add another image":(0,e.h)(e.Fragment,null,t," or ")),k?null:r),(0,e.h)("input",{className:u()(ws.file,"file-picker-input"),ref:xe,type:"file",name:"file",accept:i,multiple:U,onInput:ut=>NP(void 0,null,function*(){M&&(0,D.j)(M);const bt=ut.target.files;bt&&bt[0]&&(U?yield n(bt):yield n(bt[0]))})}))},Vj={label:"frontend-pencraft-unstable-InputGroup-module__label--_DuZI"},RP=({className:n,children:t,detail:r,label:i,alignment:s="vertical",error:M=!1})=>{const k=s==="vertical"?Kj:$j;return(0,e.h)(k,{className:n,detail:r,error:M,label:i},sn.Children.map(t,j=>(0,sn.isValidElement)(j)?(0,e.cloneElement)(j,{error:M}):j))},Kj=({children:n,className:t,detail:r,error:i,label:s})=>(0,e.h)(me.tu,{className:t,gap:8,justifyContent:"start"},(0,e.h)("label",null,(0,e.h)(J.xv.B4,{weight:"semibold",as:"div",color:i?"error":"primary",paddingBottom:8},s),n),r&&(0,e.h)(LP,{detail:r,error:i})),$j=({children:n,className:t,detail:r,error:i,label:s})=>(0,e.h)(me.gq,{className:t,justifyContent:"space-between",alignItems:"center"},(0,e.h)(me.tu,{gap:4},s&&(0,e.h)(zj,{label:s,error:i}),r&&(0,e.h)(LP,{detail:r,error:i})),n),zj=({label:n,error:t})=>(0,e.h)(J.xv.B4,{weight:"semibold",className:Vj.label,color:t?"error":"primary"},n),LP=({detail:n,error:t})=>(0,e.h)(J.xv.B4,{color:t?"error":"secondary"},n),oa={button:"frontend-main-meetings-book-index-module__button--EbzMe",tos:"frontend-main-meetings-book-index-module__tos--OWtRB",orderForm:"frontend-main-meetings-book-index-module__orderForm--Glxgf",input:"frontend-main-meetings-book-index-module__input--nYlb7",error:"frontend-main-meetings-book-index-module__error--P2ZlT",stripeError:"frontend-main-meetings-book-index-module__stripeError--fCZ4g",originalPrice:"frontend-main-meetings-book-index-module__originalPrice--ghITj",filePicker:"frontend-main-meetings-book-index-module__filePicker--Qc_29",fileAttachment:"frontend-main-meetings-book-index-module__fileAttachment--kG9Ix",fileName:"frontend-main-meetings-book-index-module__fileName--wcKMn",fileRemoveIcon:"frontend-main-meetings-book-index-module__fileRemoveIcon--zOEGl",savedCard:"frontend-main-meetings-book-index-module__savedCard--JV5Ce",cardOnFileIcon:"frontend-main-meetings-book-index-module__cardOnFileIcon--LFx2T",errorContainer:"frontend-main-meetings-book-index-module__errorContainer--J_c84",errorTooltip:"frontend-main-meetings-book-index-module__errorTooltip--gnIsr",checkoutBox:"frontend-main-meetings-book-index-module__checkoutBox--sZ81I"};var Bh=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const Gj=({stripe_publishable_key:n,onComplete:t,user:r,pub:i,booking:s,settings:M})=>{const[k,j]=(0,o.eJ)(s.name),[U,q]=(0,o.eJ)(s.description),[Pe,Me]=(0,o.eJ)(null),[xe,Ve]=(0,o.eJ)(null),[qe,Ge]=(0,o.eJ)(null),[ut,bt]=(0,o.eJ)(null),[Pt,At]=(0,o.eJ)(!1),[Lt,Dt]=(0,o.eJ)(null);(0,o.d4)(()=>{const nr=(0,Hr.lQ)(n,i),qn=nr&&(0,Hr.UD)(nr);Ve(nr),Ge(qn)},[i,n,Ve,Ge]),(0,o.d4)(()=>{(0,D.j)(kh.F.MEETING_ORDER_PAGE_VIEWED,{user_id:r.id,publication_id:i.id})},[]),(0,o.d4)(()=>{(()=>Bh(void 0,null,function*(){var qn;const Rn=yield ge().get("/api/v1/subscription/last4");(qn=Rn.body)!=null&&qn.last4&&bt(Rn.body.last4)}))()},[i]);const Ht=M.selected_event_type,{price:on,duration:hn,subscriber_price:an,founding_price:mn,currency:rr}=Ht;let Gn=on;r.is_subscribed&&an&&(Gn=an),r.is_founding&&mn&&(Gn=mn);const Vn=!!(r!=null&&r.has_saved_payment),_n=(0,o.I4)(()=>Bh(void 0,null,function*(){return xe?yield xe.createToken(qe):{token:null,error:{message:""}}}),[xe,qe]),jn=(0,o.I4)(()=>Bh(void 0,null,function*(){var nr,qn,Rn,Bn;At(!0),Dt(null);let cr;if(!Vn){const{token:qt,error:Sn}=yield _n();if(Sn){At(!1),Dt(Sn&&Sn.message),(0,D.j)(kh.F.MEETING_MISSING_PAYMENT,{type:Sn&&Sn.type,code:Sn&&Sn.code,decline_code:Sn&&Sn.decline_code,reason:Sn&&Sn.message});return}cr=qt}const Ln=new FormData;Ln.append("name",k),Ln.append("description",U),cr&&Ln.append("stripe_token",JSON.stringify(cr)),Pe&&Ln.append("attachment",Pe);const er=Intl.DateTimeFormat().resolvedOptions().timeZone;er&&Ln.append("timezone",er),(0,D.j)(kh.F.MEETING_SUBMIT_PRESSED,{publication_id:i.id,user_id:r.id});try{const qt=yield ge().post("/api/v1/meetings/book").send(Ln);history.pushState({},"",`/meetings/book/${qt.body.order_id}`),t("schedule",ub()(qt.body,["order_id","calendly_scheduling_uri","name","email","description"]))}catch(qt){(qn=(nr=qt.response)==null?void 0:nr.body)!=null&&qn.error?Dt((Bn=(Rn=qt.response)==null?void 0:Rn.body)==null?void 0:Bn.error):Dt("Something went wrong.")}At(!1)}),[k,U,_n,Pe,At,Dt]),_r=!!k&&!!U;return(0,e.h)(e.Fragment,null,(0,e.h)(qs,{pub:i,user_id:M.user_id,user_profile_photo_url:M.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(Vt.xv.H2,{align:"center",size:20},"Book a meeting with"),(0,e.h)(Vt.xv.H2,{align:"center",paddingTop:4},(0,Di.getConfigFor)("meetings_embed_publication_name")?i.name:M.user_name),(0,e.h)(Vt.xv.B3,{align:"center",paddingTop:8},Gn<on&&(0,e.h)("span",{className:oa.originalPrice},(0,Ne.centsToPriceString)(on,rr)),(0,Ne.centsToPriceString)(Gn,rr)," \xB7 ",hn,"-minute meeting"))),(0,e.h)(Vt.tu,{gap:32},(0,e.h)(RP,{alignment:"vertical",label:"Your name"},(0,e.h)(Vt.oi,{name:"name",value:k,onChange:nr=>j(nr.target.value),placeholder:"Name...",disabled:Pt,maxLength:500})),(0,e.h)(RP,{alignment:"vertical",label:"What do you want to talk about?"},(0,e.h)(Vt.gx,{name:"description",value:U,onChange:nr=>q(nr.target.value),rows:4,maxLength:1e3,placeholder:"E.g. I\u2019m really interested in knowing...",disabled:Pt})),Pe?(0,e.h)("div",null,(0,e.h)(Vt.xv.B4,{weight:"semibold",paddingBottom:8},"Add an attachment (optional)"),(0,e.h)(Vt.gq,{className:oa.fileAttachment,gap:8,alignItems:"center",flex:"auto"},(0,e.h)(Ls.Z,{onClick:()=>Me(null),className:oa.fileRemoveIcon,height:24}),(0,e.h)(Vt.xv.B3,{className:oa.fileName},Pe.name))):(0,e.h)("div",null,(0,e.h)(Vt.xv.B4,{weight:"semibold",paddingBottom:8},"Add an attachment (optional)"),(0,e.h)(Hj,{className:oa.filePicker,onFileSelected:nr=>Me(nr),acceptableTypes:".doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/pdf, image/*, audio/*, video/*, .pdf, .xls, .xlsx"})),(0,e.h)("div",{className:oa.checkoutBox},Vn&&(0,e.h)(Vt.gq,{className:oa.savedCard,padding:12,gap:12},(0,e.h)(Cy,{className:oa.cardOnFileIcon}),(0,e.h)(Vt.xv.B4,null,ut?`**** **** **** ${ut}`:"Use card on file")),!Vn&&qe&&(0,e.h)(Hr.GP,{className:oa.input,card:qe}),Lt&&(0,e.h)(Vt.xv.B4,{paddingTop:12,className:oa.errorContainer},Lt),(0,e.h)(Vt.hs,{paddingTop:12},(0,e.h)(my.u,{text:M.enabled?"You must provide your name and a topic for the meeting before booking.":"You must enable Meetings before one can be booked.",disabled:Pt||_r&&M.enabled,preferPlacement:"top-center",className:oa.errorTooltip},(0,e.h)(Vt.zx,{className:oa.button,grow:!0,type:"submit",onClick:jn,disabled:Pt||!_r||!M.enabled},Pt?"Loading...":"Book meeting"))))),(0,e.h)(Vt.xv,{className:oa.tos,paddingBottom:16,size:14,align:"center",color:"secondary"},"By booking, you will be automatically signed up for a free subscription to ",i.name,". Additionally, you agree to Substack's"," ",(0,e.h)("a",{href:"https://substack.com/tos",target:"__blank"},"Terms of Service"),", our"," ",(0,e.h)("a",{href:"https://substack.com/privacy",target:"__blank"},"Privacy Policy"),", and our"," ",(0,e.h)("a",{href:"https://substack.com/ccpa#personal-data-collected",target:"__blank"},"Information Collection Notice"),"."))};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Uh=function(n,t){return Uh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])},Uh(n,t)};function su(n,t){Uh(n,t);function r(){this.constructor=n}n.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var lu=function(){return lu=Object.assign||function(t){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var M in r)Object.prototype.hasOwnProperty.call(r,M)&&(t[M]=r[M])}return t},lu.apply(this,arguments)};function Zj(n,t){t===void 0&&(t={});var r=t.insertAt;if(!(!n||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",r==="top"&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=n:s.appendChild(document.createTextNode(n))}}var Yj=`/*
  code is extracted from Calendly's embed stylesheet: https://assets.calendly.com/assets/external/widget.css
*/

.calendly-inline-widget,
.calendly-inline-widget *,
.calendly-badge-widget,
.calendly-badge-widget *,
.calendly-overlay,
.calendly-overlay * {
    font-size:16px;
    line-height:1.2em
}

.calendly-inline-widget iframe,
.calendly-badge-widget iframe,
.calendly-overlay iframe {
    display:inline;
    width:100%;
    height:100%
}

.calendly-popup-content {
    position:relative
}

.calendly-popup-content.calendly-mobile {
    -webkit-overflow-scrolling:touch;
    overflow-y:auto
}

.calendly-overlay {
    position:fixed;
    top:0;
    left:0;
    right:0;
    bottom:0;
    overflow:hidden;
    z-index:9999;
    background-color:#a5a5a5;
    background-color:rgba(31,31,31,0.4)
}

.calendly-overlay .calendly-close-overlay {
    position:absolute;
    top:0;
    left:0;
    right:0;
    bottom:0
}

.calendly-overlay .calendly-popup {
    box-sizing:border-box;
    position:absolute;
    top:50%;
    left:50%;
    -webkit-transform:translateY(-50%) translateX(-50%);
    transform:translateY(-50%) translateX(-50%);
    width:80%;
    min-width:900px;
    max-width:1000px;
    height:90%;
    max-height:680px
}

@media (max-width: 975px) {
    .calendly-overlay .calendly-popup {
        position:fixed;
        top:50px;
        left:0;
        right:0;
        bottom:0;
        -webkit-transform:none;
        transform:none;
        width:100%;
        height:auto;
        min-width:0;
        max-height:none
    }
}

.calendly-overlay .calendly-popup .calendly-popup-content {
    height:100%;
}

.calendly-overlay .calendly-popup-close {
    position:absolute;
    top:25px;
    right:25px;
    color:#fff;
    width:19px;
    height:19px;
    cursor:pointer;
    background:url(https://assets.calendly.com/assets/external/close-icon.svg) no-repeat;
    background-size:contain
}

@media (max-width: 975px) {
    .calendly-overlay .calendly-popup-close {
        top:15px;
        right:15px
    }
}

.calendly-badge-widget {
    position:fixed;
    right:20px;
    bottom:15px;
    z-index:9998
}

.calendly-badge-widget .calendly-badge-content {
    display:table-cell;
    width:auto;
    height:45px;
    padding:0 30px;
    border-radius:25px;
    box-shadow:rgba(0,0,0,0.25) 0 2px 5px;
    font-family:sans-serif;
    text-align:center;
    vertical-align:middle;
    font-weight:bold;
    font-size:14px;
    color:#fff;
    cursor:pointer
}

.calendly-badge-widget .calendly-badge-content.calendly-white {
    color:#666a73
}

.calendly-badge-widget .calendly-badge-content span {
    display:block;
    font-size:12px
}

.calendly-spinner {
    position:absolute;
    top:50%;
    left:0;
    right:0;
    -webkit-transform:translateY(-50%);
    transform:translateY(-50%);
    text-align:center;
    z-index:-1
}

.calendly-spinner>div {
    display:inline-block;
    width:18px;
    height:18px;
    background-color:#e1e1e1;
    border-radius:50%;
    vertical-align:middle;
    -webkit-animation:calendly-bouncedelay 1.4s infinite ease-in-out;
    animation:calendly-bouncedelay 1.4s infinite ease-in-out;
    -webkit-animation-fill-mode:both;
    animation-fill-mode:both
}

.calendly-spinner .calendly-bounce1 {
    -webkit-animation-delay:-0.32s;
    animation-delay:-0.32s
}

.calendly-spinner .calendly-bounce2 {
    -webkit-animation-delay:-0.16s;
    animation-delay:-0.16s
}

@-webkit-keyframes calendly-bouncedelay {
    0%,80%,100% {
        -webkit-transform:scale(0);
        transform:scale(0)
    } 
    
    40%{
        -webkit-transform:scale(1);
        transform:scale(1)
    }
}

@keyframes calendly-bouncedelay{ 
    0%,80%,100% {
        -webkit-transform:scale(0);
        transform:scale(0)
    }
    
    40% {
        -webkit-transform:scale(1);
        transform:scale(1)
    }
}`;Zj(Yj);var el;(function(n){n.PROFILE_PAGE_VIEWED="calendly.profile_page_viewed",n.EVENT_TYPE_VIEWED="calendly.event_type_viewed",n.DATE_AND_TIME_SELECTED="calendly.date_and_time_selected",n.EVENT_SCHEDULED="calendly.event_scheduled"})(el||(el={}));var kP=function(n){var t=n.url,r=n.prefill,i=r===void 0?{}:r,s=n.pageSettings,M=s===void 0?{}:s,k=n.utm,j=k===void 0?{}:k,U=n.embedType,q=M.backgroundColor,Pe=M.hideEventTypeDetails,Me=M.hideLandingPageDetails,xe=M.primaryColor,Ve=M.textColor,qe=M.hideGdprBanner,Ge=i.customAnswers,ut=i.date,bt=i.email,Pt=i.firstName,At=i.guests,Lt=i.lastName,Dt=i.location,Ht=i.name,on=j.utmCampaign,hn=j.utmContent,an=j.utmMedium,mn=j.utmSource,rr=j.utmTerm,Gn=j.salesforce_uuid,Vn=t.indexOf("?"),_n=Vn>-1,jn=t.slice(Vn+1),_r=_n?t.slice(0,Vn):t,nr=[_n?jn:null,q?"background_color="+q:null,Pe?"hide_event_type_details=1":null,Me?"hide_landing_page_details=1":null,xe?"primary_color="+xe:null,Ve?"text_color="+Ve:null,qe?"hide_gdpr_banner=1":null,Ht?"name="+encodeURIComponent(Ht):null,Dt?"location="+encodeURIComponent(Dt):null,Pt?"first_name="+encodeURIComponent(Pt):null,Lt?"last_name="+encodeURIComponent(Lt):null,At?"guests="+At.map(encodeURIComponent).join(","):null,bt?"email="+encodeURIComponent(bt):null,ut&&ut instanceof Date?"date="+Jj(ut):null,on?"utm_campaign="+encodeURIComponent(on):null,hn?"utm_content="+encodeURIComponent(hn):null,an?"utm_medium="+encodeURIComponent(an):null,mn?"utm_source="+encodeURIComponent(mn):null,rr?"utm_term="+encodeURIComponent(rr):null,Gn?"salesforce_uuid="+encodeURIComponent(Gn):null,U?"embed_type="+U:null,"embed_domain=1"].concat(Ge?Qj(Ge):[]).filter(function(qn){return qn!==null}).join("&");return _r+"?"+nr},Jj=function(n){var t=n.getMonth()+1,r=n.getDate(),i=n.getFullYear();return[i,t<10?"0"+t:t,r<10?"0"+r:r].join("-")},Xj=/^a\d{1,2}$/,Qj=function(n){var t=Object.keys(n).filter(function(r){return r.match(Xj)});return t.length?t.map(function(r){return r+"="+encodeURIComponent(n[r])}):[]},BP=function(n){su(t,n);function t(){return n!==null&&n.apply(this,arguments)||this}return t.prototype.render=function(){return(0,sn.createElement)("div",{className:"calendly-spinner"},(0,sn.createElement)("div",{className:"calendly-bounce1"}),(0,sn.createElement)("div",{className:"calendly-bounce2"}),(0,sn.createElement)("div",{className:"calendly-bounce3"}))},t}(sn.Component),qj={minWidth:"320px",height:"630px"},eW=function(n){su(t,n);function t(r){var i=n.call(this,r)||this;return i.state={isLoading:!0},i.onLoad=i.onLoad.bind(i),i}return t.prototype.onLoad=function(){this.setState({isLoading:!1})},t.prototype.render=function(){var r=kP({url:this.props.url,pageSettings:this.props.pageSettings,prefill:this.props.prefill,utm:this.props.utm,embedType:"Inline"});return(0,sn.createElement)("div",{className:"calendly-inline-widget",style:this.props.styles||qj},this.state.isLoading&&(0,sn.createElement)(BP,null),(0,sn.createElement)("iframe",{width:"100%",height:"100%",frameBorder:"0",title:this.props.iframeTitle||"Calendly Scheduling Page",onLoad:this.onLoad,src:r}))},t}(sn.Component),tW=function(n){su(t,n);function t(r){var i=n.call(this,r)||this;return i.state={isLoading:!0},i.onLoad=i.onLoad.bind(i),i}return t.prototype.onLoad=function(){this.setState({isLoading:!1})},t.prototype.render=function(){var r=kP({url:this.props.url,pageSettings:this.props.pageSettings,prefill:this.props.prefill,utm:this.props.utm,embedType:"PopupWidget"});return(0,sn.createElement)(sn.Fragment,null,this.state.isLoading&&(0,sn.createElement)(BP,null),(0,sn.createElement)("iframe",{width:"100%",height:"100%",frameBorder:"0",title:this.props.iframeTitle||"Calendly Scheduling Page",onLoad:this.onLoad,src:r}))},t}(sn.Component),UP=function(n){return n.open?(0,sn.createPortal)((0,sn.createElement)("div",{className:"calendly-overlay"},(0,sn.createElement)("div",{onClick:n.onModalClose,className:"calendly-close-overlay"}),(0,sn.createElement)("div",{className:"calendly-popup"},(0,sn.createElement)("div",{className:"calendly-popup-content"},(0,sn.createElement)(tW,lu({},n)))),(0,sn.createElement)("button",{className:"calendly-popup-close",onClick:n.onModalClose,"aria-label":"Close modal",style:{display:"block",border:"none",padding:0}})),n.rootElement):null},g$=function(n){su(t,n);function t(r){var i=n.call(this,r)||this;return i.state={isOpen:!1},i.onClick=i.onClick.bind(i),i.onClose=i.onClose.bind(i),i}return t.prototype.onClick=function(r){r.preventDefault(),this.setState({isOpen:!0})},t.prototype.onClose=function(r){r.stopPropagation(),this.setState({isOpen:!1})},t.prototype.render=function(){return(0,sn.createElement)(sn.Fragment,null,(0,sn.createElement)("button",{onClick:this.onClick,style:this.props.styles||{},className:this.props.className||""},this.props.text),(0,sn.createElement)(UP,lu({},this.props,{open:this.state.isOpen,onModalClose:this.onClose,rootElement:this.props.rootElement})))},t}(sn.Component),v$=function(n){su(t,n);function t(r){var i=n.call(this,r)||this;return i.state={isOpen:!1},i.onClick=i.onClick.bind(i),i.onClose=i.onClose.bind(i),i}return t.prototype.onClick=function(){this.setState({isOpen:!0})},t.prototype.onClose=function(r){r.stopPropagation(),this.setState({isOpen:!1})},t.prototype.render=function(){return(0,sn.createElement)("div",{className:"calendly-badge-widget",onClick:this.onClick},(0,sn.createElement)("div",{className:"calendly-badge-content",style:{background:this.props.color||"#00a2ff",color:this.props.textColor||"#ffffff"}},this.props.text||"Schedule time with me",this.props.branding&&(0,sn.createElement)("span",null,"powered by Calendly")),(0,sn.createElement)(UP,lu({},this.props,{open:this.state.isOpen,onModalClose:this.onClose,rootElement:this.props.rootElement})))},t}(sn.Component),FP="message";function nW(n){var t=n||{},r=t.onDateAndTimeSelected,i=t.onEventScheduled,s=t.onEventTypeViewed,M=t.onProfilePageViewed;(0,sn.useEffect)(function(){var k=function(j){var U=j.data.event;U===el.DATE_AND_TIME_SELECTED?r&&r(j):U===el.EVENT_SCHEDULED?i&&i(j):U===el.EVENT_TYPE_VIEWED?s&&s(j):U===el.PROFILE_PAGE_VIEWED&&M&&M(j)};return window.addEventListener(FP,k),function(){window.removeEventListener(FP,k)}},[n])}var rW=wt(56288),oW=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const iW=({booking:n,onComplete:t,settings:r,pub:i})=>{const s="calendly",[M,k]=(0,o.eJ)(!1),[j,U]=(0,o.eJ)(!1),{duration:q}=r.selected_event_type,Pe=(0,Di.getConfigFor)("meetings_embed_publication_name")?i.name:n.user_name,Me=(0,ke.useMediaQuery)({maxWidth:698});return nW({onEventScheduled:xe=>oW(void 0,null,function*(){var Ve,qe,Ge;const ut=(Ge=(qe=(Ve=xe.data)==null?void 0:Ve.payload)==null?void 0:qe.event)==null?void 0:Ge.uri;k(!0);try{const bt=yield ge().put(`/api/v1/meetings/order/${n.order_id}`).send({calendly_event_uri:ut});yield new Promise(Pt=>setTimeout(Pt,2e3)),t("confirmation",bt.body)}catch(bt){U(!0)}})}),j?(0,e.h)(qs,{pub:i,user_id:r.user_id,user_profile_photo_url:r.user_profile_photo_url},(0,e.h)(J.xv.H2,{align:"center"},"Something went wrong with your booking. Please contact meetings@substackinc.com.")):M?(0,e.h)(me.hs,{justifyContent:"center"},(0,e.h)(rW.a,{type:"circular"})):(0,e.h)(e.Fragment,null,(0,e.h)(qs,{pub:i,user_id:r.user_id,user_profile_photo_url:r.user_profile_photo_url},(0,e.h)("div",null,(0,e.h)(J.xv.H2,{align:"center"},n.num_rebookings>0?"Rebook":"Book"," your meeting with ",Pe),(0,e.h)(J.xv.B3,{align:"center",paddingTop:8},"Schedule your ",q,"-minute meeting"))),typeof window!="undefined"&&n.calendly_scheduling_uri&&(0,e.h)(eW,{iframeTitle:s,url:`${n.calendly_scheduling_uri}?hide_gdpr_banner=1`,prefill:{name:n.name,email:n.email,customAnswers:{a1:n.description}},styles:{minWidth:"320px",height:"700px",marginTop:Me?"0px":"-66px"}}))};var aW=Object.defineProperty,rd=Object.getOwnPropertySymbols,jP=Object.prototype.hasOwnProperty,WP=Object.prototype.propertyIsEnumerable,HP=(n,t,r)=>t in n?aW(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,tl=(n,t)=>{for(var r in t||(t={}))jP.call(t,r)&&HP(n,r,t[r]);if(rd)for(var r of rd(t))WP.call(t,r)&&HP(n,r,t[r]);return n},sW=(n,t)=>{var r={};for(var i in n)jP.call(n,i)&&t.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&rd)for(var i of rd(n))t.indexOf(i)<0&&WP.call(n,i)&&(r[i]=n[i]);return r};const lW=n=>{var t=n,{step:r}=t,i=sW(t,["step"]);switch(r){case"order":return(0,e.h)(Gj,tl({},i));case"schedule":return(0,e.h)(iW,tl({},i));case"confirmation":return(0,e.h)(jj,tl({},i))}},VP=({stripe_publishable_key:n,pub:t,user:r,order:i,order_id:s,settings:M})=>{const k=s?i.calendly_scheduling_uri?"schedule":"confirmation":"order",[j,U]=(0,o.eJ)(k),[q,Pe]=(0,o.eJ)(tl({name:r.name,email:r.email,description:""},i)),Me=lW({step:j,booking:q,settings:M,order:i,onComplete:(xe,Ve)=>{Pe(tl(tl({},q),Ve)),U(xe)},pub:t,stripe_publishable_key:n,user:r,orderId:s});return(0,e.h)(e.Fragment,null,(0,e.h)(DP,{pub:t}),(0,e.h)(me.hs,{style:{minHeight:"100vh"},bg:"secondary",alignItems:"center",justifyContent:"center"},(0,e.h)(me.tu,{paddingX:24,gap:32,style:{width:j==="schedule"?"100%":450,maxWidth:"100%",boxSizing:"border-box"}},Me)))},uW=({subdomain:n})=>(0,e.h)("div",{className:"page typography signup-page",path:"/not-found"},(0,y.setMetaData)({title:"Not Found"}),(0,e.h)("div",{className:"container"},(0,e.h)("h2",null,"Not Found"),(0,e.h)("p",null,"The page you are attempting to access is not found."),(0,e.h)("p",null,"If you want to claim this URL you can start a Substack today"),(0,e.h)("p",null,(0,e.h)("a",{href:(0,v.getStartPublishingUrl)(),class:"button primary",rel:"nofollow"},"Start a Substack")),(0,e.h)("p",null,(0,e.h)("a",{href:(0,v.getDiscoverSearchUrl)({query:n,params:{searching:"publication"}})},'Search Substack for "',n,'"'))));var cW=wt(66141),KP=wt(19696);function dW(){return useDismissed("reader-ios-install-banner",60*60*24*7)}function y$({user:n,pathname:t="/inbox"}){const[r,i]=dW(),s=YP();if(r||!s||n!=null&&n.reader_installed_at&&s==="ios"&&(t.startsWith("/notes")||t.includes("/note/")))return null;const M=()=>{track(EVENTS.APP_BANNER_DISMISSED),i()},k=j=>{track(EVENTS.APP_BANNER_TAPPED,{surface:"reader"})};return h(zP,{className:"app-banner-fixed"},h($P,{surface:"reader"}),h(ZP,null),h(GP,null,h("div",null,"Get the full experience")),h("a",{href:hW(t,n,s),className:"app-banner-cta",onClick:k},"Get app"),h("button",{className:"reader2-button-reset",onClick:M},h(X,{size:16,className:"app-banner-x-out"})))}function fW({post:n,subdomain:t}){const r=YP();if(!(0,P.isMobile)({checkFirst4:!0})||!r)return null;const i=(0,v.getPostAppLinkUrl)(t,n.slug,{redirect:"app-store",source:"post-banner"}),s=()=>{(0,D.j)(D.FP.APP_BANNER_TAPPED,{surface:"post"})};return(0,e.h)(zP,null,(0,e.h)($P,{surface:"post"}),(0,e.h)(ZP,null),(0,e.h)(GP,null,(0,e.h)("div",null,n.type==="podcast"?"Listen":n.type==="video"?"Watch":"Read"," in the Substack app")),(0,e.h)("a",{className:"app-banner-cta",href:i,onClick:s},"Open app"))}function $P({surface:n}){return(0,o.d4)(()=>{(0,D.j)(D.FP.APP_BANNER_VIEWED,{surface:"post"})},[]),null}const zP=(0,KP.L)("app-banner"),GP=(0,KP.L)("app-banner-text");function ZP(){return(0,e.h)("div",{className:"app-banner-icon"},(0,e.h)(ue.Z,{height:16}))}function YP(){return(0,P.isIos)()?"ios":(0,P.isAndroid)()?"android":null}function hW(n,t,r){return t!=null&&t.reader_installed_at?r==="android"&&["/chat","/notes","/activity","/library"].includes(n)?getAppLinkTabUrl({tab:n.substring(1),redirect:"app-store"}):getAppLinkTabUrl({tab:"inbox",redirect:"app-store"}):r==="android"?getPlayStoreUrl():getAppStoreUrl()}var pW=Object.defineProperty,mW=Object.defineProperties,_W=Object.getOwnPropertyDescriptors,JP=Object.getOwnPropertySymbols,gW=Object.prototype.hasOwnProperty,vW=Object.prototype.propertyIsEnumerable,XP=(n,t,r)=>t in n?pW(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,yW=(n,t)=>{for(var r in t||(t={}))gW.call(t,r)&&XP(n,r,t[r]);if(JP)for(var r of JP(t))vW.call(t,r)&&XP(n,r,t[r]);return n},bW=(n,t)=>mW(n,_W(t));const b$=n=>h(SvgIcon,bW(yW({},n),{name:"BellIcon",svgParams:{viewBox:"0 0 20 20",height:20,width:20,fill:"none"}}),h("path",{d:"M3.54717 7.14905L2.80009 7.08297L2.79717 7.11595V7.14905H3.54717ZM2.91038 10.6428L2.24437 10.298H2.24436L2.91038 10.6428ZM1 15.1428H0.25C0.25 15.557 0.585786 15.8928 0.999999 15.8928L1 15.1428ZM1.63679 12.6832L2.30281 13.0281L1.63679 12.6832ZM16.4528 7.14907H17.2028V7.10282L17.1971 7.05691L16.4528 7.14907ZM17.0896 10.8385L17.7556 10.4937L17.0896 10.8385ZM19 15.1429V15.8929C19.1989 15.8929 19.3896 15.8138 19.5303 15.6732C19.6709 15.5325 19.75 15.3418 19.75 15.1429H19ZM18.3632 12.6832L17.6972 13.0281V13.0281L18.3632 12.6832ZM11.8822 16.4286C11.8822 17.4412 11.0709 18.25 10.085 18.25V19.75C11.9127 19.75 13.3822 18.2562 13.3822 16.4286H11.8822ZM10.085 18.25C9.09913 18.25 8.28782 17.4412 8.28782 16.4286H6.78782C6.78782 18.2562 8.25733 19.75 10.085 19.75V18.25ZM8.28782 16.4286V15.1429H6.78782V16.4286H8.28782ZM13.3822 16.4286V15.1429H11.8822V16.4286H13.3822ZM10.085 0.25C8.89057 0.25 7.20474 0.623466 5.74421 1.66361C4.25626 2.7233 3.0324 4.45632 2.80009 7.08297L4.29425 7.21512C4.48647 5.04178 5.4702 3.70027 6.61436 2.88543C7.78595 2.05106 9.15677 1.75 10.085 1.75V0.25ZM2.79717 7.14905C2.79717 7.71546 2.73571 8.36489 2.63006 8.95552C2.52161 9.56174 2.37824 10.0394 2.24437 10.298L3.57639 10.9877C3.81469 10.5275 3.98971 9.87319 4.10662 9.21966C4.22632 8.55054 4.29717 7.81245 4.29717 7.14905H2.79717ZM2.24436 10.298C2.08304 10.6095 1.89068 10.8906 1.66386 11.2217C1.44351 11.5434 1.19295 11.9093 0.97078 12.3384L2.30281 13.0281C2.47688 12.6919 2.67702 12.3969 2.90136 12.0694C3.11923 11.7514 3.36554 11.3949 3.57639 10.9877L2.24436 10.298ZM0.97078 12.3384C0.607085 13.0407 0.428923 13.7345 0.340527 14.2466C0.296032 14.5044 0.27347 14.721 0.261993 14.8761C0.256245 14.9538 0.25325 15.0165 0.25169 15.0617C0.25091 15.0843 0.250487 15.1026 0.25026 15.1162C0.250146 15.123 0.250081 15.1287 0.250045 15.1331C0.250026 15.1353 0.250015 15.1373 0.250009 15.1389C0.250005 15.1397 0.250003 15.1404 0.250002 15.1411C0.250001 15.1414 0.250001 15.1417 0.25 15.142C0.25 15.1422 0.25 15.1424 0.25 15.1424C0.25 15.1426 0.25 15.1428 1 15.1428C1.75 15.1428 1.75 15.143 1.75 15.1432C1.75 15.1433 1.75 15.1434 1.75 15.1435C1.75 15.1438 1.75 15.144 1.75 15.1441C1.75 15.1445 1.75 15.1448 1.75 15.145C1.74999 15.1454 1.74999 15.1456 1.74999 15.1454C1.75 15.1452 1.75001 15.1437 1.75005 15.1412C1.75013 15.1362 1.75033 15.1269 1.7508 15.1135C1.75172 15.0866 1.7537 15.0436 1.75791 14.9868C1.76633 14.8729 1.78357 14.7052 1.81867 14.5018C1.88947 14.0916 2.02971 13.5555 2.30281 13.0281L0.97078 12.3384ZM10.085 1.75C11.0068 1.75 12.2869 2.04746 13.3926 2.87498C14.4767 3.68634 15.4356 5.03759 15.7085 7.24122L17.1971 7.05691C16.8756 4.46053 15.712 2.73725 14.2914 1.67407C12.8924 0.627065 11.2858 0.25 10.085 0.25V1.75ZM15.7028 7.14907C15.7028 7.81063 15.7733 8.59469 15.8917 9.30825C16.0065 9.99938 16.1801 10.7132 16.4236 11.1834L17.7556 10.4937C17.6269 10.245 17.4821 9.72906 17.3715 9.06262C17.2646 8.4186 17.2028 7.71732 17.2028 7.14907H15.7028ZM16.4236 11.1834C16.6493 11.6193 16.9157 11.9442 17.1336 12.2143C17.3558 12.4898 17.5373 12.7194 17.6972 13.0281L19.0292 12.3384C18.7928 11.8818 18.5236 11.5484 18.3011 11.2726C18.0743 10.9913 17.902 10.7765 17.7556 10.4937L16.4236 11.1834ZM17.6972 13.0281C17.9703 13.5555 18.1105 14.0916 18.1813 14.5018C18.2164 14.7052 18.2336 14.8729 18.2421 14.9868C18.2463 15.0436 18.2482 15.0866 18.2492 15.1135C18.2496 15.1269 18.2498 15.1363 18.2499 15.1413C18.25 15.1438 18.25 15.1452 18.25 15.1455C18.25 15.1456 18.25 15.1455 18.25 15.145C18.25 15.1448 18.25 15.1445 18.25 15.1442C18.25 15.144 18.25 15.1438 18.25 15.1436C18.25 15.1435 18.25 15.1433 18.25 15.1432C18.25 15.143 18.25 15.1429 19 15.1429C19.75 15.1429 19.75 15.1427 19.75 15.1425C19.75 15.1424 19.75 15.1422 19.75 15.142C19.75 15.1417 19.75 15.1414 19.75 15.1411C19.75 15.1405 19.75 15.1397 19.75 15.1389C19.7499 15.1373 19.7499 15.1354 19.7499 15.1331C19.7499 15.1287 19.7498 15.123 19.7497 15.1162C19.7495 15.1026 19.7491 15.0843 19.7483 15.0617C19.7467 15.0165 19.7437 14.9539 19.738 14.8762C19.7265 14.721 19.7039 14.5045 19.6594 14.2467C19.571 13.7345 19.3929 13.0408 19.0292 12.3384L17.6972 13.0281ZM0.999999 15.8928L19 15.8929V14.3929L1 14.3928L0.999999 15.8928Z"})),P$=null,od=({children:n,dismissKey:t,dismissDurationInSeconds:r,beforeDismiss:i,className:s,level:M="info"}={})=>{const[k,j]=(0,cW.Z)(t,r,i);if(!k)return(0,e.h)("div",{className:u()("banner",M,s)},n,(0,e.h)(T.Z,{width:12,height:12,className:"banner-close",onClick:U=>{U.preventDefault(),U.stopPropagation(),j()}}))},E$=null,w$=()=>(useEffect(()=>{track(EVENTS.GO_PAID_CTA_SHOWN,{type:"banner"})},[]),h(od,{dismissKey:"go-paid-banner.dismissed",dismissDurationInSeconds:3*WEEK_IN_SECONDS,beforeDismiss:()=>{track(EVENTS.GO_PAID_CTA_DISMISSED,{type:"banner"})}},h(BellIcon,{stroke:"var(--print_pop)",fill:"var(--print_pop)",strokeWidth:0,className:"go-paid-banner-bell"}),h("a",{href:"/publish/settings#connect",native:!0,onClick:()=>{track(EVENTS.GO_PAID_CTA_CLICKED,{type:"banner"})}},"Turn on paid subscriptions")," ",h("span",{className:"go-paid-banner-text"},"to get paid for your writing"))),C$=({action:n="connect"})=>{const{getConfigFor:t}=useSiteConfigs(),[r,i]=useState(!1);return r||!t("twitter_connect_flows_enabled")?null:h(od,{level:"setup",dismissKey:"setup-twitter-banner.dismissed",beforeDismiss:()=>{track(EVENTS.SETUP_TWITTER_CTA_DISMISSED,{type:"banner"})}},h("div",{className:"setup-twitter-banner-header"},"Help more readers discover your writing"),h("p",null,"Connect your Twitter account so we can notify your followers about your Substack."),n==="connect"&&h(Button,{className:"twitter-button centered-icon",onClick:()=>{track(EVENTS.SETUP_TWITTER_CTA_CONNECT_CLICKED,{type:"banner"}),location.href=getConnectTwitterUrl({type:"connect_pub"})}},"Connect Twitter"),n==="set-discoverable"&&h(FancyForm,{className:"minimal",action:"/api/v1/twitter/set-discoverable",method:"put",onSuccess:()=>i(!0)},h("input",{type:"hidden",name:"d",value:"true"}),h(Button,{className:"twitter-button centered-icon",type:"Submit",onClick:()=>track(EVENTS.SETUP_TWITTER_CTA_SETDISCOVERABLE_CLICKED,{type:"banner"})},"Turn on Discoverability")),h("div",{className:"twitter-permission-notice"},"We never tweet without your explicit permission"))},PW=()=>(0,e.h)(od,{level:"coming-soon",dismissKey:"coming-soon-banner.dismissed",beforeDismiss:()=>{ge().put("/api/v1/publication_settings").send({seen_coming_soon_explainer:!0})}},(0,e.h)("div",{className:"coming-soon-banner-header"},"Welcome to Substack!"),(0,e.h)("br",null),(0,e.h)("p",null,`We've created this "Coming Soon" post for you. To edit it, click the three-dot icon.`),(0,e.h)("br",null),(0,e.h)("p",null,`It's just a placeholder and won't be sent out to your subscribers. To email them, click the "New Post" button.`)),O$=({children:n,className:t,level:r="info",onClose:i}={})=>{const[s,M]=useState(!1);if(!(s&&r!=="error"))return h("div",{className:classnames("banner",r,t)},n,r!=="error"&&h(CloseIcon,{width:12,height:12,className:"banner-close",onClick:k=>{k.preventDefault(),k.stopPropagation(),i&&i(),M(!0)}}))},S$=({featureName:n,featureLink:t,preText:r,linkedText:i,postText:s,children:M})=>{useEffect(()=>{track(EVENTS.FEATURE_ANNOUNCEMENT_BANNER_SHOWN,{type:n})},[n]);const k=isMobileBrowser();return h(od,{level:"new-feature",dismissKey:"new-feature-banner.dismissed",dismissDurationInSeconds:3*WEEK_IN_SECONDS},!k&&M,h("p",{className:"new-feature-banner-text"},r," ",h("a",{href:t,native:!0,onClick:()=>{track(EVENTS.FEATURE_ANNOUNCEMENT_BANNER_CLICKED,{type:n})}},i)," ",s))};var EW=wt(65207),wW=Object.defineProperty,CW=Object.defineProperties,OW=Object.getOwnPropertyDescriptors,QP=Object.getOwnPropertySymbols,SW=Object.prototype.hasOwnProperty,TW=Object.prototype.propertyIsEnumerable,qP=(n,t,r)=>t in n?wW(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,IW=(n,t)=>{for(var r in t||(t={}))SW.call(t,r)&&qP(n,r,t[r]);if(QP)for(var r of QP(t))TW.call(t,r)&&qP(n,r,t[r]);return n},DW=(n,t)=>CW(n,OW(t));const MW=n=>(0,e.h)(x.l,DW(IW({},n),{name:"LucideExternalLink",svgParams:{height:24,width:24,fill:"#000000",strokeWidth:0}}),(0,e.h)(EW.Z,{height:24,stroke:n.stroke,fill:n.fill,strokeWidth:n.strokeWidth}));var xW=Object.defineProperty,AW=Object.defineProperties,NW=Object.getOwnPropertyDescriptors,eE=Object.getOwnPropertySymbols,RW=Object.prototype.hasOwnProperty,LW=Object.prototype.propertyIsEnumerable,tE=(n,t,r)=>t in n?xW(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,kW=(n,t)=>{for(var r in t||(t={}))RW.call(t,r)&&tE(n,r,t[r]);if(eE)for(var r of eE(t))LW.call(t,r)&&tE(n,r,t[r]);return n},BW=(n,t)=>AW(n,NW(t));const UW=n=>(0,e.h)(x.l,BW(kW({},n),{name:"ShareFacebookBoxedIcon",svgParams:{height:17,width:16,viewBox:"10 0 10 26"}}),(0,e.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15,3C8.373,3,3,8.373,3,15c0,6.016,4.432,10.984,10.206,11.852V18.18h-2.969v-3.154h2.969v-2.099c0-3.475,1.693-5,4.581-5 c1.383,0,2.115,0.103,2.461,0.149v2.753h-1.97c-1.226,0-1.654,1.163-1.654,2.473v1.724h3.593L19.73,18.18h-3.106v8.697 C22.481,26.083,27,21.075,27,15C27,8.373,21.627,3,15,3z"}));var FW=wt(7775),jW=wt(74957);const Fh={toast:"frontend-components-prompts-WriterShareModal-module__toast--Vdu8m",cta:"frontend-components-prompts-WriterShareModal-module__cta--ozgSr",modal:"frontend-components-prompts-WriterShareModal-module__modal--XLKpl"};var WW=Object.defineProperty,HW=Object.defineProperties,VW=Object.getOwnPropertyDescriptors,nE=Object.getOwnPropertySymbols,KW=Object.prototype.hasOwnProperty,$W=Object.prototype.propertyIsEnumerable,rE=(n,t,r)=>t in n?WW(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,uu=(n,t)=>{for(var r in t||(t={}))KW.call(t,r)&&rE(n,r,t[r]);if(nE)for(var r of nE(t))$W.call(t,r)&&rE(n,r,t[r]);return n},oE=(n,t)=>HW(n,VW(t));const iE="https://twitter.com",aE=()=>{const n=(0,ti.pm)();return(t,r=null)=>n.popToast(i=>(0,e.h)(ti.FN,oE(uu({},i),{className:Fh.toast,text:t,cta:r})))},zW=({post:n,publication:t,autoSharedOnTwitter:r,showAfter:i,publicationTwitterScreenName:s,authorVersion:M})=>{const k=(0,o.sO)(null),[j,U]=(0,o.eJ)(!0),q=aE();(0,o.d4)(()=>{r&&q("Post shared to Twitter",s?(0,e.h)("a",{className:Fh.cta,href:`${iE}/${s}`,target:"_blank",rel:"noopener"},"View"):null)},[]);const Pe=()=>{U(!1)};return!j&&i?i:(0,e.h)(Jn.Z,{testID:"share-modal",openByDefault:!0,className:u()("force-light-theme",Fh.modal),ref:k,variant:"structured",modalTitle:`Share your ${M?"substack:":"post:"}`,modalFooter:(0,e.h)(sa.z,{variant:M?"primary":"secondary",look:"button",onClick:Me=>{Me.preventDefault(),k.current.close()}},M?"View Dashboard":"View post"),onBeforeClose:Pe},(0,e.h)("div",{className:"author-post-share-container author-post-share-container--fullscreen author-post-share-container--publish"},(0,e.h)("div",{className:"author-post-share__check-container"},(0,e.h)(Il.Z,{size:20,strokeWidth:2})),(0,e.h)("h5",null,M?"Share your Substack with your friends, fans, and communities":"Your post has been published! It\u2019s time to get the word out"),!M&&(0,e.h)("div",{className:"tw-mb-8"},(0,e.h)(ZW,{modalRef:k})),(0,e.h)(GW,{post:n,publication:t,hideEmailOption:!M,trackingParams:{sd:"pf"},autoSharedOnTwitter:r,authorVersion:M})))},GW=({post:n,publication:t,hideEmailOption:r=!1,trackingParams:i,autoSharedOnTwitter:s,authorVersion:M})=>{const k=M?(0,v.getBaseUrl)(t):n.canonical_url,j=q=>{(0,D.j)(D.FP.SHARE_LINK_CLICKED,{name:q,post_id:n==null?void 0:n.id,source:"fullscreen-author-share-dialog"})},U=aE();return(0,e.h)(e.Fragment,null,(0,e.h)(cu,{onClick:()=>{j("facebook"),window.open(`https://www.facebook.com/sharer/sharer.php?${(0,v.serializeQuery)({u:(0,v.updateQuery)(k,uu({utm_source:"facebook"},i))})}`)},className:"share facebook"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(UW,{height:16,fill:"#256fe2",stroke:"white",strokeWidth:1}),"Share on Facebook")),!s&&(0,e.h)(cu,{onClick:()=>{j("twitter"),window.open(`${iE}/share?${(0,v.serializeQuery)({url:(0,v.updateQuery)(k,uu({utm_source:"twitter"},i))})}`)},className:"share twitter"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(br.Z,{height:16,fill:"#1DA1F2",stroke:"#1DA1F2",strokeWidth:0}),"Share on Twitter")),(0,e.h)(cu,{onClick:()=>{(0,y.copyToClipboard)((0,v.updateQuery)(k,i)),j("copy"),U("Link copied to clipboard")},className:"share copy"},(0,e.h)("button",{className:"button short-button tw-w-full"},(0,e.h)(FW.Z,{height:16,strokeWidth:0,fill:"black"}),"Copy Link")),!r&&(0,e.h)(cu,{onClick:()=>{j("email"),window.open(`mailto:?${(0,v.serializeQuery)({subject:M?`Check out ${t.name}`:n.title,body:(0,v.updateQuery)(k,uu({utm_source:"email"},i))})}`)},className:"share email"},(0,e.h)("button",{className:"button short-button tw-mb-8 tw-w-full"},(0,e.h)(jW.Z,{height:16,strokeWidth:0,fill:"black"}),"Share with email")),!M&&(0,e.h)(cu,{onClick:()=>{j("media-assets"),window.open(`${(0,v.getPostUrl)(t,n)}/media-assets`)},className:"share press-kit"},(0,e.h)("button",{className:"button tw-w-full"},(0,e.h)(MW,{stroke:"#404040",fill:"white"}),"View media assets")))},cu=n=>(0,e.h)("a",oE(uu({},n),{native:!0})),ZW=({modalRef:n})=>{var t,r,i;let s="";typeof window!="undefined"&&(s=window.location.host);const M=(t=document.head.querySelector('meta[property="og:image"]'))==null?void 0:t.content,k=(r=document.head.querySelector('meta[property="og:title"]'))==null?void 0:r.content,j=(i=document.head.querySelector('meta[property="og:description"]'))==null?void 0:i.content;return(0,e.h)("div",{onClick:()=>{n.current.close()},className:"overflow-hidden tw-cursor-pointer tw-rounded-xl tw-border tw-border-solid tw-border-substack-detail"},M&&(0,e.h)("div",{className:"tw-border-0 tw-border-b tw-border-solid tw-border-substack-detail"},(0,e.h)("img",{src:M,className:"social-media-share-preview__image"})),(0,e.h)("div",{className:"tw-p-3"},(0,e.h)("div",{className:"tw-text-sm tw-font-bold tw-text-substack-secondary"},s),(0,e.h)("div",{className:"tw-text-base tw-font-bold tw-text-substack-primary"},k),(0,e.h)("div",{className:"social-media-share-preview__description tw-text-sm tw-font-medium tw-text-substack-secondary"},j)))},YW=zW;var JW=Object.defineProperty,XW=Object.defineProperties,QW=Object.getOwnPropertyDescriptors,sE=Object.getOwnPropertySymbols,qW=Object.prototype.hasOwnProperty,eH=Object.prototype.propertyIsEnumerable,lE=(n,t,r)=>t in n?JW(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,uE=(n,t)=>{for(var r in t||(t={}))qW.call(t,r)&&lE(n,r,t[r]);if(sE)for(var r of sE(t))eH.call(t,r)&&lE(n,r,t[r]);return n},tH=(n,t)=>XW(n,QW(t)),nH=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});const rH=({pub:n,pubsToRecommend:t})=>{const[r,i]=(0,o.eJ)(!0),[s,M]=(0,o.eJ)(!0),[k,j]=(0,o.eJ)((t||[]).reduce((Ve,qe)=>tH(uE({},Ve),{[qe.id]:!0}),{})),U=()=>{i(!r),M(!1)},q=Ve=>{const qe=uE({},k);qe[Ve]=!qe[Ve],j(qe)},Pe=()=>nH(void 0,null,function*(){try{const Ve=Object.keys(k).filter(qe=>k[qe]===!0).map(qe=>Number(qe));yield ge().put("/api/v1/recommendations/multiple").send({recommending_publication_id:n.id,recommended_publication_ids:Ve,source:"post_publish_cta",suggested:Ve.map(()=>!0)}),Ve.length&&(0,cs.ZP)(`Recommended ${(0,Ne.pluralize)(Ve.length,"publication")}`,{timeout:1500}),U()}catch(Ve){console.error("Failed to add recommendations: ",Ve),U()}});let Me,xe;return t!=null&&t.length&&(Me=(Object.values(k).filter(Ve=>Ve===!0)||[]).length,xe=`Do you want to recommend ${t[0].name}${t.length>1?` and ${t.length-1} other ${(0,Ne.pluralize)(t.length-1,"publication",{just_word:!0})}`:""}?`),(0,e.h)(e.Fragment,null,s?(0,e.h)(ta.u_,{isOpen:r,onClose:U},(0,e.h)(ta.xB,{onClose:U,title:xe}),(0,e.h)(ta.fe,null,(0,e.h)("div",{className:"recommend-linked-publication-modal-container"},(0,e.h)("p",{className:"subtitle"},"Since you embedded"," ",t.length>1?`${t.length} publications`:t[0].name," on your post, we thought you might want to recommend them to your readers"),t&&t.length&&t.map((Ve,qe)=>(0,e.h)("div",{className:u()("recommend-publication-container",{last:qe===t.length-1}),onClick:()=>q(Ve.id)},(0,e.h)(Lr.Z,{pub:Ve,size:40,logo_url:Ve.logo_url,openInNewTab:!0}),(0,e.h)("div",{className:"publication-name-author"},(0,e.h)("a",{className:"publication-name",href:(0,v.getBaseUrl)(Ve),target:"_blank"},Ve.name),(0,e.h)("p",{className:"author-name"},(0,Ne.getByLine)(Ve))),(0,e.h)(E_.p,{checked:k[Ve.id]?k[Ve.id]:!1}))))),(0,e.h)(ta.mz,{alignment:"center",primaryButton:(0,e.h)(sa.z,{onClick:Pe,variant:"primary"},Me===0?"Continue":`Recommend ${(0,Ne.pluralize)(Me,"publication")}`),secondaryButton:(0,e.h)(sa.z,{onClick:U,variant:"secondary"},"Maybe later")})):null)};class oH extends e.Component{isSubscribed(){const{user:t}=this.props;return t&&t.is_subscribed}isFreeSubscribed(){const{freeSignup:t,user:r}=this.props;return t||r&&r.is_free_subscribed&&!r.is_contributor}onFreeSubscribe(t){if(this.props.publication.plans){let r=(0,v.getSubscribeUrl)(this.props.publication,{just_signed_up:!0,referral_token:t.body.referral_token});t.body.prompt_to_login&&(r=`/account/login?redirect=${encodeURIComponent(r)}&email=${encodeURIComponent(t.body.email)}`),document.location.href=r}else window.location.reload()}render({publication:t,user:r,freeSignupEmail:i,features:s}){if(!(this.isSubscribed()||this.isFreeSubscribed()&&!t.plans))return(0,e.h)("div",{className:"subscribe-footer"},(0,e.h)("div",{className:"container"},(0,e.h)("p",null,"Ready for more?"),this.isFreeSubscribed()?(0,e.h)("div",null,(0,e.h)("a",{className:"cta",href:(0,v.getSubscribeUrl)(t,{utm_source:"ready-for-more"}),native:!0},(0,e.h)(Je.Z,{className:"primary"},(0,e.h)("b",null,(0,Ne.getSubscribeText)(t))))):(0,e.h)(Vt.gq,{justifyContent:"center"},(0,e.h)("div",null,(0,e.h)(ei.Z,{freeSignupEmail:i,onAccentBackground:!0,pub:t,source:"subscribe_footer",submitButtonText:(0,Ne.getSubscribeText)(t),user:r,onSuccess:this.onFreeSubscribe.bind(this)})))))}}var iH=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});function D$(n,t={}){n=n||getQueryItem("selection");const{isLoading:r,error:i,result:s}=useFetch({pathname:`/api/v1/post_selection/${n}`,auto:!!n,deps:[n]});return{isLoading:r,error:i,postSelection:s!=null?s:null,highlightSelection:()=>{s&&cE(s,t)}}}function aH(n){return iH(this,arguments,function*(t,r={}){t=t||(0,v.getQueryItem)("selection");let i=null;try{i=yield(0,so.rd)(`/api/v1/post_selection/${t}`,{})}catch(s){}i&&cE(i,r)})}function cE(n,t={}){var r,i;if(t.ignoreSafari&&(0,y.isSafari)()||!n.text)return;const s=(i=(r=/^[^.]+\./.exec(n.text))==null?void 0:r[0])!=null?i:n.text;if(!s)return;const M=`#:~:text=${encodeURIComponent(s)}`;history.replaceState({},document.title,M),document.location.hash=M}const sH=n=>{const{delayFirstLoad:t,filterPosts:r,isBelowTheFold:i,maxPosts:s,pub:M,search:k,sort:j,sortTabs:U,source:q,user:Pe}=n;return(0,e.h)(Vt.xu,{paddingY:24},(0,e.h)(Hc,{delayFirstLoad:t,filterPosts:r,isBelowTheFold:i,maxPosts:s,pub:M,search:k,sort:j,sortTabs:U,source:q,user:Pe},({posts:Me,linkToComments:xe,onClickPost:Ve})=>(0,e.h)(hi,{hideImages:M.theme.hide_images_from_list,linkToComments:xe,posts:Me,pub:M,user:Pe,variant:"two-column-list",onChange:()=>{},onClickPost:Ve})))};var lH=Object.defineProperty,uH=Object.defineProperties,cH=Object.getOwnPropertyDescriptors,dE=Object.getOwnPropertySymbols,dH=Object.prototype.hasOwnProperty,fH=Object.prototype.propertyIsEnumerable,jh=(n,t,r)=>t in n?lH(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,hH=(n,t)=>{for(var r in t||(t={}))dH.call(t,r)&&jh(n,r,t[r]);if(dE)for(var r of dE(t))fH.call(t,r)&&jh(n,r,t[r]);return n},pH=(n,t)=>uH(n,cH(t)),nl=(n,t,r)=>(jh(n,typeof t!="symbol"?t+"":t,r),r),id=(n,t,r)=>new Promise((i,s)=>{var M=U=>{try{j(r.next(U))}catch(q){s(q)}},k=U=>{try{j(r.throw(U))}catch(q){s(q)}},j=U=>U.done?i(U.value):Promise.resolve(U.value).then(M,k);j((r=r.apply(n,t)).next())});class fE extends e.Component{constructor(t,r){super(t,r),nl(this,"updateSubscribeTakeover",()=>{const s=this.props.publication.id,M=`pub-${s}-subscribe-prompt-next-shown-at`,k=`pub-${s}-takeover-next-shown-at`,j=(0,xi.mM)(k),U=!j||Date.now()>=j;(0,y.isWindowVisible)()?this.state.subscribeTakeOverTimer&&(U&&Date.now()-this.state.subscribeTakeOverTimer>=2*60*1e3&&this.setState({showSubscribeTakeover:!0}),this.setState({subscribeTakeOverTimer:null}),(0,xi.ex)(M,Tr()().add(1,"hour").valueOf()),(0,xi.ex)(k,Tr()().add(1,"hour").valueOf())):this.state.subscribeTakeOverTimer||this.setState({subscribeTakeOverTimer:new Date})}),nl(this,"onChangeComment",s=>{this.setState({comments:kl(this.state.comments,s)})}),nl(this,"onVisible",s=>{const M=`${s} Seen`;this.state.post&&(this.state[M]||(this.setState({[M]:!0}),(0,D.j)(M,{post_id:this.state.post.id,post_audience:this.state.post.audience,post_type:this.state.post.type})))}),nl(this,"_inlineComments",()=>{const{inlineComments:s,publication:M}=this.props;return s||(0,Ne.shouldUseInlineComments)(M,this.state.post||this.props.post)}),nl(this,"fillEmbeddedEmailInputs",()=>{var s;const M=document.querySelectorAll('article.post input[type="email"]'),k=((s=this.state.user)==null?void 0:s.email)||this.props.freeSignupEmail;if(k)for(const j of M)j.value=k;this.setState({embeddedEmailInputsFilled:!0})});let{user:i}=t;t.postPreview&&(i=pH(hH({},i),{is_draft:!1,is_subscribed:t.postPreview!=="free",is_founding:t.postPreview==="founding"})),t.post&&[t.post.slug,t.post.uuid].filter(s=>s).includes(t.slug)&&!this.shouldRedirectToComments(t.post)?this.state={post:t.post,comments:t.renderedComments,user:i}:this.state={post:null,comments:null,user:i}}componentDidMount(){return id(this,null,function*(){(0,y.scrollToHash)(),this.cleanUpTikTokEnhanceListener=yh();const t=this.props.post&&[this.props.post.slug,this.props.post.uuid].filter(r=>r).includes(this.props.slug)&&this.props.post;this.shouldRedirectToComments(t)?this.redirectToComments(t):this.state.post||(yield this.loadPost()),this.triggerShareOnLoad(),this.fillEmbeddedEmailInputs(),this.props.justPublished&&((0,y.removeQueryParam)("justPublished"),(0,y.preloadImage)(zf(this.props.publication,this.props.post)[0])),(this.props.embeddedPostPublications||this.props.embeddedPostPublications==="")&&(0,y.removeQueryParam)("embeddedPostPublications"),this.props.autoSharedOnTwitter&&(0,y.removeQueryParam)("autoSharedOnTwitter"),this.props.showRestackModal&&(0,y.removeQueryParam)("showRestackModal"),this.props.action&&(0,y.removeQueryParam)("action"),this.props.showWelcome||(0,y.onWindowVisibilityChange)(this.updateSubscribeTakeover),this.props.selectionFromQuery&&aH(this.props.selectionFromQuery)})}componentWillUnmount(){var t;(t=this.cleanUpTikTokEnhanceListener)==null||t.call(this),(0,y.offWindowVisibilityChange)(this.updateSubscribeTakeover)}componentDidUpdate(t){return id(this,null,function*(){t.slug!==this.props.slug&&this.loadPost(),this.state.embeddedEmailInputsFilled||this.fillEmbeddedEmailInputs()})}shouldRedirectToComments(t){if(t&&t.type==="thread")return!0}redirectToComments(t){(0,g.route)((0,v.getPostUrl)(this.props.publication,t,{comments:!0,noBase:!0}),!0)}loadPost(){return id(this,null,function*(){if(this.setState({embeddedEmailInputsFilled:!1}),this.props.post&&[this.props.post.slug,this.props.post.uuid].filter(t=>t).includes(this.props.slug)&&!this.shouldRedirectToComments(this.props.post))this.setState({post:this.props.post,comments:this.props.renderedComments},()=>(0,y.scrollToHash)());else{this.setState({post:null,comments:null});try{const t=yield ge().get(`/api/v1/posts/${this.props.slug}`).query({postPreview:this.props.postPreview});this.shouldRedirectToComments(t.body)?this.redirectToComments(t.body):(yield(0,y.setState)(this,{post:t.body,comments:t.body.comments}),(0,y.scrollToHash)())}catch(t){console.error("Failed to load post:",t),t.status===404?this.setState({notFound:!0}):alert((0,y.getNetworkErrorMessage)(t))}}})}triggerShareOnLoad(){if((0,v.getQueryItem)("action")==="share")window.history.replaceState({},document.title,(0,v.updateQuery)({action:null}));else return;this.post&&this.post.triggerShare({fromEmail:!0})}render({slug:t,freeSignup:r,freeSignupEmail:i,publication:s,reaction_token:M,hide_intro_popup:k,freewallVariant:j,unlock:U,sort:q,search:Pe,children:Me,showWelcome:xe,justPublished:Ve,autoSharedOnTwitter:qe,readerIsSearchCrawler:Ge,postPreview:ut,truncatedPost:bt,selectionFromQuery:Pt,embeddedPublications:At,siteConfigs:Lt={},freeTrialCoupon:Dt,showRestackModal:Ht,action:on,publicationSettings:hn,show_reaction_upsell:an,stripe_publishable_key:mn,bannedFromNotes:rr},{comments:Gn,notFound:Vn,post:_n,user:jn,showSubscribeTakeover:_r}){const nr=this._inlineComments(),qn=_n!=null&&_n.audience?(0,Xe.userHasFullAccessToPost)(jn,_n):!0,Rn=(jn==null?void 0:jn.is_subscribed)&&qn,Bn=_n&&_n.slug&&_n.slug!=="coming-soon"&&_n.type!=="page",cr=(0,Ne.commentsEnabledForPost)({publication:s,post:_n}),Ln=(0,Ne.showCommentsOnPost)({publication:s,post:_n}),er=Rn||(jn==null?void 0:jn.is_free_subscriber)||r,Sn=(U||(_n==null?void 0:_n.free_unlock_required))&&!er&&["treatment_short","treatment_long"].includes(j),Yt=jn&&jn.is_contributor&&(_n==null?void 0:_n.slug)=="coming-soon"&&!(hn!=null&&hn.seen_coming_soon_explainer);Sn&&(bt?_n.body_html=bt.body_html:_n.truncatedBody&&(_n.body_html=_n.truncatedBody));const ir=(_n==null?void 0:_n.type)==="podcast",Pn=!(_n!=null&&_n.hidden)&&((0,Ne.isUUID)(t)||Rn||Ge||_n&&!(0,Xe.isPaidAudience)(_n.audience)&&!Sn||_n&&!_n.slug&&!Sn),gr=!Pn||(jn==null?void 0:jn.is_contributor)&&_n&&(0,Xe.isPaidAudience)(_n.audience),fr=Ve&&(jn==null?void 0:jn.is_contributor)&&!this.props.publication.invite_only&&!["page"].includes(_n.type);return(0,e.h)("div",null,on==="restack-comment"&&(0,e.h)(gH,{post:_n,pub:s}),(0,e.h)(_H,{pub:s,post:_n}),(xe||_r)&&(0,e.h)(oe,{freeSignup:r,freeSignupEmail:i,user:jn,post:_n,publication:s,hidden:k||Sn}),_n&&s&&(0,e.h)(fW,{user:jn,subdomain:s.subdomain,post:_n}),Yt&&(0,e.h)(PW,null),(0,e.h)("div",{className:u()("single-post-container")},(0,e.h)("div",{className:u()({container:!ir})},(0,e.h)("div",{className:"single-post"},(0,e.h)($f,{post:_n,publication:s,selection:Pt,siteConfigs:Lt}),_n?(0,e.h)(uh,{ref:Nr=>{this.post=Nr},commentsEnabled:cr,postPreview:ut,showComments:Ln,user:jn,post:_n,pub:s,freeSignup:r,freeSignupEmail:i,reaction_token:M,disableSubscribePrompt:xe&&!(k||Sn),paywall:Pn?!1:Sn?{email_form:!0,autoFocus:!1,title:`Subscribe for free to ${s.name} to unlock this ${_n.type==="podcast"?"episode":"post"}`}:!0,noTitleLink:!0,onChange:Nr=>this.setState(Nr),fromPostPage:!0,freeTrialCoupon:Dt,showRestackModal:!!Ht,stripe_publishable_key:mn,readerIsSearchCrawler:Ge}):Vn?(0,e.h)("p",{className:"main-loader"},"Post not found"):(0,e.h)(Ly,{pub:s}),Me)),Bn&&Pn&&[Ln&&!ir&&(0,e.h)(mH,{commentsEnabled:cr,comments:Gn,post:_n,slug:t,user:jn,freeSignup:r,freeSignupEmail:i,publication:s,reaction_token:M,onVisible:this.onVisible,onChangeComment:this.onChangeComment,inlineComments:nr,selectionFromQuery:Pt,onChange:Nr=>this.setState(Nr),bannedFromNotes:rr}),s.has_posts&&(0,e.h)("div",{className:"single-post-section"},(0,e.h)("div",{className:"container"},(0,e.h)(ve,{onVisible:()=>this.onVisible("Top Posts Footer")}),(0,e.h)(sH,{user:jn,freeSignup:r,freeSignupEmail:i,pub:s,maxPosts:!gr&&!Rn&&!(er&&!s.plans)?3:10,filterPosts:Nr=>Nr.id!==_n.id,sort:q,search:Pe,stateInUrl:!0,sortTabs:Nr=>{const $n=Nr.findIndex(Cr=>Cr.id==="top");if($n!==-1)return[Nr[$n]].concat(Nr.filter((Cr,Er)=>Er!==$n))},delayFirstLoad:1e3,source:"post",isBelowTheFold:!0}))),!gr&&[(0,e.h)(ve,{onVisible:()=>this.onVisible("Subscribe Footer")}),(0,e.h)(oH,{publication:s,user:jn,freeSignupEmail:i,freeSignup:r})]],fr?(0,e.h)(YW,{post:_n,autoSharedOnTwitter:qe==="true",publicationTwitterScreenName:s.twitter_screen_name,publication:s,showAfter:At!=null&&At.length?(0,e.h)(rH,{pub:s,pubsToRecommend:At}):null}):null,an?(0,e.h)(r1.hF,{user:jn,pub:s,post:_n}):null))}}class mH extends e.Component{constructor(t,r){super(t,r),nl(this,"modalRef",(0,e.createRef)(null)),this.inputRef=(0,e.createRef)(null),this.handleFocusInput=()=>{this.inputRef.current.focus()},this.state={comments:t.comments,reactionSigninComment:null}}componentDidMount(){document.addEventListener(sh,this.handleFocusInput)}componentWillUnmount(){document.removeEventListener(sh,this.handleFocusInput)}render({commentsEnabled:t,inlineComments:r,post:i,user:s,freeSignup:M,freeSignupEmail:k,publication:j,reaction_token:U,onVisible:q,onChangeComment:Pe,selectionFromQuery:Me,slug:xe,onChange:Ve,bannedFromNotes:qe},{comments:Ge,reactionSigninComment:ut}){if(r)return(0,e.h)("div",null,(0,e.h)("div",{className:"full-container-border"}),(0,e.h)(Xf,{slug:xe,user:s,freeSignupEmail:k,freeSignup:M,post:i,publication:j,post_reaction_token:U,selectionFromQuery:Me,initialComments:Ge,inline:!0,onChange:Ve}));const bt=(Pt,At)=>id(this,null,function*(){return c1({user:s,reactionToken:U,comments:Ge,id:Pt,reacted:At,setComments:Lt=>this.setState({comments:Lt}),onNeedsSignin:Lt=>new Promise(Dt=>this.setState({reactionSigninComment:Lt},()=>this.modalRef.current.open(Dt)))})});return(0,e.h)("div",{className:"single-post-section comments-section"},(0,e.h)("div",{className:"container"},(t||i.comment_count>0)&&(0,e.h)("div",{className:"comments-section-title"},i.comment_count>0?(0,Ne.pluralize)(i.comment_count,"Comment"):"Comments"),(0,e.h)(ve,{onVisible:()=>q("Post Comments Footer")}),t&&(0,e.h)(jl,{user:s,freeSignup:M,freeSignupEmail:k,pub:j,post:i,token:U,ref:this.inputRef,bannedFromNotes:qe}),Ge.length>0&&!t&&(0,e.h)(u1,{post:i}),Ge&&Ge.length>0&&j.community_enabled&&(0,e.h)(Cc,{className:"post-page-root-comment-list",key:`post:${i.id}`,user:s,freeSignup:M,freeSignupEmail:k,pub:j,post:i,comments:Ge,reaction_token:U,onChange:Pe,updateCommentReacted:bt,noRestack:!0}),t&&i.comment_count>(Ge||[]).length&&(0,e.h)("a",{className:"more-comments",href:Bl(i,j)},(0,Ne.pluralize)(i.comment_count-(Ge||[]).length,"more comment"),"\u2026"),ut&&(0,e.h)(Ps.oq,{comment:ut,pub:j,user:s,react:()=>bt(ut.id,!0),modalRef:this.modalRef})))}}const _H=({pub:n,post:t})=>{if(t)return(0,e.h)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:Sd()((0,Td.Rg)(n,t),{json:!0,isScriptContext:!0})}})};function gH({pub:n,post:t}){const r=(0,Au.i3)();return(0,o.d4)(()=>{r.open({restackUrl:(0,v.getPostUrl)(n,t)})},[]),null}var vH=Object.defineProperty,yH=Object.defineProperties,bH=Object.getOwnPropertyDescriptors,hE=Object.getOwnPropertySymbols,PH=Object.prototype.hasOwnProperty,EH=Object.prototype.propertyIsEnumerable,pE=(n,t,r)=>t in n?vH(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,wH=(n,t)=>{for(var r in t||(t={}))PH.call(t,r)&&pE(n,r,t[r]);if(hE)for(var r of hE(t))EH.call(t,r)&&pE(n,r,t[r]);return n},CH=(n,t)=>yH(n,bH(t));const OH=n=>(0,e.h)(x.l,CH(wH({},n),{name:"DownloadIconNoBorder",svgParams:{height:32,width:32}}),(0,e.h)("path",{d:"M23.5 18.5V21.8333C23.5 22.2754 23.3244 22.6993 23.0118 23.0118C22.6993 23.3244 22.2754 23.5 21.8333 23.5H10.1667C9.72464 23.5 9.30072 23.3244 8.98816 23.0118C8.67559 22.6993 8.5 22.2754 8.5 21.8333V18.5",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}),(0,e.h)("path",{d:"M11.8333 14.3335L16 18.5002L20.1667 14.3335",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"}),(0,e.h)("path",{d:"M16 18.5V8.5",stroke:n.stroke||"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"rgba(255,255,255,0)"})),rl={root:"frontend-components-PressKitImage-module__root--ERwr7",tableRoot:"frontend-components-PressKitImage-module__tableRoot--UpSpd",link:"frontend-components-PressKitImage-module__link--rLFgG",image:"frontend-components-PressKitImage-module__image--MPbfI",download:"frontend-components-PressKitImage-module__download--qS9sv",imageLoading:"frontend-components-PressKitImage-module__imageLoading--QMvSN",imageEmail:"frontend-components-PressKitImage-module__imageEmail--AKxV9",text:"frontend-components-PressKitImage-module__text--qms7L"},SH=({pub:n,post:t,style:r,text:i})=>{const[s,M]=(0,o.eJ)("");(0,o.d4)(()=>{M("");const j=(0,v.getPressKitUrl)(n,t,r);(0,y.preloadImage)((0,v.getPressKitUrl)(n,t,r),()=>{M(j)})},[M,n,t,r]);const k=(0,sn.useCallback)(()=>{(0,D.j)(D.FP.WRITER_MEDIA_ASSETS_IMAGE_DOWNLOADED,{post_id:t.id,type:i})},[t,i]);return(0,e.h)("a",{onClick:k,href:s,alt:"Download Image",download:!0,className:rl.link,target:"_blank"},(0,e.h)("div",{className:rl.root},(0,e.h)("div",{className:rl.download},(0,e.h)(OH,{stroke:"#404040",fill:"white"})),!s&&(0,e.h)("div",{className:`${rl.image} ${rl.imageLoading}`,alt:"Loading"},(0,e.h)(Wa.Sv,null)),s&&(0,e.h)("img",{src:s,className:rl.image})))},x$=({pub:n,post:t,style:r,text:i,downloadUrl:s})=>h("table",{className:PressKitCss.tableRoot},h("tr",null,h("td",null,h("a",{href:s||getPressKitUrl(n,t,r),alt:"Download Image",download:!0,target:"_blank",className:PressKitCss.link},h("img",{src:getPressKitUrl(n,t,r),className:PressKitCss.imageEmail})))),h("tr",null,h("td",null,h(EmailButton,{aClassName:"button download",alt:"Download Image",download:!0,target:"_blank",href:s||getPressKitUrl(n,t,r)},h("span",null,"Download"))))),ad=SH,Cs={root:"frontend-main-PressKitPage-module__root--dLeu2",pageTitle:"frontend-main-PressKitPage-module__pageTitle--kpiZE",postTitle:"frontend-main-PressKitPage-module__postTitle--ftake",container:"frontend-main-PressKitPage-module__container--zXRkh",imageContainer:"frontend-main-PressKitPage-module__imageContainer--ha3vh",divider:"frontend-main-PressKitPage-module__divider--RPKz6",text:"frontend-main-PressKitPage-module__text--H7Zpf",textFooter:"frontend-main-PressKitPage-module__textFooter--XdCwH"},TH=n=>{const t=n.themeVariables,r=t.web_bg_color||t.cover_bg_color,i=n.post.cover_image||n.publication.cover_photo_url,[s,M]=(0,o.eJ)("square");return(0,o.d4)(()=>{(0,D.j)(D.FP.WRITER_MEDIA_ASSETS_PAGE_VISITED,{post_id:n.post.id})},[n.post.id]),(0,e.h)("div",{className:Cs.root},(0,e.h)(J.xv.H2,{color:"pub-primary-text",className:Cs.pageTitle},"Media Assets"),(0,e.h)(J.xv.B3,{color:"pub-primary-text",className:Cs.text},"We\u2019ve generated custom images to help you promote your post on other social networks. Download your images and share with a link to your post!"),(0,e.h)(Vt.gu,{label:"Aspect Ratio",name:"aspectRatio",value:s,onChange:M,options:[{value:"square",label:"Square"},{value:"instagram",label:"Instagram"},{value:"stories",label:"Instagram Stories"}],paddingBottom:8,horizontal:!0}),(0,e.h)(me.tu,{justifyContent:"center",className:Cs.container},(0,e.h)("div",{className:Cs.postTitle},(0,e.h)(J.xv.H4,{color:"pub-primary-text"},n.post.title)),(0,e.h)("div",{className:Cs.divider}),(0,e.h)(me.hs,{wrap:"wrap",justifyContent:"space-between"},(0,e.h)(ad,{pub:n.publication,post:n.post,style:{bgColor:r,textColor:t.print_on_web_bg_color||t.cover_print_primary||"#1a1a1a",aspectRatio:s},text:"Background Color"}),t.background_pop&&(0,e.h)(ad,{pub:n.publication,post:n.post,style:{bgColor:t.background_pop,textColor:t.print_on_pop,aspectRatio:s},text:"Accent Color"}),i&&(0,e.h)(ad,{pub:n.publication,post:n.post,style:{bgImage:!0,textColor:"#ffffff",aspectRatio:s},text:"Image"}),r.toLowerCase()!=="#ffffff"?(0,e.h)(ad,{pub:n.publication,post:n.post,style:{bgColor:"#ffffff",textColor:"#404040",aspectRatio:s},text:"Black and White"}):null)),(0,e.h)("div",{className:Cs.textFooter},(0,e.h)(J.xv.B4,{color:"pub-secondary-text"},"These images are generated from your publication theme colors which you can edit in your"," ",(0,e.h)("a",{href:(0,v.getPublishSettingsUrl)(n.publication,{addBase:!0,section:"theme"})},"publication settings")," ","and the social preview which you can edit in your post settings.")))},mE=({sitemapHeader:n,sitemapDescription:t,sitemapLinks:r})=>(0,e.h)("div",{className:"container typography sitemap-page"},(0,y.setMetaData)({title:n,description:t}),(0,e.h)("h1",null,n),(0,e.h)("div",null,r.map(i=>(0,e.h)("p",null,(0,e.h)("a",{className:"sitemap-link",href:i.href,native:!0},i.text))))),_E={container:"frontend-main-setup_all_podcasts-module__container--r2UWH",noPodcasts:"frontend-main-setup_all_podcasts-module__noPodcasts--W7x7E"},ol=wt(6378),IH=({})=>{const{iString:n}=(0,Ke.M1)();return(0,e.h)("div",{className:_E.noPodcasts},n("No podcasts."))},Wh=(n,t,r)=>{let i=n[t.id];return i||(i=(0,v.getPodcatcherSetupUrl)(t,{section:null,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!r||!r.is_free_subscribed,params:{utm_source:"all-podcasts"}})),i},DH=({pub:n,user:t,idToMagicLink:r,openInNewTab:i})=>n.subdomain!=="thebulwark"?null:(0,e.h)(J.xv.B3,{translated:!0,paddingTop:16,paddingBottom:16},(0,e.h)("a",{href:Wh(r!=null?r:{},n,t),target:i?"_blank":void 0,rel:"noopener"},"Click here")," ","to set up your podcast app for everything in one feed."),MH=({pub:n,user:t,idToMagicLink:r={},openInNewTab:i=!1,newFormatting:s=!1})=>{const M=[],{iString:k}=(0,Ke.M1)();ol.isMultiPub(n)?ol.getMultiPubChildPodcasts(n).forEach(Me=>{const xe=Al(Me,Wh(r,Me,t));M.push(xe)}):ol.getSectionPodcasts(n)&&ol.getSectionPodcasts(n).forEach(Me=>{var xe,Ve;if(!ew({pub:n,section:Me}))return;const qe=(0,dl.getSectionPodcastSettings)({pub:n,section:Me});if(!qe.title)return;const Ge={logoUrl:(xe=qe.artUrl)!=null?xe:void 0,mainClickUrl:(0,v.getPodcastLandingUrl)({pub:n,section:Me,addBase:!0}),buttonClickUrl:r[Me.id]||(0,v.getPodcatcherSetupUrl)(n,{section:Me,noSection:!1,addBase:!0,user:null,startAtSubscribeFlow:!t||!t.is_free_subscribed,params:{utm_source:"all-podcasts"}}),name:qe.title,description:(Ve=qe.description)!=null?Ve:"",buttonText:k("Set up podcast")};M.push(Ge)}),q2(n)&&M.push(Al(n,Wh(r,n,t)));const j=Object.keys(r).length>0||!!(t!=null&&t.is_free_subscribed);let U=M.length>1?k("Podcast feeds"):k("Podcast feed");j&&(U=ol.hasMultiplePodcasts(n)?k("Private podcast feeds"):k("Private podcast feed"));const q=(0,e.h)(me.tu,{radius:12,border:"detail",padding:16},ol.hasPodcast(n)?(0,e.h)(e.Fragment,null,(0,e.h)(pc,{showButton:!0,items:M,openInNewTab:i,buttonText:k("Set up podcast")}),(0,e.h)(DH,{pub:n,user:t,idToMagicLink:r,openInNewTab:i})):(0,e.h)(IH,null));return s?(0,e.h)(e.Fragment,null,(0,e.h)(J.xv.H4,{paddingTop:20,paddingBottom:8},U),q):(0,e.h)("div",{className:"container"},(0,e.h)("div",{id:"set-up-podcast"},(0,e.h)(J.xv.H3,{paddingTop:16,paddingBottom:16},U),q))},xH=({pub:n,user:t,idToMagicLink:r,openInNewTab:i=!1})=>(0,e.h)("div",{className:u()("page","typography",_E.container)},(0,e.h)(MH,{pub:n,user:t,idToMagicLink:r,openInNewTab:i}));function AH({slug:n,pub:t,user:r,freeSignup:i,freeSignupEmail:s,tagPagePreloads:M}){var k,j;const U=!!(t!=null&&t.theme),q=(0,so.ib)({pathname:`/api/v1/publication/post-tag/slug/${n}`,auto:(M==null?void 0:M.slug)!==n,initialResult:(M==null?void 0:M.slug)===n?M.postTag:null,deps:[M,n]});return(0,e.h)(C.ze,{value:{hasThemedBackground:U}},(0,e.h)("div",{className:u()("archive-page typography",{"use-theme-bg":U})},(0,e.h)("div",{className:"container"},q.isLoading?(0,e.h)("p",{className:"main-loader"},"Loading.."):(0,e.h)(e.Fragment,null,(0,e.h)("h2",null,((k=q.result)==null?void 0:k.name)||"Page not found"),(0,e.h)(fh,{user:r,freeSignup:i,freeSignupEmail:s,pub:t,sort:"new",postTagId:(j=q.result)==null?void 0:j.id,newPosts:(M==null?void 0:M.slug)===n?M.posts:null,source:"tag-archive"})))))}var NH=Object.defineProperty,gE=Object.getOwnPropertySymbols,RH=Object.prototype.hasOwnProperty,LH=Object.prototype.propertyIsEnumerable,vE=(n,t,r)=>t in n?NH(n,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[t]=r,du=(n,t)=>{for(var r in t||(t={}))RH.call(t,r)&&vE(n,r,t[r]);if(gE)for(var r of gE(t))LH.call(t,r)&&vE(n,r,t[r]);return n};const kH=1e3*60*60*24,yE="domain-redirect-time";class BH extends e.Component{constructor(t,r){super(t,r),this.state=t.initialData||{}}componentDidUpdate(t,r){var i,s,M,k;this.props.initialData&&JSON.stringify(this.props.initialData)!==JSON.stringify(this.state)&&this.setState(du({},this.props.initialData));const j=(s=(i=this.state.pub)==null?void 0:i.theme)==null?void 0:s.web_bg_color,U=document.documentElement;U&&j&&((k=(M=r==null?void 0:r.pub)==null?void 0:M.theme)==null?void 0:k.web_bg_color)!==j&&(U.style.background=j)}componentDidMount(){var t,r,i,s;const M=(s=(i=(r=(t=this.props)==null?void 0:t.initialData)==null?void 0:r.pub)==null?void 0:i.theme)==null?void 0:s.web_bg_color,k=document.documentElement;k&&M&&(k.style.background=M);const j=this.loadedWithLikelyLoggedInParam()?"param":null;j&&!this.shouldBlockLoginRedirect()?this.attemptLoginRedirect({source:j}):this.useIframe()&&window.addEventListener("message",U=>this.handleFrameMessage(U))}shouldBlockLoginRedirect(){var t;const r=parseInt((0,xi.mM)(yE,0));return this.state.block_auto_login||!((t=this.state.pub)!=null&&t.custom_domain)||this.state.user||typeof window=="undefined"||Date.now()-r<=kH||(0,v.parseQuery)(window.location.toString()).hasOwnProperty("triedSigningIn")}handleFrameMessage(t){var r,i,s;if(((r=t.data)==null?void 0:r.type)!=="frame-state")return;const M=!this.shouldBlockLoginRedirect()&&((i=t.data)==null?void 0:i.loggedInAtSubstack);(0,D.j)(D.FP.FRAME_MESSAGE_HANDLED,{loggedInAtSubstack:(s=t.data)==null?void 0:s.loggedInAtSubstack,loggedInAtCustomDomain:!!this.state.user,attemptRedirect:M}),M&&this.attemptLoginRedirect({source:"cookie"})}attemptLoginRedirect({source:t}={}){(0,D.j)(D.FP.CUSTOM_DOMAIN_LOGIN_REDIRECT_ATTEMPTED,{fromParam:t==="param",source:t}),(0,xi.ex)(yE,`${Date.now()}`),location.href=(0,y.getLoginRedirect)({justTrying:!0,useOriginalUrl:!0})}loadedWithLikelyLoggedInParam(){return typeof window!="undefined"&&window._preloads.original_url&&!!(0,v.parseQuery)(window._preloads.original_url).hasOwnProperty("lli")}useIframe(){var t,r;return!(typeof window=="undefined"||this.loadedWithLikelyLoggedInParam()||!((t=this.state.pub)!=null&&t.custom_domain)||(0,v.urlIsRegularlyShownInIframe)((r=window==null?void 0:window.location)==null?void 0:r.href))}render({coupon:t},{pub:r,section:i,user:s,userProfile:M,freeSignup:k,freeSignupEmail:j,posts:U,post:q,truncatedPost:Pe,pinnedPosts:Me,newPosts:xe,topPosts:Ve,contentBlocks:qe,communityPosts:Ge,communityAction:ut,searchPosts:bt,contentBlockSectionsById:Pt,contentBlockPostTagsById:At,contributors:Lt,postsByGroupId:Dt,postsBySectionId:Ht,postsByTagId:on,inlineComments:hn,latestChildPosts:an,latestSectionPosts:mn,subscribeContent:rr,homepageLinks:Gn,recommendations:Vn,numRecommendations:_n,allSubscribedPubs:jn,fullySubscribedPubs:_r,sitemapHeader:nr,sitemapDescription:qn,sitemapLinks:Rn,referralCode:Bn,hide_intro_popup:cr,post_reaction_token:Ln,stripe_publishable_key:er,viral_gift_data:qt,campaign:Sn,referralCampaign:Yt,file:ir,primaryEligiblePublications:Pn,flagged_as_spam:gr,switchAccountRedirectUrl:fr,readerIsSearchCrawler:Nr,commentId:$n,selectionFromQuery:Cr,siteConfigs:Er={},blurbs:kr,noBalanceHeroText:fo,embeddedPublications:ao,themeVariables:mo,subdomainNotFound:_i,freeTrialCoupon:Ro,signupForFreeVariant:ga,people:va,useNewSubscribePage:Ri,idToMagicLink:to,token:ni,podcast_rss_url:fu,publicationSettings:Ta,pledgePlans:Qi,isChatActive:hu,isMeetingsActive:Os,optOutLegacyTheming:Hh,meetingsOrder:pu,meetingsSettings:mu,appModalOpenByDefault:ro,twitterCardUrl:vo,tagPagePreloads:Wo,initialComments:Qo,bannedFromNotes:Ho,intro_text:ya,crossPostedPub:Ia,crossPostingByLine:ts,userWithCrossPostedPubContext:il,crossPostedPublicationSettings:fa,crossPostedSiteConfig:ba}){var sd;const _u=_()(this.state.comments)?this.state.comments:[];if(_i)return(0,e.h)(uW,{subdomain:_i});if(gr&&!(s!=null&&s.is_global_admin))return(0,e.h)("div",{className:"page typography signup-page",path:"/flagged"},(0,y.setMetaData)({title:"Flagged as TOS violation"}),(0,e.h)("div",{className:"container"},(0,e.h)("h2",null,"Publication Not Available"),(0,e.h)("p",null,"The page you are attempting to access is unavailable."," ",(0,e.h)("a",{href:`${(0,v.getBaseUrl)()}`,native:!0},"Click here")," ","to view some more great writing."),(0,e.h)("p",null,(0,e.h)("a",{href:(0,v.getBaseUrl)(),className:"button primary"},"Go to substack.com"))));const gu=!!(r!=null&&r.theme&&!Hh),Vh=(0,g.getCurrentUrl)().startsWith("/chat");return(0,e.h)(Dw,{pub:r,user:s,siteConfigs:Er,hasThemedBackground:gu,language:this.state.language,country:this.state.country,experimentInfo:this.props.initialData,publicationSettings:Ta},(0,e.h)(W6,{publication:r,twitterCardUrl:vo}),(0,e.h)(UH,{user:s}),(0,e.h)(FH,{user:s,pub:r}),(0,e.h)(jH,null),(0,e.h)("div",{className:u()("main typography",{"use-theme-bg":gu,"should-flex":Vh}),id:"main"},this.useIframe()&&(0,e.h)("iframe",{src:`${(0,v.getSubstackUrl)()}/channel-frame`,className:"channel-frame",width:"0",height:"0"}),(0,e.h)(E.qE,{path:"/"},({path:No})=>{var bE,PE;let qi="/home";/^\/about\b/.test(No)?qi="/about":/^\/notes\b/.test(No)?qi="/notes":/^\/leaderboard\b/.test(No)?qi="/leaderboard":/^\/chat\b/.test(No)?qi="/chat":/^\/podcast\b/.test(No)?qi="/podcast":/^\/archive\b/.test(No)?qi="/archive":/^\/newsletters\b/.test(No)?qi="/newsletters":/^\/recommendations\b/.test(No)?qi="/recommendations":/^\/listen\b/.test(No)?qi="/listen":i?qi=i.id:/^\/p\//.test(No)?qi=((bE=/^\/p\/([^/?#]+)/.exec(No))==null?void 0:bE[0])||"/p":/^\/t\//.test(No)&&(qi=((PE=/^\/t\/([^/?#]+)/.exec(No))==null?void 0:PE[0])||"/p");let vu;typeof window!="undefined"&&window.location.search&&(vu=(0,v.parseQuery)(window.location.search));const EE=/^\/p\/([^/?#]*)/.exec(No),wE=EE&&!((q==null?void 0:q.type)==="page"&&q.slug===EE[1]),CE=No.startsWith("/subscribe")||No.startsWith("/finish-invite")||No.startsWith("/meetings"),WH=No.startsWith("/chat/posts/");return i?(0,e.h)(xu,{pub:r,user:s,freeSignup:k,freeSignupEmail:j,hide_subscribe_cta:No.startsWith("/subscribe"),selectedSectionId:qi,isPostView:wE,showCustomerSupportModeModal:!!(vu!=null&&vu.showCustomerSupportModeModal),lowChrome:CE,numRecommendations:_n,isChatActive:hu,isMeetingsActive:Os,signupForFreeVariant:ga}):!["welcome","embed","meetings"].some(HH=>No.startsWith(`/${HH}`))&&!(No.startsWith("/subscribe")&&(Ri||Qi))&&(0,e.h)(xu,{pub:r,user:s,freeSignup:k,freeSignupEmail:j,hide_subscribe_cta:No.startsWith("/subscribe"),isPostView:wE,selectedSectionId:qi,showCustomerSupportModeModal:!!(vu!=null&&vu.showCustomerSupportModeModal),lowChrome:CE,numRecommendations:_n,isChatActive:hu,isMeetingsActive:Os,signupForFreeVariant:ga,hideSections:WH})}),(0,e.h)(cs.g1,{pub:r,user:s}),(0,e.h)(g.Router,{onChange:$w},["newspaper","magaziney"].includes(r.homepage_type)?(0,e.h)(oj,{path:"/",blurbs:kr,bodyPostGroups:(sd=r.theme)==null?void 0:sd.body_post_groups,contentBlocks:qe!=null?qe:[],freeSignup:k,freeSignupEmail:j,hide_intro_popup:cr,homepageLinks:Gn,contentBlockSectionsById:Pt!=null?Pt:{},contentBlockPostTagsById:At!=null?At:{},contributors:Lt,latestChildPosts:an,latestSectionPosts:mn,newPosts:xe,noBalanceHeroText:fo,numRecommendations:_n,pinnedPosts:Me,postsByGroupId:Dt,postsBySectionId:Ht,postsByTagId:on,pub:r,recommendations:Vn,referralCampaign:Yt,referralCode:Bn,topPosts:Ve,user:s}):(0,e.h)(Ck,{path:"/",user:s,freeSignupEmail:j,freeSignup:k,hide_intro_popup:cr,preloadedPosts:U,pub:r,blurbs:kr,noBalanceHeroText:fo}),(0,e.h)(Rh,{path:"/listen/:sectionSlug",blurbs:kr,user:s,freeSignupEmail:j,freeSignup:k,hide_intro_popup:cr,pub:r,pinnedPosts:Me,newPosts:xe,latestChildPosts:an,latestSectionPosts:mn,section:r.section,referralCampaign:Yt,isPodcast:!0}),(0,e.h)(Rh,{path:"/podcast",blurbs:kr,user:s,freeSignupEmail:j,freeSignup:k,hide_intro_popup:cr,pub:r,pinnedPosts:Me,newPosts:xe,latestChildPosts:an,latestSectionPosts:mn,recommendations:Vn,numRecommendations:_n,referralCampaign:Yt,isPodcast:!0,includePinnedPosts:!0}),(0,e.h)(ql,{path:"/podcast/archive",blurbs:kr,user:s,newPosts:xe,topPosts:Ve,communityPosts:Ge,searchPosts:bt,pub:r,freeSignupEmail:j,freeSignup:k,isPodcast:!0,metadata:du({title:`Podcast Archive - ${r.name}`,description:`Full archive of all the episodes from ${r.name}.`},!!(bt||(0,v.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(Rh,{path:"/s/:slug",blurbs:kr,user:s,freeSignupEmail:j,freeSignup:k,hide_intro_popup:cr,pub:r,pinnedPosts:Me,newPosts:xe,latestChildPosts:an,latestSectionPosts:mn,section:r.section,referralCampaign:Yt}),(0,e.h)(ql,{path:"/archive",user:s,newPosts:xe,topPosts:Ve,communityPosts:Ge,searchPosts:bt,pub:r,freeSignupEmail:j,freeSignup:k,metadata:du({title:`Archive - ${r.name}`,description:`Full archive of all the posts from ${r.name}.`},!!(bt||(0,v.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(ql,{path:"/s/:slug/archive",user:s,newPosts:xe,topPosts:Ve,communityPosts:Ge,searchPosts:bt,pub:r,freeSignupEmail:j,freeSignup:k,sectionId:i==null?void 0:i.id,metadata:du({title:`Archive - ${i==null?void 0:i.name} of ${r.name}`,description:`Full archive of all the posts from ${i==null?void 0:i.name} of ${r.name}.`},!!(bt||(0,v.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(ql,{path:"/listen/:sectionSlug/archive/",user:s,newPosts:xe,topPosts:Ve,communityPosts:Ge,searchPosts:bt,pub:r,freeSignupEmail:j,freeSignup:k,sectionId:i==null?void 0:i.id,metadata:du({title:`Podcast Archive - ${(0,dl.getSectionPodcastSettings)({pub:r,section:r.section}).title}`,description:`Full archive of all the episodes from ${(0,dl.getSectionPodcastSettings)({pub:r,section:r.section}).title}.`},!!(bt||(0,v.getQueryItem)("search"))&&{seoProps:{noindex:!0}})}),(0,e.h)(AH,{path:"/t/:slug",user:s,freeSignupEmail:j,freeSignup:k,pub:r,tagPagePreloads:Wo}),(0,e.h)(ql,{default:!0,title:"Page not found",user:s,newPosts:xe,topPosts:Ve,communityPosts:Ge,searchPosts:bt,pub:r,freeSignupEmail:j,freeSignup:k}),(0,e.h)(Be,{path:"/tos",html:r.tos_content_html||"Terms of Service",metadata:{title:"Terms of Service"}},(0,e.h)("p",null,"You agree to the terms of service below, and the"," ",(0,e.h)("a",{href:"https://substack.com/tos",native:!0},"Terms of Use for Substack"),", the technology provider.")),(0,e.h)(Be,{path:"/privacy",html:r.privacy_content_html||"Privacy Policy",metadata:{title:"Privacy Policy"}},(0,e.h)("p",null,"You agree to the privacy policy below, and the"," ",(0,e.h)("a",{href:(0,v.getPrivacyUrl)(),native:!0},"Privacy Policy for Substack"),", the technology provider.")),(0,e.h)(Be,{path:"/disclosures",html:r.disclosures_content_html||"Disclosures",metadata:{title:"Disclosures"}}),(0,e.h)(oe,{path:"/welcome",publication:r,post:null,user:s,freeSignup:k,freeSignupEmail:j,alwaysShow:!0,onHide:()=>{document.location.href="/"}}),(0,e.h)(oe,{path:"/podcast",publication:r,post:null,referralCode:Bn,user:s,freeSignup:k,freeSignupEmail:j,coupon:t,alwaysShow:!0,onHide:()=>{document.location.href="/"}}),(0,e.h)(uj,{pub:r,path:"/invite",user:s,freeSignup:k,freeSignupEmail:j}),(0,e.h)(dj,{path:"/invite-success/:id",pub:r,user:s,post:q,freeSignup:k,freeSignupEmail:j}),(0,e.h)(cj,{path:"/invite-reject-success/:id",pub:r,user:s,post:q}),(0,e.h)(Ph,{path:"/finish-invite/:id",pub:r,user:s,freeSignup:k,freeSignupEmail:j}),(0,e.h)(Ph,{path:"/finish-post-invite/:id",pub:r,post:q,user:s,freeSignup:k,freeSignupEmail:j,inviteToPost:!0,primaryEligiblePublications:Pn||[],switchAccountRedirectUrl:fr}),(0,e.h)(SU,{path:"/recommendations",pub:r,user:s,recommendations:Vn,allSubscribedPubs:jn,fullySubscribedPubs:_r}),(0,e.h)(mE,{path:"/sitemap",pub:r,sitemapHeader:nr,sitemapDescription:qn,sitemapLinks:Rn}),(0,e.h)(mE,{path:"/sitemap/:year",pub:r,sitemapHeader:nr,sitemapDescription:qn,sitemapLinks:Rn}),(0,e.h)(yx,{path:"/about",pub:r,user:s,freeSignup:k,freeSignupEmail:j,subscribeContent:rr,people:va,metadata:{title:`About - ${r.name}`}}),(0,e.h)(fE,{path:"/p/:slug",user:s,freeSignupEmail:j,freeSignup:k,referralCode:Bn,post:q,truncatedPost:Pe,publication:r,renderedComments:_u,inlineComments:hn,reaction_token:Ln,hide_intro_popup:cr,stripe_publishable_key:er,readerIsSearchCrawler:Nr,selectionFromQuery:Cr,embeddedPublications:ao,siteConfigs:Er,freeTrialCoupon:Ro,publicationSettings:Ta,bannedFromNotes:Ho}),(0,e.h)(Tk,{path:"/cp/:post_id",user:s,freeSignupEmail:j,freeSignup:k,post:q,publication:r,introText:ya,crossPostedPub:Ia,crossPostingByLine:ts,userWithCrossPostedPubContext:il,crossPostedPublicationSettings:fa,crossPostedSiteConfig:ba}),(0,e.h)(xH,{path:"/listen",pub:r,user:s||null,openInNewTab:!0,idToMagicLink:to}),(0,e.h)(Tw,{path:"/newsletters",pub:r,user:s!=null?s:null}),(0,e.h)(TH,{path:"/p/:slug/media-assets",post:q,publication:r,themeVariables:mo}),hn?(0,e.h)(fE,{path:"/p/:slug/comments",user:s,freeSignupEmail:j,freeSignup:k,referralCode:Bn,post:q,truncatedPost:Pe,publication:r,renderedComments:_u,inlineComments:hn,reaction_token:Ln,hide_intro_popup:cr,stripe_publishable_key:er,readerIsSearchCrawler:Nr,selectionFromQuery:Cr,siteConfigs:Er,freeTrialCoupon:Ro,bannedFromNotes:Ho}):(0,e.h)(Xf,{path:"/p/:slug/comments",user:s,freeSignupEmail:j,freeSignup:k,post:q,publication:r,post_reaction_token:Ln,commentId:$n,freeTrialCoupon:Ro,initialComments:Qo,bannedFromNotes:Ho}),!hn&&(0,e.h)(Xf,{path:"/p/:slug/comment/:comment_id",user:s,freeSignupEmail:j,freeSignup:k,post:q,publication:r,post_reaction_token:Ln,commentId:$n,freeTrialCoupon:Ro,initialComments:Qo,bannedFromNotes:Ho}),(0,e.h)(dB,{path:"/rewards/receive",pub:r,user:s,freeSignupEmail:j,viral_gift_data:qt}),(0,e.h)(Ik,{path:"/embed",pub:r,user:s,freeSignup:k,freeSignupEmail:j}),(0,e.h)(xk,{path:"/embed/test",pub:r,user:s,freeSignup:k,freeSignupEmail:j}),(0,e.h)(Mk,{path:"/embed/podcast/:slug",pub:r}),(0,e.h)(Nk,{path:"/embed/video/:slug",pub:r}),(0,e.h)(aB,{path:"/f/:fileId",pub:r,user:s,hide_subscribe_cta:!0,file:ir}),Er.live_events&&(0,e.h)(sl.cr,{module:"../live_events",onRequest:()=>Promise.all([wt.e(968),wt.e(829)]).then(wt.bind(wt,20829)),resolve:No=>No.LiveEventPage,path:"/live_event/:eventId/:participantType",pub:r,user:s}),(0,e.h)(qS,{path:"/chat",publication:r,user:s}),(0,e.h)(eT,{path:"/chat/posts/:postId",publication:r,communityAction:ut,user:s,appModalOpenByDefault:ro}),(0,e.h)(tT,{path:"/chat/replies/:commentId",publication:r,communityAction:ut,user:s,appModalOpenByDefault:ro}),Er.meetings_v1&&(Os||(s==null?void 0:s.is_author))&&(0,e.h)(Dj,{path:"/meetings",exact:!0,pub:r,user:s,settings:mu}),Er.meetings_v1&&(Os||(s==null?void 0:s.is_author))&&(0,e.h)(VP,{path:"/meetings/book",pub:r,user:s,stripe_publishable_key:er,order:pu,settings:mu}),Er.meetings_v1&&(pu||Os||(s==null?void 0:s.is_author))&&(0,e.h)(VP,{path:"/meetings/book/:order_id?",pub:r,user:s,stripe_publishable_key:er,order:pu,settings:mu}),Er.subscriber_referrals_enabled&&(0,e.h)(Sj,{pub:r,user:s,path:"/leaderboard"}),(0,e.h)(Mw,{path:"/notes"})),(0,e.h)(E.qE,{path:"/"},({path:No})=>!No.startsWith("/welcome")&&!No.startsWith("/embed")&&!No.startsWith("/subscribe")&&!No.startsWith("/meetings")&&!No.startsWith("/chat")&&(0,e.h)(Oe,{publication:r,user:s,showIntrinioAttrib:q&&q.hasCashtag,path:No})),(0,e.h)(a,{pub:r,user:s})))}}function UH({user:n}){const t=(0,jp.S)({user:n});return(0,o.d4)(()=>{const r=new URLSearchParams(location.search);if(r.get("reaction")==="\u2764"){t(),r.delete("reaction");const i=r.toString();history.replaceState({},document.title,location.pathname+(i&&`?${i}`))}},[]),null}function FH({user:n,pub:t}){return Hw({user:n,pub:t}),null}function jH(){return Fw(),null}(0,z.Z)(BH)})()})()});ZH();})();

//# sourceMappingURL=main.c2681205a6f1cf9016ed.bundle.js.map